var Cu=Object.defineProperty;var Pu=(_e,et,rt)=>et in _e?Cu(_e,et,{enumerable:!0,configurable:!0,writable:!0,value:rt}):_e[et]=rt;var sn=(_e,et,rt)=>Pu(_e,typeof et!="symbol"?et+"":et,rt);function _mergeNamespaces(_e,et){for(var rt=0;rt<et.length;rt++){const nt=et[rt];if(typeof nt!="string"&&!Array.isArray(nt)){for(const st in nt)if(st!=="default"&&!(st in _e)){const it=Object.getOwnPropertyDescriptor(nt,st);it&&Object.defineProperty(_e,st,it.get?it:{enumerable:!0,get:()=>nt[st]})}}}return Object.freeze(Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"}))}(function(){const et=document.createElement("link").relList;if(et&&et.supports&&et.supports("modulepreload"))return;for(const st of document.querySelectorAll('link[rel="modulepreload"]'))nt(st);new MutationObserver(st=>{for(const it of st)if(it.type==="childList")for(const at of it.addedNodes)at.tagName==="LINK"&&at.rel==="modulepreload"&&nt(at)}).observe(document,{childList:!0,subtree:!0});function rt(st){const it={};return st.integrity&&(it.integrity=st.integrity),st.referrerPolicy&&(it.referrerPolicy=st.referrerPolicy),st.crossOrigin==="use-credentials"?it.credentials="include":st.crossOrigin==="anonymous"?it.credentials="omit":it.credentials="same-origin",it}function nt(st){if(st.ep)return;st.ep=!0;const it=rt(st);fetch(st.href,it)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(_e){return _e&&_e.__esModule&&Object.prototype.hasOwnProperty.call(_e,"default")?_e.default:_e}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$8=Symbol.for("react.element"),n$b=Symbol.for("react.portal"),p$8=Symbol.for("react.fragment"),q$2=Symbol.for("react.strict_mode"),r$7=Symbol.for("react.profiler"),t$8=Symbol.for("react.provider"),u$a=Symbol.for("react.context"),v$6=Symbol.for("react.forward_ref"),w$8=Symbol.for("react.suspense"),x$6=Symbol.for("react.memo"),y$4=Symbol.for("react.lazy"),z$2=Symbol.iterator;function A$4(_e){return _e===null||typeof _e!="object"?null:(_e=z$2&&_e[z$2]||_e["@@iterator"],typeof _e=="function"?_e:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$7=Object.assign,D$5={};function E$4(_e,et,rt){this.props=_e,this.context=et,this.refs=D$5,this.updater=rt||B$1}E$4.prototype.isReactComponent={};E$4.prototype.setState=function(_e,et){if(typeof _e!="object"&&typeof _e!="function"&&_e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_e,et,"setState")};E$4.prototype.forceUpdate=function(_e){this.updater.enqueueForceUpdate(this,_e,"forceUpdate")};function F$2(){}F$2.prototype=E$4.prototype;function G$3(_e,et,rt){this.props=_e,this.context=et,this.refs=D$5,this.updater=rt||B$1}var H$5=G$3.prototype=new F$2;H$5.constructor=G$3;C$7(H$5,E$4.prototype);H$5.isPureReactComponent=!0;var I$7=Array.isArray,J$1=Object.prototype.hasOwnProperty,K$2={current:null},L$4={key:!0,ref:!0,__self:!0,__source:!0};function M$4(_e,et,rt){var nt,st={},it=null,at=null;if(et!=null)for(nt in et.ref!==void 0&&(at=et.ref),et.key!==void 0&&(it=""+et.key),et)J$1.call(et,nt)&&!L$4.hasOwnProperty(nt)&&(st[nt]=et[nt]);var ot=arguments.length-2;if(ot===1)st.children=rt;else if(1<ot){for(var lt=Array(ot),ct=0;ct<ot;ct++)lt[ct]=arguments[ct+2];st.children=lt}if(_e&&_e.defaultProps)for(nt in ot=_e.defaultProps,ot)st[nt]===void 0&&(st[nt]=ot[nt]);return{$$typeof:l$8,type:_e,key:it,ref:at,props:st,_owner:K$2.current}}function N$3(_e,et){return{$$typeof:l$8,type:_e.type,key:et,ref:_e.ref,props:_e.props,_owner:_e._owner}}function O$4(_e){return typeof _e=="object"&&_e!==null&&_e.$$typeof===l$8}function escape(_e){var et={"=":"=0",":":"=2"};return"$"+_e.replace(/[=:]/g,function(rt){return et[rt]})}var P$5=/\/+/g;function Q$2(_e,et){return typeof _e=="object"&&_e!==null&&_e.key!=null?escape(""+_e.key):et.toString(36)}function R$1(_e,et,rt,nt,st){var it=typeof _e;(it==="undefined"||it==="boolean")&&(_e=null);var at=!1;if(_e===null)at=!0;else switch(it){case"string":case"number":at=!0;break;case"object":switch(_e.$$typeof){case l$8:case n$b:at=!0}}if(at)return at=_e,st=st(at),_e=nt===""?"."+Q$2(at,0):nt,I$7(st)?(rt="",_e!=null&&(rt=_e.replace(P$5,"$&/")+"/"),R$1(st,et,rt,"",function(ct){return ct})):st!=null&&(O$4(st)&&(st=N$3(st,rt+(!st.key||at&&at.key===st.key?"":(""+st.key).replace(P$5,"$&/")+"/")+_e)),et.push(st)),1;if(at=0,nt=nt===""?".":nt+":",I$7(_e))for(var ot=0;ot<_e.length;ot++){it=_e[ot];var lt=nt+Q$2(it,ot);at+=R$1(it,et,rt,lt,st)}else if(lt=A$4(_e),typeof lt=="function")for(_e=lt.call(_e),ot=0;!(it=_e.next()).done;)it=it.value,lt=nt+Q$2(it,ot++),at+=R$1(it,et,rt,lt,st);else if(it==="object")throw et=String(_e),Error("Objects are not valid as a React child (found: "+(et==="[object Object]"?"object with keys {"+Object.keys(_e).join(", ")+"}":et)+"). If you meant to render a collection of children, use an array instead.");return at}function S$8(_e,et,rt){if(_e==null)return _e;var nt=[],st=0;return R$1(_e,nt,"","",function(it){return et.call(rt,it,st++)}),nt}function T$5(_e){if(_e._status===-1){var et=_e._result;et=et(),et.then(function(rt){(_e._status===0||_e._status===-1)&&(_e._status=1,_e._result=rt)},function(rt){(_e._status===0||_e._status===-1)&&(_e._status=2,_e._result=rt)}),_e._status===-1&&(_e._status=0,_e._result=et)}if(_e._status===1)return _e._result.default;throw _e._result}var U$2={current:null},V$3={transition:null},W$3={ReactCurrentDispatcher:U$2,ReactCurrentBatchConfig:V$3,ReactCurrentOwner:K$2};function X$4(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$8,forEach:function(_e,et,rt){S$8(_e,function(){et.apply(this,arguments)},rt)},count:function(_e){var et=0;return S$8(_e,function(){et++}),et},toArray:function(_e){return S$8(_e,function(et){return et})||[]},only:function(_e){if(!O$4(_e))throw Error("React.Children.only expected to receive a single React element child.");return _e}};react_production_min.Component=E$4;react_production_min.Fragment=p$8;react_production_min.Profiler=r$7;react_production_min.PureComponent=G$3;react_production_min.StrictMode=q$2;react_production_min.Suspense=w$8;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$3;react_production_min.act=X$4;react_production_min.cloneElement=function(_e,et,rt){if(_e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+_e+".");var nt=C$7({},_e.props),st=_e.key,it=_e.ref,at=_e._owner;if(et!=null){if(et.ref!==void 0&&(it=et.ref,at=K$2.current),et.key!==void 0&&(st=""+et.key),_e.type&&_e.type.defaultProps)var ot=_e.type.defaultProps;for(lt in et)J$1.call(et,lt)&&!L$4.hasOwnProperty(lt)&&(nt[lt]=et[lt]===void 0&&ot!==void 0?ot[lt]:et[lt])}var lt=arguments.length-2;if(lt===1)nt.children=rt;else if(1<lt){ot=Array(lt);for(var ct=0;ct<lt;ct++)ot[ct]=arguments[ct+2];nt.children=ot}return{$$typeof:l$8,type:_e.type,key:st,ref:it,props:nt,_owner:at}};react_production_min.createContext=function(_e){return _e={$$typeof:u$a,_currentValue:_e,_currentValue2:_e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},_e.Provider={$$typeof:t$8,_context:_e},_e.Consumer=_e};react_production_min.createElement=M$4;react_production_min.createFactory=function(_e){var et=M$4.bind(null,_e);return et.type=_e,et};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(_e){return{$$typeof:v$6,render:_e}};react_production_min.isValidElement=O$4;react_production_min.lazy=function(_e){return{$$typeof:y$4,_payload:{_status:-1,_result:_e},_init:T$5}};react_production_min.memo=function(_e,et){return{$$typeof:x$6,type:_e,compare:et===void 0?null:et}};react_production_min.startTransition=function(_e){var et=V$3.transition;V$3.transition={};try{_e()}finally{V$3.transition=et}};react_production_min.unstable_act=X$4;react_production_min.useCallback=function(_e,et){return U$2.current.useCallback(_e,et)};react_production_min.useContext=function(_e){return U$2.current.useContext(_e)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(_e){return U$2.current.useDeferredValue(_e)};react_production_min.useEffect=function(_e,et){return U$2.current.useEffect(_e,et)};react_production_min.useId=function(){return U$2.current.useId()};react_production_min.useImperativeHandle=function(_e,et,rt){return U$2.current.useImperativeHandle(_e,et,rt)};react_production_min.useInsertionEffect=function(_e,et){return U$2.current.useInsertionEffect(_e,et)};react_production_min.useLayoutEffect=function(_e,et){return U$2.current.useLayoutEffect(_e,et)};react_production_min.useMemo=function(_e,et){return U$2.current.useMemo(_e,et)};react_production_min.useReducer=function(_e,et,rt){return U$2.current.useReducer(_e,et,rt)};react_production_min.useRef=function(_e){return U$2.current.useRef(_e)};react_production_min.useState=function(_e){return U$2.current.useState(_e)};react_production_min.useSyncExternalStore=function(_e,et,rt){return U$2.current.useSyncExternalStore(_e,et,rt)};react_production_min.useTransition=function(){return U$2.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React$3=getDefaultExportFromCjs(reactExports),t$7=_mergeNamespaces({__proto__:null,default:React$3},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$a=reactExports,k$5=Symbol.for("react.element"),l$7=Symbol.for("react.fragment"),m$7=Object.prototype.hasOwnProperty,n$a=f$a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$7={key:!0,ref:!0,__self:!0,__source:!0};function q$1(_e,et,rt){var nt,st={},it=null,at=null;rt!==void 0&&(it=""+rt),et.key!==void 0&&(it=""+et.key),et.ref!==void 0&&(at=et.ref);for(nt in et)m$7.call(et,nt)&&!p$7.hasOwnProperty(nt)&&(st[nt]=et[nt]);if(_e&&_e.defaultProps)for(nt in et=_e.defaultProps,et)st[nt]===void 0&&(st[nt]=et[nt]);return{$$typeof:k$5,type:_e,key:it,ref:at,props:st,_owner:n$a.current}}reactJsxRuntime_production_min.Fragment=l$7;reactJsxRuntime_production_min.jsx=q$1;reactJsxRuntime_production_min.jsxs=q$1;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(_e){function et(Pt,It){var At=Pt.length;Pt.push(It);e:for(;0<At;){var Ht=At-1>>>1,Gt=Pt[Ht];if(0<st(Gt,It))Pt[Ht]=It,Pt[At]=Gt,At=Ht;else break e}}function rt(Pt){return Pt.length===0?null:Pt[0]}function nt(Pt){if(Pt.length===0)return null;var It=Pt[0],At=Pt.pop();if(At!==It){Pt[0]=At;e:for(var Ht=0,Gt=Pt.length,Vt=Gt>>>1;Ht<Vt;){var Jt=2*(Ht+1)-1,rr=Pt[Jt],ar=Jt+1,mr=Pt[ar];if(0>st(rr,At))ar<Gt&&0>st(mr,rr)?(Pt[Ht]=mr,Pt[ar]=At,Ht=ar):(Pt[Ht]=rr,Pt[Jt]=At,Ht=Jt);else if(ar<Gt&&0>st(mr,At))Pt[Ht]=mr,Pt[ar]=At,Ht=ar;else break e}}return It}function st(Pt,It){var At=Pt.sortIndex-It.sortIndex;return At!==0?At:Pt.id-It.id}if(typeof performance=="object"&&typeof performance.now=="function"){var it=performance;_e.unstable_now=function(){return it.now()}}else{var at=Date,ot=at.now();_e.unstable_now=function(){return at.now()-ot}}var lt=[],ct=[],ut=1,dt=null,pt=3,mt=!1,xt=!1,yt=!1,vt=typeof setTimeout=="function"?setTimeout:null,gt=typeof clearTimeout=="function"?clearTimeout:null,Et=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function jt(Pt){for(var It=rt(ct);It!==null;){if(It.callback===null)nt(ct);else if(It.startTime<=Pt)nt(ct),It.sortIndex=It.expirationTime,et(lt,It);else break;It=rt(ct)}}function kt(Pt){if(yt=!1,jt(Pt),!xt)if(rt(lt)!==null)xt=!0,Ot(Rt);else{var It=rt(ct);It!==null&&Dt(kt,It.startTime-Pt)}}function Rt(Pt,It){xt=!1,yt&&(yt=!1,gt(Nt),Nt=-1),mt=!0;var At=pt;try{for(jt(It),dt=rt(lt);dt!==null&&(!(dt.expirationTime>It)||Pt&&!Ft());){var Ht=dt.callback;if(typeof Ht=="function"){dt.callback=null,pt=dt.priorityLevel;var Gt=Ht(dt.expirationTime<=It);It=_e.unstable_now(),typeof Gt=="function"?dt.callback=Gt:dt===rt(lt)&&nt(lt),jt(It)}else nt(lt);dt=rt(lt)}if(dt!==null)var Vt=!0;else{var Jt=rt(ct);Jt!==null&&Dt(kt,Jt.startTime-It),Vt=!1}return Vt}finally{dt=null,pt=At,mt=!1}}var St=!1,_t=null,Nt=-1,Lt=5,$t=-1;function Ft(){return!(_e.unstable_now()-$t<Lt)}function Tt(){if(_t!==null){var Pt=_e.unstable_now();$t=Pt;var It=!0;try{It=_t(!0,Pt)}finally{It?Bt():(St=!1,_t=null)}}else St=!1}var Bt;if(typeof Et=="function")Bt=function(){Et(Tt)};else if(typeof MessageChannel<"u"){var Wt=new MessageChannel,qt=Wt.port2;Wt.port1.onmessage=Tt,Bt=function(){qt.postMessage(null)}}else Bt=function(){vt(Tt,0)};function Ot(Pt){_t=Pt,St||(St=!0,Bt())}function Dt(Pt,It){Nt=vt(function(){Pt(_e.unstable_now())},It)}_e.unstable_IdlePriority=5,_e.unstable_ImmediatePriority=1,_e.unstable_LowPriority=4,_e.unstable_NormalPriority=3,_e.unstable_Profiling=null,_e.unstable_UserBlockingPriority=2,_e.unstable_cancelCallback=function(Pt){Pt.callback=null},_e.unstable_continueExecution=function(){xt||mt||(xt=!0,Ot(Rt))},_e.unstable_forceFrameRate=function(Pt){0>Pt||125<Pt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Lt=0<Pt?Math.floor(1e3/Pt):5},_e.unstable_getCurrentPriorityLevel=function(){return pt},_e.unstable_getFirstCallbackNode=function(){return rt(lt)},_e.unstable_next=function(Pt){switch(pt){case 1:case 2:case 3:var It=3;break;default:It=pt}var At=pt;pt=It;try{return Pt()}finally{pt=At}},_e.unstable_pauseExecution=function(){},_e.unstable_requestPaint=function(){},_e.unstable_runWithPriority=function(Pt,It){switch(Pt){case 1:case 2:case 3:case 4:case 5:break;default:Pt=3}var At=pt;pt=Pt;try{return It()}finally{pt=At}},_e.unstable_scheduleCallback=function(Pt,It,At){var Ht=_e.unstable_now();switch(typeof At=="object"&&At!==null?(At=At.delay,At=typeof At=="number"&&0<At?Ht+At:Ht):At=Ht,Pt){case 1:var Gt=-1;break;case 2:Gt=250;break;case 5:Gt=1073741823;break;case 4:Gt=1e4;break;default:Gt=5e3}return Gt=At+Gt,Pt={id:ut++,callback:It,priorityLevel:Pt,startTime:At,expirationTime:Gt,sortIndex:-1},At>Ht?(Pt.sortIndex=At,et(ct,Pt),rt(lt)===null&&Pt===rt(ct)&&(yt?(gt(Nt),Nt=-1):yt=!0,Dt(kt,At-Ht))):(Pt.sortIndex=Gt,et(lt,Pt),xt||mt||(xt=!0,Ot(Rt))),Pt},_e.unstable_shouldYield=Ft,_e.unstable_wrapCallback=function(Pt){var It=pt;return function(){var At=pt;pt=It;try{return Pt.apply(this,arguments)}finally{pt=At}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$6(_e){for(var et="https://reactjs.org/docs/error-decoder.html?invariant="+_e,rt=1;rt<arguments.length;rt++)et+="&args[]="+encodeURIComponent(arguments[rt]);return"Minified React error #"+_e+"; visit "+et+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(_e,et){ha(_e,et),ha(_e+"Capture",et)}function ha(_e,et){for(ea[_e]=et,_e=0;_e<et.length;_e++)da.add(et[_e])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka$1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(_e){return ja.call(ma,_e)?!0:ja.call(la,_e)?!1:ka$1.test(_e)?ma[_e]=!0:(la[_e]=!0,!1)}function pa(_e,et,rt,nt){if(rt!==null&&rt.type===0)return!1;switch(typeof et){case"function":case"symbol":return!0;case"boolean":return nt?!1:rt!==null?!rt.acceptsBooleans:(_e=_e.toLowerCase().slice(0,5),_e!=="data-"&&_e!=="aria-");default:return!1}}function qa(_e,et,rt,nt){if(et===null||typeof et>"u"||pa(_e,et,rt,nt))return!0;if(nt)return!1;if(rt!==null)switch(rt.type){case 3:return!et;case 4:return et===!1;case 5:return isNaN(et);case 6:return isNaN(et)||1>et}return!1}function v$5(_e,et,rt,nt,st,it,at){this.acceptsBooleans=et===2||et===3||et===4,this.attributeName=nt,this.attributeNamespace=st,this.mustUseProperty=rt,this.propertyName=_e,this.type=et,this.sanitizeURL=it,this.removeEmptyString=at}var z$1={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(_e){z$1[_e]=new v$5(_e,0,!1,_e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(_e){var et=_e[0];z$1[et]=new v$5(et,1,!1,_e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(_e){z$1[_e]=new v$5(_e,2,!1,_e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(_e){z$1[_e]=new v$5(_e,2,!1,_e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(_e){z$1[_e]=new v$5(_e,3,!1,_e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(_e){z$1[_e]=new v$5(_e,3,!0,_e,null,!1,!1)});["capture","download"].forEach(function(_e){z$1[_e]=new v$5(_e,4,!1,_e,null,!1,!1)});["cols","rows","size","span"].forEach(function(_e){z$1[_e]=new v$5(_e,6,!1,_e,null,!1,!1)});["rowSpan","start"].forEach(function(_e){z$1[_e]=new v$5(_e,5,!1,_e.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(_e){return _e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(_e){var et=_e.replace(ra,sa);z$1[et]=new v$5(et,1,!1,_e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(_e){var et=_e.replace(ra,sa);z$1[et]=new v$5(et,1,!1,_e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(_e){var et=_e.replace(ra,sa);z$1[et]=new v$5(et,1,!1,_e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(_e){z$1[_e]=new v$5(_e,1,!1,_e.toLowerCase(),null,!1,!1)});z$1.xlinkHref=new v$5("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(_e){z$1[_e]=new v$5(_e,1,!1,_e.toLowerCase(),null,!0,!0)});function ta$1(_e,et,rt,nt){var st=z$1.hasOwnProperty(et)?z$1[et]:null;(st!==null?st.type!==0:nt||!(2<et.length)||et[0]!=="o"&&et[0]!=="O"||et[1]!=="n"&&et[1]!=="N")&&(qa(et,rt,st,nt)&&(rt=null),nt||st===null?oa(et)&&(rt===null?_e.removeAttribute(et):_e.setAttribute(et,""+rt)):st.mustUseProperty?_e[st.propertyName]=rt===null?st.type===3?!1:"":rt:(et=st.attributeName,nt=st.attributeNamespace,rt===null?_e.removeAttribute(et):(st=st.type,rt=st===3||st===4&&rt===!0?"":""+rt,nt?_e.setAttributeNS(nt,et,rt):_e.setAttribute(et,rt))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(_e){return _e===null||typeof _e!="object"?null:(_e=Ja&&_e[Ja]||_e["@@iterator"],typeof _e=="function"?_e:null)}var A$3=Object.assign,La;function Ma(_e){if(La===void 0)try{throw Error()}catch(rt){var et=rt.stack.trim().match(/\n( *(at )?)/);La=et&&et[1]||""}return`
`+La+_e}var Na=!1;function Oa(_e,et){if(!_e||Na)return"";Na=!0;var rt=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(et)if(et=function(){throw Error()},Object.defineProperty(et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(et,[])}catch(ct){var nt=ct}Reflect.construct(_e,[],et)}else{try{et.call()}catch(ct){nt=ct}_e.call(et.prototype)}else{try{throw Error()}catch(ct){nt=ct}_e()}}catch(ct){if(ct&&nt&&typeof ct.stack=="string"){for(var st=ct.stack.split(`
`),it=nt.stack.split(`
`),at=st.length-1,ot=it.length-1;1<=at&&0<=ot&&st[at]!==it[ot];)ot--;for(;1<=at&&0<=ot;at--,ot--)if(st[at]!==it[ot]){if(at!==1||ot!==1)do if(at--,ot--,0>ot||st[at]!==it[ot]){var lt=`
`+st[at].replace(" at new "," at ");return _e.displayName&&lt.includes("<anonymous>")&&(lt=lt.replace("<anonymous>",_e.displayName)),lt}while(1<=at&&0<=ot);break}}}finally{Na=!1,Error.prepareStackTrace=rt}return(_e=_e?_e.displayName||_e.name:"")?Ma(_e):""}function Pa(_e){switch(_e.tag){case 5:return Ma(_e.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return _e=Oa(_e.type,!1),_e;case 11:return _e=Oa(_e.type.render,!1),_e;case 1:return _e=Oa(_e.type,!0),_e;default:return""}}function Qa(_e){if(_e==null)return null;if(typeof _e=="function")return _e.displayName||_e.name||null;if(typeof _e=="string")return _e;switch(_e){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof _e=="object")switch(_e.$$typeof){case Ca:return(_e.displayName||"Context")+".Consumer";case Ba:return(_e._context.displayName||"Context")+".Provider";case Da:var et=_e.render;return _e=_e.displayName,_e||(_e=et.displayName||et.name||"",_e=_e!==""?"ForwardRef("+_e+")":"ForwardRef"),_e;case Ga:return et=_e.displayName||null,et!==null?et:Qa(_e.type)||"Memo";case Ha:et=_e._payload,_e=_e._init;try{return Qa(_e(et))}catch{}}return null}function Ra(_e){var et=_e.type;switch(_e.tag){case 24:return"Cache";case 9:return(et.displayName||"Context")+".Consumer";case 10:return(et._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return _e=et.render,_e=_e.displayName||_e.name||"",et.displayName||(_e!==""?"ForwardRef("+_e+")":"ForwardRef");case 7:return"Fragment";case 5:return et;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(et);case 8:return et===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof et=="function")return et.displayName||et.name||null;if(typeof et=="string")return et}return null}function Sa(_e){switch(typeof _e){case"boolean":case"number":case"string":case"undefined":return _e;case"object":return _e;default:return""}}function Ta(_e){var et=_e.type;return(_e=_e.nodeName)&&_e.toLowerCase()==="input"&&(et==="checkbox"||et==="radio")}function Ua(_e){var et=Ta(_e)?"checked":"value",rt=Object.getOwnPropertyDescriptor(_e.constructor.prototype,et),nt=""+_e[et];if(!_e.hasOwnProperty(et)&&typeof rt<"u"&&typeof rt.get=="function"&&typeof rt.set=="function"){var st=rt.get,it=rt.set;return Object.defineProperty(_e,et,{configurable:!0,get:function(){return st.call(this)},set:function(at){nt=""+at,it.call(this,at)}}),Object.defineProperty(_e,et,{enumerable:rt.enumerable}),{getValue:function(){return nt},setValue:function(at){nt=""+at},stopTracking:function(){_e._valueTracker=null,delete _e[et]}}}}function Va(_e){_e._valueTracker||(_e._valueTracker=Ua(_e))}function Wa(_e){if(!_e)return!1;var et=_e._valueTracker;if(!et)return!0;var rt=et.getValue(),nt="";return _e&&(nt=Ta(_e)?_e.checked?"true":"false":_e.value),_e=nt,_e!==rt?(et.setValue(_e),!0):!1}function Xa(_e){if(_e=_e||(typeof document<"u"?document:void 0),typeof _e>"u")return null;try{return _e.activeElement||_e.body}catch{return _e.body}}function Ya(_e,et){var rt=et.checked;return A$3({},et,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:rt??_e._wrapperState.initialChecked})}function Za(_e,et){var rt=et.defaultValue==null?"":et.defaultValue,nt=et.checked!=null?et.checked:et.defaultChecked;rt=Sa(et.value!=null?et.value:rt),_e._wrapperState={initialChecked:nt,initialValue:rt,controlled:et.type==="checkbox"||et.type==="radio"?et.checked!=null:et.value!=null}}function ab(_e,et){et=et.checked,et!=null&&ta$1(_e,"checked",et,!1)}function bb(_e,et){ab(_e,et);var rt=Sa(et.value),nt=et.type;if(rt!=null)nt==="number"?(rt===0&&_e.value===""||_e.value!=rt)&&(_e.value=""+rt):_e.value!==""+rt&&(_e.value=""+rt);else if(nt==="submit"||nt==="reset"){_e.removeAttribute("value");return}et.hasOwnProperty("value")?cb(_e,et.type,rt):et.hasOwnProperty("defaultValue")&&cb(_e,et.type,Sa(et.defaultValue)),et.checked==null&&et.defaultChecked!=null&&(_e.defaultChecked=!!et.defaultChecked)}function db(_e,et,rt){if(et.hasOwnProperty("value")||et.hasOwnProperty("defaultValue")){var nt=et.type;if(!(nt!=="submit"&&nt!=="reset"||et.value!==void 0&&et.value!==null))return;et=""+_e._wrapperState.initialValue,rt||et===_e.value||(_e.value=et),_e.defaultValue=et}rt=_e.name,rt!==""&&(_e.name=""),_e.defaultChecked=!!_e._wrapperState.initialChecked,rt!==""&&(_e.name=rt)}function cb(_e,et,rt){(et!=="number"||Xa(_e.ownerDocument)!==_e)&&(rt==null?_e.defaultValue=""+_e._wrapperState.initialValue:_e.defaultValue!==""+rt&&(_e.defaultValue=""+rt))}var eb=Array.isArray;function fb(_e,et,rt,nt){if(_e=_e.options,et){et={};for(var st=0;st<rt.length;st++)et["$"+rt[st]]=!0;for(rt=0;rt<_e.length;rt++)st=et.hasOwnProperty("$"+_e[rt].value),_e[rt].selected!==st&&(_e[rt].selected=st),st&&nt&&(_e[rt].defaultSelected=!0)}else{for(rt=""+Sa(rt),et=null,st=0;st<_e.length;st++){if(_e[st].value===rt){_e[st].selected=!0,nt&&(_e[st].defaultSelected=!0);return}et!==null||_e[st].disabled||(et=_e[st])}et!==null&&(et.selected=!0)}}function gb(_e,et){if(et.dangerouslySetInnerHTML!=null)throw Error(p$6(91));return A$3({},et,{value:void 0,defaultValue:void 0,children:""+_e._wrapperState.initialValue})}function hb(_e,et){var rt=et.value;if(rt==null){if(rt=et.children,et=et.defaultValue,rt!=null){if(et!=null)throw Error(p$6(92));if(eb(rt)){if(1<rt.length)throw Error(p$6(93));rt=rt[0]}et=rt}et==null&&(et=""),rt=et}_e._wrapperState={initialValue:Sa(rt)}}function ib(_e,et){var rt=Sa(et.value),nt=Sa(et.defaultValue);rt!=null&&(rt=""+rt,rt!==_e.value&&(_e.value=rt),et.defaultValue==null&&_e.defaultValue!==rt&&(_e.defaultValue=rt)),nt!=null&&(_e.defaultValue=""+nt)}function jb(_e){var et=_e.textContent;et===_e._wrapperState.initialValue&&et!==""&&et!==null&&(_e.value=et)}function kb(_e){switch(_e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(_e,et){return _e==null||_e==="http://www.w3.org/1999/xhtml"?kb(et):_e==="http://www.w3.org/2000/svg"&&et==="foreignObject"?"http://www.w3.org/1999/xhtml":_e}var mb,nb=function(_e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(et,rt,nt,st){MSApp.execUnsafeLocalFunction(function(){return _e(et,rt,nt,st)})}:_e}(function(_e,et){if(_e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in _e)_e.innerHTML=et;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+et.valueOf().toString()+"</svg>",et=mb.firstChild;_e.firstChild;)_e.removeChild(_e.firstChild);for(;et.firstChild;)_e.appendChild(et.firstChild)}});function ob(_e,et){if(et){var rt=_e.firstChild;if(rt&&rt===_e.lastChild&&rt.nodeType===3){rt.nodeValue=et;return}}_e.textContent=et}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(_e){qb.forEach(function(et){et=et+_e.charAt(0).toUpperCase()+_e.substring(1),pb[et]=pb[_e]})});function rb(_e,et,rt){return et==null||typeof et=="boolean"||et===""?"":rt||typeof et!="number"||et===0||pb.hasOwnProperty(_e)&&pb[_e]?(""+et).trim():et+"px"}function sb(_e,et){_e=_e.style;for(var rt in et)if(et.hasOwnProperty(rt)){var nt=rt.indexOf("--")===0,st=rb(rt,et[rt],nt);rt==="float"&&(rt="cssFloat"),nt?_e.setProperty(rt,st):_e[rt]=st}}var tb=A$3({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(_e,et){if(et){if(tb[_e]&&(et.children!=null||et.dangerouslySetInnerHTML!=null))throw Error(p$6(137,_e));if(et.dangerouslySetInnerHTML!=null){if(et.children!=null)throw Error(p$6(60));if(typeof et.dangerouslySetInnerHTML!="object"||!("__html"in et.dangerouslySetInnerHTML))throw Error(p$6(61))}if(et.style!=null&&typeof et.style!="object")throw Error(p$6(62))}}function vb(_e,et){if(_e.indexOf("-")===-1)return typeof et.is=="string";switch(_e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(_e){return _e=_e.target||_e.srcElement||window,_e.correspondingUseElement&&(_e=_e.correspondingUseElement),_e.nodeType===3?_e.parentNode:_e}var yb=null,zb=null,Ab=null;function Bb(_e){if(_e=Cb(_e)){if(typeof yb!="function")throw Error(p$6(280));var et=_e.stateNode;et&&(et=Db(et),yb(_e.stateNode,_e.type,et))}}function Eb(_e){zb?Ab?Ab.push(_e):Ab=[_e]:zb=_e}function Fb(){if(zb){var _e=zb,et=Ab;if(Ab=zb=null,Bb(_e),et)for(_e=0;_e<et.length;_e++)Bb(et[_e])}}function Gb(_e,et){return _e(et)}function Hb(){}var Ib=!1;function Jb(_e,et,rt){if(Ib)return _e(et,rt);Ib=!0;try{return Gb(_e,et,rt)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(_e,et){var rt=_e.stateNode;if(rt===null)return null;var nt=Db(rt);if(nt===null)return null;rt=nt[et];e:switch(et){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(nt=!nt.disabled)||(_e=_e.type,nt=!(_e==="button"||_e==="input"||_e==="select"||_e==="textarea")),_e=!nt;break e;default:_e=!1}if(_e)return null;if(rt&&typeof rt!="function")throw Error(p$6(231,et,typeof rt));return rt}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(_e,et,rt,nt,st,it,at,ot,lt){var ct=Array.prototype.slice.call(arguments,3);try{et.apply(rt,ct)}catch(ut){this.onError(ut)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(_e){Ob=!0,Pb=_e}};function Tb(_e,et,rt,nt,st,it,at,ot,lt){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(_e,et,rt,nt,st,it,at,ot,lt){if(Tb.apply(this,arguments),Ob){if(Ob){var ct=Pb;Ob=!1,Pb=null}else throw Error(p$6(198));Qb||(Qb=!0,Rb=ct)}}function Vb(_e){var et=_e,rt=_e;if(_e.alternate)for(;et.return;)et=et.return;else{_e=et;do et=_e,et.flags&4098&&(rt=et.return),_e=et.return;while(_e)}return et.tag===3?rt:null}function Wb(_e){if(_e.tag===13){var et=_e.memoizedState;if(et===null&&(_e=_e.alternate,_e!==null&&(et=_e.memoizedState)),et!==null)return et.dehydrated}return null}function Xb(_e){if(Vb(_e)!==_e)throw Error(p$6(188))}function Yb(_e){var et=_e.alternate;if(!et){if(et=Vb(_e),et===null)throw Error(p$6(188));return et!==_e?null:_e}for(var rt=_e,nt=et;;){var st=rt.return;if(st===null)break;var it=st.alternate;if(it===null){if(nt=st.return,nt!==null){rt=nt;continue}break}if(st.child===it.child){for(it=st.child;it;){if(it===rt)return Xb(st),_e;if(it===nt)return Xb(st),et;it=it.sibling}throw Error(p$6(188))}if(rt.return!==nt.return)rt=st,nt=it;else{for(var at=!1,ot=st.child;ot;){if(ot===rt){at=!0,rt=st,nt=it;break}if(ot===nt){at=!0,nt=st,rt=it;break}ot=ot.sibling}if(!at){for(ot=it.child;ot;){if(ot===rt){at=!0,rt=it,nt=st;break}if(ot===nt){at=!0,nt=it,rt=st;break}ot=ot.sibling}if(!at)throw Error(p$6(189))}}if(rt.alternate!==nt)throw Error(p$6(190))}if(rt.tag!==3)throw Error(p$6(188));return rt.stateNode.current===rt?_e:et}function Zb(_e){return _e=Yb(_e),_e!==null?$b(_e):null}function $b(_e){if(_e.tag===5||_e.tag===6)return _e;for(_e=_e.child;_e!==null;){var et=$b(_e);if(et!==null)return et;_e=_e.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(_e){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,_e,void 0,(_e.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(_e){return _e>>>=0,_e===0?32:31-(pc(_e)/qc|0)|0}var rc=64,sc=4194304;function tc(_e){switch(_e&-_e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return _e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return _e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return _e}}function uc(_e,et){var rt=_e.pendingLanes;if(rt===0)return 0;var nt=0,st=_e.suspendedLanes,it=_e.pingedLanes,at=rt&268435455;if(at!==0){var ot=at&~st;ot!==0?nt=tc(ot):(it&=at,it!==0&&(nt=tc(it)))}else at=rt&~st,at!==0?nt=tc(at):it!==0&&(nt=tc(it));if(nt===0)return 0;if(et!==0&&et!==nt&&!(et&st)&&(st=nt&-nt,it=et&-et,st>=it||st===16&&(it&4194240)!==0))return et;if(nt&4&&(nt|=rt&16),et=_e.entangledLanes,et!==0)for(_e=_e.entanglements,et&=nt;0<et;)rt=31-oc(et),st=1<<rt,nt|=_e[rt],et&=~st;return nt}function vc(_e,et){switch(_e){case 1:case 2:case 4:return et+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return et+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(_e,et){for(var rt=_e.suspendedLanes,nt=_e.pingedLanes,st=_e.expirationTimes,it=_e.pendingLanes;0<it;){var at=31-oc(it),ot=1<<at,lt=st[at];lt===-1?(!(ot&rt)||ot&nt)&&(st[at]=vc(ot,et)):lt<=et&&(_e.expiredLanes|=ot),it&=~ot}}function xc(_e){return _e=_e.pendingLanes&-1073741825,_e!==0?_e:_e&1073741824?1073741824:0}function yc(){var _e=rc;return rc<<=1,!(rc&4194240)&&(rc=64),_e}function zc(_e){for(var et=[],rt=0;31>rt;rt++)et.push(_e);return et}function Ac(_e,et,rt){_e.pendingLanes|=et,et!==536870912&&(_e.suspendedLanes=0,_e.pingedLanes=0),_e=_e.eventTimes,et=31-oc(et),_e[et]=rt}function Bc(_e,et){var rt=_e.pendingLanes&~et;_e.pendingLanes=et,_e.suspendedLanes=0,_e.pingedLanes=0,_e.expiredLanes&=et,_e.mutableReadLanes&=et,_e.entangledLanes&=et,et=_e.entanglements;var nt=_e.eventTimes;for(_e=_e.expirationTimes;0<rt;){var st=31-oc(rt),it=1<<st;et[st]=0,nt[st]=-1,_e[st]=-1,rt&=~it}}function Cc(_e,et){var rt=_e.entangledLanes|=et;for(_e=_e.entanglements;rt;){var nt=31-oc(rt),st=1<<nt;st&et|_e[nt]&et&&(_e[nt]|=et),rt&=~st}}var C$6=0;function Dc(_e){return _e&=-_e,1<_e?4<_e?_e&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(_e,et){switch(_e){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(et.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(et.pointerId)}}function Tc(_e,et,rt,nt,st,it){return _e===null||_e.nativeEvent!==it?(_e={blockedOn:et,domEventName:rt,eventSystemFlags:nt,nativeEvent:it,targetContainers:[st]},et!==null&&(et=Cb(et),et!==null&&Fc(et)),_e):(_e.eventSystemFlags|=nt,et=_e.targetContainers,st!==null&&et.indexOf(st)===-1&&et.push(st),_e)}function Uc(_e,et,rt,nt,st){switch(et){case"focusin":return Lc=Tc(Lc,_e,et,rt,nt,st),!0;case"dragenter":return Mc=Tc(Mc,_e,et,rt,nt,st),!0;case"mouseover":return Nc=Tc(Nc,_e,et,rt,nt,st),!0;case"pointerover":var it=st.pointerId;return Oc.set(it,Tc(Oc.get(it)||null,_e,et,rt,nt,st)),!0;case"gotpointercapture":return it=st.pointerId,Pc.set(it,Tc(Pc.get(it)||null,_e,et,rt,nt,st)),!0}return!1}function Vc(_e){var et=Wc(_e.target);if(et!==null){var rt=Vb(et);if(rt!==null){if(et=rt.tag,et===13){if(et=Wb(rt),et!==null){_e.blockedOn=et,Ic(_e.priority,function(){Gc(rt)});return}}else if(et===3&&rt.stateNode.current.memoizedState.isDehydrated){_e.blockedOn=rt.tag===3?rt.stateNode.containerInfo:null;return}}}_e.blockedOn=null}function Xc(_e){if(_e.blockedOn!==null)return!1;for(var et=_e.targetContainers;0<et.length;){var rt=Yc(_e.domEventName,_e.eventSystemFlags,et[0],_e.nativeEvent);if(rt===null){rt=_e.nativeEvent;var nt=new rt.constructor(rt.type,rt);wb=nt,rt.target.dispatchEvent(nt),wb=null}else return et=Cb(rt),et!==null&&Fc(et),_e.blockedOn=rt,!1;et.shift()}return!0}function Zc(_e,et,rt){Xc(_e)&&rt.delete(et)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(_e,et){_e.blockedOn===et&&(_e.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(_e){function et(st){return ad(st,_e)}if(0<Kc.length){ad(Kc[0],_e);for(var rt=1;rt<Kc.length;rt++){var nt=Kc[rt];nt.blockedOn===_e&&(nt.blockedOn=null)}}for(Lc!==null&&ad(Lc,_e),Mc!==null&&ad(Mc,_e),Nc!==null&&ad(Nc,_e),Oc.forEach(et),Pc.forEach(et),rt=0;rt<Qc.length;rt++)nt=Qc[rt],nt.blockedOn===_e&&(nt.blockedOn=null);for(;0<Qc.length&&(rt=Qc[0],rt.blockedOn===null);)Vc(rt),rt.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(_e,et,rt,nt){var st=C$6,it=cd.transition;cd.transition=null;try{C$6=1,fd(_e,et,rt,nt)}finally{C$6=st,cd.transition=it}}function gd(_e,et,rt,nt){var st=C$6,it=cd.transition;cd.transition=null;try{C$6=4,fd(_e,et,rt,nt)}finally{C$6=st,cd.transition=it}}function fd(_e,et,rt,nt){if(dd){var st=Yc(_e,et,rt,nt);if(st===null)hd(_e,et,nt,id,rt),Sc(_e,nt);else if(Uc(st,_e,et,rt,nt))nt.stopPropagation();else if(Sc(_e,nt),et&4&&-1<Rc.indexOf(_e)){for(;st!==null;){var it=Cb(st);if(it!==null&&Ec(it),it=Yc(_e,et,rt,nt),it===null&&hd(_e,et,nt,id,rt),it===st)break;st=it}st!==null&&nt.stopPropagation()}else hd(_e,et,nt,null,rt)}}var id=null;function Yc(_e,et,rt,nt){if(id=null,_e=xb(nt),_e=Wc(_e),_e!==null)if(et=Vb(_e),et===null)_e=null;else if(rt=et.tag,rt===13){if(_e=Wb(et),_e!==null)return _e;_e=null}else if(rt===3){if(et.stateNode.current.memoizedState.isDehydrated)return et.tag===3?et.stateNode.containerInfo:null;_e=null}else et!==_e&&(_e=null);return id=_e,null}function jd(_e){switch(_e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var _e,et=ld,rt=et.length,nt,st="value"in kd?kd.value:kd.textContent,it=st.length;for(_e=0;_e<rt&&et[_e]===st[_e];_e++);var at=rt-_e;for(nt=1;nt<=at&&et[rt-nt]===st[it-nt];nt++);return md=st.slice(_e,1<nt?1-nt:void 0)}function od(_e){var et=_e.keyCode;return"charCode"in _e?(_e=_e.charCode,_e===0&&et===13&&(_e=13)):_e=et,_e===10&&(_e=13),32<=_e||_e===13?_e:0}function pd(){return!0}function qd(){return!1}function rd(_e){function et(rt,nt,st,it,at){this._reactName=rt,this._targetInst=st,this.type=nt,this.nativeEvent=it,this.target=at,this.currentTarget=null;for(var ot in _e)_e.hasOwnProperty(ot)&&(rt=_e[ot],this[ot]=rt?rt(it):it[ot]);return this.isDefaultPrevented=(it.defaultPrevented!=null?it.defaultPrevented:it.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$3(et.prototype,{preventDefault:function(){this.defaultPrevented=!0;var rt=this.nativeEvent;rt&&(rt.preventDefault?rt.preventDefault():typeof rt.returnValue!="unknown"&&(rt.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var rt=this.nativeEvent;rt&&(rt.stopPropagation?rt.stopPropagation():typeof rt.cancelBubble!="unknown"&&(rt.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),et}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(_e){return _e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$3({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$3({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(_e){return _e.relatedTarget===void 0?_e.fromElement===_e.srcElement?_e.toElement:_e.fromElement:_e.relatedTarget},movementX:function(_e){return"movementX"in _e?_e.movementX:(_e!==yd&&(yd&&_e.type==="mousemove"?(wd=_e.screenX-yd.screenX,xd=_e.screenY-yd.screenY):xd=wd=0,yd=_e),wd)},movementY:function(_e){return"movementY"in _e?_e.movementY:xd}}),Bd=rd(Ad),Cd=A$3({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$3({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$3({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$3({},sd,{clipboardData:function(_e){return"clipboardData"in _e?_e.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$3({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(_e){var et=this.nativeEvent;return et.getModifierState?et.getModifierState(_e):(_e=Od[_e])?!!et[_e]:!1}function zd(){return Pd}var Qd=A$3({},ud,{key:function(_e){if(_e.key){var et=Md[_e.key]||_e.key;if(et!=="Unidentified")return et}return _e.type==="keypress"?(_e=od(_e),_e===13?"Enter":String.fromCharCode(_e)):_e.type==="keydown"||_e.type==="keyup"?Nd[_e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(_e){return _e.type==="keypress"?od(_e):0},keyCode:function(_e){return _e.type==="keydown"||_e.type==="keyup"?_e.keyCode:0},which:function(_e){return _e.type==="keypress"?od(_e):_e.type==="keydown"||_e.type==="keyup"?_e.keyCode:0}}),Rd=rd(Qd),Sd=A$3({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$3({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$3({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$3({},Ad,{deltaX:function(_e){return"deltaX"in _e?_e.deltaX:"wheelDeltaX"in _e?-_e.wheelDeltaX:0},deltaY:function(_e){return"deltaY"in _e?_e.deltaY:"wheelDeltaY"in _e?-_e.wheelDeltaY:"wheelDelta"in _e?-_e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be$1=null;ia&&"documentMode"in document&&(be$1=document.documentMode);var ce$1=ia&&"TextEvent"in window&&!be$1,de$2=ia&&(!ae||be$1&&8<be$1&&11>=be$1),ee$2=" ",fe$1=!1;function ge$2(_e,et){switch(_e){case"keyup":return $d.indexOf(et.keyCode)!==-1;case"keydown":return et.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he$1(_e){return _e=_e.detail,typeof _e=="object"&&"data"in _e?_e.data:null}var ie$3=!1;function je$1(_e,et){switch(_e){case"compositionend":return he$1(et);case"keypress":return et.which!==32?null:(fe$1=!0,ee$2);case"textInput":return _e=et.data,_e===ee$2&&fe$1?null:_e;default:return null}}function ke$1(_e,et){if(ie$3)return _e==="compositionend"||!ae&&ge$2(_e,et)?(_e=nd(),md=ld=kd=null,ie$3=!1,_e):null;switch(_e){case"paste":return null;case"keypress":if(!(et.ctrlKey||et.altKey||et.metaKey)||et.ctrlKey&&et.altKey){if(et.char&&1<et.char.length)return et.char;if(et.which)return String.fromCharCode(et.which)}return null;case"compositionend":return de$2&&et.locale!=="ko"?null:et.data;default:return null}}var le$1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me$2(_e){var et=_e&&_e.nodeName&&_e.nodeName.toLowerCase();return et==="input"?!!le$1[_e.type]:et==="textarea"}function ne$1(_e,et,rt,nt){Eb(nt),et=oe$1(et,"onChange"),0<et.length&&(rt=new td("onChange","change",null,rt,nt),_e.push({event:rt,listeners:et}))}var pe=null,qe$1=null;function re$5(_e){se$1(_e,0)}function te$2(_e){var et=ue$1(_e);if(Wa(et))return _e}function ve$1(_e,et){if(_e==="change")return et}var we$2=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze$1=document.createElement("div");ze$1.setAttribute("oninput","return;"),ye=typeof ze$1.oninput=="function"}xe=ye}else xe=!1;we$2=xe&&(!document.documentMode||9<document.documentMode)}function Ae$2(){pe&&(pe.detachEvent("onpropertychange",Be$1),qe$1=pe=null)}function Be$1(_e){if(_e.propertyName==="value"&&te$2(qe$1)){var et=[];ne$1(et,qe$1,_e,xb(_e)),Jb(re$5,et)}}function Ce$1(_e,et,rt){_e==="focusin"?(Ae$2(),pe=et,qe$1=rt,pe.attachEvent("onpropertychange",Be$1)):_e==="focusout"&&Ae$2()}function De$2(_e){if(_e==="selectionchange"||_e==="keyup"||_e==="keydown")return te$2(qe$1)}function Ee$1(_e,et){if(_e==="click")return te$2(et)}function Fe$2(_e,et){if(_e==="input"||_e==="change")return te$2(et)}function Ge(_e,et){return _e===et&&(_e!==0||1/_e===1/et)||_e!==_e&&et!==et}var He$2=typeof Object.is=="function"?Object.is:Ge;function Ie$2(_e,et){if(He$2(_e,et))return!0;if(typeof _e!="object"||_e===null||typeof et!="object"||et===null)return!1;var rt=Object.keys(_e),nt=Object.keys(et);if(rt.length!==nt.length)return!1;for(nt=0;nt<rt.length;nt++){var st=rt[nt];if(!ja.call(et,st)||!He$2(_e[st],et[st]))return!1}return!0}function Je$1(_e){for(;_e&&_e.firstChild;)_e=_e.firstChild;return _e}function Ke$2(_e,et){var rt=Je$1(_e);_e=0;for(var nt;rt;){if(rt.nodeType===3){if(nt=_e+rt.textContent.length,_e<=et&&nt>=et)return{node:rt,offset:et-_e};_e=nt}e:{for(;rt;){if(rt.nextSibling){rt=rt.nextSibling;break e}rt=rt.parentNode}rt=void 0}rt=Je$1(rt)}}function Le$1(_e,et){return _e&&et?_e===et?!0:_e&&_e.nodeType===3?!1:et&&et.nodeType===3?Le$1(_e,et.parentNode):"contains"in _e?_e.contains(et):_e.compareDocumentPosition?!!(_e.compareDocumentPosition(et)&16):!1:!1}function Me$1(){for(var _e=window,et=Xa();et instanceof _e.HTMLIFrameElement;){try{var rt=typeof et.contentWindow.location.href=="string"}catch{rt=!1}if(rt)_e=et.contentWindow;else break;et=Xa(_e.document)}return et}function Ne$1(_e){var et=_e&&_e.nodeName&&_e.nodeName.toLowerCase();return et&&(et==="input"&&(_e.type==="text"||_e.type==="search"||_e.type==="tel"||_e.type==="url"||_e.type==="password")||et==="textarea"||_e.contentEditable==="true")}function Oe$2(_e){var et=Me$1(),rt=_e.focusedElem,nt=_e.selectionRange;if(et!==rt&&rt&&rt.ownerDocument&&Le$1(rt.ownerDocument.documentElement,rt)){if(nt!==null&&Ne$1(rt)){if(et=nt.start,_e=nt.end,_e===void 0&&(_e=et),"selectionStart"in rt)rt.selectionStart=et,rt.selectionEnd=Math.min(_e,rt.value.length);else if(_e=(et=rt.ownerDocument||document)&&et.defaultView||window,_e.getSelection){_e=_e.getSelection();var st=rt.textContent.length,it=Math.min(nt.start,st);nt=nt.end===void 0?it:Math.min(nt.end,st),!_e.extend&&it>nt&&(st=nt,nt=it,it=st),st=Ke$2(rt,it);var at=Ke$2(rt,nt);st&&at&&(_e.rangeCount!==1||_e.anchorNode!==st.node||_e.anchorOffset!==st.offset||_e.focusNode!==at.node||_e.focusOffset!==at.offset)&&(et=et.createRange(),et.setStart(st.node,st.offset),_e.removeAllRanges(),it>nt?(_e.addRange(et),_e.extend(at.node,at.offset)):(et.setEnd(at.node,at.offset),_e.addRange(et)))}}for(et=[],_e=rt;_e=_e.parentNode;)_e.nodeType===1&&et.push({element:_e,left:_e.scrollLeft,top:_e.scrollTop});for(typeof rt.focus=="function"&&rt.focus(),rt=0;rt<et.length;rt++)_e=et[rt],_e.element.scrollLeft=_e.left,_e.element.scrollTop=_e.top}}var Pe$1=ia&&"documentMode"in document&&11>=document.documentMode,Qe$1=null,Re$1=null,Se$1=null,Te$2=!1;function Ue$1(_e,et,rt){var nt=rt.window===rt?rt.document:rt.nodeType===9?rt:rt.ownerDocument;Te$2||Qe$1==null||Qe$1!==Xa(nt)||(nt=Qe$1,"selectionStart"in nt&&Ne$1(nt)?nt={start:nt.selectionStart,end:nt.selectionEnd}:(nt=(nt.ownerDocument&&nt.ownerDocument.defaultView||window).getSelection(),nt={anchorNode:nt.anchorNode,anchorOffset:nt.anchorOffset,focusNode:nt.focusNode,focusOffset:nt.focusOffset}),Se$1&&Ie$2(Se$1,nt)||(Se$1=nt,nt=oe$1(Re$1,"onSelect"),0<nt.length&&(et=new td("onSelect","select",null,et,rt),_e.push({event:et,listeners:nt}),et.target=Qe$1)))}function Ve$1(_e,et){var rt={};return rt[_e.toLowerCase()]=et.toLowerCase(),rt["Webkit"+_e]="webkit"+et,rt["Moz"+_e]="moz"+et,rt}var We$1={animationend:Ve$1("Animation","AnimationEnd"),animationiteration:Ve$1("Animation","AnimationIteration"),animationstart:Ve$1("Animation","AnimationStart"),transitionend:Ve$1("Transition","TransitionEnd")},Xe$1={},Ye$1={};ia&&(Ye$1=document.createElement("div").style,"AnimationEvent"in window||(delete We$1.animationend.animation,delete We$1.animationiteration.animation,delete We$1.animationstart.animation),"TransitionEvent"in window||delete We$1.transitionend.transition);function Ze(_e){if(Xe$1[_e])return Xe$1[_e];if(!We$1[_e])return _e;var et=We$1[_e],rt;for(rt in et)if(et.hasOwnProperty(rt)&&rt in Ye$1)return Xe$1[_e]=et[rt];return _e}var $e$1=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(_e,et){df.set(_e,et),fa(et,[_e])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e$1,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(_e,et,rt){var nt=_e.type||"unknown-event";_e.currentTarget=rt,Ub(nt,et,void 0,_e),_e.currentTarget=null}function se$1(_e,et){et=(et&4)!==0;for(var rt=0;rt<_e.length;rt++){var nt=_e[rt],st=nt.event;nt=nt.listeners;e:{var it=void 0;if(et)for(var at=nt.length-1;0<=at;at--){var ot=nt[at],lt=ot.instance,ct=ot.currentTarget;if(ot=ot.listener,lt!==it&&st.isPropagationStopped())break e;nf(st,ot,ct),it=lt}else for(at=0;at<nt.length;at++){if(ot=nt[at],lt=ot.instance,ct=ot.currentTarget,ot=ot.listener,lt!==it&&st.isPropagationStopped())break e;nf(st,ot,ct),it=lt}}}if(Qb)throw _e=Rb,Qb=!1,Rb=null,_e}function D$4(_e,et){var rt=et[of];rt===void 0&&(rt=et[of]=new Set);var nt=_e+"__bubble";rt.has(nt)||(pf(et,_e,2,!1),rt.add(nt))}function qf(_e,et,rt){var nt=0;et&&(nt|=4),pf(rt,_e,nt,et)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(_e){if(!_e[rf]){_e[rf]=!0,da.forEach(function(rt){rt!=="selectionchange"&&(mf.has(rt)||qf(rt,!1,_e),qf(rt,!0,_e))});var et=_e.nodeType===9?_e:_e.ownerDocument;et===null||et[rf]||(et[rf]=!0,qf("selectionchange",!1,et))}}function pf(_e,et,rt,nt){switch(jd(et)){case 1:var st=ed;break;case 4:st=gd;break;default:st=fd}rt=st.bind(null,et,rt,_e),st=void 0,!Lb||et!=="touchstart"&&et!=="touchmove"&&et!=="wheel"||(st=!0),nt?st!==void 0?_e.addEventListener(et,rt,{capture:!0,passive:st}):_e.addEventListener(et,rt,!0):st!==void 0?_e.addEventListener(et,rt,{passive:st}):_e.addEventListener(et,rt,!1)}function hd(_e,et,rt,nt,st){var it=nt;if(!(et&1)&&!(et&2)&&nt!==null)e:for(;;){if(nt===null)return;var at=nt.tag;if(at===3||at===4){var ot=nt.stateNode.containerInfo;if(ot===st||ot.nodeType===8&&ot.parentNode===st)break;if(at===4)for(at=nt.return;at!==null;){var lt=at.tag;if((lt===3||lt===4)&&(lt=at.stateNode.containerInfo,lt===st||lt.nodeType===8&&lt.parentNode===st))return;at=at.return}for(;ot!==null;){if(at=Wc(ot),at===null)return;if(lt=at.tag,lt===5||lt===6){nt=it=at;continue e}ot=ot.parentNode}}nt=nt.return}Jb(function(){var ct=it,ut=xb(rt),dt=[];e:{var pt=df.get(_e);if(pt!==void 0){var mt=td,xt=_e;switch(_e){case"keypress":if(od(rt)===0)break e;case"keydown":case"keyup":mt=Rd;break;case"focusin":xt="focus",mt=Fd;break;case"focusout":xt="blur",mt=Fd;break;case"beforeblur":case"afterblur":mt=Fd;break;case"click":if(rt.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":mt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":mt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":mt=Vd;break;case $e$1:case af:case bf:mt=Hd;break;case cf:mt=Xd;break;case"scroll":mt=vd;break;case"wheel":mt=Zd;break;case"copy":case"cut":case"paste":mt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":mt=Td}var yt=(et&4)!==0,vt=!yt&&_e==="scroll",gt=yt?pt!==null?pt+"Capture":null:pt;yt=[];for(var Et=ct,jt;Et!==null;){jt=Et;var kt=jt.stateNode;if(jt.tag===5&&kt!==null&&(jt=kt,gt!==null&&(kt=Kb(Et,gt),kt!=null&&yt.push(tf(Et,kt,jt)))),vt)break;Et=Et.return}0<yt.length&&(pt=new mt(pt,xt,null,rt,ut),dt.push({event:pt,listeners:yt}))}}if(!(et&7)){e:{if(pt=_e==="mouseover"||_e==="pointerover",mt=_e==="mouseout"||_e==="pointerout",pt&&rt!==wb&&(xt=rt.relatedTarget||rt.fromElement)&&(Wc(xt)||xt[uf]))break e;if((mt||pt)&&(pt=ut.window===ut?ut:(pt=ut.ownerDocument)?pt.defaultView||pt.parentWindow:window,mt?(xt=rt.relatedTarget||rt.toElement,mt=ct,xt=xt?Wc(xt):null,xt!==null&&(vt=Vb(xt),xt!==vt||xt.tag!==5&&xt.tag!==6)&&(xt=null)):(mt=null,xt=ct),mt!==xt)){if(yt=Bd,kt="onMouseLeave",gt="onMouseEnter",Et="mouse",(_e==="pointerout"||_e==="pointerover")&&(yt=Td,kt="onPointerLeave",gt="onPointerEnter",Et="pointer"),vt=mt==null?pt:ue$1(mt),jt=xt==null?pt:ue$1(xt),pt=new yt(kt,Et+"leave",mt,rt,ut),pt.target=vt,pt.relatedTarget=jt,kt=null,Wc(ut)===ct&&(yt=new yt(gt,Et+"enter",xt,rt,ut),yt.target=jt,yt.relatedTarget=vt,kt=yt),vt=kt,mt&&xt)t:{for(yt=mt,gt=xt,Et=0,jt=yt;jt;jt=vf(jt))Et++;for(jt=0,kt=gt;kt;kt=vf(kt))jt++;for(;0<Et-jt;)yt=vf(yt),Et--;for(;0<jt-Et;)gt=vf(gt),jt--;for(;Et--;){if(yt===gt||gt!==null&&yt===gt.alternate)break t;yt=vf(yt),gt=vf(gt)}yt=null}else yt=null;mt!==null&&wf(dt,pt,mt,yt,!1),xt!==null&&vt!==null&&wf(dt,vt,xt,yt,!0)}}e:{if(pt=ct?ue$1(ct):window,mt=pt.nodeName&&pt.nodeName.toLowerCase(),mt==="select"||mt==="input"&&pt.type==="file")var Rt=ve$1;else if(me$2(pt))if(we$2)Rt=Fe$2;else{Rt=De$2;var St=Ce$1}else(mt=pt.nodeName)&&mt.toLowerCase()==="input"&&(pt.type==="checkbox"||pt.type==="radio")&&(Rt=Ee$1);if(Rt&&(Rt=Rt(_e,ct))){ne$1(dt,Rt,rt,ut);break e}St&&St(_e,pt,ct),_e==="focusout"&&(St=pt._wrapperState)&&St.controlled&&pt.type==="number"&&cb(pt,"number",pt.value)}switch(St=ct?ue$1(ct):window,_e){case"focusin":(me$2(St)||St.contentEditable==="true")&&(Qe$1=St,Re$1=ct,Se$1=null);break;case"focusout":Se$1=Re$1=Qe$1=null;break;case"mousedown":Te$2=!0;break;case"contextmenu":case"mouseup":case"dragend":Te$2=!1,Ue$1(dt,rt,ut);break;case"selectionchange":if(Pe$1)break;case"keydown":case"keyup":Ue$1(dt,rt,ut)}var _t;if(ae)e:{switch(_e){case"compositionstart":var Nt="onCompositionStart";break e;case"compositionend":Nt="onCompositionEnd";break e;case"compositionupdate":Nt="onCompositionUpdate";break e}Nt=void 0}else ie$3?ge$2(_e,rt)&&(Nt="onCompositionEnd"):_e==="keydown"&&rt.keyCode===229&&(Nt="onCompositionStart");Nt&&(de$2&&rt.locale!=="ko"&&(ie$3||Nt!=="onCompositionStart"?Nt==="onCompositionEnd"&&ie$3&&(_t=nd()):(kd=ut,ld="value"in kd?kd.value:kd.textContent,ie$3=!0)),St=oe$1(ct,Nt),0<St.length&&(Nt=new Ld(Nt,_e,null,rt,ut),dt.push({event:Nt,listeners:St}),_t?Nt.data=_t:(_t=he$1(rt),_t!==null&&(Nt.data=_t)))),(_t=ce$1?je$1(_e,rt):ke$1(_e,rt))&&(ct=oe$1(ct,"onBeforeInput"),0<ct.length&&(ut=new Ld("onBeforeInput","beforeinput",null,rt,ut),dt.push({event:ut,listeners:ct}),ut.data=_t))}se$1(dt,et)})}function tf(_e,et,rt){return{instance:_e,listener:et,currentTarget:rt}}function oe$1(_e,et){for(var rt=et+"Capture",nt=[];_e!==null;){var st=_e,it=st.stateNode;st.tag===5&&it!==null&&(st=it,it=Kb(_e,rt),it!=null&&nt.unshift(tf(_e,it,st)),it=Kb(_e,et),it!=null&&nt.push(tf(_e,it,st))),_e=_e.return}return nt}function vf(_e){if(_e===null)return null;do _e=_e.return;while(_e&&_e.tag!==5);return _e||null}function wf(_e,et,rt,nt,st){for(var it=et._reactName,at=[];rt!==null&&rt!==nt;){var ot=rt,lt=ot.alternate,ct=ot.stateNode;if(lt!==null&&lt===nt)break;ot.tag===5&&ct!==null&&(ot=ct,st?(lt=Kb(rt,it),lt!=null&&at.unshift(tf(rt,lt,ot))):st||(lt=Kb(rt,it),lt!=null&&at.push(tf(rt,lt,ot)))),rt=rt.return}at.length!==0&&_e.push({event:et,listeners:at})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(_e){return(typeof _e=="string"?_e:""+_e).replace(xf,`
`).replace(yf,"")}function Af(_e,et,rt){if(et=zf(et),zf(_e)!==et&&rt)throw Error(p$6(425))}function Bf(){}var Cf=null,Df=null;function Ef(_e,et){return _e==="textarea"||_e==="noscript"||typeof et.children=="string"||typeof et.children=="number"||typeof et.dangerouslySetInnerHTML=="object"&&et.dangerouslySetInnerHTML!==null&&et.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(_e){return Hf.resolve(null).then(_e).catch(If)}:Ff;function If(_e){setTimeout(function(){throw _e})}function Kf(_e,et){var rt=et,nt=0;do{var st=rt.nextSibling;if(_e.removeChild(rt),st&&st.nodeType===8)if(rt=st.data,rt==="/$"){if(nt===0){_e.removeChild(st),bd(et);return}nt--}else rt!=="$"&&rt!=="$?"&&rt!=="$!"||nt++;rt=st}while(rt);bd(et)}function Lf(_e){for(;_e!=null;_e=_e.nextSibling){var et=_e.nodeType;if(et===1||et===3)break;if(et===8){if(et=_e.data,et==="$"||et==="$!"||et==="$?")break;if(et==="/$")return null}}return _e}function Mf(_e){_e=_e.previousSibling;for(var et=0;_e;){if(_e.nodeType===8){var rt=_e.data;if(rt==="$"||rt==="$!"||rt==="$?"){if(et===0)return _e;et--}else rt==="/$"&&et++}_e=_e.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(_e){var et=_e[Of];if(et)return et;for(var rt=_e.parentNode;rt;){if(et=rt[uf]||rt[Of]){if(rt=et.alternate,et.child!==null||rt!==null&&rt.child!==null)for(_e=Mf(_e);_e!==null;){if(rt=_e[Of])return rt;_e=Mf(_e)}return et}_e=rt,rt=_e.parentNode}return null}function Cb(_e){return _e=_e[Of]||_e[uf],!_e||_e.tag!==5&&_e.tag!==6&&_e.tag!==13&&_e.tag!==3?null:_e}function ue$1(_e){if(_e.tag===5||_e.tag===6)return _e.stateNode;throw Error(p$6(33))}function Db(_e){return _e[Pf]||null}var Sf=[],Tf=-1;function Uf(_e){return{current:_e}}function E$3(_e){0>Tf||(_e.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$2(_e,et){Tf++,Sf[Tf]=_e.current,_e.current=et}var Vf={},H$4=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(_e,et){var rt=_e.type.contextTypes;if(!rt)return Vf;var nt=_e.stateNode;if(nt&&nt.__reactInternalMemoizedUnmaskedChildContext===et)return nt.__reactInternalMemoizedMaskedChildContext;var st={},it;for(it in rt)st[it]=et[it];return nt&&(_e=_e.stateNode,_e.__reactInternalMemoizedUnmaskedChildContext=et,_e.__reactInternalMemoizedMaskedChildContext=st),st}function Zf(_e){return _e=_e.childContextTypes,_e!=null}function $f(){E$3(Wf),E$3(H$4)}function ag(_e,et,rt){if(H$4.current!==Vf)throw Error(p$6(168));G$2(H$4,et),G$2(Wf,rt)}function bg(_e,et,rt){var nt=_e.stateNode;if(et=et.childContextTypes,typeof nt.getChildContext!="function")return rt;nt=nt.getChildContext();for(var st in nt)if(!(st in et))throw Error(p$6(108,Ra(_e)||"Unknown",st));return A$3({},rt,nt)}function cg(_e){return _e=(_e=_e.stateNode)&&_e.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$4.current,G$2(H$4,_e),G$2(Wf,Wf.current),!0}function dg(_e,et,rt){var nt=_e.stateNode;if(!nt)throw Error(p$6(169));rt?(_e=bg(_e,et,Xf),nt.__reactInternalMemoizedMergedChildContext=_e,E$3(Wf),E$3(H$4),G$2(H$4,_e)):E$3(Wf),G$2(Wf,rt)}var eg=null,fg=!1,gg=!1;function hg(_e){eg===null?eg=[_e]:eg.push(_e)}function ig(_e){fg=!0,hg(_e)}function jg(){if(!gg&&eg!==null){gg=!0;var _e=0,et=C$6;try{var rt=eg;for(C$6=1;_e<rt.length;_e++){var nt=rt[_e];do nt=nt(!0);while(nt!==null)}eg=null,fg=!1}catch(st){throw eg!==null&&(eg=eg.slice(_e+1)),ac(fc,jg),st}finally{C$6=et,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(_e,et){kg[lg++]=ng,kg[lg++]=mg,mg=_e,ng=et}function ug(_e,et,rt){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=_e;var nt=rg;_e=sg;var st=32-oc(nt)-1;nt&=~(1<<st),rt+=1;var it=32-oc(et)+st;if(30<it){var at=st-st%5;it=(nt&(1<<at)-1).toString(32),nt>>=at,st-=at,rg=1<<32-oc(et)+st|rt<<st|nt,sg=it+_e}else rg=1<<it|rt<<st|nt,sg=_e}function vg(_e){_e.return!==null&&(tg(_e,1),ug(_e,1,0))}function wg(_e){for(;_e===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;_e===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$6=!1,zg=null;function Ag(_e,et){var rt=Bg(5,null,null,0);rt.elementType="DELETED",rt.stateNode=et,rt.return=_e,et=_e.deletions,et===null?(_e.deletions=[rt],_e.flags|=16):et.push(rt)}function Cg(_e,et){switch(_e.tag){case 5:var rt=_e.type;return et=et.nodeType!==1||rt.toLowerCase()!==et.nodeName.toLowerCase()?null:et,et!==null?(_e.stateNode=et,xg=_e,yg=Lf(et.firstChild),!0):!1;case 6:return et=_e.pendingProps===""||et.nodeType!==3?null:et,et!==null?(_e.stateNode=et,xg=_e,yg=null,!0):!1;case 13:return et=et.nodeType!==8?null:et,et!==null?(rt=qg!==null?{id:rg,overflow:sg}:null,_e.memoizedState={dehydrated:et,treeContext:rt,retryLane:1073741824},rt=Bg(18,null,null,0),rt.stateNode=et,rt.return=_e,_e.child=rt,xg=_e,yg=null,!0):!1;default:return!1}}function Dg(_e){return(_e.mode&1)!==0&&(_e.flags&128)===0}function Eg(_e){if(I$6){var et=yg;if(et){var rt=et;if(!Cg(_e,et)){if(Dg(_e))throw Error(p$6(418));et=Lf(rt.nextSibling);var nt=xg;et&&Cg(_e,et)?Ag(nt,rt):(_e.flags=_e.flags&-4097|2,I$6=!1,xg=_e)}}else{if(Dg(_e))throw Error(p$6(418));_e.flags=_e.flags&-4097|2,I$6=!1,xg=_e}}}function Fg(_e){for(_e=_e.return;_e!==null&&_e.tag!==5&&_e.tag!==3&&_e.tag!==13;)_e=_e.return;xg=_e}function Gg(_e){if(_e!==xg)return!1;if(!I$6)return Fg(_e),I$6=!0,!1;var et;if((et=_e.tag!==3)&&!(et=_e.tag!==5)&&(et=_e.type,et=et!=="head"&&et!=="body"&&!Ef(_e.type,_e.memoizedProps)),et&&(et=yg)){if(Dg(_e))throw Hg(),Error(p$6(418));for(;et;)Ag(_e,et),et=Lf(et.nextSibling)}if(Fg(_e),_e.tag===13){if(_e=_e.memoizedState,_e=_e!==null?_e.dehydrated:null,!_e)throw Error(p$6(317));e:{for(_e=_e.nextSibling,et=0;_e;){if(_e.nodeType===8){var rt=_e.data;if(rt==="/$"){if(et===0){yg=Lf(_e.nextSibling);break e}et--}else rt!=="$"&&rt!=="$!"&&rt!=="$?"||et++}_e=_e.nextSibling}yg=null}}else yg=xg?Lf(_e.stateNode.nextSibling):null;return!0}function Hg(){for(var _e=yg;_e;)_e=Lf(_e.nextSibling)}function Ig(){yg=xg=null,I$6=!1}function Jg(_e){zg===null?zg=[_e]:zg.push(_e)}var Kg=ua.ReactCurrentBatchConfig;function Lg(_e,et,rt){if(_e=rt.ref,_e!==null&&typeof _e!="function"&&typeof _e!="object"){if(rt._owner){if(rt=rt._owner,rt){if(rt.tag!==1)throw Error(p$6(309));var nt=rt.stateNode}if(!nt)throw Error(p$6(147,_e));var st=nt,it=""+_e;return et!==null&&et.ref!==null&&typeof et.ref=="function"&&et.ref._stringRef===it?et.ref:(et=function(at){var ot=st.refs;at===null?delete ot[it]:ot[it]=at},et._stringRef=it,et)}if(typeof _e!="string")throw Error(p$6(284));if(!rt._owner)throw Error(p$6(290,_e))}return _e}function Mg(_e,et){throw _e=Object.prototype.toString.call(et),Error(p$6(31,_e==="[object Object]"?"object with keys {"+Object.keys(et).join(", ")+"}":_e))}function Ng(_e){var et=_e._init;return et(_e._payload)}function Og(_e){function et(gt,Et){if(_e){var jt=gt.deletions;jt===null?(gt.deletions=[Et],gt.flags|=16):jt.push(Et)}}function rt(gt,Et){if(!_e)return null;for(;Et!==null;)et(gt,Et),Et=Et.sibling;return null}function nt(gt,Et){for(gt=new Map;Et!==null;)Et.key!==null?gt.set(Et.key,Et):gt.set(Et.index,Et),Et=Et.sibling;return gt}function st(gt,Et){return gt=Pg(gt,Et),gt.index=0,gt.sibling=null,gt}function it(gt,Et,jt){return gt.index=jt,_e?(jt=gt.alternate,jt!==null?(jt=jt.index,jt<Et?(gt.flags|=2,Et):jt):(gt.flags|=2,Et)):(gt.flags|=1048576,Et)}function at(gt){return _e&&gt.alternate===null&&(gt.flags|=2),gt}function ot(gt,Et,jt,kt){return Et===null||Et.tag!==6?(Et=Qg(jt,gt.mode,kt),Et.return=gt,Et):(Et=st(Et,jt),Et.return=gt,Et)}function lt(gt,Et,jt,kt){var Rt=jt.type;return Rt===ya?ut(gt,Et,jt.props.children,kt,jt.key):Et!==null&&(Et.elementType===Rt||typeof Rt=="object"&&Rt!==null&&Rt.$$typeof===Ha&&Ng(Rt)===Et.type)?(kt=st(Et,jt.props),kt.ref=Lg(gt,Et,jt),kt.return=gt,kt):(kt=Rg(jt.type,jt.key,jt.props,null,gt.mode,kt),kt.ref=Lg(gt,Et,jt),kt.return=gt,kt)}function ct(gt,Et,jt,kt){return Et===null||Et.tag!==4||Et.stateNode.containerInfo!==jt.containerInfo||Et.stateNode.implementation!==jt.implementation?(Et=Sg(jt,gt.mode,kt),Et.return=gt,Et):(Et=st(Et,jt.children||[]),Et.return=gt,Et)}function ut(gt,Et,jt,kt,Rt){return Et===null||Et.tag!==7?(Et=Tg(jt,gt.mode,kt,Rt),Et.return=gt,Et):(Et=st(Et,jt),Et.return=gt,Et)}function dt(gt,Et,jt){if(typeof Et=="string"&&Et!==""||typeof Et=="number")return Et=Qg(""+Et,gt.mode,jt),Et.return=gt,Et;if(typeof Et=="object"&&Et!==null){switch(Et.$$typeof){case va:return jt=Rg(Et.type,Et.key,Et.props,null,gt.mode,jt),jt.ref=Lg(gt,null,Et),jt.return=gt,jt;case wa:return Et=Sg(Et,gt.mode,jt),Et.return=gt,Et;case Ha:var kt=Et._init;return dt(gt,kt(Et._payload),jt)}if(eb(Et)||Ka(Et))return Et=Tg(Et,gt.mode,jt,null),Et.return=gt,Et;Mg(gt,Et)}return null}function pt(gt,Et,jt,kt){var Rt=Et!==null?Et.key:null;if(typeof jt=="string"&&jt!==""||typeof jt=="number")return Rt!==null?null:ot(gt,Et,""+jt,kt);if(typeof jt=="object"&&jt!==null){switch(jt.$$typeof){case va:return jt.key===Rt?lt(gt,Et,jt,kt):null;case wa:return jt.key===Rt?ct(gt,Et,jt,kt):null;case Ha:return Rt=jt._init,pt(gt,Et,Rt(jt._payload),kt)}if(eb(jt)||Ka(jt))return Rt!==null?null:ut(gt,Et,jt,kt,null);Mg(gt,jt)}return null}function mt(gt,Et,jt,kt,Rt){if(typeof kt=="string"&&kt!==""||typeof kt=="number")return gt=gt.get(jt)||null,ot(Et,gt,""+kt,Rt);if(typeof kt=="object"&&kt!==null){switch(kt.$$typeof){case va:return gt=gt.get(kt.key===null?jt:kt.key)||null,lt(Et,gt,kt,Rt);case wa:return gt=gt.get(kt.key===null?jt:kt.key)||null,ct(Et,gt,kt,Rt);case Ha:var St=kt._init;return mt(gt,Et,jt,St(kt._payload),Rt)}if(eb(kt)||Ka(kt))return gt=gt.get(jt)||null,ut(Et,gt,kt,Rt,null);Mg(Et,kt)}return null}function xt(gt,Et,jt,kt){for(var Rt=null,St=null,_t=Et,Nt=Et=0,Lt=null;_t!==null&&Nt<jt.length;Nt++){_t.index>Nt?(Lt=_t,_t=null):Lt=_t.sibling;var $t=pt(gt,_t,jt[Nt],kt);if($t===null){_t===null&&(_t=Lt);break}_e&&_t&&$t.alternate===null&&et(gt,_t),Et=it($t,Et,Nt),St===null?Rt=$t:St.sibling=$t,St=$t,_t=Lt}if(Nt===jt.length)return rt(gt,_t),I$6&&tg(gt,Nt),Rt;if(_t===null){for(;Nt<jt.length;Nt++)_t=dt(gt,jt[Nt],kt),_t!==null&&(Et=it(_t,Et,Nt),St===null?Rt=_t:St.sibling=_t,St=_t);return I$6&&tg(gt,Nt),Rt}for(_t=nt(gt,_t);Nt<jt.length;Nt++)Lt=mt(_t,gt,Nt,jt[Nt],kt),Lt!==null&&(_e&&Lt.alternate!==null&&_t.delete(Lt.key===null?Nt:Lt.key),Et=it(Lt,Et,Nt),St===null?Rt=Lt:St.sibling=Lt,St=Lt);return _e&&_t.forEach(function(Ft){return et(gt,Ft)}),I$6&&tg(gt,Nt),Rt}function yt(gt,Et,jt,kt){var Rt=Ka(jt);if(typeof Rt!="function")throw Error(p$6(150));if(jt=Rt.call(jt),jt==null)throw Error(p$6(151));for(var St=Rt=null,_t=Et,Nt=Et=0,Lt=null,$t=jt.next();_t!==null&&!$t.done;Nt++,$t=jt.next()){_t.index>Nt?(Lt=_t,_t=null):Lt=_t.sibling;var Ft=pt(gt,_t,$t.value,kt);if(Ft===null){_t===null&&(_t=Lt);break}_e&&_t&&Ft.alternate===null&&et(gt,_t),Et=it(Ft,Et,Nt),St===null?Rt=Ft:St.sibling=Ft,St=Ft,_t=Lt}if($t.done)return rt(gt,_t),I$6&&tg(gt,Nt),Rt;if(_t===null){for(;!$t.done;Nt++,$t=jt.next())$t=dt(gt,$t.value,kt),$t!==null&&(Et=it($t,Et,Nt),St===null?Rt=$t:St.sibling=$t,St=$t);return I$6&&tg(gt,Nt),Rt}for(_t=nt(gt,_t);!$t.done;Nt++,$t=jt.next())$t=mt(_t,gt,Nt,$t.value,kt),$t!==null&&(_e&&$t.alternate!==null&&_t.delete($t.key===null?Nt:$t.key),Et=it($t,Et,Nt),St===null?Rt=$t:St.sibling=$t,St=$t);return _e&&_t.forEach(function(Tt){return et(gt,Tt)}),I$6&&tg(gt,Nt),Rt}function vt(gt,Et,jt,kt){if(typeof jt=="object"&&jt!==null&&jt.type===ya&&jt.key===null&&(jt=jt.props.children),typeof jt=="object"&&jt!==null){switch(jt.$$typeof){case va:e:{for(var Rt=jt.key,St=Et;St!==null;){if(St.key===Rt){if(Rt=jt.type,Rt===ya){if(St.tag===7){rt(gt,St.sibling),Et=st(St,jt.props.children),Et.return=gt,gt=Et;break e}}else if(St.elementType===Rt||typeof Rt=="object"&&Rt!==null&&Rt.$$typeof===Ha&&Ng(Rt)===St.type){rt(gt,St.sibling),Et=st(St,jt.props),Et.ref=Lg(gt,St,jt),Et.return=gt,gt=Et;break e}rt(gt,St);break}else et(gt,St);St=St.sibling}jt.type===ya?(Et=Tg(jt.props.children,gt.mode,kt,jt.key),Et.return=gt,gt=Et):(kt=Rg(jt.type,jt.key,jt.props,null,gt.mode,kt),kt.ref=Lg(gt,Et,jt),kt.return=gt,gt=kt)}return at(gt);case wa:e:{for(St=jt.key;Et!==null;){if(Et.key===St)if(Et.tag===4&&Et.stateNode.containerInfo===jt.containerInfo&&Et.stateNode.implementation===jt.implementation){rt(gt,Et.sibling),Et=st(Et,jt.children||[]),Et.return=gt,gt=Et;break e}else{rt(gt,Et);break}else et(gt,Et);Et=Et.sibling}Et=Sg(jt,gt.mode,kt),Et.return=gt,gt=Et}return at(gt);case Ha:return St=jt._init,vt(gt,Et,St(jt._payload),kt)}if(eb(jt))return xt(gt,Et,jt,kt);if(Ka(jt))return yt(gt,Et,jt,kt);Mg(gt,jt)}return typeof jt=="string"&&jt!==""||typeof jt=="number"?(jt=""+jt,Et!==null&&Et.tag===6?(rt(gt,Et.sibling),Et=st(Et,jt),Et.return=gt,gt=Et):(rt(gt,Et),Et=Qg(jt,gt.mode,kt),Et.return=gt,gt=Et),at(gt)):rt(gt,Et)}return vt}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(_e){var et=Wg.current;E$3(Wg),_e._currentValue=et}function bh(_e,et,rt){for(;_e!==null;){var nt=_e.alternate;if((_e.childLanes&et)!==et?(_e.childLanes|=et,nt!==null&&(nt.childLanes|=et)):nt!==null&&(nt.childLanes&et)!==et&&(nt.childLanes|=et),_e===rt)break;_e=_e.return}}function ch(_e,et){Xg=_e,Zg=Yg=null,_e=_e.dependencies,_e!==null&&_e.firstContext!==null&&(_e.lanes&et&&(dh=!0),_e.firstContext=null)}function eh(_e){var et=_e._currentValue;if(Zg!==_e)if(_e={context:_e,memoizedValue:et,next:null},Yg===null){if(Xg===null)throw Error(p$6(308));Yg=_e,Xg.dependencies={lanes:0,firstContext:_e}}else Yg=Yg.next=_e;return et}var fh=null;function gh(_e){fh===null?fh=[_e]:fh.push(_e)}function hh(_e,et,rt,nt){var st=et.interleaved;return st===null?(rt.next=rt,gh(et)):(rt.next=st.next,st.next=rt),et.interleaved=rt,ih(_e,nt)}function ih(_e,et){_e.lanes|=et;var rt=_e.alternate;for(rt!==null&&(rt.lanes|=et),rt=_e,_e=_e.return;_e!==null;)_e.childLanes|=et,rt=_e.alternate,rt!==null&&(rt.childLanes|=et),rt=_e,_e=_e.return;return rt.tag===3?rt.stateNode:null}var jh=!1;function kh(_e){_e.updateQueue={baseState:_e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(_e,et){_e=_e.updateQueue,et.updateQueue===_e&&(et.updateQueue={baseState:_e.baseState,firstBaseUpdate:_e.firstBaseUpdate,lastBaseUpdate:_e.lastBaseUpdate,shared:_e.shared,effects:_e.effects})}function mh(_e,et){return{eventTime:_e,lane:et,tag:0,payload:null,callback:null,next:null}}function nh(_e,et,rt){var nt=_e.updateQueue;if(nt===null)return null;if(nt=nt.shared,K$1&2){var st=nt.pending;return st===null?et.next=et:(et.next=st.next,st.next=et),nt.pending=et,ih(_e,rt)}return st=nt.interleaved,st===null?(et.next=et,gh(nt)):(et.next=st.next,st.next=et),nt.interleaved=et,ih(_e,rt)}function oh(_e,et,rt){if(et=et.updateQueue,et!==null&&(et=et.shared,(rt&4194240)!==0)){var nt=et.lanes;nt&=_e.pendingLanes,rt|=nt,et.lanes=rt,Cc(_e,rt)}}function ph(_e,et){var rt=_e.updateQueue,nt=_e.alternate;if(nt!==null&&(nt=nt.updateQueue,rt===nt)){var st=null,it=null;if(rt=rt.firstBaseUpdate,rt!==null){do{var at={eventTime:rt.eventTime,lane:rt.lane,tag:rt.tag,payload:rt.payload,callback:rt.callback,next:null};it===null?st=it=at:it=it.next=at,rt=rt.next}while(rt!==null);it===null?st=it=et:it=it.next=et}else st=it=et;rt={baseState:nt.baseState,firstBaseUpdate:st,lastBaseUpdate:it,shared:nt.shared,effects:nt.effects},_e.updateQueue=rt;return}_e=rt.lastBaseUpdate,_e===null?rt.firstBaseUpdate=et:_e.next=et,rt.lastBaseUpdate=et}function qh(_e,et,rt,nt){var st=_e.updateQueue;jh=!1;var it=st.firstBaseUpdate,at=st.lastBaseUpdate,ot=st.shared.pending;if(ot!==null){st.shared.pending=null;var lt=ot,ct=lt.next;lt.next=null,at===null?it=ct:at.next=ct,at=lt;var ut=_e.alternate;ut!==null&&(ut=ut.updateQueue,ot=ut.lastBaseUpdate,ot!==at&&(ot===null?ut.firstBaseUpdate=ct:ot.next=ct,ut.lastBaseUpdate=lt))}if(it!==null){var dt=st.baseState;at=0,ut=ct=lt=null,ot=it;do{var pt=ot.lane,mt=ot.eventTime;if((nt&pt)===pt){ut!==null&&(ut=ut.next={eventTime:mt,lane:0,tag:ot.tag,payload:ot.payload,callback:ot.callback,next:null});e:{var xt=_e,yt=ot;switch(pt=et,mt=rt,yt.tag){case 1:if(xt=yt.payload,typeof xt=="function"){dt=xt.call(mt,dt,pt);break e}dt=xt;break e;case 3:xt.flags=xt.flags&-65537|128;case 0:if(xt=yt.payload,pt=typeof xt=="function"?xt.call(mt,dt,pt):xt,pt==null)break e;dt=A$3({},dt,pt);break e;case 2:jh=!0}}ot.callback!==null&&ot.lane!==0&&(_e.flags|=64,pt=st.effects,pt===null?st.effects=[ot]:pt.push(ot))}else mt={eventTime:mt,lane:pt,tag:ot.tag,payload:ot.payload,callback:ot.callback,next:null},ut===null?(ct=ut=mt,lt=dt):ut=ut.next=mt,at|=pt;if(ot=ot.next,ot===null){if(ot=st.shared.pending,ot===null)break;pt=ot,ot=pt.next,pt.next=null,st.lastBaseUpdate=pt,st.shared.pending=null}}while(!0);if(ut===null&&(lt=dt),st.baseState=lt,st.firstBaseUpdate=ct,st.lastBaseUpdate=ut,et=st.shared.interleaved,et!==null){st=et;do at|=st.lane,st=st.next;while(st!==et)}else it===null&&(st.shared.lanes=0);rh|=at,_e.lanes=at,_e.memoizedState=dt}}function sh(_e,et,rt){if(_e=et.effects,et.effects=null,_e!==null)for(et=0;et<_e.length;et++){var nt=_e[et],st=nt.callback;if(st!==null){if(nt.callback=null,nt=rt,typeof st!="function")throw Error(p$6(191,st));st.call(nt)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(_e){if(_e===th)throw Error(p$6(174));return _e}function yh(_e,et){switch(G$2(wh,et),G$2(vh,_e),G$2(uh,th),_e=et.nodeType,_e){case 9:case 11:et=(et=et.documentElement)?et.namespaceURI:lb(null,"");break;default:_e=_e===8?et.parentNode:et,et=_e.namespaceURI||null,_e=_e.tagName,et=lb(et,_e)}E$3(uh),G$2(uh,et)}function zh(){E$3(uh),E$3(vh),E$3(wh)}function Ah(_e){xh(wh.current);var et=xh(uh.current),rt=lb(et,_e.type);et!==rt&&(G$2(vh,_e),G$2(uh,rt))}function Bh(_e){vh.current===_e&&(E$3(uh),E$3(vh))}var L$3=Uf(0);function Ch(_e){for(var et=_e;et!==null;){if(et.tag===13){var rt=et.memoizedState;if(rt!==null&&(rt=rt.dehydrated,rt===null||rt.data==="$?"||rt.data==="$!"))return et}else if(et.tag===19&&et.memoizedProps.revealOrder!==void 0){if(et.flags&128)return et}else if(et.child!==null){et.child.return=et,et=et.child;continue}if(et===_e)break;for(;et.sibling===null;){if(et.return===null||et.return===_e)return null;et=et.return}et.sibling.return=et.return,et=et.sibling}return null}var Dh=[];function Eh(){for(var _e=0;_e<Dh.length;_e++)Dh[_e]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M$3=null,N$2=null,O$3=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P$4(){throw Error(p$6(321))}function Mh(_e,et){if(et===null)return!1;for(var rt=0;rt<et.length&&rt<_e.length;rt++)if(!He$2(_e[rt],et[rt]))return!1;return!0}function Nh(_e,et,rt,nt,st,it){if(Hh=it,M$3=et,et.memoizedState=null,et.updateQueue=null,et.lanes=0,Fh.current=_e===null||_e.memoizedState===null?Oh:Ph,_e=rt(nt,st),Jh){it=0;do{if(Jh=!1,Kh=0,25<=it)throw Error(p$6(301));it+=1,O$3=N$2=null,et.updateQueue=null,Fh.current=Qh,_e=rt(nt,st)}while(Jh)}if(Fh.current=Rh,et=N$2!==null&&N$2.next!==null,Hh=0,O$3=N$2=M$3=null,Ih=!1,et)throw Error(p$6(300));return _e}function Sh(){var _e=Kh!==0;return Kh=0,_e}function Th(){var _e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O$3===null?M$3.memoizedState=O$3=_e:O$3=O$3.next=_e,O$3}function Uh(){if(N$2===null){var _e=M$3.alternate;_e=_e!==null?_e.memoizedState:null}else _e=N$2.next;var et=O$3===null?M$3.memoizedState:O$3.next;if(et!==null)O$3=et,N$2=_e;else{if(_e===null)throw Error(p$6(310));N$2=_e,_e={memoizedState:N$2.memoizedState,baseState:N$2.baseState,baseQueue:N$2.baseQueue,queue:N$2.queue,next:null},O$3===null?M$3.memoizedState=O$3=_e:O$3=O$3.next=_e}return O$3}function Vh(_e,et){return typeof et=="function"?et(_e):et}function Wh(_e){var et=Uh(),rt=et.queue;if(rt===null)throw Error(p$6(311));rt.lastRenderedReducer=_e;var nt=N$2,st=nt.baseQueue,it=rt.pending;if(it!==null){if(st!==null){var at=st.next;st.next=it.next,it.next=at}nt.baseQueue=st=it,rt.pending=null}if(st!==null){it=st.next,nt=nt.baseState;var ot=at=null,lt=null,ct=it;do{var ut=ct.lane;if((Hh&ut)===ut)lt!==null&&(lt=lt.next={lane:0,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null}),nt=ct.hasEagerState?ct.eagerState:_e(nt,ct.action);else{var dt={lane:ut,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null};lt===null?(ot=lt=dt,at=nt):lt=lt.next=dt,M$3.lanes|=ut,rh|=ut}ct=ct.next}while(ct!==null&&ct!==it);lt===null?at=nt:lt.next=ot,He$2(nt,et.memoizedState)||(dh=!0),et.memoizedState=nt,et.baseState=at,et.baseQueue=lt,rt.lastRenderedState=nt}if(_e=rt.interleaved,_e!==null){st=_e;do it=st.lane,M$3.lanes|=it,rh|=it,st=st.next;while(st!==_e)}else st===null&&(rt.lanes=0);return[et.memoizedState,rt.dispatch]}function Xh(_e){var et=Uh(),rt=et.queue;if(rt===null)throw Error(p$6(311));rt.lastRenderedReducer=_e;var nt=rt.dispatch,st=rt.pending,it=et.memoizedState;if(st!==null){rt.pending=null;var at=st=st.next;do it=_e(it,at.action),at=at.next;while(at!==st);He$2(it,et.memoizedState)||(dh=!0),et.memoizedState=it,et.baseQueue===null&&(et.baseState=it),rt.lastRenderedState=it}return[it,nt]}function Yh(){}function Zh(_e,et){var rt=M$3,nt=Uh(),st=et(),it=!He$2(nt.memoizedState,st);if(it&&(nt.memoizedState=st,dh=!0),nt=nt.queue,$h(ai.bind(null,rt,nt,_e),[_e]),nt.getSnapshot!==et||it||O$3!==null&&O$3.memoizedState.tag&1){if(rt.flags|=2048,bi(9,ci.bind(null,rt,nt,st,et),void 0,null),Q$1===null)throw Error(p$6(349));Hh&30||di(rt,et,st)}return st}function di(_e,et,rt){_e.flags|=16384,_e={getSnapshot:et,value:rt},et=M$3.updateQueue,et===null?(et={lastEffect:null,stores:null},M$3.updateQueue=et,et.stores=[_e]):(rt=et.stores,rt===null?et.stores=[_e]:rt.push(_e))}function ci(_e,et,rt,nt){et.value=rt,et.getSnapshot=nt,ei(et)&&fi(_e)}function ai(_e,et,rt){return rt(function(){ei(et)&&fi(_e)})}function ei(_e){var et=_e.getSnapshot;_e=_e.value;try{var rt=et();return!He$2(_e,rt)}catch{return!0}}function fi(_e){var et=ih(_e,1);et!==null&&gi(et,_e,1,-1)}function hi(_e){var et=Th();return typeof _e=="function"&&(_e=_e()),et.memoizedState=et.baseState=_e,_e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:_e},et.queue=_e,_e=_e.dispatch=ii.bind(null,M$3,_e),[et.memoizedState,_e]}function bi(_e,et,rt,nt){return _e={tag:_e,create:et,destroy:rt,deps:nt,next:null},et=M$3.updateQueue,et===null?(et={lastEffect:null,stores:null},M$3.updateQueue=et,et.lastEffect=_e.next=_e):(rt=et.lastEffect,rt===null?et.lastEffect=_e.next=_e:(nt=rt.next,rt.next=_e,_e.next=nt,et.lastEffect=_e)),_e}function ji(){return Uh().memoizedState}function ki(_e,et,rt,nt){var st=Th();M$3.flags|=_e,st.memoizedState=bi(1|et,rt,void 0,nt===void 0?null:nt)}function li(_e,et,rt,nt){var st=Uh();nt=nt===void 0?null:nt;var it=void 0;if(N$2!==null){var at=N$2.memoizedState;if(it=at.destroy,nt!==null&&Mh(nt,at.deps)){st.memoizedState=bi(et,rt,it,nt);return}}M$3.flags|=_e,st.memoizedState=bi(1|et,rt,it,nt)}function mi(_e,et){return ki(8390656,8,_e,et)}function $h(_e,et){return li(2048,8,_e,et)}function ni(_e,et){return li(4,2,_e,et)}function oi(_e,et){return li(4,4,_e,et)}function pi$2(_e,et){if(typeof et=="function")return _e=_e(),et(_e),function(){et(null)};if(et!=null)return _e=_e(),et.current=_e,function(){et.current=null}}function qi(_e,et,rt){return rt=rt!=null?rt.concat([_e]):null,li(4,4,pi$2.bind(null,et,_e),rt)}function ri(){}function si(_e,et){var rt=Uh();et=et===void 0?null:et;var nt=rt.memoizedState;return nt!==null&&et!==null&&Mh(et,nt[1])?nt[0]:(rt.memoizedState=[_e,et],_e)}function ti(_e,et){var rt=Uh();et=et===void 0?null:et;var nt=rt.memoizedState;return nt!==null&&et!==null&&Mh(et,nt[1])?nt[0]:(_e=_e(),rt.memoizedState=[_e,et],_e)}function ui(_e,et,rt){return Hh&21?(He$2(rt,et)||(rt=yc(),M$3.lanes|=rt,rh|=rt,_e.baseState=!0),et):(_e.baseState&&(_e.baseState=!1,dh=!0),_e.memoizedState=rt)}function vi$1(_e,et){var rt=C$6;C$6=rt!==0&&4>rt?rt:4,_e(!0);var nt=Gh.transition;Gh.transition={};try{_e(!1),et()}finally{C$6=rt,Gh.transition=nt}}function wi(){return Uh().memoizedState}function xi(_e,et,rt){var nt=yi(_e);if(rt={lane:nt,action:rt,hasEagerState:!1,eagerState:null,next:null},zi(_e))Ai(et,rt);else if(rt=hh(_e,et,rt,nt),rt!==null){var st=R();gi(rt,_e,nt,st),Bi(rt,et,nt)}}function ii(_e,et,rt){var nt=yi(_e),st={lane:nt,action:rt,hasEagerState:!1,eagerState:null,next:null};if(zi(_e))Ai(et,st);else{var it=_e.alternate;if(_e.lanes===0&&(it===null||it.lanes===0)&&(it=et.lastRenderedReducer,it!==null))try{var at=et.lastRenderedState,ot=it(at,rt);if(st.hasEagerState=!0,st.eagerState=ot,He$2(ot,at)){var lt=et.interleaved;lt===null?(st.next=st,gh(et)):(st.next=lt.next,lt.next=st),et.interleaved=st;return}}catch{}finally{}rt=hh(_e,et,st,nt),rt!==null&&(st=R(),gi(rt,_e,nt,st),Bi(rt,et,nt))}}function zi(_e){var et=_e.alternate;return _e===M$3||et!==null&&et===M$3}function Ai(_e,et){Jh=Ih=!0;var rt=_e.pending;rt===null?et.next=et:(et.next=rt.next,rt.next=et),_e.pending=et}function Bi(_e,et,rt){if(rt&4194240){var nt=et.lanes;nt&=_e.pendingLanes,rt|=nt,et.lanes=rt,Cc(_e,rt)}}var Rh={readContext:eh,useCallback:P$4,useContext:P$4,useEffect:P$4,useImperativeHandle:P$4,useInsertionEffect:P$4,useLayoutEffect:P$4,useMemo:P$4,useReducer:P$4,useRef:P$4,useState:P$4,useDebugValue:P$4,useDeferredValue:P$4,useTransition:P$4,useMutableSource:P$4,useSyncExternalStore:P$4,useId:P$4,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(_e,et){return Th().memoizedState=[_e,et===void 0?null:et],_e},useContext:eh,useEffect:mi,useImperativeHandle:function(_e,et,rt){return rt=rt!=null?rt.concat([_e]):null,ki(4194308,4,pi$2.bind(null,et,_e),rt)},useLayoutEffect:function(_e,et){return ki(4194308,4,_e,et)},useInsertionEffect:function(_e,et){return ki(4,2,_e,et)},useMemo:function(_e,et){var rt=Th();return et=et===void 0?null:et,_e=_e(),rt.memoizedState=[_e,et],_e},useReducer:function(_e,et,rt){var nt=Th();return et=rt!==void 0?rt(et):et,nt.memoizedState=nt.baseState=et,_e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_e,lastRenderedState:et},nt.queue=_e,_e=_e.dispatch=xi.bind(null,M$3,_e),[nt.memoizedState,_e]},useRef:function(_e){var et=Th();return _e={current:_e},et.memoizedState=_e},useState:hi,useDebugValue:ri,useDeferredValue:function(_e){return Th().memoizedState=_e},useTransition:function(){var _e=hi(!1),et=_e[0];return _e=vi$1.bind(null,_e[1]),Th().memoizedState=_e,[et,_e]},useMutableSource:function(){},useSyncExternalStore:function(_e,et,rt){var nt=M$3,st=Th();if(I$6){if(rt===void 0)throw Error(p$6(407));rt=rt()}else{if(rt=et(),Q$1===null)throw Error(p$6(349));Hh&30||di(nt,et,rt)}st.memoizedState=rt;var it={value:rt,getSnapshot:et};return st.queue=it,mi(ai.bind(null,nt,it,_e),[_e]),nt.flags|=2048,bi(9,ci.bind(null,nt,it,rt,et),void 0,null),rt},useId:function(){var _e=Th(),et=Q$1.identifierPrefix;if(I$6){var rt=sg,nt=rg;rt=(nt&~(1<<32-oc(nt)-1)).toString(32)+rt,et=":"+et+"R"+rt,rt=Kh++,0<rt&&(et+="H"+rt.toString(32)),et+=":"}else rt=Lh++,et=":"+et+"r"+rt.toString(32)+":";return _e.memoizedState=et},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(_e){var et=Uh();return ui(et,N$2.memoizedState,_e)},useTransition:function(){var _e=Wh(Vh)[0],et=Uh().memoizedState;return[_e,et]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(_e){var et=Uh();return N$2===null?et.memoizedState=_e:ui(et,N$2.memoizedState,_e)},useTransition:function(){var _e=Xh(Vh)[0],et=Uh().memoizedState;return[_e,et]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(_e,et){if(_e&&_e.defaultProps){et=A$3({},et),_e=_e.defaultProps;for(var rt in _e)et[rt]===void 0&&(et[rt]=_e[rt]);return et}return et}function Di(_e,et,rt,nt){et=_e.memoizedState,rt=rt(nt,et),rt=rt==null?et:A$3({},et,rt),_e.memoizedState=rt,_e.lanes===0&&(_e.updateQueue.baseState=rt)}var Ei={isMounted:function(_e){return(_e=_e._reactInternals)?Vb(_e)===_e:!1},enqueueSetState:function(_e,et,rt){_e=_e._reactInternals;var nt=R(),st=yi(_e),it=mh(nt,st);it.payload=et,rt!=null&&(it.callback=rt),et=nh(_e,it,st),et!==null&&(gi(et,_e,st,nt),oh(et,_e,st))},enqueueReplaceState:function(_e,et,rt){_e=_e._reactInternals;var nt=R(),st=yi(_e),it=mh(nt,st);it.tag=1,it.payload=et,rt!=null&&(it.callback=rt),et=nh(_e,it,st),et!==null&&(gi(et,_e,st,nt),oh(et,_e,st))},enqueueForceUpdate:function(_e,et){_e=_e._reactInternals;var rt=R(),nt=yi(_e),st=mh(rt,nt);st.tag=2,et!=null&&(st.callback=et),et=nh(_e,st,nt),et!==null&&(gi(et,_e,nt,rt),oh(et,_e,nt))}};function Fi(_e,et,rt,nt,st,it,at){return _e=_e.stateNode,typeof _e.shouldComponentUpdate=="function"?_e.shouldComponentUpdate(nt,it,at):et.prototype&&et.prototype.isPureReactComponent?!Ie$2(rt,nt)||!Ie$2(st,it):!0}function Gi(_e,et,rt){var nt=!1,st=Vf,it=et.contextType;return typeof it=="object"&&it!==null?it=eh(it):(st=Zf(et)?Xf:H$4.current,nt=et.contextTypes,it=(nt=nt!=null)?Yf(_e,st):Vf),et=new et(rt,it),_e.memoizedState=et.state!==null&&et.state!==void 0?et.state:null,et.updater=Ei,_e.stateNode=et,et._reactInternals=_e,nt&&(_e=_e.stateNode,_e.__reactInternalMemoizedUnmaskedChildContext=st,_e.__reactInternalMemoizedMaskedChildContext=it),et}function Hi(_e,et,rt,nt){_e=et.state,typeof et.componentWillReceiveProps=="function"&&et.componentWillReceiveProps(rt,nt),typeof et.UNSAFE_componentWillReceiveProps=="function"&&et.UNSAFE_componentWillReceiveProps(rt,nt),et.state!==_e&&Ei.enqueueReplaceState(et,et.state,null)}function Ii(_e,et,rt,nt){var st=_e.stateNode;st.props=rt,st.state=_e.memoizedState,st.refs={},kh(_e);var it=et.contextType;typeof it=="object"&&it!==null?st.context=eh(it):(it=Zf(et)?Xf:H$4.current,st.context=Yf(_e,it)),st.state=_e.memoizedState,it=et.getDerivedStateFromProps,typeof it=="function"&&(Di(_e,et,it,rt),st.state=_e.memoizedState),typeof et.getDerivedStateFromProps=="function"||typeof st.getSnapshotBeforeUpdate=="function"||typeof st.UNSAFE_componentWillMount!="function"&&typeof st.componentWillMount!="function"||(et=st.state,typeof st.componentWillMount=="function"&&st.componentWillMount(),typeof st.UNSAFE_componentWillMount=="function"&&st.UNSAFE_componentWillMount(),et!==st.state&&Ei.enqueueReplaceState(st,st.state,null),qh(_e,rt,st,nt),st.state=_e.memoizedState),typeof st.componentDidMount=="function"&&(_e.flags|=4194308)}function Ji(_e,et){try{var rt="",nt=et;do rt+=Pa(nt),nt=nt.return;while(nt);var st=rt}catch(it){st=`
Error generating stack: `+it.message+`
`+it.stack}return{value:_e,source:et,stack:st,digest:null}}function Ki(_e,et,rt){return{value:_e,source:null,stack:rt??null,digest:et??null}}function Li(_e,et){try{console.error(et.value)}catch(rt){setTimeout(function(){throw rt})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(_e,et,rt){rt=mh(-1,rt),rt.tag=3,rt.payload={element:null};var nt=et.value;return rt.callback=function(){Oi||(Oi=!0,Pi=nt),Li(_e,et)},rt}function Qi(_e,et,rt){rt=mh(-1,rt),rt.tag=3;var nt=_e.type.getDerivedStateFromError;if(typeof nt=="function"){var st=et.value;rt.payload=function(){return nt(st)},rt.callback=function(){Li(_e,et)}}var it=_e.stateNode;return it!==null&&typeof it.componentDidCatch=="function"&&(rt.callback=function(){Li(_e,et),typeof nt!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var at=et.stack;this.componentDidCatch(et.value,{componentStack:at!==null?at:""})}),rt}function Si(_e,et,rt){var nt=_e.pingCache;if(nt===null){nt=_e.pingCache=new Mi;var st=new Set;nt.set(et,st)}else st=nt.get(et),st===void 0&&(st=new Set,nt.set(et,st));st.has(rt)||(st.add(rt),_e=Ti.bind(null,_e,et,rt),et.then(_e,_e))}function Ui(_e){do{var et;if((et=_e.tag===13)&&(et=_e.memoizedState,et=et!==null?et.dehydrated!==null:!0),et)return _e;_e=_e.return}while(_e!==null);return null}function Vi(_e,et,rt,nt,st){return _e.mode&1?(_e.flags|=65536,_e.lanes=st,_e):(_e===et?_e.flags|=65536:(_e.flags|=128,rt.flags|=131072,rt.flags&=-52805,rt.tag===1&&(rt.alternate===null?rt.tag=17:(et=mh(-1,1),et.tag=2,nh(rt,et,1))),rt.lanes|=1),_e)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(_e,et,rt,nt){et.child=_e===null?Vg(et,null,rt,nt):Ug(et,_e.child,rt,nt)}function Yi(_e,et,rt,nt,st){rt=rt.render;var it=et.ref;return ch(et,st),nt=Nh(_e,et,rt,nt,it,st),rt=Sh(),_e!==null&&!dh?(et.updateQueue=_e.updateQueue,et.flags&=-2053,_e.lanes&=~st,Zi(_e,et,st)):(I$6&&rt&&vg(et),et.flags|=1,Xi(_e,et,nt,st),et.child)}function $i(_e,et,rt,nt,st){if(_e===null){var it=rt.type;return typeof it=="function"&&!aj(it)&&it.defaultProps===void 0&&rt.compare===null&&rt.defaultProps===void 0?(et.tag=15,et.type=it,bj(_e,et,it,nt,st)):(_e=Rg(rt.type,null,nt,et,et.mode,st),_e.ref=et.ref,_e.return=et,et.child=_e)}if(it=_e.child,!(_e.lanes&st)){var at=it.memoizedProps;if(rt=rt.compare,rt=rt!==null?rt:Ie$2,rt(at,nt)&&_e.ref===et.ref)return Zi(_e,et,st)}return et.flags|=1,_e=Pg(it,nt),_e.ref=et.ref,_e.return=et,et.child=_e}function bj(_e,et,rt,nt,st){if(_e!==null){var it=_e.memoizedProps;if(Ie$2(it,nt)&&_e.ref===et.ref)if(dh=!1,et.pendingProps=nt=it,(_e.lanes&st)!==0)_e.flags&131072&&(dh=!0);else return et.lanes=_e.lanes,Zi(_e,et,st)}return cj(_e,et,rt,nt,st)}function dj(_e,et,rt){var nt=et.pendingProps,st=nt.children,it=_e!==null?_e.memoizedState:null;if(nt.mode==="hidden")if(!(et.mode&1))et.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$2(ej,fj),fj|=rt;else{if(!(rt&1073741824))return _e=it!==null?it.baseLanes|rt:rt,et.lanes=et.childLanes=1073741824,et.memoizedState={baseLanes:_e,cachePool:null,transitions:null},et.updateQueue=null,G$2(ej,fj),fj|=_e,null;et.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt=it!==null?it.baseLanes:rt,G$2(ej,fj),fj|=nt}else it!==null?(nt=it.baseLanes|rt,et.memoizedState=null):nt=rt,G$2(ej,fj),fj|=nt;return Xi(_e,et,st,rt),et.child}function gj(_e,et){var rt=et.ref;(_e===null&&rt!==null||_e!==null&&_e.ref!==rt)&&(et.flags|=512,et.flags|=2097152)}function cj(_e,et,rt,nt,st){var it=Zf(rt)?Xf:H$4.current;return it=Yf(et,it),ch(et,st),rt=Nh(_e,et,rt,nt,it,st),nt=Sh(),_e!==null&&!dh?(et.updateQueue=_e.updateQueue,et.flags&=-2053,_e.lanes&=~st,Zi(_e,et,st)):(I$6&&nt&&vg(et),et.flags|=1,Xi(_e,et,rt,st),et.child)}function hj(_e,et,rt,nt,st){if(Zf(rt)){var it=!0;cg(et)}else it=!1;if(ch(et,st),et.stateNode===null)ij(_e,et),Gi(et,rt,nt),Ii(et,rt,nt,st),nt=!0;else if(_e===null){var at=et.stateNode,ot=et.memoizedProps;at.props=ot;var lt=at.context,ct=rt.contextType;typeof ct=="object"&&ct!==null?ct=eh(ct):(ct=Zf(rt)?Xf:H$4.current,ct=Yf(et,ct));var ut=rt.getDerivedStateFromProps,dt=typeof ut=="function"||typeof at.getSnapshotBeforeUpdate=="function";dt||typeof at.UNSAFE_componentWillReceiveProps!="function"&&typeof at.componentWillReceiveProps!="function"||(ot!==nt||lt!==ct)&&Hi(et,at,nt,ct),jh=!1;var pt=et.memoizedState;at.state=pt,qh(et,nt,at,st),lt=et.memoizedState,ot!==nt||pt!==lt||Wf.current||jh?(typeof ut=="function"&&(Di(et,rt,ut,nt),lt=et.memoizedState),(ot=jh||Fi(et,rt,ot,nt,pt,lt,ct))?(dt||typeof at.UNSAFE_componentWillMount!="function"&&typeof at.componentWillMount!="function"||(typeof at.componentWillMount=="function"&&at.componentWillMount(),typeof at.UNSAFE_componentWillMount=="function"&&at.UNSAFE_componentWillMount()),typeof at.componentDidMount=="function"&&(et.flags|=4194308)):(typeof at.componentDidMount=="function"&&(et.flags|=4194308),et.memoizedProps=nt,et.memoizedState=lt),at.props=nt,at.state=lt,at.context=ct,nt=ot):(typeof at.componentDidMount=="function"&&(et.flags|=4194308),nt=!1)}else{at=et.stateNode,lh(_e,et),ot=et.memoizedProps,ct=et.type===et.elementType?ot:Ci(et.type,ot),at.props=ct,dt=et.pendingProps,pt=at.context,lt=rt.contextType,typeof lt=="object"&&lt!==null?lt=eh(lt):(lt=Zf(rt)?Xf:H$4.current,lt=Yf(et,lt));var mt=rt.getDerivedStateFromProps;(ut=typeof mt=="function"||typeof at.getSnapshotBeforeUpdate=="function")||typeof at.UNSAFE_componentWillReceiveProps!="function"&&typeof at.componentWillReceiveProps!="function"||(ot!==dt||pt!==lt)&&Hi(et,at,nt,lt),jh=!1,pt=et.memoizedState,at.state=pt,qh(et,nt,at,st);var xt=et.memoizedState;ot!==dt||pt!==xt||Wf.current||jh?(typeof mt=="function"&&(Di(et,rt,mt,nt),xt=et.memoizedState),(ct=jh||Fi(et,rt,ct,nt,pt,xt,lt)||!1)?(ut||typeof at.UNSAFE_componentWillUpdate!="function"&&typeof at.componentWillUpdate!="function"||(typeof at.componentWillUpdate=="function"&&at.componentWillUpdate(nt,xt,lt),typeof at.UNSAFE_componentWillUpdate=="function"&&at.UNSAFE_componentWillUpdate(nt,xt,lt)),typeof at.componentDidUpdate=="function"&&(et.flags|=4),typeof at.getSnapshotBeforeUpdate=="function"&&(et.flags|=1024)):(typeof at.componentDidUpdate!="function"||ot===_e.memoizedProps&&pt===_e.memoizedState||(et.flags|=4),typeof at.getSnapshotBeforeUpdate!="function"||ot===_e.memoizedProps&&pt===_e.memoizedState||(et.flags|=1024),et.memoizedProps=nt,et.memoizedState=xt),at.props=nt,at.state=xt,at.context=lt,nt=ct):(typeof at.componentDidUpdate!="function"||ot===_e.memoizedProps&&pt===_e.memoizedState||(et.flags|=4),typeof at.getSnapshotBeforeUpdate!="function"||ot===_e.memoizedProps&&pt===_e.memoizedState||(et.flags|=1024),nt=!1)}return jj(_e,et,rt,nt,it,st)}function jj(_e,et,rt,nt,st,it){gj(_e,et);var at=(et.flags&128)!==0;if(!nt&&!at)return st&&dg(et,rt,!1),Zi(_e,et,it);nt=et.stateNode,Wi.current=et;var ot=at&&typeof rt.getDerivedStateFromError!="function"?null:nt.render();return et.flags|=1,_e!==null&&at?(et.child=Ug(et,_e.child,null,it),et.child=Ug(et,null,ot,it)):Xi(_e,et,ot,it),et.memoizedState=nt.state,st&&dg(et,rt,!0),et.child}function kj(_e){var et=_e.stateNode;et.pendingContext?ag(_e,et.pendingContext,et.pendingContext!==et.context):et.context&&ag(_e,et.context,!1),yh(_e,et.containerInfo)}function lj(_e,et,rt,nt,st){return Ig(),Jg(st),et.flags|=256,Xi(_e,et,rt,nt),et.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(_e){return{baseLanes:_e,cachePool:null,transitions:null}}function oj(_e,et,rt){var nt=et.pendingProps,st=L$3.current,it=!1,at=(et.flags&128)!==0,ot;if((ot=at)||(ot=_e!==null&&_e.memoizedState===null?!1:(st&2)!==0),ot?(it=!0,et.flags&=-129):(_e===null||_e.memoizedState!==null)&&(st|=1),G$2(L$3,st&1),_e===null)return Eg(et),_e=et.memoizedState,_e!==null&&(_e=_e.dehydrated,_e!==null)?(et.mode&1?_e.data==="$!"?et.lanes=8:et.lanes=1073741824:et.lanes=1,null):(at=nt.children,_e=nt.fallback,it?(nt=et.mode,it=et.child,at={mode:"hidden",children:at},!(nt&1)&&it!==null?(it.childLanes=0,it.pendingProps=at):it=pj(at,nt,0,null),_e=Tg(_e,nt,rt,null),it.return=et,_e.return=et,it.sibling=_e,et.child=it,et.child.memoizedState=nj(rt),et.memoizedState=mj,_e):qj(et,at));if(st=_e.memoizedState,st!==null&&(ot=st.dehydrated,ot!==null))return rj(_e,et,at,nt,ot,st,rt);if(it){it=nt.fallback,at=et.mode,st=_e.child,ot=st.sibling;var lt={mode:"hidden",children:nt.children};return!(at&1)&&et.child!==st?(nt=et.child,nt.childLanes=0,nt.pendingProps=lt,et.deletions=null):(nt=Pg(st,lt),nt.subtreeFlags=st.subtreeFlags&14680064),ot!==null?it=Pg(ot,it):(it=Tg(it,at,rt,null),it.flags|=2),it.return=et,nt.return=et,nt.sibling=it,et.child=nt,nt=it,it=et.child,at=_e.child.memoizedState,at=at===null?nj(rt):{baseLanes:at.baseLanes|rt,cachePool:null,transitions:at.transitions},it.memoizedState=at,it.childLanes=_e.childLanes&~rt,et.memoizedState=mj,nt}return it=_e.child,_e=it.sibling,nt=Pg(it,{mode:"visible",children:nt.children}),!(et.mode&1)&&(nt.lanes=rt),nt.return=et,nt.sibling=null,_e!==null&&(rt=et.deletions,rt===null?(et.deletions=[_e],et.flags|=16):rt.push(_e)),et.child=nt,et.memoizedState=null,nt}function qj(_e,et){return et=pj({mode:"visible",children:et},_e.mode,0,null),et.return=_e,_e.child=et}function sj(_e,et,rt,nt){return nt!==null&&Jg(nt),Ug(et,_e.child,null,rt),_e=qj(et,et.pendingProps.children),_e.flags|=2,et.memoizedState=null,_e}function rj(_e,et,rt,nt,st,it,at){if(rt)return et.flags&256?(et.flags&=-257,nt=Ki(Error(p$6(422))),sj(_e,et,at,nt)):et.memoizedState!==null?(et.child=_e.child,et.flags|=128,null):(it=nt.fallback,st=et.mode,nt=pj({mode:"visible",children:nt.children},st,0,null),it=Tg(it,st,at,null),it.flags|=2,nt.return=et,it.return=et,nt.sibling=it,et.child=nt,et.mode&1&&Ug(et,_e.child,null,at),et.child.memoizedState=nj(at),et.memoizedState=mj,it);if(!(et.mode&1))return sj(_e,et,at,null);if(st.data==="$!"){if(nt=st.nextSibling&&st.nextSibling.dataset,nt)var ot=nt.dgst;return nt=ot,it=Error(p$6(419)),nt=Ki(it,nt,void 0),sj(_e,et,at,nt)}if(ot=(at&_e.childLanes)!==0,dh||ot){if(nt=Q$1,nt!==null){switch(at&-at){case 4:st=2;break;case 16:st=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:st=32;break;case 536870912:st=268435456;break;default:st=0}st=st&(nt.suspendedLanes|at)?0:st,st!==0&&st!==it.retryLane&&(it.retryLane=st,ih(_e,st),gi(nt,_e,st,-1))}return tj(),nt=Ki(Error(p$6(421))),sj(_e,et,at,nt)}return st.data==="$?"?(et.flags|=128,et.child=_e.child,et=uj.bind(null,_e),st._reactRetry=et,null):(_e=it.treeContext,yg=Lf(st.nextSibling),xg=et,I$6=!0,zg=null,_e!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=_e.id,sg=_e.overflow,qg=et),et=qj(et,nt.children),et.flags|=4096,et)}function vj(_e,et,rt){_e.lanes|=et;var nt=_e.alternate;nt!==null&&(nt.lanes|=et),bh(_e.return,et,rt)}function wj(_e,et,rt,nt,st){var it=_e.memoizedState;it===null?_e.memoizedState={isBackwards:et,rendering:null,renderingStartTime:0,last:nt,tail:rt,tailMode:st}:(it.isBackwards=et,it.rendering=null,it.renderingStartTime=0,it.last=nt,it.tail=rt,it.tailMode=st)}function xj(_e,et,rt){var nt=et.pendingProps,st=nt.revealOrder,it=nt.tail;if(Xi(_e,et,nt.children,rt),nt=L$3.current,nt&2)nt=nt&1|2,et.flags|=128;else{if(_e!==null&&_e.flags&128)e:for(_e=et.child;_e!==null;){if(_e.tag===13)_e.memoizedState!==null&&vj(_e,rt,et);else if(_e.tag===19)vj(_e,rt,et);else if(_e.child!==null){_e.child.return=_e,_e=_e.child;continue}if(_e===et)break e;for(;_e.sibling===null;){if(_e.return===null||_e.return===et)break e;_e=_e.return}_e.sibling.return=_e.return,_e=_e.sibling}nt&=1}if(G$2(L$3,nt),!(et.mode&1))et.memoizedState=null;else switch(st){case"forwards":for(rt=et.child,st=null;rt!==null;)_e=rt.alternate,_e!==null&&Ch(_e)===null&&(st=rt),rt=rt.sibling;rt=st,rt===null?(st=et.child,et.child=null):(st=rt.sibling,rt.sibling=null),wj(et,!1,st,rt,it);break;case"backwards":for(rt=null,st=et.child,et.child=null;st!==null;){if(_e=st.alternate,_e!==null&&Ch(_e)===null){et.child=st;break}_e=st.sibling,st.sibling=rt,rt=st,st=_e}wj(et,!0,rt,null,it);break;case"together":wj(et,!1,null,null,void 0);break;default:et.memoizedState=null}return et.child}function ij(_e,et){!(et.mode&1)&&_e!==null&&(_e.alternate=null,et.alternate=null,et.flags|=2)}function Zi(_e,et,rt){if(_e!==null&&(et.dependencies=_e.dependencies),rh|=et.lanes,!(rt&et.childLanes))return null;if(_e!==null&&et.child!==_e.child)throw Error(p$6(153));if(et.child!==null){for(_e=et.child,rt=Pg(_e,_e.pendingProps),et.child=rt,rt.return=et;_e.sibling!==null;)_e=_e.sibling,rt=rt.sibling=Pg(_e,_e.pendingProps),rt.return=et;rt.sibling=null}return et.child}function yj(_e,et,rt){switch(et.tag){case 3:kj(et),Ig();break;case 5:Ah(et);break;case 1:Zf(et.type)&&cg(et);break;case 4:yh(et,et.stateNode.containerInfo);break;case 10:var nt=et.type._context,st=et.memoizedProps.value;G$2(Wg,nt._currentValue),nt._currentValue=st;break;case 13:if(nt=et.memoizedState,nt!==null)return nt.dehydrated!==null?(G$2(L$3,L$3.current&1),et.flags|=128,null):rt&et.child.childLanes?oj(_e,et,rt):(G$2(L$3,L$3.current&1),_e=Zi(_e,et,rt),_e!==null?_e.sibling:null);G$2(L$3,L$3.current&1);break;case 19:if(nt=(rt&et.childLanes)!==0,_e.flags&128){if(nt)return xj(_e,et,rt);et.flags|=128}if(st=et.memoizedState,st!==null&&(st.rendering=null,st.tail=null,st.lastEffect=null),G$2(L$3,L$3.current),nt)break;return null;case 22:case 23:return et.lanes=0,dj(_e,et,rt)}return Zi(_e,et,rt)}var zj,Aj,Bj,Cj;zj=function(_e,et){for(var rt=et.child;rt!==null;){if(rt.tag===5||rt.tag===6)_e.appendChild(rt.stateNode);else if(rt.tag!==4&&rt.child!==null){rt.child.return=rt,rt=rt.child;continue}if(rt===et)break;for(;rt.sibling===null;){if(rt.return===null||rt.return===et)return;rt=rt.return}rt.sibling.return=rt.return,rt=rt.sibling}};Aj=function(){};Bj=function(_e,et,rt,nt){var st=_e.memoizedProps;if(st!==nt){_e=et.stateNode,xh(uh.current);var it=null;switch(rt){case"input":st=Ya(_e,st),nt=Ya(_e,nt),it=[];break;case"select":st=A$3({},st,{value:void 0}),nt=A$3({},nt,{value:void 0}),it=[];break;case"textarea":st=gb(_e,st),nt=gb(_e,nt),it=[];break;default:typeof st.onClick!="function"&&typeof nt.onClick=="function"&&(_e.onclick=Bf)}ub(rt,nt);var at;rt=null;for(ct in st)if(!nt.hasOwnProperty(ct)&&st.hasOwnProperty(ct)&&st[ct]!=null)if(ct==="style"){var ot=st[ct];for(at in ot)ot.hasOwnProperty(at)&&(rt||(rt={}),rt[at]="")}else ct!=="dangerouslySetInnerHTML"&&ct!=="children"&&ct!=="suppressContentEditableWarning"&&ct!=="suppressHydrationWarning"&&ct!=="autoFocus"&&(ea.hasOwnProperty(ct)?it||(it=[]):(it=it||[]).push(ct,null));for(ct in nt){var lt=nt[ct];if(ot=st!=null?st[ct]:void 0,nt.hasOwnProperty(ct)&&lt!==ot&&(lt!=null||ot!=null))if(ct==="style")if(ot){for(at in ot)!ot.hasOwnProperty(at)||lt&&lt.hasOwnProperty(at)||(rt||(rt={}),rt[at]="");for(at in lt)lt.hasOwnProperty(at)&&ot[at]!==lt[at]&&(rt||(rt={}),rt[at]=lt[at])}else rt||(it||(it=[]),it.push(ct,rt)),rt=lt;else ct==="dangerouslySetInnerHTML"?(lt=lt?lt.__html:void 0,ot=ot?ot.__html:void 0,lt!=null&&ot!==lt&&(it=it||[]).push(ct,lt)):ct==="children"?typeof lt!="string"&&typeof lt!="number"||(it=it||[]).push(ct,""+lt):ct!=="suppressContentEditableWarning"&&ct!=="suppressHydrationWarning"&&(ea.hasOwnProperty(ct)?(lt!=null&&ct==="onScroll"&&D$4("scroll",_e),it||ot===lt||(it=[])):(it=it||[]).push(ct,lt))}rt&&(it=it||[]).push("style",rt);var ct=it;(et.updateQueue=ct)&&(et.flags|=4)}};Cj=function(_e,et,rt,nt){rt!==nt&&(et.flags|=4)};function Dj(_e,et){if(!I$6)switch(_e.tailMode){case"hidden":et=_e.tail;for(var rt=null;et!==null;)et.alternate!==null&&(rt=et),et=et.sibling;rt===null?_e.tail=null:rt.sibling=null;break;case"collapsed":rt=_e.tail;for(var nt=null;rt!==null;)rt.alternate!==null&&(nt=rt),rt=rt.sibling;nt===null?et||_e.tail===null?_e.tail=null:_e.tail.sibling=null:nt.sibling=null}}function S$7(_e){var et=_e.alternate!==null&&_e.alternate.child===_e.child,rt=0,nt=0;if(et)for(var st=_e.child;st!==null;)rt|=st.lanes|st.childLanes,nt|=st.subtreeFlags&14680064,nt|=st.flags&14680064,st.return=_e,st=st.sibling;else for(st=_e.child;st!==null;)rt|=st.lanes|st.childLanes,nt|=st.subtreeFlags,nt|=st.flags,st.return=_e,st=st.sibling;return _e.subtreeFlags|=nt,_e.childLanes=rt,et}function Ej(_e,et,rt){var nt=et.pendingProps;switch(wg(et),et.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$7(et),null;case 1:return Zf(et.type)&&$f(),S$7(et),null;case 3:return nt=et.stateNode,zh(),E$3(Wf),E$3(H$4),Eh(),nt.pendingContext&&(nt.context=nt.pendingContext,nt.pendingContext=null),(_e===null||_e.child===null)&&(Gg(et)?et.flags|=4:_e===null||_e.memoizedState.isDehydrated&&!(et.flags&256)||(et.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(_e,et),S$7(et),null;case 5:Bh(et);var st=xh(wh.current);if(rt=et.type,_e!==null&&et.stateNode!=null)Bj(_e,et,rt,nt,st),_e.ref!==et.ref&&(et.flags|=512,et.flags|=2097152);else{if(!nt){if(et.stateNode===null)throw Error(p$6(166));return S$7(et),null}if(_e=xh(uh.current),Gg(et)){nt=et.stateNode,rt=et.type;var it=et.memoizedProps;switch(nt[Of]=et,nt[Pf]=it,_e=(et.mode&1)!==0,rt){case"dialog":D$4("cancel",nt),D$4("close",nt);break;case"iframe":case"object":case"embed":D$4("load",nt);break;case"video":case"audio":for(st=0;st<lf.length;st++)D$4(lf[st],nt);break;case"source":D$4("error",nt);break;case"img":case"image":case"link":D$4("error",nt),D$4("load",nt);break;case"details":D$4("toggle",nt);break;case"input":Za(nt,it),D$4("invalid",nt);break;case"select":nt._wrapperState={wasMultiple:!!it.multiple},D$4("invalid",nt);break;case"textarea":hb(nt,it),D$4("invalid",nt)}ub(rt,it),st=null;for(var at in it)if(it.hasOwnProperty(at)){var ot=it[at];at==="children"?typeof ot=="string"?nt.textContent!==ot&&(it.suppressHydrationWarning!==!0&&Af(nt.textContent,ot,_e),st=["children",ot]):typeof ot=="number"&&nt.textContent!==""+ot&&(it.suppressHydrationWarning!==!0&&Af(nt.textContent,ot,_e),st=["children",""+ot]):ea.hasOwnProperty(at)&&ot!=null&&at==="onScroll"&&D$4("scroll",nt)}switch(rt){case"input":Va(nt),db(nt,it,!0);break;case"textarea":Va(nt),jb(nt);break;case"select":case"option":break;default:typeof it.onClick=="function"&&(nt.onclick=Bf)}nt=st,et.updateQueue=nt,nt!==null&&(et.flags|=4)}else{at=st.nodeType===9?st:st.ownerDocument,_e==="http://www.w3.org/1999/xhtml"&&(_e=kb(rt)),_e==="http://www.w3.org/1999/xhtml"?rt==="script"?(_e=at.createElement("div"),_e.innerHTML="<script><\/script>",_e=_e.removeChild(_e.firstChild)):typeof nt.is=="string"?_e=at.createElement(rt,{is:nt.is}):(_e=at.createElement(rt),rt==="select"&&(at=_e,nt.multiple?at.multiple=!0:nt.size&&(at.size=nt.size))):_e=at.createElementNS(_e,rt),_e[Of]=et,_e[Pf]=nt,zj(_e,et,!1,!1),et.stateNode=_e;e:{switch(at=vb(rt,nt),rt){case"dialog":D$4("cancel",_e),D$4("close",_e),st=nt;break;case"iframe":case"object":case"embed":D$4("load",_e),st=nt;break;case"video":case"audio":for(st=0;st<lf.length;st++)D$4(lf[st],_e);st=nt;break;case"source":D$4("error",_e),st=nt;break;case"img":case"image":case"link":D$4("error",_e),D$4("load",_e),st=nt;break;case"details":D$4("toggle",_e),st=nt;break;case"input":Za(_e,nt),st=Ya(_e,nt),D$4("invalid",_e);break;case"option":st=nt;break;case"select":_e._wrapperState={wasMultiple:!!nt.multiple},st=A$3({},nt,{value:void 0}),D$4("invalid",_e);break;case"textarea":hb(_e,nt),st=gb(_e,nt),D$4("invalid",_e);break;default:st=nt}ub(rt,st),ot=st;for(it in ot)if(ot.hasOwnProperty(it)){var lt=ot[it];it==="style"?sb(_e,lt):it==="dangerouslySetInnerHTML"?(lt=lt?lt.__html:void 0,lt!=null&&nb(_e,lt)):it==="children"?typeof lt=="string"?(rt!=="textarea"||lt!=="")&&ob(_e,lt):typeof lt=="number"&&ob(_e,""+lt):it!=="suppressContentEditableWarning"&&it!=="suppressHydrationWarning"&&it!=="autoFocus"&&(ea.hasOwnProperty(it)?lt!=null&&it==="onScroll"&&D$4("scroll",_e):lt!=null&&ta$1(_e,it,lt,at))}switch(rt){case"input":Va(_e),db(_e,nt,!1);break;case"textarea":Va(_e),jb(_e);break;case"option":nt.value!=null&&_e.setAttribute("value",""+Sa(nt.value));break;case"select":_e.multiple=!!nt.multiple,it=nt.value,it!=null?fb(_e,!!nt.multiple,it,!1):nt.defaultValue!=null&&fb(_e,!!nt.multiple,nt.defaultValue,!0);break;default:typeof st.onClick=="function"&&(_e.onclick=Bf)}switch(rt){case"button":case"input":case"select":case"textarea":nt=!!nt.autoFocus;break e;case"img":nt=!0;break e;default:nt=!1}}nt&&(et.flags|=4)}et.ref!==null&&(et.flags|=512,et.flags|=2097152)}return S$7(et),null;case 6:if(_e&&et.stateNode!=null)Cj(_e,et,_e.memoizedProps,nt);else{if(typeof nt!="string"&&et.stateNode===null)throw Error(p$6(166));if(rt=xh(wh.current),xh(uh.current),Gg(et)){if(nt=et.stateNode,rt=et.memoizedProps,nt[Of]=et,(it=nt.nodeValue!==rt)&&(_e=xg,_e!==null))switch(_e.tag){case 3:Af(nt.nodeValue,rt,(_e.mode&1)!==0);break;case 5:_e.memoizedProps.suppressHydrationWarning!==!0&&Af(nt.nodeValue,rt,(_e.mode&1)!==0)}it&&(et.flags|=4)}else nt=(rt.nodeType===9?rt:rt.ownerDocument).createTextNode(nt),nt[Of]=et,et.stateNode=nt}return S$7(et),null;case 13:if(E$3(L$3),nt=et.memoizedState,_e===null||_e.memoizedState!==null&&_e.memoizedState.dehydrated!==null){if(I$6&&yg!==null&&et.mode&1&&!(et.flags&128))Hg(),Ig(),et.flags|=98560,it=!1;else if(it=Gg(et),nt!==null&&nt.dehydrated!==null){if(_e===null){if(!it)throw Error(p$6(318));if(it=et.memoizedState,it=it!==null?it.dehydrated:null,!it)throw Error(p$6(317));it[Of]=et}else Ig(),!(et.flags&128)&&(et.memoizedState=null),et.flags|=4;S$7(et),it=!1}else zg!==null&&(Fj(zg),zg=null),it=!0;if(!it)return et.flags&65536?et:null}return et.flags&128?(et.lanes=rt,et):(nt=nt!==null,nt!==(_e!==null&&_e.memoizedState!==null)&&nt&&(et.child.flags|=8192,et.mode&1&&(_e===null||L$3.current&1?T$4===0&&(T$4=3):tj())),et.updateQueue!==null&&(et.flags|=4),S$7(et),null);case 4:return zh(),Aj(_e,et),_e===null&&sf(et.stateNode.containerInfo),S$7(et),null;case 10:return ah(et.type._context),S$7(et),null;case 17:return Zf(et.type)&&$f(),S$7(et),null;case 19:if(E$3(L$3),it=et.memoizedState,it===null)return S$7(et),null;if(nt=(et.flags&128)!==0,at=it.rendering,at===null)if(nt)Dj(it,!1);else{if(T$4!==0||_e!==null&&_e.flags&128)for(_e=et.child;_e!==null;){if(at=Ch(_e),at!==null){for(et.flags|=128,Dj(it,!1),nt=at.updateQueue,nt!==null&&(et.updateQueue=nt,et.flags|=4),et.subtreeFlags=0,nt=rt,rt=et.child;rt!==null;)it=rt,_e=nt,it.flags&=14680066,at=it.alternate,at===null?(it.childLanes=0,it.lanes=_e,it.child=null,it.subtreeFlags=0,it.memoizedProps=null,it.memoizedState=null,it.updateQueue=null,it.dependencies=null,it.stateNode=null):(it.childLanes=at.childLanes,it.lanes=at.lanes,it.child=at.child,it.subtreeFlags=0,it.deletions=null,it.memoizedProps=at.memoizedProps,it.memoizedState=at.memoizedState,it.updateQueue=at.updateQueue,it.type=at.type,_e=at.dependencies,it.dependencies=_e===null?null:{lanes:_e.lanes,firstContext:_e.firstContext}),rt=rt.sibling;return G$2(L$3,L$3.current&1|2),et.child}_e=_e.sibling}it.tail!==null&&B()>Gj&&(et.flags|=128,nt=!0,Dj(it,!1),et.lanes=4194304)}else{if(!nt)if(_e=Ch(at),_e!==null){if(et.flags|=128,nt=!0,rt=_e.updateQueue,rt!==null&&(et.updateQueue=rt,et.flags|=4),Dj(it,!0),it.tail===null&&it.tailMode==="hidden"&&!at.alternate&&!I$6)return S$7(et),null}else 2*B()-it.renderingStartTime>Gj&&rt!==1073741824&&(et.flags|=128,nt=!0,Dj(it,!1),et.lanes=4194304);it.isBackwards?(at.sibling=et.child,et.child=at):(rt=it.last,rt!==null?rt.sibling=at:et.child=at,it.last=at)}return it.tail!==null?(et=it.tail,it.rendering=et,it.tail=et.sibling,it.renderingStartTime=B(),et.sibling=null,rt=L$3.current,G$2(L$3,nt?rt&1|2:rt&1),et):(S$7(et),null);case 22:case 23:return Hj(),nt=et.memoizedState!==null,_e!==null&&_e.memoizedState!==null!==nt&&(et.flags|=8192),nt&&et.mode&1?fj&1073741824&&(S$7(et),et.subtreeFlags&6&&(et.flags|=8192)):S$7(et),null;case 24:return null;case 25:return null}throw Error(p$6(156,et.tag))}function Ij(_e,et){switch(wg(et),et.tag){case 1:return Zf(et.type)&&$f(),_e=et.flags,_e&65536?(et.flags=_e&-65537|128,et):null;case 3:return zh(),E$3(Wf),E$3(H$4),Eh(),_e=et.flags,_e&65536&&!(_e&128)?(et.flags=_e&-65537|128,et):null;case 5:return Bh(et),null;case 13:if(E$3(L$3),_e=et.memoizedState,_e!==null&&_e.dehydrated!==null){if(et.alternate===null)throw Error(p$6(340));Ig()}return _e=et.flags,_e&65536?(et.flags=_e&-65537|128,et):null;case 19:return E$3(L$3),null;case 4:return zh(),null;case 10:return ah(et.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U$1=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V$2=null;function Lj(_e,et){var rt=_e.ref;if(rt!==null)if(typeof rt=="function")try{rt(null)}catch(nt){W$2(_e,et,nt)}else rt.current=null}function Mj(_e,et,rt){try{rt()}catch(nt){W$2(_e,et,nt)}}var Nj=!1;function Oj(_e,et){if(Cf=dd,_e=Me$1(),Ne$1(_e)){if("selectionStart"in _e)var rt={start:_e.selectionStart,end:_e.selectionEnd};else e:{rt=(rt=_e.ownerDocument)&&rt.defaultView||window;var nt=rt.getSelection&&rt.getSelection();if(nt&&nt.rangeCount!==0){rt=nt.anchorNode;var st=nt.anchorOffset,it=nt.focusNode;nt=nt.focusOffset;try{rt.nodeType,it.nodeType}catch{rt=null;break e}var at=0,ot=-1,lt=-1,ct=0,ut=0,dt=_e,pt=null;t:for(;;){for(var mt;dt!==rt||st!==0&&dt.nodeType!==3||(ot=at+st),dt!==it||nt!==0&&dt.nodeType!==3||(lt=at+nt),dt.nodeType===3&&(at+=dt.nodeValue.length),(mt=dt.firstChild)!==null;)pt=dt,dt=mt;for(;;){if(dt===_e)break t;if(pt===rt&&++ct===st&&(ot=at),pt===it&&++ut===nt&&(lt=at),(mt=dt.nextSibling)!==null)break;dt=pt,pt=dt.parentNode}dt=mt}rt=ot===-1||lt===-1?null:{start:ot,end:lt}}else rt=null}rt=rt||{start:0,end:0}}else rt=null;for(Df={focusedElem:_e,selectionRange:rt},dd=!1,V$2=et;V$2!==null;)if(et=V$2,_e=et.child,(et.subtreeFlags&1028)!==0&&_e!==null)_e.return=et,V$2=_e;else for(;V$2!==null;){et=V$2;try{var xt=et.alternate;if(et.flags&1024)switch(et.tag){case 0:case 11:case 15:break;case 1:if(xt!==null){var yt=xt.memoizedProps,vt=xt.memoizedState,gt=et.stateNode,Et=gt.getSnapshotBeforeUpdate(et.elementType===et.type?yt:Ci(et.type,yt),vt);gt.__reactInternalSnapshotBeforeUpdate=Et}break;case 3:var jt=et.stateNode.containerInfo;jt.nodeType===1?jt.textContent="":jt.nodeType===9&&jt.documentElement&&jt.removeChild(jt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$6(163))}}catch(kt){W$2(et,et.return,kt)}if(_e=et.sibling,_e!==null){_e.return=et.return,V$2=_e;break}V$2=et.return}return xt=Nj,Nj=!1,xt}function Pj(_e,et,rt){var nt=et.updateQueue;if(nt=nt!==null?nt.lastEffect:null,nt!==null){var st=nt=nt.next;do{if((st.tag&_e)===_e){var it=st.destroy;st.destroy=void 0,it!==void 0&&Mj(et,rt,it)}st=st.next}while(st!==nt)}}function Qj(_e,et){if(et=et.updateQueue,et=et!==null?et.lastEffect:null,et!==null){var rt=et=et.next;do{if((rt.tag&_e)===_e){var nt=rt.create;rt.destroy=nt()}rt=rt.next}while(rt!==et)}}function Rj(_e){var et=_e.ref;if(et!==null){var rt=_e.stateNode;switch(_e.tag){case 5:_e=rt;break;default:_e=rt}typeof et=="function"?et(_e):et.current=_e}}function Sj(_e){var et=_e.alternate;et!==null&&(_e.alternate=null,Sj(et)),_e.child=null,_e.deletions=null,_e.sibling=null,_e.tag===5&&(et=_e.stateNode,et!==null&&(delete et[Of],delete et[Pf],delete et[of],delete et[Qf],delete et[Rf])),_e.stateNode=null,_e.return=null,_e.dependencies=null,_e.memoizedProps=null,_e.memoizedState=null,_e.pendingProps=null,_e.stateNode=null,_e.updateQueue=null}function Tj(_e){return _e.tag===5||_e.tag===3||_e.tag===4}function Uj(_e){e:for(;;){for(;_e.sibling===null;){if(_e.return===null||Tj(_e.return))return null;_e=_e.return}for(_e.sibling.return=_e.return,_e=_e.sibling;_e.tag!==5&&_e.tag!==6&&_e.tag!==18;){if(_e.flags&2||_e.child===null||_e.tag===4)continue e;_e.child.return=_e,_e=_e.child}if(!(_e.flags&2))return _e.stateNode}}function Vj(_e,et,rt){var nt=_e.tag;if(nt===5||nt===6)_e=_e.stateNode,et?rt.nodeType===8?rt.parentNode.insertBefore(_e,et):rt.insertBefore(_e,et):(rt.nodeType===8?(et=rt.parentNode,et.insertBefore(_e,rt)):(et=rt,et.appendChild(_e)),rt=rt._reactRootContainer,rt!=null||et.onclick!==null||(et.onclick=Bf));else if(nt!==4&&(_e=_e.child,_e!==null))for(Vj(_e,et,rt),_e=_e.sibling;_e!==null;)Vj(_e,et,rt),_e=_e.sibling}function Wj(_e,et,rt){var nt=_e.tag;if(nt===5||nt===6)_e=_e.stateNode,et?rt.insertBefore(_e,et):rt.appendChild(_e);else if(nt!==4&&(_e=_e.child,_e!==null))for(Wj(_e,et,rt),_e=_e.sibling;_e!==null;)Wj(_e,et,rt),_e=_e.sibling}var X$3=null,Xj=!1;function Yj(_e,et,rt){for(rt=rt.child;rt!==null;)Zj(_e,et,rt),rt=rt.sibling}function Zj(_e,et,rt){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,rt)}catch{}switch(rt.tag){case 5:U$1||Lj(rt,et);case 6:var nt=X$3,st=Xj;X$3=null,Yj(_e,et,rt),X$3=nt,Xj=st,X$3!==null&&(Xj?(_e=X$3,rt=rt.stateNode,_e.nodeType===8?_e.parentNode.removeChild(rt):_e.removeChild(rt)):X$3.removeChild(rt.stateNode));break;case 18:X$3!==null&&(Xj?(_e=X$3,rt=rt.stateNode,_e.nodeType===8?Kf(_e.parentNode,rt):_e.nodeType===1&&Kf(_e,rt),bd(_e)):Kf(X$3,rt.stateNode));break;case 4:nt=X$3,st=Xj,X$3=rt.stateNode.containerInfo,Xj=!0,Yj(_e,et,rt),X$3=nt,Xj=st;break;case 0:case 11:case 14:case 15:if(!U$1&&(nt=rt.updateQueue,nt!==null&&(nt=nt.lastEffect,nt!==null))){st=nt=nt.next;do{var it=st,at=it.destroy;it=it.tag,at!==void 0&&(it&2||it&4)&&Mj(rt,et,at),st=st.next}while(st!==nt)}Yj(_e,et,rt);break;case 1:if(!U$1&&(Lj(rt,et),nt=rt.stateNode,typeof nt.componentWillUnmount=="function"))try{nt.props=rt.memoizedProps,nt.state=rt.memoizedState,nt.componentWillUnmount()}catch(ot){W$2(rt,et,ot)}Yj(_e,et,rt);break;case 21:Yj(_e,et,rt);break;case 22:rt.mode&1?(U$1=(nt=U$1)||rt.memoizedState!==null,Yj(_e,et,rt),U$1=nt):Yj(_e,et,rt);break;default:Yj(_e,et,rt)}}function ak(_e){var et=_e.updateQueue;if(et!==null){_e.updateQueue=null;var rt=_e.stateNode;rt===null&&(rt=_e.stateNode=new Kj),et.forEach(function(nt){var st=bk.bind(null,_e,nt);rt.has(nt)||(rt.add(nt),nt.then(st,st))})}}function ck(_e,et){var rt=et.deletions;if(rt!==null)for(var nt=0;nt<rt.length;nt++){var st=rt[nt];try{var it=_e,at=et,ot=at;e:for(;ot!==null;){switch(ot.tag){case 5:X$3=ot.stateNode,Xj=!1;break e;case 3:X$3=ot.stateNode.containerInfo,Xj=!0;break e;case 4:X$3=ot.stateNode.containerInfo,Xj=!0;break e}ot=ot.return}if(X$3===null)throw Error(p$6(160));Zj(it,at,st),X$3=null,Xj=!1;var lt=st.alternate;lt!==null&&(lt.return=null),st.return=null}catch(ct){W$2(st,et,ct)}}if(et.subtreeFlags&12854)for(et=et.child;et!==null;)dk(et,_e),et=et.sibling}function dk(_e,et){var rt=_e.alternate,nt=_e.flags;switch(_e.tag){case 0:case 11:case 14:case 15:if(ck(et,_e),ek(_e),nt&4){try{Pj(3,_e,_e.return),Qj(3,_e)}catch(yt){W$2(_e,_e.return,yt)}try{Pj(5,_e,_e.return)}catch(yt){W$2(_e,_e.return,yt)}}break;case 1:ck(et,_e),ek(_e),nt&512&&rt!==null&&Lj(rt,rt.return);break;case 5:if(ck(et,_e),ek(_e),nt&512&&rt!==null&&Lj(rt,rt.return),_e.flags&32){var st=_e.stateNode;try{ob(st,"")}catch(yt){W$2(_e,_e.return,yt)}}if(nt&4&&(st=_e.stateNode,st!=null)){var it=_e.memoizedProps,at=rt!==null?rt.memoizedProps:it,ot=_e.type,lt=_e.updateQueue;if(_e.updateQueue=null,lt!==null)try{ot==="input"&&it.type==="radio"&&it.name!=null&&ab(st,it),vb(ot,at);var ct=vb(ot,it);for(at=0;at<lt.length;at+=2){var ut=lt[at],dt=lt[at+1];ut==="style"?sb(st,dt):ut==="dangerouslySetInnerHTML"?nb(st,dt):ut==="children"?ob(st,dt):ta$1(st,ut,dt,ct)}switch(ot){case"input":bb(st,it);break;case"textarea":ib(st,it);break;case"select":var pt=st._wrapperState.wasMultiple;st._wrapperState.wasMultiple=!!it.multiple;var mt=it.value;mt!=null?fb(st,!!it.multiple,mt,!1):pt!==!!it.multiple&&(it.defaultValue!=null?fb(st,!!it.multiple,it.defaultValue,!0):fb(st,!!it.multiple,it.multiple?[]:"",!1))}st[Pf]=it}catch(yt){W$2(_e,_e.return,yt)}}break;case 6:if(ck(et,_e),ek(_e),nt&4){if(_e.stateNode===null)throw Error(p$6(162));st=_e.stateNode,it=_e.memoizedProps;try{st.nodeValue=it}catch(yt){W$2(_e,_e.return,yt)}}break;case 3:if(ck(et,_e),ek(_e),nt&4&&rt!==null&&rt.memoizedState.isDehydrated)try{bd(et.containerInfo)}catch(yt){W$2(_e,_e.return,yt)}break;case 4:ck(et,_e),ek(_e);break;case 13:ck(et,_e),ek(_e),st=_e.child,st.flags&8192&&(it=st.memoizedState!==null,st.stateNode.isHidden=it,!it||st.alternate!==null&&st.alternate.memoizedState!==null||(fk=B())),nt&4&&ak(_e);break;case 22:if(ut=rt!==null&&rt.memoizedState!==null,_e.mode&1?(U$1=(ct=U$1)||ut,ck(et,_e),U$1=ct):ck(et,_e),ek(_e),nt&8192){if(ct=_e.memoizedState!==null,(_e.stateNode.isHidden=ct)&&!ut&&_e.mode&1)for(V$2=_e,ut=_e.child;ut!==null;){for(dt=V$2=ut;V$2!==null;){switch(pt=V$2,mt=pt.child,pt.tag){case 0:case 11:case 14:case 15:Pj(4,pt,pt.return);break;case 1:Lj(pt,pt.return);var xt=pt.stateNode;if(typeof xt.componentWillUnmount=="function"){nt=pt,rt=pt.return;try{et=nt,xt.props=et.memoizedProps,xt.state=et.memoizedState,xt.componentWillUnmount()}catch(yt){W$2(nt,rt,yt)}}break;case 5:Lj(pt,pt.return);break;case 22:if(pt.memoizedState!==null){gk(dt);continue}}mt!==null?(mt.return=pt,V$2=mt):gk(dt)}ut=ut.sibling}e:for(ut=null,dt=_e;;){if(dt.tag===5){if(ut===null){ut=dt;try{st=dt.stateNode,ct?(it=st.style,typeof it.setProperty=="function"?it.setProperty("display","none","important"):it.display="none"):(ot=dt.stateNode,lt=dt.memoizedProps.style,at=lt!=null&&lt.hasOwnProperty("display")?lt.display:null,ot.style.display=rb("display",at))}catch(yt){W$2(_e,_e.return,yt)}}}else if(dt.tag===6){if(ut===null)try{dt.stateNode.nodeValue=ct?"":dt.memoizedProps}catch(yt){W$2(_e,_e.return,yt)}}else if((dt.tag!==22&&dt.tag!==23||dt.memoizedState===null||dt===_e)&&dt.child!==null){dt.child.return=dt,dt=dt.child;continue}if(dt===_e)break e;for(;dt.sibling===null;){if(dt.return===null||dt.return===_e)break e;ut===dt&&(ut=null),dt=dt.return}ut===dt&&(ut=null),dt.sibling.return=dt.return,dt=dt.sibling}}break;case 19:ck(et,_e),ek(_e),nt&4&&ak(_e);break;case 21:break;default:ck(et,_e),ek(_e)}}function ek(_e){var et=_e.flags;if(et&2){try{e:{for(var rt=_e.return;rt!==null;){if(Tj(rt)){var nt=rt;break e}rt=rt.return}throw Error(p$6(160))}switch(nt.tag){case 5:var st=nt.stateNode;nt.flags&32&&(ob(st,""),nt.flags&=-33);var it=Uj(_e);Wj(_e,it,st);break;case 3:case 4:var at=nt.stateNode.containerInfo,ot=Uj(_e);Vj(_e,ot,at);break;default:throw Error(p$6(161))}}catch(lt){W$2(_e,_e.return,lt)}_e.flags&=-3}et&4096&&(_e.flags&=-4097)}function hk(_e,et,rt){V$2=_e,ik(_e)}function ik(_e,et,rt){for(var nt=(_e.mode&1)!==0;V$2!==null;){var st=V$2,it=st.child;if(st.tag===22&&nt){var at=st.memoizedState!==null||Jj;if(!at){var ot=st.alternate,lt=ot!==null&&ot.memoizedState!==null||U$1;ot=Jj;var ct=U$1;if(Jj=at,(U$1=lt)&&!ct)for(V$2=st;V$2!==null;)at=V$2,lt=at.child,at.tag===22&&at.memoizedState!==null?jk(st):lt!==null?(lt.return=at,V$2=lt):jk(st);for(;it!==null;)V$2=it,ik(it),it=it.sibling;V$2=st,Jj=ot,U$1=ct}kk(_e)}else st.subtreeFlags&8772&&it!==null?(it.return=st,V$2=it):kk(_e)}}function kk(_e){for(;V$2!==null;){var et=V$2;if(et.flags&8772){var rt=et.alternate;try{if(et.flags&8772)switch(et.tag){case 0:case 11:case 15:U$1||Qj(5,et);break;case 1:var nt=et.stateNode;if(et.flags&4&&!U$1)if(rt===null)nt.componentDidMount();else{var st=et.elementType===et.type?rt.memoizedProps:Ci(et.type,rt.memoizedProps);nt.componentDidUpdate(st,rt.memoizedState,nt.__reactInternalSnapshotBeforeUpdate)}var it=et.updateQueue;it!==null&&sh(et,it,nt);break;case 3:var at=et.updateQueue;if(at!==null){if(rt=null,et.child!==null)switch(et.child.tag){case 5:rt=et.child.stateNode;break;case 1:rt=et.child.stateNode}sh(et,at,rt)}break;case 5:var ot=et.stateNode;if(rt===null&&et.flags&4){rt=ot;var lt=et.memoizedProps;switch(et.type){case"button":case"input":case"select":case"textarea":lt.autoFocus&&rt.focus();break;case"img":lt.src&&(rt.src=lt.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(et.memoizedState===null){var ct=et.alternate;if(ct!==null){var ut=ct.memoizedState;if(ut!==null){var dt=ut.dehydrated;dt!==null&&bd(dt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$6(163))}U$1||et.flags&512&&Rj(et)}catch(pt){W$2(et,et.return,pt)}}if(et===_e){V$2=null;break}if(rt=et.sibling,rt!==null){rt.return=et.return,V$2=rt;break}V$2=et.return}}function gk(_e){for(;V$2!==null;){var et=V$2;if(et===_e){V$2=null;break}var rt=et.sibling;if(rt!==null){rt.return=et.return,V$2=rt;break}V$2=et.return}}function jk(_e){for(;V$2!==null;){var et=V$2;try{switch(et.tag){case 0:case 11:case 15:var rt=et.return;try{Qj(4,et)}catch(lt){W$2(et,rt,lt)}break;case 1:var nt=et.stateNode;if(typeof nt.componentDidMount=="function"){var st=et.return;try{nt.componentDidMount()}catch(lt){W$2(et,st,lt)}}var it=et.return;try{Rj(et)}catch(lt){W$2(et,it,lt)}break;case 5:var at=et.return;try{Rj(et)}catch(lt){W$2(et,at,lt)}}}catch(lt){W$2(et,et.return,lt)}if(et===_e){V$2=null;break}var ot=et.sibling;if(ot!==null){ot.return=et.return,V$2=ot;break}V$2=et.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok$2=ua.ReactCurrentBatchConfig,K$1=0,Q$1=null,Y$2=null,Z$1=0,fj=0,ej=Uf(0),T$4=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk$1=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R(){return K$1&6?B():Ak!==-1?Ak:Ak=B()}function yi(_e){return _e.mode&1?K$1&2&&Z$1!==0?Z$1&-Z$1:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(_e=C$6,_e!==0||(_e=window.event,_e=_e===void 0?16:jd(_e.type)),_e):1}function gi(_e,et,rt,nt){if(50<yk)throw yk=0,zk=null,Error(p$6(185));Ac(_e,rt,nt),(!(K$1&2)||_e!==Q$1)&&(_e===Q$1&&(!(K$1&2)&&(qk|=rt),T$4===4&&Ck(_e,Z$1)),Dk(_e,nt),rt===1&&K$1===0&&!(et.mode&1)&&(Gj=B()+500,fg&&jg()))}function Dk(_e,et){var rt=_e.callbackNode;wc(_e,et);var nt=uc(_e,_e===Q$1?Z$1:0);if(nt===0)rt!==null&&bc(rt),_e.callbackNode=null,_e.callbackPriority=0;else if(et=nt&-nt,_e.callbackPriority!==et){if(rt!=null&&bc(rt),et===1)_e.tag===0?ig(Ek.bind(null,_e)):hg(Ek.bind(null,_e)),Jf(function(){!(K$1&6)&&jg()}),rt=null;else{switch(Dc(nt)){case 1:rt=fc;break;case 4:rt=gc;break;case 16:rt=hc;break;case 536870912:rt=jc;break;default:rt=hc}rt=Fk(rt,Gk.bind(null,_e))}_e.callbackPriority=et,_e.callbackNode=rt}}function Gk(_e,et){if(Ak=-1,Bk=0,K$1&6)throw Error(p$6(327));var rt=_e.callbackNode;if(Hk()&&_e.callbackNode!==rt)return null;var nt=uc(_e,_e===Q$1?Z$1:0);if(nt===0)return null;if(nt&30||nt&_e.expiredLanes||et)et=Ik(_e,nt);else{et=nt;var st=K$1;K$1|=2;var it=Jk();(Q$1!==_e||Z$1!==et)&&(uk=null,Gj=B()+500,Kk(_e,et));do try{Lk();break}catch(ot){Mk(_e,ot)}while(!0);$g(),mk.current=it,K$1=st,Y$2!==null?et=0:(Q$1=null,Z$1=0,et=T$4)}if(et!==0){if(et===2&&(st=xc(_e),st!==0&&(nt=st,et=Nk(_e,st))),et===1)throw rt=pk,Kk(_e,0),Ck(_e,nt),Dk(_e,B()),rt;if(et===6)Ck(_e,nt);else{if(st=_e.current.alternate,!(nt&30)&&!Ok(st)&&(et=Ik(_e,nt),et===2&&(it=xc(_e),it!==0&&(nt=it,et=Nk(_e,it))),et===1))throw rt=pk,Kk(_e,0),Ck(_e,nt),Dk(_e,B()),rt;switch(_e.finishedWork=st,_e.finishedLanes=nt,et){case 0:case 1:throw Error(p$6(345));case 2:Pk(_e,tk$1,uk);break;case 3:if(Ck(_e,nt),(nt&130023424)===nt&&(et=fk+500-B(),10<et)){if(uc(_e,0)!==0)break;if(st=_e.suspendedLanes,(st&nt)!==nt){R(),_e.pingedLanes|=_e.suspendedLanes&st;break}_e.timeoutHandle=Ff(Pk.bind(null,_e,tk$1,uk),et);break}Pk(_e,tk$1,uk);break;case 4:if(Ck(_e,nt),(nt&4194240)===nt)break;for(et=_e.eventTimes,st=-1;0<nt;){var at=31-oc(nt);it=1<<at,at=et[at],at>st&&(st=at),nt&=~it}if(nt=st,nt=B()-nt,nt=(120>nt?120:480>nt?480:1080>nt?1080:1920>nt?1920:3e3>nt?3e3:4320>nt?4320:1960*lk(nt/1960))-nt,10<nt){_e.timeoutHandle=Ff(Pk.bind(null,_e,tk$1,uk),nt);break}Pk(_e,tk$1,uk);break;case 5:Pk(_e,tk$1,uk);break;default:throw Error(p$6(329))}}}return Dk(_e,B()),_e.callbackNode===rt?Gk.bind(null,_e):null}function Nk(_e,et){var rt=sk;return _e.current.memoizedState.isDehydrated&&(Kk(_e,et).flags|=256),_e=Ik(_e,et),_e!==2&&(et=tk$1,tk$1=rt,et!==null&&Fj(et)),_e}function Fj(_e){tk$1===null?tk$1=_e:tk$1.push.apply(tk$1,_e)}function Ok(_e){for(var et=_e;;){if(et.flags&16384){var rt=et.updateQueue;if(rt!==null&&(rt=rt.stores,rt!==null))for(var nt=0;nt<rt.length;nt++){var st=rt[nt],it=st.getSnapshot;st=st.value;try{if(!He$2(it(),st))return!1}catch{return!1}}}if(rt=et.child,et.subtreeFlags&16384&&rt!==null)rt.return=et,et=rt;else{if(et===_e)break;for(;et.sibling===null;){if(et.return===null||et.return===_e)return!0;et=et.return}et.sibling.return=et.return,et=et.sibling}}return!0}function Ck(_e,et){for(et&=~rk,et&=~qk,_e.suspendedLanes|=et,_e.pingedLanes&=~et,_e=_e.expirationTimes;0<et;){var rt=31-oc(et),nt=1<<rt;_e[rt]=-1,et&=~nt}}function Ek(_e){if(K$1&6)throw Error(p$6(327));Hk();var et=uc(_e,0);if(!(et&1))return Dk(_e,B()),null;var rt=Ik(_e,et);if(_e.tag!==0&&rt===2){var nt=xc(_e);nt!==0&&(et=nt,rt=Nk(_e,nt))}if(rt===1)throw rt=pk,Kk(_e,0),Ck(_e,et),Dk(_e,B()),rt;if(rt===6)throw Error(p$6(345));return _e.finishedWork=_e.current.alternate,_e.finishedLanes=et,Pk(_e,tk$1,uk),Dk(_e,B()),null}function Qk(_e,et){var rt=K$1;K$1|=1;try{return _e(et)}finally{K$1=rt,K$1===0&&(Gj=B()+500,fg&&jg())}}function Rk(_e){wk!==null&&wk.tag===0&&!(K$1&6)&&Hk();var et=K$1;K$1|=1;var rt=ok$2.transition,nt=C$6;try{if(ok$2.transition=null,C$6=1,_e)return _e()}finally{C$6=nt,ok$2.transition=rt,K$1=et,!(K$1&6)&&jg()}}function Hj(){fj=ej.current,E$3(ej)}function Kk(_e,et){_e.finishedWork=null,_e.finishedLanes=0;var rt=_e.timeoutHandle;if(rt!==-1&&(_e.timeoutHandle=-1,Gf(rt)),Y$2!==null)for(rt=Y$2.return;rt!==null;){var nt=rt;switch(wg(nt),nt.tag){case 1:nt=nt.type.childContextTypes,nt!=null&&$f();break;case 3:zh(),E$3(Wf),E$3(H$4),Eh();break;case 5:Bh(nt);break;case 4:zh();break;case 13:E$3(L$3);break;case 19:E$3(L$3);break;case 10:ah(nt.type._context);break;case 22:case 23:Hj()}rt=rt.return}if(Q$1=_e,Y$2=_e=Pg(_e.current,null),Z$1=fj=et,T$4=0,pk=null,rk=qk=rh=0,tk$1=sk=null,fh!==null){for(et=0;et<fh.length;et++)if(rt=fh[et],nt=rt.interleaved,nt!==null){rt.interleaved=null;var st=nt.next,it=rt.pending;if(it!==null){var at=it.next;it.next=st,nt.next=at}rt.pending=nt}fh=null}return _e}function Mk(_e,et){do{var rt=Y$2;try{if($g(),Fh.current=Rh,Ih){for(var nt=M$3.memoizedState;nt!==null;){var st=nt.queue;st!==null&&(st.pending=null),nt=nt.next}Ih=!1}if(Hh=0,O$3=N$2=M$3=null,Jh=!1,Kh=0,nk.current=null,rt===null||rt.return===null){T$4=1,pk=et,Y$2=null;break}e:{var it=_e,at=rt.return,ot=rt,lt=et;if(et=Z$1,ot.flags|=32768,lt!==null&&typeof lt=="object"&&typeof lt.then=="function"){var ct=lt,ut=ot,dt=ut.tag;if(!(ut.mode&1)&&(dt===0||dt===11||dt===15)){var pt=ut.alternate;pt?(ut.updateQueue=pt.updateQueue,ut.memoizedState=pt.memoizedState,ut.lanes=pt.lanes):(ut.updateQueue=null,ut.memoizedState=null)}var mt=Ui(at);if(mt!==null){mt.flags&=-257,Vi(mt,at,ot,it,et),mt.mode&1&&Si(it,ct,et),et=mt,lt=ct;var xt=et.updateQueue;if(xt===null){var yt=new Set;yt.add(lt),et.updateQueue=yt}else xt.add(lt);break e}else{if(!(et&1)){Si(it,ct,et),tj();break e}lt=Error(p$6(426))}}else if(I$6&&ot.mode&1){var vt=Ui(at);if(vt!==null){!(vt.flags&65536)&&(vt.flags|=256),Vi(vt,at,ot,it,et),Jg(Ji(lt,ot));break e}}it=lt=Ji(lt,ot),T$4!==4&&(T$4=2),sk===null?sk=[it]:sk.push(it),it=at;do{switch(it.tag){case 3:it.flags|=65536,et&=-et,it.lanes|=et;var gt=Ni(it,lt,et);ph(it,gt);break e;case 1:ot=lt;var Et=it.type,jt=it.stateNode;if(!(it.flags&128)&&(typeof Et.getDerivedStateFromError=="function"||jt!==null&&typeof jt.componentDidCatch=="function"&&(Ri===null||!Ri.has(jt)))){it.flags|=65536,et&=-et,it.lanes|=et;var kt=Qi(it,ot,et);ph(it,kt);break e}}it=it.return}while(it!==null)}Sk(rt)}catch(Rt){et=Rt,Y$2===rt&&rt!==null&&(Y$2=rt=rt.return);continue}break}while(!0)}function Jk(){var _e=mk.current;return mk.current=Rh,_e===null?Rh:_e}function tj(){(T$4===0||T$4===3||T$4===2)&&(T$4=4),Q$1===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q$1,Z$1)}function Ik(_e,et){var rt=K$1;K$1|=2;var nt=Jk();(Q$1!==_e||Z$1!==et)&&(uk=null,Kk(_e,et));do try{Tk();break}catch(st){Mk(_e,st)}while(!0);if($g(),K$1=rt,mk.current=nt,Y$2!==null)throw Error(p$6(261));return Q$1=null,Z$1=0,T$4}function Tk(){for(;Y$2!==null;)Uk(Y$2)}function Lk(){for(;Y$2!==null&&!cc();)Uk(Y$2)}function Uk(_e){var et=Vk(_e.alternate,_e,fj);_e.memoizedProps=_e.pendingProps,et===null?Sk(_e):Y$2=et,nk.current=null}function Sk(_e){var et=_e;do{var rt=et.alternate;if(_e=et.return,et.flags&32768){if(rt=Ij(rt,et),rt!==null){rt.flags&=32767,Y$2=rt;return}if(_e!==null)_e.flags|=32768,_e.subtreeFlags=0,_e.deletions=null;else{T$4=6,Y$2=null;return}}else if(rt=Ej(rt,et,fj),rt!==null){Y$2=rt;return}if(et=et.sibling,et!==null){Y$2=et;return}Y$2=et=_e}while(et!==null);T$4===0&&(T$4=5)}function Pk(_e,et,rt){var nt=C$6,st=ok$2.transition;try{ok$2.transition=null,C$6=1,Wk(_e,et,rt,nt)}finally{ok$2.transition=st,C$6=nt}return null}function Wk(_e,et,rt,nt){do Hk();while(wk!==null);if(K$1&6)throw Error(p$6(327));rt=_e.finishedWork;var st=_e.finishedLanes;if(rt===null)return null;if(_e.finishedWork=null,_e.finishedLanes=0,rt===_e.current)throw Error(p$6(177));_e.callbackNode=null,_e.callbackPriority=0;var it=rt.lanes|rt.childLanes;if(Bc(_e,it),_e===Q$1&&(Y$2=Q$1=null,Z$1=0),!(rt.subtreeFlags&2064)&&!(rt.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),it=(rt.flags&15990)!==0,rt.subtreeFlags&15990||it){it=ok$2.transition,ok$2.transition=null;var at=C$6;C$6=1;var ot=K$1;K$1|=4,nk.current=null,Oj(_e,rt),dk(rt,_e),Oe$2(Df),dd=!!Cf,Df=Cf=null,_e.current=rt,hk(rt),dc(),K$1=ot,C$6=at,ok$2.transition=it}else _e.current=rt;if(vk&&(vk=!1,wk=_e,xk=st),it=_e.pendingLanes,it===0&&(Ri=null),mc(rt.stateNode),Dk(_e,B()),et!==null)for(nt=_e.onRecoverableError,rt=0;rt<et.length;rt++)st=et[rt],nt(st.value,{componentStack:st.stack,digest:st.digest});if(Oi)throw Oi=!1,_e=Pi,Pi=null,_e;return xk&1&&_e.tag!==0&&Hk(),it=_e.pendingLanes,it&1?_e===zk?yk++:(yk=0,zk=_e):yk=0,jg(),null}function Hk(){if(wk!==null){var _e=Dc(xk),et=ok$2.transition,rt=C$6;try{if(ok$2.transition=null,C$6=16>_e?16:_e,wk===null)var nt=!1;else{if(_e=wk,wk=null,xk=0,K$1&6)throw Error(p$6(331));var st=K$1;for(K$1|=4,V$2=_e.current;V$2!==null;){var it=V$2,at=it.child;if(V$2.flags&16){var ot=it.deletions;if(ot!==null){for(var lt=0;lt<ot.length;lt++){var ct=ot[lt];for(V$2=ct;V$2!==null;){var ut=V$2;switch(ut.tag){case 0:case 11:case 15:Pj(8,ut,it)}var dt=ut.child;if(dt!==null)dt.return=ut,V$2=dt;else for(;V$2!==null;){ut=V$2;var pt=ut.sibling,mt=ut.return;if(Sj(ut),ut===ct){V$2=null;break}if(pt!==null){pt.return=mt,V$2=pt;break}V$2=mt}}}var xt=it.alternate;if(xt!==null){var yt=xt.child;if(yt!==null){xt.child=null;do{var vt=yt.sibling;yt.sibling=null,yt=vt}while(yt!==null)}}V$2=it}}if(it.subtreeFlags&2064&&at!==null)at.return=it,V$2=at;else e:for(;V$2!==null;){if(it=V$2,it.flags&2048)switch(it.tag){case 0:case 11:case 15:Pj(9,it,it.return)}var gt=it.sibling;if(gt!==null){gt.return=it.return,V$2=gt;break e}V$2=it.return}}var Et=_e.current;for(V$2=Et;V$2!==null;){at=V$2;var jt=at.child;if(at.subtreeFlags&2064&&jt!==null)jt.return=at,V$2=jt;else e:for(at=Et;V$2!==null;){if(ot=V$2,ot.flags&2048)try{switch(ot.tag){case 0:case 11:case 15:Qj(9,ot)}}catch(Rt){W$2(ot,ot.return,Rt)}if(ot===at){V$2=null;break e}var kt=ot.sibling;if(kt!==null){kt.return=ot.return,V$2=kt;break e}V$2=ot.return}}if(K$1=st,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,_e)}catch{}nt=!0}return nt}finally{C$6=rt,ok$2.transition=et}}return!1}function Xk(_e,et,rt){et=Ji(rt,et),et=Ni(_e,et,1),_e=nh(_e,et,1),et=R(),_e!==null&&(Ac(_e,1,et),Dk(_e,et))}function W$2(_e,et,rt){if(_e.tag===3)Xk(_e,_e,rt);else for(;et!==null;){if(et.tag===3){Xk(et,_e,rt);break}else if(et.tag===1){var nt=et.stateNode;if(typeof et.type.getDerivedStateFromError=="function"||typeof nt.componentDidCatch=="function"&&(Ri===null||!Ri.has(nt))){_e=Ji(rt,_e),_e=Qi(et,_e,1),et=nh(et,_e,1),_e=R(),et!==null&&(Ac(et,1,_e),Dk(et,_e));break}}et=et.return}}function Ti(_e,et,rt){var nt=_e.pingCache;nt!==null&&nt.delete(et),et=R(),_e.pingedLanes|=_e.suspendedLanes&rt,Q$1===_e&&(Z$1&rt)===rt&&(T$4===4||T$4===3&&(Z$1&130023424)===Z$1&&500>B()-fk?Kk(_e,0):rk|=rt),Dk(_e,et)}function Yk(_e,et){et===0&&(_e.mode&1?(et=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):et=1);var rt=R();_e=ih(_e,et),_e!==null&&(Ac(_e,et,rt),Dk(_e,rt))}function uj(_e){var et=_e.memoizedState,rt=0;et!==null&&(rt=et.retryLane),Yk(_e,rt)}function bk(_e,et){var rt=0;switch(_e.tag){case 13:var nt=_e.stateNode,st=_e.memoizedState;st!==null&&(rt=st.retryLane);break;case 19:nt=_e.stateNode;break;default:throw Error(p$6(314))}nt!==null&&nt.delete(et),Yk(_e,rt)}var Vk;Vk=function(_e,et,rt){if(_e!==null)if(_e.memoizedProps!==et.pendingProps||Wf.current)dh=!0;else{if(!(_e.lanes&rt)&&!(et.flags&128))return dh=!1,yj(_e,et,rt);dh=!!(_e.flags&131072)}else dh=!1,I$6&&et.flags&1048576&&ug(et,ng,et.index);switch(et.lanes=0,et.tag){case 2:var nt=et.type;ij(_e,et),_e=et.pendingProps;var st=Yf(et,H$4.current);ch(et,rt),st=Nh(null,et,nt,_e,st,rt);var it=Sh();return et.flags|=1,typeof st=="object"&&st!==null&&typeof st.render=="function"&&st.$$typeof===void 0?(et.tag=1,et.memoizedState=null,et.updateQueue=null,Zf(nt)?(it=!0,cg(et)):it=!1,et.memoizedState=st.state!==null&&st.state!==void 0?st.state:null,kh(et),st.updater=Ei,et.stateNode=st,st._reactInternals=et,Ii(et,nt,_e,rt),et=jj(null,et,nt,!0,it,rt)):(et.tag=0,I$6&&it&&vg(et),Xi(null,et,st,rt),et=et.child),et;case 16:nt=et.elementType;e:{switch(ij(_e,et),_e=et.pendingProps,st=nt._init,nt=st(nt._payload),et.type=nt,st=et.tag=Zk(nt),_e=Ci(nt,_e),st){case 0:et=cj(null,et,nt,_e,rt);break e;case 1:et=hj(null,et,nt,_e,rt);break e;case 11:et=Yi(null,et,nt,_e,rt);break e;case 14:et=$i(null,et,nt,Ci(nt.type,_e),rt);break e}throw Error(p$6(306,nt,""))}return et;case 0:return nt=et.type,st=et.pendingProps,st=et.elementType===nt?st:Ci(nt,st),cj(_e,et,nt,st,rt);case 1:return nt=et.type,st=et.pendingProps,st=et.elementType===nt?st:Ci(nt,st),hj(_e,et,nt,st,rt);case 3:e:{if(kj(et),_e===null)throw Error(p$6(387));nt=et.pendingProps,it=et.memoizedState,st=it.element,lh(_e,et),qh(et,nt,null,rt);var at=et.memoizedState;if(nt=at.element,it.isDehydrated)if(it={element:nt,isDehydrated:!1,cache:at.cache,pendingSuspenseBoundaries:at.pendingSuspenseBoundaries,transitions:at.transitions},et.updateQueue.baseState=it,et.memoizedState=it,et.flags&256){st=Ji(Error(p$6(423)),et),et=lj(_e,et,nt,rt,st);break e}else if(nt!==st){st=Ji(Error(p$6(424)),et),et=lj(_e,et,nt,rt,st);break e}else for(yg=Lf(et.stateNode.containerInfo.firstChild),xg=et,I$6=!0,zg=null,rt=Vg(et,null,nt,rt),et.child=rt;rt;)rt.flags=rt.flags&-3|4096,rt=rt.sibling;else{if(Ig(),nt===st){et=Zi(_e,et,rt);break e}Xi(_e,et,nt,rt)}et=et.child}return et;case 5:return Ah(et),_e===null&&Eg(et),nt=et.type,st=et.pendingProps,it=_e!==null?_e.memoizedProps:null,at=st.children,Ef(nt,st)?at=null:it!==null&&Ef(nt,it)&&(et.flags|=32),gj(_e,et),Xi(_e,et,at,rt),et.child;case 6:return _e===null&&Eg(et),null;case 13:return oj(_e,et,rt);case 4:return yh(et,et.stateNode.containerInfo),nt=et.pendingProps,_e===null?et.child=Ug(et,null,nt,rt):Xi(_e,et,nt,rt),et.child;case 11:return nt=et.type,st=et.pendingProps,st=et.elementType===nt?st:Ci(nt,st),Yi(_e,et,nt,st,rt);case 7:return Xi(_e,et,et.pendingProps,rt),et.child;case 8:return Xi(_e,et,et.pendingProps.children,rt),et.child;case 12:return Xi(_e,et,et.pendingProps.children,rt),et.child;case 10:e:{if(nt=et.type._context,st=et.pendingProps,it=et.memoizedProps,at=st.value,G$2(Wg,nt._currentValue),nt._currentValue=at,it!==null)if(He$2(it.value,at)){if(it.children===st.children&&!Wf.current){et=Zi(_e,et,rt);break e}}else for(it=et.child,it!==null&&(it.return=et);it!==null;){var ot=it.dependencies;if(ot!==null){at=it.child;for(var lt=ot.firstContext;lt!==null;){if(lt.context===nt){if(it.tag===1){lt=mh(-1,rt&-rt),lt.tag=2;var ct=it.updateQueue;if(ct!==null){ct=ct.shared;var ut=ct.pending;ut===null?lt.next=lt:(lt.next=ut.next,ut.next=lt),ct.pending=lt}}it.lanes|=rt,lt=it.alternate,lt!==null&&(lt.lanes|=rt),bh(it.return,rt,et),ot.lanes|=rt;break}lt=lt.next}}else if(it.tag===10)at=it.type===et.type?null:it.child;else if(it.tag===18){if(at=it.return,at===null)throw Error(p$6(341));at.lanes|=rt,ot=at.alternate,ot!==null&&(ot.lanes|=rt),bh(at,rt,et),at=it.sibling}else at=it.child;if(at!==null)at.return=it;else for(at=it;at!==null;){if(at===et){at=null;break}if(it=at.sibling,it!==null){it.return=at.return,at=it;break}at=at.return}it=at}Xi(_e,et,st.children,rt),et=et.child}return et;case 9:return st=et.type,nt=et.pendingProps.children,ch(et,rt),st=eh(st),nt=nt(st),et.flags|=1,Xi(_e,et,nt,rt),et.child;case 14:return nt=et.type,st=Ci(nt,et.pendingProps),st=Ci(nt.type,st),$i(_e,et,nt,st,rt);case 15:return bj(_e,et,et.type,et.pendingProps,rt);case 17:return nt=et.type,st=et.pendingProps,st=et.elementType===nt?st:Ci(nt,st),ij(_e,et),et.tag=1,Zf(nt)?(_e=!0,cg(et)):_e=!1,ch(et,rt),Gi(et,nt,st),Ii(et,nt,st,rt),jj(null,et,nt,!0,_e,rt);case 19:return xj(_e,et,rt);case 22:return dj(_e,et,rt)}throw Error(p$6(156,et.tag))};function Fk(_e,et){return ac(_e,et)}function $k(_e,et,rt,nt){this.tag=_e,this.key=rt,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=et,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=nt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(_e,et,rt,nt){return new $k(_e,et,rt,nt)}function aj(_e){return _e=_e.prototype,!(!_e||!_e.isReactComponent)}function Zk(_e){if(typeof _e=="function")return aj(_e)?1:0;if(_e!=null){if(_e=_e.$$typeof,_e===Da)return 11;if(_e===Ga)return 14}return 2}function Pg(_e,et){var rt=_e.alternate;return rt===null?(rt=Bg(_e.tag,et,_e.key,_e.mode),rt.elementType=_e.elementType,rt.type=_e.type,rt.stateNode=_e.stateNode,rt.alternate=_e,_e.alternate=rt):(rt.pendingProps=et,rt.type=_e.type,rt.flags=0,rt.subtreeFlags=0,rt.deletions=null),rt.flags=_e.flags&14680064,rt.childLanes=_e.childLanes,rt.lanes=_e.lanes,rt.child=_e.child,rt.memoizedProps=_e.memoizedProps,rt.memoizedState=_e.memoizedState,rt.updateQueue=_e.updateQueue,et=_e.dependencies,rt.dependencies=et===null?null:{lanes:et.lanes,firstContext:et.firstContext},rt.sibling=_e.sibling,rt.index=_e.index,rt.ref=_e.ref,rt}function Rg(_e,et,rt,nt,st,it){var at=2;if(nt=_e,typeof _e=="function")aj(_e)&&(at=1);else if(typeof _e=="string")at=5;else e:switch(_e){case ya:return Tg(rt.children,st,it,et);case za:at=8,st|=8;break;case Aa:return _e=Bg(12,rt,et,st|2),_e.elementType=Aa,_e.lanes=it,_e;case Ea:return _e=Bg(13,rt,et,st),_e.elementType=Ea,_e.lanes=it,_e;case Fa:return _e=Bg(19,rt,et,st),_e.elementType=Fa,_e.lanes=it,_e;case Ia:return pj(rt,st,it,et);default:if(typeof _e=="object"&&_e!==null)switch(_e.$$typeof){case Ba:at=10;break e;case Ca:at=9;break e;case Da:at=11;break e;case Ga:at=14;break e;case Ha:at=16,nt=null;break e}throw Error(p$6(130,_e==null?_e:typeof _e,""))}return et=Bg(at,rt,et,st),et.elementType=_e,et.type=nt,et.lanes=it,et}function Tg(_e,et,rt,nt){return _e=Bg(7,_e,nt,et),_e.lanes=rt,_e}function pj(_e,et,rt,nt){return _e=Bg(22,_e,nt,et),_e.elementType=Ia,_e.lanes=rt,_e.stateNode={isHidden:!1},_e}function Qg(_e,et,rt){return _e=Bg(6,_e,null,et),_e.lanes=rt,_e}function Sg(_e,et,rt){return et=Bg(4,_e.children!==null?_e.children:[],_e.key,et),et.lanes=rt,et.stateNode={containerInfo:_e.containerInfo,pendingChildren:null,implementation:_e.implementation},et}function al(_e,et,rt,nt,st){this.tag=et,this.containerInfo=_e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=nt,this.onRecoverableError=st,this.mutableSourceEagerHydrationData=null}function bl(_e,et,rt,nt,st,it,at,ot,lt){return _e=new al(_e,et,rt,ot,lt),et===1?(et=1,it===!0&&(et|=8)):et=0,it=Bg(3,null,null,et),_e.current=it,it.stateNode=_e,it.memoizedState={element:nt,isDehydrated:rt,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(it),_e}function cl(_e,et,rt){var nt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:nt==null?null:""+nt,children:_e,containerInfo:et,implementation:rt}}function dl(_e){if(!_e)return Vf;_e=_e._reactInternals;e:{if(Vb(_e)!==_e||_e.tag!==1)throw Error(p$6(170));var et=_e;do{switch(et.tag){case 3:et=et.stateNode.context;break e;case 1:if(Zf(et.type)){et=et.stateNode.__reactInternalMemoizedMergedChildContext;break e}}et=et.return}while(et!==null);throw Error(p$6(171))}if(_e.tag===1){var rt=_e.type;if(Zf(rt))return bg(_e,rt,et)}return et}function el(_e,et,rt,nt,st,it,at,ot,lt){return _e=bl(rt,nt,!0,_e,st,it,at,ot,lt),_e.context=dl(null),rt=_e.current,nt=R(),st=yi(rt),it=mh(nt,st),it.callback=et??null,nh(rt,it,st),_e.current.lanes=st,Ac(_e,st,nt),Dk(_e,nt),_e}function fl(_e,et,rt,nt){var st=et.current,it=R(),at=yi(st);return rt=dl(rt),et.context===null?et.context=rt:et.pendingContext=rt,et=mh(it,at),et.payload={element:_e},nt=nt===void 0?null:nt,nt!==null&&(et.callback=nt),_e=nh(st,et,at),_e!==null&&(gi(_e,st,at,it),oh(_e,st,at)),at}function gl(_e){if(_e=_e.current,!_e.child)return null;switch(_e.child.tag){case 5:return _e.child.stateNode;default:return _e.child.stateNode}}function hl(_e,et){if(_e=_e.memoizedState,_e!==null&&_e.dehydrated!==null){var rt=_e.retryLane;_e.retryLane=rt!==0&&rt<et?rt:et}}function il(_e,et){hl(_e,et),(_e=_e.alternate)&&hl(_e,et)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(_e){console.error(_e)};function ll(_e){this._internalRoot=_e}ml.prototype.render=ll.prototype.render=function(_e){var et=this._internalRoot;if(et===null)throw Error(p$6(409));fl(_e,et,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var _e=this._internalRoot;if(_e!==null){this._internalRoot=null;var et=_e.containerInfo;Rk(function(){fl(null,_e,null,null)}),et[uf]=null}};function ml(_e){this._internalRoot=_e}ml.prototype.unstable_scheduleHydration=function(_e){if(_e){var et=Hc();_e={blockedOn:null,target:_e,priority:et};for(var rt=0;rt<Qc.length&&et!==0&&et<Qc[rt].priority;rt++);Qc.splice(rt,0,_e),rt===0&&Vc(_e)}};function nl(_e){return!(!_e||_e.nodeType!==1&&_e.nodeType!==9&&_e.nodeType!==11)}function ol(_e){return!(!_e||_e.nodeType!==1&&_e.nodeType!==9&&_e.nodeType!==11&&(_e.nodeType!==8||_e.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(_e,et,rt,nt,st){if(st){if(typeof nt=="function"){var it=nt;nt=function(){var ct=gl(at);it.call(ct)}}var at=el(et,nt,_e,0,null,!1,!1,"",pl);return _e._reactRootContainer=at,_e[uf]=at.current,sf(_e.nodeType===8?_e.parentNode:_e),Rk(),at}for(;st=_e.lastChild;)_e.removeChild(st);if(typeof nt=="function"){var ot=nt;nt=function(){var ct=gl(lt);ot.call(ct)}}var lt=bl(_e,0,!1,null,null,!1,!1,"",pl);return _e._reactRootContainer=lt,_e[uf]=lt.current,sf(_e.nodeType===8?_e.parentNode:_e),Rk(function(){fl(et,lt,rt,nt)}),lt}function rl(_e,et,rt,nt,st){var it=rt._reactRootContainer;if(it){var at=it;if(typeof st=="function"){var ot=st;st=function(){var lt=gl(at);ot.call(lt)}}fl(et,at,_e,st)}else at=ql(rt,et,_e,st,nt);return gl(at)}Ec=function(_e){switch(_e.tag){case 3:var et=_e.stateNode;if(et.current.memoizedState.isDehydrated){var rt=tc(et.pendingLanes);rt!==0&&(Cc(et,rt|1),Dk(et,B()),!(K$1&6)&&(Gj=B()+500,jg()))}break;case 13:Rk(function(){var nt=ih(_e,1);if(nt!==null){var st=R();gi(nt,_e,1,st)}}),il(_e,1)}};Fc=function(_e){if(_e.tag===13){var et=ih(_e,134217728);if(et!==null){var rt=R();gi(et,_e,134217728,rt)}il(_e,134217728)}};Gc=function(_e){if(_e.tag===13){var et=yi(_e),rt=ih(_e,et);if(rt!==null){var nt=R();gi(rt,_e,et,nt)}il(_e,et)}};Hc=function(){return C$6};Ic=function(_e,et){var rt=C$6;try{return C$6=_e,et()}finally{C$6=rt}};yb=function(_e,et,rt){switch(et){case"input":if(bb(_e,rt),et=rt.name,rt.type==="radio"&&et!=null){for(rt=_e;rt.parentNode;)rt=rt.parentNode;for(rt=rt.querySelectorAll("input[name="+JSON.stringify(""+et)+'][type="radio"]'),et=0;et<rt.length;et++){var nt=rt[et];if(nt!==_e&&nt.form===_e.form){var st=Db(nt);if(!st)throw Error(p$6(90));Wa(nt),bb(nt,st)}}}break;case"textarea":ib(_e,rt);break;case"select":et=rt.value,et!=null&&fb(_e,!!rt.multiple,et,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue$1,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(_e){return _e=Zb(_e),_e===null?null:_e.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(_e,et){var rt=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(et))throw Error(p$6(200));return cl(_e,et,null,rt)};reactDom_production_min.createRoot=function(_e,et){if(!nl(_e))throw Error(p$6(299));var rt=!1,nt="",st=kl;return et!=null&&(et.unstable_strictMode===!0&&(rt=!0),et.identifierPrefix!==void 0&&(nt=et.identifierPrefix),et.onRecoverableError!==void 0&&(st=et.onRecoverableError)),et=bl(_e,1,!1,null,null,rt,!1,nt,st),_e[uf]=et.current,sf(_e.nodeType===8?_e.parentNode:_e),new ll(et)};reactDom_production_min.findDOMNode=function(_e){if(_e==null)return null;if(_e.nodeType===1)return _e;var et=_e._reactInternals;if(et===void 0)throw typeof _e.render=="function"?Error(p$6(188)):(_e=Object.keys(_e).join(","),Error(p$6(268,_e)));return _e=Zb(et),_e=_e===null?null:_e.stateNode,_e};reactDom_production_min.flushSync=function(_e){return Rk(_e)};reactDom_production_min.hydrate=function(_e,et,rt){if(!ol(et))throw Error(p$6(200));return rl(null,_e,et,!0,rt)};reactDom_production_min.hydrateRoot=function(_e,et,rt){if(!nl(_e))throw Error(p$6(405));var nt=rt!=null&&rt.hydratedSources||null,st=!1,it="",at=kl;if(rt!=null&&(rt.unstable_strictMode===!0&&(st=!0),rt.identifierPrefix!==void 0&&(it=rt.identifierPrefix),rt.onRecoverableError!==void 0&&(at=rt.onRecoverableError)),et=el(et,null,_e,1,rt??null,st,!1,it,at),_e[uf]=et.current,sf(_e),nt)for(_e=0;_e<nt.length;_e++)rt=nt[_e],st=rt._getVersion,st=st(rt._source),et.mutableSourceEagerHydrationData==null?et.mutableSourceEagerHydrationData=[rt,st]:et.mutableSourceEagerHydrationData.push(rt,st);return new ml(et)};reactDom_production_min.render=function(_e,et,rt){if(!ol(et))throw Error(p$6(200));return rl(null,_e,et,!1,rt)};reactDom_production_min.unmountComponentAtNode=function(_e){if(!ol(_e))throw Error(p$6(40));return _e._reactRootContainer?(Rk(function(){rl(null,null,_e,!1,function(){_e._reactRootContainer=null,_e[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(_e,et,rt,nt){if(!ol(rt))throw Error(p$6(200));if(_e==null||_e._reactInternals===void 0)throw Error(p$6(38));return rl(_e,et,rt,!1,nt)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(_e){console.error(_e)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports;const ReactDOM=getDefaultExportFromCjs(reactDomExports);var createRoot,m$6=reactDomExports;createRoot=m$6.createRoot,m$6.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$y(){return _extends$y=Object.assign?Object.assign.bind():function(_e){for(var et=1;et<arguments.length;et++){var rt=arguments[et];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(_e[nt]=rt[nt])}return _e},_extends$y.apply(this,arguments)}var Action;(function(_e){_e.Pop="POP",_e.Push="PUSH",_e.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory(_e){_e===void 0&&(_e={});function et(nt,st){let{pathname:it,search:at,hash:ot}=nt.location;return createLocation("",{pathname:it,search:at,hash:ot},st.state&&st.state.usr||null,st.state&&st.state.key||"default")}function rt(nt,st){return typeof st=="string"?st:createPath(st)}return getUrlBasedHistory(et,rt,null,_e)}function invariant$3(_e,et){if(_e===!1||_e===null||typeof _e>"u")throw new Error(et)}function warning(_e,et){if(!_e){typeof console<"u"&&console.warn(et);try{throw new Error(et)}catch{}}}function createKey$1(){return Math.random().toString(36).substr(2,8)}function getHistoryState(_e,et){return{usr:_e.state,key:_e.key,idx:et}}function createLocation(_e,et,rt,nt){return rt===void 0&&(rt=null),_extends$y({pathname:typeof _e=="string"?_e:_e.pathname,search:"",hash:""},typeof et=="string"?parsePath(et):et,{state:rt,key:et&&et.key||nt||createKey$1()})}function createPath(_e){let{pathname:et="/",search:rt="",hash:nt=""}=_e;return rt&&rt!=="?"&&(et+=rt.charAt(0)==="?"?rt:"?"+rt),nt&&nt!=="#"&&(et+=nt.charAt(0)==="#"?nt:"#"+nt),et}function parsePath(_e){let et={};if(_e){let rt=_e.indexOf("#");rt>=0&&(et.hash=_e.substr(rt),_e=_e.substr(0,rt));let nt=_e.indexOf("?");nt>=0&&(et.search=_e.substr(nt),_e=_e.substr(0,nt)),_e&&(et.pathname=_e)}return et}function getUrlBasedHistory(_e,et,rt,nt){nt===void 0&&(nt={});let{window:st=document.defaultView,v5Compat:it=!1}=nt,at=st.history,ot=Action.Pop,lt=null,ct=ut();ct==null&&(ct=0,at.replaceState(_extends$y({},at.state,{idx:ct}),""));function ut(){return(at.state||{idx:null}).idx}function dt(){ot=Action.Pop;let vt=ut(),gt=vt==null?null:vt-ct;ct=vt,lt&&lt({action:ot,location:yt.location,delta:gt})}function pt(vt,gt){ot=Action.Push;let Et=createLocation(yt.location,vt,gt);ct=ut()+1;let jt=getHistoryState(Et,ct),kt=yt.createHref(Et);try{at.pushState(jt,"",kt)}catch(Rt){if(Rt instanceof DOMException&&Rt.name==="DataCloneError")throw Rt;st.location.assign(kt)}it&&lt&&lt({action:ot,location:yt.location,delta:1})}function mt(vt,gt){ot=Action.Replace;let Et=createLocation(yt.location,vt,gt);ct=ut();let jt=getHistoryState(Et,ct),kt=yt.createHref(Et);at.replaceState(jt,"",kt),it&&lt&&lt({action:ot,location:yt.location,delta:0})}function xt(vt){let gt=st.location.origin!=="null"?st.location.origin:st.location.href,Et=typeof vt=="string"?vt:createPath(vt);return Et=Et.replace(/ $/,"%20"),invariant$3(gt,"No window.location.(origin|href) available to create URL for href: "+Et),new URL(Et,gt)}let yt={get action(){return ot},get location(){return _e(st,at)},listen(vt){if(lt)throw new Error("A history only accepts one active listener");return st.addEventListener(PopStateEventType,dt),lt=vt,()=>{st.removeEventListener(PopStateEventType,dt),lt=null}},createHref(vt){return et(st,vt)},createURL:xt,encodeLocation(vt){let gt=xt(vt);return{pathname:gt.pathname,search:gt.search,hash:gt.hash}},push:pt,replace:mt,go(vt){return at.go(vt)}};return yt}var ResultType;(function(_e){_e.data="data",_e.deferred="deferred",_e.redirect="redirect",_e.error="error"})(ResultType||(ResultType={}));function matchRoutes(_e,et,rt){return rt===void 0&&(rt="/"),matchRoutesImpl(_e,et,rt)}function matchRoutesImpl(_e,et,rt,nt){let st=typeof et=="string"?parsePath(et):et,it=stripBasename(st.pathname||"/",rt);if(it==null)return null;let at=flattenRoutes(_e);rankRouteBranches(at);let ot=null;for(let lt=0;ot==null&&lt<at.length;++lt){let ct=decodePath(it);ot=matchRouteBranch(at[lt],ct)}return ot}function flattenRoutes(_e,et,rt,nt){et===void 0&&(et=[]),rt===void 0&&(rt=[]),nt===void 0&&(nt="");let st=(it,at,ot)=>{let lt={relativePath:ot===void 0?it.path||"":ot,caseSensitive:it.caseSensitive===!0,childrenIndex:at,route:it};lt.relativePath.startsWith("/")&&(invariant$3(lt.relativePath.startsWith(nt),'Absolute route path "'+lt.relativePath+'" nested under path '+('"'+nt+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),lt.relativePath=lt.relativePath.slice(nt.length));let ct=joinPaths([nt,lt.relativePath]),ut=rt.concat(lt);it.children&&it.children.length>0&&(invariant$3(it.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+ct+'".')),flattenRoutes(it.children,et,ut,ct)),!(it.path==null&&!it.index)&&et.push({path:ct,score:computeScore(ct,it.index),routesMeta:ut})};return _e.forEach((it,at)=>{var ot;if(it.path===""||!((ot=it.path)!=null&&ot.includes("?")))st(it,at);else for(let lt of explodeOptionalSegments(it.path))st(it,at,lt)}),et}function explodeOptionalSegments(_e){let et=_e.split("/");if(et.length===0)return[];let[rt,...nt]=et,st=rt.endsWith("?"),it=rt.replace(/\?$/,"");if(nt.length===0)return st?[it,""]:[it];let at=explodeOptionalSegments(nt.join("/")),ot=[];return ot.push(...at.map(lt=>lt===""?it:[it,lt].join("/"))),st&&ot.push(...at),ot.map(lt=>_e.startsWith("/")&&lt===""?"/":lt)}function rankRouteBranches(_e){_e.sort((et,rt)=>et.score!==rt.score?rt.score-et.score:compareIndexes(et.routesMeta.map(nt=>nt.childrenIndex),rt.routesMeta.map(nt=>nt.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=_e=>_e==="*";function computeScore(_e,et){let rt=_e.split("/"),nt=rt.length;return rt.some(isSplat)&&(nt+=splatPenalty),et&&(nt+=indexRouteValue),rt.filter(st=>!isSplat(st)).reduce((st,it)=>st+(paramRe.test(it)?dynamicSegmentValue:it===""?emptySegmentValue:staticSegmentValue),nt)}function compareIndexes(_e,et){return _e.length===et.length&&_e.slice(0,-1).every((nt,st)=>nt===et[st])?_e[_e.length-1]-et[et.length-1]:0}function matchRouteBranch(_e,et,rt){let{routesMeta:nt}=_e,st={},it="/",at=[];for(let ot=0;ot<nt.length;++ot){let lt=nt[ot],ct=ot===nt.length-1,ut=it==="/"?et:et.slice(it.length)||"/",dt=matchPath({path:lt.relativePath,caseSensitive:lt.caseSensitive,end:ct},ut),pt=lt.route;if(!dt)return null;Object.assign(st,dt.params),at.push({params:st,pathname:joinPaths([it,dt.pathname]),pathnameBase:normalizePathname(joinPaths([it,dt.pathnameBase])),route:pt}),dt.pathnameBase!=="/"&&(it=joinPaths([it,dt.pathnameBase]))}return at}function matchPath(_e,et){typeof _e=="string"&&(_e={path:_e,caseSensitive:!1,end:!0});let[rt,nt]=compilePath(_e.path,_e.caseSensitive,_e.end),st=et.match(rt);if(!st)return null;let it=st[0],at=it.replace(/(.)\/+$/,"$1"),ot=st.slice(1);return{params:nt.reduce((ct,ut,dt)=>{let{paramName:pt,isOptional:mt}=ut;if(pt==="*"){let yt=ot[dt]||"";at=it.slice(0,it.length-yt.length).replace(/(.)\/+$/,"$1")}const xt=ot[dt];return mt&&!xt?ct[pt]=void 0:ct[pt]=(xt||"").replace(/%2F/g,"/"),ct},{}),pathname:it,pathnameBase:at,pattern:_e}}function compilePath(_e,et,rt){et===void 0&&(et=!1),rt===void 0&&(rt=!0),warning(_e==="*"||!_e.endsWith("*")||_e.endsWith("/*"),'Route path "'+_e+'" will be treated as if it were '+('"'+_e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+_e.replace(/\*$/,"/*")+'".'));let nt=[],st="^"+_e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(at,ot,lt)=>(nt.push({paramName:ot,isOptional:lt!=null}),lt?"/?([^\\/]+)?":"/([^\\/]+)"));return _e.endsWith("*")?(nt.push({paramName:"*"}),st+=_e==="*"||_e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):rt?st+="\\/*$":_e!==""&&_e!=="/"&&(st+="(?:(?=\\/|$))"),[new RegExp(st,et?void 0:"i"),nt]}function decodePath(_e){try{return _e.split("/").map(et=>decodeURIComponent(et).replace(/\//g,"%2F")).join("/")}catch(et){return warning(!1,'The URL path "'+_e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+et+").")),_e}}function stripBasename(_e,et){if(et==="/")return _e;if(!_e.toLowerCase().startsWith(et.toLowerCase()))return null;let rt=et.endsWith("/")?et.length-1:et.length,nt=_e.charAt(rt);return nt&&nt!=="/"?null:_e.slice(rt)||"/"}const ABSOLUTE_URL_REGEX$1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,isAbsoluteUrl$1=_e=>ABSOLUTE_URL_REGEX$1.test(_e);function resolvePath(_e,et){et===void 0&&(et="/");let{pathname:rt,search:nt="",hash:st=""}=typeof _e=="string"?parsePath(_e):_e,it;if(rt)if(isAbsoluteUrl$1(rt))it=rt;else{if(rt.includes("//")){let at=rt;rt=rt.replace(/\/\/+/g,"/"),warning(!1,"Pathnames cannot have embedded double slashes - normalizing "+(at+" -> "+rt))}rt.startsWith("/")?it=resolvePathname(rt.substring(1),"/"):it=resolvePathname(rt,et)}else it=et;return{pathname:it,search:normalizeSearch(nt),hash:normalizeHash(st)}}function resolvePathname(_e,et){let rt=et.replace(/\/+$/,"").split("/");return _e.split("/").forEach(st=>{st===".."?rt.length>1&&rt.pop():st!=="."&&rt.push(st)}),rt.length>1?rt.join("/"):"/"}function getInvalidPathError(_e,et,rt,nt){return"Cannot include a '"+_e+"' character in a manually specified "+("`to."+et+"` field ["+JSON.stringify(nt)+"].  Please separate it out to the ")+("`to."+rt+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(_e){return _e.filter((et,rt)=>rt===0||et.route.path&&et.route.path.length>0)}function getResolveToMatches(_e,et){let rt=getPathContributingMatches(_e);return et?rt.map((nt,st)=>st===rt.length-1?nt.pathname:nt.pathnameBase):rt.map(nt=>nt.pathnameBase)}function resolveTo(_e,et,rt,nt){nt===void 0&&(nt=!1);let st;typeof _e=="string"?st=parsePath(_e):(st=_extends$y({},_e),invariant$3(!st.pathname||!st.pathname.includes("?"),getInvalidPathError("?","pathname","search",st)),invariant$3(!st.pathname||!st.pathname.includes("#"),getInvalidPathError("#","pathname","hash",st)),invariant$3(!st.search||!st.search.includes("#"),getInvalidPathError("#","search","hash",st)));let it=_e===""||st.pathname==="",at=it?"/":st.pathname,ot;if(at==null)ot=rt;else{let dt=et.length-1;if(!nt&&at.startsWith("..")){let pt=at.split("/");for(;pt[0]==="..";)pt.shift(),dt-=1;st.pathname=pt.join("/")}ot=dt>=0?et[dt]:"/"}let lt=resolvePath(st,ot),ct=at&&at!=="/"&&at.endsWith("/"),ut=(it||at===".")&&rt.endsWith("/");return!lt.pathname.endsWith("/")&&(ct||ut)&&(lt.pathname+="/"),lt}const joinPaths=_e=>_e.join("/").replace(/\/\/+/g,"/"),normalizePathname=_e=>_e.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=_e=>!_e||_e==="?"?"":_e.startsWith("?")?_e:"?"+_e,normalizeHash=_e=>!_e||_e==="#"?"":_e.startsWith("#")?_e:"#"+_e;function isRouteErrorResponse(_e){return _e!=null&&typeof _e.status=="number"&&typeof _e.statusText=="string"&&typeof _e.internal=="boolean"&&"data"in _e}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$x(){return _extends$x=Object.assign?Object.assign.bind():function(_e){for(var et=1;et<arguments.length;et++){var rt=arguments[et];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(_e[nt]=rt[nt])}return _e},_extends$x.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useHref(_e,et){let{relative:rt}=et===void 0?{}:et;useInRouterContext()||invariant$3(!1);let{basename:nt,navigator:st}=reactExports.useContext(NavigationContext),{hash:it,pathname:at,search:ot}=useResolvedPath(_e,{relative:rt}),lt=at;return nt!=="/"&&(lt=at==="/"?nt:joinPaths([nt,at])),st.createHref({pathname:lt,search:ot,hash:it})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant$3(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect$3(_e){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(_e)}function useNavigate(){let{isDataRoute:_e}=reactExports.useContext(RouteContext);return _e?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant$3(!1);let _e=reactExports.useContext(DataRouterContext),{basename:et,future:rt,navigator:nt}=reactExports.useContext(NavigationContext),{matches:st}=reactExports.useContext(RouteContext),{pathname:it}=useLocation(),at=JSON.stringify(getResolveToMatches(st,rt.v7_relativeSplatPath)),ot=reactExports.useRef(!1);return useIsomorphicLayoutEffect$3(()=>{ot.current=!0}),reactExports.useCallback(function(ct,ut){if(ut===void 0&&(ut={}),!ot.current)return;if(typeof ct=="number"){nt.go(ct);return}let dt=resolveTo(ct,JSON.parse(at),it,ut.relative==="path");_e==null&&et!=="/"&&(dt.pathname=dt.pathname==="/"?et:joinPaths([et,dt.pathname])),(ut.replace?nt.replace:nt.push)(dt,ut.state,ut)},[et,nt,at,it,_e])}const OutletContext=reactExports.createContext(null);function useOutlet(_e){let et=reactExports.useContext(RouteContext).outlet;return et&&reactExports.createElement(OutletContext.Provider,{value:_e},et)}function useParams(){let{matches:_e}=reactExports.useContext(RouteContext),et=_e[_e.length-1];return et?et.params:{}}function useResolvedPath(_e,et){let{relative:rt}=et===void 0?{}:et,{future:nt}=reactExports.useContext(NavigationContext),{matches:st}=reactExports.useContext(RouteContext),{pathname:it}=useLocation(),at=JSON.stringify(getResolveToMatches(st,nt.v7_relativeSplatPath));return reactExports.useMemo(()=>resolveTo(_e,JSON.parse(at),it,rt==="path"),[_e,at,it,rt])}function useRoutes(_e,et){return useRoutesImpl(_e,et)}function useRoutesImpl(_e,et,rt,nt){useInRouterContext()||invariant$3(!1);let{navigator:st}=reactExports.useContext(NavigationContext),{matches:it}=reactExports.useContext(RouteContext),at=it[it.length-1],ot=at?at.params:{};at&&at.pathname;let lt=at?at.pathnameBase:"/";at&&at.route;let ct=useLocation(),ut;if(et){var dt;let vt=typeof et=="string"?parsePath(et):et;lt==="/"||(dt=vt.pathname)!=null&&dt.startsWith(lt)||invariant$3(!1),ut=vt}else ut=ct;let pt=ut.pathname||"/",mt=pt;if(lt!=="/"){let vt=lt.replace(/^\//,"").split("/");mt="/"+pt.replace(/^\//,"").split("/").slice(vt.length).join("/")}let xt=matchRoutes(_e,{pathname:mt}),yt=_renderMatches(xt&&xt.map(vt=>Object.assign({},vt,{params:Object.assign({},ot,vt.params),pathname:joinPaths([lt,st.encodeLocation?st.encodeLocation(vt.pathname).pathname:vt.pathname]),pathnameBase:vt.pathnameBase==="/"?lt:joinPaths([lt,st.encodeLocation?st.encodeLocation(vt.pathnameBase).pathname:vt.pathnameBase])})),it,rt,nt);return et&&yt?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$x({pathname:"/",search:"",hash:"",state:null,key:"default"},ut),navigationType:Action.Pop}},yt):yt}function DefaultErrorComponent(){let _e=useRouteError(),et=isRouteErrorResponse(_e)?_e.status+" "+_e.statusText:_e instanceof Error?_e.message:JSON.stringify(_e),rt=_e instanceof Error?_e.stack:null,st={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},et),rt?reactExports.createElement("pre",{style:st},rt):null,null)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(et){super(et),this.state={location:et.location,revalidation:et.revalidation,error:et.error}}static getDerivedStateFromError(et){return{error:et}}static getDerivedStateFromProps(et,rt){return rt.location!==et.location||rt.revalidation!=="idle"&&et.revalidation==="idle"?{error:et.error,location:et.location,revalidation:et.revalidation}:{error:et.error!==void 0?et.error:rt.error,location:rt.location,revalidation:et.revalidation||rt.revalidation}}componentDidCatch(et,rt){console.error("React Router caught the following error during render",et,rt)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(_e){let{routeContext:et,match:rt,children:nt}=_e,st=reactExports.useContext(DataRouterContext);return st&&st.static&&st.staticContext&&(rt.route.errorElement||rt.route.ErrorBoundary)&&(st.staticContext._deepestRenderedBoundaryId=rt.route.id),reactExports.createElement(RouteContext.Provider,{value:et},nt)}function _renderMatches(_e,et,rt,nt){var st;if(et===void 0&&(et=[]),rt===void 0&&(rt=null),nt===void 0&&(nt=null),_e==null){var it;if(!rt)return null;if(rt.errors)_e=rt.matches;else if((it=nt)!=null&&it.v7_partialHydration&&et.length===0&&!rt.initialized&&rt.matches.length>0)_e=rt.matches;else return null}let at=_e,ot=(st=rt)==null?void 0:st.errors;if(ot!=null){let ut=at.findIndex(dt=>dt.route.id&&(ot==null?void 0:ot[dt.route.id])!==void 0);ut>=0||invariant$3(!1),at=at.slice(0,Math.min(at.length,ut+1))}let lt=!1,ct=-1;if(rt&&nt&&nt.v7_partialHydration)for(let ut=0;ut<at.length;ut++){let dt=at[ut];if((dt.route.HydrateFallback||dt.route.hydrateFallbackElement)&&(ct=ut),dt.route.id){let{loaderData:pt,errors:mt}=rt,xt=dt.route.loader&&pt[dt.route.id]===void 0&&(!mt||mt[dt.route.id]===void 0);if(dt.route.lazy||xt){lt=!0,ct>=0?at=at.slice(0,ct+1):at=[at[0]];break}}}return at.reduceRight((ut,dt,pt)=>{let mt,xt=!1,yt=null,vt=null;rt&&(mt=ot&&dt.route.id?ot[dt.route.id]:void 0,yt=dt.route.errorElement||defaultErrorElement,lt&&(ct<0&&pt===0?(warningOnce("route-fallback"),xt=!0,vt=null):ct===pt&&(xt=!0,vt=dt.route.hydrateFallbackElement||null)));let gt=et.concat(at.slice(0,pt+1)),Et=()=>{let jt;return mt?jt=yt:xt?jt=vt:dt.route.Component?jt=reactExports.createElement(dt.route.Component,null):dt.route.element?jt=dt.route.element:jt=ut,reactExports.createElement(RenderedRoute,{match:dt,routeContext:{outlet:ut,matches:gt,isDataRoute:rt!=null},children:jt})};return rt&&(dt.route.ErrorBoundary||dt.route.errorElement||pt===0)?reactExports.createElement(RenderErrorBoundary,{location:rt.location,revalidation:rt.revalidation,component:yt,error:mt,children:Et(),routeContext:{outlet:null,matches:gt,isDataRoute:!0}}):Et()},null)}var DataRouterHook$1=function(_e){return _e.UseBlocker="useBlocker",_e.UseRevalidator="useRevalidator",_e.UseNavigateStable="useNavigate",_e}(DataRouterHook$1||{}),DataRouterStateHook$1=function(_e){return _e.UseBlocker="useBlocker",_e.UseLoaderData="useLoaderData",_e.UseActionData="useActionData",_e.UseRouteError="useRouteError",_e.UseNavigation="useNavigation",_e.UseRouteLoaderData="useRouteLoaderData",_e.UseMatches="useMatches",_e.UseRevalidator="useRevalidator",_e.UseNavigateStable="useNavigate",_e.UseRouteId="useRouteId",_e}(DataRouterStateHook$1||{});function useDataRouterContext$1(_e){let et=reactExports.useContext(DataRouterContext);return et||invariant$3(!1),et}function useDataRouterState(_e){let et=reactExports.useContext(DataRouterStateContext);return et||invariant$3(!1),et}function useRouteContext(_e){let et=reactExports.useContext(RouteContext);return et||invariant$3(!1),et}function useCurrentRouteId(_e){let et=useRouteContext(),rt=et.matches[et.matches.length-1];return rt.route.id||invariant$3(!1),rt.route.id}function useRouteError(){var _e;let et=reactExports.useContext(RouteErrorContext),rt=useDataRouterState(),nt=useCurrentRouteId();return et!==void 0?et:(_e=rt.errors)==null?void 0:_e[nt]}function useNavigateStable(){let{router:_e}=useDataRouterContext$1(DataRouterHook$1.UseNavigateStable),et=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),rt=reactExports.useRef(!1);return useIsomorphicLayoutEffect$3(()=>{rt.current=!0}),reactExports.useCallback(function(st,it){it===void 0&&(it={}),rt.current&&(typeof st=="number"?_e.navigate(st):_e.navigate(st,_extends$x({fromRouteId:et},it)))},[_e,et])}const alreadyWarned$1={};function warningOnce(_e,et,rt){alreadyWarned$1[_e]||(alreadyWarned$1[_e]=!0)}function logV6DeprecationWarnings(_e,et){_e==null||_e.v7_startTransition,_e==null||_e.v7_relativeSplatPath}function Navigate(_e){let{to:et,replace:rt,state:nt,relative:st}=_e;useInRouterContext()||invariant$3(!1);let{future:it,static:at}=reactExports.useContext(NavigationContext),{matches:ot}=reactExports.useContext(RouteContext),{pathname:lt}=useLocation(),ct=useNavigate(),ut=resolveTo(et,getResolveToMatches(ot,it.v7_relativeSplatPath),lt,st==="path"),dt=JSON.stringify(ut);return reactExports.useEffect(()=>ct(JSON.parse(dt),{replace:rt,state:nt,relative:st}),[ct,dt,st,rt,nt]),null}function Outlet(_e){return useOutlet(_e.context)}function Route(_e){invariant$3(!1)}function Router(_e){let{basename:et="/",children:rt=null,location:nt,navigationType:st=Action.Pop,navigator:it,static:at=!1,future:ot}=_e;useInRouterContext()&&invariant$3(!1);let lt=et.replace(/^\/*/,"/"),ct=reactExports.useMemo(()=>({basename:lt,navigator:it,static:at,future:_extends$x({v7_relativeSplatPath:!1},ot)}),[lt,ot,it,at]);typeof nt=="string"&&(nt=parsePath(nt));let{pathname:ut="/",search:dt="",hash:pt="",state:mt=null,key:xt="default"}=nt,yt=reactExports.useMemo(()=>{let vt=stripBasename(ut,lt);return vt==null?null:{location:{pathname:vt,search:dt,hash:pt,state:mt,key:xt},navigationType:st}},[lt,ut,dt,pt,mt,xt,st]);return yt==null?null:reactExports.createElement(NavigationContext.Provider,{value:ct},reactExports.createElement(LocationContext.Provider,{children:rt,value:yt}))}function Routes(_e){let{children:et,location:rt}=_e;return useRoutes(createRoutesFromChildren(et),rt)}new Promise(()=>{});function createRoutesFromChildren(_e,et){et===void 0&&(et=[]);let rt=[];return reactExports.Children.forEach(_e,(nt,st)=>{if(!reactExports.isValidElement(nt))return;let it=[...et,st];if(nt.type===reactExports.Fragment){rt.push.apply(rt,createRoutesFromChildren(nt.props.children,it));return}nt.type!==Route&&invariant$3(!1),!nt.props.index||!nt.props.children||invariant$3(!1);let at={id:nt.props.id||it.join("-"),caseSensitive:nt.props.caseSensitive,element:nt.props.element,Component:nt.props.Component,index:nt.props.index,path:nt.props.path,loader:nt.props.loader,action:nt.props.action,errorElement:nt.props.errorElement,ErrorBoundary:nt.props.ErrorBoundary,hasErrorBoundary:nt.props.ErrorBoundary!=null||nt.props.errorElement!=null,shouldRevalidate:nt.props.shouldRevalidate,handle:nt.props.handle,lazy:nt.props.lazy};nt.props.children&&(at.children=createRoutesFromChildren(nt.props.children,it)),rt.push(at)}),rt}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$w(){return _extends$w=Object.assign?Object.assign.bind():function(_e){for(var et=1;et<arguments.length;et++){var rt=arguments[et];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(_e[nt]=rt[nt])}return _e},_extends$w.apply(this,arguments)}function _objectWithoutPropertiesLoose$q(_e,et){if(_e==null)return{};var rt={},nt=Object.keys(_e),st,it;for(it=0;it<nt.length;it++)st=nt[it],!(et.indexOf(st)>=0)&&(rt[st]=_e[st]);return rt}function isModifiedEvent(_e){return!!(_e.metaKey||_e.altKey||_e.ctrlKey||_e.shiftKey)}function shouldProcessLinkClick(_e,et){return _e.button===0&&(!et||et==="_self")&&!isModifiedEvent(_e)}function createSearchParams(_e){return _e===void 0&&(_e=""),new URLSearchParams(typeof _e=="string"||Array.isArray(_e)||_e instanceof URLSearchParams?_e:Object.keys(_e).reduce((et,rt)=>{let nt=_e[rt];return et.concat(Array.isArray(nt)?nt.map(st=>[rt,st]):[[rt,nt]])},[]))}function getSearchParamsForLocation(_e,et){let rt=createSearchParams(_e);return et&&et.forEach((nt,st)=>{rt.has(st)||et.getAll(st).forEach(it=>{rt.append(st,it)})}),rt}const _excluded$r=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],_excluded2$b=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch{}const ViewTransitionContext=reactExports.createContext({isTransitioning:!1}),START_TRANSITION="startTransition",startTransitionImpl=t$7[START_TRANSITION];function BrowserRouter(_e){let{basename:et,children:rt,future:nt,window:st}=_e,it=reactExports.useRef();it.current==null&&(it.current=createBrowserHistory({window:st,v5Compat:!0}));let at=it.current,[ot,lt]=reactExports.useState({action:at.action,location:at.location}),{v7_startTransition:ct}=nt||{},ut=reactExports.useCallback(dt=>{ct&&startTransitionImpl?startTransitionImpl(()=>lt(dt)):lt(dt)},[lt,ct]);return reactExports.useLayoutEffect(()=>at.listen(ut),[at,ut]),reactExports.useEffect(()=>logV6DeprecationWarnings(nt),[nt]),reactExports.createElement(Router,{basename:et,children:rt,location:ot.location,navigationType:ot.action,navigator:at,future:nt})}const isBrowser=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link$1=reactExports.forwardRef(function(et,rt){let{onClick:nt,relative:st,reloadDocument:it,replace:at,state:ot,target:lt,to:ct,preventScrollReset:ut,viewTransition:dt}=et,pt=_objectWithoutPropertiesLoose$q(et,_excluded$r),{basename:mt}=reactExports.useContext(NavigationContext),xt,yt=!1;if(typeof ct=="string"&&ABSOLUTE_URL_REGEX.test(ct)&&(xt=ct,isBrowser))try{let jt=new URL(window.location.href),kt=ct.startsWith("//")?new URL(jt.protocol+ct):new URL(ct),Rt=stripBasename(kt.pathname,mt);kt.origin===jt.origin&&Rt!=null?ct=Rt+kt.search+kt.hash:yt=!0}catch{}let vt=useHref(ct,{relative:st}),gt=useLinkClickHandler(ct,{replace:at,state:ot,target:lt,preventScrollReset:ut,relative:st,viewTransition:dt});function Et(jt){nt&&nt(jt),jt.defaultPrevented||gt(jt)}return reactExports.createElement("a",_extends$w({},pt,{href:xt||vt,onClick:yt||it?nt:Et,ref:rt,target:lt}))}),NavLink=reactExports.forwardRef(function(et,rt){let{"aria-current":nt="page",caseSensitive:st=!1,className:it="",end:at=!1,style:ot,to:lt,viewTransition:ct,children:ut}=et,dt=_objectWithoutPropertiesLoose$q(et,_excluded2$b),pt=useResolvedPath(lt,{relative:dt.relative}),mt=useLocation(),xt=reactExports.useContext(DataRouterStateContext),{navigator:yt,basename:vt}=reactExports.useContext(NavigationContext),gt=xt!=null&&useViewTransitionState(pt)&&ct===!0,Et=yt.encodeLocation?yt.encodeLocation(pt).pathname:pt.pathname,jt=mt.pathname,kt=xt&&xt.navigation&&xt.navigation.location?xt.navigation.location.pathname:null;st||(jt=jt.toLowerCase(),kt=kt?kt.toLowerCase():null,Et=Et.toLowerCase()),kt&&vt&&(kt=stripBasename(kt,vt)||kt);const Rt=Et!=="/"&&Et.endsWith("/")?Et.length-1:Et.length;let St=jt===Et||!at&&jt.startsWith(Et)&&jt.charAt(Rt)==="/",_t=kt!=null&&(kt===Et||!at&&kt.startsWith(Et)&&kt.charAt(Et.length)==="/"),Nt={isActive:St,isPending:_t,isTransitioning:gt},Lt=St?nt:void 0,$t;typeof it=="function"?$t=it(Nt):$t=[it,St?"active":null,_t?"pending":null,gt?"transitioning":null].filter(Boolean).join(" ");let Ft=typeof ot=="function"?ot(Nt):ot;return reactExports.createElement(Link$1,_extends$w({},dt,{"aria-current":Lt,className:$t,ref:rt,style:Ft,to:lt,viewTransition:ct}),typeof ut=="function"?ut(Nt):ut)});var DataRouterHook;(function(_e){_e.UseScrollRestoration="useScrollRestoration",_e.UseSubmit="useSubmit",_e.UseSubmitFetcher="useSubmitFetcher",_e.UseFetcher="useFetcher",_e.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(_e){_e.UseFetcher="useFetcher",_e.UseFetchers="useFetchers",_e.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useDataRouterContext(_e){let et=reactExports.useContext(DataRouterContext);return et||invariant$3(!1),et}function useLinkClickHandler(_e,et){let{target:rt,replace:nt,state:st,preventScrollReset:it,relative:at,viewTransition:ot}=et===void 0?{}:et,lt=useNavigate(),ct=useLocation(),ut=useResolvedPath(_e,{relative:at});return reactExports.useCallback(dt=>{if(shouldProcessLinkClick(dt,rt)){dt.preventDefault();let pt=nt!==void 0?nt:createPath(ct)===createPath(ut);lt(_e,{replace:pt,state:st,preventScrollReset:it,relative:at,viewTransition:ot})}},[ct,lt,ut,nt,st,rt,_e,it,at,ot])}function useSearchParams(_e){let et=reactExports.useRef(createSearchParams(_e)),rt=reactExports.useRef(!1),nt=useLocation(),st=reactExports.useMemo(()=>getSearchParamsForLocation(nt.search,rt.current?null:et.current),[nt.search]),it=useNavigate(),at=reactExports.useCallback((ot,lt)=>{const ct=createSearchParams(typeof ot=="function"?ot(st):ot);rt.current=!0,it("?"+ct,lt)},[it,st]);return[st,at]}function useViewTransitionState(_e,et){et===void 0&&(et={});let rt=reactExports.useContext(ViewTransitionContext);rt==null&&invariant$3(!1);let{basename:nt}=useDataRouterContext(DataRouterHook.useViewTransitionState),st=useResolvedPath(_e,{relative:et.relative});if(!rt.isTransitioning)return!1;let it=stripBasename(rt.currentLocation.pathname,nt)||rt.currentLocation.pathname,at=stripBasename(rt.nextLocation.pathname,nt)||rt.nextLocation.pathname;return matchPath(st.pathname,at)!=null||matchPath(st.pathname,it)!=null}var hasElementType=typeof Element<"u",hasMap=typeof Map=="function",hasSet=typeof Set=="function",hasArrayBuffer=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function equal(_e,et){if(_e===et)return!0;if(_e&&et&&typeof _e=="object"&&typeof et=="object"){if(_e.constructor!==et.constructor)return!1;var rt,nt,st;if(Array.isArray(_e)){if(rt=_e.length,rt!=et.length)return!1;for(nt=rt;nt--!==0;)if(!equal(_e[nt],et[nt]))return!1;return!0}var it;if(hasMap&&_e instanceof Map&&et instanceof Map){if(_e.size!==et.size)return!1;for(it=_e.entries();!(nt=it.next()).done;)if(!et.has(nt.value[0]))return!1;for(it=_e.entries();!(nt=it.next()).done;)if(!equal(nt.value[1],et.get(nt.value[0])))return!1;return!0}if(hasSet&&_e instanceof Set&&et instanceof Set){if(_e.size!==et.size)return!1;for(it=_e.entries();!(nt=it.next()).done;)if(!et.has(nt.value[0]))return!1;return!0}if(hasArrayBuffer&&ArrayBuffer.isView(_e)&&ArrayBuffer.isView(et)){if(rt=_e.length,rt!=et.length)return!1;for(nt=rt;nt--!==0;)if(_e[nt]!==et[nt])return!1;return!0}if(_e.constructor===RegExp)return _e.source===et.source&&_e.flags===et.flags;if(_e.valueOf!==Object.prototype.valueOf&&typeof _e.valueOf=="function"&&typeof et.valueOf=="function")return _e.valueOf()===et.valueOf();if(_e.toString!==Object.prototype.toString&&typeof _e.toString=="function"&&typeof et.toString=="function")return _e.toString()===et.toString();if(st=Object.keys(_e),rt=st.length,rt!==Object.keys(et).length)return!1;for(nt=rt;nt--!==0;)if(!Object.prototype.hasOwnProperty.call(et,st[nt]))return!1;if(hasElementType&&_e instanceof Element)return!1;for(nt=rt;nt--!==0;)if(!((st[nt]==="_owner"||st[nt]==="__v"||st[nt]==="__o")&&_e.$$typeof)&&!equal(_e[st[nt]],et[st[nt]]))return!1;return!0}return _e!==_e&&et!==et}var reactFastCompare=function(et,rt){try{return equal(et,rt)}catch(nt){if((nt.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw nt}};const fastCompare=getDefaultExportFromCjs(reactFastCompare);var invariant$1=function(_e,et,rt,nt,st,it,at,ot){if(!_e){var lt;if(et===void 0)lt=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var ct=[rt,nt,st,it,at,ot],ut=0;lt=new Error(et.replace(/%s/g,function(){return ct[ut++]})),lt.name="Invariant Violation"}throw lt.framesToPop=1,lt}},browser=invariant$1;const invariant$2=getDefaultExportFromCjs(browser);var shallowequal=function(et,rt,nt,st){var it=nt?nt.call(st,et,rt):void 0;if(it!==void 0)return!!it;if(et===rt)return!0;if(typeof et!="object"||!et||typeof rt!="object"||!rt)return!1;var at=Object.keys(et),ot=Object.keys(rt);if(at.length!==ot.length)return!1;for(var lt=Object.prototype.hasOwnProperty.bind(rt),ct=0;ct<at.length;ct++){var ut=at[ct];if(!lt(ut))return!1;var dt=et[ut],pt=rt[ut];if(it=nt?nt.call(st,dt,pt,ut):void 0,it===!1||it===void 0&&dt!==pt)return!1}return!0};const shallowEqual$1=getDefaultExportFromCjs(shallowequal);var TAG_NAMES=(_e=>(_e.BASE="base",_e.BODY="body",_e.HEAD="head",_e.HTML="html",_e.LINK="link",_e.META="meta",_e.NOSCRIPT="noscript",_e.SCRIPT="script",_e.STYLE="style",_e.TITLE="title",_e.FRAGMENT="Symbol(react.fragment)",_e))(TAG_NAMES||{}),SEO_PRIORITY_TAGS={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},VALID_TAG_NAMES=Object.values(TAG_NAMES),REACT_TAG_MAP={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},HTML_TAG_MAP=Object.entries(REACT_TAG_MAP).reduce((_e,[et,rt])=>(_e[rt]=et,_e),{}),HELMET_ATTRIBUTE="data-rh",HELMET_PROPS={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},getInnermostProperty=(_e,et)=>{for(let rt=_e.length-1;rt>=0;rt-=1){const nt=_e[rt];if(Object.prototype.hasOwnProperty.call(nt,et))return nt[et]}return null},getTitleFromPropsList=_e=>{let et=getInnermostProperty(_e,"title");const rt=getInnermostProperty(_e,HELMET_PROPS.TITLE_TEMPLATE);if(Array.isArray(et)&&(et=et.join("")),rt&&et)return rt.replace(/%s/g,()=>et);const nt=getInnermostProperty(_e,HELMET_PROPS.DEFAULT_TITLE);return et||nt||void 0},getOnChangeClientState=_e=>getInnermostProperty(_e,HELMET_PROPS.ON_CHANGE_CLIENT_STATE)||(()=>{}),getAttributesFromPropsList=(_e,et)=>et.filter(rt=>typeof rt[_e]<"u").map(rt=>rt[_e]).reduce((rt,nt)=>({...rt,...nt}),{}),getBaseTagFromPropsList=(_e,et)=>et.filter(rt=>typeof rt.base<"u").map(rt=>rt.base).reverse().reduce((rt,nt)=>{if(!rt.length){const st=Object.keys(nt);for(let it=0;it<st.length;it+=1){const ot=st[it].toLowerCase();if(_e.indexOf(ot)!==-1&&nt[ot])return rt.concat(nt)}}return rt},[]),warn$2=_e=>console&&typeof console.warn=="function"&&console.warn(_e),getTagsFromPropsList=(_e,et,rt)=>{const nt={};return rt.filter(st=>Array.isArray(st[_e])?!0:(typeof st[_e]<"u"&&warn$2(`Helmet: ${_e} should be of type "Array". Instead found type "${typeof st[_e]}"`),!1)).map(st=>st[_e]).reverse().reduce((st,it)=>{const at={};it.filter(lt=>{let ct;const ut=Object.keys(lt);for(let pt=0;pt<ut.length;pt+=1){const mt=ut[pt],xt=mt.toLowerCase();et.indexOf(xt)!==-1&&!(ct==="rel"&&lt[ct].toLowerCase()==="canonical")&&!(xt==="rel"&&lt[xt].toLowerCase()==="stylesheet")&&(ct=xt),et.indexOf(mt)!==-1&&(mt==="innerHTML"||mt==="cssText"||mt==="itemprop")&&(ct=mt)}if(!ct||!lt[ct])return!1;const dt=lt[ct].toLowerCase();return nt[ct]||(nt[ct]={}),at[ct]||(at[ct]={}),nt[ct][dt]?!1:(at[ct][dt]=!0,!0)}).reverse().forEach(lt=>st.push(lt));const ot=Object.keys(at);for(let lt=0;lt<ot.length;lt+=1){const ct=ot[lt],ut={...nt[ct],...at[ct]};nt[ct]=ut}return st},[]).reverse()},getAnyTrueFromPropsList=(_e,et)=>{if(Array.isArray(_e)&&_e.length){for(let rt=0;rt<_e.length;rt+=1)if(_e[rt][et])return!0}return!1},reducePropsToState=_e=>({baseTag:getBaseTagFromPropsList(["href"],_e),bodyAttributes:getAttributesFromPropsList("bodyAttributes",_e),defer:getInnermostProperty(_e,HELMET_PROPS.DEFER),encode:getInnermostProperty(_e,HELMET_PROPS.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:getAttributesFromPropsList("htmlAttributes",_e),linkTags:getTagsFromPropsList("link",["rel","href"],_e),metaTags:getTagsFromPropsList("meta",["name","charset","http-equiv","property","itemprop"],_e),noscriptTags:getTagsFromPropsList("noscript",["innerHTML"],_e),onChangeClientState:getOnChangeClientState(_e),scriptTags:getTagsFromPropsList("script",["src","innerHTML"],_e),styleTags:getTagsFromPropsList("style",["cssText"],_e),title:getTitleFromPropsList(_e),titleAttributes:getAttributesFromPropsList("titleAttributes",_e),prioritizeSeoTags:getAnyTrueFromPropsList(_e,HELMET_PROPS.PRIORITIZE_SEO_TAGS)}),flattenArray=_e=>Array.isArray(_e)?_e.join(""):_e,checkIfPropsMatch=(_e,et)=>{const rt=Object.keys(_e);for(let nt=0;nt<rt.length;nt+=1)if(et[rt[nt]]&&et[rt[nt]].includes(_e[rt[nt]]))return!0;return!1},prioritizer=(_e,et)=>Array.isArray(_e)?_e.reduce((rt,nt)=>(checkIfPropsMatch(nt,et)?rt.priority.push(nt):rt.default.push(nt),rt),{priority:[],default:[]}):{default:_e,priority:[]},without=(_e,et)=>({..._e,[et]:void 0}),SELF_CLOSING_TAGS=["noscript","script","style"],encodeSpecialCharacters=(_e,et=!0)=>et===!1?String(_e):String(_e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),generateElementAttributesAsString=_e=>Object.keys(_e).reduce((et,rt)=>{const nt=typeof _e[rt]<"u"?`${rt}="${_e[rt]}"`:`${rt}`;return et?`${et} ${nt}`:nt},""),generateTitleAsString=(_e,et,rt,nt)=>{const st=generateElementAttributesAsString(rt),it=flattenArray(et);return st?`<${_e} ${HELMET_ATTRIBUTE}="true" ${st}>${encodeSpecialCharacters(it,nt)}</${_e}>`:`<${_e} ${HELMET_ATTRIBUTE}="true">${encodeSpecialCharacters(it,nt)}</${_e}>`},generateTagsAsString=(_e,et,rt=!0)=>et.reduce((nt,st)=>{const it=st,at=Object.keys(it).filter(ct=>!(ct==="innerHTML"||ct==="cssText")).reduce((ct,ut)=>{const dt=typeof it[ut]>"u"?ut:`${ut}="${encodeSpecialCharacters(it[ut],rt)}"`;return ct?`${ct} ${dt}`:dt},""),ot=it.innerHTML||it.cssText||"",lt=SELF_CLOSING_TAGS.indexOf(_e)===-1;return`${nt}<${_e} ${HELMET_ATTRIBUTE}="true" ${at}${lt?"/>":`>${ot}</${_e}>`}`},""),convertElementAttributesToReactProps=(_e,et={})=>Object.keys(_e).reduce((rt,nt)=>{const st=REACT_TAG_MAP[nt];return rt[st||nt]=_e[nt],rt},et),generateTitleAsReactComponent=(_e,et,rt)=>{const nt={key:et,[HELMET_ATTRIBUTE]:!0},st=convertElementAttributesToReactProps(rt,nt);return[React$3.createElement("title",st,et)]},generateTagsAsReactComponent=(_e,et)=>et.map((rt,nt)=>{const st={key:nt,[HELMET_ATTRIBUTE]:!0};return Object.keys(rt).forEach(it=>{const ot=REACT_TAG_MAP[it]||it;if(ot==="innerHTML"||ot==="cssText"){const lt=rt.innerHTML||rt.cssText;st.dangerouslySetInnerHTML={__html:lt}}else st[ot]=rt[it]}),React$3.createElement(_e,st)}),getMethodsForTag=(_e,et,rt=!0)=>{switch(_e){case"title":return{toComponent:()=>generateTitleAsReactComponent(_e,et.title,et.titleAttributes),toString:()=>generateTitleAsString(_e,et.title,et.titleAttributes,rt)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>convertElementAttributesToReactProps(et),toString:()=>generateElementAttributesAsString(et)};default:return{toComponent:()=>generateTagsAsReactComponent(_e,et),toString:()=>generateTagsAsString(_e,et,rt)}}},getPriorityMethods=({metaTags:_e,linkTags:et,scriptTags:rt,encode:nt})=>{const st=prioritizer(_e,SEO_PRIORITY_TAGS.meta),it=prioritizer(et,SEO_PRIORITY_TAGS.link),at=prioritizer(rt,SEO_PRIORITY_TAGS.script);return{priorityMethods:{toComponent:()=>[...generateTagsAsReactComponent("meta",st.priority),...generateTagsAsReactComponent("link",it.priority),...generateTagsAsReactComponent("script",at.priority)],toString:()=>`${getMethodsForTag("meta",st.priority,nt)} ${getMethodsForTag("link",it.priority,nt)} ${getMethodsForTag("script",at.priority,nt)}`},metaTags:st.default,linkTags:it.default,scriptTags:at.default}},mapStateOnServer=_e=>{const{baseTag:et,bodyAttributes:rt,encode:nt=!0,htmlAttributes:st,noscriptTags:it,styleTags:at,title:ot="",titleAttributes:lt,prioritizeSeoTags:ct}=_e;let{linkTags:ut,metaTags:dt,scriptTags:pt}=_e,mt={toComponent:()=>{},toString:()=>""};return ct&&({priorityMethods:mt,linkTags:ut,metaTags:dt,scriptTags:pt}=getPriorityMethods(_e)),{priority:mt,base:getMethodsForTag("base",et,nt),bodyAttributes:getMethodsForTag("bodyAttributes",rt,nt),htmlAttributes:getMethodsForTag("htmlAttributes",st,nt),link:getMethodsForTag("link",ut,nt),meta:getMethodsForTag("meta",dt,nt),noscript:getMethodsForTag("noscript",it,nt),script:getMethodsForTag("script",pt,nt),style:getMethodsForTag("style",at,nt),title:getMethodsForTag("title",{title:ot,titleAttributes:lt},nt)}},server_default=mapStateOnServer,instances=[],isDocument=!!(typeof window<"u"&&window.document&&window.document.createElement),HelmetData=class{constructor(_e,et){sn(this,"instances",[]);sn(this,"canUseDOM",isDocument);sn(this,"context");sn(this,"value",{setHelmet:_e=>{this.context.helmet=_e},helmetInstances:{get:()=>this.canUseDOM?instances:this.instances,add:_e=>{(this.canUseDOM?instances:this.instances).push(_e)},remove:_e=>{const et=(this.canUseDOM?instances:this.instances).indexOf(_e);(this.canUseDOM?instances:this.instances).splice(et,1)}}});this.context=_e,this.canUseDOM=et||!1,et||(_e.helmet=server_default({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},defaultValue={},Context=React$3.createContext(defaultValue),kn,HelmetProvider=(kn=class extends reactExports.Component{constructor(rt){super(rt);sn(this,"helmetData");this.helmetData=new HelmetData(this.props.context||{},kn.canUseDOM)}render(){return React$3.createElement(Context.Provider,{value:this.helmetData.value},this.props.children)}},sn(kn,"canUseDOM",isDocument),kn),updateTags=(_e,et)=>{const rt=document.head||document.querySelector("head"),nt=rt.querySelectorAll(`${_e}[${HELMET_ATTRIBUTE}]`),st=[].slice.call(nt),it=[];let at;return et&&et.length&&et.forEach(ot=>{const lt=document.createElement(_e);for(const ct in ot)if(Object.prototype.hasOwnProperty.call(ot,ct))if(ct==="innerHTML")lt.innerHTML=ot.innerHTML;else if(ct==="cssText")lt.styleSheet?lt.styleSheet.cssText=ot.cssText:lt.appendChild(document.createTextNode(ot.cssText));else{const ut=ct,dt=typeof ot[ut]>"u"?"":ot[ut];lt.setAttribute(ct,dt)}lt.setAttribute(HELMET_ATTRIBUTE,"true"),st.some((ct,ut)=>(at=ut,lt.isEqualNode(ct)))?st.splice(at,1):it.push(lt)}),st.forEach(ot=>{var lt;return(lt=ot.parentNode)==null?void 0:lt.removeChild(ot)}),it.forEach(ot=>rt.appendChild(ot)),{oldTags:st,newTags:it}},updateAttributes$1=(_e,et)=>{const rt=document.getElementsByTagName(_e)[0];if(!rt)return;const nt=rt.getAttribute(HELMET_ATTRIBUTE),st=nt?nt.split(","):[],it=[...st],at=Object.keys(et);for(const ot of at){const lt=et[ot]||"";rt.getAttribute(ot)!==lt&&rt.setAttribute(ot,lt),st.indexOf(ot)===-1&&st.push(ot);const ct=it.indexOf(ot);ct!==-1&&it.splice(ct,1)}for(let ot=it.length-1;ot>=0;ot-=1)rt.removeAttribute(it[ot]);st.length===it.length?rt.removeAttribute(HELMET_ATTRIBUTE):rt.getAttribute(HELMET_ATTRIBUTE)!==at.join(",")&&rt.setAttribute(HELMET_ATTRIBUTE,at.join(","))},updateTitle=(_e,et)=>{typeof _e<"u"&&document.title!==_e&&(document.title=flattenArray(_e)),updateAttributes$1("title",et)},commitTagChanges=(_e,et)=>{const{baseTag:rt,bodyAttributes:nt,htmlAttributes:st,linkTags:it,metaTags:at,noscriptTags:ot,onChangeClientState:lt,scriptTags:ct,styleTags:ut,title:dt,titleAttributes:pt}=_e;updateAttributes$1("body",nt),updateAttributes$1("html",st),updateTitle(dt,pt);const mt={baseTag:updateTags("base",rt),linkTags:updateTags("link",it),metaTags:updateTags("meta",at),noscriptTags:updateTags("noscript",ot),scriptTags:updateTags("script",ct),styleTags:updateTags("style",ut)},xt={},yt={};Object.keys(mt).forEach(vt=>{const{newTags:gt,oldTags:Et}=mt[vt];gt.length&&(xt[vt]=gt),Et.length&&(yt[vt]=mt[vt].oldTags)}),et&&et(),lt(_e,xt,yt)},_helmetCallback=null,handleStateChangeOnClient=_e=>{_helmetCallback&&cancelAnimationFrame(_helmetCallback),_e.defer?_helmetCallback=requestAnimationFrame(()=>{commitTagChanges(_e,()=>{_helmetCallback=null})}):(commitTagChanges(_e),_helmetCallback=null)},client_default=handleStateChangeOnClient,HelmetDispatcher=class extends reactExports.Component{constructor(){super(...arguments);sn(this,"rendered",!1)}shouldComponentUpdate(et){return!shallowEqual$1(et,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:et}=this.props.context;et.remove(this),this.emitChange()}emitChange(){const{helmetInstances:et,setHelmet:rt}=this.props.context;let nt=null;const st=reducePropsToState(et.get().map(it=>{const at={...it.props};return delete at.context,at}));HelmetProvider.canUseDOM?client_default(st):server_default&&(nt=server_default(st)),rt(nt)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:et}=this.props.context;et.add(this),this.emitChange()}render(){return this.init(),null}},Vs,Helmet=(Vs=class extends reactExports.Component{shouldComponentUpdate(_e){return!fastCompare(without(this.props,"helmetData"),without(_e,"helmetData"))}mapNestedChildrenToProps(_e,et){if(!et)return null;switch(_e.type){case"script":case"noscript":return{innerHTML:et};case"style":return{cssText:et};default:throw new Error(`<${_e.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(_e,et,rt,nt){return{...et,[_e.type]:[...et[_e.type]||[],{...rt,...this.mapNestedChildrenToProps(_e,nt)}]}}mapObjectTypeChildren(_e,et,rt,nt){switch(_e.type){case"title":return{...et,[_e.type]:nt,titleAttributes:{...rt}};case"body":return{...et,bodyAttributes:{...rt}};case"html":return{...et,htmlAttributes:{...rt}};default:return{...et,[_e.type]:{...rt}}}}mapArrayTypeChildrenToProps(_e,et){let rt={...et};return Object.keys(_e).forEach(nt=>{rt={...rt,[nt]:_e[nt]}}),rt}warnOnInvalidChildren(_e,et){return invariant$2(VALID_TAG_NAMES.some(rt=>_e.type===rt),typeof _e.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${VALID_TAG_NAMES.join(", ")} are allowed. Helmet does not support rendering <${_e.type}> elements. Refer to our API for more information.`),invariant$2(!et||typeof et=="string"||Array.isArray(et)&&!et.some(rt=>typeof rt!="string"),`Helmet expects a string as a child of <${_e.type}>. Did you forget to wrap your children in braces? ( <${_e.type}>{\`\`}</${_e.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(_e,et){let rt={};return React$3.Children.forEach(_e,nt=>{if(!nt||!nt.props)return;const{children:st,...it}=nt.props,at=Object.keys(it).reduce((lt,ct)=>(lt[HTML_TAG_MAP[ct]||ct]=it[ct],lt),{});let{type:ot}=nt;switch(typeof ot=="symbol"?ot=ot.toString():this.warnOnInvalidChildren(nt,st),ot){case"Symbol(react.fragment)":et=this.mapChildrenToProps(st,et);break;case"link":case"meta":case"noscript":case"script":case"style":rt=this.flattenArrayTypeChildren(nt,rt,at,st);break;default:et=this.mapObjectTypeChildren(nt,et,at,st);break}}),this.mapArrayTypeChildrenToProps(rt,et)}render(){const{children:_e,...et}=this.props;let rt={...et},{helmetData:nt}=et;if(_e&&(rt=this.mapChildrenToProps(_e,rt)),nt&&!(nt instanceof HelmetData)){const st=nt;nt=new HelmetData(st.context,!0),delete rt.helmetData}return nt?React$3.createElement(HelmetDispatcher,{...rt,context:nt.value}):React$3.createElement(Context.Consumer,null,st=>React$3.createElement(HelmetDispatcher,{...rt,context:st}))}},sn(Vs,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),Vs);let e$5={data:""},t$6=_e=>{if(typeof window=="object"){let et=(_e?_e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return et.nonce=window.__nonce__,et.parentNode||(_e||document.head).appendChild(et),et.firstChild}return _e||e$5},l$6=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,a$c=/\/\*[^]*?\*\/|  +/g,n$9=/\n+/g,o$8=(_e,et)=>{let rt="",nt="",st="";for(let it in _e){let at=_e[it];it[0]=="@"?it[1]=="i"?rt=it+" "+at+";":nt+=it[1]=="f"?o$8(at,it):it+"{"+o$8(at,it[1]=="k"?"":et)+"}":typeof at=="object"?nt+=o$8(at,et?et.replace(/([^,])+/g,ot=>it.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,lt=>/&/.test(lt)?lt.replace(/&/g,ot):ot?ot+" "+lt:lt)):it):at!=null&&(it=/^--/.test(it)?it:it.replace(/[A-Z]/g,"-$&").toLowerCase(),st+=o$8.p?o$8.p(it,at):it+":"+at+";")}return rt+(et&&st?et+"{"+st+"}":st)+nt},c$8={},s$8=_e=>{if(typeof _e=="object"){let et="";for(let rt in _e)et+=rt+s$8(_e[rt]);return et}return _e},i$7=(_e,et,rt,nt,st)=>{let it=s$8(_e),at=c$8[it]||(c$8[it]=(lt=>{let ct=0,ut=11;for(;ct<lt.length;)ut=101*ut+lt.charCodeAt(ct++)>>>0;return"go"+ut})(it));if(!c$8[at]){let lt=it!==_e?_e:(ct=>{let ut,dt,pt=[{}];for(;ut=l$6.exec(ct.replace(a$c,""));)ut[4]?pt.shift():ut[3]?(dt=ut[3].replace(n$9," ").trim(),pt.unshift(pt[0][dt]=pt[0][dt]||{})):pt[0][ut[1]]=ut[2].replace(n$9," ").trim();return pt[0]})(_e);c$8[at]=o$8(st?{["@keyframes "+at]:lt}:lt,rt?"":"."+at)}let ot=rt&&c$8.g?c$8.g:null;return rt&&(c$8.g=c$8[at]),((lt,ct,ut,dt)=>{dt?ct.data=ct.data.replace(dt,lt):ct.data.indexOf(lt)===-1&&(ct.data=ut?lt+ct.data:ct.data+lt)})(c$8[at],et,nt,ot),at},p$5=(_e,et,rt)=>_e.reduce((nt,st,it)=>{let at=et[it];if(at&&at.call){let ot=at(rt),lt=ot&&ot.props&&ot.props.className||/^go/.test(ot)&&ot;at=lt?"."+lt:ot&&typeof ot=="object"?ot.props?"":o$8(ot,""):ot===!1?"":ot}return nt+st+(at??"")},"");function u$9(_e){let et=this||{},rt=_e.call?_e(et.p):_e;return i$7(rt.unshift?rt.raw?p$5(rt,[].slice.call(arguments,1),et.p):rt.reduce((nt,st)=>Object.assign(nt,st&&st.call?st(et.p):st),{}):rt,t$6(et.target),et.g,et.o,et.k)}let d$5,f$9,g$2;u$9.bind({g:1});let h$8=u$9.bind({k:1});function m$5(_e,et,rt,nt){o$8.p=et,d$5=_e,f$9=rt,g$2=nt}function w$7(_e,et){let rt=this||{};return function(){let nt=arguments;function st(it,at){let ot=Object.assign({},it),lt=ot.className||st.className;rt.p=Object.assign({theme:f$9&&f$9()},ot),rt.o=/ *go\d+/.test(lt),ot.className=u$9.apply(rt,nt)+(lt?" "+lt:"");let ct=_e;return _e[0]&&(ct=ot.as||_e,delete ot.as),g$2&&ct[0]&&g$2(ot),d$5(ct,ot)}return st}}var Z=_e=>typeof _e=="function",h$7=(_e,et)=>Z(_e)?_e(et):_e,W$1=(()=>{let _e=0;return()=>(++_e).toString()})(),E$2=(()=>{let _e;return()=>{if(_e===void 0&&typeof window<"u"){let et=matchMedia("(prefers-reduced-motion: reduce)");_e=!et||et.matches}return _e}})(),re$4=20,k$4="default",H$3=(_e,et)=>{let{toastLimit:rt}=_e.settings;switch(et.type){case 0:return{..._e,toasts:[et.toast,..._e.toasts].slice(0,rt)};case 1:return{..._e,toasts:_e.toasts.map(at=>at.id===et.toast.id?{...at,...et.toast}:at)};case 2:let{toast:nt}=et;return H$3(_e,{type:_e.toasts.find(at=>at.id===nt.id)?1:0,toast:nt});case 3:let{toastId:st}=et;return{..._e,toasts:_e.toasts.map(at=>at.id===st||st===void 0?{...at,dismissed:!0,visible:!1}:at)};case 4:return et.toastId===void 0?{..._e,toasts:[]}:{..._e,toasts:_e.toasts.filter(at=>at.id!==et.toastId)};case 5:return{..._e,pausedAt:et.time};case 6:let it=et.time-(_e.pausedAt||0);return{..._e,pausedAt:void 0,toasts:_e.toasts.map(at=>({...at,pauseDuration:at.pauseDuration+it}))}}},v$4=[],j$4={toasts:[],pausedAt:void 0,settings:{toastLimit:re$4}},f$8={},Y$1=(_e,et=k$4)=>{f$8[et]=H$3(f$8[et]||j$4,_e),v$4.forEach(([rt,nt])=>{rt===et&&nt(f$8[et])})},_$3=_e=>Object.keys(f$8).forEach(et=>Y$1(_e,et)),Q=_e=>Object.keys(f$8).find(et=>f$8[et].toasts.some(rt=>rt.id===_e)),S$6=(_e=k$4)=>et=>{Y$1(et,_e)},se={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},V$1=(_e={},et=k$4)=>{let[rt,nt]=reactExports.useState(f$8[et]||j$4),st=reactExports.useRef(f$8[et]);reactExports.useEffect(()=>(st.current!==f$8[et]&&nt(f$8[et]),v$4.push([et,nt]),()=>{let at=v$4.findIndex(([ot])=>ot===et);at>-1&&v$4.splice(at,1)}),[et]);let it=rt.toasts.map(at=>{var ot,lt,ct;return{..._e,..._e[at.type],...at,removeDelay:at.removeDelay||((ot=_e[at.type])==null?void 0:ot.removeDelay)||(_e==null?void 0:_e.removeDelay),duration:at.duration||((lt=_e[at.type])==null?void 0:lt.duration)||(_e==null?void 0:_e.duration)||se[at.type],style:{..._e.style,...(ct=_e[at.type])==null?void 0:ct.style,...at.style}}});return{...rt,toasts:it}},ie$2=(_e,et="blank",rt)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:et,ariaProps:{role:"status","aria-live":"polite"},message:_e,pauseDuration:0,...rt,id:(rt==null?void 0:rt.id)||W$1()}),P$3=_e=>(et,rt)=>{let nt=ie$2(et,_e,rt);return S$6(nt.toasterId||Q(nt.id))({type:2,toast:nt}),nt.id},n$8=(_e,et)=>P$3("blank")(_e,et);n$8.error=P$3("error");n$8.success=P$3("success");n$8.loading=P$3("loading");n$8.custom=P$3("custom");n$8.dismiss=(_e,et)=>{let rt={type:3,toastId:_e};et?S$6(et)(rt):_$3(rt)};n$8.dismissAll=_e=>n$8.dismiss(void 0,_e);n$8.remove=(_e,et)=>{let rt={type:4,toastId:_e};et?S$6(et)(rt):_$3(rt)};n$8.removeAll=_e=>n$8.remove(void 0,_e);n$8.promise=(_e,et,rt)=>{let nt=n$8.loading(et.loading,{...rt,...rt==null?void 0:rt.loading});return typeof _e=="function"&&(_e=_e()),_e.then(st=>{let it=et.success?h$7(et.success,st):void 0;return it?n$8.success(it,{id:nt,...rt,...rt==null?void 0:rt.success}):n$8.dismiss(nt),st}).catch(st=>{let it=et.error?h$7(et.error,st):void 0;it?n$8.error(it,{id:nt,...rt,...rt==null?void 0:rt.error}):n$8.dismiss(nt)}),_e};var ce=1e3,w$6=(_e,et="default")=>{let{toasts:rt,pausedAt:nt}=V$1(_e,et),st=reactExports.useRef(new Map).current,it=reactExports.useCallback((dt,pt=ce)=>{if(st.has(dt))return;let mt=setTimeout(()=>{st.delete(dt),at({type:4,toastId:dt})},pt);st.set(dt,mt)},[]);reactExports.useEffect(()=>{if(nt)return;let dt=Date.now(),pt=rt.map(mt=>{if(mt.duration===1/0)return;let xt=(mt.duration||0)+mt.pauseDuration-(dt-mt.createdAt);if(xt<0){mt.visible&&n$8.dismiss(mt.id);return}return setTimeout(()=>n$8.dismiss(mt.id,et),xt)});return()=>{pt.forEach(mt=>mt&&clearTimeout(mt))}},[rt,nt,et]);let at=reactExports.useCallback(S$6(et),[et]),ot=reactExports.useCallback(()=>{at({type:5,time:Date.now()})},[at]),lt=reactExports.useCallback((dt,pt)=>{at({type:1,toast:{id:dt,height:pt}})},[at]),ct=reactExports.useCallback(()=>{nt&&at({type:6,time:Date.now()})},[nt,at]),ut=reactExports.useCallback((dt,pt)=>{let{reverseOrder:mt=!1,gutter:xt=8,defaultPosition:yt}=pt||{},vt=rt.filter(jt=>(jt.position||yt)===(dt.position||yt)&&jt.height),gt=vt.findIndex(jt=>jt.id===dt.id),Et=vt.filter((jt,kt)=>kt<gt&&jt.visible).length;return vt.filter(jt=>jt.visible).slice(...mt?[Et+1]:[0,Et]).reduce((jt,kt)=>jt+(kt.height||0)+xt,0)},[rt]);return reactExports.useEffect(()=>{rt.forEach(dt=>{if(dt.dismissed)it(dt.id,dt.removeDelay);else{let pt=st.get(dt.id);pt&&(clearTimeout(pt),st.delete(dt.id))}})},[rt,it]),{toasts:rt,handlers:{updateHeight:lt,startPause:ot,endPause:ct,calculateOffset:ut}}},de$1=h$8`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,me$1=h$8`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,le=h$8`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,C$5=w$7("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${_e=>_e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${de$1} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${me$1} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${_e=>_e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${le} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Te$1=h$8`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,F$1=w$7("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${_e=>_e.secondary||"#e0e0e0"};
  border-right-color: ${_e=>_e.primary||"#616161"};
  animation: ${Te$1} 1s linear infinite;
`,ge$1=h$8`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,he=h$8`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,L$2=w$7("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${_e=>_e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ge$1} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${he} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${_e=>_e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,be=w$7("div")`
  position: absolute;
`,Se=w$7("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Ae$1=h$8`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Pe=w$7("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Ae$1} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,$$2=({toast:_e})=>{let{icon:et,type:rt,iconTheme:nt}=_e;return et!==void 0?typeof et=="string"?reactExports.createElement(Pe,null,et):et:rt==="blank"?null:reactExports.createElement(Se,null,reactExports.createElement(F$1,{...nt}),rt!=="loading"&&reactExports.createElement(be,null,rt==="error"?reactExports.createElement(C$5,{...nt}):reactExports.createElement(L$2,{...nt})))},Re=_e=>`
0% {transform: translate3d(0,${_e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Ee=_e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${_e*-150}%,-1px) scale(.6); opacity:0;}
`,ve="0%{opacity:0;} 100%{opacity:1;}",De$1="0%{opacity:1;} 100%{opacity:0;}",Oe$1=w$7("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Ie$1=w$7("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,ke=(_e,et)=>{let rt=_e.includes("top")?1:-1,[nt,st]=E$2()?[ve,De$1]:[Re(rt),Ee(rt)];return{animation:et?`${h$8(nt)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${h$8(st)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},N$1=reactExports.memo(({toast:_e,position:et,style:rt,children:nt})=>{let st=_e.height?ke(_e.position||et||"top-center",_e.visible):{opacity:0},it=reactExports.createElement($$2,{toast:_e}),at=reactExports.createElement(Ie$1,{..._e.ariaProps},h$7(_e.message,_e));return reactExports.createElement(Oe$1,{className:_e.className,style:{...st,...rt,..._e.style}},typeof nt=="function"?nt({icon:it,message:at}):reactExports.createElement(reactExports.Fragment,null,it,at))});m$5(reactExports.createElement);var we$1=({id:_e,className:et,style:rt,onHeightUpdate:nt,children:st})=>{let it=reactExports.useCallback(at=>{if(at){let ot=()=>{let lt=at.getBoundingClientRect().height;nt(_e,lt)};ot(),new MutationObserver(ot).observe(at,{subtree:!0,childList:!0,characterData:!0})}},[_e,nt]);return reactExports.createElement("div",{ref:it,className:et,style:rt},st)},Me=(_e,et)=>{let rt=_e.includes("top"),nt=rt?{top:0}:{bottom:0},st=_e.includes("center")?{justifyContent:"center"}:_e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:E$2()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${et*(rt?1:-1)}px)`,...nt,...st}},Ce=u$9`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,D$3=16,Fe$1=({reverseOrder:_e,position:et="top-center",toastOptions:rt,gutter:nt,children:st,toasterId:it,containerStyle:at,containerClassName:ot})=>{let{toasts:lt,handlers:ct}=w$6(rt,it);return reactExports.createElement("div",{"data-rht-toaster":it||"",style:{position:"fixed",zIndex:9999,top:D$3,left:D$3,right:D$3,bottom:D$3,pointerEvents:"none",...at},className:ot,onMouseEnter:ct.startPause,onMouseLeave:ct.endPause},lt.map(ut=>{let dt=ut.position||et,pt=ct.calculateOffset(ut,{reverseOrder:_e,gutter:nt,defaultPosition:et}),mt=Me(dt,pt);return reactExports.createElement(we$1,{id:ut.id,key:ut.id,onHeightUpdate:ct.updateHeight,className:ut.visible?Ce:"",style:mt},ut.type==="custom"?h$7(ut.message,ut):st?st(ut):reactExports.createElement(N$1,{toast:ut,position:dt}))}))},zt=n$8;/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toKebabCase=_e=>_e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mergeClasses=(..._e)=>_e.filter((et,rt,nt)=>!!et&&et.trim()!==""&&nt.indexOf(et)===rt).join(" ").trim();/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Icon$1=reactExports.forwardRef(({color:_e="currentColor",size:et=24,strokeWidth:rt=2,absoluteStrokeWidth:nt,className:st="",children:it,iconNode:at,...ot},lt)=>reactExports.createElement("svg",{ref:lt,...defaultAttributes,width:et,height:et,stroke:_e,strokeWidth:nt?Number(rt)*24/Number(et):rt,className:mergeClasses("lucide",st),...ot},[...at.map(([ct,ut])=>reactExports.createElement(ct,ut)),...Array.isArray(it)?it:[it]]));/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const createLucideIcon=(_e,et)=>{const rt=reactExports.forwardRef(({className:nt,...st},it)=>reactExports.createElement(Icon$1,{ref:it,iconNode:et,className:mergeClasses(`lucide-${toKebabCase(_e)}`,nt),...st}));return rt.displayName=`${_e}`,rt};/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Activity=createLucideIcon("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ArrowDownLeft=createLucideIcon("ArrowDownLeft",[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ArrowLeft=createLucideIcon("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ArrowRight=createLucideIcon("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ArrowUpRight=createLucideIcon("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Baby=createLucideIcon("Baby",[["path",{d:"M9 12h.01",key:"157uk2"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M19 6.3a9 9 0 0 1 1.8 3.9 2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"5yv0yz"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Banknote=createLucideIcon("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bell=createLucideIcon("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bold$1=createLucideIcon("Bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bot=createLucideIcon("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Building2=createLucideIcon("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Building=createLucideIcon("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Calendar=createLucideIcon("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Camera=createLucideIcon("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChartNoAxesColumnIncreasing=createLucideIcon("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CheckCheck=createLucideIcon("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Check=createLucideIcon("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronDown=createLucideIcon("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronLeft=createLucideIcon("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronRight=createLucideIcon("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronUp=createLucideIcon("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CircleAlert=createLucideIcon("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CircleCheckBig=createLucideIcon("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CircleCheck=createLucideIcon("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CircleHelp=createLucideIcon("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CircleX=createLucideIcon("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Clock=createLucideIcon("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CodeXml=createLucideIcon("CodeXml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Code$1=createLucideIcon("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Copy=createLucideIcon("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CreditCard=createLucideIcon("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Crown=createLucideIcon("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DollarSign=createLucideIcon("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Download=createLucideIcon("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EllipsisVertical=createLucideIcon("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ExternalLink=createLucideIcon("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EyeOff=createLucideIcon("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eye=createLucideIcon("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Facebook=createLucideIcon("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FileSpreadsheet=createLucideIcon("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FileText=createLucideIcon("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Filter=createLucideIcon("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FolderOpen=createLucideIcon("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Footprints=createLucideIcon("Footprints",[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gem=createLucideIcon("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gift=createLucideIcon("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Glasses=createLucideIcon("Glasses",[["circle",{cx:"6",cy:"15",r:"4",key:"vux9w4"}],["circle",{cx:"18",cy:"15",r:"4",key:"18o8ve"}],["path",{d:"M14 15a2 2 0 0 0-2-2 2 2 0 0 0-2 2",key:"1ag4bs"}],["path",{d:"M2.5 13 5 7c.7-1.3 1.4-2 3-2",key:"1hm1gs"}],["path",{d:"M21.5 13 19 7c-.7-1.3-1.5-2-3-2",key:"1r31ai"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Globe=createLucideIcon("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Grid3x3=createLucideIcon("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GripVertical=createLucideIcon("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Headphones=createLucideIcon("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Heart=createLucideIcon("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const House=createLucideIcon("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Image$1=createLucideIcon("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Info$1=createLucideIcon("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Instagram=createLucideIcon("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Italic$1=createLucideIcon("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Key=createLucideIcon("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LayoutDashboard=createLucideIcon("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LayoutGrid=createLucideIcon("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const List=createLucideIcon("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LoaderCircle=createLucideIcon("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lock=createLucideIcon("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LogOut=createLucideIcon("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mail=createLucideIcon("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MapPin=createLucideIcon("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Maximize2=createLucideIcon("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Menu=createLucideIcon("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MessageCircle=createLucideIcon("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MessageSquare=createLucideIcon("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mic=createLucideIcon("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Minimize2=createLucideIcon("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Minus=createLucideIcon("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Monitor=createLucideIcon("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Moon=createLucideIcon("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Package=createLucideIcon("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PenLine=createLucideIcon("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pen=createLucideIcon("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pencil=createLucideIcon("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PhoneCall=createLucideIcon("PhoneCall",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}],["path",{d:"M14.05 2a9 9 0 0 1 8 7.94",key:"vmijpz"}],["path",{d:"M14.05 6A5 5 0 0 1 18 10",key:"13nbpp"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Phone=createLucideIcon("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Play=createLucideIcon("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Plus=createLucideIcon("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Printer=createLucideIcon("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RefreshCw=createLucideIcon("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RotateCcw=createLucideIcon("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Save=createLucideIcon("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Search=createLucideIcon("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Send=createLucideIcon("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Settings=createLucideIcon("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Share2=createLucideIcon("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ShieldCheck=createLucideIcon("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Shield=createLucideIcon("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Shirt=createLucideIcon("Shirt",[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ShoppingBag=createLucideIcon("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ShoppingCart=createLucideIcon("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sparkles=createLucideIcon("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SquarePen=createLucideIcon("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Star=createLucideIcon("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sun=createLucideIcon("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tag=createLucideIcon("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ThumbsUp=createLucideIcon("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ticket=createLucideIcon("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Trash2=createLucideIcon("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TrendingUp=createLucideIcon("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TriangleAlert=createLucideIcon("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Truck=createLucideIcon("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Twitter=createLucideIcon("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Underline$1=createLucideIcon("Underline",[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Upload=createLucideIcon("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UserCheck=createLucideIcon("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UserCog=createLucideIcon("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UserX=createLucideIcon("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const User=createLucideIcon("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Users=createLucideIcon("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wallet=createLucideIcon("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Watch=createLucideIcon("Watch",[["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["polyline",{points:"12 10 12 12 13 13",key:"19dquz"}],["path",{d:"m16.13 7.66-.81-4.05a2 2 0 0 0-2-1.61h-2.68a2 2 0 0 0-2 1.61l-.78 4.05",key:"18k57s"}],["path",{d:"m7.88 16.36.8 4a2 2 0 0 0 2 1.61h2.72a2 2 0 0 0 2-1.61l.81-4.05",key:"16ny36"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X$2=createLucideIcon("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Youtube=createLucideIcon("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);function bind$1(_e,et){return function(){return _e.apply(et,arguments)}}const{toString:toString$6}=Object.prototype,{getPrototypeOf:getPrototypeOf$2}=Object,{iterator,toStringTag}=Symbol,kindOf=(_e=>et=>{const rt=toString$6.call(et);return _e[rt]||(_e[rt]=rt.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=_e=>(_e=_e.toLowerCase(),et=>kindOf(et)===_e),typeOfTest=_e=>et=>typeof et===_e,{isArray:isArray$2}=Array,isUndefined$1=typeOfTest("undefined");function isBuffer(_e){return _e!==null&&!isUndefined$1(_e)&&_e.constructor!==null&&!isUndefined$1(_e.constructor)&&isFunction$4(_e.constructor.isBuffer)&&_e.constructor.isBuffer(_e)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(_e){let et;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?et=ArrayBuffer.isView(_e):et=_e&&_e.buffer&&isArrayBuffer(_e.buffer),et}const isString$1=typeOfTest("string"),isFunction$4=typeOfTest("function"),isNumber$2=typeOfTest("number"),isObject$3=_e=>_e!==null&&typeof _e=="object",isBoolean$3=_e=>_e===!0||_e===!1,isPlainObject$a=_e=>{if(kindOf(_e)!=="object")return!1;const et=getPrototypeOf$2(_e);return(et===null||et===Object.prototype||Object.getPrototypeOf(et)===null)&&!(toStringTag in _e)&&!(iterator in _e)},isEmptyObject$2=_e=>{if(!isObject$3(_e)||isBuffer(_e))return!1;try{return Object.keys(_e).length===0&&Object.getPrototypeOf(_e)===Object.prototype}catch{return!1}},isDate$1=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=_e=>isObject$3(_e)&&isFunction$4(_e.pipe),isFormData=_e=>{let et;return _e&&(typeof FormData=="function"&&_e instanceof FormData||isFunction$4(_e.append)&&((et=kindOf(_e))==="formdata"||et==="object"&&isFunction$4(_e.toString)&&_e.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),[isReadableStream,isRequest,isResponse,isHeaders]=["ReadableStream","Request","Response","Headers"].map(kindOfTest),trim$1=_e=>_e.trim?_e.trim():_e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach$1(_e,et,{allOwnKeys:rt=!1}={}){if(_e===null||typeof _e>"u")return;let nt,st;if(typeof _e!="object"&&(_e=[_e]),isArray$2(_e))for(nt=0,st=_e.length;nt<st;nt++)et.call(null,_e[nt],nt,_e);else{if(isBuffer(_e))return;const it=rt?Object.getOwnPropertyNames(_e):Object.keys(_e),at=it.length;let ot;for(nt=0;nt<at;nt++)ot=it[nt],et.call(null,_e[ot],ot,_e)}}function findKey$1(_e,et){if(isBuffer(_e))return null;et=et.toLowerCase();const rt=Object.keys(_e);let nt=rt.length,st;for(;nt-- >0;)if(st=rt[nt],et===st.toLowerCase())return st;return null}const _global=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,isContextDefined=_e=>!isUndefined$1(_e)&&_e!==_global;function merge$1(){const{caseless:_e,skipUndefined:et}=isContextDefined(this)&&this||{},rt={},nt=(st,it)=>{const at=_e&&findKey$1(rt,it)||it;isPlainObject$a(rt[at])&&isPlainObject$a(st)?rt[at]=merge$1(rt[at],st):isPlainObject$a(st)?rt[at]=merge$1({},st):isArray$2(st)?rt[at]=st.slice():(!et||!isUndefined$1(st))&&(rt[at]=st)};for(let st=0,it=arguments.length;st<it;st++)arguments[st]&&forEach$1(arguments[st],nt);return rt}const extend$3=(_e,et,rt,{allOwnKeys:nt}={})=>(forEach$1(et,(st,it)=>{rt&&isFunction$4(st)?_e[it]=bind$1(st,rt):_e[it]=st},{allOwnKeys:nt}),_e),stripBOM=_e=>(_e.charCodeAt(0)===65279&&(_e=_e.slice(1)),_e),inherits=(_e,et,rt,nt)=>{_e.prototype=Object.create(et.prototype,nt),_e.prototype.constructor=_e,Object.defineProperty(_e,"super",{value:et.prototype}),rt&&Object.assign(_e.prototype,rt)},toFlatObject=(_e,et,rt,nt)=>{let st,it,at;const ot={};if(et=et||{},_e==null)return et;do{for(st=Object.getOwnPropertyNames(_e),it=st.length;it-- >0;)at=st[it],(!nt||nt(at,_e,et))&&!ot[at]&&(et[at]=_e[at],ot[at]=!0);_e=rt!==!1&&getPrototypeOf$2(_e)}while(_e&&(!rt||rt(_e,et))&&_e!==Object.prototype);return et},endsWith=(_e,et,rt)=>{_e=String(_e),(rt===void 0||rt>_e.length)&&(rt=_e.length),rt-=et.length;const nt=_e.indexOf(et,rt);return nt!==-1&&nt===rt},toArray$3=_e=>{if(!_e)return null;if(isArray$2(_e))return _e;let et=_e.length;if(!isNumber$2(et))return null;const rt=new Array(et);for(;et-- >0;)rt[et]=_e[et];return rt},isTypedArray$1=(_e=>et=>_e&&et instanceof _e)(typeof Uint8Array<"u"&&getPrototypeOf$2(Uint8Array)),forEachEntry=(_e,et)=>{const nt=(_e&&_e[iterator]).call(_e);let st;for(;(st=nt.next())&&!st.done;){const it=st.value;et.call(_e,it[0],it[1])}},matchAll=(_e,et)=>{let rt;const nt=[];for(;(rt=_e.exec(et))!==null;)nt.push(rt);return nt},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=_e=>_e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(rt,nt,st){return nt.toUpperCase()+st}),hasOwnProperty$2=(({hasOwnProperty:_e})=>(et,rt)=>_e.call(et,rt))(Object.prototype),isRegExp$1=kindOfTest("RegExp"),reduceDescriptors=(_e,et)=>{const rt=Object.getOwnPropertyDescriptors(_e),nt={};forEach$1(rt,(st,it)=>{let at;(at=et(st,it,_e))!==!1&&(nt[it]=at||st)}),Object.defineProperties(_e,nt)},freezeMethods=_e=>{reduceDescriptors(_e,(et,rt)=>{if(isFunction$4(_e)&&["arguments","caller","callee"].indexOf(rt)!==-1)return!1;const nt=_e[rt];if(isFunction$4(nt)){if(et.enumerable=!1,"writable"in et){et.writable=!1;return}et.set||(et.set=()=>{throw Error("Can not rewrite read-only method '"+rt+"'")})}})},toObjectSet=(_e,et)=>{const rt={},nt=st=>{st.forEach(it=>{rt[it]=!0})};return isArray$2(_e)?nt(_e):nt(String(_e).split(et)),rt},noop$5=()=>{},toFiniteNumber$1=(_e,et)=>_e!=null&&Number.isFinite(_e=+_e)?_e:et;function isSpecCompliantForm(_e){return!!(_e&&isFunction$4(_e.append)&&_e[toStringTag]==="FormData"&&_e[iterator])}const toJSONObject=_e=>{const et=new Array(10),rt=(nt,st)=>{if(isObject$3(nt)){if(et.indexOf(nt)>=0)return;if(isBuffer(nt))return nt;if(!("toJSON"in nt)){et[st]=nt;const it=isArray$2(nt)?[]:{};return forEach$1(nt,(at,ot)=>{const lt=rt(at,st+1);!isUndefined$1(lt)&&(it[ot]=lt)}),et[st]=void 0,it}}return nt};return rt(_e,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=_e=>_e&&(isObject$3(_e)||isFunction$4(_e))&&isFunction$4(_e.then)&&isFunction$4(_e.catch),_setImmediate=((_e,et)=>_e?setImmediate:et?((rt,nt)=>(_global.addEventListener("message",({source:st,data:it})=>{st===_global&&it===rt&&nt.length&&nt.shift()()},!1),st=>{nt.push(st),_global.postMessage(rt,"*")}))(`axios@${Math.random()}`,[]):rt=>setTimeout(rt))(typeof setImmediate=="function",isFunction$4(_global.postMessage)),asap=typeof queueMicrotask<"u"?queueMicrotask.bind(_global):typeof process<"u"&&process.nextTick||_setImmediate,isIterable=_e=>_e!=null&&isFunction$4(_e[iterator]),utils$1={isArray:isArray$2,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString:isString$1,isNumber:isNumber$2,isBoolean:isBoolean$3,isObject:isObject$3,isPlainObject:isPlainObject$a,isEmptyObject:isEmptyObject$2,isReadableStream,isRequest,isResponse,isHeaders,isUndefined:isUndefined$1,isDate:isDate$1,isFile,isBlob,isRegExp:isRegExp$1,isFunction:isFunction$4,isStream,isURLSearchParams,isTypedArray:isTypedArray$1,isFileList,forEach:forEach$1,merge:merge$1,extend:extend$3,trim:trim$1,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray:toArray$3,forEachEntry,matchAll,isHTMLForm,hasOwnProperty:hasOwnProperty$2,hasOwnProp:hasOwnProperty$2,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop:noop$5,toFiniteNumber:toFiniteNumber$1,findKey:findKey$1,global:_global,isContextDefined,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable,setImmediate:_setImmediate,asap,isIterable};function AxiosError$1(_e,et,rt,nt,st){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=_e,this.name="AxiosError",et&&(this.code=et),rt&&(this.config=rt),nt&&(this.request=nt),st&&(this.response=st,this.status=st.status?st.status:null)}utils$1.inherits(AxiosError$1,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$1.toJSONObject(this.config),code:this.code,status:this.status}}});const prototype$1=AxiosError$1.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(_e=>{descriptors[_e]={value:_e}});Object.defineProperties(AxiosError$1,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError$1.from=(_e,et,rt,nt,st,it)=>{const at=Object.create(prototype$1);utils$1.toFlatObject(_e,at,function(ut){return ut!==Error.prototype},ct=>ct!=="isAxiosError");const ot=_e&&_e.message?_e.message:"Error",lt=et==null&&_e?_e.code:et;return AxiosError$1.call(at,ot,lt,rt,nt,st),_e&&at.cause==null&&Object.defineProperty(at,"cause",{value:_e,configurable:!0}),at.name=_e&&_e.name||"Error",it&&Object.assign(at,it),at};const httpAdapter=null;function isVisitable(_e){return utils$1.isPlainObject(_e)||utils$1.isArray(_e)}function removeBrackets(_e){return utils$1.endsWith(_e,"[]")?_e.slice(0,-2):_e}function renderKey(_e,et,rt){return _e?_e.concat(et).map(function(st,it){return st=removeBrackets(st),!rt&&it?"["+st+"]":st}).join(rt?".":""):et}function isFlatArray(_e){return utils$1.isArray(_e)&&!_e.some(isVisitable)}const predicates=utils$1.toFlatObject(utils$1,{},null,function(et){return/^is[A-Z]/.test(et)});function toFormData$1(_e,et,rt){if(!utils$1.isObject(_e))throw new TypeError("target must be an object");et=et||new FormData,rt=utils$1.toFlatObject(rt,{metaTokens:!0,dots:!1,indexes:!1},!1,function(yt,vt){return!utils$1.isUndefined(vt[yt])});const nt=rt.metaTokens,st=rt.visitor||ut,it=rt.dots,at=rt.indexes,lt=(rt.Blob||typeof Blob<"u"&&Blob)&&utils$1.isSpecCompliantForm(et);if(!utils$1.isFunction(st))throw new TypeError("visitor must be a function");function ct(xt){if(xt===null)return"";if(utils$1.isDate(xt))return xt.toISOString();if(utils$1.isBoolean(xt))return xt.toString();if(!lt&&utils$1.isBlob(xt))throw new AxiosError$1("Blob is not supported. Use a Buffer instead.");return utils$1.isArrayBuffer(xt)||utils$1.isTypedArray(xt)?lt&&typeof Blob=="function"?new Blob([xt]):Buffer.from(xt):xt}function ut(xt,yt,vt){let gt=xt;if(xt&&!vt&&typeof xt=="object"){if(utils$1.endsWith(yt,"{}"))yt=nt?yt:yt.slice(0,-2),xt=JSON.stringify(xt);else if(utils$1.isArray(xt)&&isFlatArray(xt)||(utils$1.isFileList(xt)||utils$1.endsWith(yt,"[]"))&&(gt=utils$1.toArray(xt)))return yt=removeBrackets(yt),gt.forEach(function(jt,kt){!(utils$1.isUndefined(jt)||jt===null)&&et.append(at===!0?renderKey([yt],kt,it):at===null?yt:yt+"[]",ct(jt))}),!1}return isVisitable(xt)?!0:(et.append(renderKey(vt,yt,it),ct(xt)),!1)}const dt=[],pt=Object.assign(predicates,{defaultVisitor:ut,convertValue:ct,isVisitable});function mt(xt,yt){if(!utils$1.isUndefined(xt)){if(dt.indexOf(xt)!==-1)throw Error("Circular reference detected in "+yt.join("."));dt.push(xt),utils$1.forEach(xt,function(gt,Et){(!(utils$1.isUndefined(gt)||gt===null)&&st.call(et,gt,utils$1.isString(Et)?Et.trim():Et,yt,pt))===!0&&mt(gt,yt?yt.concat(Et):[Et])}),dt.pop()}}if(!utils$1.isObject(_e))throw new TypeError("data must be an object");return mt(_e),et}function encode$2(_e){const et={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(_e).replace(/[!'()~]|%20|%00/g,function(nt){return et[nt]})}function AxiosURLSearchParams(_e,et){this._pairs=[],_e&&toFormData$1(_e,this,et)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function(et,rt){this._pairs.push([et,rt])};prototype.toString=function(et){const rt=et?function(nt){return et.call(this,nt,encode$2)}:encode$2;return this._pairs.map(function(st){return rt(st[0])+"="+rt(st[1])},"").join("&")};function encode$1(_e){return encodeURIComponent(_e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function buildURL(_e,et,rt){if(!et)return _e;const nt=rt&&rt.encode||encode$1;utils$1.isFunction(rt)&&(rt={serialize:rt});const st=rt&&rt.serialize;let it;if(st?it=st(et,rt):it=utils$1.isURLSearchParams(et)?et.toString():new AxiosURLSearchParams(et,rt).toString(nt),it){const at=_e.indexOf("#");at!==-1&&(_e=_e.slice(0,at)),_e+=(_e.indexOf("?")===-1?"?":"&")+it}return _e}class InterceptorManager{constructor(){this.handlers=[]}use(et,rt,nt){return this.handlers.push({fulfilled:et,rejected:rt,synchronous:nt?nt.synchronous:!1,runWhen:nt?nt.runWhen:null}),this.handlers.length-1}eject(et){this.handlers[et]&&(this.handlers[et]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(et){utils$1.forEach(this.handlers,function(nt){nt!==null&&et(nt)})}}const transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,platform$1={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},protocols:["http","https","file","blob","url","data"]},hasBrowserEnv=typeof window<"u"&&typeof document<"u",_navigator=typeof navigator=="object"&&navigator||void 0,hasStandardBrowserEnv=hasBrowserEnv&&(!_navigator||["ReactNative","NativeScript","NS"].indexOf(_navigator.product)<0),hasStandardBrowserWebWorkerEnv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",origin=hasBrowserEnv&&window.location.href||"http://localhost",utils=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv,hasStandardBrowserEnv,hasStandardBrowserWebWorkerEnv,navigator:_navigator,origin},Symbol.toStringTag,{value:"Module"})),platform={...utils,...platform$1};function toURLEncodedForm(_e,et){return toFormData$1(_e,new platform.classes.URLSearchParams,{visitor:function(rt,nt,st,it){return platform.isNode&&utils$1.isBuffer(rt)?(this.append(nt,rt.toString("base64")),!1):it.defaultVisitor.apply(this,arguments)},...et})}function parsePropPath(_e){return utils$1.matchAll(/\w+|\[(\w*)]/g,_e).map(et=>et[0]==="[]"?"":et[1]||et[0])}function arrayToObject(_e){const et={},rt=Object.keys(_e);let nt;const st=rt.length;let it;for(nt=0;nt<st;nt++)it=rt[nt],et[it]=_e[it];return et}function formDataToJSON(_e){function et(rt,nt,st,it){let at=rt[it++];if(at==="__proto__")return!0;const ot=Number.isFinite(+at),lt=it>=rt.length;return at=!at&&utils$1.isArray(st)?st.length:at,lt?(utils$1.hasOwnProp(st,at)?st[at]=[st[at],nt]:st[at]=nt,!ot):((!st[at]||!utils$1.isObject(st[at]))&&(st[at]=[]),et(rt,nt,st[at],it)&&utils$1.isArray(st[at])&&(st[at]=arrayToObject(st[at])),!ot)}if(utils$1.isFormData(_e)&&utils$1.isFunction(_e.entries)){const rt={};return utils$1.forEachEntry(_e,(nt,st)=>{et(parsePropPath(nt),st,rt,0)}),rt}return null}function stringifySafely(_e,et,rt){if(utils$1.isString(_e))try{return(et||JSON.parse)(_e),utils$1.trim(_e)}catch(nt){if(nt.name!=="SyntaxError")throw nt}return(rt||JSON.stringify)(_e)}const defaults$2={transitional:transitionalDefaults,adapter:["xhr","http","fetch"],transformRequest:[function(et,rt){const nt=rt.getContentType()||"",st=nt.indexOf("application/json")>-1,it=utils$1.isObject(et);if(it&&utils$1.isHTMLForm(et)&&(et=new FormData(et)),utils$1.isFormData(et))return st?JSON.stringify(formDataToJSON(et)):et;if(utils$1.isArrayBuffer(et)||utils$1.isBuffer(et)||utils$1.isStream(et)||utils$1.isFile(et)||utils$1.isBlob(et)||utils$1.isReadableStream(et))return et;if(utils$1.isArrayBufferView(et))return et.buffer;if(utils$1.isURLSearchParams(et))return rt.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),et.toString();let ot;if(it){if(nt.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(et,this.formSerializer).toString();if((ot=utils$1.isFileList(et))||nt.indexOf("multipart/form-data")>-1){const lt=this.env&&this.env.FormData;return toFormData$1(ot?{"files[]":et}:et,lt&&new lt,this.formSerializer)}}return it||st?(rt.setContentType("application/json",!1),stringifySafely(et)):et}],transformResponse:[function(et){const rt=this.transitional||defaults$2.transitional,nt=rt&&rt.forcedJSONParsing,st=this.responseType==="json";if(utils$1.isResponse(et)||utils$1.isReadableStream(et))return et;if(et&&utils$1.isString(et)&&(nt&&!this.responseType||st)){const at=!(rt&&rt.silentJSONParsing)&&st;try{return JSON.parse(et,this.parseReviver)}catch(ot){if(at)throw ot.name==="SyntaxError"?AxiosError$1.from(ot,AxiosError$1.ERR_BAD_RESPONSE,this,null,this.response):ot}}return et}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function(et){return et>=200&&et<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$1.forEach(["delete","get","head","post","put","patch"],_e=>{defaults$2.headers[_e]={}});const ignoreDuplicateOf=utils$1.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=_e=>{const et={};let rt,nt,st;return _e&&_e.split(`
`).forEach(function(at){st=at.indexOf(":"),rt=at.substring(0,st).trim().toLowerCase(),nt=at.substring(st+1).trim(),!(!rt||et[rt]&&ignoreDuplicateOf[rt])&&(rt==="set-cookie"?et[rt]?et[rt].push(nt):et[rt]=[nt]:et[rt]=et[rt]?et[rt]+", "+nt:nt)}),et},$internals=Symbol("internals");function normalizeHeader(_e){return _e&&String(_e).trim().toLowerCase()}function normalizeValue(_e){return _e===!1||_e==null?_e:utils$1.isArray(_e)?_e.map(normalizeValue):String(_e)}function parseTokens(_e){const et=Object.create(null),rt=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let nt;for(;nt=rt.exec(_e);)et[nt[1]]=nt[2];return et}const isValidHeaderName=_e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(_e.trim());function matchHeaderValue(_e,et,rt,nt,st){if(utils$1.isFunction(nt))return nt.call(this,et,rt);if(st&&(et=rt),!!utils$1.isString(et)){if(utils$1.isString(nt))return et.indexOf(nt)!==-1;if(utils$1.isRegExp(nt))return nt.test(et)}}function formatHeader(_e){return _e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(et,rt,nt)=>rt.toUpperCase()+nt)}function buildAccessors(_e,et){const rt=utils$1.toCamelCase(" "+et);["get","set","has"].forEach(nt=>{Object.defineProperty(_e,nt+rt,{value:function(st,it,at){return this[nt].call(this,et,st,it,at)},configurable:!0})})}let AxiosHeaders$1=class{constructor(et){et&&this.set(et)}set(et,rt,nt){const st=this;function it(ot,lt,ct){const ut=normalizeHeader(lt);if(!ut)throw new Error("header name must be a non-empty string");const dt=utils$1.findKey(st,ut);(!dt||st[dt]===void 0||ct===!0||ct===void 0&&st[dt]!==!1)&&(st[dt||lt]=normalizeValue(ot))}const at=(ot,lt)=>utils$1.forEach(ot,(ct,ut)=>it(ct,ut,lt));if(utils$1.isPlainObject(et)||et instanceof this.constructor)at(et,rt);else if(utils$1.isString(et)&&(et=et.trim())&&!isValidHeaderName(et))at(parseHeaders(et),rt);else if(utils$1.isObject(et)&&utils$1.isIterable(et)){let ot={},lt,ct;for(const ut of et){if(!utils$1.isArray(ut))throw TypeError("Object iterator must return a key-value pair");ot[ct=ut[0]]=(lt=ot[ct])?utils$1.isArray(lt)?[...lt,ut[1]]:[lt,ut[1]]:ut[1]}at(ot,rt)}else et!=null&&it(rt,et,nt);return this}get(et,rt){if(et=normalizeHeader(et),et){const nt=utils$1.findKey(this,et);if(nt){const st=this[nt];if(!rt)return st;if(rt===!0)return parseTokens(st);if(utils$1.isFunction(rt))return rt.call(this,st,nt);if(utils$1.isRegExp(rt))return rt.exec(st);throw new TypeError("parser must be boolean|regexp|function")}}}has(et,rt){if(et=normalizeHeader(et),et){const nt=utils$1.findKey(this,et);return!!(nt&&this[nt]!==void 0&&(!rt||matchHeaderValue(this,this[nt],nt,rt)))}return!1}delete(et,rt){const nt=this;let st=!1;function it(at){if(at=normalizeHeader(at),at){const ot=utils$1.findKey(nt,at);ot&&(!rt||matchHeaderValue(nt,nt[ot],ot,rt))&&(delete nt[ot],st=!0)}}return utils$1.isArray(et)?et.forEach(it):it(et),st}clear(et){const rt=Object.keys(this);let nt=rt.length,st=!1;for(;nt--;){const it=rt[nt];(!et||matchHeaderValue(this,this[it],it,et,!0))&&(delete this[it],st=!0)}return st}normalize(et){const rt=this,nt={};return utils$1.forEach(this,(st,it)=>{const at=utils$1.findKey(nt,it);if(at){rt[at]=normalizeValue(st),delete rt[it];return}const ot=et?formatHeader(it):String(it).trim();ot!==it&&delete rt[it],rt[ot]=normalizeValue(st),nt[ot]=!0}),this}concat(...et){return this.constructor.concat(this,...et)}toJSON(et){const rt=Object.create(null);return utils$1.forEach(this,(nt,st)=>{nt!=null&&nt!==!1&&(rt[st]=et&&utils$1.isArray(nt)?nt.join(", "):nt)}),rt}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([et,rt])=>et+": "+rt).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(et){return et instanceof this?et:new this(et)}static concat(et,...rt){const nt=new this(et);return rt.forEach(st=>nt.set(st)),nt}static accessor(et){const nt=(this[$internals]=this[$internals]={accessors:{}}).accessors,st=this.prototype;function it(at){const ot=normalizeHeader(at);nt[ot]||(buildAccessors(st,at),nt[ot]=!0)}return utils$1.isArray(et)?et.forEach(it):it(et),this}};AxiosHeaders$1.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils$1.reduceDescriptors(AxiosHeaders$1.prototype,({value:_e},et)=>{let rt=et[0].toUpperCase()+et.slice(1);return{get:()=>_e,set(nt){this[rt]=nt}}});utils$1.freezeMethods(AxiosHeaders$1);function transformData(_e,et){const rt=this||defaults$2,nt=et||rt,st=AxiosHeaders$1.from(nt.headers);let it=nt.data;return utils$1.forEach(_e,function(ot){it=ot.call(rt,it,st.normalize(),et?et.status:void 0)}),st.normalize(),it}function isCancel$1(_e){return!!(_e&&_e.__CANCEL__)}function CanceledError$1(_e,et,rt){AxiosError$1.call(this,_e??"canceled",AxiosError$1.ERR_CANCELED,et,rt),this.name="CanceledError"}utils$1.inherits(CanceledError$1,AxiosError$1,{__CANCEL__:!0});function settle(_e,et,rt){const nt=rt.config.validateStatus;!rt.status||!nt||nt(rt.status)?_e(rt):et(new AxiosError$1("Request failed with status code "+rt.status,[AxiosError$1.ERR_BAD_REQUEST,AxiosError$1.ERR_BAD_RESPONSE][Math.floor(rt.status/100)-4],rt.config,rt.request,rt))}function parseProtocol(_e){const et=/^([-+\w]{1,25})(:?\/\/|:)/.exec(_e);return et&&et[1]||""}function speedometer(_e,et){_e=_e||10;const rt=new Array(_e),nt=new Array(_e);let st=0,it=0,at;return et=et!==void 0?et:1e3,function(lt){const ct=Date.now(),ut=nt[it];at||(at=ct),rt[st]=lt,nt[st]=ct;let dt=it,pt=0;for(;dt!==st;)pt+=rt[dt++],dt=dt%_e;if(st=(st+1)%_e,st===it&&(it=(it+1)%_e),ct-at<et)return;const mt=ut&&ct-ut;return mt?Math.round(pt*1e3/mt):void 0}}function throttle$3(_e,et){let rt=0,nt=1e3/et,st,it;const at=(ct,ut=Date.now())=>{rt=ut,st=null,it&&(clearTimeout(it),it=null),_e(...ct)};return[(...ct)=>{const ut=Date.now(),dt=ut-rt;dt>=nt?at(ct,ut):(st=ct,it||(it=setTimeout(()=>{it=null,at(st)},nt-dt)))},()=>st&&at(st)]}const progressEventReducer=(_e,et,rt=3)=>{let nt=0;const st=speedometer(50,250);return throttle$3(it=>{const at=it.loaded,ot=it.lengthComputable?it.total:void 0,lt=at-nt,ct=st(lt),ut=at<=ot;nt=at;const dt={loaded:at,total:ot,progress:ot?at/ot:void 0,bytes:lt,rate:ct||void 0,estimated:ct&&ot&&ut?(ot-at)/ct:void 0,event:it,lengthComputable:ot!=null,[et?"download":"upload"]:!0};_e(dt)},rt)},progressEventDecorator=(_e,et)=>{const rt=_e!=null;return[nt=>et[0]({lengthComputable:rt,total:_e,loaded:nt}),et[1]]},asyncDecorator=_e=>(...et)=>utils$1.asap(()=>_e(...et)),isURLSameOrigin=platform.hasStandardBrowserEnv?((_e,et)=>rt=>(rt=new URL(rt,platform.origin),_e.protocol===rt.protocol&&_e.host===rt.host&&(et||_e.port===rt.port)))(new URL(platform.origin),platform.navigator&&/(msie|trident)/i.test(platform.navigator.userAgent)):()=>!0,cookies=platform.hasStandardBrowserEnv?{write(_e,et,rt,nt,st,it,at){if(typeof document>"u")return;const ot=[`${_e}=${encodeURIComponent(et)}`];utils$1.isNumber(rt)&&ot.push(`expires=${new Date(rt).toUTCString()}`),utils$1.isString(nt)&&ot.push(`path=${nt}`),utils$1.isString(st)&&ot.push(`domain=${st}`),it===!0&&ot.push("secure"),utils$1.isString(at)&&ot.push(`SameSite=${at}`),document.cookie=ot.join("; ")},read(_e){if(typeof document>"u")return null;const et=document.cookie.match(new RegExp("(?:^|; )"+_e+"=([^;]*)"));return et?decodeURIComponent(et[1]):null},remove(_e){this.write(_e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function isAbsoluteURL(_e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(_e)}function combineURLs(_e,et){return et?_e.replace(/\/?\/$/,"")+"/"+et.replace(/^\/+/,""):_e}function buildFullPath(_e,et,rt){let nt=!isAbsoluteURL(et);return _e&&(nt||rt==!1)?combineURLs(_e,et):et}const headersToObject=_e=>_e instanceof AxiosHeaders$1?{..._e}:_e;function mergeConfig$1(_e,et){et=et||{};const rt={};function nt(ct,ut,dt,pt){return utils$1.isPlainObject(ct)&&utils$1.isPlainObject(ut)?utils$1.merge.call({caseless:pt},ct,ut):utils$1.isPlainObject(ut)?utils$1.merge({},ut):utils$1.isArray(ut)?ut.slice():ut}function st(ct,ut,dt,pt){if(utils$1.isUndefined(ut)){if(!utils$1.isUndefined(ct))return nt(void 0,ct,dt,pt)}else return nt(ct,ut,dt,pt)}function it(ct,ut){if(!utils$1.isUndefined(ut))return nt(void 0,ut)}function at(ct,ut){if(utils$1.isUndefined(ut)){if(!utils$1.isUndefined(ct))return nt(void 0,ct)}else return nt(void 0,ut)}function ot(ct,ut,dt){if(dt in et)return nt(ct,ut);if(dt in _e)return nt(void 0,ct)}const lt={url:it,method:it,data:it,baseURL:at,transformRequest:at,transformResponse:at,paramsSerializer:at,timeout:at,timeoutMessage:at,withCredentials:at,withXSRFToken:at,adapter:at,responseType:at,xsrfCookieName:at,xsrfHeaderName:at,onUploadProgress:at,onDownloadProgress:at,decompress:at,maxContentLength:at,maxBodyLength:at,beforeRedirect:at,transport:at,httpAgent:at,httpsAgent:at,cancelToken:at,socketPath:at,responseEncoding:at,validateStatus:ot,headers:(ct,ut,dt)=>st(headersToObject(ct),headersToObject(ut),dt,!0)};return utils$1.forEach(Object.keys({..._e,...et}),function(ut){const dt=lt[ut]||st,pt=dt(_e[ut],et[ut],ut);utils$1.isUndefined(pt)&&dt!==ot||(rt[ut]=pt)}),rt}const resolveConfig=_e=>{const et=mergeConfig$1({},_e);let{data:rt,withXSRFToken:nt,xsrfHeaderName:st,xsrfCookieName:it,headers:at,auth:ot}=et;if(et.headers=at=AxiosHeaders$1.from(at),et.url=buildURL(buildFullPath(et.baseURL,et.url,et.allowAbsoluteUrls),_e.params,_e.paramsSerializer),ot&&at.set("Authorization","Basic "+btoa((ot.username||"")+":"+(ot.password?unescape(encodeURIComponent(ot.password)):""))),utils$1.isFormData(rt)){if(platform.hasStandardBrowserEnv||platform.hasStandardBrowserWebWorkerEnv)at.setContentType(void 0);else if(utils$1.isFunction(rt.getHeaders)){const lt=rt.getHeaders(),ct=["content-type","content-length"];Object.entries(lt).forEach(([ut,dt])=>{ct.includes(ut.toLowerCase())&&at.set(ut,dt)})}}if(platform.hasStandardBrowserEnv&&(nt&&utils$1.isFunction(nt)&&(nt=nt(et)),nt||nt!==!1&&isURLSameOrigin(et.url))){const lt=st&&it&&cookies.read(it);lt&&at.set(st,lt)}return et},isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(_e){return new Promise(function(rt,nt){const st=resolveConfig(_e);let it=st.data;const at=AxiosHeaders$1.from(st.headers).normalize();let{responseType:ot,onUploadProgress:lt,onDownloadProgress:ct}=st,ut,dt,pt,mt,xt;function yt(){mt&&mt(),xt&&xt(),st.cancelToken&&st.cancelToken.unsubscribe(ut),st.signal&&st.signal.removeEventListener("abort",ut)}let vt=new XMLHttpRequest;vt.open(st.method.toUpperCase(),st.url,!0),vt.timeout=st.timeout;function gt(){if(!vt)return;const jt=AxiosHeaders$1.from("getAllResponseHeaders"in vt&&vt.getAllResponseHeaders()),Rt={data:!ot||ot==="text"||ot==="json"?vt.responseText:vt.response,status:vt.status,statusText:vt.statusText,headers:jt,config:_e,request:vt};settle(function(_t){rt(_t),yt()},function(_t){nt(_t),yt()},Rt),vt=null}"onloadend"in vt?vt.onloadend=gt:vt.onreadystatechange=function(){!vt||vt.readyState!==4||vt.status===0&&!(vt.responseURL&&vt.responseURL.indexOf("file:")===0)||setTimeout(gt)},vt.onabort=function(){vt&&(nt(new AxiosError$1("Request aborted",AxiosError$1.ECONNABORTED,_e,vt)),vt=null)},vt.onerror=function(kt){const Rt=kt&&kt.message?kt.message:"Network Error",St=new AxiosError$1(Rt,AxiosError$1.ERR_NETWORK,_e,vt);St.event=kt||null,nt(St),vt=null},vt.ontimeout=function(){let kt=st.timeout?"timeout of "+st.timeout+"ms exceeded":"timeout exceeded";const Rt=st.transitional||transitionalDefaults;st.timeoutErrorMessage&&(kt=st.timeoutErrorMessage),nt(new AxiosError$1(kt,Rt.clarifyTimeoutError?AxiosError$1.ETIMEDOUT:AxiosError$1.ECONNABORTED,_e,vt)),vt=null},it===void 0&&at.setContentType(null),"setRequestHeader"in vt&&utils$1.forEach(at.toJSON(),function(kt,Rt){vt.setRequestHeader(Rt,kt)}),utils$1.isUndefined(st.withCredentials)||(vt.withCredentials=!!st.withCredentials),ot&&ot!=="json"&&(vt.responseType=st.responseType),ct&&([pt,xt]=progressEventReducer(ct,!0),vt.addEventListener("progress",pt)),lt&&vt.upload&&([dt,mt]=progressEventReducer(lt),vt.upload.addEventListener("progress",dt),vt.upload.addEventListener("loadend",mt)),(st.cancelToken||st.signal)&&(ut=jt=>{vt&&(nt(!jt||jt.type?new CanceledError$1(null,_e,vt):jt),vt.abort(),vt=null)},st.cancelToken&&st.cancelToken.subscribe(ut),st.signal&&(st.signal.aborted?ut():st.signal.addEventListener("abort",ut)));const Et=parseProtocol(st.url);if(Et&&platform.protocols.indexOf(Et)===-1){nt(new AxiosError$1("Unsupported protocol "+Et+":",AxiosError$1.ERR_BAD_REQUEST,_e));return}vt.send(it||null)})},composeSignals=(_e,et)=>{const{length:rt}=_e=_e?_e.filter(Boolean):[];if(et||rt){let nt=new AbortController,st;const it=function(ct){if(!st){st=!0,ot();const ut=ct instanceof Error?ct:this.reason;nt.abort(ut instanceof AxiosError$1?ut:new CanceledError$1(ut instanceof Error?ut.message:ut))}};let at=et&&setTimeout(()=>{at=null,it(new AxiosError$1(`timeout ${et} of ms exceeded`,AxiosError$1.ETIMEDOUT))},et);const ot=()=>{_e&&(at&&clearTimeout(at),at=null,_e.forEach(ct=>{ct.unsubscribe?ct.unsubscribe(it):ct.removeEventListener("abort",it)}),_e=null)};_e.forEach(ct=>ct.addEventListener("abort",it));const{signal:lt}=nt;return lt.unsubscribe=()=>utils$1.asap(ot),lt}},streamChunk=function*(_e,et){let rt=_e.byteLength;if(rt<et){yield _e;return}let nt=0,st;for(;nt<rt;)st=nt+et,yield _e.slice(nt,st),nt=st},readBytes=async function*(_e,et){for await(const rt of readStream(_e))yield*streamChunk(rt,et)},readStream=async function*(_e){if(_e[Symbol.asyncIterator]){yield*_e;return}const et=_e.getReader();try{for(;;){const{done:rt,value:nt}=await et.read();if(rt)break;yield nt}}finally{await et.cancel()}},trackStream=(_e,et,rt,nt)=>{const st=readBytes(_e,et);let it=0,at,ot=lt=>{at||(at=!0,nt&&nt(lt))};return new ReadableStream({async pull(lt){try{const{done:ct,value:ut}=await st.next();if(ct){ot(),lt.close();return}let dt=ut.byteLength;if(rt){let pt=it+=dt;rt(pt)}lt.enqueue(new Uint8Array(ut))}catch(ct){throw ot(ct),ct}},cancel(lt){return ot(lt),st.return()}},{highWaterMark:2})},DEFAULT_CHUNK_SIZE=64*1024,{isFunction:isFunction$3}=utils$1,globalFetchAPI=(({Request:_e,Response:et})=>({Request:_e,Response:et}))(utils$1.global),{ReadableStream:ReadableStream$1,TextEncoder:TextEncoder$1}=utils$1.global,test=(_e,...et)=>{try{return!!_e(...et)}catch{return!1}},factory=_e=>{_e=utils$1.merge.call({skipUndefined:!0},globalFetchAPI,_e);const{fetch:et,Request:rt,Response:nt}=_e,st=et?isFunction$3(et):typeof fetch=="function",it=isFunction$3(rt),at=isFunction$3(nt);if(!st)return!1;const ot=st&&isFunction$3(ReadableStream$1),lt=st&&(typeof TextEncoder$1=="function"?(xt=>yt=>xt.encode(yt))(new TextEncoder$1):async xt=>new Uint8Array(await new rt(xt).arrayBuffer())),ct=it&&ot&&test(()=>{let xt=!1;const yt=new rt(platform.origin,{body:new ReadableStream$1,method:"POST",get duplex(){return xt=!0,"half"}}).headers.has("Content-Type");return xt&&!yt}),ut=at&&ot&&test(()=>utils$1.isReadableStream(new nt("").body)),dt={stream:ut&&(xt=>xt.body)};st&&["text","arrayBuffer","blob","formData","stream"].forEach(xt=>{!dt[xt]&&(dt[xt]=(yt,vt)=>{let gt=yt&&yt[xt];if(gt)return gt.call(yt);throw new AxiosError$1(`Response type '${xt}' is not supported`,AxiosError$1.ERR_NOT_SUPPORT,vt)})});const pt=async xt=>{if(xt==null)return 0;if(utils$1.isBlob(xt))return xt.size;if(utils$1.isSpecCompliantForm(xt))return(await new rt(platform.origin,{method:"POST",body:xt}).arrayBuffer()).byteLength;if(utils$1.isArrayBufferView(xt)||utils$1.isArrayBuffer(xt))return xt.byteLength;if(utils$1.isURLSearchParams(xt)&&(xt=xt+""),utils$1.isString(xt))return(await lt(xt)).byteLength},mt=async(xt,yt)=>{const vt=utils$1.toFiniteNumber(xt.getContentLength());return vt??pt(yt)};return async xt=>{let{url:yt,method:vt,data:gt,signal:Et,cancelToken:jt,timeout:kt,onDownloadProgress:Rt,onUploadProgress:St,responseType:_t,headers:Nt,withCredentials:Lt="same-origin",fetchOptions:$t}=resolveConfig(xt),Ft=et||fetch;_t=_t?(_t+"").toLowerCase():"text";let Tt=composeSignals([Et,jt&&jt.toAbortSignal()],kt),Bt=null;const Wt=Tt&&Tt.unsubscribe&&(()=>{Tt.unsubscribe()});let qt;try{if(St&&ct&&vt!=="get"&&vt!=="head"&&(qt=await mt(Nt,gt))!==0){let Ht=new rt(yt,{method:"POST",body:gt,duplex:"half"}),Gt;if(utils$1.isFormData(gt)&&(Gt=Ht.headers.get("content-type"))&&Nt.setContentType(Gt),Ht.body){const[Vt,Jt]=progressEventDecorator(qt,progressEventReducer(asyncDecorator(St)));gt=trackStream(Ht.body,DEFAULT_CHUNK_SIZE,Vt,Jt)}}utils$1.isString(Lt)||(Lt=Lt?"include":"omit");const Ot=it&&"credentials"in rt.prototype,Dt={...$t,signal:Tt,method:vt.toUpperCase(),headers:Nt.normalize().toJSON(),body:gt,duplex:"half",credentials:Ot?Lt:void 0};Bt=it&&new rt(yt,Dt);let Pt=await(it?Ft(Bt,$t):Ft(yt,Dt));const It=ut&&(_t==="stream"||_t==="response");if(ut&&(Rt||It&&Wt)){const Ht={};["status","statusText","headers"].forEach(rr=>{Ht[rr]=Pt[rr]});const Gt=utils$1.toFiniteNumber(Pt.headers.get("content-length")),[Vt,Jt]=Rt&&progressEventDecorator(Gt,progressEventReducer(asyncDecorator(Rt),!0))||[];Pt=new nt(trackStream(Pt.body,DEFAULT_CHUNK_SIZE,Vt,()=>{Jt&&Jt(),Wt&&Wt()}),Ht)}_t=_t||"text";let At=await dt[utils$1.findKey(dt,_t)||"text"](Pt,xt);return!It&&Wt&&Wt(),await new Promise((Ht,Gt)=>{settle(Ht,Gt,{data:At,headers:AxiosHeaders$1.from(Pt.headers),status:Pt.status,statusText:Pt.statusText,config:xt,request:Bt})})}catch(Ot){throw Wt&&Wt(),Ot&&Ot.name==="TypeError"&&/Load failed|fetch/i.test(Ot.message)?Object.assign(new AxiosError$1("Network Error",AxiosError$1.ERR_NETWORK,xt,Bt),{cause:Ot.cause||Ot}):AxiosError$1.from(Ot,Ot&&Ot.code,xt,Bt)}}},seedCache=new Map,getFetch=_e=>{let et=_e&&_e.env||{};const{fetch:rt,Request:nt,Response:st}=et,it=[nt,st,rt];let at=it.length,ot=at,lt,ct,ut=seedCache;for(;ot--;)lt=it[ot],ct=ut.get(lt),ct===void 0&&ut.set(lt,ct=ot?new Map:factory(et)),ut=ct;return ct};getFetch();const knownAdapters={http:httpAdapter,xhr:xhrAdapter,fetch:{get:getFetch}};utils$1.forEach(knownAdapters,(_e,et)=>{if(_e){try{Object.defineProperty(_e,"name",{value:et})}catch{}Object.defineProperty(_e,"adapterName",{value:et})}});const renderReason=_e=>`- ${_e}`,isResolvedHandle=_e=>utils$1.isFunction(_e)||_e===null||_e===!1;function getAdapter$1(_e,et){_e=utils$1.isArray(_e)?_e:[_e];const{length:rt}=_e;let nt,st;const it={};for(let at=0;at<rt;at++){nt=_e[at];let ot;if(st=nt,!isResolvedHandle(nt)&&(st=knownAdapters[(ot=String(nt)).toLowerCase()],st===void 0))throw new AxiosError$1(`Unknown adapter '${ot}'`);if(st&&(utils$1.isFunction(st)||(st=st.get(et))))break;it[ot||"#"+at]=st}if(!st){const at=Object.entries(it).map(([lt,ct])=>`adapter ${lt} `+(ct===!1?"is not supported by the environment":"is not available in the build"));let ot=rt?at.length>1?`since :
`+at.map(renderReason).join(`
`):" "+renderReason(at[0]):"as no adapter specified";throw new AxiosError$1("There is no suitable adapter to dispatch the request "+ot,"ERR_NOT_SUPPORT")}return st}const adapters={getAdapter:getAdapter$1,adapters:knownAdapters};function throwIfCancellationRequested(_e){if(_e.cancelToken&&_e.cancelToken.throwIfRequested(),_e.signal&&_e.signal.aborted)throw new CanceledError$1(null,_e)}function dispatchRequest(_e){return throwIfCancellationRequested(_e),_e.headers=AxiosHeaders$1.from(_e.headers),_e.data=transformData.call(_e,_e.transformRequest),["post","put","patch"].indexOf(_e.method)!==-1&&_e.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(_e.adapter||defaults$2.adapter,_e)(_e).then(function(nt){return throwIfCancellationRequested(_e),nt.data=transformData.call(_e,_e.transformResponse,nt),nt.headers=AxiosHeaders$1.from(nt.headers),nt},function(nt){return isCancel$1(nt)||(throwIfCancellationRequested(_e),nt&&nt.response&&(nt.response.data=transformData.call(_e,_e.transformResponse,nt.response),nt.response.headers=AxiosHeaders$1.from(nt.response.headers))),Promise.reject(nt)})}const VERSION$1="1.13.2",validators$1={};["object","boolean","number","function","string","symbol"].forEach((_e,et)=>{validators$1[_e]=function(nt){return typeof nt===_e||"a"+(et<1?"n ":" ")+_e}});const deprecatedWarnings={};validators$1.transitional=function(et,rt,nt){function st(it,at){return"[Axios v"+VERSION$1+"] Transitional option '"+it+"'"+at+(nt?". "+nt:"")}return(it,at,ot)=>{if(et===!1)throw new AxiosError$1(st(at," has been removed"+(rt?" in "+rt:"")),AxiosError$1.ERR_DEPRECATED);return rt&&!deprecatedWarnings[at]&&(deprecatedWarnings[at]=!0,console.warn(st(at," has been deprecated since v"+rt+" and will be removed in the near future"))),et?et(it,at,ot):!0}};validators$1.spelling=function(et){return(rt,nt)=>(console.warn(`${nt} is likely a misspelling of ${et}`),!0)};function assertOptions(_e,et,rt){if(typeof _e!="object")throw new AxiosError$1("options must be an object",AxiosError$1.ERR_BAD_OPTION_VALUE);const nt=Object.keys(_e);let st=nt.length;for(;st-- >0;){const it=nt[st],at=et[it];if(at){const ot=_e[it],lt=ot===void 0||at(ot,it,_e);if(lt!==!0)throw new AxiosError$1("option "+it+" must be "+lt,AxiosError$1.ERR_BAD_OPTION_VALUE);continue}if(rt!==!0)throw new AxiosError$1("Unknown option "+it,AxiosError$1.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;let Axios$1=class{constructor(et){this.defaults=et||{},this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}async request(et,rt){try{return await this._request(et,rt)}catch(nt){if(nt instanceof Error){let st={};Error.captureStackTrace?Error.captureStackTrace(st):st=new Error;const it=st.stack?st.stack.replace(/^.+\n/,""):"";try{nt.stack?it&&!String(nt.stack).endsWith(it.replace(/^.+\n.+\n/,""))&&(nt.stack+=`
`+it):nt.stack=it}catch{}}throw nt}}_request(et,rt){typeof et=="string"?(rt=rt||{},rt.url=et):rt=et||{},rt=mergeConfig$1(this.defaults,rt);const{transitional:nt,paramsSerializer:st,headers:it}=rt;nt!==void 0&&validator.assertOptions(nt,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),st!=null&&(utils$1.isFunction(st)?rt.paramsSerializer={serialize:st}:validator.assertOptions(st,{encode:validators.function,serialize:validators.function},!0)),rt.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?rt.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:rt.allowAbsoluteUrls=!0),validator.assertOptions(rt,{baseUrl:validators.spelling("baseURL"),withXsrfToken:validators.spelling("withXSRFToken")},!0),rt.method=(rt.method||this.defaults.method||"get").toLowerCase();let at=it&&utils$1.merge(it.common,it[rt.method]);it&&utils$1.forEach(["delete","get","head","post","put","patch","common"],xt=>{delete it[xt]}),rt.headers=AxiosHeaders$1.concat(at,it);const ot=[];let lt=!0;this.interceptors.request.forEach(function(yt){typeof yt.runWhen=="function"&&yt.runWhen(rt)===!1||(lt=lt&&yt.synchronous,ot.unshift(yt.fulfilled,yt.rejected))});const ct=[];this.interceptors.response.forEach(function(yt){ct.push(yt.fulfilled,yt.rejected)});let ut,dt=0,pt;if(!lt){const xt=[dispatchRequest.bind(this),void 0];for(xt.unshift(...ot),xt.push(...ct),pt=xt.length,ut=Promise.resolve(rt);dt<pt;)ut=ut.then(xt[dt++],xt[dt++]);return ut}pt=ot.length;let mt=rt;for(;dt<pt;){const xt=ot[dt++],yt=ot[dt++];try{mt=xt(mt)}catch(vt){yt.call(this,vt);break}}try{ut=dispatchRequest.call(this,mt)}catch(xt){return Promise.reject(xt)}for(dt=0,pt=ct.length;dt<pt;)ut=ut.then(ct[dt++],ct[dt++]);return ut}getUri(et){et=mergeConfig$1(this.defaults,et);const rt=buildFullPath(et.baseURL,et.url,et.allowAbsoluteUrls);return buildURL(rt,et.params,et.paramsSerializer)}};utils$1.forEach(["delete","get","head","options"],function(et){Axios$1.prototype[et]=function(rt,nt){return this.request(mergeConfig$1(nt||{},{method:et,url:rt,data:(nt||{}).data}))}});utils$1.forEach(["post","put","patch"],function(et){function rt(nt){return function(it,at,ot){return this.request(mergeConfig$1(ot||{},{method:et,headers:nt?{"Content-Type":"multipart/form-data"}:{},url:it,data:at}))}}Axios$1.prototype[et]=rt(),Axios$1.prototype[et+"Form"]=rt(!0)});let CancelToken$1=class Do{constructor(et){if(typeof et!="function")throw new TypeError("executor must be a function.");let rt;this.promise=new Promise(function(it){rt=it});const nt=this;this.promise.then(st=>{if(!nt._listeners)return;let it=nt._listeners.length;for(;it-- >0;)nt._listeners[it](st);nt._listeners=null}),this.promise.then=st=>{let it;const at=new Promise(ot=>{nt.subscribe(ot),it=ot}).then(st);return at.cancel=function(){nt.unsubscribe(it)},at},et(function(it,at,ot){nt.reason||(nt.reason=new CanceledError$1(it,at,ot),rt(nt.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(et){if(this.reason){et(this.reason);return}this._listeners?this._listeners.push(et):this._listeners=[et]}unsubscribe(et){if(!this._listeners)return;const rt=this._listeners.indexOf(et);rt!==-1&&this._listeners.splice(rt,1)}toAbortSignal(){const et=new AbortController,rt=nt=>{et.abort(nt)};return this.subscribe(rt),et.signal.unsubscribe=()=>this.unsubscribe(rt),et.signal}static source(){let et;return{token:new Do(function(st){et=st}),cancel:et}}};function spread$1(_e){return function(rt){return _e.apply(null,rt)}}function isAxiosError$1(_e){return utils$1.isObject(_e)&&_e.isAxiosError===!0}const HttpStatusCode$1={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(HttpStatusCode$1).forEach(([_e,et])=>{HttpStatusCode$1[et]=_e});function createInstance(_e){const et=new Axios$1(_e),rt=bind$1(Axios$1.prototype.request,et);return utils$1.extend(rt,Axios$1.prototype,et,{allOwnKeys:!0}),utils$1.extend(rt,et,null,{allOwnKeys:!0}),rt.create=function(st){return createInstance(mergeConfig$1(_e,st))},rt}const axios=createInstance(defaults$2);axios.Axios=Axios$1;axios.CanceledError=CanceledError$1;axios.CancelToken=CancelToken$1;axios.isCancel=isCancel$1;axios.VERSION=VERSION$1;axios.toFormData=toFormData$1;axios.AxiosError=AxiosError$1;axios.Cancel=axios.CanceledError;axios.all=function(et){return Promise.all(et)};axios.spread=spread$1;axios.isAxiosError=isAxiosError$1;axios.mergeConfig=mergeConfig$1;axios.AxiosHeaders=AxiosHeaders$1;axios.formToJSON=_e=>formDataToJSON(utils$1.isHTMLForm(_e)?new FormData(_e):_e);axios.getAdapter=adapters.getAdapter;axios.HttpStatusCode=HttpStatusCode$1;axios.default=axios;const{Axios,AxiosError,CanceledError,isCancel,CancelToken,VERSION,all:all$1,Cancel,isAxiosError,spread,toFormData,AxiosHeaders,HttpStatusCode,formToJSON,getAdapter,mergeConfig}=axios,API_BASE_URL="https://webbanquanao-1.onrender.com/api",ABSOLUTE_URL_PATTERN=/^https?:\/\//i,stripTrailingSlash=_e=>_e.replace(/\/+$/,""),isAbsoluteUrl=_e=>ABSOLUTE_URL_PATTERN.test(_e),getApiOrigin=()=>isAbsoluteUrl(API_BASE_URL)?stripTrailingSlash(API_BASE_URL).replace(/\/api$/i,""):typeof window<"u"?window.location.origin:"",resolveApiUrl=_e=>{if(isAbsoluteUrl(_e))return _e;if(_e.startsWith("/api/"))return isAbsoluteUrl(API_BASE_URL)?`${getApiOrigin()}${_e}`:_e;const et=_e.startsWith("/")?_e:`/${_e}`;return`${stripTrailingSlash(API_BASE_URL)}${et}`},toMediaUrl=_e=>{if(!_e)return"";if(isAbsoluteUrl(_e)||_e.startsWith("data:"))return _e;const et=_e.startsWith("/")?_e:`/${_e}`,rt=getApiOrigin();return rt?`${rt}${et}`:et},api=axios.create({baseURL:API_BASE_URL,headers:{"Content-Type":"application/json"}});api.interceptors.request.use(_e=>{const et=localStorage.getItem("token");et&&(_e.headers.Authorization=`Bearer ${et}`);const rt=localStorage.getItem("sessionId");return rt&&(_e.headers["x-session-id"]=rt),_e});api.interceptors.response.use(_e=>_e,_e=>{var et,rt,nt;if(((et=_e.response)==null?void 0:et.status)===401)localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.pathname.includes("/login")||(window.location.href="/login");else if(((rt=_e.response)==null?void 0:rt.status)===403){const st=(nt=_e.response.data)==null?void 0:nt.message;(st==="Account is blocked"||st==="User not found")&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login?reason=blocked")}return Promise.reject(_e)});const authAPI={register:_e=>api.post("/auth/register",_e),login:(_e,et)=>api.post("/auth/login",{username:_e,password:et}),googleLogin:_e=>api.post("/auth/login/google",{credential:_e}),getMe:()=>api.get("/auth/me"),updateProfile:_e=>api.put("/auth/profile",_e),changePassword:_e=>api.put("/auth/change-password",_e),getActivity:()=>api.get("/auth/activity"),getAddresses:()=>api.get("/auth/addresses"),addAddress:_e=>api.post("/auth/addresses",_e),updateAddress:(_e,et)=>api.put(`/auth/addresses/${_e}`,et),deleteAddress:_e=>api.delete(`/auth/addresses/${_e}`),setDefaultAddress:_e=>api.put(`/auth/addresses/${_e}/default`),verify2FA:(_e,et)=>api.post("/auth/2fa/verify",{userId:_e,otp:et}),toggle2FA:_e=>api.put("/auth/2fa/toggle",{enabled:_e})},wishlistAPI={get:()=>api.get("/wishlist"),add:_e=>api.post("/wishlist/add",{product_id:_e}),remove:_e=>api.delete(`/wishlist/${_e}`)},productsAPI={getAll:(_e,et)=>api.get("/products",{params:{..._e,on_sale:_e!=null&&_e.on_sale?"true":void 0},signal:et}),getBySlug:_e=>api.get(`/products/${_e}`),getById:_e=>api.get(`/products/id/${_e}`),getNewArrivals:_e=>api.get("/products/new-arrivals",{params:{limit:_e}}),search:(_e,et)=>api.get("/products/search",{params:{q:_e},signal:et})},categoriesAPI={getAll:_e=>api.get("/categories",{params:_e}),getBySlug:_e=>api.get(`/categories/${_e}`),getProducts:(_e,et)=>api.get(`/categories/${_e}/products`,{params:et}),create:_e=>api.post("/categories",_e),update:(_e,et)=>api.put(`/categories/${_e}`,et),delete:_e=>api.delete(`/categories/${_e}`)},brandsAPI={getPublic:_e=>api.get("/brands",{params:{..._e,status:"active"}}),getAll:_e=>api.get("/admin/brands",{params:_e}),getById:_e=>api.get(`/admin/brands/${_e}`),create:_e=>api.post("/admin/brands",_e),update:(_e,et)=>api.put(`/admin/brands/${_e}`,et),delete:_e=>api.delete(`/admin/brands/${_e}`)},cartAPI={get:()=>api.get("/cart"),add:(_e,et)=>api.post("/cart/add",{variant_id:_e,quantity:et}),update:(_e,et)=>api.put(`/cart/update/${_e}`,{quantity:et}),remove:_e=>api.delete(`/cart/remove/${_e}`),clear:()=>api.delete("/cart/clear"),merge:_e=>api.post("/cart/merge",{sessionId:_e})},ordersAPI={checkout:_e=>api.post("/orders/checkout",_e),getAll:_e=>api.get("/orders",{params:_e}),getById:_e=>api.get(`/orders/${_e}`),getByCode:_e=>api.get(`/orders/code/${_e}`),cancel:_e=>api.post(`/orders/${_e}/cancel`)},chatAPI={send:(_e,et)=>api.post("/chat",{message:_e,history:et}),checkHealth:()=>api.get("/chat/health")},uploadAPI={single:_e=>{const et=new FormData;return et.append("file",_e),api.post("/upload",et,{headers:{"Content-Type":"multipart/form-data"}})},multiple:_e=>{const et=new FormData;return _e.forEach(rt=>et.append("files",rt)),api.post("/upload/multiple",et,{headers:{"Content-Type":"multipart/form-data"}})}},paymentAPI={createUrl:(_e,et)=>api.post("/payment/create_url",{order_id:_e,bank_code:et}),vnpayReturn:_e=>api.get("/payment/vnpay_return",{params:_e}),getTransactions:_e=>api.get("/payment/transactions",{params:_e})},adminAPI={getDashboard:()=>api.get("/admin/dashboard"),getProducts:_e=>api.get("/admin/products",{params:_e}),createProduct:_e=>api.post("/admin/products",_e),updateProduct:(_e,et)=>api.put(`/admin/products/${_e}`,et),deleteProduct:_e=>api.delete(`/admin/products/${_e}`),importProducts:_e=>api.post("/admin/import/products",_e,{headers:{"Content-Type":"multipart/form-data"}}),getOrders:_e=>api.get("/admin/orders",{params:_e}),getOrderById:_e=>api.get(`/admin/orders/${_e}`),updateOrderStatus:(_e,et)=>api.put(`/admin/orders/${_e}/status`,{status:et}),createCategory:_e=>api.post("/admin/categories",_e),updateCategory:(_e,et)=>api.put(`/admin/categories/${_e}`,et),deleteCategory:_e=>api.delete(`/admin/categories/${_e}`),getUsers:_e=>api.get("/admin/users",{params:_e}),getUserById:_e=>api.get(`/admin/users/${_e}`),createUser:_e=>api.post("/admin/users",_e),updateUser:(_e,et)=>api.put(`/admin/users/${_e}`,et),deleteUser:_e=>api.delete(`/admin/users/${_e}`),getAnalytics:_e=>api.get("/admin/analytics",{params:_e}),getSettings:()=>api.get("/admin/settings"),getPublicSettings:()=>api.get("/admin/settings/public"),updateSettings:_e=>api.put("/admin/settings",_e),uploadLogo:_e=>api.post("/admin/settings/logo",_e,{headers:{"Content-Type":"multipart/form-data"}}),getPermissions:()=>api.get("/admin/permissions"),createPermission:_e=>api.post("/admin/permissions",_e),updatePermission:(_e,et)=>api.put(`/admin/permissions/${_e}`,et),deletePermission:_e=>api.delete(`/admin/permissions/${_e}`),getNotifications:_e=>api.get("/admin/notifications",{params:{..._e,unread_only:_e!=null&&_e.unread_only?"true":"false"}}),getUnreadCount:()=>api.get("/admin/notifications/unread-count"),markAsRead:_e=>api.patch(`/admin/notifications/${_e}/read`),markAllAsRead:()=>api.patch("/admin/notifications/read-all"),deleteNotification:_e=>api.delete(`/admin/notifications/${_e}`),chat:_e=>api.post("/admin/ai/chat",{messages:_e}),generate:(_e,et="product_description")=>api.post("/admin/ai/generate",{prompt:_e,type:et})},notificationsAPI={getNotifications:_e=>api.get("/notifications",{params:{..._e,unread_only:_e!=null&&_e.unread_only?"true":"false"}}),getUnreadCount:()=>api.get("/notifications/unread-count"),markAsRead:_e=>api.patch(`/notifications/${_e}/read`),markAllAsRead:()=>api.patch("/notifications/read-all"),deleteNotification:_e=>api.delete(`/notifications/${_e}`)},couponsAPI={apply:(_e,et)=>api.post("/admin/coupons/apply",{code:_e,subtotal:et})},reviewsAPI={getByProduct:(_e,et)=>api.get(`/reviews/product/${_e}`,{params:et}),create:_e=>api.post("/reviews",_e)},settingsAPI={getPublic:()=>api.get("/admin/settings/public")},bannersAPI={getAll:_e=>api.get("/banners",{params:_e})},getSessionId=()=>{let _e=localStorage.getItem("sessionId");return _e||(_e=`sess_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,localStorage.setItem("sessionId",_e)),_e};getSessionId();const placesAPI={autocomplete:(_e,et,rt)=>api.post("/places/autocomplete",{input:_e,lat:et,lng:rt}),getDetails:_e=>api.get(`/places/${encodeURIComponent(_e)}`),search:(_e,et,rt)=>api.post("/places/search",{query:_e,lat:et,lng:rt})},api$1=Object.freeze(Object.defineProperty({__proto__:null,adminAPI,authAPI,bannersAPI,brandsAPI,cartAPI,categoriesAPI,chatAPI,couponsAPI,default:api,getApiOrigin,getSessionId,notificationsAPI,ordersAPI,paymentAPI,placesAPI,productsAPI,resolveApiUrl,reviewsAPI,settingsAPI,toMediaUrl,uploadAPI,wishlistAPI},Symbol.toStringTag,{value:"Module"})),AuthContext=reactExports.createContext(void 0);function AuthProvider({children:_e}){const[et,rt]=reactExports.useState(null),[nt,st]=reactExports.useState(!0);reactExports.useEffect(()=>{const pt=localStorage.getItem("token"),mt=localStorage.getItem("user");if(pt&&mt)try{rt(JSON.parse(mt))}catch{localStorage.removeItem("token"),localStorage.removeItem("user")}st(!1)},[]);const it=async()=>{const pt=localStorage.getItem("sessionId");if(pt)try{await cartAPI.merge(pt)}catch(mt){console.error("Failed to merge cart",mt)}},at=async(pt,mt)=>{const xt=await authAPI.login(pt,mt);if(xt.data.require2fa)return xt.data;const{user:yt,token:vt}=xt.data.data;return localStorage.setItem("token",vt),localStorage.setItem("user",JSON.stringify(yt)),await it(),rt(yt),xt.data},ot=async(pt,mt)=>{const xt=await authAPI.verify2FA(pt,mt),{user:yt,token:vt}=xt.data.data;localStorage.setItem("token",vt),localStorage.setItem("user",JSON.stringify(yt)),await it(),rt(yt)},lt=async pt=>{const mt=await authAPI.googleLogin(pt),{user:xt,token:yt}=mt.data.data;localStorage.setItem("token",yt),localStorage.setItem("user",JSON.stringify(xt)),await it(),rt(xt)},ct=async pt=>{const mt=await authAPI.register(pt),{user:xt,token:yt}=mt.data.data;localStorage.setItem("token",yt),localStorage.setItem("user",JSON.stringify(xt)),await it(),rt(xt)},ut=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),rt(null)},dt=pt=>{rt(pt),localStorage.setItem("user",JSON.stringify(pt))};return jsxRuntimeExports.jsx(AuthContext.Provider,{value:{user:et,isAuthenticated:!!et,isAdmin:(et==null?void 0:et.role)==="admin",isLoading:nt,login:at,verifyOTP:ot,googleLogin:lt,register:ct,logout:ut,updateUser:dt},children:_e})}function useAuth(){const _e=reactExports.useContext(AuthContext);if(_e===void 0)throw new Error("useAuth must be used within an AuthProvider");return _e}const CartContext=reactExports.createContext(void 0);function CartProvider({children:_e}){var mt,xt;const[et,rt]=reactExports.useState(null),[nt,st]=reactExports.useState(!1),{isAuthenticated:it}=useAuth(),at=reactExports.useCallback(async()=>{try{st(!0);const yt=await cartAPI.get();rt(yt.data.data)}catch(yt){console.error("Failed to fetch cart:",yt)}finally{st(!1)}},[]);reactExports.useEffect(()=>{at()},[at,it]);const ot=async(yt,vt)=>{st(!0);try{await cartAPI.add(yt,vt),await at()}finally{st(!1)}},lt=async(yt,vt)=>{st(!0);try{await cartAPI.update(yt,vt),await at()}finally{st(!1)}},ct=async yt=>{st(!0);try{await cartAPI.remove(yt),await at()}finally{st(!1)}},ut=async()=>{st(!0);try{await cartAPI.clear(),await at()}finally{st(!1)}},dt=((mt=et==null?void 0:et.items)==null?void 0:mt.length)||0;(xt=et==null?void 0:et.items)!=null&&xt.reduce((yt,vt)=>yt+vt.qty,0);const pt=(et==null?void 0:et.subtotal)||0;return jsxRuntimeExports.jsx(CartContext.Provider,{value:{cart:et,isLoading:nt,itemCount:dt,subtotal:pt,addToCart:ot,updateQuantity:lt,removeItem:ct,clearCart:ut,refreshCart:at},children:_e})}function useCart(){const _e=reactExports.useContext(CartContext);if(_e===void 0)throw new Error("useCart must be used within a CartProvider");return _e}const WishlistContext=reactExports.createContext(void 0);function WishlistProvider({children:_e}){const{isAuthenticated:et}=useAuth(),[rt,nt]=reactExports.useState([]),[st,it]=reactExports.useState(!1);reactExports.useEffect(()=>{et?at():nt([])},[et]);const at=async()=>{try{it(!0);const ut=await wishlistAPI.get();ut.data.success&&nt(ut.data.data)}catch(ut){console.error("Failed to fetch wishlist",ut)}finally{it(!1)}},ot=async ut=>{if(!et){n$8.error("Vui lng ng nhp  s dng tnh nng ny");return}try{(await wishlistAPI.add(ut)).data.success&&(n$8.success(" thm vo yu thch"),at())}catch{n$8.error("Khng th thm vo yu thch")}},lt=async ut=>{try{(await wishlistAPI.remove(ut)).data.success&&(n$8.success(" xa khi yu thch"),nt(pt=>pt.filter(mt=>mt.product_id!==ut)))}catch{n$8.error("Khng th xa khi yu thch")}},ct=ut=>rt.some(dt=>dt.product_id===ut);return jsxRuntimeExports.jsx(WishlistContext.Provider,{value:{wishlist:rt,addToWishlist:ot,removeFromWishlist:lt,isInWishlist:ct,loading:st},children:_e})}function useWishlist(){const _e=reactExports.useContext(WishlistContext);if(_e===void 0)throw new Error("useWishlist must be used within a WishlistProvider");return _e}function useShop(){const[_e,et]=reactExports.useState([]),[rt,nt]=reactExports.useState([]),[st,it]=reactExports.useState([]),[at,ot]=reactExports.useState(!1),[lt,ct]=reactExports.useState(!1),[ut,dt]=reactExports.useState(null),[pt,mt]=reactExports.useState(null),xt=reactExports.useRef(null),yt=reactExports.useRef(null);reactExports.useEffect(()=>()=>{xt.current&&xt.current.abort(),yt.current&&yt.current.abort()},[]);const vt=reactExports.useCallback(async St=>{var Nt,Lt,$t;xt.current&&xt.current.abort();const _t=new AbortController;xt.current=_t,ot(!0),dt(null);try{const Tt=(await productsAPI.getAll(St,_t.signal)).data.data;et(Tt.products||[]),mt(Tt.pagination||null)}catch(Ft){Ft.name!=="CanceledError"&&Ft.code!=="ERR_CANCELED"&&(dt((($t=(Lt=(Nt=Ft.response)==null?void 0:Nt.data)==null?void 0:Lt.error)==null?void 0:$t.message)||"Failed to fetch products"),console.error("Fetch products error:",Ft))}finally{xt.current===_t&&ot(!1)}},[]),gt=reactExports.useCallback(async St=>{var _t,Nt,Lt;ot(!0),dt(null);try{return(await productsAPI.getBySlug(St)).data.data}catch($t){return dt(((Lt=(Nt=(_t=$t.response)==null?void 0:_t.data)==null?void 0:Nt.error)==null?void 0:Lt.message)||"Product not found"),null}finally{ot(!1)}},[]),Et=reactExports.useCallback(async()=>{try{const St=await categoriesAPI.getAll();nt(St.data.data||[])}catch(St){console.error("Failed to fetch categories:",St)}},[]),jt=reactExports.useCallback(async()=>{try{const St=await brandsAPI.getPublic();it(St.data.data.brands||[])}catch(St){console.error("Failed to fetch brands:",St)}},[]),kt=reactExports.useCallback(async St=>{if(St.length<2)return[];yt.current&&yt.current.abort();const _t=new AbortController;yt.current=_t,ct(!0);try{return(await productsAPI.search(St,_t.signal)).data.data||[]}catch(Nt){return Nt.name!=="CanceledError"&&Nt.code!=="ERR_CANCELED"&&console.error("Search failed:",Nt),[]}finally{yt.current===_t&&ct(!1)}},[]),Rt=reactExports.useCallback(()=>dt(null),[]);return{products:_e,categories:rt,brands:st,isLoading:at,isSearching:lt,error:ut,pagination:pt,fetchProducts:vt,fetchProductBySlug:gt,fetchCategories:Et,fetchBrands:jt,searchProducts:kt,resetError:Rt}}function formatPrice(_e){if(_e==null)return"0 ";const et=Number(_e);return isNaN(et)?"0 ":new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(et)}function getDiscountPercent(_e,et){return!et||et<=_e?0:Math.round((et-_e)/et*100)}const SettingsContext=reactExports.createContext(void 0),SettingsProvider=({children:_e})=>{const[et,rt]=reactExports.useState(null),[nt,st]=reactExports.useState(!0),it=async()=>{try{const at=await axios.get("/api/admin/settings/public");at.data.success&&rt(at.data.data)}catch(at){console.error("Failed to load settings:",at)}finally{st(!1)}};return reactExports.useEffect(()=>{it()},[]),jsxRuntimeExports.jsx(SettingsContext.Provider,{value:{settings:et,loading:nt,refreshSettings:it},children:_e})},useSettings=()=>{const _e=reactExports.useContext(SettingsContext);if(_e===void 0)throw new Error("useSettings must be used within a SettingsProvider");return _e},NotificationDropdown=()=>{const[_e,et]=reactExports.useState(!1),[rt,nt]=reactExports.useState([]),[st,it]=reactExports.useState(0),[at,ot]=reactExports.useState(!1),lt=reactExports.useRef(null);reactExports.useEffect(()=>{_e&&ct()},[_e]),reactExports.useEffect(()=>{ut();const Et=setInterval(ut,12e4);return()=>clearInterval(Et)},[]),reactExports.useEffect(()=>{const Et=jt=>{const kt=jt.detail;nt(Rt=>[kt,...Rt.slice(0,9)]),it(Rt=>Rt+1)};return window.addEventListener("new_notification_received",Et),()=>window.removeEventListener("new_notification_received",Et)},[]),reactExports.useEffect(()=>{const Et=jt=>{lt.current&&!lt.current.contains(jt.target)&&et(!1)};return document.addEventListener("mousedown",Et),()=>document.removeEventListener("mousedown",Et)},[]);const ct=async()=>{try{ot(!0);const Et=await notificationsAPI.getNotifications({limit:10});Et.data.success&&nt(Et.data.data.notifications)}catch(Et){console.error("Failed to fetch notifications:",Et)}finally{ot(!1)}},ut=async()=>{try{const Et=await notificationsAPI.getUnreadCount();Et.data.success&&it(Et.data.data.count)}catch(Et){console.error("Failed to fetch unread count:",Et)}},dt=async Et=>{try{await notificationsAPI.markAsRead(Et),nt(jt=>jt.map(kt=>kt.id===Et?{...kt,is_read:!0}:kt)),it(jt=>Math.max(0,jt-1))}catch(jt){console.error("Failed to mark as read:",jt)}},pt=async()=>{try{await notificationsAPI.markAllAsRead(),nt(Et=>Et.map(jt=>({...jt,is_read:!0}))),it(0)}catch(Et){console.error("Failed to mark all as read:",Et)}},mt=async(Et,jt)=>{jt.preventDefault(),jt.stopPropagation();try{await notificationsAPI.deleteNotification(Et);const kt=rt.find(Rt=>Rt.id===Et);nt(Rt=>Rt.filter(St=>St.id!==Et)),kt&&!kt.is_read&&it(Rt=>Math.max(0,Rt-1))}catch(kt){console.error("Failed to delete notification:",kt)}},xt=Et=>{const jt="w-4 h-4";switch(Et){case"order_new":case"order_status":return jsxRuntimeExports.jsx(Bell,{className:jt});case"product_low_stock":case"product_out_of_stock":return jsxRuntimeExports.jsx(Bell,{className:jt});default:return jsxRuntimeExports.jsx(Bell,{className:jt})}},yt=Et=>{const jt=new Date,kt=new Date(Et),Rt=jt.getTime()-kt.getTime(),St=Math.floor(Rt/6e4),_t=Math.floor(St/60),Nt=Math.floor(_t/24);return St<1?"Va xong":St<60?`${St} pht trc`:_t<24?`${_t} gi trc`:Nt<7?`${Nt} ngy trc`:kt.toLocaleDateString("vi-VN")},vt=Et=>{et(!1),Et.is_read||dt(Et.id)},gt=Et=>{const jt=`
      block px-4 py-3 hover:bg-secondary-50 dark:hover:bg-secondary-700/50 transition-colors relative group
      ${Et.is_read?"":"bg-primary-50/50 dark:bg-primary-950/20"}
    `,kt=jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[jsxRuntimeExports.jsx("div",{className:`
          mt-1 p-2 rounded-lg flex-shrink-0
          ${Et.is_read?"bg-secondary-100 dark:bg-secondary-700 text-secondary-600 dark:text-secondary-400":"bg-primary-100 dark:bg-primary-900/30 text-primary-600 dark:text-primary-400"}
        `,children:xt(Et.type)}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between gap-2",children:[jsxRuntimeExports.jsx("h4",{className:`
              text-sm truncate
              ${Et.is_read?"font-medium text-secondary-700 dark:text-secondary-300":"font-semibold text-secondary-900 dark:text-white"}
            `,children:Et.title}),!Et.is_read&&jsxRuntimeExports.jsx("span",{className:"w-2 h-2 bg-primary-500 rounded-full flex-shrink-0 mt-1.5"})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-secondary-600 dark:text-secondary-400 mt-1 line-clamp-2",children:Et.message}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mt-2",children:[jsxRuntimeExports.jsx("span",{className:"text-xs text-secondary-500 dark:text-secondary-500",children:yt(Et.created_at)}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[!Et.is_read&&jsxRuntimeExports.jsx("button",{onClick:Rt=>{Rt.preventDefault(),Rt.stopPropagation(),dt(Et.id)},className:"p-1.5 hover:bg-white dark:hover:bg-secondary-600 rounded-full transition-colors text-primary-600 dark:text-primary-400",title:"nh du  c",children:jsxRuntimeExports.jsx(Check,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("button",{onClick:Rt=>mt(Et.id,Rt),className:"p-1.5 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-full transition-colors text-red-500 dark:text-red-400 opacity-60 hover:opacity-100",title:"Xa",children:jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4"})})]})]})]})]});return Et.link?jsxRuntimeExports.jsx(Link$1,{to:Et.link,onClick:()=>vt(Et),className:jt,children:kt},Et.id):jsxRuntimeExports.jsx("div",{className:jt,onClick:()=>vt(Et),children:kt},Et.id)};return jsxRuntimeExports.jsxs("div",{className:"relative",ref:lt,children:[jsxRuntimeExports.jsxs("button",{onClick:()=>et(!_e),className:"relative p-2 text-secondary-600 dark:text-secondary-400 hover:bg-secondary-50 dark:hover:bg-secondary-700 rounded-lg transition-colors",title:"Thng bo",children:[jsxRuntimeExports.jsx(Bell,{className:"w-5 h-5"}),st>0&&jsxRuntimeExports.jsxs("span",{className:"absolute -top-0.5 -right-0.5 flex h-4 w-4 items-center justify-center",children:[jsxRuntimeExports.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),jsxRuntimeExports.jsx("span",{className:"relative inline-flex rounded-full h-4 w-4 bg-red-500 text-white text-[10px] items-center justify-center font-bold shadow-sm",children:st>9?"9+":st})]})]}),_e&&jsxRuntimeExports.jsxs("div",{className:"absolute right-0 mt-2 w-96 bg-white dark:bg-secondary-800 rounded-lg shadow-xl border border-secondary-100 dark:border-secondary-700 overflow-hidden animate-fade-in z-50",children:[jsxRuntimeExports.jsxs("div",{className:"px-4 py-3 border-b border-secondary-100 dark:border-secondary-700 flex items-center justify-between",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-secondary-900 dark:text-white",children:"Thng bo"}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2",children:st>0&&jsxRuntimeExports.jsxs("button",{onClick:pt,className:"text-xs text-primary-600 dark:text-primary-400 hover:underline flex items-center gap-1",title:"nh du tt c  c",children:[jsxRuntimeExports.jsx(CheckCheck,{className:"w-4 h-4"}),"c tt c"]})})]}),jsxRuntimeExports.jsx("div",{className:"max-h-[400px] overflow-y-auto",children:at?jsxRuntimeExports.jsxs("div",{className:"p-8 text-center",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin w-6 h-6 border-2 border-primary-500 border-t-transparent rounded-full mx-auto"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-secondary-500 dark:text-secondary-400 mt-2",children:"ang ti..."})]}):rt.length===0?jsxRuntimeExports.jsxs("div",{className:"p-8 text-center",children:[jsxRuntimeExports.jsx(Bell,{className:"w-12 h-12 mx-auto text-secondary-300 dark:text-secondary-600 mb-3"}),jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Khng c thng bo"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-secondary-500 dark:text-secondary-400",children:"Bn s nhn c thng bo  y"})]}):jsxRuntimeExports.jsx("div",{className:"divide-y divide-secondary-100 dark:divide-secondary-700",children:rt.map(Et=>gt(Et))})}),rt.length>0&&jsxRuntimeExports.jsx("div",{className:"px-4 py-3 border-t border-secondary-100 dark:border-secondary-700 text-center",children:jsxRuntimeExports.jsx(Link$1,{to:"/profile",className:"text-sm text-primary-600 dark:text-primary-400 hover:underline font-medium",onClick:()=>et(!1),children:"Xem tt c trong H s"})})]})]})};function Header(){const[_e,et]=reactExports.useState(!1),[rt,nt]=reactExports.useState(!1),[st,it]=reactExports.useState(!1),[at,ot]=reactExports.useState(""),[lt,ct]=reactExports.useState([]),{user:ut,isAuthenticated:dt,isAdmin:pt,logout:mt}=useAuth(),{itemCount:xt}=useCart(),{wishlist:yt}=useWishlist(),{categories:vt,fetchCategories:gt,searchProducts:Et}=useShop(),{settings:jt}=useSettings(),kt=useNavigate(),Rt=reactExports.useRef(null),St=reactExports.useRef(null);reactExports.useEffect(()=>{gt().then(()=>{})},[gt]),reactExports.useEffect(()=>{const Tt=Bt=>{Rt.current&&!Rt.current.contains(Bt.target)&&it(!1),St.current&&!St.current.contains(Bt.target)&&nt(!1)};return document.addEventListener("mousedown",Tt),()=>document.removeEventListener("mousedown",Tt)},[]),reactExports.useEffect(()=>{const Tt=setTimeout(async()=>{if(at.length>=2){const Bt=await Et(at);ct(Bt),it(!0)}else ct([])},300);return()=>clearTimeout(Tt)},[at,Et]);const[_t,Nt]=reactExports.useState(!1);reactExports.useEffect(()=>{localStorage.theme==="dark"||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?(Nt(!0),document.documentElement.classList.add("dark")):(Nt(!1),document.documentElement.classList.remove("dark"))},[]);const Lt=()=>{_t?(document.documentElement.classList.remove("dark"),localStorage.theme="light",Nt(!1)):(document.documentElement.classList.add("dark"),localStorage.theme="dark",Nt(!0))},$t=Tt=>{Tt.preventDefault(),at.trim()&&(kt(`/shop?search=${encodeURIComponent(at)}`),it(!1),ot(""))},Ft=()=>{mt(),nt(!1),kt("/")};return jsxRuntimeExports.jsxs("header",{className:"sticky top-0 z-50 bg-white dark:bg-secondary-900 dark:text-white shadow-sm transition-colors duration-300 print:hidden",children:[jsxRuntimeExports.jsx("div",{className:"bg-secondary-900 dark:bg-black text-white text-sm py-2",children:jsxRuntimeExports.jsxs("div",{className:"container-custom flex justify-between items-center",children:[jsxRuntimeExports.jsx("p",{children:"Min ph vn chuyn cho n t 500.000"}),jsxRuntimeExports.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[jsxRuntimeExports.jsx("a",{href:"tel:1900xxxx",className:"hover:text-primary-300",children:"Hotline: 1900-xxxx"}),jsxRuntimeExports.jsx("span",{children:"|"}),jsxRuntimeExports.jsx(Link$1,{to:"/order-tracking",className:"hover:text-primary-300",children:"Theo di n hng"})]})]})}),jsxRuntimeExports.jsxs("div",{className:"container-custom py-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between gap-4",children:[jsxRuntimeExports.jsx(Link$1,{to:"/",className:"flex-shrink-0",children:jt!=null&&jt.store_logo?jsxRuntimeExports.jsx("img",{src:toMediaUrl(jt.store_logo),alt:jt.store_name,className:"h-10 object-contain"}):jsxRuntimeExports.jsxs("h1",{className:"text-2xl font-bold text-primary-600 dark:text-primary-400",children:[(jt==null?void 0:jt.store_name)||"Fashion",!(jt!=null&&jt.store_name)&&jsxRuntimeExports.jsx("span",{className:"text-secondary-800 dark:text-white",children:"Store"})]})}),jsxRuntimeExports.jsxs("div",{className:"hidden md:block flex-1 max-w-xl relative",ref:Rt,children:[jsxRuntimeExports.jsx("form",{onSubmit:$t,children:jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Tm kim sn phm...",value:at,onChange:Tt=>ot(Tt.target.value),onFocus:()=>at.length>=2&&it(!0),className:"input pl-12 pr-4 rounded-full"}),jsxRuntimeExports.jsx(Search,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-secondary-400"})]})}),st&&lt.length>0&&jsxRuntimeExports.jsxs("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white dark:bg-secondary-800 rounded-lg shadow-lg border border-secondary-100 dark:border-secondary-700 max-h-96 overflow-y-auto z-50",children:[lt.map(Tt=>{var Bt,Wt;return jsxRuntimeExports.jsxs(Link$1,{to:`/products/${Tt.slug}`,onClick:()=>{it(!1),ot("")},className:"flex items-center gap-3 p-3 hover:bg-secondary-50 dark:hover:bg-secondary-700 transition-colors",children:[jsxRuntimeExports.jsx("img",{src:((Wt=(Bt=Tt.product_images)==null?void 0:Bt[0])==null?void 0:Wt.url)||"/placeholder.jpg",alt:Tt.name,className:"w-12 h-12 object-cover rounded"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-secondary-800 dark:text-white",children:Tt.name}),jsxRuntimeExports.jsx("p",{className:"text-sm text-primary-600 dark:text-primary-400",children:new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(Tt.base_price)})]})]},Tt.id)}),jsxRuntimeExports.jsx(Link$1,{to:`/shop?search=${encodeURIComponent(at)}`,onClick:()=>{it(!1),ot("")},className:"block p-3 text-center text-primary-600 dark:text-primary-400 hover:bg-secondary-50 dark:hover:bg-secondary-700 font-medium border-t dark:border-secondary-700",children:"Xem tt c kt qu"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[jsxRuntimeExports.jsx("button",{className:"md:hidden p-2 hover:bg-secondary-100 dark:hover:bg-secondary-800 rounded-full dark:text-white",onClick:()=>it(!st),children:jsxRuntimeExports.jsx(Search,{className:"w-5 h-5"})}),dt&&jsxRuntimeExports.jsx("div",{className:"hidden md:block",children:jsxRuntimeExports.jsx(NotificationDropdown,{})}),jsxRuntimeExports.jsxs(Link$1,{to:"/wishlist",className:"hidden md:flex p-2 hover:bg-secondary-100 dark:hover:bg-secondary-800 rounded-full relative dark:text-white",children:[jsxRuntimeExports.jsx(Heart,{className:"w-5 h-5"}),yt.length>0&&jsxRuntimeExports.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-primary-600 text-white text-[10px] rounded-full flex items-center justify-center font-bold",children:yt.length})]}),jsxRuntimeExports.jsxs(Link$1,{to:"/cart",className:"p-2 hover:bg-secondary-100 dark:hover:bg-secondary-800 rounded-full relative dark:text-white",children:[jsxRuntimeExports.jsx(ShoppingCart,{className:"w-5 h-5"}),xt>0&&jsxRuntimeExports.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-accent-red text-white text-xs rounded-full flex items-center justify-center font-medium",children:xt>99?"99+":xt})]}),jsxRuntimeExports.jsx("button",{onClick:Lt,className:"p-2 hover:bg-secondary-100 dark:hover:bg-secondary-800 rounded-full relative text-gray-500 hover:text-primary-600 dark:text-gray-300 dark:hover:text-white transition-colors",title:_t?"Chuyn sang ch  sng":"Chuyn sang ch  ti",children:_t?jsxRuntimeExports.jsx(Sun,{className:"w-5 h-5"}):jsxRuntimeExports.jsx(Moon,{className:"w-5 h-5"})}),jsxRuntimeExports.jsxs("div",{className:"relative",ref:St,children:[jsxRuntimeExports.jsxs("button",{className:"flex items-center gap-2 p-2 hover:bg-secondary-100 dark:hover:bg-secondary-800 rounded-full dark:text-white",onClick:()=>nt(!rt),children:[ut!=null&&ut.avatar_url?jsxRuntimeExports.jsx("img",{src:ut.avatar_url,alt:ut.full_name||ut.username,className:"w-6 h-6 rounded-full object-cover"}):jsxRuntimeExports.jsx(User,{className:"w-5 h-5"}),jsxRuntimeExports.jsx("span",{className:"hidden md:block text-sm font-medium",children:dt?(ut==null?void 0:ut.full_name)||(ut==null?void 0:ut.username):"ng nhp"}),jsxRuntimeExports.jsx(ChevronDown,{className:"hidden md:block w-4 h-4"})]}),rt&&jsxRuntimeExports.jsx("div",{className:"absolute right-0 top-full mt-2 w-56 bg-white dark:bg-secondary-800 rounded-lg shadow-lg border border-secondary-100 dark:border-secondary-700 py-2 z-50 animate-fade-in text-secondary-900 dark:text-white",children:dt?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b dark:border-secondary-700 flex items-center gap-3",children:[ut!=null&&ut.avatar_url?jsxRuntimeExports.jsx("img",{src:ut.avatar_url,alt:(ut==null?void 0:ut.full_name)||(ut==null?void 0:ut.username),className:"w-10 h-10 rounded-full object-cover border border-secondary-200 dark:border-secondary-600"}):jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-full bg-primary-100 dark:bg-primary-900/30 flex items-center justify-center text-primary-600 dark:text-primary-400 font-bold",children:((ut==null?void 0:ut.full_name)||(ut==null?void 0:ut.username)||"U").charAt(0).toUpperCase()}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("p",{className:"font-semibold text-secondary-900 dark:text-white truncate",children:(ut==null?void 0:ut.full_name)||(ut==null?void 0:ut.username)}),jsxRuntimeExports.jsx("p",{className:"text-xs text-secondary-500 dark:text-secondary-400 truncate",children:ut==null?void 0:ut.email})]})]}),jsxRuntimeExports.jsxs("div",{className:"p-1",children:[["admin","manager","staff"].includes((ut==null?void 0:ut.role)||"")&&jsxRuntimeExports.jsxs(Link$1,{to:"/admin",className:"flex items-center gap-3 px-4 py-2 hover:bg-secondary-50 dark:hover:bg-secondary-700",onClick:()=>nt(!1),children:[jsxRuntimeExports.jsx(Settings,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:"Trang qun tr"})]}),jsxRuntimeExports.jsxs(Link$1,{to:"/orders",className:"flex items-center gap-3 px-4 py-2 hover:bg-secondary-50 dark:hover:bg-secondary-700",onClick:()=>nt(!1),children:[jsxRuntimeExports.jsx(Package,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:"n hng"})]}),jsxRuntimeExports.jsxs(Link$1,{to:"/profile",className:"flex items-center gap-3 px-4 py-2 hover:bg-secondary-50 dark:hover:bg-secondary-700",onClick:()=>nt(!1),children:[jsxRuntimeExports.jsx(User,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:"Ti khon"})]}),jsxRuntimeExports.jsx("hr",{className:"my-2 dark:border-secondary-700"}),jsxRuntimeExports.jsxs("button",{onClick:Ft,className:"flex items-center gap-3 px-4 py-2 hover:bg-secondary-50 dark:hover:bg-secondary-700 w-full text-left text-accent-red",children:[jsxRuntimeExports.jsx(LogOut,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{className:"text-secondary-700 dark:text-secondary-300",children:"ng xut"})]})]})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Link$1,{to:"/login",className:"block px-4 py-2 hover:bg-secondary-50 dark:hover:bg-secondary-700",onClick:()=>nt(!1),children:"ng nhp"}),jsxRuntimeExports.jsx(Link$1,{to:"/register",className:"block px-4 py-2 hover:bg-secondary-50 dark:hover:bg-secondary-700",onClick:()=>nt(!1),children:"ng k"})]})})]}),jsxRuntimeExports.jsx("button",{className:"md:hidden p-2 hover:bg-secondary-100 dark:hover:bg-secondary-800 rounded-full dark:text-white",onClick:()=>et(!_e),children:_e?jsxRuntimeExports.jsx(X$2,{className:"w-5 h-5"}):jsxRuntimeExports.jsx(Menu,{className:"w-5 h-5"})})]})]}),st&&jsxRuntimeExports.jsxs("div",{className:"md:hidden mt-4",children:[jsxRuntimeExports.jsx("form",{onSubmit:$t,children:jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Tm kim sn phm...",value:at,onChange:Tt=>ot(Tt.target.value),className:"input pl-12 dark:bg-secondary-800 dark:border-secondary-700 dark:text-white",autoFocus:!0}),jsxRuntimeExports.jsx(Search,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-secondary-400 dark:text-secondary-500"})]})}),jsxRuntimeExports.jsxs("div",{className:"flex justify-around mt-4",children:[jsxRuntimeExports.jsx(NavLink,{to:"/shop",className:({isActive:Tt})=>`text-sm font-medium hover:text-primary-600 transition-colors ${Tt?"text-primary-600":"text-secondary-600 dark:text-gray-300"}`,children:"Sn phm"}),jsxRuntimeExports.jsx(NavLink,{to:"/sale",className:({isActive:Tt})=>`text-sm font-medium hover:text-primary-600 transition-colors ${Tt?"text-primary-600":"text-secondary-600 dark:text-gray-300"}`,children:"Sale"})]})]})]}),jsxRuntimeExports.jsx("nav",{className:"hidden md:block border-t border-secondary-100 dark:border-secondary-800",children:jsxRuntimeExports.jsx("div",{className:"container-custom",children:jsxRuntimeExports.jsxs("ul",{className:"flex items-center gap-8 py-3",children:[jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx(Link$1,{to:"/shop",className:"font-medium hover:text-primary-600 dark:text-gray-300 dark:hover:text-white transition-colors",children:"Tt c sn phm"})}),vt.slice(0,5).map(Tt=>jsxRuntimeExports.jsxs("li",{className:"relative group",children:[jsxRuntimeExports.jsxs(Link$1,{to:`/shop?category=${Tt.slug}`,className:"font-medium hover:text-primary-600 dark:text-gray-300 dark:hover:text-white transition-colors flex items-center gap-1",children:[Tt.name,Tt.children&&Tt.children.length>0&&jsxRuntimeExports.jsx(ChevronDown,{className:"w-4 h-4"})]}),Tt.children&&Tt.children.length>0&&jsxRuntimeExports.jsx("div",{className:"absolute top-full left-0 pt-2 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all z-40",children:jsxRuntimeExports.jsx("ul",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-lg border border-secondary-100 dark:border-secondary-700 py-2 min-w-48",children:Tt.children.map(Bt=>jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx(Link$1,{to:`/shop?category=${Bt.slug}`,className:"block px-4 py-2 hover:bg-secondary-50 dark:hover:bg-secondary-700 dark:text-gray-200 hover:text-primary-600 dark:hover:text-white transition-colors",children:Bt.name})},Bt.id))})})]},Tt.id)),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx(Link$1,{to:"/sale",className:"font-medium text-accent-red hover:text-red-700 dark:hover:text-red-400 transition-colors",children:" Sale"})})]})})}),_e&&jsxRuntimeExports.jsx("div",{className:"md:hidden fixed inset-0 top-[120px] bg-white z-40 overflow-y-auto animate-slide-down",children:jsxRuntimeExports.jsx("nav",{className:"container-custom py-4",children:jsxRuntimeExports.jsxs("ul",{className:"space-y-2",children:[jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx(Link$1,{to:"/shop",className:"block py-3 px-4 rounded-lg hover:bg-secondary-50 font-medium",onClick:()=>et(!1),children:"Tt c sn phm"})}),vt.map(Tt=>jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx(Link$1,{to:`/shop?category=${Tt.slug}`,className:"block py-3 px-4 rounded-lg hover:bg-secondary-50 font-medium",onClick:()=>et(!1),children:Tt.name}),Tt.children&&Tt.children.length>0&&jsxRuntimeExports.jsx("ul",{className:"pl-4",children:Tt.children.map(Bt=>jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx(Link$1,{to:`/shop?category=${Bt.slug}`,className:"block py-2 px-4 text-secondary-600 hover:text-primary-600",onClick:()=>et(!1),children:Bt.name})},Bt.id))})]},Tt.id))]})})})]})}function Footer(){const[_e,et]=reactExports.useState(""),rt=nt=>{nt.preventDefault(),alert("Cm n bn  ng k nhn tin!"),et("")};return jsxRuntimeExports.jsxs("footer",{className:"bg-secondary-900 text-white print:hidden",children:[jsxRuntimeExports.jsx("div",{className:"container-custom py-12",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h3",{className:"text-2xl font-bold mb-4",children:["Fashion",jsxRuntimeExports.jsx("span",{className:"text-primary-400",children:"Store"})]}),jsxRuntimeExports.jsx("p",{className:"text-secondary-300 mb-4",children:"Ca hng thi trang trc tuyn hng u Vit Nam. Mang n cho bn nhng sn phm cht lng vi gi c hp l."}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4",children:[jsxRuntimeExports.jsx("a",{href:"#",className:"w-10 h-10 rounded-full bg-secondary-800 flex items-center justify-center hover:bg-primary-600 transition-colors",children:jsxRuntimeExports.jsx(Facebook,{className:"w-5 h-5"})}),jsxRuntimeExports.jsx("a",{href:"#",className:"w-10 h-10 rounded-full bg-secondary-800 flex items-center justify-center hover:bg-primary-600 transition-colors",children:jsxRuntimeExports.jsx(Instagram,{className:"w-5 h-5"})}),jsxRuntimeExports.jsx("a",{href:"#",className:"w-10 h-10 rounded-full bg-secondary-800 flex items-center justify-center hover:bg-primary-600 transition-colors",children:jsxRuntimeExports.jsx(Twitter,{className:"w-5 h-5"})}),jsxRuntimeExports.jsx("a",{href:"#",className:"w-10 h-10 rounded-full bg-secondary-800 flex items-center justify-center hover:bg-primary-600 transition-colors",children:jsxRuntimeExports.jsx(Youtube,{className:"w-5 h-5"})})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Lin kt nhanh"}),jsxRuntimeExports.jsxs("ul",{className:"space-y-2",children:[jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx(Link$1,{to:"/shop",className:"text-secondary-300 hover:text-primary-400 transition-colors",children:"Ca hng"})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx(Link$1,{to:"/about",className:"text-secondary-300 hover:text-primary-400 transition-colors",children:"V chng ti"})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx(Link$1,{to:"/contact",className:"text-secondary-300 hover:text-primary-400 transition-colors",children:"Lin h"})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx(Link$1,{to:"/blog",className:"text-secondary-300 hover:text-primary-400 transition-colors",children:"Blog"})})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"text-lg font-semibold mb-4",children:"H tr"}),jsxRuntimeExports.jsxs("ul",{className:"space-y-2",children:[jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx(Link$1,{to:"/faq",className:"text-secondary-300 hover:text-primary-400 transition-colors",children:"FAQ"})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx(Link$1,{to:"/shipping",className:"text-secondary-300 hover:text-primary-400 transition-colors",children:"Chnh sch vn chuyn"})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx(Link$1,{to:"/returns",className:"text-secondary-300 hover:text-primary-400 transition-colors",children:"i tr hng"})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx(Link$1,{to:"/order-tracking",className:"text-secondary-300 hover:text-primary-400 transition-colors",children:"Theo di n hng"})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx(Link$1,{to:"/privacy",className:"text-secondary-300 hover:text-primary-400 transition-colors",children:"Chnh sch bo mt"})})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"text-lg font-semibold mb-4",children:"ng k nhn tin"}),jsxRuntimeExports.jsx("p",{className:"text-secondary-300 mb-4",children:"Nhn thng tin khuyn mi v sn phm mi nht"}),jsxRuntimeExports.jsxs("form",{onSubmit:rt,className:"flex gap-2",children:[jsxRuntimeExports.jsx("input",{type:"email",placeholder:"Email ca bn",value:_e,onChange:nt=>et(nt.target.value),className:"flex-1 px-4 py-2 rounded-full bg-secondary-800 border border-secondary-700 focus:outline-none focus:border-primary-500 text-white placeholder:text-secondary-400",required:!0}),jsxRuntimeExports.jsx("button",{type:"submit",className:"px-6 py-2 btn btn-primary flex items-center justify-center",children:jsxRuntimeExports.jsx(Send,{className:"w-5 h-5"})})]}),jsxRuntimeExports.jsxs("div",{className:"mt-6 space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 text-secondary-300",children:[jsxRuntimeExports.jsx(Phone,{className:"w-5 h-5 text-primary-400"}),jsxRuntimeExports.jsx("span",{children:"1900-xxxx"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 text-secondary-300",children:[jsxRuntimeExports.jsx(Mail,{className:"w-5 h-5 text-primary-400"}),jsxRuntimeExports.jsx("span",{children:"support@fashionstore.vn"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 text-secondary-300",children:[jsxRuntimeExports.jsx(MapPin,{className:"w-5 h-5 text-primary-400"}),jsxRuntimeExports.jsx("span",{children:"123 Nguyn Hu, Q.1, TP.HCM"})]})]})]})]})}),jsxRuntimeExports.jsx("div",{className:"border-t border-secondary-800",children:jsxRuntimeExports.jsx("div",{className:"container-custom py-6",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[jsxRuntimeExports.jsx("p",{className:"text-secondary-400 text-sm",children:" 2024 Fashion Store. All rights reserved."}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/4/41/Visa_Logo.png",alt:"Visa",className:"h-6 object-contain opacity-70"}),jsxRuntimeExports.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/b/b7/MasterCard_Logo.svg",alt:"Mastercard",className:"h-6 object-contain opacity-70"}),jsxRuntimeExports.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/vi/f/fe/MoMo_Logo.png",alt:"MoMo",className:"h-6 object-contain opacity-70"})]})]})})})]})}function useChat(){const[_e,et]=reactExports.useState([{id:"welcome",role:"assistant",content:"Xin cho!  Mnh l Feshen - tr l AI ca ShopFeshen. Mnh c th gip bn tm kim sn phm, t vn size, hoc gii p thc mc. Bn cn mnh h tr g no? ",timestamp:new Date}]),[rt,nt]=reactExports.useState(!1),[st,it]=reactExports.useState(!1),at=reactExports.useCallback(async ct=>{if(!ct.trim())return;const ut={id:`user-${Date.now()}`,role:"user",content:ct.trim(),timestamp:new Date};et(dt=>[...dt,ut]),nt(!0);try{const dt=_e.map(gt=>({role:gt.role,content:gt.content})),pt=await chatAPI.send(ct,dt),{message:mt,products:xt,orders:yt}=pt.data.data,vt={id:`ai-${Date.now()}`,role:"assistant",content:mt,products:xt,orders:yt,timestamp:new Date};et(gt=>[...gt,vt])}catch{const pt={id:`error-${Date.now()}`,role:"assistant",content:"Xin li, ti ang gp s c k thut. Vui lng th li sau hoc lin h h tr.",timestamp:new Date};et(mt=>[...mt,pt])}finally{nt(!1)}},[_e]),ot=reactExports.useCallback(()=>{it(ct=>!ct)},[]),lt=reactExports.useCallback(()=>{et([{id:"welcome",role:"assistant",content:"Xin cho!  Mnh l Feshen - tr l AI ca ShopFeshen. Mnh c th gip bn tm kim sn phm, t vn size, hoc gii p thc mc. Bn cn mnh h tr g no? ",timestamp:new Date}])},[]);return{messages:_e,isLoading:rt,isOpen:st,sendMessage:at,toggleChat:ot,clearMessages:lt}}const SpeechRecognition=window.SpeechRecognition||window.webkitSpeechRecognition;function ChatWidget(){const{messages:_e,isLoading:et,isOpen:rt,sendMessage:nt,toggleChat:st,clearMessages:it}=useChat(),{user:at}=useAuth(),[ot,lt]=reactExports.useState(""),[ct,ut]=reactExports.useState(!1),dt=reactExports.useRef(null),pt=reactExports.useRef(null),mt=reactExports.useRef(null);reactExports.useEffect(()=>{dt.current&&dt.current.scrollIntoView({behavior:"smooth"})},[_e]),reactExports.useEffect(()=>{rt&&pt.current&&pt.current.focus()},[rt]),reactExports.useEffect(()=>{if(SpeechRecognition){const gt=new SpeechRecognition;gt.continuous=!1,gt.interimResults=!1,gt.lang="vi-VN",gt.onstart=()=>ut(!0),gt.onend=()=>ut(!1),gt.onresult=Et=>{const jt=Et.results[0][0].transcript;lt(kt=>kt?`${kt} ${jt}`:jt)},gt.onerror=()=>ut(!1),mt.current=gt}},[]);const xt=()=>{if(!mt.current){alert("Trnh duyt ca bn khng h tr tm kim bng ging ni.");return}ct?mt.current.stop():mt.current.start()},yt=()=>{!rt&&window.dispatchEvent(new CustomEvent("close-support-chat")),st()};reactExports.useEffect(()=>{const gt=()=>{rt&&st()};return window.addEventListener("close-ai-chat",gt),()=>window.removeEventListener("close-ai-chat",gt)},[rt,st]);const vt=gt=>{gt.preventDefault(),ot.trim()&&!et&&(nt(ot),lt(""))};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("button",{onClick:yt,className:`fixed bottom-6 right-6 z-50 w-14 h-14 rounded-full shadow-lg flex items-center justify-center transition-all duration-300 ${rt?"bg-secondary-800 rotate-0":"bg-primary-600 hover:bg-primary-700 animate-pulse-slow"}`,"aria-label":rt?"Close chat":"Open chat",title:"Chat vi AI",children:rt?jsxRuntimeExports.jsx(X$2,{className:"w-6 h-6 text-white"}):jsxRuntimeExports.jsx(MessageCircle,{className:"w-6 h-6 text-white"})}),rt&&jsxRuntimeExports.jsxs("div",{className:"fixed bottom-24 right-6 z-[100] w-[380px] h-[500px] bg-white dark:bg-secondary-800 rounded-2xl shadow-2xl flex flex-col overflow-hidden animate-slide-up border border-secondary-200 dark:border-secondary-700",children:[jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-r from-primary-600 to-primary-700 text-white p-4 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center",children:jsxRuntimeExports.jsx(Bot,{className:"w-6 h-6"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold",children:"Tr l AI"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-primary-100",children:"Fashion Store"})]})]}),jsxRuntimeExports.jsx("button",{onClick:it,className:"text-xs text-primary-200 hover:text-white transition-colors",children:"Lm mi"})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-secondary-50 dark:bg-secondary-900",children:[_e.map(gt=>jsxRuntimeExports.jsxs("div",{className:`flex gap-3 ${gt.role==="user"?"justify-end":"justify-start"}`,children:[gt.role==="assistant"&&jsxRuntimeExports.jsx("div",{className:"w-8 h-8 rounded-full bg-primary-100 flex items-center justify-center flex-shrink-0",children:jsxRuntimeExports.jsx(Bot,{className:"w-4 h-4 text-primary-600"})}),jsxRuntimeExports.jsxs("div",{className:`max-w-[75%] ${gt.role==="user"?"order-first":""}`,children:[jsxRuntimeExports.jsx("div",{className:`rounded-2xl px-4 py-2.5 ${gt.role==="user"?"bg-primary-600 text-white rounded-br-md":"bg-white dark:bg-secondary-800 shadow-sm rounded-bl-md dark:text-white"}`,children:jsxRuntimeExports.jsx("p",{className:"text-sm whitespace-pre-wrap",children:gt.content})}),gt.products&&gt.products.length>0&&jsxRuntimeExports.jsx("div",{className:"mt-2 space-y-2",children:gt.products.slice(0,3).map(Et=>jsxRuntimeExports.jsx(MiniProductCard,{product:Et},Et.id))}),gt.orders&&gt.orders.length>0&&jsxRuntimeExports.jsx("div",{className:"mt-2 space-y-2",children:gt.orders.map((Et,jt)=>jsxRuntimeExports.jsx(MiniOrderCard,{order:Et},jt))}),jsxRuntimeExports.jsx("p",{className:"text-xs text-secondary-400 mt-1",children:gt.timestamp.toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"})})]}),gt.role==="user"&&jsxRuntimeExports.jsx("div",{className:"w-8 h-8 rounded-full bg-secondary-200 dark:bg-secondary-700 flex items-center justify-center flex-shrink-0",children:jsxRuntimeExports.jsx(User,{className:"w-4 h-4 text-secondary-600 dark:text-secondary-300"})})]},gt.id)),et&&jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 rounded-full bg-primary-100 flex items-center justify-center",children:jsxRuntimeExports.jsx(Bot,{className:"w-4 h-4 text-primary-600"})}),jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-secondary-800 rounded-2xl rounded-bl-md px-4 py-3 shadow-sm",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin text-primary-600"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-secondary-500",children:"ang tr li..."})]})})]}),jsxRuntimeExports.jsx("div",{ref:dt})]}),jsxRuntimeExports.jsxs("div",{className:"px-4 py-2 bg-white dark:bg-secondary-800 border-t border-secondary-100 dark:border-secondary-700 flex gap-2 overflow-x-auto no-scrollbar",children:[jsxRuntimeExports.jsx(SuggestionChip,{label:" Bn chy",onClick:()=>nt("Cho ti xem sn phm bn chy nht"),disabled:et}),jsxRuntimeExports.jsx(SuggestionChip,{label:" Outfit",onClick:()=>nt("Ti i d tic ci nn mc g?"),disabled:et}),jsxRuntimeExports.jsx(SuggestionChip,{label:" Di 500k",onClick:()=>nt("Tm vy p di 500k"),disabled:et}),jsxRuntimeExports.jsx(SuggestionChip,{label:" Chn size",onClick:()=>nt("Ti 55kg mc size g?"),disabled:et}),jsxRuntimeExports.jsx(SuggestionChip,{label:" Qu tng",onClick:()=>nt("Tng bn gi g p?"),disabled:et}),at&&jsxRuntimeExports.jsx(SuggestionChip,{label:" n hng",onClick:()=>nt("n hng ca ti"),disabled:et})]}),jsxRuntimeExports.jsx("form",{onSubmit:vt,className:"p-4 bg-white dark:bg-secondary-800",children:jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("input",{ref:pt,type:"text",value:ot,onChange:gt=>lt(gt.target.value),placeholder:ct?"ang lng nghe...":"Nhp tin nhn...",className:`flex-1 px-4 py-2.5 rounded-full border-0 focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm transition-colors dark:text-white ${ct?"bg-red-50 text-red-600 placeholder-red-400 ring-2 ring-red-500":"bg-secondary-100 dark:bg-secondary-700"}`,disabled:et}),jsxRuntimeExports.jsx("button",{type:"button",onClick:xt,className:`w-10 h-10 rounded-full flex items-center justify-center transition-all ${ct?"bg-red-500 text-white animate-pulse":"bg-secondary-200 dark:bg-secondary-700 text-secondary-600 dark:text-secondary-300 hover:bg-secondary-300 dark:hover:bg-secondary-600"}`,title:"Nhp bng ging ni",children:jsxRuntimeExports.jsx(Mic,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("button",{type:"submit",disabled:!ot.trim()||et,className:"w-10 h-10 bg-primary-600 rounded-full flex items-center justify-center text-white disabled:opacity-50 disabled:cursor-not-allowed hover:bg-primary-700 transition-colors",children:jsxRuntimeExports.jsx(Send,{className:"w-4 h-4"})})]})})]})]})}function MiniProductCard({product:_e}){return jsxRuntimeExports.jsxs(Link$1,{to:`/products/${_e.slug}`,className:"flex items-center gap-3 p-2 bg-white dark:bg-secondary-800 rounded-lg shadow-sm hover:shadow-md transition-shadow",children:[jsxRuntimeExports.jsx("img",{src:_e.image||"/placeholder.jpg",alt:_e.name,className:"w-12 h-12 rounded-lg object-cover"}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-secondary-800 dark:text-white truncate",children:_e.name}),jsxRuntimeExports.jsx("p",{className:"text-sm text-primary-600 font-semibold",children:isNaN(Number(_e.price))?_e.price:formatPrice(_e.price)})]}),_e.stock_qty>0?jsxRuntimeExports.jsx("span",{className:"text-xs text-accent-green",children:"Cn hng"}):jsxRuntimeExports.jsx("span",{className:"text-xs text-accent-red",children:"Ht"})]})}function MiniOrderCard({order:_e}){const et=rt=>{switch(rt){case"paid":case"completed":return"text-accent-green bg-accent-green/10";case"cancelled":case"refunded":return"text-accent-red bg-accent-red/10";case"pending":return"text-yellow-600 bg-yellow-100";default:return"text-secondary-600 bg-secondary-100"}};return jsxRuntimeExports.jsxs(Link$1,{to:"/profile/orders",className:"block p-3 bg-white dark:bg-secondary-800 rounded-lg shadow-sm hover:shadow-md transition-shadow border border-secondary-100 dark:border-secondary-700",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start mb-2",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("p",{className:"text-sm font-bold text-secondary-900 dark:text-white",children:["#",_e.code]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-secondary-500 dark:text-secondary-400",children:_e.date})]}),jsxRuntimeExports.jsx("span",{className:`px-2 py-0.5 text-[10px] font-medium rounded-full ${et(_e.status)} uppercase`,children:_e.status})]}),jsxRuntimeExports.jsx("div",{className:"text-xs text-secondary-600 dark:text-secondary-400 mb-2 line-clamp-1",children:_e.items}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center border-t border-secondary-100 dark:border-secondary-700 pt-2 mt-1",children:[jsxRuntimeExports.jsx("span",{className:"text-xs text-secondary-500 dark:text-secondary-400",children:"Tng tin"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-bold text-primary-600",children:_e.total})]})]})}function SuggestionChip({label:_e,onClick:et,disabled:rt}){return jsxRuntimeExports.jsx("button",{type:"button",onClick:et,disabled:rt,className:"flex-shrink-0 px-3 py-1.5 bg-secondary-100 dark:bg-secondary-700 text-secondary-600 dark:text-secondary-300 text-xs rounded-full hover:bg-primary-50 hover:text-primary-600 dark:hover:bg-primary-900/30 transition-colors whitespace-nowrap disabled:opacity-50 disabled:cursor-not-allowed",children:_e})}const PACKET_TYPES=Object.create(null);PACKET_TYPES.open="0";PACKET_TYPES.close="1";PACKET_TYPES.ping="2";PACKET_TYPES.pong="3";PACKET_TYPES.message="4";PACKET_TYPES.upgrade="5";PACKET_TYPES.noop="6";const PACKET_TYPES_REVERSE=Object.create(null);Object.keys(PACKET_TYPES).forEach(_e=>{PACKET_TYPES_REVERSE[PACKET_TYPES[_e]]=_e});const ERROR_PACKET={type:"error",data:"parser error"},withNativeBlob$1=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",withNativeArrayBuffer$2=typeof ArrayBuffer=="function",isView$1=_e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(_e):_e&&_e.buffer instanceof ArrayBuffer,encodePacket=({type:_e,data:et},rt,nt)=>withNativeBlob$1&&et instanceof Blob?rt?nt(et):encodeBlobAsBase64(et,nt):withNativeArrayBuffer$2&&(et instanceof ArrayBuffer||isView$1(et))?rt?nt(et):encodeBlobAsBase64(new Blob([et]),nt):nt(PACKET_TYPES[_e]+(et||"")),encodeBlobAsBase64=(_e,et)=>{const rt=new FileReader;return rt.onload=function(){const nt=rt.result.split(",")[1];et("b"+(nt||""))},rt.readAsDataURL(_e)};function toArray$2(_e){return _e instanceof Uint8Array?_e:_e instanceof ArrayBuffer?new Uint8Array(_e):new Uint8Array(_e.buffer,_e.byteOffset,_e.byteLength)}let TEXT_ENCODER;function encodePacketToBinary(_e,et){if(withNativeBlob$1&&_e.data instanceof Blob)return _e.data.arrayBuffer().then(toArray$2).then(et);if(withNativeArrayBuffer$2&&(_e.data instanceof ArrayBuffer||isView$1(_e.data)))return et(toArray$2(_e.data));encodePacket(_e,!1,rt=>{TEXT_ENCODER||(TEXT_ENCODER=new TextEncoder),et(TEXT_ENCODER.encode(rt))})}const chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup$1=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let _e=0;_e<chars.length;_e++)lookup$1[chars.charCodeAt(_e)]=_e;const decode$2=_e=>{let et=_e.length*.75,rt=_e.length,nt,st=0,it,at,ot,lt;_e[_e.length-1]==="="&&(et--,_e[_e.length-2]==="="&&et--);const ct=new ArrayBuffer(et),ut=new Uint8Array(ct);for(nt=0;nt<rt;nt+=4)it=lookup$1[_e.charCodeAt(nt)],at=lookup$1[_e.charCodeAt(nt+1)],ot=lookup$1[_e.charCodeAt(nt+2)],lt=lookup$1[_e.charCodeAt(nt+3)],ut[st++]=it<<2|at>>4,ut[st++]=(at&15)<<4|ot>>2,ut[st++]=(ot&3)<<6|lt&63;return ct},withNativeArrayBuffer$1=typeof ArrayBuffer=="function",decodePacket=(_e,et)=>{if(typeof _e!="string")return{type:"message",data:mapBinary(_e,et)};const rt=_e.charAt(0);return rt==="b"?{type:"message",data:decodeBase64Packet(_e.substring(1),et)}:PACKET_TYPES_REVERSE[rt]?_e.length>1?{type:PACKET_TYPES_REVERSE[rt],data:_e.substring(1)}:{type:PACKET_TYPES_REVERSE[rt]}:ERROR_PACKET},decodeBase64Packet=(_e,et)=>{if(withNativeArrayBuffer$1){const rt=decode$2(_e);return mapBinary(rt,et)}else return{base64:!0,data:_e}},mapBinary=(_e,et)=>{switch(et){case"blob":return _e instanceof Blob?_e:new Blob([_e]);case"arraybuffer":default:return _e instanceof ArrayBuffer?_e:_e.buffer}},SEPARATOR="",encodePayload=(_e,et)=>{const rt=_e.length,nt=new Array(rt);let st=0;_e.forEach((it,at)=>{encodePacket(it,!1,ot=>{nt[at]=ot,++st===rt&&et(nt.join(SEPARATOR))})})},decodePayload=(_e,et)=>{const rt=_e.split(SEPARATOR),nt=[];for(let st=0;st<rt.length;st++){const it=decodePacket(rt[st],et);if(nt.push(it),it.type==="error")break}return nt};function createPacketEncoderStream(){return new TransformStream({transform(_e,et){encodePacketToBinary(_e,rt=>{const nt=rt.length;let st;if(nt<126)st=new Uint8Array(1),new DataView(st.buffer).setUint8(0,nt);else if(nt<65536){st=new Uint8Array(3);const it=new DataView(st.buffer);it.setUint8(0,126),it.setUint16(1,nt)}else{st=new Uint8Array(9);const it=new DataView(st.buffer);it.setUint8(0,127),it.setBigUint64(1,BigInt(nt))}_e.data&&typeof _e.data!="string"&&(st[0]|=128),et.enqueue(st),et.enqueue(rt)})}})}let TEXT_DECODER;function totalLength(_e){return _e.reduce((et,rt)=>et+rt.length,0)}function concatChunks(_e,et){if(_e[0].length===et)return _e.shift();const rt=new Uint8Array(et);let nt=0;for(let st=0;st<et;st++)rt[st]=_e[0][nt++],nt===_e[0].length&&(_e.shift(),nt=0);return _e.length&&nt<_e[0].length&&(_e[0]=_e[0].slice(nt)),rt}function createPacketDecoderStream(_e,et){TEXT_DECODER||(TEXT_DECODER=new TextDecoder);const rt=[];let nt=0,st=-1,it=!1;return new TransformStream({transform(at,ot){for(rt.push(at);;){if(nt===0){if(totalLength(rt)<1)break;const lt=concatChunks(rt,1);it=(lt[0]&128)===128,st=lt[0]&127,st<126?nt=3:st===126?nt=1:nt=2}else if(nt===1){if(totalLength(rt)<2)break;const lt=concatChunks(rt,2);st=new DataView(lt.buffer,lt.byteOffset,lt.length).getUint16(0),nt=3}else if(nt===2){if(totalLength(rt)<8)break;const lt=concatChunks(rt,8),ct=new DataView(lt.buffer,lt.byteOffset,lt.length),ut=ct.getUint32(0);if(ut>Math.pow(2,21)-1){ot.enqueue(ERROR_PACKET);break}st=ut*Math.pow(2,32)+ct.getUint32(4),nt=3}else{if(totalLength(rt)<st)break;const lt=concatChunks(rt,st);ot.enqueue(decodePacket(it?lt:TEXT_DECODER.decode(lt),et)),nt=0}if(st===0||st>_e){ot.enqueue(ERROR_PACKET);break}}}})}const protocol$1=4;function Emitter(_e){if(_e)return mixin(_e)}function mixin(_e){for(var et in Emitter.prototype)_e[et]=Emitter.prototype[et];return _e}Emitter.prototype.on=Emitter.prototype.addEventListener=function(_e,et){return this._callbacks=this._callbacks||{},(this._callbacks["$"+_e]=this._callbacks["$"+_e]||[]).push(et),this};Emitter.prototype.once=function(_e,et){function rt(){this.off(_e,rt),et.apply(this,arguments)}return rt.fn=et,this.on(_e,rt),this};Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(_e,et){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var rt=this._callbacks["$"+_e];if(!rt)return this;if(arguments.length==1)return delete this._callbacks["$"+_e],this;for(var nt,st=0;st<rt.length;st++)if(nt=rt[st],nt===et||nt.fn===et){rt.splice(st,1);break}return rt.length===0&&delete this._callbacks["$"+_e],this};Emitter.prototype.emit=function(_e){this._callbacks=this._callbacks||{};for(var et=new Array(arguments.length-1),rt=this._callbacks["$"+_e],nt=1;nt<arguments.length;nt++)et[nt-1]=arguments[nt];if(rt){rt=rt.slice(0);for(var nt=0,st=rt.length;nt<st;++nt)rt[nt].apply(this,et)}return this};Emitter.prototype.emitReserved=Emitter.prototype.emit;Emitter.prototype.listeners=function(_e){return this._callbacks=this._callbacks||{},this._callbacks["$"+_e]||[]};Emitter.prototype.hasListeners=function(_e){return!!this.listeners(_e).length};const nextTick=typeof Promise=="function"&&typeof Promise.resolve=="function"?et=>Promise.resolve().then(et):(et,rt)=>rt(et,0),globalThisShim=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),defaultBinaryType="arraybuffer";function createCookieJar(){}function pick(_e,...et){return et.reduce((rt,nt)=>(_e.hasOwnProperty(nt)&&(rt[nt]=_e[nt]),rt),{})}const NATIVE_SET_TIMEOUT=globalThisShim.setTimeout,NATIVE_CLEAR_TIMEOUT=globalThisShim.clearTimeout;function installTimerFunctions(_e,et){et.useNativeTimers?(_e.setTimeoutFn=NATIVE_SET_TIMEOUT.bind(globalThisShim),_e.clearTimeoutFn=NATIVE_CLEAR_TIMEOUT.bind(globalThisShim)):(_e.setTimeoutFn=globalThisShim.setTimeout.bind(globalThisShim),_e.clearTimeoutFn=globalThisShim.clearTimeout.bind(globalThisShim))}const BASE64_OVERHEAD=1.33;function byteLength(_e){return typeof _e=="string"?utf8Length(_e):Math.ceil((_e.byteLength||_e.size)*BASE64_OVERHEAD)}function utf8Length(_e){let et=0,rt=0;for(let nt=0,st=_e.length;nt<st;nt++)et=_e.charCodeAt(nt),et<128?rt+=1:et<2048?rt+=2:et<55296||et>=57344?rt+=3:(nt++,rt+=4);return rt}function randomString$1(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function encode(_e){let et="";for(let rt in _e)_e.hasOwnProperty(rt)&&(et.length&&(et+="&"),et+=encodeURIComponent(rt)+"="+encodeURIComponent(_e[rt]));return et}function decode$1(_e){let et={},rt=_e.split("&");for(let nt=0,st=rt.length;nt<st;nt++){let it=rt[nt].split("=");et[decodeURIComponent(it[0])]=decodeURIComponent(it[1])}return et}class TransportError extends Error{constructor(et,rt,nt){super(et),this.description=rt,this.context=nt,this.type="TransportError"}}class Transport extends Emitter{constructor(et){super(),this.writable=!1,installTimerFunctions(this,et),this.opts=et,this.query=et.query,this.socket=et.socket,this.supportsBinary=!et.forceBase64}onError(et,rt,nt){return super.emitReserved("error",new TransportError(et,rt,nt)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(et){this.readyState==="open"&&this.write(et)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(et){const rt=decodePacket(et,this.socket.binaryType);this.onPacket(rt)}onPacket(et){super.emitReserved("packet",et)}onClose(et){this.readyState="closed",super.emitReserved("close",et)}pause(et){}createUri(et,rt={}){return et+"://"+this._hostname()+this._port()+this.opts.path+this._query(rt)}_hostname(){const et=this.opts.hostname;return et.indexOf(":")===-1?et:"["+et+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(this.opts.port)!==443||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(et){const rt=encode(et);return rt.length?"?"+rt:""}}class Polling extends Transport{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(et){this.readyState="pausing";const rt=()=>{this.readyState="paused",et()};if(this._polling||!this.writable){let nt=0;this._polling&&(nt++,this.once("pollComplete",function(){--nt||rt()})),this.writable||(nt++,this.once("drain",function(){--nt||rt()}))}else rt()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(et){const rt=nt=>{if(this.readyState==="opening"&&nt.type==="open"&&this.onOpen(),nt.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(nt)};decodePayload(et,this.socket.binaryType).forEach(rt),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const et=()=>{this.write([{type:"close"}])};this.readyState==="open"?et():this.once("open",et)}write(et){this.writable=!1,encodePayload(et,rt=>{this.doWrite(rt,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const et=this.opts.secure?"https":"http",rt=this.query||{};return this.opts.timestampRequests!==!1&&(rt[this.opts.timestampParam]=randomString$1()),!this.supportsBinary&&!rt.sid&&(rt.b64=1),this.createUri(et,rt)}}let value=!1;try{value=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const hasCORS=value;function empty$3(){}class BaseXHR extends Polling{constructor(et){if(super(et),typeof location<"u"){const rt=location.protocol==="https:";let nt=location.port;nt||(nt=rt?"443":"80"),this.xd=typeof location<"u"&&et.hostname!==location.hostname||nt!==et.port}}doWrite(et,rt){const nt=this.request({method:"POST",data:et});nt.on("success",rt),nt.on("error",(st,it)=>{this.onError("xhr post error",st,it)})}doPoll(){const et=this.request();et.on("data",this.onData.bind(this)),et.on("error",(rt,nt)=>{this.onError("xhr poll error",rt,nt)}),this.pollXhr=et}}class Request extends Emitter{constructor(et,rt,nt){super(),this.createRequest=et,installTimerFunctions(this,nt),this._opts=nt,this._method=nt.method||"GET",this._uri=rt,this._data=nt.data!==void 0?nt.data:null,this._create()}_create(){var et;const rt=pick(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");rt.xdomain=!!this._opts.xd;const nt=this._xhr=this.createRequest(rt);try{nt.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){nt.setDisableHeaderCheck&&nt.setDisableHeaderCheck(!0);for(let st in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(st)&&nt.setRequestHeader(st,this._opts.extraHeaders[st])}}catch{}if(this._method==="POST")try{nt.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{nt.setRequestHeader("Accept","*/*")}catch{}(et=this._opts.cookieJar)===null||et===void 0||et.addCookies(nt),"withCredentials"in nt&&(nt.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(nt.timeout=this._opts.requestTimeout),nt.onreadystatechange=()=>{var st;nt.readyState===3&&((st=this._opts.cookieJar)===null||st===void 0||st.parseCookies(nt.getResponseHeader("set-cookie"))),nt.readyState===4&&(nt.status===200||nt.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof nt.status=="number"?nt.status:0)},0))},nt.send(this._data)}catch(st){this.setTimeoutFn(()=>{this._onError(st)},0);return}typeof document<"u"&&(this._index=Request.requestsCount++,Request.requests[this._index]=this)}_onError(et){this.emitReserved("error",et,this._xhr),this._cleanup(!0)}_cleanup(et){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=empty$3,et)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Request.requests[this._index],this._xhr=null}}_onLoad(){const et=this._xhr.responseText;et!==null&&(this.emitReserved("data",et),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Request.requestsCount=0;Request.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",unloadHandler);else if(typeof addEventListener=="function"){const _e="onpagehide"in globalThisShim?"pagehide":"unload";addEventListener(_e,unloadHandler,!1)}}function unloadHandler(){for(let _e in Request.requests)Request.requests.hasOwnProperty(_e)&&Request.requests[_e].abort()}const hasXHR2=function(){const _e=newRequest({xdomain:!1});return _e&&_e.responseType!==null}();class XHR extends BaseXHR{constructor(et){super(et);const rt=et&&et.forceBase64;this.supportsBinary=hasXHR2&&!rt}request(et={}){return Object.assign(et,{xd:this.xd},this.opts),new Request(newRequest,this.uri(),et)}}function newRequest(_e){const et=_e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!et||hasCORS))return new XMLHttpRequest}catch{}if(!et)try{return new globalThisShim[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const isReactNative$1=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class BaseWS extends Transport{get name(){return"websocket"}doOpen(){const et=this.uri(),rt=this.opts.protocols,nt=isReactNative$1?{}:pick(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(nt.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(et,rt,nt)}catch(st){return this.emitReserved("error",st)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=et=>this.onClose({description:"websocket connection closed",context:et}),this.ws.onmessage=et=>this.onData(et.data),this.ws.onerror=et=>this.onError("websocket error",et)}write(et){this.writable=!1;for(let rt=0;rt<et.length;rt++){const nt=et[rt],st=rt===et.length-1;encodePacket(nt,this.supportsBinary,it=>{try{this.doWrite(nt,it)}catch{}st&&nextTick(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const et=this.opts.secure?"wss":"ws",rt=this.query||{};return this.opts.timestampRequests&&(rt[this.opts.timestampParam]=randomString$1()),this.supportsBinary||(rt.b64=1),this.createUri(et,rt)}}const WebSocketCtor=globalThisShim.WebSocket||globalThisShim.MozWebSocket;let WS$1=class extends BaseWS{createSocket(et,rt,nt){return isReactNative$1?new WebSocketCtor(et,rt,nt):rt?new WebSocketCtor(et,rt):new WebSocketCtor(et)}doWrite(et,rt){this.ws.send(rt)}};class WT extends Transport{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(et){return this.emitReserved("error",et)}this._transport.closed.then(()=>{this.onClose()}).catch(et=>{this.onError("webtransport error",et)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(et=>{const rt=createPacketDecoderStream(Number.MAX_SAFE_INTEGER,this.socket.binaryType),nt=et.readable.pipeThrough(rt).getReader(),st=createPacketEncoderStream();st.readable.pipeTo(et.writable),this._writer=st.writable.getWriter();const it=()=>{nt.read().then(({done:ot,value:lt})=>{ot||(this.onPacket(lt),it())}).catch(ot=>{})};it();const at={type:"open"};this.query.sid&&(at.data=`{"sid":"${this.query.sid}"}`),this._writer.write(at).then(()=>this.onOpen())})})}write(et){this.writable=!1;for(let rt=0;rt<et.length;rt++){const nt=et[rt],st=rt===et.length-1;this._writer.write(nt).then(()=>{st&&nextTick(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var et;(et=this._transport)===null||et===void 0||et.close()}}const transports={websocket:WS$1,webtransport:WT,polling:XHR},re$3=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,parts=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function parse$1(_e){if(_e.length>8e3)throw"URI too long";const et=_e,rt=_e.indexOf("["),nt=_e.indexOf("]");rt!=-1&&nt!=-1&&(_e=_e.substring(0,rt)+_e.substring(rt,nt).replace(/:/g,";")+_e.substring(nt,_e.length));let st=re$3.exec(_e||""),it={},at=14;for(;at--;)it[parts[at]]=st[at]||"";return rt!=-1&&nt!=-1&&(it.source=et,it.host=it.host.substring(1,it.host.length-1).replace(/;/g,":"),it.authority=it.authority.replace("[","").replace("]","").replace(/;/g,":"),it.ipv6uri=!0),it.pathNames=pathNames(it,it.path),it.queryKey=queryKey(it,it.query),it}function pathNames(_e,et){const rt=/\/{2,9}/g,nt=et.replace(rt,"/").split("/");return(et.slice(0,1)=="/"||et.length===0)&&nt.splice(0,1),et.slice(-1)=="/"&&nt.splice(nt.length-1,1),nt}function queryKey(_e,et){const rt={};return et.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(nt,st,it){st&&(rt[st]=it)}),rt}const withEventListeners=typeof addEventListener=="function"&&typeof removeEventListener=="function",OFFLINE_EVENT_LISTENERS=[];withEventListeners&&addEventListener("offline",()=>{OFFLINE_EVENT_LISTENERS.forEach(_e=>_e())},!1);class SocketWithoutUpgrade extends Emitter{constructor(et,rt){if(super(),this.binaryType=defaultBinaryType,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,et&&typeof et=="object"&&(rt=et,et=null),et){const nt=parse$1(et);rt.hostname=nt.host,rt.secure=nt.protocol==="https"||nt.protocol==="wss",rt.port=nt.port,nt.query&&(rt.query=nt.query)}else rt.host&&(rt.hostname=parse$1(rt.host).host);installTimerFunctions(this,rt),this.secure=rt.secure!=null?rt.secure:typeof location<"u"&&location.protocol==="https:",rt.hostname&&!rt.port&&(rt.port=this.secure?"443":"80"),this.hostname=rt.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=rt.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},rt.transports.forEach(nt=>{const st=nt.prototype.name;this.transports.push(st),this._transportsByName[st]=nt}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},rt),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=decode$1(this.opts.query)),withEventListeners&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},OFFLINE_EVENT_LISTENERS.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(et){const rt=Object.assign({},this.opts.query);rt.EIO=protocol$1,rt.transport=et,this.id&&(rt.sid=this.id);const nt=Object.assign({},this.opts,{query:rt,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[et]);return new this._transportsByName[et](nt)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const et=this.opts.rememberUpgrade&&SocketWithoutUpgrade.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const rt=this.createTransport(et);rt.open(),this.setTransport(rt)}setTransport(et){this.transport&&this.transport.removeAllListeners(),this.transport=et,et.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",rt=>this._onClose("transport close",rt))}onOpen(){this.readyState="open",SocketWithoutUpgrade.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(et){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",et),this.emitReserved("heartbeat"),et.type){case"open":this.onHandshake(JSON.parse(et.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const rt=new Error("server error");rt.code=et.data,this._onError(rt);break;case"message":this.emitReserved("data",et.data),this.emitReserved("message",et.data);break}}onHandshake(et){this.emitReserved("handshake",et),this.id=et.sid,this.transport.query.sid=et.sid,this._pingInterval=et.pingInterval,this._pingTimeout=et.pingTimeout,this._maxPayload=et.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const et=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+et,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},et),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const et=this._getWritablePackets();this.transport.send(et),this._prevBufferLen=et.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let rt=1;for(let nt=0;nt<this.writeBuffer.length;nt++){const st=this.writeBuffer[nt].data;if(st&&(rt+=byteLength(st)),nt>0&&rt>this._maxPayload)return this.writeBuffer.slice(0,nt);rt+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const et=Date.now()>this._pingTimeoutTime;return et&&(this._pingTimeoutTime=0,nextTick(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),et}write(et,rt,nt){return this._sendPacket("message",et,rt,nt),this}send(et,rt,nt){return this._sendPacket("message",et,rt,nt),this}_sendPacket(et,rt,nt,st){if(typeof rt=="function"&&(st=rt,rt=void 0),typeof nt=="function"&&(st=nt,nt=null),this.readyState==="closing"||this.readyState==="closed")return;nt=nt||{},nt.compress=nt.compress!==!1;const it={type:et,data:rt,options:nt};this.emitReserved("packetCreate",it),this.writeBuffer.push(it),st&&this.once("flush",st),this.flush()}close(){const et=()=>{this._onClose("forced close"),this.transport.close()},rt=()=>{this.off("upgrade",rt),this.off("upgradeError",rt),et()},nt=()=>{this.once("upgrade",rt),this.once("upgradeError",rt)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?nt():et()}):this.upgrading?nt():et()),this}_onError(et){if(SocketWithoutUpgrade.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",et),this._onClose("transport error",et)}_onClose(et,rt){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),withEventListeners&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const nt=OFFLINE_EVENT_LISTENERS.indexOf(this._offlineEventListener);nt!==-1&&OFFLINE_EVENT_LISTENERS.splice(nt,1)}this.readyState="closed",this.id=null,this.emitReserved("close",et,rt),this.writeBuffer=[],this._prevBufferLen=0}}}SocketWithoutUpgrade.protocol=protocol$1;class SocketWithUpgrade extends SocketWithoutUpgrade{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let et=0;et<this._upgrades.length;et++)this._probe(this._upgrades[et])}_probe(et){let rt=this.createTransport(et),nt=!1;SocketWithoutUpgrade.priorWebsocketSuccess=!1;const st=()=>{nt||(rt.send([{type:"ping",data:"probe"}]),rt.once("packet",dt=>{if(!nt)if(dt.type==="pong"&&dt.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",rt),!rt)return;SocketWithoutUpgrade.priorWebsocketSuccess=rt.name==="websocket",this.transport.pause(()=>{nt||this.readyState!=="closed"&&(ut(),this.setTransport(rt),rt.send([{type:"upgrade"}]),this.emitReserved("upgrade",rt),rt=null,this.upgrading=!1,this.flush())})}else{const pt=new Error("probe error");pt.transport=rt.name,this.emitReserved("upgradeError",pt)}}))};function it(){nt||(nt=!0,ut(),rt.close(),rt=null)}const at=dt=>{const pt=new Error("probe error: "+dt);pt.transport=rt.name,it(),this.emitReserved("upgradeError",pt)};function ot(){at("transport closed")}function lt(){at("socket closed")}function ct(dt){rt&&dt.name!==rt.name&&it()}const ut=()=>{rt.removeListener("open",st),rt.removeListener("error",at),rt.removeListener("close",ot),this.off("close",lt),this.off("upgrading",ct)};rt.once("open",st),rt.once("error",at),rt.once("close",ot),this.once("close",lt),this.once("upgrading",ct),this._upgrades.indexOf("webtransport")!==-1&&et!=="webtransport"?this.setTimeoutFn(()=>{nt||rt.open()},200):rt.open()}onHandshake(et){this._upgrades=this._filterUpgrades(et.upgrades),super.onHandshake(et)}_filterUpgrades(et){const rt=[];for(let nt=0;nt<et.length;nt++)~this.transports.indexOf(et[nt])&&rt.push(et[nt]);return rt}}let Socket$1=class extends SocketWithUpgrade{constructor(et,rt={}){const nt=typeof et=="object"?et:rt;(!nt.transports||nt.transports&&typeof nt.transports[0]=="string")&&(nt.transports=(nt.transports||["polling","websocket","webtransport"]).map(st=>transports[st]).filter(st=>!!st)),super(et,nt)}};function url(_e,et="",rt){let nt=_e;rt=rt||typeof location<"u"&&location,_e==null&&(_e=rt.protocol+"//"+rt.host),typeof _e=="string"&&(_e.charAt(0)==="/"&&(_e.charAt(1)==="/"?_e=rt.protocol+_e:_e=rt.host+_e),/^(https?|wss?):\/\//.test(_e)||(typeof rt<"u"?_e=rt.protocol+"//"+_e:_e="https://"+_e),nt=parse$1(_e)),nt.port||(/^(http|ws)$/.test(nt.protocol)?nt.port="80":/^(http|ws)s$/.test(nt.protocol)&&(nt.port="443")),nt.path=nt.path||"/";const it=nt.host.indexOf(":")!==-1?"["+nt.host+"]":nt.host;return nt.id=nt.protocol+"://"+it+":"+nt.port+et,nt.href=nt.protocol+"://"+it+(rt&&rt.port===nt.port?"":":"+nt.port),nt}const withNativeArrayBuffer=typeof ArrayBuffer=="function",isView=_e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(_e):_e.buffer instanceof ArrayBuffer,toString$5=Object.prototype.toString,withNativeBlob=typeof Blob=="function"||typeof Blob<"u"&&toString$5.call(Blob)==="[object BlobConstructor]",withNativeFile=typeof File=="function"||typeof File<"u"&&toString$5.call(File)==="[object FileConstructor]";function isBinary(_e){return withNativeArrayBuffer&&(_e instanceof ArrayBuffer||isView(_e))||withNativeBlob&&_e instanceof Blob||withNativeFile&&_e instanceof File}function hasBinary(_e,et){if(!_e||typeof _e!="object")return!1;if(Array.isArray(_e)){for(let rt=0,nt=_e.length;rt<nt;rt++)if(hasBinary(_e[rt]))return!0;return!1}if(isBinary(_e))return!0;if(_e.toJSON&&typeof _e.toJSON=="function"&&arguments.length===1)return hasBinary(_e.toJSON(),!0);for(const rt in _e)if(Object.prototype.hasOwnProperty.call(_e,rt)&&hasBinary(_e[rt]))return!0;return!1}function deconstructPacket(_e){const et=[],rt=_e.data,nt=_e;return nt.data=_deconstructPacket(rt,et),nt.attachments=et.length,{packet:nt,buffers:et}}function _deconstructPacket(_e,et){if(!_e)return _e;if(isBinary(_e)){const rt={_placeholder:!0,num:et.length};return et.push(_e),rt}else if(Array.isArray(_e)){const rt=new Array(_e.length);for(let nt=0;nt<_e.length;nt++)rt[nt]=_deconstructPacket(_e[nt],et);return rt}else if(typeof _e=="object"&&!(_e instanceof Date)){const rt={};for(const nt in _e)Object.prototype.hasOwnProperty.call(_e,nt)&&(rt[nt]=_deconstructPacket(_e[nt],et));return rt}return _e}function reconstructPacket(_e,et){return _e.data=_reconstructPacket(_e.data,et),delete _e.attachments,_e}function _reconstructPacket(_e,et){if(!_e)return _e;if(_e&&_e._placeholder===!0){if(typeof _e.num=="number"&&_e.num>=0&&_e.num<et.length)return et[_e.num];throw new Error("illegal attachments")}else if(Array.isArray(_e))for(let rt=0;rt<_e.length;rt++)_e[rt]=_reconstructPacket(_e[rt],et);else if(typeof _e=="object")for(const rt in _e)Object.prototype.hasOwnProperty.call(_e,rt)&&(_e[rt]=_reconstructPacket(_e[rt],et));return _e}const RESERVED_EVENTS$1=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],protocol=5;var PacketType;(function(_e){_e[_e.CONNECT=0]="CONNECT",_e[_e.DISCONNECT=1]="DISCONNECT",_e[_e.EVENT=2]="EVENT",_e[_e.ACK=3]="ACK",_e[_e.CONNECT_ERROR=4]="CONNECT_ERROR",_e[_e.BINARY_EVENT=5]="BINARY_EVENT",_e[_e.BINARY_ACK=6]="BINARY_ACK"})(PacketType||(PacketType={}));class Encoder{constructor(et){this.replacer=et}encode(et){return(et.type===PacketType.EVENT||et.type===PacketType.ACK)&&hasBinary(et)?this.encodeAsBinary({type:et.type===PacketType.EVENT?PacketType.BINARY_EVENT:PacketType.BINARY_ACK,nsp:et.nsp,data:et.data,id:et.id}):[this.encodeAsString(et)]}encodeAsString(et){let rt=""+et.type;return(et.type===PacketType.BINARY_EVENT||et.type===PacketType.BINARY_ACK)&&(rt+=et.attachments+"-"),et.nsp&&et.nsp!=="/"&&(rt+=et.nsp+","),et.id!=null&&(rt+=et.id),et.data!=null&&(rt+=JSON.stringify(et.data,this.replacer)),rt}encodeAsBinary(et){const rt=deconstructPacket(et),nt=this.encodeAsString(rt.packet),st=rt.buffers;return st.unshift(nt),st}}class Decoder extends Emitter{constructor(et){super(),this.reviver=et}add(et){let rt;if(typeof et=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");rt=this.decodeString(et);const nt=rt.type===PacketType.BINARY_EVENT;nt||rt.type===PacketType.BINARY_ACK?(rt.type=nt?PacketType.EVENT:PacketType.ACK,this.reconstructor=new BinaryReconstructor(rt),rt.attachments===0&&super.emitReserved("decoded",rt)):super.emitReserved("decoded",rt)}else if(isBinary(et)||et.base64)if(this.reconstructor)rt=this.reconstructor.takeBinaryData(et),rt&&(this.reconstructor=null,super.emitReserved("decoded",rt));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+et)}decodeString(et){let rt=0;const nt={type:Number(et.charAt(0))};if(PacketType[nt.type]===void 0)throw new Error("unknown packet type "+nt.type);if(nt.type===PacketType.BINARY_EVENT||nt.type===PacketType.BINARY_ACK){const it=rt+1;for(;et.charAt(++rt)!=="-"&&rt!=et.length;);const at=et.substring(it,rt);if(at!=Number(at)||et.charAt(rt)!=="-")throw new Error("Illegal attachments");nt.attachments=Number(at)}if(et.charAt(rt+1)==="/"){const it=rt+1;for(;++rt&&!(et.charAt(rt)===","||rt===et.length););nt.nsp=et.substring(it,rt)}else nt.nsp="/";const st=et.charAt(rt+1);if(st!==""&&Number(st)==st){const it=rt+1;for(;++rt;){const at=et.charAt(rt);if(at==null||Number(at)!=at){--rt;break}if(rt===et.length)break}nt.id=Number(et.substring(it,rt+1))}if(et.charAt(++rt)){const it=this.tryParse(et.substr(rt));if(Decoder.isPayloadValid(nt.type,it))nt.data=it;else throw new Error("invalid payload")}return nt}tryParse(et){try{return JSON.parse(et,this.reviver)}catch{return!1}}static isPayloadValid(et,rt){switch(et){case PacketType.CONNECT:return isObject$2(rt);case PacketType.DISCONNECT:return rt===void 0;case PacketType.CONNECT_ERROR:return typeof rt=="string"||isObject$2(rt);case PacketType.EVENT:case PacketType.BINARY_EVENT:return Array.isArray(rt)&&(typeof rt[0]=="number"||typeof rt[0]=="string"&&RESERVED_EVENTS$1.indexOf(rt[0])===-1);case PacketType.ACK:case PacketType.BINARY_ACK:return Array.isArray(rt)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class BinaryReconstructor{constructor(et){this.packet=et,this.buffers=[],this.reconPack=et}takeBinaryData(et){if(this.buffers.push(et),this.buffers.length===this.reconPack.attachments){const rt=reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),rt}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function isNamespaceValid(_e){return typeof _e=="string"}const isInteger=Number.isInteger||function(_e){return typeof _e=="number"&&isFinite(_e)&&Math.floor(_e)===_e};function isAckIdValid(_e){return _e===void 0||isInteger(_e)}function isObject$2(_e){return Object.prototype.toString.call(_e)==="[object Object]"}function isDataValid(_e,et){switch(_e){case PacketType.CONNECT:return et===void 0||isObject$2(et);case PacketType.DISCONNECT:return et===void 0;case PacketType.EVENT:return Array.isArray(et)&&(typeof et[0]=="number"||typeof et[0]=="string"&&RESERVED_EVENTS$1.indexOf(et[0])===-1);case PacketType.ACK:return Array.isArray(et);case PacketType.CONNECT_ERROR:return typeof et=="string"||isObject$2(et);default:return!1}}function isPacketValid(_e){return isNamespaceValid(_e.nsp)&&isAckIdValid(_e.id)&&isDataValid(_e.type,_e.data)}const parser=Object.freeze(Object.defineProperty({__proto__:null,Decoder,Encoder,get PacketType(){return PacketType},isPacketValid,protocol},Symbol.toStringTag,{value:"Module"}));function on(_e,et,rt){return _e.on(et,rt),function(){_e.off(et,rt)}}const RESERVED_EVENTS=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Socket extends Emitter{constructor(et,rt,nt){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=et,this.nsp=rt,nt&&nt.auth&&(this.auth=nt.auth),this._opts=Object.assign({},nt),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const et=this.io;this.subs=[on(et,"open",this.onopen.bind(this)),on(et,"packet",this.onpacket.bind(this)),on(et,"error",this.onerror.bind(this)),on(et,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...et){return et.unshift("message"),this.emit.apply(this,et),this}emit(et,...rt){var nt,st,it;if(RESERVED_EVENTS.hasOwnProperty(et))throw new Error('"'+et.toString()+'" is a reserved event name');if(rt.unshift(et),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(rt),this;const at={type:PacketType.EVENT,data:rt};if(at.options={},at.options.compress=this.flags.compress!==!1,typeof rt[rt.length-1]=="function"){const ut=this.ids++,dt=rt.pop();this._registerAckCallback(ut,dt),at.id=ut}const ot=(st=(nt=this.io.engine)===null||nt===void 0?void 0:nt.transport)===null||st===void 0?void 0:st.writable,lt=this.connected&&!(!((it=this.io.engine)===null||it===void 0)&&it._hasPingExpired());return this.flags.volatile&&!ot||(lt?(this.notifyOutgoingListeners(at),this.packet(at)):this.sendBuffer.push(at)),this.flags={},this}_registerAckCallback(et,rt){var nt;const st=(nt=this.flags.timeout)!==null&&nt!==void 0?nt:this._opts.ackTimeout;if(st===void 0){this.acks[et]=rt;return}const it=this.io.setTimeoutFn(()=>{delete this.acks[et];for(let ot=0;ot<this.sendBuffer.length;ot++)this.sendBuffer[ot].id===et&&this.sendBuffer.splice(ot,1);rt.call(this,new Error("operation has timed out"))},st),at=(...ot)=>{this.io.clearTimeoutFn(it),rt.apply(this,ot)};at.withError=!0,this.acks[et]=at}emitWithAck(et,...rt){return new Promise((nt,st)=>{const it=(at,ot)=>at?st(at):nt(ot);it.withError=!0,rt.push(it),this.emit(et,...rt)})}_addToQueue(et){let rt;typeof et[et.length-1]=="function"&&(rt=et.pop());const nt={id:this._queueSeq++,tryCount:0,pending:!1,args:et,flags:Object.assign({fromQueue:!0},this.flags)};et.push((st,...it)=>(this._queue[0],st!==null?nt.tryCount>this._opts.retries&&(this._queue.shift(),rt&&rt(st)):(this._queue.shift(),rt&&rt(null,...it)),nt.pending=!1,this._drainQueue())),this._queue.push(nt),this._drainQueue()}_drainQueue(et=!1){if(!this.connected||this._queue.length===0)return;const rt=this._queue[0];rt.pending&&!et||(rt.pending=!0,rt.tryCount++,this.flags=rt.flags,this.emit.apply(this,rt.args))}packet(et){et.nsp=this.nsp,this.io._packet(et)}onopen(){typeof this.auth=="function"?this.auth(et=>{this._sendConnectPacket(et)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(et){this.packet({type:PacketType.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},et):et})}onerror(et){this.connected||this.emitReserved("connect_error",et)}onclose(et,rt){this.connected=!1,delete this.id,this.emitReserved("disconnect",et,rt),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(et=>{if(!this.sendBuffer.some(nt=>String(nt.id)===et)){const nt=this.acks[et];delete this.acks[et],nt.withError&&nt.call(this,new Error("socket has been disconnected"))}})}onpacket(et){if(et.nsp===this.nsp)switch(et.type){case PacketType.CONNECT:et.data&&et.data.sid?this.onconnect(et.data.sid,et.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case PacketType.EVENT:case PacketType.BINARY_EVENT:this.onevent(et);break;case PacketType.ACK:case PacketType.BINARY_ACK:this.onack(et);break;case PacketType.DISCONNECT:this.ondisconnect();break;case PacketType.CONNECT_ERROR:this.destroy();const nt=new Error(et.data.message);nt.data=et.data.data,this.emitReserved("connect_error",nt);break}}onevent(et){const rt=et.data||[];et.id!=null&&rt.push(this.ack(et.id)),this.connected?this.emitEvent(rt):this.receiveBuffer.push(Object.freeze(rt))}emitEvent(et){if(this._anyListeners&&this._anyListeners.length){const rt=this._anyListeners.slice();for(const nt of rt)nt.apply(this,et)}super.emit.apply(this,et),this._pid&&et.length&&typeof et[et.length-1]=="string"&&(this._lastOffset=et[et.length-1])}ack(et){const rt=this;let nt=!1;return function(...st){nt||(nt=!0,rt.packet({type:PacketType.ACK,id:et,data:st}))}}onack(et){const rt=this.acks[et.id];typeof rt=="function"&&(delete this.acks[et.id],rt.withError&&et.data.unshift(null),rt.apply(this,et.data))}onconnect(et,rt){this.id=et,this.recovered=rt&&this._pid===rt,this._pid=rt,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(et=>this.emitEvent(et)),this.receiveBuffer=[],this.sendBuffer.forEach(et=>{this.notifyOutgoingListeners(et),this.packet(et)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(et=>et()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:PacketType.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(et){return this.flags.compress=et,this}get volatile(){return this.flags.volatile=!0,this}timeout(et){return this.flags.timeout=et,this}onAny(et){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(et),this}prependAny(et){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(et),this}offAny(et){if(!this._anyListeners)return this;if(et){const rt=this._anyListeners;for(let nt=0;nt<rt.length;nt++)if(et===rt[nt])return rt.splice(nt,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(et){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(et),this}prependAnyOutgoing(et){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(et),this}offAnyOutgoing(et){if(!this._anyOutgoingListeners)return this;if(et){const rt=this._anyOutgoingListeners;for(let nt=0;nt<rt.length;nt++)if(et===rt[nt])return rt.splice(nt,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(et){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const rt=this._anyOutgoingListeners.slice();for(const nt of rt)nt.apply(this,et.data)}}}function Backoff(_e){_e=_e||{},this.ms=_e.min||100,this.max=_e.max||1e4,this.factor=_e.factor||2,this.jitter=_e.jitter>0&&_e.jitter<=1?_e.jitter:0,this.attempts=0}Backoff.prototype.duration=function(){var _e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var et=Math.random(),rt=Math.floor(et*this.jitter*_e);_e=Math.floor(et*10)&1?_e+rt:_e-rt}return Math.min(_e,this.max)|0};Backoff.prototype.reset=function(){this.attempts=0};Backoff.prototype.setMin=function(_e){this.ms=_e};Backoff.prototype.setMax=function(_e){this.max=_e};Backoff.prototype.setJitter=function(_e){this.jitter=_e};class Manager extends Emitter{constructor(et,rt){var nt;super(),this.nsps={},this.subs=[],et&&typeof et=="object"&&(rt=et,et=void 0),rt=rt||{},rt.path=rt.path||"/socket.io",this.opts=rt,installTimerFunctions(this,rt),this.reconnection(rt.reconnection!==!1),this.reconnectionAttempts(rt.reconnectionAttempts||1/0),this.reconnectionDelay(rt.reconnectionDelay||1e3),this.reconnectionDelayMax(rt.reconnectionDelayMax||5e3),this.randomizationFactor((nt=rt.randomizationFactor)!==null&&nt!==void 0?nt:.5),this.backoff=new Backoff({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(rt.timeout==null?2e4:rt.timeout),this._readyState="closed",this.uri=et;const st=rt.parser||parser;this.encoder=new st.Encoder,this.decoder=new st.Decoder,this._autoConnect=rt.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(et){return arguments.length?(this._reconnection=!!et,et||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(et){return et===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=et,this)}reconnectionDelay(et){var rt;return et===void 0?this._reconnectionDelay:(this._reconnectionDelay=et,(rt=this.backoff)===null||rt===void 0||rt.setMin(et),this)}randomizationFactor(et){var rt;return et===void 0?this._randomizationFactor:(this._randomizationFactor=et,(rt=this.backoff)===null||rt===void 0||rt.setJitter(et),this)}reconnectionDelayMax(et){var rt;return et===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=et,(rt=this.backoff)===null||rt===void 0||rt.setMax(et),this)}timeout(et){return arguments.length?(this._timeout=et,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(et){if(~this._readyState.indexOf("open"))return this;this.engine=new Socket$1(this.uri,this.opts);const rt=this.engine,nt=this;this._readyState="opening",this.skipReconnect=!1;const st=on(rt,"open",function(){nt.onopen(),et&&et()}),it=ot=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",ot),et?et(ot):this.maybeReconnectOnOpen()},at=on(rt,"error",it);if(this._timeout!==!1){const ot=this._timeout,lt=this.setTimeoutFn(()=>{st(),it(new Error("timeout")),rt.close()},ot);this.opts.autoUnref&&lt.unref(),this.subs.push(()=>{this.clearTimeoutFn(lt)})}return this.subs.push(st),this.subs.push(at),this}connect(et){return this.open(et)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const et=this.engine;this.subs.push(on(et,"ping",this.onping.bind(this)),on(et,"data",this.ondata.bind(this)),on(et,"error",this.onerror.bind(this)),on(et,"close",this.onclose.bind(this)),on(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(et){try{this.decoder.add(et)}catch(rt){this.onclose("parse error",rt)}}ondecoded(et){nextTick(()=>{this.emitReserved("packet",et)},this.setTimeoutFn)}onerror(et){this.emitReserved("error",et)}socket(et,rt){let nt=this.nsps[et];return nt?this._autoConnect&&!nt.active&&nt.connect():(nt=new Socket(this,et,rt),this.nsps[et]=nt),nt}_destroy(et){const rt=Object.keys(this.nsps);for(const nt of rt)if(this.nsps[nt].active)return;this._close()}_packet(et){const rt=this.encoder.encode(et);for(let nt=0;nt<rt.length;nt++)this.engine.write(rt[nt],et.options)}cleanup(){this.subs.forEach(et=>et()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(et,rt){var nt;this.cleanup(),(nt=this.engine)===null||nt===void 0||nt.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",et,rt),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const et=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const rt=this.backoff.duration();this._reconnecting=!0;const nt=this.setTimeoutFn(()=>{et.skipReconnect||(this.emitReserved("reconnect_attempt",et.backoff.attempts),!et.skipReconnect&&et.open(st=>{st?(et._reconnecting=!1,et.reconnect(),this.emitReserved("reconnect_error",st)):et.onreconnect()}))},rt);this.opts.autoUnref&&nt.unref(),this.subs.push(()=>{this.clearTimeoutFn(nt)})}}onreconnect(){const et=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",et)}}const cache={};function lookup(_e,et){typeof _e=="object"&&(et=_e,_e=void 0),et=et||{};const rt=url(_e,et.path||"/socket.io"),nt=rt.source,st=rt.id,it=rt.path,at=cache[st]&&it in cache[st].nsps,ot=et.forceNew||et["force new connection"]||et.multiplex===!1||at;let lt;return ot?lt=new Manager(nt,et):(cache[st]||(cache[st]=new Manager(nt,et)),lt=cache[st]),rt.query&&!et.query&&(et.query=rt.queryKey),lt.socket(rt.path,et)}Object.assign(lookup,{Manager,Socket,io:lookup,connect:lookup});const SOCKET_URL="https://webbanquanao-1.onrender.com/api".replace("/api","")||"http://localhost:4000",SocketContext=reactExports.createContext(null);function SocketProvider({children:_e}){const[et,rt]=reactExports.useState(null),[nt,st]=reactExports.useState(!1),[it,at]=reactExports.useState(!1),[ot,lt]=reactExports.useState(!1),{isAuthenticated:ct}=useAuth(),[ut,dt]=reactExports.useState(null),[pt,mt]=reactExports.useState({}),[xt,yt]=reactExports.useState([]),[vt,gt]=reactExports.useState(null),Et=ut?pt[ut]||[]:[],[jt,kt]=reactExports.useState([]),[Rt,St]=reactExports.useState(0),[_t,Nt]=reactExports.useState([]);reactExports.useEffect(()=>{const At=localStorage.getItem("chat_conversation_id");At&&et&&et.emit("check-active-conversation",{conversationId:At})},[et]);const Lt=reactExports.useRef(ut);reactExports.useEffect(()=>{Lt.current=ut},[ut]),reactExports.useEffect(()=>{const At=localStorage.getItem("token"),Ht=lookup(SOCKET_URL,{auth:{token:At},transports:["websocket","polling"],reconnection:!0,reconnectionAttempts:5,reconnectionDelay:1e3});return Ht.on("connect",()=>{st(!0),console.log("[Socket] Connected to server");const Gt=localStorage.getItem("chat_conversation_id");Ht.emit("check-active-conversation",{conversationId:Gt})}),Ht.on("disconnect",()=>{st(!1),lt(!1),console.log("[Socket] Disconnected from server")}),Ht.on("force_logout",Gt=>{n$8.error(Gt.message||"Phin ng nhp  ht hn"),localStorage.removeItem("token"),localStorage.removeItem("user"),setTimeout(()=>{window.location.href="/login"},1500)}),Ht.on("support-started",Gt=>{dt(Gt.conversationId),at(!0),mt(Vt=>({...Vt,[Gt.conversationId]:[]})),localStorage.setItem("chat_conversation_id",Gt.conversationId)}),Ht.on("new-message",Gt=>{console.log("[Socket] New message received:",Gt),mt(Vt=>{const Jt=Gt.conversationId,rr=Vt[Jt]||[];return rr.some(ar=>ar.id===Gt.id)?(console.log("[Socket] Duplicate message ignored:",Gt.id),Vt):{...Vt,[Jt]:[...rr,{...Gt,createdAt:new Date(Gt.createdAt)}]}}),yt(Vt=>Vt.map(Jt=>Jt.id===Gt.conversationId?{...Jt,lastMessage:Gt.content,updatedAt:new Date(Gt.createdAt),status:Gt.senderType==="user"?"waiting":Jt.status}:Jt))}),Ht.on("conversation-messages",Gt=>{if(Gt.messages.length>0){const Vt=Gt.conversationId||Gt.messages[0].conversationId;Vt&&mt(Jt=>({...Jt,[Vt]:Gt.messages.map(rr=>({...rr,createdAt:new Date(rr.createdAt)}))}))}else Gt.conversationId&&mt(Vt=>({...Vt,[Gt.conversationId]:[]}))}),Ht.on("conversation-closed",Gt=>{const Vt={id:`system-${Date.now()}`,conversationId:Gt.conversationId,senderType:"system",senderId:null,senderName:"H thng",content:"Cuc hi thoi  c ng.",createdAt:new Date};mt(Jt=>({...Jt,[Gt.conversationId]:[...Jt[Gt.conversationId]||[],Vt]})),localStorage.removeItem("chat_conversation_id"),ut===Gt.conversationId&&setTimeout(()=>{at(!1),dt(null)},3e3),yt(Jt=>Jt.map(rr=>rr.id===Gt.conversationId?{...rr,status:"closed",updatedAt:new Date}:rr))}),Ht.on("user-typing",Gt=>{Gt.isTyping?gt({senderType:Gt.senderType,senderName:Gt.senderName}):gt(null)}),Ht.on("conversations-list",Gt=>{yt(Gt.conversations.map(Vt=>({...Vt,createdAt:new Date(Vt.createdAt),updatedAt:Vt.updatedAt?new Date(Vt.updatedAt):null})))}),Ht.on("new-conversation",Gt=>{yt(Vt=>Vt.find(rr=>rr.id===Gt.id)?Vt:[{...Gt,createdAt:new Date(Gt.createdAt),updatedAt:null},...Vt])}),Ht.on("admin-room-joined",()=>{console.log("[Socket] Admin successfully joined admin-room"),lt(!0)}),Ht.on("error",Gt=>{console.error("[Socket] Error:",Gt.message)}),Ht.on("online-users-update",Gt=>{console.log("[Socket] Online users updated:",Gt),Nt(Gt)}),Ht.on("new-notification",Gt=>{if(console.log("[Socket] New notification received:",Gt),window.dispatchEvent(new CustomEvent("new_notification_received",{detail:Gt})),Gt.type==="order_new"){if(Gt.title==="t hng thnh cng")return;n$8.success(Gt.title,{duration:5e3,position:"top-right",icon:""})}}),rt(Ht),()=>{console.log("[Socket] Cleaning up socket connection..."),Ht.disconnect()}},[ct]);const $t=reactExports.useCallback((At,Ht)=>{et&&et.emit("start-support",{guestName:At,guestEmail:Ht})},[et]),Ft=reactExports.useCallback((At,Ht)=>{const Gt=Ht||ut;et&&Gt&&At.trim()&&et.emit("send-message",{conversationId:Gt,content:At.trim()})},[et,ut]),Tt=reactExports.useCallback((At,Ht)=>{const Gt=Ht||ut;et&&Gt&&et.emit("typing",{conversationId:Gt,isTyping:At})},[et,ut]),Bt=reactExports.useCallback(At=>{et&&(et.emit("join-conversation",{conversationId:At}),dt(At),at(!0),yt(Ht=>Ht.map(Gt=>Gt.id===At?{...Gt,status:"active"}:Gt)))},[et]),Wt=reactExports.useCallback(At=>{et&&et.emit("close-conversation",{conversationId:At})},[et]),qt=reactExports.useCallback(()=>{at(!1),dt(null),mt({})},[]),Ot=reactExports.useCallback(()=>{et&&et.emit("get-conversations")},[et]),Dt=reactExports.useCallback(()=>{et&&(et.emit("join-admin-room"),et.emit("get-conversations"))},[et]),Pt=reactExports.useCallback(At=>{kt(Ht=>{if(Ht.includes(At))return Ht;const Gt=[...Ht,At];return Gt.length>3?Gt.slice(1):Gt}),et&&(et.emit("join-conversation",{conversationId:At}),yt(Ht=>Ht.map(Gt=>Gt.id===At?{...Gt,status:"active"}:Gt)))},[et]),It=reactExports.useCallback(At=>{kt(Ht=>Ht.filter(Gt=>Gt!==At))},[]);return reactExports.useEffect(()=>{const At=xt.filter(Ht=>Ht.status==="waiting").length;St(At)},[xt]),jsxRuntimeExports.jsx(SocketContext.Provider,{value:{socket:et,isConnected:nt,isSupportMode:it,isAdminConnected:ot,conversationId:ut,messages:Et,conversations:xt,typingUser:vt,activeBubbles:jt,unreadCount:Rt,onlineUsers:_t,messagesByConv:pt,startSupport:$t,sendMessage:Ft,setTyping:Tt,joinConversation:Bt,closeConversation:Wt,exitSupport:qt,refreshConversations:Ot,joinAdminRoom:Dt,openBubble:Pt,closeBubble:It},children:_e})}function useSocket(){const _e=reactExports.useContext(SocketContext);if(!_e)throw new Error("useSocket must be used within a SocketProvider");return _e}function SupportChatWidget(){const{user:_e}=useAuth(),{isConnected:et,isSupportMode:rt,messages:nt,typingUser:st,startSupport:it,sendMessage:at,exitSupport:ot,setTyping:lt}=useSocket(),[ct,ut]=reactExports.useState(!1),[dt,pt]=reactExports.useState(""),[mt,xt]=reactExports.useState(""),[yt,vt]=reactExports.useState(!1),gt=reactExports.useRef(null),Et=reactExports.useRef(null);reactExports.useEffect(()=>{gt.current&&gt.current.scrollIntoView({behavior:"smooth"})},[nt]),reactExports.useEffect(()=>{ct&&(Et.current&&Et.current.focus(),setTimeout(()=>{var _t;(_t=gt.current)==null||_t.scrollIntoView({behavior:"auto"})},100))},[ct,rt]);const jt=()=>{const _t=!ct;ut(_t),_t&&(window.dispatchEvent(new CustomEvent("close-ai-chat")),rt||(_e?it():vt(!0))),!_t&&!rt&&vt(!1)};reactExports.useEffect(()=>{const _t=()=>ut(!1);return window.addEventListener("close-support-chat",_t),()=>window.removeEventListener("close-support-chat",_t)},[]);const kt=()=>{if(!_e&&!mt.trim()){vt(!0);return}it(mt||void 0),vt(!1)},Rt=()=>{dt.trim()&&(at(dt),pt(""))},St=_t=>{pt(_t.target.value),lt(_t.target.value.length>0)};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("button",{onClick:jt,className:`fixed bottom-24 right-6 z-50 w-14 h-14 rounded-full shadow-lg flex items-center justify-center transition-all duration-300 ${ct?"bg-secondary-800 rotate-0":"bg-green-600 hover:bg-green-700"}`,"aria-label":ct?"Close support chat":"Open support chat",title:"H tr trc tuyn",children:ct?jsxRuntimeExports.jsx(X$2,{className:"w-6 h-6 text-white"}):jsxRuntimeExports.jsx(Headphones,{className:"w-6 h-6 text-white"})}),ct&&jsxRuntimeExports.jsxs("div",{className:"fixed bottom-24 right-6 z-[100] w-[380px] h-[520px] bg-white dark:bg-secondary-800 rounded-2xl shadow-2xl flex flex-col overflow-hidden animate-slide-up border border-secondary-200 dark:border-secondary-700",children:[jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-r from-green-600 to-teal-600 text-white p-4 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center",children:jsxRuntimeExports.jsx(Headphones,{className:"w-6 h-6"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold",children:"H tr trc tuyn"}),jsxRuntimeExports.jsx("p",{className:"text-xs opacity-75",children:rt?et?st?`${st.senderName} ang nhp...`:"Trc tuyn":"ang ch kt ni...":"Lin h nhn vin h tr"})]})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2",children:jsxRuntimeExports.jsx("button",{onClick:()=>ut(!1),className:"p-1 hover:bg-white/20 rounded-full transition-colors",title:"Thu nh",children:jsxRuntimeExports.jsx(Minus,{className:"w-5 h-5"})})})]}),rt?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-secondary-50 dark:bg-secondary-900",children:[nt.length===0&&jsxRuntimeExports.jsxs("div",{className:"text-center text-secondary-400 py-8",children:[jsxRuntimeExports.jsx("p",{className:"text-sm",children:"ang ch nhn vin h tr..."}),jsxRuntimeExports.jsx("p",{className:"text-xs mt-1",children:"Bn c th gi tin nhn trc"})]}),nt.map(_t=>jsxRuntimeExports.jsxs("div",{className:`flex gap-3 ${_t.senderType==="user"?"justify-end":"justify-start"}`,children:[_t.senderType==="admin"&&jsxRuntimeExports.jsx("div",{className:"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center flex-shrink-0",children:jsxRuntimeExports.jsx(Headphones,{className:"w-4 h-4 text-green-600"})}),jsxRuntimeExports.jsxs("div",{className:`max-w-[75%] ${_t.senderType==="user"?"order-first":""}`,children:[jsxRuntimeExports.jsx("div",{className:`rounded-2xl px-4 py-2.5 ${_t.senderType==="user"?"bg-green-600 text-white rounded-br-md":_t.senderType==="system"?"bg-secondary-200 dark:bg-secondary-700 text-secondary-600 dark:text-secondary-300 italic text-center":"bg-white dark:bg-secondary-800 shadow-sm rounded-bl-md dark:text-white"}`,children:jsxRuntimeExports.jsx("p",{className:"text-sm whitespace-pre-wrap",children:_t.content})}),jsxRuntimeExports.jsx("p",{className:"text-xs text-secondary-400 mt-1",children:_t.createdAt.toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"})})]}),_t.senderType==="user"&&jsxRuntimeExports.jsx("div",{className:"w-8 h-8 rounded-full bg-secondary-200 dark:bg-secondary-700 flex items-center justify-center flex-shrink-0 overflow-hidden",children:_e!=null&&_e.avatar_url?jsxRuntimeExports.jsx("img",{src:_e.avatar_url,alt:"",className:"w-full h-full object-cover"}):jsxRuntimeExports.jsx(User,{className:"w-4 h-4 text-secondary-600 dark:text-secondary-300"})})]},_t.id)),jsxRuntimeExports.jsx("div",{ref:gt})]}),jsxRuntimeExports.jsx("div",{className:"p-4 bg-white dark:bg-secondary-800 border-t border-secondary-200 dark:border-secondary-700",children:jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("input",{ref:Et,type:"text",value:dt,onChange:St,onKeyPress:_t=>_t.key==="Enter"&&Rt(),placeholder:"Nhp tin nhn...",className:"flex-1 px-4 py-2.5 bg-secondary-100 dark:bg-secondary-700 border-0 rounded-full text-sm focus:ring-2 focus:ring-green-500 dark:text-white"}),jsxRuntimeExports.jsx("button",{onClick:Rt,disabled:!dt.trim(),className:"w-10 h-10 bg-green-600 rounded-full flex items-center justify-center text-white hover:bg-green-700 disabled:opacity-50 transition-colors",children:jsxRuntimeExports.jsx(Send,{className:"w-4 h-4"})})]})})]}):jsxRuntimeExports.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-6 bg-secondary-50 dark:bg-secondary-900",children:[jsxRuntimeExports.jsx("div",{className:"w-20 h-20 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mb-4",children:jsxRuntimeExports.jsx(Headphones,{className:"w-10 h-10 text-green-600 dark:text-green-400"})}),!yt&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-bold text-secondary-900 dark:text-white mb-2",children:"Cho mng bn!"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-secondary-500 dark:text-secondary-400 text-center mb-6",children:"Bn cn h tr? Nhn vin ca chng ti sn sng gip  bn."})]}),yt&&!_e&&jsxRuntimeExports.jsxs("div",{className:"w-full mb-4 p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-yellow-800 dark:text-yellow-200 mb-2",children:"Vui lng cho bit tn ca bn:"}),jsxRuntimeExports.jsx("input",{type:"text",value:mt,onChange:_t=>xt(_t.target.value),placeholder:"Nhp tn ca bn...",className:"w-full px-3 py-2 rounded-lg border border-yellow-200 dark:border-yellow-700 text-sm focus:ring-2 focus:ring-yellow-500 dark:bg-secondary-700 dark:text-white mb-2",autoFocus:!0})]}),jsxRuntimeExports.jsxs("button",{onClick:kt,disabled:yt&&!mt.trim(),className:"px-6 py-3 bg-green-600 text-white rounded-full font-medium hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[jsxRuntimeExports.jsx(Headphones,{className:"w-5 h-5"}),"Bt u tr chuyn"]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-secondary-400 mt-4",children:et?" Sn sng kt ni":" ang kt ni..."})]})]})]})}function Layout(){return jsxRuntimeExports.jsxs("div",{className:"min-h-screen flex flex-col",children:[jsxRuntimeExports.jsx(Header,{}),jsxRuntimeExports.jsx("main",{className:"flex-1",children:jsxRuntimeExports.jsx(Outlet,{})}),jsxRuntimeExports.jsx(Footer,{}),jsxRuntimeExports.jsx(ChatWidget,{}),jsxRuntimeExports.jsx(SupportChatWidget,{})]})}function HeroSection({banner:_e}){var at;const[et,rt]=reactExports.useState(0),nt=(at=_e==null?void 0:_e.banner_images)!=null&&at.length?_e.banner_images.map(ot=>ot.image_url):_e!=null&&_e.image_url?[_e.image_url]:[];reactExports.useEffect(()=>{if(nt.length<=1)return;const ot=setInterval(()=>{rt(lt=>(lt+1)%nt.length)},5e3);return()=>clearInterval(ot)},[nt.length]);const st=()=>{rt(ot=>(ot+1)%nt.length)},it=()=>{rt(ot=>ot===0?nt.length-1:ot-1)};return!_e&&nt.length===0?jsxRuntimeExports.jsx("section",{className:"relative h-[500px] md:h-[600px] lg:h-[700px] bg-secondary-100"}):jsxRuntimeExports.jsxs("section",{className:"relative w-full h-[500px] md:h-[600px] lg:h-[700px] overflow-hidden group",children:[nt.map((ot,lt)=>jsxRuntimeExports.jsxs("div",{className:`absolute inset-0 transition-opacity duration-1000 ease-in-out ${lt===et?"opacity-100":"opacity-0"}`,children:[jsxRuntimeExports.jsx("img",{src:ot,alt:(_e==null?void 0:_e.title)||"Hero Banner",className:"w-full h-full object-cover object-top"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-black/20"})," "]},lt)),nt.length>1&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("button",{onClick:it,className:"absolute left-4 top-1/2 -translate-y-1/2 bg-white/10 hover:bg-white/30 text-white p-2 rounded-full backdrop-blur-sm opacity-0 group-hover:opacity-100 transition-all duration-300 z-20",children:jsxRuntimeExports.jsx(ArrowLeft,{className:"w-6 h-6"})}),jsxRuntimeExports.jsx("button",{onClick:st,className:"absolute right-4 top-1/2 -translate-y-1/2 bg-white/10 hover:bg-white/30 text-white p-2 rounded-full backdrop-blur-sm opacity-0 group-hover:opacity-100 transition-all duration-300 z-20",children:jsxRuntimeExports.jsx(ArrowRight,{className:"w-6 h-6"})}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-6 left-1/2 -translate-x-1/2 flex gap-2 z-20",children:nt.map((ot,lt)=>jsxRuntimeExports.jsx("button",{onClick:()=>rt(lt),className:`w-2 h-2 rounded-full transition-all duration-300 ${lt===et?"bg-white w-6":"bg-white/50 hover:bg-white/80"}`},lt))})]}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 z-10 flex flex-col items-center justify-center text-center px-4 pointer-events-none",children:jsxRuntimeExports.jsx("div",{className:"mt-32 md:mt-0 pointer-events-auto",children:(_e==null?void 0:_e.link_url)&&jsxRuntimeExports.jsx(Link$1,{to:_e.link_url,className:"btn btn-secondary px-8 py-3 text-xs animate-slide-up inline-block",style:{animationDelay:"0.2s"},children:_e.button_text||"Khm Ph Ngay"})})})]})}const Dress=({className:_e,strokeWidth:et=1.5})=>jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:et,strokeLinecap:"round",strokeLinejoin:"round",className:_e,children:[jsxRuntimeExports.jsx("path",{d:"M12 2C9 2 7 3.5 7 5.5V8.5L4 22H20L17 8.5V5.5C17 3.5 15 2 12 2Z"}),jsxRuntimeExports.jsx("path",{d:"M12 2V8.5"}),jsxRuntimeExports.jsx("path",{d:"M7 8.5H17"})]}),getCategoryIcon=_e=>_e.includes("mu")||_e.includes("non")||_e.includes("hat")?{Icon:Crown,animation:"group-hover:animate-bounce"}:_e.includes("kinh")||_e.includes("glasses")?{Icon:Glasses,animation:"group-hover:animate-wiggle"}:_e.includes("giay")||_e.includes("shoes")||_e.includes("dep")?{Icon:Footprints,animation:"group-hover:animate-tada"}:_e.includes("nu")||_e.includes("women")||_e.includes("dam")||_e.includes("vay")?{Icon:Dress,animation:"group-hover:animate-wiggle"}:_e.includes("nam")||_e.includes("men")||_e.includes("ao")?{Icon:Shirt,animation:"group-hover:animate-float"}:_e.includes("tui")||_e.includes("bag")?{Icon:ShoppingBag,animation:"group-hover:animate-rubberBand"}:_e.includes("phu-kien")||_e.includes("accessories")?{Icon:Watch,animation:"group-hover:animate-swing"}:_e.includes("tre-em")||_e.includes("kids")?{Icon:Baby,animation:"group-hover:animate-bounce"}:_e.includes("sale")?{Icon:Tag,animation:"group-hover:animate-swing"}:_e.includes("qua")||_e.includes("gift")?{Icon:Gift,animation:"group-hover:animate-tada"}:_e.includes("moi")||_e.includes("new")?{Icon:Star,animation:"group-hover:animate-spin"}:_e.includes("cao-cap")||_e.includes("premium")?{Icon:Gem,animation:"group-hover:animate-pulse"}:{Icon:Tag,animation:"group-hover:animate-swing"};function CategoryGrid(){const[_e,et]=reactExports.useState([]),[rt,nt]=reactExports.useState(!0);reactExports.useEffect(()=>{(async()=>{try{const at=await categoriesAPI.getAll();at.data.success&&et(at.data.data)}catch(at){console.error("Failed to fetch categories",at)}finally{nt(!1)}})()},[]);const st=[{id:"sale",name:"Sale",slug:"sale",link:"/shop?category=sale",icon:Tag},{id:"new",name:"Mi V",slug:"new-arrivals",link:"/shop?sort=newest",icon:Star}];return rt?jsxRuntimeExports.jsx("div",{className:"py-20 text-center",children:"ang ti danh mc..."}):jsxRuntimeExports.jsxs("section",{className:"py-16 px-4 container-custom",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-12",children:[jsxRuntimeExports.jsx("span",{className:"text-primary-600 text-sm font-medium tracking-wider uppercase",children:"Danh Mc"}),jsxRuntimeExports.jsx("h2",{className:"text-3xl md:text-4xl font-serif font-bold text-secondary-900 dark:text-white mt-2",children:"Khm Ph Phong Cch"})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap justify-center gap-8 md:gap-12",children:[_e.map(it=>{const{Icon:at,animation:ot}=getCategoryIcon(it.slug);return jsxRuntimeExports.jsxs(Link$1,{to:`/shop?category=${it.slug}`,className:"group flex flex-col items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"w-24 h-24 md:w-28 md:h-28 rounded-full border border-dashed border-secondary-300 p-2 group-hover:border-primary-500 transition-colors duration-300",children:jsxRuntimeExports.jsx("div",{className:"w-full h-full rounded-full bg-secondary-50 dark:bg-secondary-800 flex items-center justify-center group-hover:bg-primary-50 dark:group-hover:bg-primary-900/20 transition-colors duration-300",children:jsxRuntimeExports.jsx(at,{strokeWidth:1.5,className:`w-8 h-8 md:w-10 md:h-10 text-secondary-600 dark:text-secondary-300 group-hover:text-primary-600 transition-all duration-300 ${ot}`})})}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-secondary-900 dark:text-secondary-200 uppercase tracking-wide group-hover:text-primary-600 transition-colors",children:it.name})]},it.id)}),st.map(it=>{const{Icon:at,animation:ot}=getCategoryIcon(it.slug);return jsxRuntimeExports.jsxs(Link$1,{to:it.link,className:"group flex flex-col items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"w-24 h-24 md:w-28 md:h-28 rounded-full border border-dashed border-secondary-300 p-2 group-hover:border-primary-500 transition-colors duration-300",children:jsxRuntimeExports.jsx("div",{className:"w-full h-full rounded-full bg-secondary-50 dark:bg-secondary-800 flex items-center justify-center group-hover:bg-primary-50 dark:group-hover:bg-primary-900/20 transition-colors duration-300",children:jsxRuntimeExports.jsx(at,{strokeWidth:1.5,className:`w-8 h-8 md:w-10 md:h-10 text-secondary-600 dark:text-secondary-300 group-hover:text-primary-600 transition-all duration-300 ${ot}`})})}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-secondary-900 dark:text-secondary-200 uppercase tracking-wide group-hover:text-primary-600 transition-colors",children:it.name})]},it.id)})]})]})}function HomePage(){const[_e,et]=reactExports.useState([]),[rt,nt]=reactExports.useState([]),[st,it]=reactExports.useState([]),[at,ot]=reactExports.useState([]),[lt,ct]=reactExports.useState(!0);reactExports.useEffect(()=>{(async()=>{try{const xt=await Promise.allSettled([productsAPI.getNewArrivals(8),productsAPI.getAll({sort:"price_desc",limit:8}),productsAPI.getAll({sort:"discount_desc",limit:8,on_sale:!0}),bannersAPI.getAll({position:"home_hero"})]),[yt,vt,gt,Et]=xt;yt.status==="fulfilled"&&et(yt.value.data.data),vt.status==="fulfilled"&&nt(vt.value.data.data.products),gt.status==="fulfilled"&&it(gt.value.data.data.products),Et.status==="fulfilled"&&Et.value.data.success&&ot(Et.value.data.data)}catch(xt){console.error("Failed to load homepage data:",xt)}finally{ct(!1)}})()},[]);const[ut,dt]=reactExports.useState({hours:4,minutes:23,seconds:15});reactExports.useEffect(()=>{const mt=setInterval(()=>{dt(xt=>xt.seconds>0?{...xt,seconds:xt.seconds-1}:xt.minutes>0?{...xt,minutes:xt.minutes-1,seconds:59}:xt.hours>0?{hours:xt.hours-1,minutes:59,seconds:59}:{hours:4,minutes:23,seconds:15})},1e3);return()=>clearInterval(mt)},[]);const pt=at.length>0?at[0]:null;return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Helmet,{children:[jsxRuntimeExports.jsx("title",{children:"ShopEase - Effortless Sophistication"}),jsxRuntimeExports.jsx("meta",{name:"description",content:"Discover curated fashion collections for the modern minimalist."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-black min-h-screen transition-colors duration-300",children:[jsxRuntimeExports.jsx(HeroSection,{banner:pt}),jsxRuntimeExports.jsx(CategoryGrid,{}),jsxRuntimeExports.jsx("section",{className:"bg-secondary-100 dark:bg-secondary-900 py-20 transition-colors duration-300",children:jsxRuntimeExports.jsxs("div",{className:"container-custom",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-12 gap-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-4xl font-bold text-secondary-900 dark:text-white mb-2",children:"S Kin Flash Sale"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-secondary-600 dark:text-gray-300 font-mono text-sm",children:[jsxRuntimeExports.jsx("span",{children:"Kt thc trong:"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("span",{className:"bg-white dark:bg-secondary-800 dark:text-white px-2 py-1 rounded min-w-[2.5rem] text-center shadow-sm",children:String(ut.hours).padStart(2,"0")})," :",jsxRuntimeExports.jsx("span",{className:"bg-white dark:bg-secondary-800 dark:text-white px-2 py-1 rounded min-w-[2.5rem] text-center shadow-sm",children:String(ut.minutes).padStart(2,"0")})," :",jsxRuntimeExports.jsx("span",{className:"bg-white dark:bg-secondary-800 dark:text-white px-2 py-1 rounded min-w-[2.5rem] text-center shadow-sm",children:String(ut.seconds).padStart(2,"0")})]})]})]}),jsxRuntimeExports.jsx(Link$1,{to:"/shop?sort=discount",className:"text-xs uppercase tracking-widest border-b border-black dark:border-white pb-1 hover:text-secondary-600 dark:hover:text-gray-300 dark:text-white transition-colors",children:"Xem u i"})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:st.slice(0,4).map(mt=>{var xt,yt,vt;return jsxRuntimeExports.jsxs(Link$1,{to:`/products/${mt.slug}`,className:"group",children:[jsxRuntimeExports.jsxs("div",{className:"relative aspect-square bg-white dark:bg-secondary-800 mb-4 overflow-hidden rounded-lg",children:[jsxRuntimeExports.jsxs("span",{className:"absolute top-2 left-2 bg-black text-white text-[10px] uppercase font-bold px-2 py-1 z-10",children:["-",Math.round((Number(mt.compare_at_price)-Number(mt.base_price))/Number(mt.compare_at_price)*100),"%"]}),jsxRuntimeExports.jsx("img",{src:((yt=(xt=mt.product_images)==null?void 0:xt[0])==null?void 0:yt.url)||"https://placehold.co/600x600/e2e8f0/1e293b?text=No+Image",alt:mt.name,onError:gt=>{gt.target.src="https://placehold.co/600x600/e2e8f0/1e293b?text=No+Image"},className:"w-full h-full object-cover object-center group-hover:scale-105 transition-transform duration-500"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-x-0 bottom-0 p-4 translate-y-full group-hover:translate-y-0 transition-transform duration-300",children:jsxRuntimeExports.jsx("span",{className:"w-full bg-white text-black py-3 text-xs uppercase font-bold hover:bg-black hover:text-white transition-colors block text-center shadow-lg rounded-full mx-4 mb-2",children:"Xem Chi Tit"})})]}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("p",{className:"text-xs text-secondary-500 dark:text-gray-400 uppercase mb-1",children:((vt=mt.category)==null?void 0:vt.name)||"B su tp"}),jsxRuntimeExports.jsx("h3",{className:"font-bold text-lg text-secondary-900 dark:text-white mb-1",children:mt.name}),jsxRuntimeExports.jsxs("div",{className:"flex justify-center gap-3 text-sm",children:[jsxRuntimeExports.jsx("span",{className:"font-bold dark:text-white",children:new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(Number(mt.base_price))}),jsxRuntimeExports.jsx("span",{className:"text-secondary-400 line-through",children:new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(Number(mt.compare_at_price))})]})]})]},mt.id)})})]})}),jsxRuntimeExports.jsxs("section",{className:"container-custom py-20 dark:bg-black transition-colors duration-300",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-12",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-secondary-500 dark:text-gray-400 text-xs uppercase tracking-widest mb-1 block",children:"Phi C (Must Have)"}),jsxRuntimeExports.jsx("h2",{className:"text-4xl font-bold text-secondary-900 dark:text-white",children:"Sn Phm Bn Chy"})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("button",{className:"w-10 h-10 border border-secondary-300 dark:border-secondary-700 flex items-center justify-center hover:bg-black dark:hover:bg-white dark:hover:text-black hover:text-white transition-colors hover:border-black dark:hover:border-white dark:text-white rounded-full",children:jsxRuntimeExports.jsx(ArrowRight,{className:"w-4 h-4 rotate-180"})}),jsxRuntimeExports.jsx("button",{className:"w-10 h-10 border border-secondary-300 dark:border-secondary-700 flex items-center justify-center hover:bg-black dark:hover:bg-white dark:hover:text-black hover:text-white transition-colors hover:border-black dark:hover:border-white dark:text-white rounded-full",children:jsxRuntimeExports.jsx(ArrowRight,{className:"w-4 h-4"})})]})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:rt.slice(0,4).map(mt=>{var xt,yt;return jsxRuntimeExports.jsxs(Link$1,{to:`/products/${mt.slug}`,className:"group cursor-pointer",children:[jsxRuntimeExports.jsx("div",{className:"bg-secondary-50 dark:bg-secondary-800 aspect-[4/5] mb-4 relative overflow-hidden rounded-lg",children:jsxRuntimeExports.jsx("img",{src:((yt=(xt=mt.product_images)==null?void 0:xt[0])==null?void 0:yt.url)||"https://placehold.co/400x500/e2e8f0/1e293b?text=No+Image",alt:mt.name,onError:vt=>{vt.target.src="https://placehold.co/400x500/e2e8f0/1e293b?text=No+Image"},className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"})}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-bold text-lg text-secondary-900 dark:text-white",children:mt.name}),jsxRuntimeExports.jsx("p",{className:"text-xs text-secondary-500 dark:text-gray-400 uppercase mt-1",children:"Cao Cp"})]}),jsxRuntimeExports.jsx("span",{className:"font-medium text-sm dark:text-white",children:new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(Number(mt.base_price))})]})]},mt.id)})})]}),jsxRuntimeExports.jsx("section",{className:"container-custom py-24 border-t border-gray-100 dark:border-secondary-800 dark:bg-secondary-900",children:jsxRuntimeExports.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-gray-900 dark:text-white mb-6",children:"Tham Gia Inner Circle"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-8 font-light",children:"Nhn thng bo tuyn chn v b su tp mi, s kin c quyn v ni dung phong cch sng t ShopEase."}),jsxRuntimeExports.jsxs("form",{className:"relative max-w-md mx-auto",children:[jsxRuntimeExports.jsx("input",{type:"email",placeholder:"a ch Email",className:"w-full bg-secondary-50 dark:bg-secondary-800 border border-transparent focus:bg-white dark:focus:bg-secondary-900 py-4 px-6 rounded-full focus:outline-none focus:ring-2 focus:ring-black dark:focus:ring-white transition-colors placeholder-gray-400 dark:placeholder-gray-500 dark:text-white"}),jsxRuntimeExports.jsx("button",{className:"absolute right-0 top-1 btn btn-primary py-2 px-6 text-xs h-[calc(100%-8px)] mr-1",children:"ng K"})]})]})})]})]})}function ProductCard({product:_e,showQuickAdd:et=!0}){var jt,kt,Rt,St,_t,Nt,Lt,$t,Ft;const{addToCart:rt}=useCart(),{isInWishlist:nt,addToWishlist:st,removeFromWishlist:it}=useWishlist(),[at,ot]=reactExports.useState(!1),[lt,ct]=reactExports.useState(!1),ut=nt(_e.id),dt=((kt=(jt=_e.product_images)==null?void 0:jt.find(Tt=>Tt.is_primary))==null?void 0:kt.url)||((St=(Rt=_e.product_images)==null?void 0:Rt[0])==null?void 0:St.url)||"/placeholder.jpg",pt=(_t=_e.product_variants)!=null&&_t.length?Math.min(..._e.product_variants.map(Tt=>Number(Tt.price))):Number(_e.base_price),mt=((Lt=(Nt=_e.product_variants)==null?void 0:Nt[0])==null?void 0:Lt.compare_at_price)||_e.compare_at_price,xt=getDiscountPercent(pt,mt?Number(mt):null),yt=(($t=_e.product_variants)==null?void 0:$t.some(Tt=>Tt.stock_qty>0))??!0,vt=(Ft=_e.product_variants)==null?void 0:Ft[0],gt=async Tt=>{var Bt,Wt,qt;if(Tt.preventDefault(),Tt.stopPropagation(),!(!vt||at)){ot(!0);try{await rt(Number(vt.id),1)}catch(Ot){alert(((qt=(Wt=(Bt=Ot.response)==null?void 0:Bt.data)==null?void 0:Wt.error)==null?void 0:qt.message)||"Khng th thm vo gi hng")}finally{ot(!1)}}},Et=async Tt=>{Tt.preventDefault(),Tt.stopPropagation(),ut?await it(_e.id):await st(_e.id)};return jsxRuntimeExports.jsx("div",{className:"group card dark:bg-secondary-800",onMouseEnter:()=>ct(!0),onMouseLeave:()=>ct(!1),children:jsxRuntimeExports.jsxs(Link$1,{to:`/products/${_e.slug}`,children:[jsxRuntimeExports.jsxs("div",{className:"relative aspect-square overflow-hidden bg-secondary-50 dark:bg-secondary-700",children:[jsxRuntimeExports.jsx("img",{src:dt,alt:_e.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",referrerPolicy:"no-referrer"}),xt>0&&jsxRuntimeExports.jsxs("span",{className:"absolute top-3 left-3 bg-accent-red text-white text-xs font-bold px-2 py-1 rounded",children:["-",xt,"%"]}),!yt&&jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:jsxRuntimeExports.jsx("span",{className:"bg-white text-secondary-800 px-4 py-2 rounded-lg font-medium",children:"Ht hng"})}),jsxRuntimeExports.jsx("div",{className:`absolute right-3 top-3 flex flex-col gap-2 transition-opacity duration-200 ${lt?"opacity-100":"opacity-0"}`,children:jsxRuntimeExports.jsx("button",{className:`w-9 h-9 rounded-full shadow-md flex items-center justify-center transition-colors ${ut?"bg-accent-red text-white":"bg-white hover:bg-primary-600 hover:text-white dark:bg-secondary-800 dark:text-white dark:hover:bg-white dark:hover:text-black"}`,onClick:Et,children:jsxRuntimeExports.jsx(Heart,{className:`w-4 h-4 ${ut?"fill-current":""}`})})}),et&&yt&&vt&&jsxRuntimeExports.jsx("div",{className:`absolute bottom-0 left-0 right-0 p-3 transition-all duration-200 ${lt?"translate-y-0 opacity-100":"translate-y-full opacity-0"}`,children:jsxRuntimeExports.jsxs("button",{onClick:gt,disabled:at,className:"w-full btn btn-primary py-2.5 flex items-center justify-center gap-2",children:[jsxRuntimeExports.jsx(ShoppingCart,{className:"w-4 h-4"}),at?"ang thm...":"Thm vo gi"]})})]}),jsxRuntimeExports.jsxs("div",{className:"p-4",children:[_e.category&&jsxRuntimeExports.jsx("p",{className:"text-xs text-secondary-500 dark:text-gray-400 mb-1",children:_e.category.name}),jsxRuntimeExports.jsx("h3",{className:"font-medium text-secondary-800 dark:text-white group-hover:text-primary-600 dark:group-hover:text-gray-300 transition-colors line-clamp-2 min-h-[3rem]",children:_e.name}),jsxRuntimeExports.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-lg font-bold text-primary-600 dark:text-white",children:formatPrice(pt)}),mt&&Number(mt)>pt&&jsxRuntimeExports.jsx("span",{className:"text-sm text-secondary-400 line-through",children:formatPrice(Number(mt))})]}),_e.product_variants&&_e.product_variants.length>0&&jsxRuntimeExports.jsx("div",{className:"mt-2",children:yt?jsxRuntimeExports.jsx("span",{className:"text-xs text-accent-green",children:"Cn hng"}):jsxRuntimeExports.jsx("span",{className:"text-xs text-accent-red",children:"Ht hng"})})]})]})})}function Pagination({currentPage:_e,totalPages:et,onPageChange:rt}){if(et<=1)return null;const nt=()=>{const st=[];if(et>7){st.push(1),_e>3&&st.push("...");const at=Math.max(2,_e-1),ot=Math.min(et-1,_e+1);for(let lt=at;lt<=ot;lt++)st.push(lt);_e<et-2&&st.push("..."),st.push(et)}else for(let at=1;at<=et;at++)st.push(at);return st};return jsxRuntimeExports.jsxs("nav",{className:"flex items-center justify-center gap-1","aria-label":"Pagination",children:[jsxRuntimeExports.jsx("button",{onClick:()=>rt(_e-1),disabled:_e===1,className:"p-2 rounded-lg hover:bg-secondary-100 dark:hover:bg-secondary-700 text-secondary-700 dark:text-secondary-300 disabled:opacity-50 disabled:cursor-not-allowed transition-colors","aria-label":"Previous page",children:jsxRuntimeExports.jsx(ChevronLeft,{className:"w-5 h-5"})}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-1",children:nt().map((st,it)=>st==="..."?jsxRuntimeExports.jsx("span",{className:"px-3 py-2 text-secondary-400",children:"..."},`ellipsis-${it}`):jsxRuntimeExports.jsx("button",{onClick:()=>rt(st),className:`min-w-[40px] h-10 rounded-lg font-medium transition-colors ${_e===st?"bg-primary-600 text-white":"hover:bg-secondary-100 dark:hover:bg-secondary-700 text-secondary-700 dark:text-secondary-300"}`,"aria-current":_e===st?"page":void 0,children:st},st))}),jsxRuntimeExports.jsx("button",{onClick:()=>rt(_e+1),disabled:_e===et,className:"p-2 rounded-lg hover:bg-secondary-100 dark:hover:bg-secondary-700 text-secondary-700 dark:text-secondary-300 disabled:opacity-50 disabled:cursor-not-allowed transition-colors","aria-label":"Next page",children:jsxRuntimeExports.jsx(ChevronRight,{className:"w-5 h-5"})})]})}function ShopPage(){var $t,Ft,Tt;const[_e,et]=useSearchParams(),{products:rt,isLoading:nt,pagination:st,fetchProducts:it,brands:at,fetchBrands:ot}=useShop(),[lt,ct]=reactExports.useState([]),[ut,dt]=reactExports.useState(!1),[pt,mt]=reactExports.useState(4),[xt,yt]=reactExports.useState(null),vt=parseInt(_e.get("page")||"1"),gt=_e.get("search")||"",Et=_e.get("category")||"",jt=_e.get("brand")||"",kt=_e.get("sort")||"newest",Rt=_e.get("min_price")||"",St=_e.get("max_price")||"";reactExports.useEffect(()=>{categoriesAPI.getAll().then(Bt=>ct(Bt.data.data)),ot(),bannersAPI.getAll({position:"shop_hero"}).then(Bt=>{Bt.data.success&&Bt.data.data.length>0&&yt(Bt.data.data[0])}).catch(Bt=>console.error("Failed to fetch shop banner",Bt))},[ot]),reactExports.useEffect(()=>{it({page:vt,limit:12,search:gt||void 0,category:Et||void 0,brand:jt||void 0,sort:kt,min_price:Rt?parseFloat(Rt):void 0,max_price:St?parseFloat(St):void 0})},[_e,it]);const _t=(Bt,Wt)=>{const qt=new URLSearchParams(_e);Wt?qt.set(Bt,Wt):qt.delete(Bt),Bt!=="page"&&qt.delete("page"),et(qt)},Nt=()=>{et({})},Lt=gt||Et||Rt||St||jt;return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Helmet,{children:[jsxRuntimeExports.jsx("title",{children:"Ca hng - Fashion Store"}),jsxRuntimeExports.jsx("meta",{name:"description",content:"Khm ph b su tp thi trang a dng vi nhiu mu m v kch c ph hp."})]}),xt&&jsxRuntimeExports.jsx("div",{className:"mb-8 relative group",children:jsxRuntimeExports.jsxs("div",{className:"aspect-[21/9] md:aspect-[4/1] w-full relative overflow-hidden",children:[jsxRuntimeExports.jsx("img",{src:xt.image_url,alt:xt.title,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center text-center p-6",children:jsxRuntimeExports.jsxs("div",{className:"max-w-2xl text-white",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl md:text-5xl font-bold mb-4",children:xt.title}),xt.subtitle&&jsxRuntimeExports.jsx("p",{className:"text-lg md:text-xl text-gray-100",children:xt.subtitle}),xt.link_url&&jsxRuntimeExports.jsx("a",{href:xt.link_url,className:"mt-6 inline-block px-6 py-2 bg-white text-black font-semibold rounded-full hover:bg-primary-500 hover:text-white transition-all",children:xt.button_text||"Xem ngay"})]})})]})}),jsxRuntimeExports.jsxs("div",{className:"container-custom py-8",children:[jsxRuntimeExports.jsxs("div",{className:"mb-8",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-secondary-900 dark:text-white",children:Et?(($t=lt.find(Bt=>Bt.slug===Et))==null?void 0:$t.name)||"Sn phm":gt?`Kt qu tm kim: "${gt}"`:xt?"":"Tt c sn phm"}),st&&jsxRuntimeExports.jsxs("p",{className:"text-secondary-500 dark:text-gray-400 mt-2",children:["Hin th ",rt.length," / ",st.total," sn phm"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-8",children:[jsxRuntimeExports.jsx("aside",{className:"hidden lg:block w-64 flex-shrink-0",children:jsxRuntimeExports.jsxs("div",{className:"sticky top-24 space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-secondary-800 dark:text-white mb-3",children:"Danh mc"}),jsxRuntimeExports.jsxs("ul",{className:"space-y-2",children:[jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("button",{onClick:()=>_t("category",""),className:`w-full text-left px-3 py-2 rounded-lg transition-colors ${Et?"hover:bg-secondary-100 dark:text-gray-300 dark:hover:bg-secondary-800":"bg-primary-100 text-primary-700 dark:bg-white dark:text-black"}`,children:"Tt c"})}),lt.map(Bt=>jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("button",{onClick:()=>_t("category",Bt.slug),className:`w-full text-left px-3 py-2 rounded-lg transition-colors ${Et===Bt.slug?"bg-primary-100 text-primary-700 dark:bg-white dark:text-black":"hover:bg-secondary-100 dark:text-gray-300 dark:hover:bg-secondary-800"}`,children:Bt.name}),Bt.children&&Bt.children.length>0&&jsxRuntimeExports.jsx("ul",{className:"ml-4 mt-1 space-y-1",children:Bt.children.map(Wt=>jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("button",{onClick:()=>_t("category",Wt.slug),className:`w-full text-left px-3 py-1.5 text-sm rounded-lg transition-colors ${Et===Wt.slug?"bg-primary-100 text-primary-700 dark:bg-white dark:text-black":"text-secondary-600 dark:text-gray-400 hover:bg-secondary-100 dark:hover:bg-secondary-800"}`,children:Wt.name})},Wt.id))})]},Bt.id))]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-secondary-800 dark:text-white mb-3",children:"Thng hiu"}),jsxRuntimeExports.jsxs("ul",{className:"space-y-2 max-h-48 overflow-y-auto scrollbar-thin",children:[jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("button",{onClick:()=>_t("brand",""),className:`w-full text-left px-3 py-2 rounded-lg transition-colors ${jt?"hover:bg-secondary-100 dark:text-gray-300 dark:hover:bg-secondary-800":"bg-primary-100 text-primary-700 dark:bg-white dark:text-black"}`,children:"Tt c"})}),at.map(Bt=>jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("button",{onClick:()=>_t("brand",Bt.slug),className:`w-full text-left px-3 py-2 rounded-lg transition-colors ${jt===Bt.slug?"bg-primary-100 text-primary-700 dark:bg-white dark:text-black":"hover:bg-secondary-100 dark:text-gray-300 dark:hover:bg-secondary-800"}`,children:Bt.name})},Bt.id))]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-secondary-800 dark:text-white mb-3",children:"Khong gi"}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("input",{type:"number",placeholder:"T",value:Rt,onChange:Bt=>_t("min_price",Bt.target.value),className:"input text-sm dark:bg-secondary-800 dark:border-secondary-700 dark:text-white"}),jsxRuntimeExports.jsx("input",{type:"number",placeholder:"n",value:St,onChange:Bt=>_t("max_price",Bt.target.value),className:"input text-sm dark:bg-secondary-800 dark:border-secondary-700 dark:text-white"})]}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2",children:[{label:"Di 100K",min:"",max:"100000"},{label:"100K - 200K",min:"100000",max:"200000"},{label:"200K - 500K",min:"200000",max:"500000"},{label:"Trn 500K",min:"500000",max:""}].map(Bt=>jsxRuntimeExports.jsx("button",{onClick:()=>{_t("min_price",Bt.min),_t("max_price",Bt.max)},className:"text-xs px-3 py-1.5 border dark:border-secondary-700 rounded-full hover:border-primary-600 hover:text-primary-600 dark:text-gray-300 dark:hover:text-white transition-colors",children:Bt.label},Bt.label))})]})]}),Lt&&jsxRuntimeExports.jsx("button",{onClick:Nt,className:"w-full btn btn-secondary",children:"Xa b lc"})]})}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-6 pb-4 border-b dark:border-secondary-800",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>dt(!0),className:"lg:hidden flex items-center gap-2 px-4 py-2 border rounded-lg dark:border-secondary-700 dark:text-white",children:[jsxRuntimeExports.jsx(Filter,{className:"w-4 h-4"}),"Lc"]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsxs("select",{value:kt,onChange:Bt=>_t("sort",Bt.target.value),className:"appearance-none bg-white dark:bg-secondary-800 border dark:border-secondary-700 rounded-lg px-4 py-2 pr-10 focus:outline-none focus:ring-2 focus:ring-primary-500 dark:text-white",children:[jsxRuntimeExports.jsx("option",{value:"newest",children:"Mi nht"}),jsxRuntimeExports.jsx("option",{value:"oldest",children:"C nht"}),jsxRuntimeExports.jsx("option",{value:"price_asc",children:"Gi tng dn"}),jsxRuntimeExports.jsx("option",{value:"price_desc",children:"Gi gim dn"}),jsxRuntimeExports.jsx("option",{value:"name_asc",children:"Tn A-Z"}),jsxRuntimeExports.jsx("option",{value:"name_desc",children:"Tn Z-A"})]}),jsxRuntimeExports.jsx(ChevronDown,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-secondary-400 dark:text-secondary-500 pointer-events-none"})]}),jsxRuntimeExports.jsxs("div",{className:"hidden md:flex items-center gap-1 border dark:border-secondary-700 rounded-lg p-1",children:[jsxRuntimeExports.jsx("button",{onClick:()=>mt(3),className:`p-1.5 rounded transition-colors ${pt===3?"bg-secondary-100 dark:bg-secondary-700 dark:text-white":"hover:bg-secondary-50 dark:hover:bg-secondary-800 dark:text-secondary-400"}`,children:jsxRuntimeExports.jsx(LayoutGrid,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("button",{onClick:()=>mt(4),className:`p-1.5 rounded transition-colors ${pt===4?"bg-secondary-100 dark:bg-secondary-700 dark:text-white":"hover:bg-secondary-50 dark:hover:bg-secondary-800 dark:text-secondary-400"}`,children:jsxRuntimeExports.jsx(Grid3x3,{className:"w-4 h-4"})})]})]})]}),Lt&&jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[gt&&jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-secondary-100 dark:bg-secondary-800 rounded-full text-sm dark:text-white",children:["Tm: ",gt,jsxRuntimeExports.jsx("button",{onClick:()=>_t("search",""),children:jsxRuntimeExports.jsx(X$2,{className:"w-3 h-3"})})]}),Et&&jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-secondary-100 dark:bg-secondary-800 rounded-full text-sm dark:text-white",children:[(Ft=lt.find(Bt=>Bt.slug===Et))==null?void 0:Ft.name,jsxRuntimeExports.jsx("button",{onClick:()=>_t("category",""),children:jsxRuntimeExports.jsx(X$2,{className:"w-3 h-3"})})]}),jt&&jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-secondary-100 dark:bg-secondary-800 rounded-full text-sm dark:text-white",children:[((Tt=at.find(Bt=>Bt.slug===jt))==null?void 0:Tt.name)||jt,jsxRuntimeExports.jsx("button",{onClick:()=>_t("brand",""),children:jsxRuntimeExports.jsx(X$2,{className:"w-3 h-3"})})]})]}),nt?jsxRuntimeExports.jsx("div",{className:`grid grid-cols-2 md:grid-cols-${pt} gap-4 md:gap-6`,children:[...Array(12)].map((Bt,Wt)=>jsxRuntimeExports.jsxs("div",{className:"card animate-pulse dark:bg-secondary-800",children:[jsxRuntimeExports.jsx("div",{className:"aspect-square bg-secondary-200 dark:bg-secondary-700"}),jsxRuntimeExports.jsxs("div",{className:"p-4 space-y-3",children:[jsxRuntimeExports.jsx("div",{className:"h-4 bg-secondary-200 dark:bg-secondary-700 rounded w-3/4"}),jsxRuntimeExports.jsx("div",{className:"h-5 bg-secondary-200 dark:bg-secondary-700 rounded w-1/3"})]})]},Wt))}):rt.length===0?jsxRuntimeExports.jsxs("div",{className:"text-center py-16",children:[jsxRuntimeExports.jsx("p",{className:"text-lg text-secondary-500 dark:text-secondary-400 mb-4",children:"Khng tm thy sn phm no"}),jsxRuntimeExports.jsx("button",{onClick:Nt,className:"btn btn-primary",children:"Xa b lc"})]}):jsxRuntimeExports.jsx("div",{className:`grid grid-cols-2 md:grid-cols-3 lg:grid-cols-${pt} gap-4 md:gap-6`,children:rt.map(Bt=>jsxRuntimeExports.jsx(ProductCard,{product:Bt},Bt.id))}),st&&st.totalPages>1&&jsxRuntimeExports.jsx("div",{className:"mt-12",children:jsxRuntimeExports.jsx(Pagination,{currentPage:st.page,totalPages:st.totalPages,onPageChange:Bt=>_t("page",Bt.toString())})})]})]})]}),ut&&jsxRuntimeExports.jsxs("div",{className:"fixed inset-0 z-50 lg:hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>dt(!1)}),jsxRuntimeExports.jsxs("div",{className:"absolute left-0 top-0 bottom-0 w-80 bg-white dark:bg-secondary-900 p-6 overflow-y-auto animate-slide-down",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold dark:text-white",children:"B lc"}),jsxRuntimeExports.jsx("button",{onClick:()=>dt(!1),children:jsxRuntimeExports.jsx(X$2,{className:"w-5 h-5"})})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-secondary-800 mb-3",children:"Danh mc"}),jsxRuntimeExports.jsx("ul",{className:"space-y-2",children:lt.map(Bt=>jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("button",{onClick:()=>{_t("category",Bt.slug),dt(!1)},className:`w-full text-left px-3 py-2 rounded-lg transition-colors ${Et===Bt.slug?"bg-primary-100 text-primary-700":"hover:bg-secondary-100"}`,children:Bt.name})},Bt.id))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-secondary-800 dark:text-white mb-3",children:"Thng hiu"}),jsxRuntimeExports.jsxs("ul",{className:"space-y-2",children:[jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("button",{onClick:()=>{_t("brand",""),dt(!1)},className:`w-full text-left px-3 py-2 rounded-lg transition-colors ${jt?"hover:bg-secondary-100 dark:text-gray-400 dark:hover:bg-secondary-800":"bg-primary-100 text-primary-700 dark:bg-white dark:text-black"}`,children:"Tt c"})},"all-brands"),at.map(Bt=>jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("button",{onClick:()=>{_t("brand",Bt.slug),dt(!1)},className:`w-full text-left px-3 py-2 rounded-lg transition-colors ${jt===Bt.slug?"bg-primary-100 text-primary-700 dark:bg-white dark:text-black":"hover:bg-secondary-100 dark:text-gray-400 dark:hover:bg-secondary-800"}`,children:Bt.name})},Bt.id))]})]})]})]})]})]})}function SalePage(){var _t;const[_e,et]=useSearchParams(),{products:rt,isLoading:nt,pagination:st,fetchProducts:it}=useShop(),[at,ot]=reactExports.useState([]),[lt,ct]=reactExports.useState(!1),[ut,dt]=reactExports.useState(4),[pt,mt]=reactExports.useState(null),xt=parseInt(_e.get("page")||"1"),yt=_e.get("search")||"",vt=_e.get("category")||"",gt=_e.get("sort")||"discount_desc",Et=_e.get("min_price")||"",jt=_e.get("max_price")||"";reactExports.useEffect(()=>{categoriesAPI.getAll().then(Nt=>ot(Nt.data.data)),bannersAPI.getAll({position:"sale_hero"}).then(Nt=>{Nt.data.success&&Nt.data.data.length>0&&mt(Nt.data.data[0])}).catch(Nt=>console.error("Failed to fetch sale banner",Nt))},[]),reactExports.useEffect(()=>{it({page:xt,limit:12,search:yt||void 0,category:vt||void 0,sort:gt,min_price:Et?parseFloat(Et):void 0,max_price:jt?parseFloat(jt):void 0,on_sale:!0,min_discount:30})},[_e,it]);const kt=(Nt,Lt)=>{const $t=new URLSearchParams(_e);Lt?$t.set(Nt,Lt):$t.delete(Nt),Nt!=="page"&&$t.delete("page"),et($t)},Rt=()=>{et({})},St=yt||vt||Et||jt;return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Helmet,{children:[jsxRuntimeExports.jsx("title",{children:"Sn Sale Gi Sc - Fashion Store"}),jsxRuntimeExports.jsx("meta",{name:"description",content:"Khm ph cc sn phm gim gi cc sc ti Fashion Store. C hi s hu hng hiu vi gi tt nht."})]}),pt?jsxRuntimeExports.jsx("div",{className:"mb-8 relative group",children:jsxRuntimeExports.jsx("div",{className:"aspect-[21/9] md:aspect-[3/1] w-full relative overflow-hidden",children:jsxRuntimeExports.jsx("a",{href:pt.link_url||"#",children:jsxRuntimeExports.jsx("img",{src:pt.image_url,alt:pt.title,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"})})})}):jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-r from-red-600 to-red-700 text-white py-16 mb-8 relative overflow-hidden shadow-lg",children:[jsxRuntimeExports.jsxs("div",{className:"absolute inset-0 opacity-20",children:[jsxRuntimeExports.jsx("div",{className:"absolute -top-24 -left-24 w-64 h-64 rounded-full bg-white blur-3xl mix-blend-overlay"}),jsxRuntimeExports.jsx("div",{className:"absolute top-1/2 left-1/2 w-96 h-96 rounded-full bg-yellow-300 blur-3xl mix-blend-overlay animate-pulse"})]}),jsxRuntimeExports.jsxs("div",{className:"container-custom text-center relative z-10",children:[jsxRuntimeExports.jsxs("h1",{className:"text-4xl md:text-6xl font-bold mb-6 flex items-center justify-center gap-4 animate-fade-in-up",children:[jsxRuntimeExports.jsx(Tag,{className:"w-12 h-12 md:w-16 md:h-16 rotate-12"}),jsxRuntimeExports.jsx("span",{className:"drop-shadow-md",children:"Sn Sale Gi Sc"})]}),jsxRuntimeExports.jsxs("p",{className:"text-red-100 text-xl md:text-2xl max-w-2xl mx-auto drop-shadow-sm",children:["Gim gi ln n ",jsxRuntimeExports.jsx("span",{className:"font-bold text-yellow-300",children:"50%"})," cho cc sn phm hot nht ma ny!"]})]})]}),jsxRuntimeExports.jsx("div",{className:"container-custom py-8",children:jsxRuntimeExports.jsxs("div",{className:"flex gap-8",children:[jsxRuntimeExports.jsx("aside",{className:"hidden lg:block w-64 flex-shrink-0",children:jsxRuntimeExports.jsxs("div",{className:"sticky top-24 space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-secondary-800 dark:text-white mb-3",children:"Danh mc"}),jsxRuntimeExports.jsxs("ul",{className:"space-y-2",children:[jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("button",{onClick:()=>kt("category",""),className:`w-full text-left px-3 py-2 rounded-lg transition-colors ${vt?"hover:bg-secondary-100 dark:hover:bg-secondary-800 dark:text-gray-300":"bg-primary-100 text-primary-700 dark:bg-white dark:text-black"}`,children:"Tt c"})}),at.map(Nt=>jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("button",{onClick:()=>kt("category",Nt.slug),className:`w-full text-left px-3 py-2 rounded-lg transition-colors ${vt===Nt.slug?"bg-primary-100 text-primary-700 dark:bg-white dark:text-black":"hover:bg-secondary-100 dark:hover:bg-secondary-800 dark:text-gray-300"}`,children:Nt.name})},Nt.id))]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-secondary-800 dark:text-white mb-3",children:"Khong gi"}),jsxRuntimeExports.jsx("div",{className:"space-y-3",children:jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("input",{type:"number",placeholder:"T",value:Et,onChange:Nt=>kt("min_price",Nt.target.value),className:"input text-sm dark:bg-secondary-800 dark:border-secondary-700 dark:text-white"}),jsxRuntimeExports.jsx("input",{type:"number",placeholder:"n",value:jt,onChange:Nt=>kt("max_price",Nt.target.value),className:"input text-sm dark:bg-secondary-800 dark:border-secondary-700 dark:text-white"})]})})]}),St&&jsxRuntimeExports.jsx("button",{onClick:Rt,className:"w-full btn btn-secondary",children:"Xa b lc"})]})}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-6 pb-4 border-b dark:border-secondary-800",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>ct(!0),className:"lg:hidden flex items-center gap-2 px-4 py-2 border rounded-lg dark:border-secondary-700 dark:text-white",children:[jsxRuntimeExports.jsx(Filter,{className:"w-4 h-4"}),"Lc"]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsxs("select",{value:gt,onChange:Nt=>kt("sort",Nt.target.value),className:"appearance-none bg-white dark:bg-secondary-800 border dark:border-secondary-700 rounded-lg px-4 py-2 pr-10 focus:outline-none focus:ring-2 focus:ring-primary-500 dark:text-white",children:[jsxRuntimeExports.jsx("option",{value:"discount_desc",children:"Gim gi nhiu nht"}),jsxRuntimeExports.jsx("option",{value:"newest",children:"Mi nht"}),jsxRuntimeExports.jsx("option",{value:"price_asc",children:"Gi tng dn"}),jsxRuntimeExports.jsx("option",{value:"price_desc",children:"Gi gim dn"}),jsxRuntimeExports.jsx("option",{value:"name_asc",children:"Tn A-Z"}),jsxRuntimeExports.jsx("option",{value:"name_desc",children:"Tn Z-A"})]}),jsxRuntimeExports.jsx(ChevronDown,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-secondary-400 dark:text-secondary-500 pointer-events-none"})]}),jsxRuntimeExports.jsxs("div",{className:"hidden md:flex items-center gap-1 border dark:border-secondary-700 rounded-lg p-1",children:[jsxRuntimeExports.jsx("button",{onClick:()=>dt(3),className:`p-1.5 rounded transition-colors ${ut===3?"bg-secondary-100 dark:bg-secondary-700 dark:text-white":"hover:bg-secondary-50 dark:hover:bg-secondary-800 dark:text-secondary-400"}`,children:jsxRuntimeExports.jsx(LayoutGrid,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("button",{onClick:()=>dt(4),className:`p-1.5 rounded transition-colors ${ut===4?"bg-secondary-100 dark:bg-secondary-700 dark:text-white":"hover:bg-secondary-50 dark:hover:bg-secondary-800 dark:text-secondary-400"}`,children:jsxRuntimeExports.jsx(Grid3x3,{className:"w-4 h-4"})})]})]})]}),St&&jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[yt&&jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-secondary-100 dark:bg-secondary-800 rounded-full text-sm dark:text-white",children:["Tm: ",yt,jsxRuntimeExports.jsx("button",{onClick:()=>kt("search",""),children:jsxRuntimeExports.jsx(X$2,{className:"w-3 h-3"})})]}),vt&&jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-secondary-100 dark:bg-secondary-800 rounded-full text-sm dark:text-white",children:[(_t=at.find(Nt=>Nt.slug===vt))==null?void 0:_t.name,jsxRuntimeExports.jsx("button",{onClick:()=>kt("category",""),children:jsxRuntimeExports.jsx(X$2,{className:"w-3 h-3"})})]})]}),nt?jsxRuntimeExports.jsx("div",{className:`grid grid-cols-2 md:grid-cols-${ut} gap-4 md:gap-6`,children:[...Array(8)].map((Nt,Lt)=>jsxRuntimeExports.jsxs("div",{className:"card animate-pulse dark:bg-secondary-800",children:[jsxRuntimeExports.jsx("div",{className:"aspect-square bg-secondary-200 dark:bg-secondary-700"}),jsxRuntimeExports.jsxs("div",{className:"p-4 space-y-3",children:[jsxRuntimeExports.jsx("div",{className:"h-4 bg-secondary-200 dark:bg-secondary-700 rounded w-3/4"}),jsxRuntimeExports.jsx("div",{className:"h-5 bg-secondary-200 dark:bg-secondary-700 rounded w-1/3"})]})]},Lt))}):rt.length===0?jsxRuntimeExports.jsxs("div",{className:"text-center py-16",children:[jsxRuntimeExports.jsx("p",{className:"text-lg text-secondary-500 dark:text-secondary-400 mb-4",children:"Khng c sn phm no ang gim gi"}),jsxRuntimeExports.jsx("button",{onClick:Rt,className:"btn btn-primary",children:"Xem tt c sn phm"})]}):jsxRuntimeExports.jsx("div",{className:`grid grid-cols-2 md:grid-cols-3 lg:grid-cols-${ut} gap-4 md:gap-6`,children:rt.map(Nt=>jsxRuntimeExports.jsx(ProductCard,{product:Nt},Nt.id))}),st&&st.totalPages>1&&jsxRuntimeExports.jsx("div",{className:"mt-12",children:jsxRuntimeExports.jsx(Pagination,{currentPage:st.page,totalPages:st.totalPages,onPageChange:Nt=>kt("page",Nt.toString())})})]})]})})]})}function ImageGallery({images:_e,productName:et}){const[rt,nt]=reactExports.useState(0),st=reactExports.useRef(null),it=[..._e].sort((ct,ut)=>ct.is_primary&&!ut.is_primary?-1:!ct.is_primary&&ut.is_primary?1:ct.sort_order-ut.sort_order),at=it[rt]||it[0],ot=()=>{nt(ct=>ct===0?it.length-1:ct-1)},lt=()=>{nt(ct=>ct===it.length-1?0:ct+1)};return reactExports.useEffect(()=>{const ct=ut=>{ut.key==="ArrowLeft"&&ot(),ut.key==="ArrowRight"&&lt()};return window.addEventListener("keydown",ct),()=>window.removeEventListener("keydown",ct)},[]),it.length?jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{ref:st,className:"relative aspect-square rounded-xl overflow-hidden bg-secondary-50 group",children:[jsxRuntimeExports.jsx("img",{src:at.url,alt:at.alt_text||et,className:"w-full h-full object-cover",referrerPolicy:"no-referrer"}),it.length>1&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("button",{onClick:ot,className:"absolute left-4 top-1/2 -translate-y-1/2 w-10 h-10 bg-white/80 backdrop-blur rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity hover:bg-white",children:jsxRuntimeExports.jsx(ChevronLeft,{className:"w-5 h-5"})}),jsxRuntimeExports.jsx("button",{onClick:lt,className:"absolute right-4 top-1/2 -translate-y-1/2 w-10 h-10 bg-white/80 backdrop-blur rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity hover:bg-white",children:jsxRuntimeExports.jsx(ChevronRight,{className:"w-5 h-5"})})]}),it.length>1&&jsxRuntimeExports.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 bg-black/60 text-white px-3 py-1 rounded-full text-sm",children:[rt+1," / ",it.length]})]}),it.length>1&&jsxRuntimeExports.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-5 gap-3",children:it.map((ct,ut)=>jsxRuntimeExports.jsx("button",{onClick:()=>nt(ut),className:`aspect-square rounded-lg overflow-hidden border-2 transition-all ${ut===rt?"border-primary-600 ring-2 ring-primary-100":"border-secondary-100 hover:border-secondary-300"}`,children:jsxRuntimeExports.jsx("img",{src:ct.url,alt:ct.alt_text||`${et} - ${ut+1}`,className:"w-full h-full object-cover",referrerPolicy:"no-referrer"})},ct.id))})]}):jsxRuntimeExports.jsx("div",{className:"aspect-square bg-secondary-100 rounded-xl flex items-center justify-center",children:jsxRuntimeExports.jsx("p",{className:"text-secondary-400",children:"No image available"})})}function ReviewsSection({productId:_e}){const{user:et,isAuthenticated:rt}=useAuth(),[nt,st]=reactExports.useState([]),[it,at]=reactExports.useState(null),[ot,lt]=reactExports.useState(!0),[ct,ut]=reactExports.useState(!1),[dt,pt]=reactExports.useState(5),[mt,xt]=reactExports.useState(""),[yt,vt]=reactExports.useState(""),[gt,Et]=reactExports.useState(""),[jt,kt]=reactExports.useState(!1);reactExports.useEffect(()=>{Rt()},[_e]);const Rt=async()=>{lt(!0);try{const _t=await reviewsAPI.getByProduct(_e);_t.data.success&&(st(_t.data.data.reviews),at(_t.data.data.stats))}catch(_t){console.error("Failed to load reviews:",_t)}finally{lt(!1)}},St=async _t=>{var Nt,Lt,$t;if(_t.preventDefault(),!rt&&!gt.trim()){zt.error("Vui lng nhp tn ca bn");return}kt(!0);try{await reviewsAPI.create({product_id:_e,rating:dt,title:mt,content:yt,author_name:rt?(et==null?void 0:et.full_name)||(et==null?void 0:et.username):gt}),zt.success("Gi nh gi thnh cng! nh gi s c hin th sau khi duyt."),ut(!1),xt(""),vt(""),Et("")}catch(Ft){zt.error((($t=(Lt=(Nt=Ft.response)==null?void 0:Nt.data)==null?void 0:Lt.error)==null?void 0:$t.message)||"C li xy ra")}finally{kt(!1)}};return ot?jsxRuntimeExports.jsx("div",{className:"py-8 text-center",children:"ang ti nh gi..."}):jsxRuntimeExports.jsx("div",{className:"mt-12 pt-8 border-t border-secondary-100 dark:border-secondary-800",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row gap-8 mb-8",children:[jsxRuntimeExports.jsxs("div",{className:"md:w-1/3",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-secondary-900 dark:text-white mb-4",children:"nh gi khch hng"}),it&&jsxRuntimeExports.jsxs("div",{className:"bg-secondary-50 dark:bg-secondary-800/50 p-6 rounded-xl border border-secondary-100 dark:border-secondary-700",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[jsxRuntimeExports.jsx("div",{className:"text-5xl font-bold text-secondary-900 dark:text-white",children:Number(it.average).toFixed(1)}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"flex text-yellow-400 mb-1",children:[1,2,3,4,5].map(_t=>jsxRuntimeExports.jsx(Star,{className:`w-5 h-5 ${_t<=Math.round(it.average)?"fill-current":"text-secondary-300"}`},_t))}),jsxRuntimeExports.jsxs("p",{className:"text-secondary-500 dark:text-secondary-400 text-sm",children:[it.total," nh gi"]})]})]}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:[5,4,3,2,1].map(_t=>jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[jsxRuntimeExports.jsx("span",{className:"w-3 text-secondary-600 dark:text-secondary-400",children:_t}),jsxRuntimeExports.jsx(Star,{className:"w-4 h-4 text-yellow-400 fill-current"}),jsxRuntimeExports.jsx("div",{className:"flex-1 h-2 bg-secondary-200 dark:bg-secondary-700 rounded-full overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:"h-full bg-yellow-400",style:{width:`${it.total>0?(it.distribution[_t]||0)/it.total*100:0}%`}})}),jsxRuntimeExports.jsx("span",{className:"w-8 text-right text-secondary-500 dark:text-secondary-400",children:it.distribution[_t]||0})]},_t))})]}),jsxRuntimeExports.jsx("button",{onClick:()=>ut(!ct),className:"w-full btn btn-primary rounded-full mt-4",children:"Vit nh gi"})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[ct&&jsxRuntimeExports.jsxs("form",{onSubmit:St,className:"bg-white dark:bg-secondary-800 p-6 rounded-xl border border-secondary-200 dark:border-secondary-700 mb-8 animate-fade-in shadow-xl",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-bold mb-4 dark:text-white",children:"Vit nh gi ca bn"}),jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-2",children:"nh gi chung"}),jsxRuntimeExports.jsx("div",{className:"flex gap-2",children:[1,2,3,4,5].map(_t=>jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>pt(_t),className:"focus:outline-none",children:jsxRuntimeExports.jsx(Star,{className:`w-8 h-8 ${_t<=dt?"text-yellow-400 fill-current":"text-secondary-300"}`})},_t))})]}),!rt&&jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Tn hin th *"}),jsxRuntimeExports.jsx("input",{type:"text",value:gt,onChange:_t=>Et(_t.target.value),className:"input",required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Tiu "}),jsxRuntimeExports.jsx("input",{type:"text",value:mt,onChange:_t=>xt(_t.target.value),className:"input",placeholder:"V d: Sn phm rt tt"})]}),jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Ni dung nh gi *"}),jsxRuntimeExports.jsx("textarea",{value:yt,onChange:_t=>vt(_t.target.value),className:"input",rows:4,required:!0,placeholder:"Chia s tri nghim ca bn v sn phm..."})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-3",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>ut(!1),className:"btn-secondary",children:"Hy"}),jsxRuntimeExports.jsx("button",{type:"submit",disabled:jt,className:"btn-primary",children:jt?"ang gi...":"Gi nh gi"})]})]}),jsxRuntimeExports.jsx("div",{className:"space-y-6",children:nt.length===0?jsxRuntimeExports.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 text-center py-8",children:"Cha c nh gi no. Hy l ngi u tin nh gi sn phm ny!"}):nt.map(_t=>jsxRuntimeExports.jsxs("div",{className:"border-b border-secondary-100 dark:border-secondary-800 pb-6 last:border-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start mb-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-secondary-100 dark:bg-secondary-700 rounded-full flex items-center justify-center",children:jsxRuntimeExports.jsx(User,{className:"w-5 h-5 text-secondary-500 dark:text-secondary-400"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-semibold text-secondary-900 dark:text-white",children:_t.author_name}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"flex text-yellow-400 text-sm",children:[1,2,3,4,5].map(Nt=>jsxRuntimeExports.jsx(Star,{className:`w-3 h-3 ${Nt<=_t.rating?"fill-current":"text-secondary-300"}`},Nt))}),_t.is_verified&&jsxRuntimeExports.jsx("span",{className:"text-xs text-accent-green font-medium flex items-center gap-1",children:"  mua hng"})]})]})]}),jsxRuntimeExports.jsx("span",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:new Date(_t.created_at).toLocaleDateString("vi-VN")})]}),_t.title&&jsxRuntimeExports.jsx("h4",{className:"font-semibold mb-1 dark:text-white",children:_t.title}),jsxRuntimeExports.jsx("p",{className:"text-secondary-600 dark:text-secondary-400 mb-3",children:_t.content}),jsxRuntimeExports.jsxs("button",{className:"flex items-center gap-1 text-sm text-secondary-500 hover:text-primary-600",children:[jsxRuntimeExports.jsx(ThumbsUp,{className:"w-4 h-4"}),"Hu ch (",_t.helpful_count,")"]})]},_t.id))})]})]})})}function VariantSelector({variants:_e,onVariantSelect:et,selectedVariant:rt}){const[nt,st]=reactExports.useState({}),it=(()=>{const ct={};return _e.forEach(ut=>{var dt;(dt=ut.variant_option_values)==null||dt.forEach(pt=>{var vt,gt;const mt=((vt=pt.option_value.option)==null?void 0:vt.code)||"",xt=((gt=pt.option_value.option)==null?void 0:gt.name)||"",yt=pt.option_value.value;ct[mt]||(ct[mt]={name:xt,values:new Set}),ct[mt].values.add(yt)})}),Object.entries(ct).map(([ut,{name:dt,values:pt}])=>({code:ut,name:dt,values:Array.from(pt).map(mt=>({value:mt,available:at(ut,mt)}))}))})();function at(ct,ut){const dt={...nt,[ct]:ut};return _e.some(pt=>!pt.is_active||pt.stock_qty<=0?!1:Object.entries(dt).every(([mt,xt])=>{var yt;return(yt=pt.variant_option_values)==null?void 0:yt.some(vt=>{var gt;return((gt=vt.option_value.option)==null?void 0:gt.code)===mt&&vt.option_value.value===xt})}))}function ot(ct){const ut=Object.keys(ct).length,dt=it.length;return ut!==dt?null:_e.find(pt=>pt.is_active?Object.entries(ct).every(([mt,xt])=>{var yt;return(yt=pt.variant_option_values)==null?void 0:yt.some(vt=>{var gt;return((gt=vt.option_value.option)==null?void 0:gt.code)===mt&&vt.option_value.value===xt})}):!1)||null}const lt=(ct,ut)=>{const dt={...nt,[ct]:ut};st(dt);const pt=ot(dt);et(pt)};return reactExports.useEffect(()=>{if(it.length>0&&Object.keys(nt).length===0){const ct={};it.forEach(dt=>{const pt=dt.values.find(mt=>mt.available);pt&&(ct[dt.code]=pt.value)}),st(ct);const ut=ot(ct);et(ut)}},[_e]),it.length===0?null:jsxRuntimeExports.jsx("div",{className:"space-y-6",children:it.map(ct=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-3",children:[jsxRuntimeExports.jsxs("label",{className:"text-sm font-bold text-secondary-900 uppercase tracking-wider",children:[ct.code==="color"?"Mu sc":ct.name,": ",jsxRuntimeExports.jsx("span",{className:"font-normal text-secondary-500 normal-case ml-1",children:nt[ct.code]})]}),ct.code!=="color"&&jsxRuntimeExports.jsx("button",{className:"text-xs font-semibold text-secondary-600 hover:text-secondary-900 hover:underline",children:"Hng dn chn size"})]}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-3",children:ct.values.map(({value:ut,available:dt})=>{const pt=nt[ct.code]===ut;if(ct.code==="color"){const yt={en:"#111827",Trng:"#FFFFFF",Xm:"#9CA3AF",Navy:"#1E3A8A",Be:"#F5F5DC",:"#EF4444",Hng:"#FBCFE8","Xanh l":"#10B981",Vng:"#F59E0B"}[ut]||"#E5E7EB";return jsxRuntimeExports.jsxs("button",{onClick:()=>lt(ct.code,ut),disabled:!dt,className:`w-10 h-10 rounded-full border-2 transition-all relative p-0.5 ${pt?"border-primary-600 ring-2 ring-primary-100":"border-transparent hover:border-secondary-300"} ${dt?"":"opacity-30 cursor-not-allowed"}`,title:ut,children:[jsxRuntimeExports.jsx("span",{className:"block w-full h-full rounded-full border border-secondary-200",style:{backgroundColor:yt}}),!dt&&jsxRuntimeExports.jsx("span",{className:"absolute inset-0 flex items-center justify-center",children:jsxRuntimeExports.jsx("span",{className:"w-full h-0.5 bg-secondary-400 rotate-45 absolute opacity-60"})})]},ut)}return jsxRuntimeExports.jsx("button",{onClick:()=>lt(ct.code,ut),disabled:!dt,className:`min-w-[80px] px-4 py-2.5 rounded-lg border-2 font-medium text-sm transition-all ${pt?"border-primary-600 bg-primary-50 text-primary-700":"border-secondary-200 bg-white text-secondary-600 hover:border-secondary-400"} ${dt?"":"opacity-40 cursor-not-allowed line-through"}`,children:ut},ut)})})]},ct.code))})}function ProductDetailPage(){var Bt,Wt,qt,Ot;const{slug:_e}=useParams(),[et,rt]=reactExports.useState(null),[nt,st]=reactExports.useState([]),[it,at]=reactExports.useState(null),[ot,lt]=reactExports.useState(1),[ct,ut]=reactExports.useState(!0),[dt,pt]=reactExports.useState(!1),[mt,xt]=reactExports.useState(!1),{addToCart:yt}=useCart(),{isInWishlist:vt,addToWishlist:gt,removeFromWishlist:Et}=useWishlist(),[jt,kt]=reactExports.useState("details");reactExports.useEffect(()=>{(async()=>{if(_e){ut(!0);try{const It=(await productsAPI.getBySlug(_e)).data.data;if(rt(It),It.category){const At=await productsAPI.getAll({category:It.category.slug,limit:4});st(At.data.data.products.filter(Ht=>Ht.id!==It.id))}}catch(Pt){console.error("Failed to load product:",Pt)}finally{ut(!1)}}})(),window.scrollTo(0,0)},[_e]);const Rt=async()=>{var Dt,Pt,It;if(it){pt(!0);try{await yt(Number(it.id),ot),xt(!0),zt.success(" thm sn phm vo gi hng"),setTimeout(()=>xt(!1),2e3)}catch(At){const Ht=((It=(Pt=(Dt=At.response)==null?void 0:Dt.data)==null?void 0:Pt.error)==null?void 0:It.message)||"Khng th thm vo gi hng";zt.error(Ht)}finally{pt(!1)}}},St=Dt=>{const Pt=ot+Dt;Pt>=1&&(!it||Pt<=it.stock_qty)&&lt(Pt)},_t=async()=>{if(!et)return;const Dt=et.id.toString();vt(Dt)?await Et(Dt):await gt(Dt)},Nt=async()=>{var Pt;if(!et)return;const Dt={title:et.name,text:(Pt=et.description)==null?void 0:Pt.replace(/<[^>]*>/g,"").slice(0,100),url:window.location.href};if(navigator.share&&navigator.canShare(Dt))try{await navigator.share(Dt)}catch(It){console.error("Error sharing:",It)}else try{await navigator.clipboard.writeText(window.location.href),zt.success(" sao chp lin kt vo b nh tm")}catch{zt.error("Khng th sao chp lin kt")}};if(ct)return jsxRuntimeExports.jsx("div",{className:"container-custom py-12",children:jsxRuntimeExports.jsxs("div",{className:"grid lg:grid-cols-12 gap-12",children:[jsxRuntimeExports.jsx("div",{className:"lg:col-span-7 aspect-square bg-secondary-100 rounded-xl animate-pulse"}),jsxRuntimeExports.jsxs("div",{className:"lg:col-span-5 space-y-6",children:[jsxRuntimeExports.jsx("div",{className:"h-8 bg-secondary-100 rounded w-3/4 animate-pulse"}),jsxRuntimeExports.jsx("div",{className:"h-6 bg-secondary-100 rounded w-1/3 animate-pulse"}),jsxRuntimeExports.jsx("div",{className:"h-48 bg-secondary-100 rounded animate-pulse"})]})]})});if(!et)return jsxRuntimeExports.jsxs("div",{className:"container-custom py-16 text-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-secondary-800 mb-4",children:"Sn phm khng tn ti"}),jsxRuntimeExports.jsx(Link$1,{to:"/shop",className:"btn btn-primary rounded-full",children:"Quay li ca hng"})]});const Lt=Number(it?it.price:et.base_price),$t=it!=null&&it.compare_at_price?Number(it.compare_at_price):et.compare_at_price?Number(et.compare_at_price):null,Ft=getDiscountPercent(Lt,$t),Tt=it?it.stock_qty<=0:(Bt=et.product_variants)==null?void 0:Bt.every(Dt=>Dt.stock_qty<=0);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Helmet,{children:[jsxRuntimeExports.jsxs("title",{children:[et.name," - Fashion Store"]}),jsxRuntimeExports.jsx("meta",{name:"description",content:((Wt=et.description)==null?void 0:Wt.slice(0,160))||et.name})]}),jsxRuntimeExports.jsxs("div",{className:"container-custom py-8",children:[jsxRuntimeExports.jsx("nav",{className:"mb-8 text-sm",children:jsxRuntimeExports.jsxs("ol",{className:"flex items-center gap-2 text-secondary-500 dark:text-secondary-400",children:[jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx(Link$1,{to:"/",className:"hover:text-primary-600 dark:hover:text-primary-400",children:"Trang ch"})}),jsxRuntimeExports.jsx("li",{children:"/"}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx(Link$1,{to:"/shop",className:"hover:text-primary-600 dark:hover:text-primary-400",children:"Ca hng"})}),et.category&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("li",{children:"/"}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx(Link$1,{to:`/shop?category=${et.category.slug}`,className:"hover:text-primary-600 dark:hover:text-primary-400 uppercase tracking-tighter",children:et.category.name})})]}),jsxRuntimeExports.jsx("li",{children:"/"}),jsxRuntimeExports.jsx("li",{className:"text-secondary-900 dark:text-white font-medium truncate max-w-[200px]",children:et.name})]})}),jsxRuntimeExports.jsxs("div",{className:"grid lg:grid-cols-12 gap-12",children:[jsxRuntimeExports.jsx("div",{className:"lg:col-span-7",children:jsxRuntimeExports.jsx("div",{className:"sticky top-24",children:jsxRuntimeExports.jsx(ImageGallery,{images:et.product_images||[],productName:et.name})})}),jsxRuntimeExports.jsxs("div",{className:"lg:col-span-5 space-y-8",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"flex text-yellow-400",children:[1,2,3,4,5].map(Dt=>jsxRuntimeExports.jsx(Star,{className:"w-4 h-4 fill-current"},Dt))}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-secondary-600",children:"4.8 (120 nh gi)"})]}),jsxRuntimeExports.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-secondary-900 dark:text-white leading-tight",children:et.name}),jsxRuntimeExports.jsxs("div",{className:"flex items-baseline gap-4",children:[jsxRuntimeExports.jsx("span",{className:"text-3xl font-extrabold text-secondary-900 dark:text-white",children:formatPrice(Lt)}),$t&&$t>Lt&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("span",{className:"text-xl text-secondary-400 line-through",children:formatPrice($t)}),jsxRuntimeExports.jsxs("span",{className:"px-2 py-1 bg-red-100 text-red-600 text-xs font-bold rounded uppercase",children:["Gim ",Ft,"%"]})]})]}),jsxRuntimeExports.jsxs("p",{className:"text-secondary-600 dark:text-secondary-400 leading-relaxed",children:[(qt=et.description)==null?void 0:qt.replace(/<[^>]*>/g,"").slice(0,200),"..."]})]}),jsxRuntimeExports.jsx("div",{children:et.product_variants&&et.product_variants.length>0&&jsxRuntimeExports.jsx(VariantSelector,{variants:et.product_variants,selectedVariant:it,onVariantSelect:at})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[jsxRuntimeExports.jsx("span",{className:`w-2 h-2 rounded-full ${Tt?"bg-red-500":"bg-green-500"}`}),jsxRuntimeExports.jsx("span",{className:Tt?"text-red-600 font-medium":"text-green-600 font-medium",children:Tt?"Ht hng":"Cn hng"})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-stretch",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center border border-secondary-200 dark:border-secondary-700 rounded-full bg-secondary-50 dark:bg-secondary-800 px-2",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>St(-1),disabled:ot<=1,className:"w-10 h-12 flex items-center justify-center hover:text-primary-600 disabled:opacity-30",children:jsxRuntimeExports.jsx(Minus,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("span",{className:"w-8 text-center font-bold text-secondary-900 dark:text-white",children:ot}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>St(1),disabled:it?ot>=it.stock_qty:void 0,className:"w-10 h-12 flex items-center justify-center hover:text-primary-600 disabled:opacity-30",children:jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4"})})]}),jsxRuntimeExports.jsx("button",{onClick:Rt,disabled:!it||Tt||dt,className:`flex-1 min-h-[48px] btn btn-primary rounded-full flex items-center justify-center gap-3 font-bold transition-all ${mt?"bg-accent-green border-accent-green hover:bg-accent-green grayscale-0":""} disabled:opacity-50 disabled:grayscale`,children:mt?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Check,{className:"w-5 h-5"})," thm vo gi"]}):dt?jsxRuntimeExports.jsx(LoaderCircle,{className:"w-5 h-5 animate-spin"}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(ShoppingBag,{className:"w-5 h-5"}),"Thm vo gi hng"]})})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center sm:justify-start gap-6 pt-2",children:[jsxRuntimeExports.jsxs("button",{onClick:_t,className:`flex items-center gap-2 text-sm font-semibold transition-colors ${vt(et.id.toString())?"text-primary-600":"text-secondary-600 dark:text-secondary-400 hover:text-primary-600"}`,children:[jsxRuntimeExports.jsx(Heart,{className:`w-5 h-5 ${vt(et.id.toString())?"fill-current":""}`}),vt(et.id.toString())?" thm vo yu thch":"Thm vo danh sch yu thch"]}),jsxRuntimeExports.jsxs("button",{onClick:Nt,className:"flex items-center gap-2 text-sm font-semibold text-secondary-600 dark:text-secondary-400 hover:text-primary-600 transition-colors",children:[jsxRuntimeExports.jsx(Share2,{className:"w-5 h-5"}),"Chia s"]})]}),jsxRuntimeExports.jsxs("div",{className:"pt-8 border-t border-secondary-100 dark:border-secondary-800 space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-sm text-secondary-700 dark:text-secondary-300",children:[jsxRuntimeExports.jsx(Truck,{className:"w-5 h-5 text-primary-600"}),jsxRuntimeExports.jsx("span",{children:"Min ph giao hng cho n t 500k"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-sm text-secondary-700 dark:text-secondary-300",children:[jsxRuntimeExports.jsx(Shield,{className:"w-5 h-5 text-primary-600"}),jsxRuntimeExports.jsx("span",{children:"Bo hnh chnh hng 2 nm"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-sm text-secondary-700 dark:text-secondary-300",children:[jsxRuntimeExports.jsx(RefreshCw,{className:"w-5 h-5 text-primary-600"}),jsxRuntimeExports.jsx("span",{children:"7 ngy i tr min ph"})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-20",children:[jsxRuntimeExports.jsxs("div",{className:"flex border-b border-secondary-200 dark:border-secondary-800 mb-8 overflow-x-auto no-scrollbar",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>kt("details"),className:`pb-4 px-6 text-sm font-bold uppercase tracking-widest transition-all relative whitespace-nowrap ${jt==="details"?"text-primary-600":"text-secondary-400 hover:text-secondary-600 dark:hover:text-secondary-200"}`,children:["Chi tit sn phm",jt==="details"&&jsxRuntimeExports.jsx("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-primary-600"})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>kt("specs"),className:`pb-4 px-6 text-sm font-bold uppercase tracking-widest transition-all relative whitespace-nowrap ${jt==="specs"?"text-primary-600":"text-secondary-400 hover:text-secondary-600 dark:hover:text-secondary-200"}`,children:["Thng s k thut",jt==="specs"&&jsxRuntimeExports.jsx("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-primary-600"})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>kt("shipping"),className:`pb-4 px-6 text-sm font-bold uppercase tracking-widest transition-all relative whitespace-nowrap ${jt==="shipping"?"text-primary-600":"text-secondary-400 hover:text-secondary-600 dark:hover:text-secondary-200"}`,children:["Giao hng & i tr",jt==="shipping"&&jsxRuntimeExports.jsx("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-primary-600"})]})]}),jsxRuntimeExports.jsxs("div",{className:"max-w-4xl",children:[jt==="details"&&jsxRuntimeExports.jsx("div",{className:"animate-fade-in space-y-6",children:jsxRuntimeExports.jsx("div",{className:"prose prose-secondary dark:prose-invert max-w-none text-secondary-600 dark:text-secondary-400 leading-relaxed",dangerouslySetInnerHTML:{__html:et.description||""}})}),jt==="specs"&&jsxRuntimeExports.jsx("div",{className:"animate-fade-in space-y-4",children:jsxRuntimeExports.jsx("table",{className:"w-full text-sm text-left",children:jsxRuntimeExports.jsxs("tbody",{className:"divide-y divide-secondary-100 dark:divide-secondary-800",children:[jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"py-3 font-semibold text-secondary-900 dark:text-white w-1/3",children:"M sn phm"}),jsxRuntimeExports.jsx("td",{className:"py-3 text-secondary-600 dark:text-secondary-400",children:et.sku})]}),jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"py-3 font-semibold text-secondary-900 dark:text-white",children:"Thng hiu"}),jsxRuntimeExports.jsx("td",{className:"py-3 text-secondary-600 dark:text-secondary-400",children:"Fashion Store"})]}),jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"py-3 font-semibold text-secondary-900 dark:text-white",children:"Danh mc"}),jsxRuntimeExports.jsx("td",{className:"py-3 text-secondary-600 dark:text-secondary-400",children:(Ot=et.category)==null?void 0:Ot.name})]})]})})}),jt==="shipping"&&jsxRuntimeExports.jsxs("div",{className:"animate-fade-in text-secondary-600 dark:text-secondary-400 space-y-4 leading-relaxed text-sm",children:[jsxRuntimeExports.jsx("p",{children:"Chng ti cung cp dch v giao hng ton quc nhanh chng v tin cy."}),jsxRuntimeExports.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[jsxRuntimeExports.jsx("li",{children:"Min ph vn chuyn cho n hng trn 500,000."}),jsxRuntimeExports.jsx("li",{children:"Thi gian giao hng: 2-3 ngy lm vic trong ni thnh, 3-5 ngy khu vc khc."}),jsxRuntimeExports.jsx("li",{children:"i tr min ph trong vng 30 ngy nu pht hin li nh sn xut hoc khng va ."})]})]})]})]}),jsxRuntimeExports.jsx(ReviewsSection,{productId:et.id}),nt.length>0&&jsxRuntimeExports.jsxs("div",{className:"mt-24 pt-12 border-t border-secondary-100 dark:border-secondary-800",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-end mb-10",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-secondary-900 dark:text-white",children:"C th bn cng thch"}),jsxRuntimeExports.jsxs(Link$1,{to:"/shop",className:"text-sm font-bold text-primary-600 hover:text-primary-700 flex items-center gap-1",children:["Xem tt c ",jsxRuntimeExports.jsx(ChevronRight,{className:"w-4 h-4"})]})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 md:gap-8",children:nt.slice(0,4).map(Dt=>jsxRuntimeExports.jsx(ProductCard,{product:Dt},Dt.id))})]})]})]})}function CartPage(){const{cart:_e,updateQuantity:et,removeItem:rt,clearCart:nt}=useCart(),st=useNavigate(),[it,at]=reactExports.useState(new Set),[ot,lt]=reactExports.useState(""),ct=async(yt,vt,gt)=>{var jt,kt,Rt;const Et=vt+gt;if(!(Et<1)){at(St=>new Set(St).add(yt));try{await et(yt,Et)}catch(St){const _t=((Rt=(kt=(jt=St.response)==null?void 0:jt.data)==null?void 0:kt.error)==null?void 0:Rt.message)||"Khng th cp nht s lng";zt.error(_t)}finally{at(St=>{const _t=new Set(St);return _t.delete(yt),_t})}}},ut=async yt=>{if(confirm("Bn c chc mun xa sn phm ny?")){at(vt=>new Set(vt).add(yt));try{await rt(yt),zt.success(" xa sn phm khi gi hng")}catch{zt.error("Khng th xa sn phm")}finally{at(vt=>{const gt=new Set(vt);return gt.delete(yt),gt})}}},dt=async()=>{if(confirm("Bn c chc mun xa ton b gi hng?"))try{await nt(),zt.success(" xa ton b gi hng")}catch{zt.error("Khng th xa gi hng")}};if(!_e||!_e.items||_e.items.length===0)return jsxRuntimeExports.jsxs("div",{className:"container-custom py-24 text-center",children:[jsxRuntimeExports.jsx("div",{className:"w-24 h-24 bg-secondary-50 dark:bg-secondary-800 rounded-full flex items-center justify-center mx-auto mb-6",children:jsxRuntimeExports.jsx(ShoppingBag,{className:"w-10 h-10 text-secondary-300 dark:text-secondary-600"})}),jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-secondary-900 dark:text-white mb-2",children:"Gi hng ca bn ang trng"}),jsxRuntimeExports.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 mb-8 max-w-md mx-auto",children:"C v nh bn cha chn c sn phm no. Hy khm ph b su tp mi nht ca chng ti ngay!"}),jsxRuntimeExports.jsx(Link$1,{to:"/shop",className:"btn btn-primary btn-lg rounded-full px-12",children:"Tip tc mua sm"})]});const pt=_e.subtotal>=5e5?0:3e4,mt=Math.round(_e.subtotal*.08),xt=_e.subtotal+pt+mt;return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Helmet,{children:jsxRuntimeExports.jsx("title",{children:"Gi hng - Fashion Store"})}),jsxRuntimeExports.jsx("div",{className:"bg-secondary-50 dark:bg-black/95 min-h-screen py-12",children:jsxRuntimeExports.jsxs("div",{className:"container-custom",children:[jsxRuntimeExports.jsxs("nav",{className:"mb-6 flex items-center gap-2 text-sm text-secondary-500 dark:text-secondary-400",children:[jsxRuntimeExports.jsx(Link$1,{to:"/",className:"hover:text-primary-600 transition-colors",children:"Trang ch"}),jsxRuntimeExports.jsx("span",{children:""}),jsxRuntimeExports.jsx("span",{className:"text-secondary-900 dark:text-white font-medium",children:"Gi hng"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-end mb-8",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-secondary-900 dark:text-white",children:"Gi hng ca bn"}),jsxRuntimeExports.jsxs("span",{className:"text-secondary-500 dark:text-secondary-400 font-medium",children:[_e.items.length," loi sn phm"]})]}),jsxRuntimeExports.jsxs("div",{className:"grid lg:grid-cols-12 gap-10",children:[jsxRuntimeExports.jsxs("div",{className:"lg:col-span-8 space-y-6",children:[jsxRuntimeExports.jsx("div",{className:"space-y-4",children:_e.items.map(yt=>{var vt,gt,Et,jt,kt;return jsxRuntimeExports.jsxs("div",{className:`bg-white dark:bg-secondary-900 rounded-2xl p-6 shadow-sm border border-secondary-100 dark:border-secondary-800 flex gap-6 relative transition-all ${it.has(yt.id)?"opacity-60 grayscale":""}`,children:[jsxRuntimeExports.jsx(Link$1,{to:`/products/${(vt=yt.product)==null?void 0:vt.slug}`,className:"w-24 h-24 sm:w-32 sm:h-32 bg-secondary-50 dark:bg-secondary-800 rounded-xl overflow-hidden flex-shrink-0 border border-secondary-100 dark:border-secondary-700",children:jsxRuntimeExports.jsx("img",{src:((gt=yt.product)==null?void 0:gt.image)||"/placeholder.jpg",alt:((Et=yt.product)==null?void 0:Et.name)||"Product",className:"w-full h-full object-cover"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 flex flex-col justify-between pt-1",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start gap-4",children:[jsxRuntimeExports.jsx(Link$1,{to:`/products/${(jt=yt.product)==null?void 0:jt.slug}`,className:"text-lg font-bold text-secondary-900 dark:text-white hover:text-primary-600 transition-colors line-clamp-1",children:((kt=yt.product)==null?void 0:kt.name)||"Sn phm"}),jsxRuntimeExports.jsx("span",{className:"text-lg font-bold text-secondary-900 dark:text-white whitespace-nowrap",children:formatPrice(yt.price)})]}),yt.options&&yt.options.length>0&&jsxRuntimeExports.jsx("p",{className:"text-sm text-secondary-500 dark:text-secondary-400 mt-1",children:yt.options.map(Rt=>Rt.value).join(", ")}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-1.5 mt-2",children:yt.qty<yt.stock_qty?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-4 h-4 text-green-500"}),jsxRuntimeExports.jsx("span",{className:"text-xs font-semibold text-green-600",children:"Cn hng"})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(CircleAlert,{className:"w-4 h-4 text-orange-500"}),jsxRuntimeExports.jsx("span",{className:"text-xs font-semibold text-orange-600",children:"Sp ht hng"})]})})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mt-4",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>ut(yt.id),disabled:it.has(yt.id),className:"flex items-center gap-1.5 text-xs font-bold text-secondary-400 hover:text-red-500 uppercase tracking-wider transition-colors",children:[jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4"}),"Xa"]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-end gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center bg-secondary-50 dark:bg-secondary-800 rounded-full border border-secondary-200 dark:border-secondary-700",children:[jsxRuntimeExports.jsx("button",{onClick:()=>ct(yt.id,yt.qty,-1),disabled:yt.qty<=1||it.has(yt.id),className:"w-8 h-8 flex items-center justify-center dark:text-white hover:text-primary-600 disabled:opacity-30",children:jsxRuntimeExports.jsx(Minus,{className:"w-3 h-3"})}),jsxRuntimeExports.jsx("input",{type:"number",min:"1",max:yt.stock_qty,value:yt.qty,onChange:Rt=>{const St=parseInt(Rt.target.value);!isNaN(St)&&St>=1&&St<=yt.stock_qty&&et(yt.id,St)},className:"w-12 bg-transparent text-center text-xs font-bold text-secondary-900 dark:text-white border-0 focus:ring-0 p-0"}),jsxRuntimeExports.jsx("button",{onClick:()=>ct(yt.id,yt.qty,1),disabled:yt.qty>=yt.stock_qty||it.has(yt.id),className:"w-8 h-8 flex items-center justify-center dark:text-white hover:text-primary-600 disabled:opacity-30",children:jsxRuntimeExports.jsx(Plus,{className:"w-3 h-3"})})]}),jsxRuntimeExports.jsxs("span",{className:"text-xs font-medium text-secondary-400",children:["Tng: ",formatPrice(yt.price*yt.qty)]})]})]})]})]},yt.id)})}),jsxRuntimeExports.jsxs("div",{className:"pt-4 flex justify-between items-center",children:[jsxRuntimeExports.jsxs(Link$1,{to:"/shop",className:"group flex items-center gap-2 text-sm font-bold text-primary-600",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4 transition-transform group-hover:-translate-x-1"}),"Tip tc mua sm"]}),jsxRuntimeExports.jsx("button",{onClick:dt,className:"text-xs font-bold text-secondary-400 hover:text-red-500 uppercase tracking-widest transition-colors",children:"Dn trng gi hng"})]})]}),jsxRuntimeExports.jsx("div",{className:"lg:col-span-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-secondary-900 rounded-2xl p-8 shadow-sm border border-secondary-100 dark:border-secondary-800 sticky top-24",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-secondary-900 dark:text-white mb-6",children:"Tm tt n hng"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4 mb-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-secondary-500 dark:text-secondary-400",children:"Tm tnh"}),jsxRuntimeExports.jsx("span",{className:"font-bold text-secondary-900 dark:text-white",children:formatPrice(_e.subtotal)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-secondary-500 dark:text-secondary-400",children:"Ph vn chuyn d kin"}),jsxRuntimeExports.jsx("span",{className:"font-bold text-secondary-900 dark:text-white",children:pt===0?"Min ph":formatPrice(pt)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-secondary-500 dark:text-secondary-400",children:"Thu d kin (8%)"}),jsxRuntimeExports.jsx("span",{className:"font-bold text-secondary-900 dark:text-white",children:formatPrice(mt)})]})]}),jsxRuntimeExports.jsxs("div",{className:"mb-8",children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-bold text-secondary-400 dark:text-secondary-500 uppercase tracking-widest mb-3",children:"M gim gi hoc Th qu tng"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("input",{type:"text",value:ot,onChange:yt=>lt(yt.target.value),placeholder:"Nhp m...",className:"flex-1 bg-secondary-50 dark:bg-secondary-800 border-secondary-200 dark:border-secondary-700 rounded-lg px-4 py-2.5 text-sm dark:text-white focus:ring-primary-600 focus:border-primary-600"}),jsxRuntimeExports.jsx("button",{className:"bg-secondary-100 hover:bg-secondary-200 dark:bg-secondary-800 dark:hover:bg-secondary-700 text-secondary-700 dark:text-secondary-300 px-4 py-2.5 rounded-lg text-sm font-bold transition-all",children:"p dng"})]})]}),jsxRuntimeExports.jsx("div",{className:"border-t border-secondary-100 dark:border-secondary-800 pt-6 mb-8",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-end",children:[jsxRuntimeExports.jsx("span",{className:"text-lg font-bold text-secondary-900 dark:text-white",children:"Tng cng"}),jsxRuntimeExports.jsx("span",{className:"text-2xl font-black text-secondary-900 dark:text-white",children:formatPrice(xt)})]})}),jsxRuntimeExports.jsxs("button",{onClick:()=>st("/checkout"),className:"w-full btn btn-primary btn-lg rounded-xl h-14 flex items-center justify-center gap-3 font-bold shadow-lg shadow-primary-100 transition-all hover:-translate-y-1 active:translate-y-0",children:[jsxRuntimeExports.jsx(Lock,{className:"w-5 h-5"}),"Thanh ton"]}),jsxRuntimeExports.jsxs("div",{className:"mt-8 grid grid-cols-2 gap-4 border-t border-secondary-50 dark:border-secondary-800 pt-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-bold text-secondary-400 dark:text-secondary-500 uppercase tracking-widest",children:[jsxRuntimeExports.jsx(ShieldCheck,{className:"w-4 h-4 text-secondary-300 dark:text-secondary-600"}),"Bo mt SSL"]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-bold text-secondary-400 dark:text-secondary-500 uppercase tracking-widest",children:[jsxRuntimeExports.jsx(RotateCcw,{className:"w-4 h-4 text-secondary-300 dark:text-secondary-600"}),"i tr min ph"]})]})]})})]})]})})]})}function useAttribution(_e,et){const rt=reactExports.useRef(et);reactExports.useEffect(function(){et!==rt.current&&_e.attributionControl!=null&&(rt.current!=null&&_e.attributionControl.removeAttribution(rt.current),et!=null&&_e.attributionControl.addAttribution(et)),rt.current=et},[_e,et])}const CONTEXT_VERSION=1;function createLeafletContext(_e){return Object.freeze({__version:CONTEXT_VERSION,map:_e})}function extendContext(_e,et){return Object.freeze({..._e,...et})}const LeafletContext=reactExports.createContext(null),LeafletProvider=LeafletContext.Provider;function useLeafletContext(){const _e=reactExports.useContext(LeafletContext);if(_e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return _e}function createContainerComponent(_e){function et(rt,nt){const{instance:st,context:it}=_e(rt).current;return reactExports.useImperativeHandle(nt,()=>st),rt.children==null?null:React$3.createElement(LeafletProvider,{value:it},rt.children)}return reactExports.forwardRef(et)}function createDivOverlayComponent(_e){function et(rt,nt){const[st,it]=reactExports.useState(!1),{instance:at}=_e(rt,it).current;reactExports.useImperativeHandle(nt,()=>at),reactExports.useEffect(function(){st&&at.update()},[at,st,rt.children]);const ot=at._contentNode;return ot?reactDomExports.createPortal(rt.children,ot):null}return reactExports.forwardRef(et)}function createLeafComponent(_e){function et(rt,nt){const{instance:st}=_e(rt).current;return reactExports.useImperativeHandle(nt,()=>st),null}return reactExports.forwardRef(et)}function useEventHandlers(_e,et){const rt=reactExports.useRef();reactExports.useEffect(function(){return et!=null&&_e.instance.on(et),rt.current=et,function(){rt.current!=null&&_e.instance.off(rt.current),rt.current=null}},[_e,et])}function withPane(_e,et){const rt=_e.pane??et.pane;return rt?{..._e,pane:rt}:_e}function createDivOverlayHook(_e,et){return function(nt,st){const it=useLeafletContext(),at=_e(withPane(nt,it),it);return useAttribution(it.map,nt.attribution),useEventHandlers(at.current,nt.eventHandlers),et(at.current,it,nt,st),at}}var leafletSrc={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(_e,et){(function(rt,nt){nt(et)})(commonjsGlobal,function(rt){var nt="1.9.4";function st(ft){var bt,wt,Ct,Mt;for(wt=1,Ct=arguments.length;wt<Ct;wt++){Mt=arguments[wt];for(bt in Mt)ft[bt]=Mt[bt]}return ft}var it=Object.create||function(){function ft(){}return function(bt){return ft.prototype=bt,new ft}}();function at(ft,bt){var wt=Array.prototype.slice;if(ft.bind)return ft.bind.apply(ft,wt.call(arguments,1));var Ct=wt.call(arguments,2);return function(){return ft.apply(bt,Ct.length?Ct.concat(wt.call(arguments)):arguments)}}var ot=0;function lt(ft){return"_leaflet_id"in ft||(ft._leaflet_id=++ot),ft._leaflet_id}function ct(ft,bt,wt){var Ct,Mt,Ut,Yt;return Yt=function(){Ct=!1,Mt&&(Ut.apply(wt,Mt),Mt=!1)},Ut=function(){Ct?Mt=arguments:(ft.apply(wt,arguments),setTimeout(Yt,bt),Ct=!0)},Ut}function ut(ft,bt,wt){var Ct=bt[1],Mt=bt[0],Ut=Ct-Mt;return ft===Ct&&wt?ft:((ft-Mt)%Ut+Ut)%Ut+Mt}function dt(){return!1}function pt(ft,bt){if(bt===!1)return ft;var wt=Math.pow(10,bt===void 0?6:bt);return Math.round(ft*wt)/wt}function mt(ft){return ft.trim?ft.trim():ft.replace(/^\s+|\s+$/g,"")}function xt(ft){return mt(ft).split(/\s+/)}function yt(ft,bt){Object.prototype.hasOwnProperty.call(ft,"options")||(ft.options=ft.options?it(ft.options):{});for(var wt in bt)ft.options[wt]=bt[wt];return ft.options}function vt(ft,bt,wt){var Ct=[];for(var Mt in ft)Ct.push(encodeURIComponent(wt?Mt.toUpperCase():Mt)+"="+encodeURIComponent(ft[Mt]));return(!bt||bt.indexOf("?")===-1?"?":"&")+Ct.join("&")}var gt=/\{ *([\w_ -]+) *\}/g;function Et(ft,bt){return ft.replace(gt,function(wt,Ct){var Mt=bt[Ct];if(Mt===void 0)throw new Error("No value provided for variable "+wt);return typeof Mt=="function"&&(Mt=Mt(bt)),Mt})}var jt=Array.isArray||function(ft){return Object.prototype.toString.call(ft)==="[object Array]"};function kt(ft,bt){for(var wt=0;wt<ft.length;wt++)if(ft[wt]===bt)return wt;return-1}var Rt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function St(ft){return window["webkit"+ft]||window["moz"+ft]||window["ms"+ft]}var _t=0;function Nt(ft){var bt=+new Date,wt=Math.max(0,16-(bt-_t));return _t=bt+wt,window.setTimeout(ft,wt)}var Lt=window.requestAnimationFrame||St("RequestAnimationFrame")||Nt,$t=window.cancelAnimationFrame||St("CancelAnimationFrame")||St("CancelRequestAnimationFrame")||function(ft){window.clearTimeout(ft)};function Ft(ft,bt,wt){if(wt&&Lt===Nt)ft.call(bt);else return Lt.call(window,at(ft,bt))}function Tt(ft){ft&&$t.call(window,ft)}var Bt={__proto__:null,extend:st,create:it,bind:at,get lastId(){return ot},stamp:lt,throttle:ct,wrapNum:ut,falseFn:dt,formatNum:pt,trim:mt,splitWords:xt,setOptions:yt,getParamString:vt,template:Et,isArray:jt,indexOf:kt,emptyImageUrl:Rt,requestFn:Lt,cancelFn:$t,requestAnimFrame:Ft,cancelAnimFrame:Tt};function Wt(){}Wt.extend=function(ft){var bt=function(){yt(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},wt=bt.__super__=this.prototype,Ct=it(wt);Ct.constructor=bt,bt.prototype=Ct;for(var Mt in this)Object.prototype.hasOwnProperty.call(this,Mt)&&Mt!=="prototype"&&Mt!=="__super__"&&(bt[Mt]=this[Mt]);return ft.statics&&st(bt,ft.statics),ft.includes&&(qt(ft.includes),st.apply(null,[Ct].concat(ft.includes))),st(Ct,ft),delete Ct.statics,delete Ct.includes,Ct.options&&(Ct.options=wt.options?it(wt.options):{},st(Ct.options,ft.options)),Ct._initHooks=[],Ct.callInitHooks=function(){if(!this._initHooksCalled){wt.callInitHooks&&wt.callInitHooks.call(this),this._initHooksCalled=!0;for(var Ut=0,Yt=Ct._initHooks.length;Ut<Yt;Ut++)Ct._initHooks[Ut].call(this)}},bt},Wt.include=function(ft){var bt=this.prototype.options;return st(this.prototype,ft),ft.options&&(this.prototype.options=bt,this.mergeOptions(ft.options)),this},Wt.mergeOptions=function(ft){return st(this.prototype.options,ft),this},Wt.addInitHook=function(ft){var bt=Array.prototype.slice.call(arguments,1),wt=typeof ft=="function"?ft:function(){this[ft].apply(this,bt)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(wt),this};function qt(ft){if(!(typeof L>"u"||!L||!L.Mixin)){ft=jt(ft)?ft:[ft];for(var bt=0;bt<ft.length;bt++)ft[bt]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Ot={on:function(ft,bt,wt){if(typeof ft=="object")for(var Ct in ft)this._on(Ct,ft[Ct],bt);else{ft=xt(ft);for(var Mt=0,Ut=ft.length;Mt<Ut;Mt++)this._on(ft[Mt],bt,wt)}return this},off:function(ft,bt,wt){if(!arguments.length)delete this._events;else if(typeof ft=="object")for(var Ct in ft)this._off(Ct,ft[Ct],bt);else{ft=xt(ft);for(var Mt=arguments.length===1,Ut=0,Yt=ft.length;Ut<Yt;Ut++)Mt?this._off(ft[Ut]):this._off(ft[Ut],bt,wt)}return this},_on:function(ft,bt,wt,Ct){if(typeof bt!="function"){console.warn("wrong listener type: "+typeof bt);return}if(this._listens(ft,bt,wt)===!1){wt===this&&(wt=void 0);var Mt={fn:bt,ctx:wt};Ct&&(Mt.once=!0),this._events=this._events||{},this._events[ft]=this._events[ft]||[],this._events[ft].push(Mt)}},_off:function(ft,bt,wt){var Ct,Mt,Ut;if(this._events&&(Ct=this._events[ft],!!Ct)){if(arguments.length===1){if(this._firingCount)for(Mt=0,Ut=Ct.length;Mt<Ut;Mt++)Ct[Mt].fn=dt;delete this._events[ft];return}if(typeof bt!="function"){console.warn("wrong listener type: "+typeof bt);return}var Yt=this._listens(ft,bt,wt);if(Yt!==!1){var er=Ct[Yt];this._firingCount&&(er.fn=dt,this._events[ft]=Ct=Ct.slice()),Ct.splice(Yt,1)}}},fire:function(ft,bt,wt){if(!this.listens(ft,wt))return this;var Ct=st({},bt,{type:ft,target:this,sourceTarget:bt&&bt.sourceTarget||this});if(this._events){var Mt=this._events[ft];if(Mt){this._firingCount=this._firingCount+1||1;for(var Ut=0,Yt=Mt.length;Ut<Yt;Ut++){var er=Mt[Ut],sr=er.fn;er.once&&this.off(ft,sr,er.ctx),sr.call(er.ctx||this,Ct)}this._firingCount--}}return wt&&this._propagateEvent(Ct),this},listens:function(ft,bt,wt,Ct){typeof ft!="string"&&console.warn('"string" type argument expected');var Mt=bt;typeof bt!="function"&&(Ct=!!bt,Mt=void 0,wt=void 0);var Ut=this._events&&this._events[ft];if(Ut&&Ut.length&&this._listens(ft,Mt,wt)!==!1)return!0;if(Ct){for(var Yt in this._eventParents)if(this._eventParents[Yt].listens(ft,bt,wt,Ct))return!0}return!1},_listens:function(ft,bt,wt){if(!this._events)return!1;var Ct=this._events[ft]||[];if(!bt)return!!Ct.length;wt===this&&(wt=void 0);for(var Mt=0,Ut=Ct.length;Mt<Ut;Mt++)if(Ct[Mt].fn===bt&&Ct[Mt].ctx===wt)return Mt;return!1},once:function(ft,bt,wt){if(typeof ft=="object")for(var Ct in ft)this._on(Ct,ft[Ct],bt,!0);else{ft=xt(ft);for(var Mt=0,Ut=ft.length;Mt<Ut;Mt++)this._on(ft[Mt],bt,wt,!0)}return this},addEventParent:function(ft){return this._eventParents=this._eventParents||{},this._eventParents[lt(ft)]=ft,this},removeEventParent:function(ft){return this._eventParents&&delete this._eventParents[lt(ft)],this},_propagateEvent:function(ft){for(var bt in this._eventParents)this._eventParents[bt].fire(ft.type,st({layer:ft.target,propagatedFrom:ft.target},ft),!0)}};Ot.addEventListener=Ot.on,Ot.removeEventListener=Ot.clearAllEventListeners=Ot.off,Ot.addOneTimeEventListener=Ot.once,Ot.fireEvent=Ot.fire,Ot.hasEventListeners=Ot.listens;var Dt=Wt.extend(Ot);function Pt(ft,bt,wt){this.x=wt?Math.round(ft):ft,this.y=wt?Math.round(bt):bt}var It=Math.trunc||function(ft){return ft>0?Math.floor(ft):Math.ceil(ft)};Pt.prototype={clone:function(){return new Pt(this.x,this.y)},add:function(ft){return this.clone()._add(At(ft))},_add:function(ft){return this.x+=ft.x,this.y+=ft.y,this},subtract:function(ft){return this.clone()._subtract(At(ft))},_subtract:function(ft){return this.x-=ft.x,this.y-=ft.y,this},divideBy:function(ft){return this.clone()._divideBy(ft)},_divideBy:function(ft){return this.x/=ft,this.y/=ft,this},multiplyBy:function(ft){return this.clone()._multiplyBy(ft)},_multiplyBy:function(ft){return this.x*=ft,this.y*=ft,this},scaleBy:function(ft){return new Pt(this.x*ft.x,this.y*ft.y)},unscaleBy:function(ft){return new Pt(this.x/ft.x,this.y/ft.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=It(this.x),this.y=It(this.y),this},distanceTo:function(ft){ft=At(ft);var bt=ft.x-this.x,wt=ft.y-this.y;return Math.sqrt(bt*bt+wt*wt)},equals:function(ft){return ft=At(ft),ft.x===this.x&&ft.y===this.y},contains:function(ft){return ft=At(ft),Math.abs(ft.x)<=Math.abs(this.x)&&Math.abs(ft.y)<=Math.abs(this.y)},toString:function(){return"Point("+pt(this.x)+", "+pt(this.y)+")"}};function At(ft,bt,wt){return ft instanceof Pt?ft:jt(ft)?new Pt(ft[0],ft[1]):ft==null?ft:typeof ft=="object"&&"x"in ft&&"y"in ft?new Pt(ft.x,ft.y):new Pt(ft,bt,wt)}function Ht(ft,bt){if(ft)for(var wt=bt?[ft,bt]:ft,Ct=0,Mt=wt.length;Ct<Mt;Ct++)this.extend(wt[Ct])}Ht.prototype={extend:function(ft){var bt,wt;if(!ft)return this;if(ft instanceof Pt||typeof ft[0]=="number"||"x"in ft)bt=wt=At(ft);else if(ft=Gt(ft),bt=ft.min,wt=ft.max,!bt||!wt)return this;return!this.min&&!this.max?(this.min=bt.clone(),this.max=wt.clone()):(this.min.x=Math.min(bt.x,this.min.x),this.max.x=Math.max(wt.x,this.max.x),this.min.y=Math.min(bt.y,this.min.y),this.max.y=Math.max(wt.y,this.max.y)),this},getCenter:function(ft){return At((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,ft)},getBottomLeft:function(){return At(this.min.x,this.max.y)},getTopRight:function(){return At(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(ft){var bt,wt;return typeof ft[0]=="number"||ft instanceof Pt?ft=At(ft):ft=Gt(ft),ft instanceof Ht?(bt=ft.min,wt=ft.max):bt=wt=ft,bt.x>=this.min.x&&wt.x<=this.max.x&&bt.y>=this.min.y&&wt.y<=this.max.y},intersects:function(ft){ft=Gt(ft);var bt=this.min,wt=this.max,Ct=ft.min,Mt=ft.max,Ut=Mt.x>=bt.x&&Ct.x<=wt.x,Yt=Mt.y>=bt.y&&Ct.y<=wt.y;return Ut&&Yt},overlaps:function(ft){ft=Gt(ft);var bt=this.min,wt=this.max,Ct=ft.min,Mt=ft.max,Ut=Mt.x>bt.x&&Ct.x<wt.x,Yt=Mt.y>bt.y&&Ct.y<wt.y;return Ut&&Yt},isValid:function(){return!!(this.min&&this.max)},pad:function(ft){var bt=this.min,wt=this.max,Ct=Math.abs(bt.x-wt.x)*ft,Mt=Math.abs(bt.y-wt.y)*ft;return Gt(At(bt.x-Ct,bt.y-Mt),At(wt.x+Ct,wt.y+Mt))},equals:function(ft){return ft?(ft=Gt(ft),this.min.equals(ft.getTopLeft())&&this.max.equals(ft.getBottomRight())):!1}};function Gt(ft,bt){return!ft||ft instanceof Ht?ft:new Ht(ft,bt)}function Vt(ft,bt){if(ft)for(var wt=bt?[ft,bt]:ft,Ct=0,Mt=wt.length;Ct<Mt;Ct++)this.extend(wt[Ct])}Vt.prototype={extend:function(ft){var bt=this._southWest,wt=this._northEast,Ct,Mt;if(ft instanceof rr)Ct=ft,Mt=ft;else if(ft instanceof Vt){if(Ct=ft._southWest,Mt=ft._northEast,!Ct||!Mt)return this}else return ft?this.extend(ar(ft)||Jt(ft)):this;return!bt&&!wt?(this._southWest=new rr(Ct.lat,Ct.lng),this._northEast=new rr(Mt.lat,Mt.lng)):(bt.lat=Math.min(Ct.lat,bt.lat),bt.lng=Math.min(Ct.lng,bt.lng),wt.lat=Math.max(Mt.lat,wt.lat),wt.lng=Math.max(Mt.lng,wt.lng)),this},pad:function(ft){var bt=this._southWest,wt=this._northEast,Ct=Math.abs(bt.lat-wt.lat)*ft,Mt=Math.abs(bt.lng-wt.lng)*ft;return new Vt(new rr(bt.lat-Ct,bt.lng-Mt),new rr(wt.lat+Ct,wt.lng+Mt))},getCenter:function(){return new rr((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new rr(this.getNorth(),this.getWest())},getSouthEast:function(){return new rr(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(ft){typeof ft[0]=="number"||ft instanceof rr||"lat"in ft?ft=ar(ft):ft=Jt(ft);var bt=this._southWest,wt=this._northEast,Ct,Mt;return ft instanceof Vt?(Ct=ft.getSouthWest(),Mt=ft.getNorthEast()):Ct=Mt=ft,Ct.lat>=bt.lat&&Mt.lat<=wt.lat&&Ct.lng>=bt.lng&&Mt.lng<=wt.lng},intersects:function(ft){ft=Jt(ft);var bt=this._southWest,wt=this._northEast,Ct=ft.getSouthWest(),Mt=ft.getNorthEast(),Ut=Mt.lat>=bt.lat&&Ct.lat<=wt.lat,Yt=Mt.lng>=bt.lng&&Ct.lng<=wt.lng;return Ut&&Yt},overlaps:function(ft){ft=Jt(ft);var bt=this._southWest,wt=this._northEast,Ct=ft.getSouthWest(),Mt=ft.getNorthEast(),Ut=Mt.lat>bt.lat&&Ct.lat<wt.lat,Yt=Mt.lng>bt.lng&&Ct.lng<wt.lng;return Ut&&Yt},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(ft,bt){return ft?(ft=Jt(ft),this._southWest.equals(ft.getSouthWest(),bt)&&this._northEast.equals(ft.getNorthEast(),bt)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Jt(ft,bt){return ft instanceof Vt?ft:new Vt(ft,bt)}function rr(ft,bt,wt){if(isNaN(ft)||isNaN(bt))throw new Error("Invalid LatLng object: ("+ft+", "+bt+")");this.lat=+ft,this.lng=+bt,wt!==void 0&&(this.alt=+wt)}rr.prototype={equals:function(ft,bt){if(!ft)return!1;ft=ar(ft);var wt=Math.max(Math.abs(this.lat-ft.lat),Math.abs(this.lng-ft.lng));return wt<=(bt===void 0?1e-9:bt)},toString:function(ft){return"LatLng("+pt(this.lat,ft)+", "+pt(this.lng,ft)+")"},distanceTo:function(ft){return Er.distance(this,ar(ft))},wrap:function(){return Er.wrapLatLng(this)},toBounds:function(ft){var bt=180*ft/40075017,wt=bt/Math.cos(Math.PI/180*this.lat);return Jt([this.lat-bt,this.lng-wt],[this.lat+bt,this.lng+wt])},clone:function(){return new rr(this.lat,this.lng,this.alt)}};function ar(ft,bt,wt){return ft instanceof rr?ft:jt(ft)&&typeof ft[0]!="object"?ft.length===3?new rr(ft[0],ft[1],ft[2]):ft.length===2?new rr(ft[0],ft[1]):null:ft==null?ft:typeof ft=="object"&&"lat"in ft?new rr(ft.lat,"lng"in ft?ft.lng:ft.lon,ft.alt):bt===void 0?null:new rr(ft,bt,wt)}var mr={latLngToPoint:function(ft,bt){var wt=this.projection.project(ft),Ct=this.scale(bt);return this.transformation._transform(wt,Ct)},pointToLatLng:function(ft,bt){var wt=this.scale(bt),Ct=this.transformation.untransform(ft,wt);return this.projection.unproject(Ct)},project:function(ft){return this.projection.project(ft)},unproject:function(ft){return this.projection.unproject(ft)},scale:function(ft){return 256*Math.pow(2,ft)},zoom:function(ft){return Math.log(ft/256)/Math.LN2},getProjectedBounds:function(ft){if(this.infinite)return null;var bt=this.projection.bounds,wt=this.scale(ft),Ct=this.transformation.transform(bt.min,wt),Mt=this.transformation.transform(bt.max,wt);return new Ht(Ct,Mt)},infinite:!1,wrapLatLng:function(ft){var bt=this.wrapLng?ut(ft.lng,this.wrapLng,!0):ft.lng,wt=this.wrapLat?ut(ft.lat,this.wrapLat,!0):ft.lat,Ct=ft.alt;return new rr(wt,bt,Ct)},wrapLatLngBounds:function(ft){var bt=ft.getCenter(),wt=this.wrapLatLng(bt),Ct=bt.lat-wt.lat,Mt=bt.lng-wt.lng;if(Ct===0&&Mt===0)return ft;var Ut=ft.getSouthWest(),Yt=ft.getNorthEast(),er=new rr(Ut.lat-Ct,Ut.lng-Mt),sr=new rr(Yt.lat-Ct,Yt.lng-Mt);return new Vt(er,sr)}},Er=st({},mr,{wrapLng:[-180,180],R:6371e3,distance:function(ft,bt){var wt=Math.PI/180,Ct=ft.lat*wt,Mt=bt.lat*wt,Ut=Math.sin((bt.lat-ft.lat)*wt/2),Yt=Math.sin((bt.lng-ft.lng)*wt/2),er=Ut*Ut+Math.cos(Ct)*Math.cos(Mt)*Yt*Yt,sr=2*Math.atan2(Math.sqrt(er),Math.sqrt(1-er));return this.R*sr}}),or=6378137,yr={R:or,MAX_LATITUDE:85.0511287798,project:function(ft){var bt=Math.PI/180,wt=this.MAX_LATITUDE,Ct=Math.max(Math.min(wt,ft.lat),-wt),Mt=Math.sin(Ct*bt);return new Pt(this.R*ft.lng*bt,this.R*Math.log((1+Mt)/(1-Mt))/2)},unproject:function(ft){var bt=180/Math.PI;return new rr((2*Math.atan(Math.exp(ft.y/this.R))-Math.PI/2)*bt,ft.x*bt/this.R)},bounds:function(){var ft=or*Math.PI;return new Ht([-ft,-ft],[ft,ft])}()};function vr(ft,bt,wt,Ct){if(jt(ft)){this._a=ft[0],this._b=ft[1],this._c=ft[2],this._d=ft[3];return}this._a=ft,this._b=bt,this._c=wt,this._d=Ct}vr.prototype={transform:function(ft,bt){return this._transform(ft.clone(),bt)},_transform:function(ft,bt){return bt=bt||1,ft.x=bt*(this._a*ft.x+this._b),ft.y=bt*(this._c*ft.y+this._d),ft},untransform:function(ft,bt){return bt=bt||1,new Pt((ft.x/bt-this._b)/this._a,(ft.y/bt-this._d)/this._c)}};function Zt(ft,bt,wt,Ct){return new vr(ft,bt,wt,Ct)}var pr=st({},Er,{code:"EPSG:3857",projection:yr,transformation:function(){var ft=.5/(Math.PI*yr.R);return Zt(ft,.5,-ft,.5)}()}),lr=st({},pr,{code:"EPSG:900913"});function wr(ft){return document.createElementNS("http://www.w3.org/2000/svg",ft)}function Rr(ft,bt){var wt="",Ct,Mt,Ut,Yt,er,sr;for(Ct=0,Ut=ft.length;Ct<Ut;Ct++){for(er=ft[Ct],Mt=0,Yt=er.length;Mt<Yt;Mt++)sr=er[Mt],wt+=(Mt?"L":"M")+sr.x+" "+sr.y;wt+=bt?br.svg?"z":"x":""}return wt||"M0 0"}var Tr=document.documentElement.style,Nr="ActiveXObject"in window,Mr=Nr&&!document.addEventListener,Dr="msLaunchUri"in navigator&&!("documentMode"in document),Kt=an("webkit"),Qt=an("android"),ir=an("android 2")||an("android 3"),dr=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ur=Qt&&an("Google")&&dr<537&&!("AudioNode"in window),Xt=!!window.opera,nr=!Dr&&an("chrome"),hr=an("gecko")&&!Kt&&!Xt&&!Nr,xr=!nr&&an("safari"),jr=an("phantom"),Lr="OTransition"in Tr,Vr=navigator.platform.indexOf("Win")===0,Kr=Nr&&"transition"in Tr,Xr="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ir,Jr="MozPerspective"in Tr,Ur=!window.L_DISABLE_3D&&(Kr||Xr||Jr)&&!Lr&&!jr,qr=typeof orientation<"u"||an("mobile"),Zr=qr&&Kt,Gn=qr&&Xr,Ws=!window.PointerEvent&&window.MSPointerEvent,qs=!!(window.PointerEvent||Ws),Gs="ontouchstart"in window||!!window.TouchEvent,qo=!window.L_NO_TOUCH&&(Gs||qs),Go=qr&&Xt,Ko=qr&&hr,Yo=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Xo=function(){var ft=!1;try{var bt=Object.defineProperty({},"passive",{get:function(){ft=!0}});window.addEventListener("testPassiveEventSupport",dt,bt),window.removeEventListener("testPassiveEventSupport",dt,bt)}catch{}return ft}(),Zo=function(){return!!document.createElement("canvas").getContext}(),ms=!!(document.createElementNS&&wr("svg").createSVGRect),Jo=!!ms&&function(){var ft=document.createElement("div");return ft.innerHTML="<svg/>",(ft.firstChild&&ft.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Qo=!ms&&function(){try{var ft=document.createElement("div");ft.innerHTML='<v:shape adj="1"/>';var bt=ft.firstChild;return bt.style.behavior="url(#default#VML)",bt&&typeof bt.adj=="object"}catch{return!1}}(),xl=navigator.platform.indexOf("Mac")===0,yl=navigator.platform.indexOf("Linux")===0;function an(ft){return navigator.userAgent.toLowerCase().indexOf(ft)>=0}var br={ie:Nr,ielt9:Mr,edge:Dr,webkit:Kt,android:Qt,android23:ir,androidStock:ur,opera:Xt,chrome:nr,gecko:hr,safari:xr,phantom:jr,opera12:Lr,win:Vr,ie3d:Kr,webkit3d:Xr,gecko3d:Jr,any3d:Ur,mobile:qr,mobileWebkit:Zr,mobileWebkit3d:Gn,msPointer:Ws,pointer:qs,touch:qo,touchNative:Gs,mobileOpera:Go,mobileGecko:Ko,retina:Yo,passiveEvents:Xo,canvas:Zo,svg:ms,vml:Qo,inlineSvg:Jo,mac:xl,linux:yl},Ks=br.msPointer?"MSPointerDown":"pointerdown",Ys=br.msPointer?"MSPointerMove":"pointermove",Xs=br.msPointer?"MSPointerUp":"pointerup",Zs=br.msPointer?"MSPointerCancel":"pointercancel",xs={touchstart:Ks,touchmove:Ys,touchend:Xs,touchcancel:Zs},Js={touchstart:Cl,touchmove:Kn,touchend:Kn,touchcancel:Kn},wn={},Qs=!1;function El(ft,bt,wt){return bt==="touchstart"&&_l(),Js[bt]?(wt=Js[bt].bind(this,wt),ft.addEventListener(xs[bt],wt,!1),wt):(console.warn("wrong event specified:",bt),dt)}function wl(ft,bt,wt){if(!xs[bt]){console.warn("wrong event specified:",bt);return}ft.removeEventListener(xs[bt],wt,!1)}function Sl(ft){wn[ft.pointerId]=ft}function Rl(ft){wn[ft.pointerId]&&(wn[ft.pointerId]=ft)}function _i(ft){delete wn[ft.pointerId]}function _l(){Qs||(document.addEventListener(Ks,Sl,!0),document.addEventListener(Ys,Rl,!0),document.addEventListener(Xs,_i,!0),document.addEventListener(Zs,_i,!0),Qs=!0)}function Kn(ft,bt){if(bt.pointerType!==(bt.MSPOINTER_TYPE_MOUSE||"mouse")){bt.touches=[];for(var wt in wn)bt.touches.push(wn[wt]);bt.changedTouches=[bt],ft(bt)}}function Cl(ft,bt){bt.MSPOINTER_TYPE_TOUCH&&bt.pointerType===bt.MSPOINTER_TYPE_TOUCH&&Wr(bt),Kn(ft,bt)}function Pl(ft){var bt={},wt,Ct;for(Ct in ft)wt=ft[Ct],bt[Ct]=wt&&wt.bind?wt.bind(ft):wt;return ft=bt,bt.type="dblclick",bt.detail=2,bt.isTrusted=!1,bt._simulated=!0,bt}var Tl=200;function Al(ft,bt){ft.addEventListener("dblclick",bt);var wt=0,Ct;function Mt(Ut){if(Ut.detail!==1){Ct=Ut.detail;return}if(!(Ut.pointerType==="mouse"||Ut.sourceCapabilities&&!Ut.sourceCapabilities.firesTouchEvents)){var Yt=_a(Ut);if(!(Yt.some(function(sr){return sr instanceof HTMLLabelElement&&sr.attributes.for})&&!Yt.some(function(sr){return sr instanceof HTMLInputElement||sr instanceof HTMLSelectElement}))){var er=Date.now();er-wt<=Tl?(Ct++,Ct===2&&bt(Pl(Ut))):Ct=1,wt=er}}}return ft.addEventListener("click",Mt),{dblclick:bt,simDblclick:Mt}}function $l(ft,bt){ft.removeEventListener("dblclick",bt.dblclick),ft.removeEventListener("click",bt.simDblclick)}var gs=Zn(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),In=Zn(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),na=In==="webkitTransition"||In==="OTransition"?In+"End":"transitionend";function xa(ft){return typeof ft=="string"?document.getElementById(ft):ft}function On(ft,bt){var wt=ft.style[bt]||ft.currentStyle&&ft.currentStyle[bt];if((!wt||wt==="auto")&&document.defaultView){var Ct=document.defaultView.getComputedStyle(ft,null);wt=Ct?Ct[bt]:null}return wt==="auto"?null:wt}function $r(ft,bt,wt){var Ct=document.createElement(ft);return Ct.className=bt||"",wt&&wt.appendChild(Ct),Ct}function Or(ft){var bt=ft.parentNode;bt&&bt.removeChild(ft)}function Yn(ft){for(;ft.firstChild;)ft.removeChild(ft.firstChild)}function Sn(ft){var bt=ft.parentNode;bt&&bt.lastChild!==ft&&bt.appendChild(ft)}function Rn(ft){var bt=ft.parentNode;bt&&bt.firstChild!==ft&&bt.insertBefore(ft,bt.firstChild)}function ys(ft,bt){if(ft.classList!==void 0)return ft.classList.contains(bt);var wt=Xn(ft);return wt.length>0&&new RegExp("(^|\\s)"+bt+"(\\s|$)").test(wt)}function Cr(ft,bt){if(ft.classList!==void 0)for(var wt=xt(bt),Ct=0,Mt=wt.length;Ct<Mt;Ct++)ft.classList.add(wt[Ct]);else if(!ys(ft,bt)){var Ut=Xn(ft);vs(ft,(Ut?Ut+" ":"")+bt)}}function Fr(ft,bt){ft.classList!==void 0?ft.classList.remove(bt):vs(ft,mt((" "+Xn(ft)+" ").replace(" "+bt+" "," ")))}function vs(ft,bt){ft.className.baseVal===void 0?ft.className=bt:ft.className.baseVal=bt}function Xn(ft){return ft.correspondingElement&&(ft=ft.correspondingElement),ft.className.baseVal===void 0?ft.className:ft.className.baseVal}function Qr(ft,bt){"opacity"in ft.style?ft.style.opacity=bt:"filter"in ft.style&&Il(ft,bt)}function Il(ft,bt){var wt=!1,Ct="DXImageTransform.Microsoft.Alpha";try{wt=ft.filters.item(Ct)}catch{if(bt===1)return}bt=Math.round(bt*100),wt?(wt.Enabled=bt!==100,wt.Opacity=bt):ft.style.filter+=" progid:"+Ct+"(opacity="+bt+")"}function Zn(ft){for(var bt=document.documentElement.style,wt=0;wt<ft.length;wt++)if(ft[wt]in bt)return ft[wt];return!1}function yn(ft,bt,wt){var Ct=bt||new Pt(0,0);ft.style[gs]=(br.ie3d?"translate("+Ct.x+"px,"+Ct.y+"px)":"translate3d("+Ct.x+"px,"+Ct.y+"px,0)")+(wt?" scale("+wt+")":"")}function Br(ft,bt){ft._leaflet_pos=bt,br.any3d?yn(ft,bt):(ft.style.left=bt.x+"px",ft.style.top=bt.y+"px")}function vn(ft){return ft._leaflet_pos||new Pt(0,0)}var Mn,Ln,bs;if("onselectstart"in document)Mn=function(){_r(window,"selectstart",Wr)},Ln=function(){Ir(window,"selectstart",Wr)};else{var Dn=Zn(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Mn=function(){if(Dn){var ft=document.documentElement.style;bs=ft[Dn],ft[Dn]="none"}},Ln=function(){Dn&&(document.documentElement.style[Dn]=bs,bs=void 0)}}function Es(){_r(window,"dragstart",Wr)}function js(){Ir(window,"dragstart",Wr)}var Jn,ks;function ws(ft){for(;ft.tabIndex===-1;)ft=ft.parentNode;ft.style&&(Qn(),Jn=ft,ks=ft.style.outlineStyle,ft.style.outlineStyle="none",_r(window,"keydown",Qn))}function Qn(){Jn&&(Jn.style.outlineStyle=ks,Jn=void 0,ks=void 0,Ir(window,"keydown",Qn))}function ga(ft){do ft=ft.parentNode;while((!ft.offsetWidth||!ft.offsetHeight)&&ft!==document.body);return ft}function Ss(ft){var bt=ft.getBoundingClientRect();return{x:bt.width/ft.offsetWidth||1,y:bt.height/ft.offsetHeight||1,boundingClientRect:bt}}var Ol={__proto__:null,TRANSFORM:gs,TRANSITION:In,TRANSITION_END:na,get:xa,getStyle:On,create:$r,remove:Or,empty:Yn,toFront:Sn,toBack:Rn,hasClass:ys,addClass:Cr,removeClass:Fr,setClass:vs,getClass:Xn,setOpacity:Qr,testProp:Zn,setTransform:yn,setPosition:Br,getPosition:vn,get disableTextSelection(){return Mn},get enableTextSelection(){return Ln},disableImageDrag:Es,enableImageDrag:js,preventOutline:ws,restoreOutline:Qn,getSizedParentNode:ga,getScale:Ss};function _r(ft,bt,wt,Ct){if(bt&&typeof bt=="object")for(var Mt in bt)_s(ft,Mt,bt[Mt],wt);else{bt=xt(bt);for(var Ut=0,Yt=bt.length;Ut<Yt;Ut++)_s(ft,bt[Ut],wt,Ct)}return this}var cn="_leaflet_events";function Ir(ft,bt,wt,Ct){if(arguments.length===1)ba(ft),delete ft[cn];else if(bt&&typeof bt=="object")for(var Mt in bt)Ns(ft,Mt,bt[Mt],wt);else if(bt=xt(bt),arguments.length===2)ba(ft,function(er){return kt(bt,er)!==-1});else for(var Ut=0,Yt=bt.length;Ut<Yt;Ut++)Ns(ft,bt[Ut],wt,Ct);return this}function ba(ft,bt){for(var wt in ft[cn]){var Ct=wt.split(/\d/)[0];(!bt||bt(Ct))&&Ns(ft,Ct,null,null,wt)}}var Rs={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function _s(ft,bt,wt,Ct){var Mt=bt+lt(wt)+(Ct?"_"+lt(Ct):"");if(ft[cn]&&ft[cn][Mt])return this;var Ut=function(er){return wt.call(Ct||ft,er||window.event)},Yt=Ut;!br.touchNative&&br.pointer&&bt.indexOf("touch")===0?Ut=El(ft,bt,Ut):br.touch&&bt==="dblclick"?Ut=Al(ft,Ut):"addEventListener"in ft?bt==="touchstart"||bt==="touchmove"||bt==="wheel"||bt==="mousewheel"?ft.addEventListener(Rs[bt]||bt,Ut,br.passiveEvents?{passive:!1}:!1):bt==="mouseenter"||bt==="mouseleave"?(Ut=function(er){er=er||window.event,Ps(ft,er)&&Yt(er)},ft.addEventListener(Rs[bt],Ut,!1)):ft.addEventListener(bt,Yt,!1):ft.attachEvent("on"+bt,Ut),ft[cn]=ft[cn]||{},ft[cn][Mt]=Ut}function Ns(ft,bt,wt,Ct,Mt){Mt=Mt||bt+lt(wt)+(Ct?"_"+lt(Ct):"");var Ut=ft[cn]&&ft[cn][Mt];if(!Ut)return this;!br.touchNative&&br.pointer&&bt.indexOf("touch")===0?wl(ft,bt,Ut):br.touch&&bt==="dblclick"?$l(ft,Ut):"removeEventListener"in ft?ft.removeEventListener(Rs[bt]||bt,Ut,!1):ft.detachEvent("on"+bt,Ut),ft[cn][Mt]=null}function bn(ft){return ft.stopPropagation?ft.stopPropagation():ft.originalEvent?ft.originalEvent._stopped=!0:ft.cancelBubble=!0,this}function Cs(ft){return _s(ft,"wheel",bn),this}function Fn(ft){return _r(ft,"mousedown touchstart dblclick contextmenu",bn),ft._leaflet_disable_click=!0,this}function Wr(ft){return ft.preventDefault?ft.preventDefault():ft.returnValue=!1,this}function En(ft){return Wr(ft),bn(ft),this}function _a(ft){if(ft.composedPath)return ft.composedPath();for(var bt=[],wt=ft.target;wt;)bt.push(wt),wt=wt.parentNode;return bt}function $a(ft,bt){if(!bt)return new Pt(ft.clientX,ft.clientY);var wt=Ss(bt),Ct=wt.boundingClientRect;return new Pt((ft.clientX-Ct.left)/wt.x-bt.clientLeft,(ft.clientY-Ct.top)/wt.y-bt.clientTop)}var Ml=br.linux&&br.chrome?window.devicePixelRatio:br.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function eo(ft){return br.edge?ft.wheelDeltaY/2:ft.deltaY&&ft.deltaMode===0?-ft.deltaY/Ml:ft.deltaY&&ft.deltaMode===1?-ft.deltaY*20:ft.deltaY&&ft.deltaMode===2?-ft.deltaY*60:ft.deltaX||ft.deltaZ?0:ft.wheelDelta?(ft.wheelDeltaY||ft.wheelDelta)/2:ft.detail&&Math.abs(ft.detail)<32765?-ft.detail*20:ft.detail?ft.detail/-32765*60:0}function Ps(ft,bt){var wt=bt.relatedTarget;if(!wt)return!0;try{for(;wt&&wt!==ft;)wt=wt.parentNode}catch{return!1}return wt!==ft}var Ll={__proto__:null,on:_r,off:Ir,stopPropagation:bn,disableScrollPropagation:Cs,disableClickPropagation:Fn,preventDefault:Wr,stop:En,getPropagationPath:_a,getMousePosition:$a,getWheelDelta:eo,isExternalTarget:Ps,addListener:_r,removeListener:Ir},ro=Dt.extend({run:function(ft,bt,wt,Ct){this.stop(),this._el=ft,this._inProgress=!0,this._duration=wt||.25,this._easeOutPower=1/Math.max(Ct||.5,.2),this._startPos=vn(ft),this._offset=bt.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Ft(this._animate,this),this._step()},_step:function(ft){var bt=+new Date-this._startTime,wt=this._duration*1e3;bt<wt?this._runFrame(this._easeOut(bt/wt),ft):(this._runFrame(1),this._complete())},_runFrame:function(ft,bt){var wt=this._startPos.add(this._offset.multiplyBy(ft));bt&&wt._round(),Br(this._el,wt),this.fire("step")},_complete:function(){Tt(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(ft){return 1-Math.pow(1-ft,this._easeOutPower)}}),Ar=Dt.extend({options:{crs:pr,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(ft,bt){bt=yt(this,bt),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(ft),this._initLayout(),this._onResize=at(this._onResize,this),this._initEvents(),bt.maxBounds&&this.setMaxBounds(bt.maxBounds),bt.zoom!==void 0&&(this._zoom=this._limitZoom(bt.zoom)),bt.center&&bt.zoom!==void 0&&this.setView(ar(bt.center),bt.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=In&&br.any3d&&!br.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),_r(this._proxy,na,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(ft,bt,wt){if(bt=bt===void 0?this._zoom:this._limitZoom(bt),ft=this._limitCenter(ar(ft),bt,this.options.maxBounds),wt=wt||{},this._stop(),this._loaded&&!wt.reset&&wt!==!0){wt.animate!==void 0&&(wt.zoom=st({animate:wt.animate},wt.zoom),wt.pan=st({animate:wt.animate,duration:wt.duration},wt.pan));var Ct=this._zoom!==bt?this._tryAnimatedZoom&&this._tryAnimatedZoom(ft,bt,wt.zoom):this._tryAnimatedPan(ft,wt.pan);if(Ct)return clearTimeout(this._sizeTimer),this}return this._resetView(ft,bt,wt.pan&&wt.pan.noMoveStart),this},setZoom:function(ft,bt){return this._loaded?this.setView(this.getCenter(),ft,{zoom:bt}):(this._zoom=ft,this)},zoomIn:function(ft,bt){return ft=ft||(br.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+ft,bt)},zoomOut:function(ft,bt){return ft=ft||(br.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-ft,bt)},setZoomAround:function(ft,bt,wt){var Ct=this.getZoomScale(bt),Mt=this.getSize().divideBy(2),Ut=ft instanceof Pt?ft:this.latLngToContainerPoint(ft),Yt=Ut.subtract(Mt).multiplyBy(1-1/Ct),er=this.containerPointToLatLng(Mt.add(Yt));return this.setView(er,bt,{zoom:wt})},_getBoundsCenterZoom:function(ft,bt){bt=bt||{},ft=ft.getBounds?ft.getBounds():Jt(ft);var wt=At(bt.paddingTopLeft||bt.padding||[0,0]),Ct=At(bt.paddingBottomRight||bt.padding||[0,0]),Mt=this.getBoundsZoom(ft,!1,wt.add(Ct));if(Mt=typeof bt.maxZoom=="number"?Math.min(bt.maxZoom,Mt):Mt,Mt===1/0)return{center:ft.getCenter(),zoom:Mt};var Ut=Ct.subtract(wt).divideBy(2),Yt=this.project(ft.getSouthWest(),Mt),er=this.project(ft.getNorthEast(),Mt),sr=this.unproject(Yt.add(er).divideBy(2).add(Ut),Mt);return{center:sr,zoom:Mt}},fitBounds:function(ft,bt){if(ft=Jt(ft),!ft.isValid())throw new Error("Bounds are not valid.");var wt=this._getBoundsCenterZoom(ft,bt);return this.setView(wt.center,wt.zoom,bt)},fitWorld:function(ft){return this.fitBounds([[-90,-180],[90,180]],ft)},panTo:function(ft,bt){return this.setView(ft,this._zoom,{pan:bt})},panBy:function(ft,bt){if(ft=At(ft).round(),bt=bt||{},!ft.x&&!ft.y)return this.fire("moveend");if(bt.animate!==!0&&!this.getSize().contains(ft))return this._resetView(this.unproject(this.project(this.getCenter()).add(ft)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new ro,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),bt.noMoveStart||this.fire("movestart"),bt.animate!==!1){Cr(this._mapPane,"leaflet-pan-anim");var wt=this._getMapPanePos().subtract(ft).round();this._panAnim.run(this._mapPane,wt,bt.duration||.25,bt.easeLinearity)}else this._rawPanBy(ft),this.fire("move").fire("moveend");return this},flyTo:function(ft,bt,wt){if(wt=wt||{},wt.animate===!1||!br.any3d)return this.setView(ft,bt,wt);this._stop();var Ct=this.project(this.getCenter()),Mt=this.project(ft),Ut=this.getSize(),Yt=this._zoom;ft=ar(ft),bt=bt===void 0?Yt:bt;var er=Math.max(Ut.x,Ut.y),sr=er*this.getZoomScale(Yt,bt),cr=Mt.distanceTo(Ct)||1,gr=1.42,Sr=gr*gr;function Pr(zr){var fs=zr?-1:1,Su=zr?sr:er,Ru=sr*sr-er*er+fs*Sr*Sr*cr*cr,_u=2*Su*Sr*cr,zs=Ru/_u,Lo=Math.sqrt(zs*zs+1)-zs,Nu=Lo<1e-9?-18:Math.log(Lo);return Nu}function Gr(zr){return(Math.exp(zr)-Math.exp(-zr))/2}function Hr(zr){return(Math.exp(zr)+Math.exp(-zr))/2}function tn(zr){return Gr(zr)/Hr(zr)}var Yr=Pr(0);function An(zr){return er*(Hr(Yr)/Hr(Yr+gr*zr))}function Eu(zr){return er*(Hr(Yr)*tn(Yr+gr*zr)-Gr(Yr))/Sr}function ju(zr){return 1-Math.pow(1-zr,1.5)}var ku=Date.now(),Oo=(Pr(1)-Yr)/gr,wu=wt.duration?1e3*wt.duration:1e3*Oo*.8;function Mo(){var zr=(Date.now()-ku)/wu,fs=ju(zr)*Oo;zr<=1?(this._flyToFrame=Ft(Mo,this),this._move(this.unproject(Ct.add(Mt.subtract(Ct).multiplyBy(Eu(fs)/cr)),Yt),this.getScaleZoom(er/An(fs),Yt),{flyTo:!0})):this._move(ft,bt)._moveEnd(!0)}return this._moveStart(!0,wt.noMoveStart),Mo.call(this),this},flyToBounds:function(ft,bt){var wt=this._getBoundsCenterZoom(ft,bt);return this.flyTo(wt.center,wt.zoom,bt)},setMaxBounds:function(ft){return ft=Jt(ft),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),ft.isValid()?(this.options.maxBounds=ft,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(ft){var bt=this.options.minZoom;return this.options.minZoom=ft,this._loaded&&bt!==ft&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(ft):this},setMaxZoom:function(ft){var bt=this.options.maxZoom;return this.options.maxZoom=ft,this._loaded&&bt!==ft&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(ft):this},panInsideBounds:function(ft,bt){this._enforcingBounds=!0;var wt=this.getCenter(),Ct=this._limitCenter(wt,this._zoom,Jt(ft));return wt.equals(Ct)||this.panTo(Ct,bt),this._enforcingBounds=!1,this},panInside:function(ft,bt){bt=bt||{};var wt=At(bt.paddingTopLeft||bt.padding||[0,0]),Ct=At(bt.paddingBottomRight||bt.padding||[0,0]),Mt=this.project(this.getCenter()),Ut=this.project(ft),Yt=this.getPixelBounds(),er=Gt([Yt.min.add(wt),Yt.max.subtract(Ct)]),sr=er.getSize();if(!er.contains(Ut)){this._enforcingBounds=!0;var cr=Ut.subtract(er.getCenter()),gr=er.extend(Ut).getSize().subtract(sr);Mt.x+=cr.x<0?-gr.x:gr.x,Mt.y+=cr.y<0?-gr.y:gr.y,this.panTo(this.unproject(Mt),bt),this._enforcingBounds=!1}return this},invalidateSize:function(ft){if(!this._loaded)return this;ft=st({animate:!1,pan:!0},ft===!0?{animate:!0}:ft);var bt=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var wt=this.getSize(),Ct=bt.divideBy(2).round(),Mt=wt.divideBy(2).round(),Ut=Ct.subtract(Mt);return!Ut.x&&!Ut.y?this:(ft.animate&&ft.pan?this.panBy(Ut):(ft.pan&&this._rawPanBy(Ut),this.fire("move"),ft.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(at(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:bt,newSize:wt}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(ft){if(ft=this._locateOptions=st({timeout:1e4,watch:!1},ft),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var bt=at(this._handleGeolocationResponse,this),wt=at(this._handleGeolocationError,this);return ft.watch?this._locationWatchId=navigator.geolocation.watchPosition(bt,wt,ft):navigator.geolocation.getCurrentPosition(bt,wt,ft),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(ft){if(this._container._leaflet_id){var bt=ft.code,wt=ft.message||(bt===1?"permission denied":bt===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:bt,message:"Geolocation error: "+wt+"."})}},_handleGeolocationResponse:function(ft){if(this._container._leaflet_id){var bt=ft.coords.latitude,wt=ft.coords.longitude,Ct=new rr(bt,wt),Mt=Ct.toBounds(ft.coords.accuracy*2),Ut=this._locateOptions;if(Ut.setView){var Yt=this.getBoundsZoom(Mt);this.setView(Ct,Ut.maxZoom?Math.min(Yt,Ut.maxZoom):Yt)}var er={latlng:Ct,bounds:Mt,timestamp:ft.timestamp};for(var sr in ft.coords)typeof ft.coords[sr]=="number"&&(er[sr]=ft.coords[sr]);this.fire("locationfound",er)}},addHandler:function(ft,bt){if(!bt)return this;var wt=this[ft]=new bt(this);return this._handlers.push(wt),this.options[ft]&&wt.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Or(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Tt(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var ft;for(ft in this._layers)this._layers[ft].remove();for(ft in this._panes)Or(this._panes[ft]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(ft,bt){var wt="leaflet-pane"+(ft?" leaflet-"+ft.replace("Pane","")+"-pane":""),Ct=$r("div",wt,bt||this._mapPane);return ft&&(this._panes[ft]=Ct),Ct},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var ft=this.getPixelBounds(),bt=this.unproject(ft.getBottomLeft()),wt=this.unproject(ft.getTopRight());return new Vt(bt,wt)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(ft,bt,wt){ft=Jt(ft),wt=At(wt||[0,0]);var Ct=this.getZoom()||0,Mt=this.getMinZoom(),Ut=this.getMaxZoom(),Yt=ft.getNorthWest(),er=ft.getSouthEast(),sr=this.getSize().subtract(wt),cr=Gt(this.project(er,Ct),this.project(Yt,Ct)).getSize(),gr=br.any3d?this.options.zoomSnap:1,Sr=sr.x/cr.x,Pr=sr.y/cr.y,Gr=bt?Math.max(Sr,Pr):Math.min(Sr,Pr);return Ct=this.getScaleZoom(Gr,Ct),gr&&(Ct=Math.round(Ct/(gr/100))*(gr/100),Ct=bt?Math.ceil(Ct/gr)*gr:Math.floor(Ct/gr)*gr),Math.max(Mt,Math.min(Ut,Ct))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Pt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(ft,bt){var wt=this._getTopLeftPoint(ft,bt);return new Ht(wt,wt.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(ft){return this.options.crs.getProjectedBounds(ft===void 0?this.getZoom():ft)},getPane:function(ft){return typeof ft=="string"?this._panes[ft]:ft},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(ft,bt){var wt=this.options.crs;return bt=bt===void 0?this._zoom:bt,wt.scale(ft)/wt.scale(bt)},getScaleZoom:function(ft,bt){var wt=this.options.crs;bt=bt===void 0?this._zoom:bt;var Ct=wt.zoom(ft*wt.scale(bt));return isNaN(Ct)?1/0:Ct},project:function(ft,bt){return bt=bt===void 0?this._zoom:bt,this.options.crs.latLngToPoint(ar(ft),bt)},unproject:function(ft,bt){return bt=bt===void 0?this._zoom:bt,this.options.crs.pointToLatLng(At(ft),bt)},layerPointToLatLng:function(ft){var bt=At(ft).add(this.getPixelOrigin());return this.unproject(bt)},latLngToLayerPoint:function(ft){var bt=this.project(ar(ft))._round();return bt._subtract(this.getPixelOrigin())},wrapLatLng:function(ft){return this.options.crs.wrapLatLng(ar(ft))},wrapLatLngBounds:function(ft){return this.options.crs.wrapLatLngBounds(Jt(ft))},distance:function(ft,bt){return this.options.crs.distance(ar(ft),ar(bt))},containerPointToLayerPoint:function(ft){return At(ft).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(ft){return At(ft).add(this._getMapPanePos())},containerPointToLatLng:function(ft){var bt=this.containerPointToLayerPoint(At(ft));return this.layerPointToLatLng(bt)},latLngToContainerPoint:function(ft){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ar(ft)))},mouseEventToContainerPoint:function(ft){return $a(ft,this._container)},mouseEventToLayerPoint:function(ft){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(ft))},mouseEventToLatLng:function(ft){return this.layerPointToLatLng(this.mouseEventToLayerPoint(ft))},_initContainer:function(ft){var bt=this._container=xa(ft);if(bt){if(bt._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");_r(bt,"scroll",this._onScroll,this),this._containerId=lt(bt)},_initLayout:function(){var ft=this._container;this._fadeAnimated=this.options.fadeAnimation&&br.any3d,Cr(ft,"leaflet-container"+(br.touch?" leaflet-touch":"")+(br.retina?" leaflet-retina":"")+(br.ielt9?" leaflet-oldie":"")+(br.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var bt=On(ft,"position");bt!=="absolute"&&bt!=="relative"&&bt!=="fixed"&&bt!=="sticky"&&(ft.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var ft=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Br(this._mapPane,new Pt(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Cr(ft.markerPane,"leaflet-zoom-hide"),Cr(ft.shadowPane,"leaflet-zoom-hide"))},_resetView:function(ft,bt,wt){Br(this._mapPane,new Pt(0,0));var Ct=!this._loaded;this._loaded=!0,bt=this._limitZoom(bt),this.fire("viewprereset");var Mt=this._zoom!==bt;this._moveStart(Mt,wt)._move(ft,bt)._moveEnd(Mt),this.fire("viewreset"),Ct&&this.fire("load")},_moveStart:function(ft,bt){return ft&&this.fire("zoomstart"),bt||this.fire("movestart"),this},_move:function(ft,bt,wt,Ct){bt===void 0&&(bt=this._zoom);var Mt=this._zoom!==bt;return this._zoom=bt,this._lastCenter=ft,this._pixelOrigin=this._getNewPixelOrigin(ft),Ct?wt&&wt.pinch&&this.fire("zoom",wt):((Mt||wt&&wt.pinch)&&this.fire("zoom",wt),this.fire("move",wt)),this},_moveEnd:function(ft){return ft&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Tt(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(ft){Br(this._mapPane,this._getMapPanePos().subtract(ft))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(ft){this._targets={},this._targets[lt(this._container)]=this;var bt=ft?Ir:_r;bt(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&bt(window,"resize",this._onResize,this),br.any3d&&this.options.transform3DLimit&&(ft?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Tt(this._resizeRequest),this._resizeRequest=Ft(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var ft=this._getMapPanePos();Math.max(Math.abs(ft.x),Math.abs(ft.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(ft,bt){for(var wt=[],Ct,Mt=bt==="mouseout"||bt==="mouseover",Ut=ft.target||ft.srcElement,Yt=!1;Ut;){if(Ct=this._targets[lt(Ut)],Ct&&(bt==="click"||bt==="preclick")&&this._draggableMoved(Ct)){Yt=!0;break}if(Ct&&Ct.listens(bt,!0)&&(Mt&&!Ps(Ut,ft)||(wt.push(Ct),Mt))||Ut===this._container)break;Ut=Ut.parentNode}return!wt.length&&!Yt&&!Mt&&this.listens(bt,!0)&&(wt=[this]),wt},_isClickDisabled:function(ft){for(;ft&&ft!==this._container;){if(ft._leaflet_disable_click)return!0;ft=ft.parentNode}},_handleDOMEvent:function(ft){var bt=ft.target||ft.srcElement;if(!(!this._loaded||bt._leaflet_disable_events||ft.type==="click"&&this._isClickDisabled(bt))){var wt=ft.type;wt==="mousedown"&&ws(bt),this._fireDOMEvent(ft,wt)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(ft,bt,wt){if(ft.type==="click"){var Ct=st({},ft);Ct.type="preclick",this._fireDOMEvent(Ct,Ct.type,wt)}var Mt=this._findEventTargets(ft,bt);if(wt){for(var Ut=[],Yt=0;Yt<wt.length;Yt++)wt[Yt].listens(bt,!0)&&Ut.push(wt[Yt]);Mt=Ut.concat(Mt)}if(Mt.length){bt==="contextmenu"&&Wr(ft);var er=Mt[0],sr={originalEvent:ft};if(ft.type!=="keypress"&&ft.type!=="keydown"&&ft.type!=="keyup"){var cr=er.getLatLng&&(!er._radius||er._radius<=10);sr.containerPoint=cr?this.latLngToContainerPoint(er.getLatLng()):this.mouseEventToContainerPoint(ft),sr.layerPoint=this.containerPointToLayerPoint(sr.containerPoint),sr.latlng=cr?er.getLatLng():this.layerPointToLatLng(sr.layerPoint)}for(Yt=0;Yt<Mt.length;Yt++)if(Mt[Yt].fire(bt,sr,!0),sr.originalEvent._stopped||Mt[Yt].options.bubblingMouseEvents===!1&&kt(this._mouseEvents,bt)!==-1)return}},_draggableMoved:function(ft){return ft=ft.dragging&&ft.dragging.enabled()?ft:this,ft.dragging&&ft.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var ft=0,bt=this._handlers.length;ft<bt;ft++)this._handlers[ft].disable()},whenReady:function(ft,bt){return this._loaded?ft.call(bt||this,{target:this}):this.on("load",ft,bt),this},_getMapPanePos:function(){return vn(this._mapPane)||new Pt(0,0)},_moved:function(){var ft=this._getMapPanePos();return ft&&!ft.equals([0,0])},_getTopLeftPoint:function(ft,bt){var wt=ft&&bt!==void 0?this._getNewPixelOrigin(ft,bt):this.getPixelOrigin();return wt.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(ft,bt){var wt=this.getSize()._divideBy(2);return this.project(ft,bt)._subtract(wt)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(ft,bt,wt){var Ct=this._getNewPixelOrigin(wt,bt);return this.project(ft,bt)._subtract(Ct)},_latLngBoundsToNewLayerBounds:function(ft,bt,wt){var Ct=this._getNewPixelOrigin(wt,bt);return Gt([this.project(ft.getSouthWest(),bt)._subtract(Ct),this.project(ft.getNorthWest(),bt)._subtract(Ct),this.project(ft.getSouthEast(),bt)._subtract(Ct),this.project(ft.getNorthEast(),bt)._subtract(Ct)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(ft){return this.latLngToLayerPoint(ft).subtract(this._getCenterLayerPoint())},_limitCenter:function(ft,bt,wt){if(!wt)return ft;var Ct=this.project(ft,bt),Mt=this.getSize().divideBy(2),Ut=new Ht(Ct.subtract(Mt),Ct.add(Mt)),Yt=this._getBoundsOffset(Ut,wt,bt);return Math.abs(Yt.x)<=1&&Math.abs(Yt.y)<=1?ft:this.unproject(Ct.add(Yt),bt)},_limitOffset:function(ft,bt){if(!bt)return ft;var wt=this.getPixelBounds(),Ct=new Ht(wt.min.add(ft),wt.max.add(ft));return ft.add(this._getBoundsOffset(Ct,bt))},_getBoundsOffset:function(ft,bt,wt){var Ct=Gt(this.project(bt.getNorthEast(),wt),this.project(bt.getSouthWest(),wt)),Mt=Ct.min.subtract(ft.min),Ut=Ct.max.subtract(ft.max),Yt=this._rebound(Mt.x,-Ut.x),er=this._rebound(Mt.y,-Ut.y);return new Pt(Yt,er)},_rebound:function(ft,bt){return ft+bt>0?Math.round(ft-bt)/2:Math.max(0,Math.ceil(ft))-Math.max(0,Math.floor(bt))},_limitZoom:function(ft){var bt=this.getMinZoom(),wt=this.getMaxZoom(),Ct=br.any3d?this.options.zoomSnap:1;return Ct&&(ft=Math.round(ft/Ct)*Ct),Math.max(bt,Math.min(wt,ft))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Fr(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(ft,bt){var wt=this._getCenterOffset(ft)._trunc();return(bt&&bt.animate)!==!0&&!this.getSize().contains(wt)?!1:(this.panBy(wt,bt),!0)},_createAnimProxy:function(){var ft=this._proxy=$r("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(ft),this.on("zoomanim",function(bt){var wt=gs,Ct=this._proxy.style[wt];yn(this._proxy,this.project(bt.center,bt.zoom),this.getZoomScale(bt.zoom,1)),Ct===this._proxy.style[wt]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Or(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var ft=this.getCenter(),bt=this.getZoom();yn(this._proxy,this.project(ft,bt),this.getZoomScale(bt,1))},_catchTransitionEnd:function(ft){this._animatingZoom&&ft.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(ft,bt,wt){if(this._animatingZoom)return!0;if(wt=wt||{},!this._zoomAnimated||wt.animate===!1||this._nothingToAnimate()||Math.abs(bt-this._zoom)>this.options.zoomAnimationThreshold)return!1;var Ct=this.getZoomScale(bt),Mt=this._getCenterOffset(ft)._divideBy(1-1/Ct);return wt.animate!==!0&&!this.getSize().contains(Mt)?!1:(Ft(function(){this._moveStart(!0,wt.noMoveStart||!1)._animateZoom(ft,bt,!0)},this),!0)},_animateZoom:function(ft,bt,wt,Ct){this._mapPane&&(wt&&(this._animatingZoom=!0,this._animateToCenter=ft,this._animateToZoom=bt,Cr(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:ft,zoom:bt,noUpdate:Ct}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(at(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Fr(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Dl(ft,bt){return new Ar(ft,bt)}var rn=Wt.extend({options:{position:"topright"},initialize:function(ft){yt(this,ft)},getPosition:function(){return this.options.position},setPosition:function(ft){var bt=this._map;return bt&&bt.removeControl(this),this.options.position=ft,bt&&bt.addControl(this),this},getContainer:function(){return this._container},addTo:function(ft){this.remove(),this._map=ft;var bt=this._container=this.onAdd(ft),wt=this.getPosition(),Ct=ft._controlCorners[wt];return Cr(bt,"leaflet-control"),wt.indexOf("bottom")!==-1?Ct.insertBefore(bt,Ct.firstChild):Ct.appendChild(bt),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Or(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(ft){this._map&&ft&&ft.screenX>0&&ft.screenY>0&&this._map.getContainer().focus()}}),Bn=function(ft){return new rn(ft)};Ar.include({addControl:function(ft){return ft.addTo(this),this},removeControl:function(ft){return ft.remove(),this},_initControlPos:function(){var ft=this._controlCorners={},bt="leaflet-",wt=this._controlContainer=$r("div",bt+"control-container",this._container);function Ct(Mt,Ut){var Yt=bt+Mt+" "+bt+Ut;ft[Mt+Ut]=$r("div",Yt,wt)}Ct("top","left"),Ct("top","right"),Ct("bottom","left"),Ct("bottom","right")},_clearControlPos:function(){for(var ft in this._controlCorners)Or(this._controlCorners[ft]);Or(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var no=rn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(ft,bt,wt,Ct){return wt<Ct?-1:Ct<wt?1:0}},initialize:function(ft,bt,wt){yt(this,wt),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var Ct in ft)this._addLayer(ft[Ct],Ct);for(Ct in bt)this._addLayer(bt[Ct],Ct,!0)},onAdd:function(ft){this._initLayout(),this._update(),this._map=ft,ft.on("zoomend",this._checkDisabledLayers,this);for(var bt=0;bt<this._layers.length;bt++)this._layers[bt].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(ft){return rn.prototype.addTo.call(this,ft),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var ft=0;ft<this._layers.length;ft++)this._layers[ft].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(ft,bt){return this._addLayer(ft,bt),this._map?this._update():this},addOverlay:function(ft,bt){return this._addLayer(ft,bt,!0),this._map?this._update():this},removeLayer:function(ft){ft.off("add remove",this._onLayerChange,this);var bt=this._getLayer(lt(ft));return bt&&this._layers.splice(this._layers.indexOf(bt),1),this._map?this._update():this},expand:function(){Cr(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var ft=this._map.getSize().y-(this._container.offsetTop+50);return ft<this._section.clientHeight?(Cr(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=ft+"px"):Fr(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Fr(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var ft="leaflet-control-layers",bt=this._container=$r("div",ft),wt=this.options.collapsed;bt.setAttribute("aria-haspopup",!0),Fn(bt),Cs(bt);var Ct=this._section=$r("section",ft+"-list");wt&&(this._map.on("click",this.collapse,this),_r(bt,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var Mt=this._layersLink=$r("a",ft+"-toggle",bt);Mt.href="#",Mt.title="Layers",Mt.setAttribute("role","button"),_r(Mt,{keydown:function(Ut){Ut.keyCode===13&&this._expandSafely()},click:function(Ut){Wr(Ut),this._expandSafely()}},this),wt||this.expand(),this._baseLayersList=$r("div",ft+"-base",Ct),this._separator=$r("div",ft+"-separator",Ct),this._overlaysList=$r("div",ft+"-overlays",Ct),bt.appendChild(Ct)},_getLayer:function(ft){for(var bt=0;bt<this._layers.length;bt++)if(this._layers[bt]&&lt(this._layers[bt].layer)===ft)return this._layers[bt]},_addLayer:function(ft,bt,wt){this._map&&ft.on("add remove",this._onLayerChange,this),this._layers.push({layer:ft,name:bt,overlay:wt}),this.options.sortLayers&&this._layers.sort(at(function(Ct,Mt){return this.options.sortFunction(Ct.layer,Mt.layer,Ct.name,Mt.name)},this)),this.options.autoZIndex&&ft.setZIndex&&(this._lastZIndex++,ft.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Yn(this._baseLayersList),Yn(this._overlaysList),this._layerControlInputs=[];var ft,bt,wt,Ct,Mt=0;for(wt=0;wt<this._layers.length;wt++)Ct=this._layers[wt],this._addItem(Ct),bt=bt||Ct.overlay,ft=ft||!Ct.overlay,Mt+=Ct.overlay?0:1;return this.options.hideSingleBase&&(ft=ft&&Mt>1,this._baseLayersList.style.display=ft?"":"none"),this._separator.style.display=bt&&ft?"":"none",this},_onLayerChange:function(ft){this._handlingClick||this._update();var bt=this._getLayer(lt(ft.target)),wt=bt.overlay?ft.type==="add"?"overlayadd":"overlayremove":ft.type==="add"?"baselayerchange":null;wt&&this._map.fire(wt,bt)},_createRadioElement:function(ft,bt){var wt='<input type="radio" class="leaflet-control-layers-selector" name="'+ft+'"'+(bt?' checked="checked"':"")+"/>",Ct=document.createElement("div");return Ct.innerHTML=wt,Ct.firstChild},_addItem:function(ft){var bt=document.createElement("label"),wt=this._map.hasLayer(ft.layer),Ct;ft.overlay?(Ct=document.createElement("input"),Ct.type="checkbox",Ct.className="leaflet-control-layers-selector",Ct.defaultChecked=wt):Ct=this._createRadioElement("leaflet-base-layers_"+lt(this),wt),this._layerControlInputs.push(Ct),Ct.layerId=lt(ft.layer),_r(Ct,"click",this._onInputClick,this);var Mt=document.createElement("span");Mt.innerHTML=" "+ft.name;var Ut=document.createElement("span");bt.appendChild(Ut),Ut.appendChild(Ct),Ut.appendChild(Mt);var Yt=ft.overlay?this._overlaysList:this._baseLayersList;return Yt.appendChild(bt),this._checkDisabledLayers(),bt},_onInputClick:function(){if(!this._preventClick){var ft=this._layerControlInputs,bt,wt,Ct=[],Mt=[];this._handlingClick=!0;for(var Ut=ft.length-1;Ut>=0;Ut--)bt=ft[Ut],wt=this._getLayer(bt.layerId).layer,bt.checked?Ct.push(wt):bt.checked||Mt.push(wt);for(Ut=0;Ut<Mt.length;Ut++)this._map.hasLayer(Mt[Ut])&&this._map.removeLayer(Mt[Ut]);for(Ut=0;Ut<Ct.length;Ut++)this._map.hasLayer(Ct[Ut])||this._map.addLayer(Ct[Ut]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var ft=this._layerControlInputs,bt,wt,Ct=this._map.getZoom(),Mt=ft.length-1;Mt>=0;Mt--)bt=ft[Mt],wt=this._getLayer(bt.layerId).layer,bt.disabled=wt.options.minZoom!==void 0&&Ct<wt.options.minZoom||wt.options.maxZoom!==void 0&&Ct>wt.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var ft=this._section;this._preventClick=!0,_r(ft,"click",Wr),this.expand();var bt=this;setTimeout(function(){Ir(ft,"click",Wr),bt._preventClick=!1})}}),Fl=function(ft,bt,wt){return new no(ft,bt,wt)},Ts=rn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(ft){var bt="leaflet-control-zoom",wt=$r("div",bt+" leaflet-bar"),Ct=this.options;return this._zoomInButton=this._createButton(Ct.zoomInText,Ct.zoomInTitle,bt+"-in",wt,this._zoomIn),this._zoomOutButton=this._createButton(Ct.zoomOutText,Ct.zoomOutTitle,bt+"-out",wt,this._zoomOut),this._updateDisabled(),ft.on("zoomend zoomlevelschange",this._updateDisabled,this),wt},onRemove:function(ft){ft.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(ft){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(ft.shiftKey?3:1))},_zoomOut:function(ft){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(ft.shiftKey?3:1))},_createButton:function(ft,bt,wt,Ct,Mt){var Ut=$r("a",wt,Ct);return Ut.innerHTML=ft,Ut.href="#",Ut.title=bt,Ut.setAttribute("role","button"),Ut.setAttribute("aria-label",bt),Fn(Ut),_r(Ut,"click",En),_r(Ut,"click",Mt,this),_r(Ut,"click",this._refocusOnMap,this),Ut},_updateDisabled:function(){var ft=this._map,bt="leaflet-disabled";Fr(this._zoomInButton,bt),Fr(this._zoomOutButton,bt),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||ft._zoom===ft.getMinZoom())&&(Cr(this._zoomOutButton,bt),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||ft._zoom===ft.getMaxZoom())&&(Cr(this._zoomInButton,bt),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ar.mergeOptions({zoomControl:!0}),Ar.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ts,this.addControl(this.zoomControl))});var Bl=function(ft){return new Ts(ft)},so=rn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(ft){var bt="leaflet-control-scale",wt=$r("div",bt),Ct=this.options;return this._addScales(Ct,bt+"-line",wt),ft.on(Ct.updateWhenIdle?"moveend":"move",this._update,this),ft.whenReady(this._update,this),wt},onRemove:function(ft){ft.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(ft,bt,wt){ft.metric&&(this._mScale=$r("div",bt,wt)),ft.imperial&&(this._iScale=$r("div",bt,wt))},_update:function(){var ft=this._map,bt=ft.getSize().y/2,wt=ft.distance(ft.containerPointToLatLng([0,bt]),ft.containerPointToLatLng([this.options.maxWidth,bt]));this._updateScales(wt)},_updateScales:function(ft){this.options.metric&&ft&&this._updateMetric(ft),this.options.imperial&&ft&&this._updateImperial(ft)},_updateMetric:function(ft){var bt=this._getRoundNum(ft),wt=bt<1e3?bt+" m":bt/1e3+" km";this._updateScale(this._mScale,wt,bt/ft)},_updateImperial:function(ft){var bt=ft*3.2808399,wt,Ct,Mt;bt>5280?(wt=bt/5280,Ct=this._getRoundNum(wt),this._updateScale(this._iScale,Ct+" mi",Ct/wt)):(Mt=this._getRoundNum(bt),this._updateScale(this._iScale,Mt+" ft",Mt/bt))},_updateScale:function(ft,bt,wt){ft.style.width=Math.round(this.options.maxWidth*wt)+"px",ft.innerHTML=bt},_getRoundNum:function(ft){var bt=Math.pow(10,(Math.floor(ft)+"").length-1),wt=ft/bt;return wt=wt>=10?10:wt>=5?5:wt>=3?3:wt>=2?2:1,bt*wt}}),zl=function(ft){return new so(ft)},Vl='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',As=rn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(br.inlineSvg?Vl+" ":"")+"Leaflet</a>"},initialize:function(ft){yt(this,ft),this._attributions={}},onAdd:function(ft){ft.attributionControl=this,this._container=$r("div","leaflet-control-attribution"),Fn(this._container);for(var bt in ft._layers)ft._layers[bt].getAttribution&&this.addAttribution(ft._layers[bt].getAttribution());return this._update(),ft.on("layeradd",this._addAttribution,this),this._container},onRemove:function(ft){ft.off("layeradd",this._addAttribution,this)},_addAttribution:function(ft){ft.layer.getAttribution&&(this.addAttribution(ft.layer.getAttribution()),ft.layer.once("remove",function(){this.removeAttribution(ft.layer.getAttribution())},this))},setPrefix:function(ft){return this.options.prefix=ft,this._update(),this},addAttribution:function(ft){return ft?(this._attributions[ft]||(this._attributions[ft]=0),this._attributions[ft]++,this._update(),this):this},removeAttribution:function(ft){return ft?(this._attributions[ft]&&(this._attributions[ft]--,this._update()),this):this},_update:function(){if(this._map){var ft=[];for(var bt in this._attributions)this._attributions[bt]&&ft.push(bt);var wt=[];this.options.prefix&&wt.push(this.options.prefix),ft.length&&wt.push(ft.join(", ")),this._container.innerHTML=wt.join(' <span aria-hidden="true">|</span> ')}}});Ar.mergeOptions({attributionControl:!0}),Ar.addInitHook(function(){this.options.attributionControl&&new As().addTo(this)});var Hl=function(ft){return new As(ft)};rn.Layers=no,rn.Zoom=Ts,rn.Scale=so,rn.Attribution=As,Bn.layers=Fl,Bn.zoom=Bl,Bn.scale=zl,Bn.attribution=Hl;var un=Wt.extend({initialize:function(ft){this._map=ft},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});un.addTo=function(ft,bt){return ft.addHandler(bt,this),this};var Ul={Events:Ot},io=br.touch?"touchstart mousedown":"mousedown",xn=Dt.extend({options:{clickTolerance:3},initialize:function(ft,bt,wt,Ct){yt(this,Ct),this._element=ft,this._dragStartTarget=bt||ft,this._preventOutline=wt},enable:function(){this._enabled||(_r(this._dragStartTarget,io,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(xn._dragging===this&&this.finishDrag(!0),Ir(this._dragStartTarget,io,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(ft){if(this._enabled&&(this._moved=!1,!ys(this._element,"leaflet-zoom-anim"))){if(ft.touches&&ft.touches.length!==1){xn._dragging===this&&this.finishDrag();return}if(!(xn._dragging||ft.shiftKey||ft.which!==1&&ft.button!==1&&!ft.touches)&&(xn._dragging=this,this._preventOutline&&ws(this._element),Es(),Mn(),!this._moving)){this.fire("down");var bt=ft.touches?ft.touches[0]:ft,wt=ga(this._element);this._startPoint=new Pt(bt.clientX,bt.clientY),this._startPos=vn(this._element),this._parentScale=Ss(wt);var Ct=ft.type==="mousedown";_r(document,Ct?"mousemove":"touchmove",this._onMove,this),_r(document,Ct?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(ft){if(this._enabled){if(ft.touches&&ft.touches.length>1){this._moved=!0;return}var bt=ft.touches&&ft.touches.length===1?ft.touches[0]:ft,wt=new Pt(bt.clientX,bt.clientY)._subtract(this._startPoint);!wt.x&&!wt.y||Math.abs(wt.x)+Math.abs(wt.y)<this.options.clickTolerance||(wt.x/=this._parentScale.x,wt.y/=this._parentScale.y,Wr(ft),this._moved||(this.fire("dragstart"),this._moved=!0,Cr(document.body,"leaflet-dragging"),this._lastTarget=ft.target||ft.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Cr(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(wt),this._moving=!0,this._lastEvent=ft,this._updatePosition())}},_updatePosition:function(){var ft={originalEvent:this._lastEvent};this.fire("predrag",ft),Br(this._element,this._newPos),this.fire("drag",ft)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(ft){Fr(document.body,"leaflet-dragging"),this._lastTarget&&(Fr(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ir(document,"mousemove touchmove",this._onMove,this),Ir(document,"mouseup touchend touchcancel",this._onUp,this),js(),Ln();var bt=this._moved&&this._moving;this._moving=!1,xn._dragging=!1,bt&&this.fire("dragend",{noInertia:ft,distance:this._newPos.distanceTo(this._startPos)})}});function ao(ft,bt,wt){var Ct,Mt=[1,4,2,8],Ut,Yt,er,sr,cr,gr,Sr,Pr;for(Ut=0,gr=ft.length;Ut<gr;Ut++)ft[Ut]._code=jn(ft[Ut],bt);for(er=0;er<4;er++){for(Sr=Mt[er],Ct=[],Ut=0,gr=ft.length,Yt=gr-1;Ut<gr;Yt=Ut++)sr=ft[Ut],cr=ft[Yt],sr._code&Sr?cr._code&Sr||(Pr=es(cr,sr,Sr,bt,wt),Pr._code=jn(Pr,bt),Ct.push(Pr)):(cr._code&Sr&&(Pr=es(cr,sr,Sr,bt,wt),Pr._code=jn(Pr,bt),Ct.push(Pr)),Ct.push(sr));ft=Ct}return ft}function oo(ft,bt){var wt,Ct,Mt,Ut,Yt,er,sr,cr,gr;if(!ft||ft.length===0)throw new Error("latlngs not passed");en(ft)||(console.warn("latlngs are not flat! Only the first ring will be used"),ft=ft[0]);var Sr=ar([0,0]),Pr=Jt(ft),Gr=Pr.getNorthWest().distanceTo(Pr.getSouthWest())*Pr.getNorthEast().distanceTo(Pr.getNorthWest());Gr<1700&&(Sr=$s(ft));var Hr=ft.length,tn=[];for(wt=0;wt<Hr;wt++){var Yr=ar(ft[wt]);tn.push(bt.project(ar([Yr.lat-Sr.lat,Yr.lng-Sr.lng])))}for(er=sr=cr=0,wt=0,Ct=Hr-1;wt<Hr;Ct=wt++)Mt=tn[wt],Ut=tn[Ct],Yt=Mt.y*Ut.x-Ut.y*Mt.x,sr+=(Mt.x+Ut.x)*Yt,cr+=(Mt.y+Ut.y)*Yt,er+=Yt*3;er===0?gr=tn[0]:gr=[sr/er,cr/er];var An=bt.unproject(At(gr));return ar([An.lat+Sr.lat,An.lng+Sr.lng])}function $s(ft){for(var bt=0,wt=0,Ct=0,Mt=0;Mt<ft.length;Mt++){var Ut=ar(ft[Mt]);bt+=Ut.lat,wt+=Ut.lng,Ct++}return ar([bt/Ct,wt/Ct])}var Wl={__proto__:null,clipPolygon:ao,polygonCenter:oo,centroid:$s};function lo(ft,bt){if(!bt||!ft.length)return ft.slice();var wt=bt*bt;return ft=Yl(ft,wt),ft=Kl(ft,wt),ft}function co(ft,bt,wt){return Math.sqrt(zn(ft,bt,wt,!0))}function Gl(ft,bt,wt){return zn(ft,bt,wt)}function Kl(ft,bt){var wt=ft.length,Ct=typeof Uint8Array<"u"?Uint8Array:Array,Mt=new Ct(wt);Mt[0]=Mt[wt-1]=1,Is(ft,Mt,bt,0,wt-1);var Ut,Yt=[];for(Ut=0;Ut<wt;Ut++)Mt[Ut]&&Yt.push(ft[Ut]);return Yt}function Is(ft,bt,wt,Ct,Mt){var Ut=0,Yt,er,sr;for(er=Ct+1;er<=Mt-1;er++)sr=zn(ft[er],ft[Ct],ft[Mt],!0),sr>Ut&&(Yt=er,Ut=sr);Ut>wt&&(bt[Yt]=1,Is(ft,bt,wt,Ct,Yt),Is(ft,bt,wt,Yt,Mt))}function Yl(ft,bt){for(var wt=[ft[0]],Ct=1,Mt=0,Ut=ft.length;Ct<Ut;Ct++)Xl(ft[Ct],ft[Mt])>bt&&(wt.push(ft[Ct]),Mt=Ct);return Mt<Ut-1&&wt.push(ft[Ut-1]),wt}var uo;function ho(ft,bt,wt,Ct,Mt){var Ut=Ct?uo:jn(ft,wt),Yt=jn(bt,wt),er,sr,cr;for(uo=Yt;;){if(!(Ut|Yt))return[ft,bt];if(Ut&Yt)return!1;er=Ut||Yt,sr=es(ft,bt,er,wt,Mt),cr=jn(sr,wt),er===Ut?(ft=sr,Ut=cr):(bt=sr,Yt=cr)}}function es(ft,bt,wt,Ct,Mt){var Ut=bt.x-ft.x,Yt=bt.y-ft.y,er=Ct.min,sr=Ct.max,cr,gr;return wt&8?(cr=ft.x+Ut*(sr.y-ft.y)/Yt,gr=sr.y):wt&4?(cr=ft.x+Ut*(er.y-ft.y)/Yt,gr=er.y):wt&2?(cr=sr.x,gr=ft.y+Yt*(sr.x-ft.x)/Ut):wt&1&&(cr=er.x,gr=ft.y+Yt*(er.x-ft.x)/Ut),new Pt(cr,gr,Mt)}function jn(ft,bt){var wt=0;return ft.x<bt.min.x?wt|=1:ft.x>bt.max.x&&(wt|=2),ft.y<bt.min.y?wt|=4:ft.y>bt.max.y&&(wt|=8),wt}function Xl(ft,bt){var wt=bt.x-ft.x,Ct=bt.y-ft.y;return wt*wt+Ct*Ct}function zn(ft,bt,wt,Ct){var Mt=bt.x,Ut=bt.y,Yt=wt.x-Mt,er=wt.y-Ut,sr=Yt*Yt+er*er,cr;return sr>0&&(cr=((ft.x-Mt)*Yt+(ft.y-Ut)*er)/sr,cr>1?(Mt=wt.x,Ut=wt.y):cr>0&&(Mt+=Yt*cr,Ut+=er*cr)),Yt=ft.x-Mt,er=ft.y-Ut,Ct?Yt*Yt+er*er:new Pt(Mt,Ut)}function en(ft){return!jt(ft[0])||typeof ft[0][0]!="object"&&typeof ft[0][0]<"u"}function po(ft){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),en(ft)}function fo(ft,bt){var wt,Ct,Mt,Ut,Yt,er,sr,cr;if(!ft||ft.length===0)throw new Error("latlngs not passed");en(ft)||(console.warn("latlngs are not flat! Only the first ring will be used"),ft=ft[0]);var gr=ar([0,0]),Sr=Jt(ft),Pr=Sr.getNorthWest().distanceTo(Sr.getSouthWest())*Sr.getNorthEast().distanceTo(Sr.getNorthWest());Pr<1700&&(gr=$s(ft));var Gr=ft.length,Hr=[];for(wt=0;wt<Gr;wt++){var tn=ar(ft[wt]);Hr.push(bt.project(ar([tn.lat-gr.lat,tn.lng-gr.lng])))}for(wt=0,Ct=0;wt<Gr-1;wt++)Ct+=Hr[wt].distanceTo(Hr[wt+1])/2;if(Ct===0)cr=Hr[0];else for(wt=0,Ut=0;wt<Gr-1;wt++)if(Yt=Hr[wt],er=Hr[wt+1],Mt=Yt.distanceTo(er),Ut+=Mt,Ut>Ct){sr=(Ut-Ct)/Mt,cr=[er.x-sr*(er.x-Yt.x),er.y-sr*(er.y-Yt.y)];break}var Yr=bt.unproject(At(cr));return ar([Yr.lat+gr.lat,Yr.lng+gr.lng])}var Zl={__proto__:null,simplify:lo,pointToSegmentDistance:co,closestPointOnSegment:Gl,clipSegment:ho,_getEdgeIntersection:es,_getBitCode:jn,_sqClosestPointOnSegment:zn,isFlat:en,_flat:po,polylineCenter:fo},Os={project:function(ft){return new Pt(ft.lng,ft.lat)},unproject:function(ft){return new rr(ft.y,ft.x)},bounds:new Ht([-180,-90],[180,90])},Ms={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Ht([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(ft){var bt=Math.PI/180,wt=this.R,Ct=ft.lat*bt,Mt=this.R_MINOR/wt,Ut=Math.sqrt(1-Mt*Mt),Yt=Ut*Math.sin(Ct),er=Math.tan(Math.PI/4-Ct/2)/Math.pow((1-Yt)/(1+Yt),Ut/2);return Ct=-wt*Math.log(Math.max(er,1e-10)),new Pt(ft.lng*bt*wt,Ct)},unproject:function(ft){for(var bt=180/Math.PI,wt=this.R,Ct=this.R_MINOR/wt,Mt=Math.sqrt(1-Ct*Ct),Ut=Math.exp(-ft.y/wt),Yt=Math.PI/2-2*Math.atan(Ut),er=0,sr=.1,cr;er<15&&Math.abs(sr)>1e-7;er++)cr=Mt*Math.sin(Yt),cr=Math.pow((1-cr)/(1+cr),Mt/2),sr=Math.PI/2-2*Math.atan(Ut*cr)-Yt,Yt+=sr;return new rr(Yt*bt,ft.x*bt/wt)}},Jl={__proto__:null,LonLat:Os,Mercator:Ms,SphericalMercator:yr},Ql=st({},Er,{code:"EPSG:3395",projection:Ms,transformation:function(){var ft=.5/(Math.PI*Ms.R);return Zt(ft,.5,-ft,.5)}()}),mo=st({},Er,{code:"EPSG:4326",projection:Os,transformation:Zt(1/180,1,-1/180,.5)}),_c=st({},mr,{projection:Os,transformation:Zt(1,0,-1,0),scale:function(ft){return Math.pow(2,ft)},zoom:function(ft){return Math.log(ft)/Math.LN2},distance:function(ft,bt){var wt=bt.lng-ft.lng,Ct=bt.lat-ft.lat;return Math.sqrt(wt*wt+Ct*Ct)},infinite:!0});mr.Earth=Er,mr.EPSG3395=Ql,mr.EPSG3857=pr,mr.EPSG900913=lr,mr.EPSG4326=mo,mr.Simple=_c;var nn=Dt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(ft){return ft.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(ft){return ft&&ft.removeLayer(this),this},getPane:function(ft){return this._map.getPane(ft?this.options[ft]||ft:this.options.pane)},addInteractiveTarget:function(ft){return this._map._targets[lt(ft)]=this,this},removeInteractiveTarget:function(ft){return delete this._map._targets[lt(ft)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(ft){var bt=ft.target;if(bt.hasLayer(this)){if(this._map=bt,this._zoomAnimated=bt._zoomAnimated,this.getEvents){var wt=this.getEvents();bt.on(wt,this),this.once("remove",function(){bt.off(wt,this)},this)}this.onAdd(bt),this.fire("add"),bt.fire("layeradd",{layer:this})}}});Ar.include({addLayer:function(ft){if(!ft._layerAdd)throw new Error("The provided object is not a Layer.");var bt=lt(ft);return this._layers[bt]?this:(this._layers[bt]=ft,ft._mapToAdd=this,ft.beforeAdd&&ft.beforeAdd(this),this.whenReady(ft._layerAdd,ft),this)},removeLayer:function(ft){var bt=lt(ft);return this._layers[bt]?(this._loaded&&ft.onRemove(this),delete this._layers[bt],this._loaded&&(this.fire("layerremove",{layer:ft}),ft.fire("remove")),ft._map=ft._mapToAdd=null,this):this},hasLayer:function(ft){return lt(ft)in this._layers},eachLayer:function(ft,bt){for(var wt in this._layers)ft.call(bt,this._layers[wt]);return this},_addLayers:function(ft){ft=ft?jt(ft)?ft:[ft]:[];for(var bt=0,wt=ft.length;bt<wt;bt++)this.addLayer(ft[bt])},_addZoomLimit:function(ft){(!isNaN(ft.options.maxZoom)||!isNaN(ft.options.minZoom))&&(this._zoomBoundLayers[lt(ft)]=ft,this._updateZoomLevels())},_removeZoomLimit:function(ft){var bt=lt(ft);this._zoomBoundLayers[bt]&&(delete this._zoomBoundLayers[bt],this._updateZoomLevels())},_updateZoomLevels:function(){var ft=1/0,bt=-1/0,wt=this._getZoomSpan();for(var Ct in this._zoomBoundLayers){var Mt=this._zoomBoundLayers[Ct].options;ft=Mt.minZoom===void 0?ft:Math.min(ft,Mt.minZoom),bt=Mt.maxZoom===void 0?bt:Math.max(bt,Mt.maxZoom)}this._layersMaxZoom=bt===-1/0?void 0:bt,this._layersMinZoom=ft===1/0?void 0:ft,wt!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var _n=nn.extend({initialize:function(ft,bt){yt(this,bt),this._layers={};var wt,Ct;if(ft)for(wt=0,Ct=ft.length;wt<Ct;wt++)this.addLayer(ft[wt])},addLayer:function(ft){var bt=this.getLayerId(ft);return this._layers[bt]=ft,this._map&&this._map.addLayer(ft),this},removeLayer:function(ft){var bt=ft in this._layers?ft:this.getLayerId(ft);return this._map&&this._layers[bt]&&this._map.removeLayer(this._layers[bt]),delete this._layers[bt],this},hasLayer:function(ft){var bt=typeof ft=="number"?ft:this.getLayerId(ft);return bt in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(ft){var bt=Array.prototype.slice.call(arguments,1),wt,Ct;for(wt in this._layers)Ct=this._layers[wt],Ct[ft]&&Ct[ft].apply(Ct,bt);return this},onAdd:function(ft){this.eachLayer(ft.addLayer,ft)},onRemove:function(ft){this.eachLayer(ft.removeLayer,ft)},eachLayer:function(ft,bt){for(var wt in this._layers)ft.call(bt,this._layers[wt]);return this},getLayer:function(ft){return this._layers[ft]},getLayers:function(){var ft=[];return this.eachLayer(ft.push,ft),ft},setZIndex:function(ft){return this.invoke("setZIndex",ft)},getLayerId:function(ft){return lt(ft)}}),eu=function(ft,bt){return new _n(ft,bt)},hn=_n.extend({addLayer:function(ft){return this.hasLayer(ft)?this:(ft.addEventParent(this),_n.prototype.addLayer.call(this,ft),this.fire("layeradd",{layer:ft}))},removeLayer:function(ft){return this.hasLayer(ft)?(ft in this._layers&&(ft=this._layers[ft]),ft.removeEventParent(this),_n.prototype.removeLayer.call(this,ft),this.fire("layerremove",{layer:ft})):this},setStyle:function(ft){return this.invoke("setStyle",ft)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var ft=new Vt;for(var bt in this._layers){var wt=this._layers[bt];ft.extend(wt.getBounds?wt.getBounds():wt.getLatLng())}return ft}}),tu=function(ft,bt){return new hn(ft,bt)},Nn=Wt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(ft){yt(this,ft)},createIcon:function(ft){return this._createIcon("icon",ft)},createShadow:function(ft){return this._createIcon("shadow",ft)},_createIcon:function(ft,bt){var wt=this._getIconUrl(ft);if(!wt){if(ft==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var Ct=this._createImg(wt,bt&&bt.tagName==="IMG"?bt:null);return this._setIconStyles(Ct,ft),(this.options.crossOrigin||this.options.crossOrigin==="")&&(Ct.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),Ct},_setIconStyles:function(ft,bt){var wt=this.options,Ct=wt[bt+"Size"];typeof Ct=="number"&&(Ct=[Ct,Ct]);var Mt=At(Ct),Ut=At(bt==="shadow"&&wt.shadowAnchor||wt.iconAnchor||Mt&&Mt.divideBy(2,!0));ft.className="leaflet-marker-"+bt+" "+(wt.className||""),Ut&&(ft.style.marginLeft=-Ut.x+"px",ft.style.marginTop=-Ut.y+"px"),Mt&&(ft.style.width=Mt.x+"px",ft.style.height=Mt.y+"px")},_createImg:function(ft,bt){return bt=bt||document.createElement("img"),bt.src=ft,bt},_getIconUrl:function(ft){return br.retina&&this.options[ft+"RetinaUrl"]||this.options[ft+"Url"]}});function ru(ft){return new Nn(ft)}var Vn=Nn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(ft){return typeof Vn.imagePath!="string"&&(Vn.imagePath=this._detectIconPath()),(this.options.imagePath||Vn.imagePath)+Nn.prototype._getIconUrl.call(this,ft)},_stripUrl:function(ft){var bt=function(wt,Ct,Mt){var Ut=Ct.exec(wt);return Ut&&Ut[Mt]};return ft=bt(ft,/^url\((['"])?(.+)\1\)$/,2),ft&&bt(ft,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var ft=$r("div","leaflet-default-icon-path",document.body),bt=On(ft,"background-image")||On(ft,"backgroundImage");if(document.body.removeChild(ft),bt=this._stripUrl(bt),bt)return bt;var wt=document.querySelector('link[href$="leaflet.css"]');return wt?wt.href.substring(0,wt.href.length-11-1):""}}),xo=un.extend({initialize:function(ft){this._marker=ft},addHooks:function(){var ft=this._marker._icon;this._draggable||(this._draggable=new xn(ft,ft,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Cr(ft,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Fr(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(ft){var bt=this._marker,wt=bt._map,Ct=this._marker.options.autoPanSpeed,Mt=this._marker.options.autoPanPadding,Ut=vn(bt._icon),Yt=wt.getPixelBounds(),er=wt.getPixelOrigin(),sr=Gt(Yt.min._subtract(er).add(Mt),Yt.max._subtract(er).subtract(Mt));if(!sr.contains(Ut)){var cr=At((Math.max(sr.max.x,Ut.x)-sr.max.x)/(Yt.max.x-sr.max.x)-(Math.min(sr.min.x,Ut.x)-sr.min.x)/(Yt.min.x-sr.min.x),(Math.max(sr.max.y,Ut.y)-sr.max.y)/(Yt.max.y-sr.max.y)-(Math.min(sr.min.y,Ut.y)-sr.min.y)/(Yt.min.y-sr.min.y)).multiplyBy(Ct);wt.panBy(cr,{animate:!1}),this._draggable._newPos._add(cr),this._draggable._startPos._add(cr),Br(bt._icon,this._draggable._newPos),this._onDrag(ft),this._panRequest=Ft(this._adjustPan.bind(this,ft))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(ft){this._marker.options.autoPan&&(Tt(this._panRequest),this._panRequest=Ft(this._adjustPan.bind(this,ft)))},_onDrag:function(ft){var bt=this._marker,wt=bt._shadow,Ct=vn(bt._icon),Mt=bt._map.layerPointToLatLng(Ct);wt&&Br(wt,Ct),bt._latlng=Mt,ft.latlng=Mt,ft.oldLatLng=this._oldLatLng,bt.fire("move",ft).fire("drag",ft)},_onDragEnd:function(ft){Tt(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",ft)}}),rs=nn.extend({options:{icon:new Vn,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(ft,bt){yt(this,bt),this._latlng=ar(ft)},onAdd:function(ft){this._zoomAnimated=this._zoomAnimated&&ft.options.markerZoomAnimation,this._zoomAnimated&&ft.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(ft){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&ft.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(ft){var bt=this._latlng;return this._latlng=ar(ft),this.update(),this.fire("move",{oldLatLng:bt,latlng:this._latlng})},setZIndexOffset:function(ft){return this.options.zIndexOffset=ft,this.update()},getIcon:function(){return this.options.icon},setIcon:function(ft){return this.options.icon=ft,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var ft=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(ft)}return this},_initIcon:function(){var ft=this.options,bt="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),wt=ft.icon.createIcon(this._icon),Ct=!1;wt!==this._icon&&(this._icon&&this._removeIcon(),Ct=!0,ft.title&&(wt.title=ft.title),wt.tagName==="IMG"&&(wt.alt=ft.alt||"")),Cr(wt,bt),ft.keyboard&&(wt.tabIndex="0",wt.setAttribute("role","button")),this._icon=wt,ft.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&_r(wt,"focus",this._panOnFocus,this);var Mt=ft.icon.createShadow(this._shadow),Ut=!1;Mt!==this._shadow&&(this._removeShadow(),Ut=!0),Mt&&(Cr(Mt,bt),Mt.alt=""),this._shadow=Mt,ft.opacity<1&&this._updateOpacity(),Ct&&this.getPane().appendChild(this._icon),this._initInteraction(),Mt&&Ut&&this.getPane(ft.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ir(this._icon,"focus",this._panOnFocus,this),Or(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Or(this._shadow),this._shadow=null},_setPos:function(ft){this._icon&&Br(this._icon,ft),this._shadow&&Br(this._shadow,ft),this._zIndex=ft.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(ft){this._icon&&(this._icon.style.zIndex=this._zIndex+ft)},_animateZoom:function(ft){var bt=this._map._latLngToNewLayerPoint(this._latlng,ft.zoom,ft.center).round();this._setPos(bt)},_initInteraction:function(){if(this.options.interactive&&(Cr(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),xo)){var ft=this.options.draggable;this.dragging&&(ft=this.dragging.enabled(),this.dragging.disable()),this.dragging=new xo(this),ft&&this.dragging.enable()}},setOpacity:function(ft){return this.options.opacity=ft,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var ft=this.options.opacity;this._icon&&Qr(this._icon,ft),this._shadow&&Qr(this._shadow,ft)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var ft=this._map;if(ft){var bt=this.options.icon.options,wt=bt.iconSize?At(bt.iconSize):At(0,0),Ct=bt.iconAnchor?At(bt.iconAnchor):At(0,0);ft.panInside(this._latlng,{paddingTopLeft:Ct,paddingBottomRight:wt.subtract(Ct)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function nu(ft,bt){return new rs(ft,bt)}var gn=nn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(ft){this._renderer=ft.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(ft){return yt(this,ft),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&ft&&Object.prototype.hasOwnProperty.call(ft,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ns=gn.extend({options:{fill:!0,radius:10},initialize:function(ft,bt){yt(this,bt),this._latlng=ar(ft),this._radius=this.options.radius},setLatLng:function(ft){var bt=this._latlng;return this._latlng=ar(ft),this.redraw(),this.fire("move",{oldLatLng:bt,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(ft){return this.options.radius=this._radius=ft,this.redraw()},getRadius:function(){return this._radius},setStyle:function(ft){var bt=ft&&ft.radius||this._radius;return gn.prototype.setStyle.call(this,ft),this.setRadius(bt),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var ft=this._radius,bt=this._radiusY||ft,wt=this._clickTolerance(),Ct=[ft+wt,bt+wt];this._pxBounds=new Ht(this._point.subtract(Ct),this._point.add(Ct))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(ft){return ft.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function su(ft,bt){return new ns(ft,bt)}var Ls=ns.extend({initialize:function(ft,bt,wt){if(typeof bt=="number"&&(bt=st({},wt,{radius:bt})),yt(this,bt),this._latlng=ar(ft),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(ft){return this._mRadius=ft,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var ft=[this._radius,this._radiusY||this._radius];return new Vt(this._map.layerPointToLatLng(this._point.subtract(ft)),this._map.layerPointToLatLng(this._point.add(ft)))},setStyle:gn.prototype.setStyle,_project:function(){var ft=this._latlng.lng,bt=this._latlng.lat,wt=this._map,Ct=wt.options.crs;if(Ct.distance===Er.distance){var Mt=Math.PI/180,Ut=this._mRadius/Er.R/Mt,Yt=wt.project([bt+Ut,ft]),er=wt.project([bt-Ut,ft]),sr=Yt.add(er).divideBy(2),cr=wt.unproject(sr).lat,gr=Math.acos((Math.cos(Ut*Mt)-Math.sin(bt*Mt)*Math.sin(cr*Mt))/(Math.cos(bt*Mt)*Math.cos(cr*Mt)))/Mt;(isNaN(gr)||gr===0)&&(gr=Ut/Math.cos(Math.PI/180*bt)),this._point=sr.subtract(wt.getPixelOrigin()),this._radius=isNaN(gr)?0:sr.x-wt.project([cr,ft-gr]).x,this._radiusY=sr.y-Yt.y}else{var Sr=Ct.unproject(Ct.project(this._latlng).subtract([this._mRadius,0]));this._point=wt.latLngToLayerPoint(this._latlng),this._radius=this._point.x-wt.latLngToLayerPoint(Sr).x}this._updateBounds()}});function iu(ft,bt,wt){return new Ls(ft,bt,wt)}var pn=gn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(ft,bt){yt(this,bt),this._setLatLngs(ft)},getLatLngs:function(){return this._latlngs},setLatLngs:function(ft){return this._setLatLngs(ft),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(ft){for(var bt=1/0,wt=null,Ct=zn,Mt,Ut,Yt=0,er=this._parts.length;Yt<er;Yt++)for(var sr=this._parts[Yt],cr=1,gr=sr.length;cr<gr;cr++){Mt=sr[cr-1],Ut=sr[cr];var Sr=Ct(ft,Mt,Ut,!0);Sr<bt&&(bt=Sr,wt=Ct(ft,Mt,Ut))}return wt&&(wt.distance=Math.sqrt(bt)),wt},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return fo(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(ft,bt){return bt=bt||this._defaultShape(),ft=ar(ft),bt.push(ft),this._bounds.extend(ft),this.redraw()},_setLatLngs:function(ft){this._bounds=new Vt,this._latlngs=this._convertLatLngs(ft)},_defaultShape:function(){return en(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(ft){for(var bt=[],wt=en(ft),Ct=0,Mt=ft.length;Ct<Mt;Ct++)wt?(bt[Ct]=ar(ft[Ct]),this._bounds.extend(bt[Ct])):bt[Ct]=this._convertLatLngs(ft[Ct]);return bt},_project:function(){var ft=new Ht;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,ft),this._bounds.isValid()&&ft.isValid()&&(this._rawPxBounds=ft,this._updateBounds())},_updateBounds:function(){var ft=this._clickTolerance(),bt=new Pt(ft,ft);this._rawPxBounds&&(this._pxBounds=new Ht([this._rawPxBounds.min.subtract(bt),this._rawPxBounds.max.add(bt)]))},_projectLatlngs:function(ft,bt,wt){var Ct=ft[0]instanceof rr,Mt=ft.length,Ut,Yt;if(Ct){for(Yt=[],Ut=0;Ut<Mt;Ut++)Yt[Ut]=this._map.latLngToLayerPoint(ft[Ut]),wt.extend(Yt[Ut]);bt.push(Yt)}else for(Ut=0;Ut<Mt;Ut++)this._projectLatlngs(ft[Ut],bt,wt)},_clipPoints:function(){var ft=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(ft))){if(this.options.noClip){this._parts=this._rings;return}var bt=this._parts,wt,Ct,Mt,Ut,Yt,er,sr;for(wt=0,Mt=0,Ut=this._rings.length;wt<Ut;wt++)for(sr=this._rings[wt],Ct=0,Yt=sr.length;Ct<Yt-1;Ct++)er=ho(sr[Ct],sr[Ct+1],ft,Ct,!0),er&&(bt[Mt]=bt[Mt]||[],bt[Mt].push(er[0]),(er[1]!==sr[Ct+1]||Ct===Yt-2)&&(bt[Mt].push(er[1]),Mt++))}},_simplifyPoints:function(){for(var ft=this._parts,bt=this.options.smoothFactor,wt=0,Ct=ft.length;wt<Ct;wt++)ft[wt]=lo(ft[wt],bt)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(ft,bt){var wt,Ct,Mt,Ut,Yt,er,sr=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(ft))return!1;for(wt=0,Ut=this._parts.length;wt<Ut;wt++)for(er=this._parts[wt],Ct=0,Yt=er.length,Mt=Yt-1;Ct<Yt;Mt=Ct++)if(!(!bt&&Ct===0)&&co(ft,er[Mt],er[Ct])<=sr)return!0;return!1}});function au(ft,bt){return new pn(ft,bt)}pn._flat=po;var Cn=pn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return oo(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(ft){var bt=pn.prototype._convertLatLngs.call(this,ft),wt=bt.length;return wt>=2&&bt[0]instanceof rr&&bt[0].equals(bt[wt-1])&&bt.pop(),bt},_setLatLngs:function(ft){pn.prototype._setLatLngs.call(this,ft),en(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return en(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var ft=this._renderer._bounds,bt=this.options.weight,wt=new Pt(bt,bt);if(ft=new Ht(ft.min.subtract(wt),ft.max.add(wt)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(ft))){if(this.options.noClip){this._parts=this._rings;return}for(var Ct=0,Mt=this._rings.length,Ut;Ct<Mt;Ct++)Ut=ao(this._rings[Ct],ft,!0),Ut.length&&this._parts.push(Ut)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(ft){var bt=!1,wt,Ct,Mt,Ut,Yt,er,sr,cr;if(!this._pxBounds||!this._pxBounds.contains(ft))return!1;for(Ut=0,sr=this._parts.length;Ut<sr;Ut++)for(wt=this._parts[Ut],Yt=0,cr=wt.length,er=cr-1;Yt<cr;er=Yt++)Ct=wt[Yt],Mt=wt[er],Ct.y>ft.y!=Mt.y>ft.y&&ft.x<(Mt.x-Ct.x)*(ft.y-Ct.y)/(Mt.y-Ct.y)+Ct.x&&(bt=!bt);return bt||pn.prototype._containsPoint.call(this,ft,!0)}});function ou(ft,bt){return new Cn(ft,bt)}var fn=hn.extend({initialize:function(ft,bt){yt(this,bt),this._layers={},ft&&this.addData(ft)},addData:function(ft){var bt=jt(ft)?ft:ft.features,wt,Ct,Mt;if(bt){for(wt=0,Ct=bt.length;wt<Ct;wt++)Mt=bt[wt],(Mt.geometries||Mt.geometry||Mt.features||Mt.coordinates)&&this.addData(Mt);return this}var Ut=this.options;if(Ut.filter&&!Ut.filter(ft))return this;var Yt=ss(ft,Ut);return Yt?(Yt.feature=cs(ft),Yt.defaultOptions=Yt.options,this.resetStyle(Yt),Ut.onEachFeature&&Ut.onEachFeature(ft,Yt),this.addLayer(Yt)):this},resetStyle:function(ft){return ft===void 0?this.eachLayer(this.resetStyle,this):(ft.options=st({},ft.defaultOptions),this._setLayerStyle(ft,this.options.style),this)},setStyle:function(ft){return this.eachLayer(function(bt){this._setLayerStyle(bt,ft)},this)},_setLayerStyle:function(ft,bt){ft.setStyle&&(typeof bt=="function"&&(bt=bt(ft.feature)),ft.setStyle(bt))}});function ss(ft,bt){var wt=ft.type==="Feature"?ft.geometry:ft,Ct=wt?wt.coordinates:null,Mt=[],Ut=bt&&bt.pointToLayer,Yt=bt&&bt.coordsToLatLng||Ds,er,sr,cr,gr;if(!Ct&&!wt)return null;switch(wt.type){case"Point":return er=Yt(Ct),go(Ut,ft,er,bt);case"MultiPoint":for(cr=0,gr=Ct.length;cr<gr;cr++)er=Yt(Ct[cr]),Mt.push(go(Ut,ft,er,bt));return new hn(Mt);case"LineString":case"MultiLineString":return sr=as(Ct,wt.type==="LineString"?0:1,Yt),new pn(sr,bt);case"Polygon":case"MultiPolygon":return sr=as(Ct,wt.type==="Polygon"?1:2,Yt),new Cn(sr,bt);case"GeometryCollection":for(cr=0,gr=wt.geometries.length;cr<gr;cr++){var Sr=ss({geometry:wt.geometries[cr],type:"Feature",properties:ft.properties},bt);Sr&&Mt.push(Sr)}return new hn(Mt);case"FeatureCollection":for(cr=0,gr=wt.features.length;cr<gr;cr++){var Pr=ss(wt.features[cr],bt);Pr&&Mt.push(Pr)}return new hn(Mt);default:throw new Error("Invalid GeoJSON object.")}}function go(ft,bt,wt,Ct){return ft?ft(bt,wt):new rs(wt,Ct&&Ct.markersInheritOptions&&Ct)}function Ds(ft){return new rr(ft[1],ft[0],ft[2])}function as(ft,bt,wt){for(var Ct=[],Mt=0,Ut=ft.length,Yt;Mt<Ut;Mt++)Yt=bt?as(ft[Mt],bt-1,wt):(wt||Ds)(ft[Mt]),Ct.push(Yt);return Ct}function Fs(ft,bt){return ft=ar(ft),ft.alt!==void 0?[pt(ft.lng,bt),pt(ft.lat,bt),pt(ft.alt,bt)]:[pt(ft.lng,bt),pt(ft.lat,bt)]}function ls(ft,bt,wt,Ct){for(var Mt=[],Ut=0,Yt=ft.length;Ut<Yt;Ut++)Mt.push(bt?ls(ft[Ut],en(ft[Ut])?0:bt-1,wt,Ct):Fs(ft[Ut],Ct));return!bt&&wt&&Mt.length>0&&Mt.push(Mt[0].slice()),Mt}function Pn(ft,bt){return ft.feature?st({},ft.feature,{geometry:bt}):cs(bt)}function cs(ft){return ft.type==="Feature"||ft.type==="FeatureCollection"?ft:{type:"Feature",properties:{},geometry:ft}}var Bs={toGeoJSON:function(ft){return Pn(this,{type:"Point",coordinates:Fs(this.getLatLng(),ft)})}};rs.include(Bs),Ls.include(Bs),ns.include(Bs),pn.include({toGeoJSON:function(ft){var bt=!en(this._latlngs),wt=ls(this._latlngs,bt?1:0,!1,ft);return Pn(this,{type:(bt?"Multi":"")+"LineString",coordinates:wt})}}),Cn.include({toGeoJSON:function(ft){var bt=!en(this._latlngs),wt=bt&&!en(this._latlngs[0]),Ct=ls(this._latlngs,wt?2:bt?1:0,!0,ft);return bt||(Ct=[Ct]),Pn(this,{type:(wt?"Multi":"")+"Polygon",coordinates:Ct})}}),_n.include({toMultiPoint:function(ft){var bt=[];return this.eachLayer(function(wt){bt.push(wt.toGeoJSON(ft).geometry.coordinates)}),Pn(this,{type:"MultiPoint",coordinates:bt})},toGeoJSON:function(ft){var bt=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(bt==="MultiPoint")return this.toMultiPoint(ft);var wt=bt==="GeometryCollection",Ct=[];return this.eachLayer(function(Mt){if(Mt.toGeoJSON){var Ut=Mt.toGeoJSON(ft);if(wt)Ct.push(Ut.geometry);else{var Yt=cs(Ut);Yt.type==="FeatureCollection"?Ct.push.apply(Ct,Yt.features):Ct.push(Yt)}}}),wt?Pn(this,{geometries:Ct,type:"GeometryCollection"}):{type:"FeatureCollection",features:Ct}}});function yo(ft,bt){return new fn(ft,bt)}var lu=yo,us=nn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(ft,bt,wt){this._url=ft,this._bounds=Jt(bt),yt(this,wt)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Cr(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Or(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(ft){return this.options.opacity=ft,this._image&&this._updateOpacity(),this},setStyle:function(ft){return ft.opacity&&this.setOpacity(ft.opacity),this},bringToFront:function(){return this._map&&Sn(this._image),this},bringToBack:function(){return this._map&&Rn(this._image),this},setUrl:function(ft){return this._url=ft,this._image&&(this._image.src=ft),this},setBounds:function(ft){return this._bounds=Jt(ft),this._map&&this._reset(),this},getEvents:function(){var ft={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(ft.zoomanim=this._animateZoom),ft},setZIndex:function(ft){return this.options.zIndex=ft,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var ft=this._url.tagName==="IMG",bt=this._image=ft?this._url:$r("img");if(Cr(bt,"leaflet-image-layer"),this._zoomAnimated&&Cr(bt,"leaflet-zoom-animated"),this.options.className&&Cr(bt,this.options.className),bt.onselectstart=dt,bt.onmousemove=dt,bt.onload=at(this.fire,this,"load"),bt.onerror=at(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(bt.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),ft){this._url=bt.src;return}bt.src=this._url,bt.alt=this.options.alt},_animateZoom:function(ft){var bt=this._map.getZoomScale(ft.zoom),wt=this._map._latLngBoundsToNewLayerBounds(this._bounds,ft.zoom,ft.center).min;yn(this._image,wt,bt)},_reset:function(){var ft=this._image,bt=new Ht(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),wt=bt.getSize();Br(ft,bt.min),ft.style.width=wt.x+"px",ft.style.height=wt.y+"px"},_updateOpacity:function(){Qr(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var ft=this.options.errorOverlayUrl;ft&&this._url!==ft&&(this._url=ft,this._image.src=ft)},getCenter:function(){return this._bounds.getCenter()}}),cu=function(ft,bt,wt){return new us(ft,bt,wt)},vo=us.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var ft=this._url.tagName==="VIDEO",bt=this._image=ft?this._url:$r("video");if(Cr(bt,"leaflet-image-layer"),this._zoomAnimated&&Cr(bt,"leaflet-zoom-animated"),this.options.className&&Cr(bt,this.options.className),bt.onselectstart=dt,bt.onmousemove=dt,bt.onloadeddata=at(this.fire,this,"load"),ft){for(var wt=bt.getElementsByTagName("source"),Ct=[],Mt=0;Mt<wt.length;Mt++)Ct.push(wt[Mt].src);this._url=wt.length>0?Ct:[bt.src];return}jt(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(bt.style,"objectFit")&&(bt.style.objectFit="fill"),bt.autoplay=!!this.options.autoplay,bt.loop=!!this.options.loop,bt.muted=!!this.options.muted,bt.playsInline=!!this.options.playsInline;for(var Ut=0;Ut<this._url.length;Ut++){var Yt=$r("source");Yt.src=this._url[Ut],bt.appendChild(Yt)}}});function uu(ft,bt,wt){return new vo(ft,bt,wt)}var bo=us.extend({_initImage:function(){var ft=this._image=this._url;Cr(ft,"leaflet-image-layer"),this._zoomAnimated&&Cr(ft,"leaflet-zoom-animated"),this.options.className&&Cr(ft,this.options.className),ft.onselectstart=dt,ft.onmousemove=dt}});function du(ft,bt,wt){return new bo(ft,bt,wt)}var dn=nn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(ft,bt){ft&&(ft instanceof rr||jt(ft))?(this._latlng=ar(ft),yt(this,bt)):(yt(this,ft),this._source=bt),this.options.content&&(this._content=this.options.content)},openOn:function(ft){return ft=arguments.length?ft:this._source._map,ft.hasLayer(this)||ft.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(ft){return this._map?this.close():(arguments.length?this._source=ft:ft=this._source,this._prepareOpen(),this.openOn(ft._map)),this},onAdd:function(ft){this._zoomAnimated=ft._zoomAnimated,this._container||this._initLayout(),ft._fadeAnimated&&Qr(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),ft._fadeAnimated&&Qr(this._container,1),this.bringToFront(),this.options.interactive&&(Cr(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(ft){ft._fadeAnimated?(Qr(this._container,0),this._removeTimeout=setTimeout(at(Or,void 0,this._container),200)):Or(this._container),this.options.interactive&&(Fr(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(ft){return this._latlng=ar(ft),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(ft){return this._content=ft,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var ft={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(ft.zoomanim=this._animateZoom),ft},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Sn(this._container),this},bringToBack:function(){return this._map&&Rn(this._container),this},_prepareOpen:function(ft){var bt=this._source;if(!bt._map)return!1;if(bt instanceof hn){bt=null;var wt=this._source._layers;for(var Ct in wt)if(wt[Ct]._map){bt=wt[Ct];break}if(!bt)return!1;this._source=bt}if(!ft)if(bt.getCenter)ft=bt.getCenter();else if(bt.getLatLng)ft=bt.getLatLng();else if(bt.getBounds)ft=bt.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(ft),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var ft=this._contentNode,bt=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof bt=="string")ft.innerHTML=bt;else{for(;ft.hasChildNodes();)ft.removeChild(ft.firstChild);ft.appendChild(bt)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var ft=this._map.latLngToLayerPoint(this._latlng),bt=At(this.options.offset),wt=this._getAnchor();this._zoomAnimated?Br(this._container,ft.add(wt)):bt=bt.add(ft).add(wt);var Ct=this._containerBottom=-bt.y,Mt=this._containerLeft=-Math.round(this._containerWidth/2)+bt.x;this._container.style.bottom=Ct+"px",this._container.style.left=Mt+"px"}},_getAnchor:function(){return[0,0]}});Ar.include({_initOverlay:function(ft,bt,wt,Ct){var Mt=bt;return Mt instanceof ft||(Mt=new ft(Ct).setContent(bt)),wt&&Mt.setLatLng(wt),Mt}}),nn.include({_initOverlay:function(ft,bt,wt,Ct){var Mt=wt;return Mt instanceof ft?(yt(Mt,Ct),Mt._source=this):(Mt=bt&&!Ct?bt:new ft(Ct,this),Mt.setContent(wt)),Mt}});var ds=dn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(ft){return ft=arguments.length?ft:this._source._map,!ft.hasLayer(this)&&ft._popup&&ft._popup.options.autoClose&&ft.removeLayer(ft._popup),ft._popup=this,dn.prototype.openOn.call(this,ft)},onAdd:function(ft){dn.prototype.onAdd.call(this,ft),ft.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof gn||this._source.on("preclick",bn))},onRemove:function(ft){dn.prototype.onRemove.call(this,ft),ft.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof gn||this._source.off("preclick",bn))},getEvents:function(){var ft=dn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(ft.preclick=this.close),this.options.keepInView&&(ft.moveend=this._adjustPan),ft},_initLayout:function(){var ft="leaflet-popup",bt=this._container=$r("div",ft+" "+(this.options.className||"")+" leaflet-zoom-animated"),wt=this._wrapper=$r("div",ft+"-content-wrapper",bt);if(this._contentNode=$r("div",ft+"-content",wt),Fn(bt),Cs(this._contentNode),_r(bt,"contextmenu",bn),this._tipContainer=$r("div",ft+"-tip-container",bt),this._tip=$r("div",ft+"-tip",this._tipContainer),this.options.closeButton){var Ct=this._closeButton=$r("a",ft+"-close-button",bt);Ct.setAttribute("role","button"),Ct.setAttribute("aria-label","Close popup"),Ct.href="#close",Ct.innerHTML='<span aria-hidden="true">&#215;</span>',_r(Ct,"click",function(Mt){Wr(Mt),this.close()},this)}},_updateLayout:function(){var ft=this._contentNode,bt=ft.style;bt.width="",bt.whiteSpace="nowrap";var wt=ft.offsetWidth;wt=Math.min(wt,this.options.maxWidth),wt=Math.max(wt,this.options.minWidth),bt.width=wt+1+"px",bt.whiteSpace="",bt.height="";var Ct=ft.offsetHeight,Mt=this.options.maxHeight,Ut="leaflet-popup-scrolled";Mt&&Ct>Mt?(bt.height=Mt+"px",Cr(ft,Ut)):Fr(ft,Ut),this._containerWidth=this._container.offsetWidth},_animateZoom:function(ft){var bt=this._map._latLngToNewLayerPoint(this._latlng,ft.zoom,ft.center),wt=this._getAnchor();Br(this._container,bt.add(wt))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var ft=this._map,bt=parseInt(On(this._container,"marginBottom"),10)||0,wt=this._container.offsetHeight+bt,Ct=this._containerWidth,Mt=new Pt(this._containerLeft,-wt-this._containerBottom);Mt._add(vn(this._container));var Ut=ft.layerPointToContainerPoint(Mt),Yt=At(this.options.autoPanPadding),er=At(this.options.autoPanPaddingTopLeft||Yt),sr=At(this.options.autoPanPaddingBottomRight||Yt),cr=ft.getSize(),gr=0,Sr=0;Ut.x+Ct+sr.x>cr.x&&(gr=Ut.x+Ct-cr.x+sr.x),Ut.x-gr-er.x<0&&(gr=Ut.x-er.x),Ut.y+wt+sr.y>cr.y&&(Sr=Ut.y+wt-cr.y+sr.y),Ut.y-Sr-er.y<0&&(Sr=Ut.y-er.y),(gr||Sr)&&(this.options.keepInView&&(this._autopanning=!0),ft.fire("autopanstart").panBy([gr,Sr]))}},_getAnchor:function(){return At(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),hu=function(ft,bt){return new ds(ft,bt)};Ar.mergeOptions({closePopupOnClick:!0}),Ar.include({openPopup:function(ft,bt,wt){return this._initOverlay(ds,ft,bt,wt).openOn(this),this},closePopup:function(ft){return ft=arguments.length?ft:this._popup,ft&&ft.close(),this}}),nn.include({bindPopup:function(ft,bt){return this._popup=this._initOverlay(ds,this._popup,ft,bt),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(ft){return this._popup&&(this instanceof hn||(this._popup._source=this),this._popup._prepareOpen(ft||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(ft){return this._popup&&this._popup.setContent(ft),this},getPopup:function(){return this._popup},_openPopup:function(ft){if(!(!this._popup||!this._map)){En(ft);var bt=ft.layer||ft.target;if(this._popup._source===bt&&!(bt instanceof gn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(ft.latlng);return}this._popup._source=bt,this.openPopup(ft.latlng)}},_movePopup:function(ft){this._popup.setLatLng(ft.latlng)},_onKeyPress:function(ft){ft.originalEvent.keyCode===13&&this._openPopup(ft)}});var hs=dn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(ft){dn.prototype.onAdd.call(this,ft),this.setOpacity(this.options.opacity),ft.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(ft){dn.prototype.onRemove.call(this,ft),ft.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var ft=dn.prototype.getEvents.call(this);return this.options.permanent||(ft.preclick=this.close),ft},_initLayout:function(){var ft="leaflet-tooltip",bt=ft+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=$r("div",bt),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+lt(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(ft){var bt,wt,Ct=this._map,Mt=this._container,Ut=Ct.latLngToContainerPoint(Ct.getCenter()),Yt=Ct.layerPointToContainerPoint(ft),er=this.options.direction,sr=Mt.offsetWidth,cr=Mt.offsetHeight,gr=At(this.options.offset),Sr=this._getAnchor();er==="top"?(bt=sr/2,wt=cr):er==="bottom"?(bt=sr/2,wt=0):er==="center"?(bt=sr/2,wt=cr/2):er==="right"?(bt=0,wt=cr/2):er==="left"?(bt=sr,wt=cr/2):Yt.x<Ut.x?(er="right",bt=0,wt=cr/2):(er="left",bt=sr+(gr.x+Sr.x)*2,wt=cr/2),ft=ft.subtract(At(bt,wt,!0)).add(gr).add(Sr),Fr(Mt,"leaflet-tooltip-right"),Fr(Mt,"leaflet-tooltip-left"),Fr(Mt,"leaflet-tooltip-top"),Fr(Mt,"leaflet-tooltip-bottom"),Cr(Mt,"leaflet-tooltip-"+er),Br(Mt,ft)},_updatePosition:function(){var ft=this._map.latLngToLayerPoint(this._latlng);this._setPosition(ft)},setOpacity:function(ft){this.options.opacity=ft,this._container&&Qr(this._container,ft)},_animateZoom:function(ft){var bt=this._map._latLngToNewLayerPoint(this._latlng,ft.zoom,ft.center);this._setPosition(bt)},_getAnchor:function(){return At(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),pu=function(ft,bt){return new hs(ft,bt)};Ar.include({openTooltip:function(ft,bt,wt){return this._initOverlay(hs,ft,bt,wt).openOn(this),this},closeTooltip:function(ft){return ft.close(),this}}),nn.include({bindTooltip:function(ft,bt){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(hs,this._tooltip,ft,bt),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(ft){if(!(!ft&&this._tooltipHandlersAdded)){var bt=ft?"off":"on",wt={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?wt.add=this._openTooltip:(wt.mouseover=this._openTooltip,wt.mouseout=this.closeTooltip,wt.click=this._openTooltip,this._map?this._addFocusListeners():wt.add=this._addFocusListeners),this._tooltip.options.sticky&&(wt.mousemove=this._moveTooltip),this[bt](wt),this._tooltipHandlersAdded=!ft}},openTooltip:function(ft){return this._tooltip&&(this instanceof hn||(this._tooltip._source=this),this._tooltip._prepareOpen(ft)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(ft){return this._tooltip&&this._tooltip.setContent(ft),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(ft){var bt=typeof ft.getElement=="function"&&ft.getElement();bt&&(_r(bt,"focus",function(){this._tooltip._source=ft,this.openTooltip()},this),_r(bt,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(ft){var bt=typeof ft.getElement=="function"&&ft.getElement();bt&&bt.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(ft){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var bt=this;this._map.once("moveend",function(){bt._openOnceFlag=!1,bt._openTooltip(ft)});return}this._tooltip._source=ft.layer||ft.target,this.openTooltip(this._tooltip.options.sticky?ft.latlng:void 0)}},_moveTooltip:function(ft){var bt=ft.latlng,wt,Ct;this._tooltip.options.sticky&&ft.originalEvent&&(wt=this._map.mouseEventToContainerPoint(ft.originalEvent),Ct=this._map.containerPointToLayerPoint(wt),bt=this._map.layerPointToLatLng(Ct)),this._tooltip.setLatLng(bt)}});var Eo=Nn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(ft){var bt=ft&&ft.tagName==="DIV"?ft:document.createElement("div"),wt=this.options;if(wt.html instanceof Element?(Yn(bt),bt.appendChild(wt.html)):bt.innerHTML=wt.html!==!1?wt.html:"",wt.bgPos){var Ct=At(wt.bgPos);bt.style.backgroundPosition=-Ct.x+"px "+-Ct.y+"px"}return this._setIconStyles(bt,"icon"),bt},createShadow:function(){return null}});function fu(ft){return new Eo(ft)}Nn.Default=Vn;var Hn=nn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:br.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(ft){yt(this,ft)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(ft){ft._addZoomLimit(this)},onRemove:function(ft){this._removeAllTiles(),Or(this._container),ft._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Sn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Rn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(ft){return this.options.opacity=ft,this._updateOpacity(),this},setZIndex:function(ft){return this.options.zIndex=ft,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var ft=this._clampZoom(this._map.getZoom());ft!==this._tileZoom&&(this._tileZoom=ft,this._updateLevels()),this._update()}return this},getEvents:function(){var ft={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=ct(this._onMoveEnd,this.options.updateInterval,this)),ft.move=this._onMove),this._zoomAnimated&&(ft.zoomanim=this._animateZoom),ft},createTile:function(){return document.createElement("div")},getTileSize:function(){var ft=this.options.tileSize;return ft instanceof Pt?ft:new Pt(ft,ft)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(ft){for(var bt=this.getPane().children,wt=-ft(-1/0,1/0),Ct=0,Mt=bt.length,Ut;Ct<Mt;Ct++)Ut=bt[Ct].style.zIndex,bt[Ct]!==this._container&&Ut&&(wt=ft(wt,+Ut));isFinite(wt)&&(this.options.zIndex=wt+ft(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!br.ielt9){Qr(this._container,this.options.opacity);var ft=+new Date,bt=!1,wt=!1;for(var Ct in this._tiles){var Mt=this._tiles[Ct];if(!(!Mt.current||!Mt.loaded)){var Ut=Math.min(1,(ft-Mt.loaded)/200);Qr(Mt.el,Ut),Ut<1?bt=!0:(Mt.active?wt=!0:this._onOpaqueTile(Mt),Mt.active=!0)}}wt&&!this._noPrune&&this._pruneTiles(),bt&&(Tt(this._fadeFrame),this._fadeFrame=Ft(this._updateOpacity,this))}},_onOpaqueTile:dt,_initContainer:function(){this._container||(this._container=$r("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var ft=this._tileZoom,bt=this.options.maxZoom;if(ft!==void 0){for(var wt in this._levels)wt=Number(wt),this._levels[wt].el.children.length||wt===ft?(this._levels[wt].el.style.zIndex=bt-Math.abs(ft-wt),this._onUpdateLevel(wt)):(Or(this._levels[wt].el),this._removeTilesAtZoom(wt),this._onRemoveLevel(wt),delete this._levels[wt]);var Ct=this._levels[ft],Mt=this._map;return Ct||(Ct=this._levels[ft]={},Ct.el=$r("div","leaflet-tile-container leaflet-zoom-animated",this._container),Ct.el.style.zIndex=bt,Ct.origin=Mt.project(Mt.unproject(Mt.getPixelOrigin()),ft).round(),Ct.zoom=ft,this._setZoomTransform(Ct,Mt.getCenter(),Mt.getZoom()),dt(Ct.el.offsetWidth),this._onCreateLevel(Ct)),this._level=Ct,Ct}},_onUpdateLevel:dt,_onRemoveLevel:dt,_onCreateLevel:dt,_pruneTiles:function(){if(this._map){var ft,bt,wt=this._map.getZoom();if(wt>this.options.maxZoom||wt<this.options.minZoom){this._removeAllTiles();return}for(ft in this._tiles)bt=this._tiles[ft],bt.retain=bt.current;for(ft in this._tiles)if(bt=this._tiles[ft],bt.current&&!bt.active){var Ct=bt.coords;this._retainParent(Ct.x,Ct.y,Ct.z,Ct.z-5)||this._retainChildren(Ct.x,Ct.y,Ct.z,Ct.z+2)}for(ft in this._tiles)this._tiles[ft].retain||this._removeTile(ft)}},_removeTilesAtZoom:function(ft){for(var bt in this._tiles)this._tiles[bt].coords.z===ft&&this._removeTile(bt)},_removeAllTiles:function(){for(var ft in this._tiles)this._removeTile(ft)},_invalidateAll:function(){for(var ft in this._levels)Or(this._levels[ft].el),this._onRemoveLevel(Number(ft)),delete this._levels[ft];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(ft,bt,wt,Ct){var Mt=Math.floor(ft/2),Ut=Math.floor(bt/2),Yt=wt-1,er=new Pt(+Mt,+Ut);er.z=+Yt;var sr=this._tileCoordsToKey(er),cr=this._tiles[sr];return cr&&cr.active?(cr.retain=!0,!0):(cr&&cr.loaded&&(cr.retain=!0),Yt>Ct?this._retainParent(Mt,Ut,Yt,Ct):!1)},_retainChildren:function(ft,bt,wt,Ct){for(var Mt=2*ft;Mt<2*ft+2;Mt++)for(var Ut=2*bt;Ut<2*bt+2;Ut++){var Yt=new Pt(Mt,Ut);Yt.z=wt+1;var er=this._tileCoordsToKey(Yt),sr=this._tiles[er];if(sr&&sr.active){sr.retain=!0;continue}else sr&&sr.loaded&&(sr.retain=!0);wt+1<Ct&&this._retainChildren(Mt,Ut,wt+1,Ct)}},_resetView:function(ft){var bt=ft&&(ft.pinch||ft.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),bt,bt)},_animateZoom:function(ft){this._setView(ft.center,ft.zoom,!0,ft.noUpdate)},_clampZoom:function(ft){var bt=this.options;return bt.minNativeZoom!==void 0&&ft<bt.minNativeZoom?bt.minNativeZoom:bt.maxNativeZoom!==void 0&&bt.maxNativeZoom<ft?bt.maxNativeZoom:ft},_setView:function(ft,bt,wt,Ct){var Mt=Math.round(bt);this.options.maxZoom!==void 0&&Mt>this.options.maxZoom||this.options.minZoom!==void 0&&Mt<this.options.minZoom?Mt=void 0:Mt=this._clampZoom(Mt);var Ut=this.options.updateWhenZooming&&Mt!==this._tileZoom;(!Ct||Ut)&&(this._tileZoom=Mt,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),Mt!==void 0&&this._update(ft),wt||this._pruneTiles(),this._noPrune=!!wt),this._setZoomTransforms(ft,bt)},_setZoomTransforms:function(ft,bt){for(var wt in this._levels)this._setZoomTransform(this._levels[wt],ft,bt)},_setZoomTransform:function(ft,bt,wt){var Ct=this._map.getZoomScale(wt,ft.zoom),Mt=ft.origin.multiplyBy(Ct).subtract(this._map._getNewPixelOrigin(bt,wt)).round();br.any3d?yn(ft.el,Mt,Ct):Br(ft.el,Mt)},_resetGrid:function(){var ft=this._map,bt=ft.options.crs,wt=this._tileSize=this.getTileSize(),Ct=this._tileZoom,Mt=this._map.getPixelWorldBounds(this._tileZoom);Mt&&(this._globalTileRange=this._pxBoundsToTileRange(Mt)),this._wrapX=bt.wrapLng&&!this.options.noWrap&&[Math.floor(ft.project([0,bt.wrapLng[0]],Ct).x/wt.x),Math.ceil(ft.project([0,bt.wrapLng[1]],Ct).x/wt.y)],this._wrapY=bt.wrapLat&&!this.options.noWrap&&[Math.floor(ft.project([bt.wrapLat[0],0],Ct).y/wt.x),Math.ceil(ft.project([bt.wrapLat[1],0],Ct).y/wt.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(ft){var bt=this._map,wt=bt._animatingZoom?Math.max(bt._animateToZoom,bt.getZoom()):bt.getZoom(),Ct=bt.getZoomScale(wt,this._tileZoom),Mt=bt.project(ft,this._tileZoom).floor(),Ut=bt.getSize().divideBy(Ct*2);return new Ht(Mt.subtract(Ut),Mt.add(Ut))},_update:function(ft){var bt=this._map;if(bt){var wt=this._clampZoom(bt.getZoom());if(ft===void 0&&(ft=bt.getCenter()),this._tileZoom!==void 0){var Ct=this._getTiledPixelBounds(ft),Mt=this._pxBoundsToTileRange(Ct),Ut=Mt.getCenter(),Yt=[],er=this.options.keepBuffer,sr=new Ht(Mt.getBottomLeft().subtract([er,-er]),Mt.getTopRight().add([er,-er]));if(!(isFinite(Mt.min.x)&&isFinite(Mt.min.y)&&isFinite(Mt.max.x)&&isFinite(Mt.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var cr in this._tiles){var gr=this._tiles[cr].coords;(gr.z!==this._tileZoom||!sr.contains(new Pt(gr.x,gr.y)))&&(this._tiles[cr].current=!1)}if(Math.abs(wt-this._tileZoom)>1){this._setView(ft,wt);return}for(var Sr=Mt.min.y;Sr<=Mt.max.y;Sr++)for(var Pr=Mt.min.x;Pr<=Mt.max.x;Pr++){var Gr=new Pt(Pr,Sr);if(Gr.z=this._tileZoom,!!this._isValidTile(Gr)){var Hr=this._tiles[this._tileCoordsToKey(Gr)];Hr?Hr.current=!0:Yt.push(Gr)}}if(Yt.sort(function(Yr,An){return Yr.distanceTo(Ut)-An.distanceTo(Ut)}),Yt.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var tn=document.createDocumentFragment();for(Pr=0;Pr<Yt.length;Pr++)this._addTile(Yt[Pr],tn);this._level.el.appendChild(tn)}}}},_isValidTile:function(ft){var bt=this._map.options.crs;if(!bt.infinite){var wt=this._globalTileRange;if(!bt.wrapLng&&(ft.x<wt.min.x||ft.x>wt.max.x)||!bt.wrapLat&&(ft.y<wt.min.y||ft.y>wt.max.y))return!1}if(!this.options.bounds)return!0;var Ct=this._tileCoordsToBounds(ft);return Jt(this.options.bounds).overlaps(Ct)},_keyToBounds:function(ft){return this._tileCoordsToBounds(this._keyToTileCoords(ft))},_tileCoordsToNwSe:function(ft){var bt=this._map,wt=this.getTileSize(),Ct=ft.scaleBy(wt),Mt=Ct.add(wt),Ut=bt.unproject(Ct,ft.z),Yt=bt.unproject(Mt,ft.z);return[Ut,Yt]},_tileCoordsToBounds:function(ft){var bt=this._tileCoordsToNwSe(ft),wt=new Vt(bt[0],bt[1]);return this.options.noWrap||(wt=this._map.wrapLatLngBounds(wt)),wt},_tileCoordsToKey:function(ft){return ft.x+":"+ft.y+":"+ft.z},_keyToTileCoords:function(ft){var bt=ft.split(":"),wt=new Pt(+bt[0],+bt[1]);return wt.z=+bt[2],wt},_removeTile:function(ft){var bt=this._tiles[ft];bt&&(Or(bt.el),delete this._tiles[ft],this.fire("tileunload",{tile:bt.el,coords:this._keyToTileCoords(ft)}))},_initTile:function(ft){Cr(ft,"leaflet-tile");var bt=this.getTileSize();ft.style.width=bt.x+"px",ft.style.height=bt.y+"px",ft.onselectstart=dt,ft.onmousemove=dt,br.ielt9&&this.options.opacity<1&&Qr(ft,this.options.opacity)},_addTile:function(ft,bt){var wt=this._getTilePos(ft),Ct=this._tileCoordsToKey(ft),Mt=this.createTile(this._wrapCoords(ft),at(this._tileReady,this,ft));this._initTile(Mt),this.createTile.length<2&&Ft(at(this._tileReady,this,ft,null,Mt)),Br(Mt,wt),this._tiles[Ct]={el:Mt,coords:ft,current:!0},bt.appendChild(Mt),this.fire("tileloadstart",{tile:Mt,coords:ft})},_tileReady:function(ft,bt,wt){bt&&this.fire("tileerror",{error:bt,tile:wt,coords:ft});var Ct=this._tileCoordsToKey(ft);wt=this._tiles[Ct],wt&&(wt.loaded=+new Date,this._map._fadeAnimated?(Qr(wt.el,0),Tt(this._fadeFrame),this._fadeFrame=Ft(this._updateOpacity,this)):(wt.active=!0,this._pruneTiles()),bt||(Cr(wt.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:wt.el,coords:ft})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),br.ielt9||!this._map._fadeAnimated?Ft(this._pruneTiles,this):setTimeout(at(this._pruneTiles,this),250)))},_getTilePos:function(ft){return ft.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(ft){var bt=new Pt(this._wrapX?ut(ft.x,this._wrapX):ft.x,this._wrapY?ut(ft.y,this._wrapY):ft.y);return bt.z=ft.z,bt},_pxBoundsToTileRange:function(ft){var bt=this.getTileSize();return new Ht(ft.min.unscaleBy(bt).floor(),ft.max.unscaleBy(bt).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var ft in this._tiles)if(!this._tiles[ft].loaded)return!1;return!0}});function mu(ft){return new Hn(ft)}var Tn=Hn.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(ft,bt){this._url=ft,bt=yt(this,bt),bt.detectRetina&&br.retina&&bt.maxZoom>0?(bt.tileSize=Math.floor(bt.tileSize/2),bt.zoomReverse?(bt.zoomOffset--,bt.minZoom=Math.min(bt.maxZoom,bt.minZoom+1)):(bt.zoomOffset++,bt.maxZoom=Math.max(bt.minZoom,bt.maxZoom-1)),bt.minZoom=Math.max(0,bt.minZoom)):bt.zoomReverse?bt.minZoom=Math.min(bt.maxZoom,bt.minZoom):bt.maxZoom=Math.max(bt.minZoom,bt.maxZoom),typeof bt.subdomains=="string"&&(bt.subdomains=bt.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(ft,bt){return this._url===ft&&bt===void 0&&(bt=!0),this._url=ft,bt||this.redraw(),this},createTile:function(ft,bt){var wt=document.createElement("img");return _r(wt,"load",at(this._tileOnLoad,this,bt,wt)),_r(wt,"error",at(this._tileOnError,this,bt,wt)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(wt.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(wt.referrerPolicy=this.options.referrerPolicy),wt.alt="",wt.src=this.getTileUrl(ft),wt},getTileUrl:function(ft){var bt={r:br.retina?"@2x":"",s:this._getSubdomain(ft),x:ft.x,y:ft.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var wt=this._globalTileRange.max.y-ft.y;this.options.tms&&(bt.y=wt),bt["-y"]=wt}return Et(this._url,st(bt,this.options))},_tileOnLoad:function(ft,bt){br.ielt9?setTimeout(at(ft,this,null,bt),0):ft(null,bt)},_tileOnError:function(ft,bt,wt){var Ct=this.options.errorTileUrl;Ct&&bt.getAttribute("src")!==Ct&&(bt.src=Ct),ft(wt,bt)},_onTileRemove:function(ft){ft.tile.onload=null},_getZoomForUrl:function(){var ft=this._tileZoom,bt=this.options.maxZoom,wt=this.options.zoomReverse,Ct=this.options.zoomOffset;return wt&&(ft=bt-ft),ft+Ct},_getSubdomain:function(ft){var bt=Math.abs(ft.x+ft.y)%this.options.subdomains.length;return this.options.subdomains[bt]},_abortLoading:function(){var ft,bt;for(ft in this._tiles)if(this._tiles[ft].coords.z!==this._tileZoom&&(bt=this._tiles[ft].el,bt.onload=dt,bt.onerror=dt,!bt.complete)){bt.src=Rt;var wt=this._tiles[ft].coords;Or(bt),delete this._tiles[ft],this.fire("tileabort",{tile:bt,coords:wt})}},_removeTile:function(ft){var bt=this._tiles[ft];if(bt)return bt.el.setAttribute("src",Rt),Hn.prototype._removeTile.call(this,ft)},_tileReady:function(ft,bt,wt){if(!(!this._map||wt&&wt.getAttribute("src")===Rt))return Hn.prototype._tileReady.call(this,ft,bt,wt)}});function jo(ft,bt){return new Tn(ft,bt)}var ko=Tn.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(ft,bt){this._url=ft;var wt=st({},this.defaultWmsParams);for(var Ct in bt)Ct in this.options||(wt[Ct]=bt[Ct]);bt=yt(this,bt);var Mt=bt.detectRetina&&br.retina?2:1,Ut=this.getTileSize();wt.width=Ut.x*Mt,wt.height=Ut.y*Mt,this.wmsParams=wt},onAdd:function(ft){this._crs=this.options.crs||ft.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var bt=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[bt]=this._crs.code,Tn.prototype.onAdd.call(this,ft)},getTileUrl:function(ft){var bt=this._tileCoordsToNwSe(ft),wt=this._crs,Ct=Gt(wt.project(bt[0]),wt.project(bt[1])),Mt=Ct.min,Ut=Ct.max,Yt=(this._wmsVersion>=1.3&&this._crs===mo?[Mt.y,Mt.x,Ut.y,Ut.x]:[Mt.x,Mt.y,Ut.x,Ut.y]).join(","),er=Tn.prototype.getTileUrl.call(this,ft);return er+vt(this.wmsParams,er,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Yt},setParams:function(ft,bt){return st(this.wmsParams,ft),bt||this.redraw(),this}});function xu(ft,bt){return new ko(ft,bt)}Tn.WMS=ko,jo.wms=xu;var mn=nn.extend({options:{padding:.1},initialize:function(ft){yt(this,ft),lt(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Cr(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var ft={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(ft.zoomanim=this._onAnimZoom),ft},_onAnimZoom:function(ft){this._updateTransform(ft.center,ft.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(ft,bt){var wt=this._map.getZoomScale(bt,this._zoom),Ct=this._map.getSize().multiplyBy(.5+this.options.padding),Mt=this._map.project(this._center,bt),Ut=Ct.multiplyBy(-wt).add(Mt).subtract(this._map._getNewPixelOrigin(ft,bt));br.any3d?yn(this._container,Ut,wt):Br(this._container,Ut)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var ft in this._layers)this._layers[ft]._reset()},_onZoomEnd:function(){for(var ft in this._layers)this._layers[ft]._project()},_updatePaths:function(){for(var ft in this._layers)this._layers[ft]._update()},_update:function(){var ft=this.options.padding,bt=this._map.getSize(),wt=this._map.containerPointToLayerPoint(bt.multiplyBy(-ft)).round();this._bounds=new Ht(wt,wt.add(bt.multiplyBy(1+ft*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),wo=mn.extend({options:{tolerance:0},getEvents:function(){var ft=mn.prototype.getEvents.call(this);return ft.viewprereset=this._onViewPreReset,ft},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){mn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var ft=this._container=document.createElement("canvas");_r(ft,"mousemove",this._onMouseMove,this),_r(ft,"click dblclick mousedown mouseup contextmenu",this._onClick,this),_r(ft,"mouseout",this._handleMouseOut,this),ft._leaflet_disable_events=!0,this._ctx=ft.getContext("2d")},_destroyContainer:function(){Tt(this._redrawRequest),delete this._ctx,Or(this._container),Ir(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var ft;this._redrawBounds=null;for(var bt in this._layers)ft=this._layers[bt],ft._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){mn.prototype._update.call(this);var ft=this._bounds,bt=this._container,wt=ft.getSize(),Ct=br.retina?2:1;Br(bt,ft.min),bt.width=Ct*wt.x,bt.height=Ct*wt.y,bt.style.width=wt.x+"px",bt.style.height=wt.y+"px",br.retina&&this._ctx.scale(2,2),this._ctx.translate(-ft.min.x,-ft.min.y),this.fire("update")}},_reset:function(){mn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(ft){this._updateDashArray(ft),this._layers[lt(ft)]=ft;var bt=ft._order={layer:ft,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=bt),this._drawLast=bt,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(ft){this._requestRedraw(ft)},_removePath:function(ft){var bt=ft._order,wt=bt.next,Ct=bt.prev;wt?wt.prev=Ct:this._drawLast=Ct,Ct?Ct.next=wt:this._drawFirst=wt,delete ft._order,delete this._layers[lt(ft)],this._requestRedraw(ft)},_updatePath:function(ft){this._extendRedrawBounds(ft),ft._project(),ft._update(),this._requestRedraw(ft)},_updateStyle:function(ft){this._updateDashArray(ft),this._requestRedraw(ft)},_updateDashArray:function(ft){if(typeof ft.options.dashArray=="string"){var bt=ft.options.dashArray.split(/[, ]+/),wt=[],Ct,Mt;for(Mt=0;Mt<bt.length;Mt++){if(Ct=Number(bt[Mt]),isNaN(Ct))return;wt.push(Ct)}ft.options._dashArray=wt}else ft.options._dashArray=ft.options.dashArray},_requestRedraw:function(ft){this._map&&(this._extendRedrawBounds(ft),this._redrawRequest=this._redrawRequest||Ft(this._redraw,this))},_extendRedrawBounds:function(ft){if(ft._pxBounds){var bt=(ft.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Ht,this._redrawBounds.extend(ft._pxBounds.min.subtract([bt,bt])),this._redrawBounds.extend(ft._pxBounds.max.add([bt,bt]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var ft=this._redrawBounds;if(ft){var bt=ft.getSize();this._ctx.clearRect(ft.min.x,ft.min.y,bt.x,bt.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var ft,bt=this._redrawBounds;if(this._ctx.save(),bt){var wt=bt.getSize();this._ctx.beginPath(),this._ctx.rect(bt.min.x,bt.min.y,wt.x,wt.y),this._ctx.clip()}this._drawing=!0;for(var Ct=this._drawFirst;Ct;Ct=Ct.next)ft=Ct.layer,(!bt||ft._pxBounds&&ft._pxBounds.intersects(bt))&&ft._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(ft,bt){if(this._drawing){var wt,Ct,Mt,Ut,Yt=ft._parts,er=Yt.length,sr=this._ctx;if(er){for(sr.beginPath(),wt=0;wt<er;wt++){for(Ct=0,Mt=Yt[wt].length;Ct<Mt;Ct++)Ut=Yt[wt][Ct],sr[Ct?"lineTo":"moveTo"](Ut.x,Ut.y);bt&&sr.closePath()}this._fillStroke(sr,ft)}}},_updateCircle:function(ft){if(!(!this._drawing||ft._empty())){var bt=ft._point,wt=this._ctx,Ct=Math.max(Math.round(ft._radius),1),Mt=(Math.max(Math.round(ft._radiusY),1)||Ct)/Ct;Mt!==1&&(wt.save(),wt.scale(1,Mt)),wt.beginPath(),wt.arc(bt.x,bt.y/Mt,Ct,0,Math.PI*2,!1),Mt!==1&&wt.restore(),this._fillStroke(wt,ft)}},_fillStroke:function(ft,bt){var wt=bt.options;wt.fill&&(ft.globalAlpha=wt.fillOpacity,ft.fillStyle=wt.fillColor||wt.color,ft.fill(wt.fillRule||"evenodd")),wt.stroke&&wt.weight!==0&&(ft.setLineDash&&ft.setLineDash(bt.options&&bt.options._dashArray||[]),ft.globalAlpha=wt.opacity,ft.lineWidth=wt.weight,ft.strokeStyle=wt.color,ft.lineCap=wt.lineCap,ft.lineJoin=wt.lineJoin,ft.stroke())},_onClick:function(ft){for(var bt=this._map.mouseEventToLayerPoint(ft),wt,Ct,Mt=this._drawFirst;Mt;Mt=Mt.next)wt=Mt.layer,wt.options.interactive&&wt._containsPoint(bt)&&(!(ft.type==="click"||ft.type==="preclick")||!this._map._draggableMoved(wt))&&(Ct=wt);this._fireEvent(Ct?[Ct]:!1,ft)},_onMouseMove:function(ft){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var bt=this._map.mouseEventToLayerPoint(ft);this._handleMouseHover(ft,bt)}},_handleMouseOut:function(ft){var bt=this._hoveredLayer;bt&&(Fr(this._container,"leaflet-interactive"),this._fireEvent([bt],ft,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(ft,bt){if(!this._mouseHoverThrottled){for(var wt,Ct,Mt=this._drawFirst;Mt;Mt=Mt.next)wt=Mt.layer,wt.options.interactive&&wt._containsPoint(bt)&&(Ct=wt);Ct!==this._hoveredLayer&&(this._handleMouseOut(ft),Ct&&(Cr(this._container,"leaflet-interactive"),this._fireEvent([Ct],ft,"mouseover"),this._hoveredLayer=Ct)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,ft),this._mouseHoverThrottled=!0,setTimeout(at(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(ft,bt,wt){this._map._fireDOMEvent(bt,wt||bt.type,ft)},_bringToFront:function(ft){var bt=ft._order;if(bt){var wt=bt.next,Ct=bt.prev;if(wt)wt.prev=Ct;else return;Ct?Ct.next=wt:wt&&(this._drawFirst=wt),bt.prev=this._drawLast,this._drawLast.next=bt,bt.next=null,this._drawLast=bt,this._requestRedraw(ft)}},_bringToBack:function(ft){var bt=ft._order;if(bt){var wt=bt.next,Ct=bt.prev;if(Ct)Ct.next=wt;else return;wt?wt.prev=Ct:Ct&&(this._drawLast=Ct),bt.prev=null,bt.next=this._drawFirst,this._drawFirst.prev=bt,this._drawFirst=bt,this._requestRedraw(ft)}}});function So(ft){return br.canvas?new wo(ft):null}var Un=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(ft){return document.createElement("<lvml:"+ft+' class="lvml">')}}catch{}return function(ft){return document.createElement("<"+ft+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),gu={_initContainer:function(){this._container=$r("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(mn.prototype._update.call(this),this.fire("update"))},_initPath:function(ft){var bt=ft._container=Un("shape");Cr(bt,"leaflet-vml-shape "+(this.options.className||"")),bt.coordsize="1 1",ft._path=Un("path"),bt.appendChild(ft._path),this._updateStyle(ft),this._layers[lt(ft)]=ft},_addPath:function(ft){var bt=ft._container;this._container.appendChild(bt),ft.options.interactive&&ft.addInteractiveTarget(bt)},_removePath:function(ft){var bt=ft._container;Or(bt),ft.removeInteractiveTarget(bt),delete this._layers[lt(ft)]},_updateStyle:function(ft){var bt=ft._stroke,wt=ft._fill,Ct=ft.options,Mt=ft._container;Mt.stroked=!!Ct.stroke,Mt.filled=!!Ct.fill,Ct.stroke?(bt||(bt=ft._stroke=Un("stroke")),Mt.appendChild(bt),bt.weight=Ct.weight+"px",bt.color=Ct.color,bt.opacity=Ct.opacity,Ct.dashArray?bt.dashStyle=jt(Ct.dashArray)?Ct.dashArray.join(" "):Ct.dashArray.replace(/( *, *)/g," "):bt.dashStyle="",bt.endcap=Ct.lineCap.replace("butt","flat"),bt.joinstyle=Ct.lineJoin):bt&&(Mt.removeChild(bt),ft._stroke=null),Ct.fill?(wt||(wt=ft._fill=Un("fill")),Mt.appendChild(wt),wt.color=Ct.fillColor||Ct.color,wt.opacity=Ct.fillOpacity):wt&&(Mt.removeChild(wt),ft._fill=null)},_updateCircle:function(ft){var bt=ft._point.round(),wt=Math.round(ft._radius),Ct=Math.round(ft._radiusY||wt);this._setPath(ft,ft._empty()?"M0 0":"AL "+bt.x+","+bt.y+" "+wt+","+Ct+" 0,"+65535*360)},_setPath:function(ft,bt){ft._path.v=bt},_bringToFront:function(ft){Sn(ft._container)},_bringToBack:function(ft){Rn(ft._container)}},ps=br.vml?Un:wr,Wn=mn.extend({_initContainer:function(){this._container=ps("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ps("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Or(this._container),Ir(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){mn.prototype._update.call(this);var ft=this._bounds,bt=ft.getSize(),wt=this._container;(!this._svgSize||!this._svgSize.equals(bt))&&(this._svgSize=bt,wt.setAttribute("width",bt.x),wt.setAttribute("height",bt.y)),Br(wt,ft.min),wt.setAttribute("viewBox",[ft.min.x,ft.min.y,bt.x,bt.y].join(" ")),this.fire("update")}},_initPath:function(ft){var bt=ft._path=ps("path");ft.options.className&&Cr(bt,ft.options.className),ft.options.interactive&&Cr(bt,"leaflet-interactive"),this._updateStyle(ft),this._layers[lt(ft)]=ft},_addPath:function(ft){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(ft._path),ft.addInteractiveTarget(ft._path)},_removePath:function(ft){Or(ft._path),ft.removeInteractiveTarget(ft._path),delete this._layers[lt(ft)]},_updatePath:function(ft){ft._project(),ft._update()},_updateStyle:function(ft){var bt=ft._path,wt=ft.options;bt&&(wt.stroke?(bt.setAttribute("stroke",wt.color),bt.setAttribute("stroke-opacity",wt.opacity),bt.setAttribute("stroke-width",wt.weight),bt.setAttribute("stroke-linecap",wt.lineCap),bt.setAttribute("stroke-linejoin",wt.lineJoin),wt.dashArray?bt.setAttribute("stroke-dasharray",wt.dashArray):bt.removeAttribute("stroke-dasharray"),wt.dashOffset?bt.setAttribute("stroke-dashoffset",wt.dashOffset):bt.removeAttribute("stroke-dashoffset")):bt.setAttribute("stroke","none"),wt.fill?(bt.setAttribute("fill",wt.fillColor||wt.color),bt.setAttribute("fill-opacity",wt.fillOpacity),bt.setAttribute("fill-rule",wt.fillRule||"evenodd")):bt.setAttribute("fill","none"))},_updatePoly:function(ft,bt){this._setPath(ft,Rr(ft._parts,bt))},_updateCircle:function(ft){var bt=ft._point,wt=Math.max(Math.round(ft._radius),1),Ct=Math.max(Math.round(ft._radiusY),1)||wt,Mt="a"+wt+","+Ct+" 0 1,0 ",Ut=ft._empty()?"M0 0":"M"+(bt.x-wt)+","+bt.y+Mt+wt*2+",0 "+Mt+-wt*2+",0 ";this._setPath(ft,Ut)},_setPath:function(ft,bt){ft._path.setAttribute("d",bt)},_bringToFront:function(ft){Sn(ft._path)},_bringToBack:function(ft){Rn(ft._path)}});br.vml&&Wn.include(gu);function Ro(ft){return br.svg||br.vml?new Wn(ft):null}Ar.include({getRenderer:function(ft){var bt=ft.options.renderer||this._getPaneRenderer(ft.options.pane)||this.options.renderer||this._renderer;return bt||(bt=this._renderer=this._createRenderer()),this.hasLayer(bt)||this.addLayer(bt),bt},_getPaneRenderer:function(ft){if(ft==="overlayPane"||ft===void 0)return!1;var bt=this._paneRenderers[ft];return bt===void 0&&(bt=this._createRenderer({pane:ft}),this._paneRenderers[ft]=bt),bt},_createRenderer:function(ft){return this.options.preferCanvas&&So(ft)||Ro(ft)}});var _o=Cn.extend({initialize:function(ft,bt){Cn.prototype.initialize.call(this,this._boundsToLatLngs(ft),bt)},setBounds:function(ft){return this.setLatLngs(this._boundsToLatLngs(ft))},_boundsToLatLngs:function(ft){return ft=Jt(ft),[ft.getSouthWest(),ft.getNorthWest(),ft.getNorthEast(),ft.getSouthEast()]}});function yu(ft,bt){return new _o(ft,bt)}Wn.create=ps,Wn.pointsToPath=Rr,fn.geometryToLayer=ss,fn.coordsToLatLng=Ds,fn.coordsToLatLngs=as,fn.latLngToCoords=Fs,fn.latLngsToCoords=ls,fn.getFeature=Pn,fn.asFeature=cs,Ar.mergeOptions({boxZoom:!0});var No=un.extend({initialize:function(ft){this._map=ft,this._container=ft._container,this._pane=ft._panes.overlayPane,this._resetStateTimeout=0,ft.on("unload",this._destroy,this)},addHooks:function(){_r(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ir(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Or(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(ft){if(!ft.shiftKey||ft.which!==1&&ft.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Mn(),Es(),this._startPoint=this._map.mouseEventToContainerPoint(ft),_r(document,{contextmenu:En,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(ft){this._moved||(this._moved=!0,this._box=$r("div","leaflet-zoom-box",this._container),Cr(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(ft);var bt=new Ht(this._point,this._startPoint),wt=bt.getSize();Br(this._box,bt.min),this._box.style.width=wt.x+"px",this._box.style.height=wt.y+"px"},_finish:function(){this._moved&&(Or(this._box),Fr(this._container,"leaflet-crosshair")),Ln(),js(),Ir(document,{contextmenu:En,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(ft){if(!(ft.which!==1&&ft.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(at(this._resetState,this),0);var bt=new Vt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(bt).fire("boxzoomend",{boxZoomBounds:bt})}},_onKeyDown:function(ft){ft.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ar.addInitHook("addHandler","boxZoom",No),Ar.mergeOptions({doubleClickZoom:!0});var Co=un.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(ft){var bt=this._map,wt=bt.getZoom(),Ct=bt.options.zoomDelta,Mt=ft.originalEvent.shiftKey?wt-Ct:wt+Ct;bt.options.doubleClickZoom==="center"?bt.setZoom(Mt):bt.setZoomAround(ft.containerPoint,Mt)}});Ar.addInitHook("addHandler","doubleClickZoom",Co),Ar.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Po=un.extend({addHooks:function(){if(!this._draggable){var ft=this._map;this._draggable=new xn(ft._mapPane,ft._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),ft.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),ft.on("zoomend",this._onZoomEnd,this),ft.whenReady(this._onZoomEnd,this))}Cr(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Fr(this._map._container,"leaflet-grab"),Fr(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var ft=this._map;if(ft._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var bt=Jt(this._map.options.maxBounds);this._offsetLimit=Gt(this._map.latLngToContainerPoint(bt.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(bt.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;ft.fire("movestart").fire("dragstart"),ft.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(ft){if(this._map.options.inertia){var bt=this._lastTime=+new Date,wt=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(wt),this._times.push(bt),this._prunePositions(bt)}this._map.fire("move",ft).fire("drag",ft)},_prunePositions:function(ft){for(;this._positions.length>1&&ft-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var ft=this._map.getSize().divideBy(2),bt=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=bt.subtract(ft).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(ft,bt){return ft-(ft-bt)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var ft=this._draggable._newPos.subtract(this._draggable._startPos),bt=this._offsetLimit;ft.x<bt.min.x&&(ft.x=this._viscousLimit(ft.x,bt.min.x)),ft.y<bt.min.y&&(ft.y=this._viscousLimit(ft.y,bt.min.y)),ft.x>bt.max.x&&(ft.x=this._viscousLimit(ft.x,bt.max.x)),ft.y>bt.max.y&&(ft.y=this._viscousLimit(ft.y,bt.max.y)),this._draggable._newPos=this._draggable._startPos.add(ft)}},_onPreDragWrap:function(){var ft=this._worldWidth,bt=Math.round(ft/2),wt=this._initialWorldOffset,Ct=this._draggable._newPos.x,Mt=(Ct-bt+wt)%ft+bt-wt,Ut=(Ct+bt+wt)%ft-bt-wt,Yt=Math.abs(Mt+wt)<Math.abs(Ut+wt)?Mt:Ut;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Yt},_onDragEnd:function(ft){var bt=this._map,wt=bt.options,Ct=!wt.inertia||ft.noInertia||this._times.length<2;if(bt.fire("dragend",ft),Ct)bt.fire("moveend");else{this._prunePositions(+new Date);var Mt=this._lastPos.subtract(this._positions[0]),Ut=(this._lastTime-this._times[0])/1e3,Yt=wt.easeLinearity,er=Mt.multiplyBy(Yt/Ut),sr=er.distanceTo([0,0]),cr=Math.min(wt.inertiaMaxSpeed,sr),gr=er.multiplyBy(cr/sr),Sr=cr/(wt.inertiaDeceleration*Yt),Pr=gr.multiplyBy(-Sr/2).round();!Pr.x&&!Pr.y?bt.fire("moveend"):(Pr=bt._limitOffset(Pr,bt.options.maxBounds),Ft(function(){bt.panBy(Pr,{duration:Sr,easeLinearity:Yt,noMoveStart:!0,animate:!0})}))}}});Ar.addInitHook("addHandler","dragging",Po),Ar.mergeOptions({keyboard:!0,keyboardPanDelta:80});var To=un.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(ft){this._map=ft,this._setPanDelta(ft.options.keyboardPanDelta),this._setZoomDelta(ft.options.zoomDelta)},addHooks:function(){var ft=this._map._container;ft.tabIndex<=0&&(ft.tabIndex="0"),_r(ft,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ir(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var ft=document.body,bt=document.documentElement,wt=ft.scrollTop||bt.scrollTop,Ct=ft.scrollLeft||bt.scrollLeft;this._map._container.focus(),window.scrollTo(Ct,wt)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(ft){var bt=this._panKeys={},wt=this.keyCodes,Ct,Mt;for(Ct=0,Mt=wt.left.length;Ct<Mt;Ct++)bt[wt.left[Ct]]=[-1*ft,0];for(Ct=0,Mt=wt.right.length;Ct<Mt;Ct++)bt[wt.right[Ct]]=[ft,0];for(Ct=0,Mt=wt.down.length;Ct<Mt;Ct++)bt[wt.down[Ct]]=[0,ft];for(Ct=0,Mt=wt.up.length;Ct<Mt;Ct++)bt[wt.up[Ct]]=[0,-1*ft]},_setZoomDelta:function(ft){var bt=this._zoomKeys={},wt=this.keyCodes,Ct,Mt;for(Ct=0,Mt=wt.zoomIn.length;Ct<Mt;Ct++)bt[wt.zoomIn[Ct]]=ft;for(Ct=0,Mt=wt.zoomOut.length;Ct<Mt;Ct++)bt[wt.zoomOut[Ct]]=-ft},_addHooks:function(){_r(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ir(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(ft){if(!(ft.altKey||ft.ctrlKey||ft.metaKey)){var bt=ft.keyCode,wt=this._map,Ct;if(bt in this._panKeys){if(!wt._panAnim||!wt._panAnim._inProgress)if(Ct=this._panKeys[bt],ft.shiftKey&&(Ct=At(Ct).multiplyBy(3)),wt.options.maxBounds&&(Ct=wt._limitOffset(At(Ct),wt.options.maxBounds)),wt.options.worldCopyJump){var Mt=wt.wrapLatLng(wt.unproject(wt.project(wt.getCenter()).add(Ct)));wt.panTo(Mt)}else wt.panBy(Ct)}else if(bt in this._zoomKeys)wt.setZoom(wt.getZoom()+(ft.shiftKey?3:1)*this._zoomKeys[bt]);else if(bt===27&&wt._popup&&wt._popup.options.closeOnEscapeKey)wt.closePopup();else return;En(ft)}}});Ar.addInitHook("addHandler","keyboard",To),Ar.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ao=un.extend({addHooks:function(){_r(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ir(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(ft){var bt=eo(ft),wt=this._map.options.wheelDebounceTime;this._delta+=bt,this._lastMousePos=this._map.mouseEventToContainerPoint(ft),this._startTime||(this._startTime=+new Date);var Ct=Math.max(wt-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(at(this._performZoom,this),Ct),En(ft)},_performZoom:function(){var ft=this._map,bt=ft.getZoom(),wt=this._map.options.zoomSnap||0;ft._stop();var Ct=this._delta/(this._map.options.wheelPxPerZoomLevel*4),Mt=4*Math.log(2/(1+Math.exp(-Math.abs(Ct))))/Math.LN2,Ut=wt?Math.ceil(Mt/wt)*wt:Mt,Yt=ft._limitZoom(bt+(this._delta>0?Ut:-Ut))-bt;this._delta=0,this._startTime=null,Yt&&(ft.options.scrollWheelZoom==="center"?ft.setZoom(bt+Yt):ft.setZoomAround(this._lastMousePos,bt+Yt))}});Ar.addInitHook("addHandler","scrollWheelZoom",Ao);var vu=600;Ar.mergeOptions({tapHold:br.touchNative&&br.safari&&br.mobile,tapTolerance:15});var $o=un.extend({addHooks:function(){_r(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ir(this._map._container,"touchstart",this._onDown,this)},_onDown:function(ft){if(clearTimeout(this._holdTimeout),ft.touches.length===1){var bt=ft.touches[0];this._startPos=this._newPos=new Pt(bt.clientX,bt.clientY),this._holdTimeout=setTimeout(at(function(){this._cancel(),this._isTapValid()&&(_r(document,"touchend",Wr),_r(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",bt))},this),vu),_r(document,"touchend touchcancel contextmenu",this._cancel,this),_r(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function ft(){Ir(document,"touchend",Wr),Ir(document,"touchend touchcancel",ft)},_cancel:function(){clearTimeout(this._holdTimeout),Ir(document,"touchend touchcancel contextmenu",this._cancel,this),Ir(document,"touchmove",this._onMove,this)},_onMove:function(ft){var bt=ft.touches[0];this._newPos=new Pt(bt.clientX,bt.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(ft,bt){var wt=new MouseEvent(ft,{bubbles:!0,cancelable:!0,view:window,screenX:bt.screenX,screenY:bt.screenY,clientX:bt.clientX,clientY:bt.clientY});wt._simulated=!0,bt.target.dispatchEvent(wt)}});Ar.addInitHook("addHandler","tapHold",$o),Ar.mergeOptions({touchZoom:br.touch,bounceAtZoomLimits:!0});var Io=un.extend({addHooks:function(){Cr(this._map._container,"leaflet-touch-zoom"),_r(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Fr(this._map._container,"leaflet-touch-zoom"),Ir(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(ft){var bt=this._map;if(!(!ft.touches||ft.touches.length!==2||bt._animatingZoom||this._zooming)){var wt=bt.mouseEventToContainerPoint(ft.touches[0]),Ct=bt.mouseEventToContainerPoint(ft.touches[1]);this._centerPoint=bt.getSize()._divideBy(2),this._startLatLng=bt.containerPointToLatLng(this._centerPoint),bt.options.touchZoom!=="center"&&(this._pinchStartLatLng=bt.containerPointToLatLng(wt.add(Ct)._divideBy(2))),this._startDist=wt.distanceTo(Ct),this._startZoom=bt.getZoom(),this._moved=!1,this._zooming=!0,bt._stop(),_r(document,"touchmove",this._onTouchMove,this),_r(document,"touchend touchcancel",this._onTouchEnd,this),Wr(ft)}},_onTouchMove:function(ft){if(!(!ft.touches||ft.touches.length!==2||!this._zooming)){var bt=this._map,wt=bt.mouseEventToContainerPoint(ft.touches[0]),Ct=bt.mouseEventToContainerPoint(ft.touches[1]),Mt=wt.distanceTo(Ct)/this._startDist;if(this._zoom=bt.getScaleZoom(Mt,this._startZoom),!bt.options.bounceAtZoomLimits&&(this._zoom<bt.getMinZoom()&&Mt<1||this._zoom>bt.getMaxZoom()&&Mt>1)&&(this._zoom=bt._limitZoom(this._zoom)),bt.options.touchZoom==="center"){if(this._center=this._startLatLng,Mt===1)return}else{var Ut=wt._add(Ct)._divideBy(2)._subtract(this._centerPoint);if(Mt===1&&Ut.x===0&&Ut.y===0)return;this._center=bt.unproject(bt.project(this._pinchStartLatLng,this._zoom).subtract(Ut),this._zoom)}this._moved||(bt._moveStart(!0,!1),this._moved=!0),Tt(this._animRequest);var Yt=at(bt._move,bt,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Ft(Yt,this,!0),Wr(ft)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Tt(this._animRequest),Ir(document,"touchmove",this._onTouchMove,this),Ir(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Ar.addInitHook("addHandler","touchZoom",Io),Ar.BoxZoom=No,Ar.DoubleClickZoom=Co,Ar.Drag=Po,Ar.Keyboard=To,Ar.ScrollWheelZoom=Ao,Ar.TapHold=$o,Ar.TouchZoom=Io,rt.Bounds=Ht,rt.Browser=br,rt.CRS=mr,rt.Canvas=wo,rt.Circle=Ls,rt.CircleMarker=ns,rt.Class=Wt,rt.Control=rn,rt.DivIcon=Eo,rt.DivOverlay=dn,rt.DomEvent=Ll,rt.DomUtil=Ol,rt.Draggable=xn,rt.Evented=Dt,rt.FeatureGroup=hn,rt.GeoJSON=fn,rt.GridLayer=Hn,rt.Handler=un,rt.Icon=Nn,rt.ImageOverlay=us,rt.LatLng=rr,rt.LatLngBounds=Vt,rt.Layer=nn,rt.LayerGroup=_n,rt.LineUtil=Zl,rt.Map=Ar,rt.Marker=rs,rt.Mixin=Ul,rt.Path=gn,rt.Point=Pt,rt.PolyUtil=Wl,rt.Polygon=Cn,rt.Polyline=pn,rt.Popup=ds,rt.PosAnimation=ro,rt.Projection=Jl,rt.Rectangle=_o,rt.Renderer=mn,rt.SVG=Wn,rt.SVGOverlay=bo,rt.TileLayer=Tn,rt.Tooltip=hs,rt.Transformation=vr,rt.Util=Bt,rt.VideoOverlay=vo,rt.bind=at,rt.bounds=Gt,rt.canvas=So,rt.circle=iu,rt.circleMarker=su,rt.control=Bn,rt.divIcon=fu,rt.extend=st,rt.featureGroup=tu,rt.geoJSON=yo,rt.geoJson=lu,rt.gridLayer=mu,rt.icon=ru,rt.imageOverlay=cu,rt.latLng=ar,rt.latLngBounds=Jt,rt.layerGroup=eu,rt.map=Dl,rt.marker=nu,rt.point=At,rt.polygon=ou,rt.polyline=au,rt.popup=hu,rt.rectangle=yu,rt.setOptions=yt,rt.stamp=lt,rt.svg=Ro,rt.svgOverlay=du,rt.tileLayer=jo,rt.tooltip=pu,rt.transformation=Zt,rt.version=nt,rt.videoOverlay=uu;var bu=window.L;rt.noConflict=function(){return window.L=bu,this},window.L=rt})})(leafletSrc,leafletSrc.exports);var leafletSrcExports=leafletSrc.exports;const L$1=getDefaultExportFromCjs(leafletSrcExports);function createElementObject(_e,et,rt){return Object.freeze({instance:_e,context:et,container:rt})}function createElementHook(_e,et){return et==null?function(nt,st){const it=reactExports.useRef();return it.current||(it.current=_e(nt,st)),it}:function(nt,st){const it=reactExports.useRef();it.current||(it.current=_e(nt,st));const at=reactExports.useRef(nt),{instance:ot}=it.current;return reactExports.useEffect(function(){at.current!==nt&&(et(ot,nt,at.current),at.current=nt)},[ot,nt,st]),it}}function useLayerLifecycle(_e,et){reactExports.useEffect(function(){return(et.layerContainer??et.map).addLayer(_e.instance),function(){var it;(it=et.layerContainer)==null||it.removeLayer(_e.instance),et.map.removeLayer(_e.instance)}},[et,_e])}function createLayerHook(_e){return function(rt){const nt=useLeafletContext(),st=_e(withPane(rt,nt),nt);return useAttribution(nt.map,rt.attribution),useEventHandlers(st.current,rt.eventHandlers),useLayerLifecycle(st.current,nt),st}}function createLayerComponent(_e,et){const rt=createElementHook(_e,et),nt=createLayerHook(rt);return createContainerComponent(nt)}function createOverlayComponent(_e,et){const rt=createElementHook(_e),nt=createDivOverlayHook(rt,et);return createDivOverlayComponent(nt)}function createTileLayerComponent(_e,et){const rt=createElementHook(_e,et),nt=createLayerHook(rt);return createLeafComponent(nt)}function updateGridLayer(_e,et,rt){const{opacity:nt,zIndex:st}=et;nt!=null&&nt!==rt.opacity&&_e.setOpacity(nt),st!=null&&st!==rt.zIndex&&_e.setZIndex(st)}function useMap(){return useLeafletContext().map}function useMapEvents(_e){const et=useMap();return reactExports.useEffect(function(){return et.on(_e),function(){et.off(_e)}},[et,_e]),et}function _extends$v(){return _extends$v=Object.assign||function(_e){for(var et=1;et<arguments.length;et++){var rt=arguments[et];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(_e[nt]=rt[nt])}return _e},_extends$v.apply(this,arguments)}function MapContainerComponent({bounds:_e,boundsOptions:et,center:rt,children:nt,className:st,id:it,placeholder:at,style:ot,whenReady:lt,zoom:ct,...ut},dt){const[pt]=reactExports.useState({className:st,id:it,style:ot}),[mt,xt]=reactExports.useState(null);reactExports.useImperativeHandle(dt,()=>(mt==null?void 0:mt.map)??null,[mt]);const yt=reactExports.useCallback(gt=>{if(gt!==null&&mt===null){const Et=new leafletSrcExports.Map(gt,ut);rt!=null&&ct!=null?Et.setView(rt,ct):_e!=null&&Et.fitBounds(_e,et),lt!=null&&Et.whenReady(lt),xt(createLeafletContext(Et))}},[]);reactExports.useEffect(()=>()=>{mt==null||mt.map.remove()},[mt]);const vt=mt?React$3.createElement(LeafletProvider,{value:mt},nt):at??null;return React$3.createElement("div",_extends$v({},pt,{ref:yt}),vt)}const MapContainer=reactExports.forwardRef(MapContainerComponent),Marker=createLayerComponent(function({position:et,...rt},nt){const st=new leafletSrcExports.Marker(et,rt);return createElementObject(st,extendContext(nt,{overlayContainer:st}))},function(et,rt,nt){rt.position!==nt.position&&et.setLatLng(rt.position),rt.icon!=null&&rt.icon!==nt.icon&&et.setIcon(rt.icon),rt.zIndexOffset!=null&&rt.zIndexOffset!==nt.zIndexOffset&&et.setZIndexOffset(rt.zIndexOffset),rt.opacity!=null&&rt.opacity!==nt.opacity&&et.setOpacity(rt.opacity),et.dragging!=null&&rt.draggable!==nt.draggable&&(rt.draggable===!0?et.dragging.enable():et.dragging.disable())}),Popup=createOverlayComponent(function(et,rt){const nt=new leafletSrcExports.Popup(et,rt.overlayContainer);return createElementObject(nt,rt)},function(et,rt,{position:nt},st){reactExports.useEffect(function(){const{instance:at}=et;function ot(ct){ct.popup===at&&(at.update(),st(!0))}function lt(ct){ct.popup===at&&st(!1)}return rt.map.on({popupopen:ot,popupclose:lt}),rt.overlayContainer==null?(nt!=null&&at.setLatLng(nt),at.openOn(rt.map)):rt.overlayContainer.bindPopup(at),function(){var ut;rt.map.off({popupopen:ot,popupclose:lt}),(ut=rt.overlayContainer)==null||ut.unbindPopup(),rt.map.removeLayer(at)}},[et,rt,st,nt])}),TileLayer=createTileLayerComponent(function({url:et,...rt},nt){const st=new leafletSrcExports.TileLayer(et,withPane(rt,nt));return createElementObject(st,nt)},function(et,rt,nt){updateGridLayer(et,rt,nt);const{url:st}=rt;st!=null&&st!==nt.url&&et.setUrl(st)});delete L$1.Icon.Default.prototype._getIconUrl;L$1.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png"});const redIcon=new L$1.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]});function MapUpdater({center:_e,zoom:et}){const rt=useMap();return reactExports.useEffect(()=>{_e[0]!==0&&_e[1]!==0&&rt.setView(_e,et)},[_e,et,rt]),null}function LocationMarker({position:_e,setPosition:et,onLocationFound:rt}){const nt=useMapEvents({click:st=>{const{lat:it,lng:at}=st.latlng;et([it,at])},locationfound(st){et([st.latlng.lat,st.latlng.lng]),nt.setView(st.latlng,18)}});return _e[0]!==0?jsxRuntimeExports.jsx(Marker,{position:_e,icon:redIcon,children:jsxRuntimeExports.jsx(Popup,{children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("strong",{children:" V tr giao hng"}),jsxRuntimeExports.jsxs("p",{className:"text-xs mt-1",children:["Lat: ",_e[0].toFixed(6),jsxRuntimeExports.jsx("br",{}),"Lng: ",_e[1].toFixed(6)]})]})})}):null}function AddressSelector({province:_e="",district:et="",ward:rt="",specificAddress:nt="",onChange:st}){var or,yr,vr;const[it,at]=reactExports.useState([]),[ot,lt]=reactExports.useState([]),[ct,ut]=reactExports.useState([]),[dt,pt]=reactExports.useState(""),[mt,xt]=reactExports.useState(""),[yt,vt]=reactExports.useState(""),[gt,Et]=reactExports.useState(!1),[jt,kt]=reactExports.useState([10.8231,106.6297]),[Rt,St]=reactExports.useState([10.8231,106.6297]),[_t,Nt]=reactExports.useState(14),[Lt,$t]=reactExports.useState(!1),Ft=reactExports.useRef(null),[Tt,Bt]=reactExports.useState(""),[Wt,qt]=reactExports.useState([]),[Ot,Dt]=reactExports.useState(!1),[Pt,It]=reactExports.useState(!1),At=reactExports.useRef(null),Ht=reactExports.useRef(null);reactExports.useEffect(()=>{let Zt=!0;return(async()=>{Et(!0);try{const lr=await axios.get("https://provinces.open-api.vn/api/?depth=1");if(lr.data&&Array.isArray(lr.data)&&Zt&&(at(lr.data),_e)){const wr=lr.data.find(Rr=>Rr.name===_e||Rr.name.includes(_e));if(wr){pt(wr.name);const Rr=await axios.get(`https://provinces.open-api.vn/api/p/${wr.code}?depth=2`);if(Rr.data&&Rr.data.districts&&Zt&&(lt(Rr.data.districts),et)){const Tr=Rr.data.districts.find(Nr=>Nr.name===et||Nr.name.includes(et));if(Tr){xt(Tr.name);const Nr=await axios.get(`https://provinces.open-api.vn/api/d/${Tr.code}?depth=2`);Nr.data&&Nr.data.wards&&Zt&&(ut(Nr.data.wards),rt&&vt(rt))}}}}}catch(lr){console.error("Failed to fetch address data",lr)}finally{Zt&&Et(!1)}})(),()=>{Zt=!1}},[]);const Gt=Zt=>{if(Bt(Zt),At.current&&clearTimeout(At.current),Zt.length<2){qt([]),Dt(!1);return}At.current=setTimeout(async()=>{It(!0);try{const pr=await placesAPI.autocomplete(Zt,jt[0],jt[1]);pr.data.success&&(qt(pr.data.data),Dt(!0))}catch(pr){console.error("Autocomplete failed:",pr)}finally{It(!1)}},300)},Vt=async Zt=>{var pr;Dt(!1),Bt(Zt.description),$t(!0);try{const lr=await placesAPI.getDetails(Zt.placeId);if(lr.data.success){const{location:wr,components:Rr}=lr.data.data,Tr=[wr.lat,wr.lng];if(kt(Tr),St(Tr),Nt(17),Rr.province){const Nr=it.find(Mr=>Mr.name.includes(Rr.province)||Rr.province.includes(Mr.name));if(Nr){pt(Nr.name);const Mr=await axios.get(`https://provinces.open-api.vn/api/p/${Nr.code}?depth=2`);if((pr=Mr.data)!=null&&pr.districts&&(lt(Mr.data.districts),Rr.district)){const Dr=Mr.data.districts.find(Kt=>Kt.name.includes(Rr.district)||Rr.district.includes(Kt.name));Dr&&xt(Dr.name)}}}console.log(" Place selected:",lr.data.data.formattedAddress)}}catch(lr){console.error("Failed to get place details:",lr)}finally{$t(!1)}};reactExports.useEffect(()=>(Ft.current&&clearTimeout(Ft.current),Ft.current=setTimeout(()=>{dt&&Jt()},400),()=>{Ft.current&&clearTimeout(Ft.current)}),[dt,mt,yt,nt]);const Jt=async()=>{const Zt=[];if(nt&&nt.trim()&&mt&&dt&&Zt.push(`${nt}, ${yt||""}, ${mt}, ${dt}, Vietnam`.replace(/, ,/g,",")),yt&&mt&&dt&&Zt.push(`${yt}, ${mt}, ${dt}, Vietnam`),mt&&dt&&Zt.push(`${mt}, ${dt}, Vietnam`),dt&&Zt.push(`${dt}, Vietnam`),Zt.length!==0){$t(!0);try{for(const pr of Zt)try{const lr=await axios.get("https://nominatim.openstreetmap.org/search",{params:{q:pr,format:"json",limit:1,countrycodes:"vn",addressdetails:1}});if(lr.data&&lr.data.length>0){const{lat:wr,lon:Rr,display_name:Tr}=lr.data[0],Nr=[parseFloat(wr),parseFloat(Rr)];if(!isNaN(Nr[0])&&Nr[0]>=8&&Nr[0]<=24&&Nr[1]>=102&&Nr[1]<=110){kt(Nr),St(Nr),pr.includes(yt)&&yt?Nt(16):pr.includes(mt)&&mt?Nt(14):Nt(11),console.log("Geocoded to:",Tr);break}}}catch(lr){console.warn(`Geocoding failed for: ${pr}`,lr)}}catch(pr){console.error("Map update failed",pr)}finally{$t(!1)}}},rr=Zt=>{const pr=Zt.target.value,lr=Zt.target.options[Zt.target.selectedIndex].text;pt(lr),xt(""),vt(""),lt([]),ut([]),st({province:lr,district:"",ward:"",address:""}),pr&&axios.get(`https://provinces.open-api.vn/api/p/${pr}?depth=2`).then(wr=>{wr.data&&wr.data.districts&&lt(wr.data.districts)})},ar=Zt=>{const pr=Zt.target.value,lr=Zt.target.options[Zt.target.selectedIndex].text;xt(lr),vt(""),ut([]),st({province:dt,district:lr,ward:"",address:""}),pr&&axios.get(`https://provinces.open-api.vn/api/d/${pr}?depth=2`).then(wr=>{wr.data&&wr.data.wards&&ut(wr.data.wards)})},mr=Zt=>{const pr=Zt.target.options[Zt.target.selectedIndex].text;vt(pr),st({province:dt,district:mt,ward:pr,address:""})},Er=Zt=>{st({province:dt,district:mt,ward:yt,address:Zt})};return jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-1.5 block",children:" Tm kim a ch (Google Places)"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),jsxRuntimeExports.jsx("input",{ref:Ht,type:"text",value:Tt,onChange:Zt=>Gt(Zt.target.value),onFocus:()=>Wt.length>0&&Dt(!0),placeholder:"Nhp a ch  tm kim nhanh...",className:"w-full pl-10 pr-10 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"}),Pt&&jsxRuntimeExports.jsx(LoaderCircle,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-blue-500 animate-spin"})]}),Ot&&Wt.length>0&&jsxRuntimeExports.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-xl max-h-60 overflow-y-auto",children:Wt.map((Zt,pr)=>jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>Vt(Zt),className:"w-full px-4 py-3 text-left hover:bg-blue-50 dark:hover:bg-gray-700 flex items-start gap-3 border-b border-gray-100 dark:border-gray-700 last:border-b-0 transition-colors",children:[jsxRuntimeExports.jsx(MapPin,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-gray-900 dark:text-white text-sm",children:Zt.mainText||Zt.description}),Zt.secondaryText&&jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:Zt.secondaryText})]})]},Zt.placeId||pr))})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-500",children:[jsxRuntimeExports.jsx("div",{className:"flex-1 h-px bg-gray-200 dark:bg-gray-700"}),jsxRuntimeExports.jsx("span",{children:"hoc chn th cng"}),jsxRuntimeExports.jsx("div",{className:"flex-1 h-px bg-gray-200 dark:bg-gray-700"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-1.5",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Tnh/Thnh ph *"}),jsxRuntimeExports.jsxs("select",{className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",onChange:rr,value:((or=it.find(Zt=>Zt.name===dt))==null?void 0:or.code)||"",disabled:gt,children:[jsxRuntimeExports.jsx("option",{value:"",children:gt?"ang ti...":"Chn Tnh/Thnh"}),it.map(Zt=>jsxRuntimeExports.jsx("option",{value:Zt.code,children:Zt.name},Zt.code))]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1.5",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Qun/Huyn *"}),jsxRuntimeExports.jsxs("select",{className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all disabled:bg-gray-100 dark:disabled:bg-gray-700 disabled:cursor-not-allowed",onChange:ar,value:((yr=ot.find(Zt=>Zt.name===mt))==null?void 0:yr.code)||"",disabled:!dt||ot.length===0,children:[jsxRuntimeExports.jsx("option",{value:"",children:"Chn Qun/Huyn"}),ot.map(Zt=>jsxRuntimeExports.jsx("option",{value:Zt.code,children:Zt.name},Zt.code))]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1.5",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Phng/X"}),jsxRuntimeExports.jsxs("select",{className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all disabled:bg-gray-100 dark:disabled:bg-gray-700 disabled:cursor-not-allowed",onChange:mr,value:((vr=ct.find(Zt=>Zt.name===yt))==null?void 0:vr.code)||"",disabled:!mt||ct.length===0,children:[jsxRuntimeExports.jsx("option",{value:"",children:"Chn Phng/X"}),ct.map(Zt=>jsxRuntimeExports.jsx("option",{value:Zt.code,children:Zt.name},Zt.code))]})]})]}),jsxRuntimeExports.jsxs("div",{className:"w-full h-64 md:h-80 rounded-xl overflow-hidden border border-gray-200 dark:border-gray-600 shadow-lg relative z-0",children:[Lt&&jsxRuntimeExports.jsx("div",{className:"absolute inset-0 z-[1000] bg-white/70 dark:bg-black/70 flex items-center justify-center backdrop-blur-sm",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center gap-2",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"w-8 h-8 animate-spin text-primary-600"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:"ang tm v tr..."})]})}),jsxRuntimeExports.jsxs(MapContainer,{center:jt,zoom:_t,scrollWheelZoom:!0,className:"w-full h-full",children:[jsxRuntimeExports.jsx(TileLayer,{attribution:' <a href="https://www.openstreetmap.fr">OpenStreetMap France</a>',url:"https://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png",maxZoom:20}),jsxRuntimeExports.jsx(MapUpdater,{center:jt,zoom:_t}),jsxRuntimeExports.jsx(LocationMarker,{position:Rt,setPosition:St,onLocationFound:Er})]})]}),(dt||mt)&&jsxRuntimeExports.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 rounded-lg p-3 flex items-start gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-lg",children:""}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-blue-800 dark:text-blue-200",children:[jsxRuntimeExports.jsx("strong",{children:"a ch giao hng:"}),jsxRuntimeExports.jsx("p",{className:"mt-0.5",children:[nt,yt,mt,dt].filter(Boolean).join(", ")})]})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 italic text-center",children:" Click vo bn   chn v tr chnh xc hn. C th zoom bng scroll hoc nt +/-"})]})}function CheckoutPage(){const{cart:_e,refreshCart:et}=useCart(),{user:rt}=useAuth(),nt=useNavigate(),[st,it]=reactExports.useState(!1),[at,ot]=reactExports.useState(!1),[lt,ct]=reactExports.useState(0),[ut,dt]=reactExports.useState(""),[pt,mt]=reactExports.useState([]),[xt,yt]=reactExports.useState({payment_cod_enabled:"true",payment_bank_enabled:"false",payment_bank_info:"",payment_bank_id:"",payment_bank_account:"",payment_bank_account_name:"",payment_momo_enabled:"false",payment_momo_qrcode:"",payment_vnpay_enabled:"false",payment_vnpay_tmn_code:""}),vt=reactExports.useRef(!1),[gt,Et]=reactExports.useState({customer_name:(rt==null?void 0:rt.full_name)||"",email:(rt==null?void 0:rt.email)||"",customer_phone:(rt==null?void 0:rt.phone)||"",ship_address_line1:"",ship_address_line2:"",ship_city:"",ship_province:"",ship_postal_code:"",note:"",payment_method:"cod",coupon_code:""});reactExports.useEffect(()=>{settingsAPI.getPublic().then($t=>{if($t.data.success){const Ft=$t.data.data;yt(Ft),Ft.payment_cod_enabled!=="true"&&gt.payment_method==="cod"&&(Ft.payment_vnpay_enabled==="true"?Et(Tt=>({...Tt,payment_method:"vnpay"})):Ft.payment_bank_enabled==="true"?Et(Tt=>({...Tt,payment_method:"bank_transfer"})):Ft.payment_momo_enabled==="true"&&Et(Tt=>({...Tt,payment_method:"momo"})))}}).catch(console.error),rt&&authAPI.getAddresses().then($t=>{if($t.data.success){mt($t.data.data);const Ft=$t.data.data.find(Tt=>Tt.is_default);Ft&&!gt.ship_address_line1&&jt(Ft)}}).catch($t=>console.error("Failed to load addresses",$t))},[rt]);const jt=$t=>{Et(Ft=>({...Ft,customer_name:$t.full_name||Ft.customer_name,customer_phone:$t.phone||Ft.customer_phone,ship_address_line1:$t.address_line1||Ft.ship_address_line1,ship_city:$t.city||Ft.ship_city,ship_province:$t.province||Ft.ship_province}))},kt=$t=>{Et(Ft=>({...Ft,[$t.target.name]:$t.target.value}))},Rt=async()=>{var $t,Ft;if(!gt.coupon_code.trim()){zt.error("Vui lng nhp m gim gi");return}ot(!0);try{const Tt=await couponsAPI.apply(gt.coupon_code,_e.subtotal),{discount_amount:Bt}=Tt.data.data;ct(Bt),zt.success(` p dng m gim gi: -${formatPrice(Bt)}`)}catch(Tt){const Bt=((Ft=($t=Tt.response)==null?void 0:$t.data)==null?void 0:Ft.message)||"M gim gi khng hp l";ct(0),zt.error(Bt)}finally{ot(!1)}},St=async $t=>{var Tt,Bt,Wt,qt,Ot,Dt;if($t.preventDefault(),vt.current)return;if(vt.current=!0,dt(""),!gt.customer_phone||gt.customer_phone.length<10){zt.error("Vui lng nhp s in thoi hp l"),vt.current=!1;return}if(!gt.ship_province||!gt.ship_city||!gt.ship_address_line1){zt.error("Vui lng in y  thng tin a ch giao hng"),vt.current=!1;return}it(!0);let Ft;try{if(Ft=(await ordersAPI.checkout(gt)).data.data,gt.payment_method==="vnpay")try{const Ht=await paymentAPI.createUrl(Ft.id);if(Ht.data.success){window.location.href=Ht.data.data.url;return}}catch(Ht){console.error("Payment Gateway Error:",Ht);const Gt=((Wt=(Bt=(Tt=Ht.response)==null?void 0:Tt.data)==null?void 0:Bt.error)==null?void 0:Wt.message)||"Khng th khi to cng thanh ton VNPay.";zt.error(`${Gt}. Vui lng thanh ton li trong chi tit n hng.`)}(gt.payment_method==="cod"||gt.payment_method==="vnpay")&&await et(),["bank_transfer","momo"].includes(gt.payment_method)?(zt("Vui lng hon tt thanh ton trong 5 pht!",{icon:""}),nt(`/checkout/payment/${Ft.id}`)):(zt.success("t hng thnh cng!"),nt(`/order-success/${Ft.order_code}`))}catch(Pt){const It=((Dt=(Ot=(qt=Pt.response)==null?void 0:qt.data)==null?void 0:Ot.error)==null?void 0:Dt.message)||"C li xy ra khi to n hng. Vui lng th li.";dt(It),zt.error(It),vt.current=!1}finally{it(!1)}};if(reactExports.useEffect(()=>{(!_e||_e.items.length===0)&&nt("/cart")},[_e,nt]),!_e||_e.items.length===0)return null;const _t=_e.subtotal>=5e5?0:3e4,Nt=_e.subtotal+_t-lt,Lt=rt&&["admin","manager","staff"].includes(rt.role||"");return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Helmet,{children:jsxRuntimeExports.jsx("title",{children:"Thanh ton - Fashion Store"})}),jsxRuntimeExports.jsxs("div",{className:"container-custom py-8",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-secondary-900 dark:text-white mb-8",children:"Thanh ton"}),Lt&&jsxRuntimeExports.jsxs("div",{className:"mb-6 p-4 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-700 rounded-lg flex items-start gap-3",children:[jsxRuntimeExports.jsx(TriangleAlert,{className:"w-6 h-6 text-amber-600 dark:text-amber-400 flex-shrink-0 mt-0.5"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-semibold text-amber-800 dark:text-amber-300",children:"Khng th t hng"}),jsxRuntimeExports.jsxs("p",{className:"text-amber-700 dark:text-amber-400 text-sm mt-1",children:["Ti khon nhn vin (",rt==null?void 0:rt.role,") khng c php t hng. Vui lng ng xut v s dng ti khon khch hng  mua sm."]})]})]}),ut&&jsxRuntimeExports.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:ut}),jsxRuntimeExports.jsx("form",{onSubmit:St,children:jsxRuntimeExports.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"card p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4",children:[jsxRuntimeExports.jsxs("h2",{className:"text-lg font-semibold text-secondary-800 dark:text-white flex items-center gap-2",children:[jsxRuntimeExports.jsx(MapPin,{className:"w-5 h-5 text-primary-600"}),"Thng tin giao hng"]}),pt.length>0&&jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-secondary-600 dark:text-secondary-300 mb-3 block",children:"Chn t s a ch"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4 overflow-x-auto pb-4 scrollbar-hide -mx-2 px-2",children:[jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>{Et($t=>({...$t,customer_name:"",customer_phone:"",ship_address_line1:"",ship_city:"",ship_province:""}))},className:"flex-shrink-0 w-40 p-4 rounded-2xl border-2 border-dashed border-secondary-300 dark:border-secondary-600 hover:border-primary-500 hover:bg-primary-50 dark:hover:bg-primary-900/10 transition-all flex flex-col items-center justify-center gap-2 text-secondary-500 dark:text-secondary-400 hover:text-primary-600 dark:hover:text-primary-400",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 rounded-full bg-secondary-100 dark:bg-secondary-700 flex items-center justify-center",children:jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[jsxRuntimeExports.jsx("path",{d:"M5 12h14"}),jsxRuntimeExports.jsx("path",{d:"M12 5v14"})]})}),jsxRuntimeExports.jsx("span",{className:"text-xs font-bold",children:"a ch mi"})]}),pt.map($t=>{const Ft=gt.ship_address_line1===$t.address_line1&&gt.customer_phone===$t.phone;return jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>jt($t),className:`relative flex-shrink-0 w-64 p-4 rounded-2xl border-2 text-left transition-all ${Ft?"border-primary-600 bg-primary-50 dark:bg-primary-900/20 dark:border-primary-500 shadow-sm":"border-secondary-100 dark:border-secondary-700 hover:border-secondary-300 dark:hover:border-secondary-500 bg-white dark:bg-secondary-800"}`,children:[Ft&&jsxRuntimeExports.jsx("div",{className:"absolute top-3 right-3 text-primary-600 dark:text-primary-400",children:jsxRuntimeExports.jsx(Check,{className:"w-4 h-4"})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[jsxRuntimeExports.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-wider ${$t.type==="Nh ring"?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300":"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-300"}`,children:$t.type}),$t.is_default&&jsxRuntimeExports.jsx("span",{className:"text-[10px] text-primary-600 dark:text-primary-400 font-bold",children:"Mc nh"})]}),jsxRuntimeExports.jsx("p",{className:"font-bold text-secondary-900 dark:text-white text-sm truncate",children:$t.full_name}),jsxRuntimeExports.jsx("p",{className:"text-xs text-secondary-500 dark:text-secondary-400 mb-1",children:$t.phone}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-secondary-600 dark:text-secondary-300 line-clamp-2",children:[$t.address_line1,", ",$t.city,", ",$t.province]})]},$t.id)})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"H tn *"}),jsxRuntimeExports.jsx("input",{type:"text",name:"customer_name",value:gt.customer_name,onChange:kt,className:"input",required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Email ( nhn n hng)"}),jsxRuntimeExports.jsx("input",{type:"email",name:"email",value:gt.email,onChange:kt,className:"input",placeholder:"example@gmail.com"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"S in thoi *"}),jsxRuntimeExports.jsx("input",{type:"tel",name:"customer_phone",value:gt.customer_phone,onChange:$t=>{const Ft=$t.target.value;/^\d*$/.test(Ft)&&kt($t)},className:"input",placeholder:"0900xxxxxx",required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"md:col-span-2",children:[jsxRuntimeExports.jsx("label",{className:"label",children:"a ch *"}),jsxRuntimeExports.jsx("input",{type:"text",name:"ship_address_line1",value:gt.ship_address_line1,onChange:kt,className:"input",placeholder:"S nh, tn ng",required:!0})]}),jsxRuntimeExports.jsx("div",{className:"md:col-span-2",children:jsxRuntimeExports.jsx(AddressSelector,{province:gt.ship_province,district:gt.ship_city,specificAddress:gt.ship_address_line1,onChange:$t=>{Et(Ft=>({...Ft,ship_province:$t.province,ship_city:$t.district}))}})}),jsxRuntimeExports.jsxs("div",{className:"md:col-span-2",children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Ghi ch"}),jsxRuntimeExports.jsx("textarea",{name:"note",value:gt.note,onChange:kt,className:"input",rows:3,placeholder:"Ghi ch cho n hng (ty chn)"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"card p-6",children:[jsxRuntimeExports.jsxs("h2",{className:"text-lg font-semibold text-secondary-800 dark:text-white mb-4 flex items-center gap-2",children:[jsxRuntimeExports.jsx(CreditCard,{className:"w-5 h-5 text-primary-600"}),"Phng thc thanh ton"]}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[xt.payment_cod_enabled==="true"&&jsxRuntimeExports.jsxs("label",{className:`flex flex-col gap-2 p-4 border rounded-lg cursor-pointer transition-colors ${gt.payment_method==="cod"?"border-primary-600 bg-primary-50 dark:bg-primary-900/20":"hover:border-secondary-300 dark:border-secondary-700 dark:hover:border-secondary-500"}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("input",{type:"radio",name:"payment_method",value:"cod",checked:gt.payment_method==="cod",onChange:kt,className:"w-4 h-4 text-primary-600"}),jsxRuntimeExports.jsx(Truck,{className:"w-5 h-5 text-secondary-500 dark:text-secondary-400"}),jsxRuntimeExports.jsx("span",{className:"font-medium text-secondary-900 dark:text-white",children:"Thanh ton khi nhn hng (Ship COD)"})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-secondary-500 dark:text-secondary-400 ml-8",children:"Qu khch s thanh ton tin mt trc tip cho nhn vin giao hng khi nhn c gi hng."})]}),xt.payment_vnpay_enabled==="true"&&jsxRuntimeExports.jsxs("label",{className:`flex flex-col gap-2 p-4 border rounded-lg cursor-pointer transition-colors ${gt.payment_method==="vnpay"?"border-primary-600 bg-primary-50 dark:bg-primary-900/20":"hover:border-secondary-300 dark:border-secondary-700 dark:hover:border-secondary-500"}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("input",{type:"radio",name:"payment_method",value:"vnpay",checked:gt.payment_method==="vnpay",onChange:kt,className:"w-4 h-4 text-primary-600"}),jsxRuntimeExports.jsx(CreditCard,{className:"w-5 h-5 text-secondary-500 dark:text-secondary-400"}),jsxRuntimeExports.jsx("span",{className:"font-medium text-secondary-900 dark:text-white",children:"Thanh ton VNPay (ATM / QR / Credit)"})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-secondary-500 dark:text-secondary-400 ml-8",children:"Thanh ton an ton qua cng VNPay bng th ATM, ti khon ngn hng hoc th tn dng."})]}),xt.payment_bank_enabled==="true"&&jsxRuntimeExports.jsx("label",{className:`block p-4 border rounded-lg cursor-pointer transition-colors ${gt.payment_method==="bank_transfer"?"border-primary-600 bg-primary-50 dark:bg-primary-900/20":"hover:border-secondary-300 dark:border-secondary-700 dark:hover:border-secondary-500"}`,children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("input",{type:"radio",name:"payment_method",value:"bank_transfer",checked:gt.payment_method==="bank_transfer",onChange:kt,className:"w-4 h-4 text-primary-600"}),jsxRuntimeExports.jsx(Building2,{className:"w-5 h-5 text-secondary-500 dark:text-secondary-400"}),jsxRuntimeExports.jsx("span",{className:"font-medium text-secondary-900 dark:text-white",children:"Chuyn khon ngn hng (VietQR)"})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-secondary-500 dark:text-secondary-400 ml-8",children:"Qut m VietQR  thanh ton nhanh chng. n hng s c xc nhn t ng."})]})}),xt.payment_momo_enabled==="true"&&jsxRuntimeExports.jsxs("label",{className:`flex items-center gap-4 p-4 border rounded-lg cursor-pointer transition-colors ${gt.payment_method==="momo"?"border-primary-600 bg-primary-50 dark:bg-primary-900/20":"hover:border-secondary-300 dark:border-secondary-700 dark:hover:border-secondary-500"}`,children:[jsxRuntimeExports.jsx("input",{type:"radio",name:"payment_method",value:"momo",checked:gt.payment_method==="momo",onChange:kt,className:"w-4 h-4 text-primary-600"}),jsxRuntimeExports.jsx(CreditCard,{className:"w-5 h-5 text-secondary-500 dark:text-secondary-400"}),jsxRuntimeExports.jsx("span",{className:"font-medium text-secondary-900 dark:text-white",children:"V MoMo"})]})]})]})]}),jsxRuntimeExports.jsx("div",{className:"lg:col-span-1",children:jsxRuntimeExports.jsxs("div",{className:"card p-6 sticky top-24",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-secondary-800 dark:text-white mb-4",children:"n hng ca bn"}),jsxRuntimeExports.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:_e.items.map($t=>jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[jsxRuntimeExports.jsx("img",{src:$t.product.image||"/placeholder.jpg",alt:$t.product.name,className:"w-16 h-16 object-cover rounded"}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium truncate text-secondary-900 dark:text-white",children:$t.product.name}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-secondary-500 dark:text-secondary-400",children:[$t.options.map(Ft=>Ft.value).join(" / "),"  ",$t.qty]}),jsxRuntimeExports.jsx("p",{className:"text-sm font-semibold text-primary-600",children:formatPrice($t.line_total)})]})]},$t.id))}),jsxRuntimeExports.jsx("hr",{className:"my-4"}),jsxRuntimeExports.jsx("div",{className:"mb-4",children:jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("input",{type:"text",name:"coupon_code",value:gt.coupon_code,onChange:kt,className:"input flex-1 text-sm py-2",placeholder:"M gim gi"}),jsxRuntimeExports.jsx("button",{type:"button",className:"btn btn-secondary rounded-lg px-4 py-2 text-sm whitespace-nowrap",onClick:Rt,disabled:at||!gt.coupon_code,children:at?"...":"p dng"})]})}),jsxRuntimeExports.jsx("hr",{className:"my-4"}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 text-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-secondary-600 dark:text-secondary-400",children:"Tm tnh"}),jsxRuntimeExports.jsx("span",{className:"text-secondary-900 dark:text-white",children:formatPrice(_e.subtotal)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-secondary-600 dark:text-secondary-400",children:"Ph vn chuyn"}),jsxRuntimeExports.jsx("span",{className:"text-secondary-900 dark:text-white",children:_t===0?"Min ph":formatPrice(_t)})]}),lt>0&&jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-accent-green",children:[jsxRuntimeExports.jsx("span",{children:"Gim gi"}),jsxRuntimeExports.jsxs("span",{children:["-",formatPrice(lt)]})]})]}),jsxRuntimeExports.jsx("hr",{className:"my-4 border-secondary-200 dark:border-secondary-700"}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[jsxRuntimeExports.jsx("span",{className:"text-secondary-900 dark:text-white",children:"Tng cng"}),jsxRuntimeExports.jsx("span",{className:"text-primary-600",children:formatPrice(Nt)})]}),jsxRuntimeExports.jsx("button",{type:"submit",disabled:st||!!Lt,className:"w-full btn btn-primary btn-lg rounded-full mt-6 flex items-center justify-center gap-2",children:st?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"w-5 h-5 animate-spin"}),"ang x l..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Check,{className:"w-5 h-5"}),"t hng"]})})]})})]})})]})]})}function useLoadGsiScript(_e={}){const{nonce:et,locale:rt,onScriptLoadSuccess:nt,onScriptLoadError:st}=_e,[it,at]=reactExports.useState(!1),ot=reactExports.useRef(nt);ot.current=nt;const lt=reactExports.useRef(st);return lt.current=st,reactExports.useEffect(()=>{const ct=document.createElement("script");return ct.src="https://accounts.google.com/gsi/client",rt&&(ct.src+=`?hl=${rt}`),ct.async=!0,ct.defer=!0,ct.nonce=et,ct.onload=()=>{var ut;at(!0),(ut=ot.current)===null||ut===void 0||ut.call(ot)},ct.onerror=()=>{var ut;at(!1),(ut=lt.current)===null||ut===void 0||ut.call(lt)},document.body.appendChild(ct),()=>{document.body.removeChild(ct)}},[et]),it}const GoogleOAuthContext=reactExports.createContext(null);function GoogleOAuthProvider({clientId:_e,nonce:et,locale:rt,onScriptLoadSuccess:nt,onScriptLoadError:st,children:it}){const at=useLoadGsiScript({nonce:et,onScriptLoadSuccess:nt,onScriptLoadError:st,locale:rt}),ot=reactExports.useMemo(()=>({locale:rt,clientId:_e,scriptLoadedSuccessfully:at}),[_e,at]);return React$3.createElement(GoogleOAuthContext.Provider,{value:ot},it)}function useGoogleOAuth(){const _e=reactExports.useContext(GoogleOAuthContext);if(!_e)throw new Error("Google OAuth components must be used within GoogleOAuthProvider");return _e}function useGoogleLogin({flow:_e="implicit",scope:et="",onSuccess:rt,onError:nt,onNonOAuthError:st,overrideScope:it,state:at,...ot}){const{clientId:lt,scriptLoadedSuccessfully:ct}=useGoogleOAuth(),ut=reactExports.useRef(),dt=reactExports.useRef(rt);dt.current=rt;const pt=reactExports.useRef(nt);pt.current=nt;const mt=reactExports.useRef(st);mt.current=st,reactExports.useEffect(()=>{var vt,gt;if(!ct)return;const Et=_e==="implicit"?"initTokenClient":"initCodeClient",jt=(gt=(vt=window==null?void 0:window.google)===null||vt===void 0?void 0:vt.accounts)===null||gt===void 0?void 0:gt.oauth2[Et]({client_id:lt,scope:it?et:`openid profile email ${et}`,callback:kt=>{var Rt,St;if(kt.error)return(Rt=pt.current)===null||Rt===void 0?void 0:Rt.call(pt,kt);(St=dt.current)===null||St===void 0||St.call(dt,kt)},error_callback:kt=>{var Rt;(Rt=mt.current)===null||Rt===void 0||Rt.call(mt,kt)},state:at,...ot});ut.current=jt},[lt,ct,_e,et,at]);const xt=reactExports.useCallback(vt=>{var gt;return(gt=ut.current)===null||gt===void 0?void 0:gt.requestAccessToken(vt)},[]),yt=reactExports.useCallback(()=>{var vt;return(vt=ut.current)===null||vt===void 0?void 0:vt.requestCode()},[]);return _e==="implicit"?xt:yt}function LoginPage(){var Tt,Bt;const[_e,et]=reactExports.useState(""),[rt,nt]=reactExports.useState(""),[st,it]=reactExports.useState(!1),[at,ot]=reactExports.useState(""),[lt,ct]=reactExports.useState(!1),[ut,dt]=reactExports.useState(!1),[pt,mt]=reactExports.useState(""),[xt,yt]=reactExports.useState(""),[vt,gt]=reactExports.useState(""),{login:Et,googleLogin:jt,verifyOTP:kt}=useAuth(),Rt=useNavigate(),_t=((Bt=(Tt=useLocation().state)==null?void 0:Tt.from)==null?void 0:Bt.pathname)||"/",Nt=Wt=>{zt.success("Cho mng tr li!");let qt=_t;qt==="/"&&Wt&&(Wt.role==="staff"?qt="/admin/products":["admin","manager"].includes(Wt.role)&&(qt="/admin/dashboard")),Rt(qt,{replace:!0})},Lt=async Wt=>{var qt,Ot,Dt;Wt.preventDefault(),ot(""),ct(!0);try{const Pt=await Et(_e,rt);if(Pt.require2fa)dt(!0),yt(Pt.userId),gt(Pt.email),zt("Vui lng nhp m OTP  gi v email",{icon:""});else{const It=localStorage.getItem("user"),At=It?JSON.parse(It):null;Nt(At)}}catch(Pt){const It=((Dt=(Ot=(qt=Pt.response)==null?void 0:qt.data)==null?void 0:Ot.error)==null?void 0:Dt.message)||"ng nhp tht bi";ot(It),zt.error(It)}finally{ct(!1)}},$t=async Wt=>{var qt,Ot,Dt;Wt.preventDefault(),ot(""),ct(!0);try{await kt(xt,pt);const Pt=localStorage.getItem("user"),It=Pt?JSON.parse(Pt):null;Nt(It)}catch(Pt){const It=((Dt=(Ot=(qt=Pt.response)==null?void 0:qt.data)==null?void 0:Ot.error)==null?void 0:Dt.message)||"M OTP khng hp l";ot(It),zt.error(It)}finally{ct(!1)}},Ft=useGoogleLogin({onSuccess:async Wt=>{try{ct(!0),await jt(Wt.access_token||"");const qt=localStorage.getItem("user"),Ot=qt?JSON.parse(qt):null;Nt(Ot)}catch{zt.error("Google Sign-In Failed")}finally{ct(!1)}},onError:()=>zt.error("Google Sign-In Failed")});return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Helmet,{children:jsxRuntimeExports.jsx("title",{children:"ng nhp - Fashion Store"})}),jsxRuntimeExports.jsxs("div",{className:"min-h-screen flex w-full bg-white",children:[jsxRuntimeExports.jsxs("div",{className:"hidden lg:flex lg:w-1/2 relative bg-gray-900",children:[jsxRuntimeExports.jsx("img",{src:"https://images.unsplash.com/photo-1483985988355-763728e1935b?q=80&w=2070&auto=format&fit=crop",alt:"Shopping Woman",className:"absolute inset-0 w-full h-full object-cover opacity-80"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),jsxRuntimeExports.jsxs("div",{className:"relative z-10 w-full h-full flex flex-col justify-end p-12 text-white",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-light font-serif leading-tight mb-4 max-w-lg",children:'"Phong cch l mt phng thc  ni ln bn l ai m khng cn phi m li."'}),jsxRuntimeExports.jsx("p",{className:"text-sm font-medium tracking-wider opacity-90",children:" RACHEL ZOE"})]})]}),jsxRuntimeExports.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8 overflow-y-auto",children:jsxRuntimeExports.jsxs("div",{className:"w-full max-w-md space-y-8",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs(Link$1,{to:"/",className:"flex items-center gap-2 mb-8 text-primary-600",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center text-white",children:jsxRuntimeExports.jsx(Sparkles,{className:"w-5 h-5"})}),jsxRuntimeExports.jsx("span",{className:"text-xl font-bold text-gray-900",children:"Fashion Store"})]}),jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:ut?"Xc thc 2 bc":"Cho mng tr li"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:ut?`Vui lng nhp m OTP  gi n email ${vt}`:"Vui lng nhp thng tin  ng nhp."})]}),at&&jsxRuntimeExports.jsx("div",{className:"p-4 bg-red-50 text-red-600 text-sm rounded-lg",children:at}),ut?jsxRuntimeExports.jsxs("form",{onSubmit:$t,className:"space-y-5",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-1.5",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"M OTP (6 ch s)"}),jsxRuntimeExports.jsx("input",{type:"text",value:pt,onChange:Wt=>mt(Wt.target.value.replace(/\D/g,"").slice(0,6)),className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all tracking-widest text-center text-xl",placeholder:"------",required:!0,maxLength:6,autoFocus:!0})]}),jsxRuntimeExports.jsx("button",{type:"submit",disabled:lt||pt.length<6,className:"w-full py-3 px-4 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-full shadow-lg transition-all disabled:opacity-70 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:lt?jsxRuntimeExports.jsx(LoaderCircle,{className:"w-5 h-5 animate-spin"}):"Xc thc"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>dt(!1),className:"w-full text-sm text-gray-500 hover:text-gray-700 underline",children:"Quay li ng nhp"})]}):jsxRuntimeExports.jsxs("form",{onSubmit:Lt,className:"space-y-5",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-1.5",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Tn ng nhp"}),jsxRuntimeExports.jsx("input",{type:"text",value:_e,onChange:Wt=>et(Wt.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Nhp tn ng nhp ca bn",required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1.5",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Mt khu"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{type:st?"text":"password",value:rt,onChange:Wt=>nt(Wt.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Nhp mt khu",required:!0}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>it(!st),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:st?jsxRuntimeExports.jsx(EyeOff,{className:"w-5 h-5"}):jsxRuntimeExports.jsx(Eye,{className:"w-5 h-5"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-600 font-medium",children:"Ghi nh ng nhp"})]}),jsxRuntimeExports.jsx(Link$1,{to:"/forgot-password",className:"text-sm font-semibold text-blue-600 hover:text-blue-700 hover:underline",children:"Qun mt khu?"})]}),jsxRuntimeExports.jsx("button",{type:"submit",disabled:lt,className:"w-full py-3 px-4 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-full shadow-lg shadow-blue-500/30 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all disabled:opacity-70 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:lt?jsxRuntimeExports.jsx(LoaderCircle,{className:"w-5 h-5 animate-spin"}):"ng nhp"}),jsxRuntimeExports.jsxs("div",{className:"relative my-6",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 flex items-center",children:jsxRuntimeExports.jsx("div",{className:"w-full border-t border-gray-200"})}),jsxRuntimeExports.jsx("div",{className:"relative flex justify-center text-sm",children:jsxRuntimeExports.jsx("span",{className:"px-2 bg-white text-gray-500 text-xs uppercase tracking-wider",children:"Hoc tip tc vi"})})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>Ft(),type:"button",className:"flex items-center justify-center gap-2 px-4 py-2.5 border border-gray-300 rounded-full hover:bg-gray-50 transition-colors font-medium text-gray-700 w-full col-span-2",children:[jsxRuntimeExports.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[jsxRuntimeExports.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),jsxRuntimeExports.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),jsxRuntimeExports.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),jsxRuntimeExports.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Google"]})]}),!ut&&jsxRuntimeExports.jsxs("p",{className:"text-center text-sm text-gray-600 mt-8",children:["Cha c ti khon?"," ",jsxRuntimeExports.jsx(Link$1,{to:"/register",className:"text-blue-600 font-semibold hover:underline",children:"ng k ngay"})]})]})})]})]})}function RegisterPage(){const[_e,et]=reactExports.useState({username:"",email:"",password:"",confirmPassword:"",full_name:""}),[rt,nt]=reactExports.useState(!1),[st,it]=reactExports.useState(""),[at,ot]=reactExports.useState(!1),[lt,ct]=reactExports.useState(!1),{register:ut,googleLogin:dt}=useAuth(),pt=useNavigate(),mt=useGoogleLogin({onSuccess:async vt=>{try{ot(!0),await dt(vt.access_token||""),zt.success("ng nhp Google thnh cng!"),pt("/")}catch{zt.error("ng nhp Google tht bi. Vui lng th li.")}finally{ot(!1)}},onError:()=>zt.error("ng nhp Google tht bi")}),xt=vt=>{et(gt=>({...gt,[vt.target.name]:vt.target.value})),st&&it("")},yt=async vt=>{var gt,Et,jt,kt,Rt;if(vt.preventDefault(),it(""),_e.password!==_e.confirmPassword){it("Mt khu xc nhn khng khp");return}if(_e.password.length<6){it("Mt khu phi c t nht 6 k t");return}if(!lt){it("Vui lng ng  vi iu khon s dng");return}ot(!0);try{await ut({username:_e.username,email:_e.email,password:_e.password,full_name:_e.full_name||void 0}),zt.success("To ti khon thnh cng! Cho mng bn."),pt("/")}catch(St){const _t=((jt=(Et=(gt=St.response)==null?void 0:gt.data)==null?void 0:Et.error)==null?void 0:jt.message)||((Rt=(kt=St.response)==null?void 0:kt.data)==null?void 0:Rt.message)||"";let Nt="ng k tht bi. Vui lng th li.";_t.toLowerCase().includes("email already")?Nt="Email ny  c s dng. Vui lng dng email khc.":_t.toLowerCase().includes("username already")?Nt="Tn ng nhp  tn ti. Vui lng chn tn khc.":_t&&(Nt=_t),it(Nt),zt.error(Nt)}finally{ot(!1)}};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Helmet,{children:jsxRuntimeExports.jsx("title",{children:"To ti khon - Fashion Store"})}),jsxRuntimeExports.jsxs("div",{className:"min-h-screen flex w-full bg-white",children:[jsxRuntimeExports.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8 overflow-y-auto",children:jsxRuntimeExports.jsxs("div",{className:"w-full max-w-lg space-y-8",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs(Link$1,{to:"/",className:"flex items-center gap-2 mb-8 text-primary-600",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center text-white",children:jsxRuntimeExports.jsx(Sparkles,{className:"w-5 h-5"})}),jsxRuntimeExports.jsx("span",{className:"text-xl font-bold text-gray-900",children:"Fashion Store"})]}),jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"To ti khon mi"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:"Bt u mua sm vi nhng u i tt nht ngay hm nay."})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 gap-4",children:jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>mt(),className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-full hover:bg-gray-100 transition-colors font-medium text-gray-700",children:[jsxRuntimeExports.jsx("img",{src:"https://www.google.com/favicon.ico",alt:"Google",className:"w-5 h-5"}),"Google"]})}),jsxRuntimeExports.jsxs("div",{className:"relative my-6",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 flex items-center",children:jsxRuntimeExports.jsx("div",{className:"w-full border-t border-gray-200"})}),jsxRuntimeExports.jsx("div",{className:"relative flex justify-center text-sm",children:jsxRuntimeExports.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Hoc ng k bng email"})})]}),st&&jsxRuntimeExports.jsxs("div",{className:"p-4 bg-red-50 text-red-700 text-sm rounded-xl border border-red-200 flex items-start gap-3 animate-in slide-in-from-top-2 duration-300 shadow-sm",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"w-5 h-5 flex-shrink-0 mt-0.5 text-red-500"}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("p",{className:"font-medium",children:"Li ng k"}),jsxRuntimeExports.jsx("p",{className:"text-red-600 mt-0.5",children:st})]}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>it(""),className:"p-1 hover:bg-red-100 rounded-full transition-colors",children:jsxRuntimeExports.jsx(X$2,{className:"w-4 h-4 text-red-400 hover:text-red-600"})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:yt,className:"space-y-5",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-1.5",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"H v tn"}),jsxRuntimeExports.jsx("input",{name:"full_name",type:"text",value:_e.full_name,onChange:xt,className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:bg-white transition-all",placeholder:"Nguyn Vn A"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-1.5",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Tn ng nhp *"}),jsxRuntimeExports.jsx("input",{name:"username",type:"text",value:_e.username,onChange:xt,className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:bg-white transition-all",placeholder:"nguyenvana",required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1.5",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"a ch Email *"}),jsxRuntimeExports.jsx("input",{name:"email",type:"email",value:_e.email,onChange:xt,className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:bg-white transition-all",placeholder:"name@example.com",required:!0})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-1.5",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Mt khu"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{name:"password",type:rt?"text":"password",value:_e.password,onChange:xt,className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:bg-white transition-all",placeholder:"",required:!0}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>nt(!rt),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:rt?jsxRuntimeExports.jsx(EyeOff,{className:"w-4 h-4"}):jsxRuntimeExports.jsx(Eye,{className:"w-4 h-4"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1.5",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Xc nhn mt khu"}),jsxRuntimeExports.jsx("input",{name:"confirmPassword",type:rt?"text":"password",value:_e.confirmPassword,onChange:xt,className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:bg-white transition-all",placeholder:"",required:!0})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",id:"terms",checked:lt,onChange:vt=>ct(vt.target.checked),className:"mt-1 w-4 h-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500 cursor-pointer"}),jsxRuntimeExports.jsxs("label",{htmlFor:"terms",className:"text-sm text-gray-600 leading-snug cursor-pointer",children:["Ti ng  vi ",jsxRuntimeExports.jsx(Link$1,{to:"/terms",className:"text-blue-600 hover:underline font-medium",children:"iu khon s dng"})," v ",jsxRuntimeExports.jsx(Link$1,{to:"/privacy",className:"text-blue-600 hover:underline font-medium",children:"Chnh sch bo mt"}),"."]})]}),jsxRuntimeExports.jsx("button",{type:"submit",disabled:at,className:"w-full py-3 px-4 bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-full shadow-lg shadow-blue-600/30 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all disabled:opacity-70 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:at?jsxRuntimeExports.jsx(LoaderCircle,{className:"w-5 h-5 animate-spin"}):"ng k"})]}),jsxRuntimeExports.jsxs("p",{className:"text-center text-sm text-gray-600 mt-8",children:[" c ti khon?"," ",jsxRuntimeExports.jsx(Link$1,{to:"/login",className:"text-blue-600 font-bold hover:underline",children:"ng nhp"})]}),jsxRuntimeExports.jsx("div",{className:"pt-8 mt-8 border-t border-gray-100 text-center text-xs text-gray-400",children:" 2024 Fashion Store Inc. All rights reserved."})]})}),jsxRuntimeExports.jsxs("div",{className:"hidden lg:block lg:w-1/2 relative bg-[#FDF8F3]",children:[jsxRuntimeExports.jsxs("div",{className:"absolute inset-0",children:[jsxRuntimeExports.jsx("img",{src:"https://images.unsplash.com/photo-1497215728101-856f4ea42174?q=80&w=2070&auto=format&fit=crop",alt:"Workspace",className:"w-full h-full object-cover opacity-80"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-[#D2B48C]/30 mix-blend-multiply"})," "]}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-12",children:jsxRuntimeExports.jsxs("div",{className:"bg-white/20 backdrop-blur-xl border border-white/30 p-8 rounded-3xl max-w-md w-full shadow-2xl",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-white/40 rounded-xl flex items-center justify-center mb-6 text-white backdrop-blur-sm",children:jsxRuntimeExports.jsx(ShoppingBag,{className:"w-6 h-6"})}),jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-white mb-4 leading-tight",children:"Gia nhp cng ng mua sm"}),jsxRuntimeExports.jsx("p",{className:"text-white/90 mb-8 text-lg leading-relaxed",children:"M kha cc u i c quyn, theo di n hng v nhn gi  dnh ring cho bn."}),jsxRuntimeExports.jsx("div",{className:"space-y-4",children:["Min ph vn chuyn n u tin","Hon tin trong 30 ngy","H tr khch hng 24/7"].map((vt,gt)=>jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 text-white",children:[jsxRuntimeExports.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-600 flex items-center justify-center flex-shrink-0",children:jsxRuntimeExports.jsx(Check,{className:"w-4 h-4 text-white"})}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:vt})]},gt))})]})})]})]})]})}function ForgotPasswordPage(){const[_e,et]=reactExports.useState(""),[rt,nt]=reactExports.useState(!1),[st,it]=reactExports.useState(!1),at=async ot=>{var lt,ct;ot.preventDefault(),nt(!0);try{await api.post("/auth/forgot-password",{email:_e}),it(!0),zt.success("Yu cu  c gi!")}catch(ut){zt.error(((ct=(lt=ut.response)==null?void 0:lt.data)==null?void 0:ct.message)||"C li xy ra")}finally{nt(!1)}};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Helmet,{children:jsxRuntimeExports.jsx("title",{children:"Qun mt khu - Fashion Store"})}),jsxRuntimeExports.jsx("div",{className:"min-h-[70vh] flex items-center justify-center p-4",children:jsxRuntimeExports.jsxs("div",{className:"w-full max-w-md bg-white rounded-xl shadow-lg p-8 border border-secondary-100",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-center text-secondary-900 mb-2",children:"Qun mt khu?"}),jsxRuntimeExports.jsx("p",{className:"text-center text-secondary-500 mb-8",children:"Nhp email ca bn  nhn hng dn t li mt khu."}),st?jsxRuntimeExports.jsxs("div",{className:"text-center bg-accent-green/10 p-6 rounded-lg",children:[jsxRuntimeExports.jsx("p",{className:"text-accent-green font-medium mb-4",children:" gi thnh cng!"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-secondary-600 mb-6",children:"Vui lng kim tra email (bao gm c hp th rc)  ly m xc nhn/lin kt t li mt khu."}),jsxRuntimeExports.jsx("button",{onClick:()=>it(!1),className:"text-primary-600 font-medium hover:underline",children:"Gi li"})]}):jsxRuntimeExports.jsxs("form",{onSubmit:at,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Email ng k"}),jsxRuntimeExports.jsx("input",{type:"email",value:_e,onChange:ot=>et(ot.target.value),className:"input",placeholder:"example@email.com",required:!0})]}),jsxRuntimeExports.jsx("button",{type:"submit",disabled:rt,className:"w-full btn btn-primary btn-lg rounded-full",children:rt?"ng gi...":"Gi yu cu"})]}),jsxRuntimeExports.jsx("div",{className:"mt-6 text-center text-sm",children:jsxRuntimeExports.jsx(Link$1,{to:"/login",className:"text-primary-600 hover:text-primary-700 font-medium",children:"Quay li ng nhp"})})]})})]})}function ResetPasswordPage(){const[_e]=useSearchParams(),et=useNavigate(),rt=_e.get("email")||"",nt=_e.get("token")||"",[st,it]=reactExports.useState({password:"",confirmPassword:""}),[at,ot]=reactExports.useState(!1),[lt,ct]=reactExports.useState(!1),[ut,dt]=reactExports.useState(!1),[pt,mt]=reactExports.useState(""),xt=vt=>{it(gt=>({...gt,[vt.target.name]:vt.target.value})),pt&&mt("")},yt=async vt=>{var gt,Et;if(vt.preventDefault(),mt(""),st.password!==st.confirmPassword){mt("Mt khu xc nhn khng khp");return}if(st.password.length<6){mt("Mt khu phi c t nht 6 k t");return}if(!nt||!rt){mt("Link t li mt khu khng hp l. Vui lng yu cu li.");return}ct(!0);try{await api.post("/auth/reset-password",{email:rt,token:nt,newPassword:st.password}),dt(!0),zt.success("t li mt khu thnh cng!")}catch(jt){const kt=((Et=(gt=jt.response)==null?void 0:gt.data)==null?void 0:Et.message)||"C li xy ra. Vui lng th li.";mt(kt),zt.error(kt)}finally{ct(!1)}};return!nt||!rt?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Helmet,{children:jsxRuntimeExports.jsx("title",{children:"Link khng hp l - Fashion Store"})}),jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-gray-50 to-gray-100",children:jsxRuntimeExports.jsxs("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-xl p-8 text-center",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:jsxRuntimeExports.jsx(CircleAlert,{className:"w-8 h-8 text-red-600"})}),jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Link khng hp l"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 mb-6",children:"Link t li mt khu  ht hn hoc khng hp l. Vui lng yu cu mt link mi."}),jsxRuntimeExports.jsx(Link$1,{to:"/forgot-password",className:"inline-block w-full py-3 px-4 bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-full transition-colors",children:"Yu cu link mi"}),jsxRuntimeExports.jsx(Link$1,{to:"/login",className:"block mt-4 text-blue-600 hover:underline font-medium",children:"Quay li ng nhp"})]})})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Helmet,{children:jsxRuntimeExports.jsx("title",{children:"t li mt khu - Fashion Store"})}),jsxRuntimeExports.jsxs("div",{className:"min-h-screen flex w-full bg-white",children:[jsxRuntimeExports.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8",children:jsxRuntimeExports.jsxs("div",{className:"w-full max-w-md space-y-8",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs(Link$1,{to:"/",className:"flex items-center gap-2 mb-8 text-primary-600",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center text-white",children:jsxRuntimeExports.jsx(Sparkles,{className:"w-5 h-5"})}),jsxRuntimeExports.jsx("span",{className:"text-xl font-bold text-gray-900",children:"Fashion Store"})]}),jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"t li mt khu"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:"Nhp mt khu mi cho ti khon ca bn."})]}),ut?jsxRuntimeExports.jsxs("div",{className:"text-center py-8",children:[jsxRuntimeExports.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-10 h-10 text-green-600"})}),jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Thnh cng!"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 mb-8",children:"Mt khu ca bn  c t li thnh cng. Bn c th ng nhp vi mt khu mi."}),jsxRuntimeExports.jsx("button",{onClick:()=>et("/login"),className:"w-full py-3 px-4 bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-full shadow-lg shadow-blue-600/30 transition-all",children:"ng nhp ngay"})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"bg-blue-50 border border-blue-100 rounded-xl p-4",children:jsxRuntimeExports.jsxs("p",{className:"text-sm text-blue-700",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Email:"})," ",decodeURIComponent(rt)]})}),pt&&jsxRuntimeExports.jsxs("div",{className:"p-4 bg-red-50 text-red-700 text-sm rounded-xl border border-red-200 flex items-start gap-3",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"w-5 h-5 flex-shrink-0 mt-0.5 text-red-500"}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("p",{className:"font-medium",children:"Li"}),jsxRuntimeExports.jsx("p",{className:"text-red-600 mt-0.5",children:pt})]})]}),jsxRuntimeExports.jsxs("form",{onSubmit:yt,className:"space-y-5",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-1.5",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Mt khu mi *"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Lock,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2"}),jsxRuntimeExports.jsx("input",{name:"password",type:at?"text":"password",value:st.password,onChange:xt,className:"w-full pl-10 pr-10 py-3 bg-gray-50 border border-gray-200 rounded-lg text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:bg-white transition-all",placeholder:"Nhp mt khu mi",required:!0}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>ot(!at),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:at?jsxRuntimeExports.jsx(EyeOff,{className:"w-4 h-4"}):jsxRuntimeExports.jsx(Eye,{className:"w-4 h-4"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1.5",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Xc nhn mt khu *"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Lock,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2"}),jsxRuntimeExports.jsx("input",{name:"confirmPassword",type:at?"text":"password",value:st.confirmPassword,onChange:xt,className:"w-full pl-10 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-lg text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:bg-white transition-all",placeholder:"Nhp li mt khu",required:!0})]})]}),jsxRuntimeExports.jsx("button",{type:"submit",disabled:lt,className:"w-full py-3 px-4 bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-full shadow-lg shadow-blue-600/30 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all disabled:opacity-70 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:lt?jsxRuntimeExports.jsx(LoaderCircle,{className:"w-5 h-5 animate-spin"}):"t li mt khu"})]})]}),jsxRuntimeExports.jsxs("p",{className:"text-center text-sm text-gray-600",children:["Nh mt khu?"," ",jsxRuntimeExports.jsx(Link$1,{to:"/login",className:"text-blue-600 font-bold hover:underline",children:"ng nhp"})]})]})}),jsxRuntimeExports.jsx("div",{className:"hidden lg:block lg:w-1/2 relative bg-gradient-to-br from-blue-600 to-indigo-700",children:jsxRuntimeExports.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-12",children:jsxRuntimeExports.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 p-10 rounded-3xl max-w-md w-full text-center",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center mx-auto mb-6",children:jsxRuntimeExports.jsx(Lock,{className:"w-8 h-8 text-white"})}),jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Bo mt ti khon"}),jsxRuntimeExports.jsx("p",{className:"text-white/80 text-lg",children:"t mt khu mnh  bo v ti khon ca bn. Nn s dng kt hp ch hoa, ch thng, s v k t c bit."})]})})})]})]})}function ConfirmModal({isOpen:_e,onClose:et,onConfirm:rt,title:nt,message:st,confirmText:it="Xc nhn",cancelText:at="Hy",isDestructive:ot=!1}){return _e?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 backdrop-blur-sm bg-black/40 animate-in fade-in duration-300",children:jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-secondary-800 border border-secondary-100 dark:border-secondary-700 rounded-3xl w-full max-w-sm shadow-2xl shadow-secondary-900/10 dark:shadow-none transform transition-all scale-100 opacity-100 overflow-hidden font-inter",children:jsxRuntimeExports.jsxs("div",{className:"p-8 text-center",children:[jsxRuntimeExports.jsx("div",{className:`mx-auto mb-6 w-20 h-20 rounded-full flex items-center justify-center animate-bounce-short ${ot?"bg-red-50 text-red-600 dark:bg-red-900/20":"bg-primary-50 text-primary-600 dark:bg-primary-900/20 dark:text-primary-400"}`,children:jsxRuntimeExports.jsx(TriangleAlert,{className:"w-10 h-10"})}),jsxRuntimeExports.jsx("h3",{className:"text-2xl font-black text-secondary-900 dark:text-white mb-3 italic tracking-tighter uppercase",children:nt}),jsxRuntimeExports.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 mb-8 leading-relaxed font-medium",children:st}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4",children:[jsxRuntimeExports.jsx("button",{onClick:et,className:"flex-1 px-6 py-3.5 text-sm font-bold text-secondary-600 dark:text-secondary-300 bg-secondary-50 dark:bg-secondary-700/50 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-2xl transition-all duration-300",children:at}),jsxRuntimeExports.jsx("button",{onClick:()=>{rt(),et()},className:`flex-1 px-6 py-3.5 text-sm font-bold text-white rounded-2xl shadow-xl transition-all duration-300 hover:-translate-y-0.5 active:scale-95 ${ot?"bg-rose-600 hover:bg-rose-700 shadow-rose-200 dark:shadow-none":"bg-primary-600 hover:bg-primary-700 shadow-primary-200 dark:shadow-none"}`,children:it})]})]})})}):null}const statusConfig={pending:{label:"Ch thanh ton",color:"bg-amber-50 text-amber-600 border-amber-100 dark:bg-amber-900/20 dark:text-amber-400 dark:border-amber-900/30",icon:Clock},paid:{label:" thanh ton",color:"bg-blue-50 text-blue-600 border-blue-100 dark:bg-blue-900/20 dark:text-blue-400 dark:border-blue-900/30",icon:CircleCheck},processing:{label:"ang x l",color:"bg-indigo-50 text-indigo-600 border-indigo-100 dark:bg-indigo-900/20 dark:text-indigo-400 dark:border-indigo-900/30",icon:Package},shipped:{label:"ang vn chuyn",color:"bg-sky-50 text-sky-600 border-sky-100 dark:bg-sky-900/20 dark:text-sky-400 dark:border-sky-900/30",icon:Truck},completed:{label:" hon thnh",color:"bg-emerald-50 text-emerald-600 border-emerald-100 dark:bg-emerald-900/20 dark:text-emerald-400 dark:border-emerald-900/30",icon:CircleCheck},cancelled:{label:" hy",color:"bg-rose-50 text-rose-600 border-rose-100 dark:bg-rose-900/20 dark:text-rose-400 dark:border-rose-900/30",icon:CircleX},refunded:{label:" hon tin",color:"bg-slate-50 text-slate-600 border-slate-100 dark:bg-slate-900/20 dark:text-slate-400 dark:border-slate-900/30",icon:RotateCcw},confirmed:{label:" xc nhn",color:"bg-cyan-50 text-cyan-600 border-cyan-100 dark:bg-cyan-900/20 dark:text-cyan-400 dark:border-cyan-900/30",icon:ShieldCheck}};function OrderHistoryPage(){const{isAuthenticated:_e}=useAuth(),et=useNavigate(),[rt,nt]=reactExports.useState([]),[st,it]=reactExports.useState(!0),[at,ot]=reactExports.useState("all"),[lt,ct]=reactExports.useState({isOpen:!1,orderId:null});reactExports.useEffect(()=>{if(!_e)return;(async()=>{try{const mt=await ordersAPI.getAll();nt(mt.data.data.orders)}catch(mt){console.error("Failed to load orders:",mt)}finally{it(!1)}})()},[_e]);const ut=rt.filter(pt=>at==="all"?!0:at==="ongoing"?["pending","confirmed","paid","processing","shipped"].includes(pt.status):at==="completed"?pt.status==="completed":at==="cancelled"?["cancelled","refunded"].includes(pt.status):!0),dt=async()=>{var pt,mt;if(lt.orderId)try{await ordersAPI.cancel(lt.orderId),n$8.success(" hy n hng thnh cng");const xt=await ordersAPI.getAll();nt(xt.data.data.orders)}catch(xt){n$8.error(((mt=(pt=xt.response)==null?void 0:pt.data)==null?void 0:mt.message)||"Khng th hy n hng")}};return _e?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Helmet,{children:jsxRuntimeExports.jsx("title",{children:"n hng ca ti - Fashion Store"})}),jsxRuntimeExports.jsx("div",{className:"bg-secondary-50 dark:bg-secondary-900 min-h-screen py-8 md:py-12 transition-colors duration-300 font-inter",children:jsxRuntimeExports.jsxs("div",{className:"container-custom",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6 mb-10",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("nav",{className:"mb-4 flex items-center gap-2 text-xs font-bold uppercase tracking-widest text-secondary-400 dark:text-secondary-500",children:[jsxRuntimeExports.jsx(Link$1,{to:"/",className:"hover:text-primary-600 dark:hover:text-primary-400 transition-colors",children:"Trang ch"}),jsxRuntimeExports.jsx("span",{children:"/"}),jsxRuntimeExports.jsx("span",{className:"text-secondary-900 dark:text-white",children:"n hng ca ti"})]}),jsxRuntimeExports.jsx("h1",{className:"text-3xl md:text-4xl font-black text-secondary-900 dark:text-white uppercase italic tracking-tighter",children:"Lch s n hng"})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("button",{className:"p-3 bg-white dark:bg-secondary-800 border border-secondary-100 dark:border-secondary-700 rounded-xl text-secondary-500 dark:text-secondary-400 hover:text-primary-600 dark:hover:text-primary-400 transition-all shadow-sm",children:jsxRuntimeExports.jsx(Search,{className:"w-5 h-5"})}),jsxRuntimeExports.jsx("button",{className:"p-3 bg-white dark:bg-secondary-800 border border-secondary-100 dark:border-secondary-700 rounded-xl text-secondary-500 dark:text-secondary-400 hover:text-primary-600 dark:hover:text-primary-400 transition-all shadow-sm",children:jsxRuntimeExports.jsx(Filter,{className:"w-5 h-5"})})]})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-1 border-b border-secondary-200 dark:border-secondary-700 mb-8 overflow-x-auto no-scrollbar",children:[{id:"all",label:"Tt c"},{id:"ongoing",label:"ang x l"},{id:"completed",label:"Hon thnh"},{id:"cancelled",label:" hy"}].map(pt=>jsxRuntimeExports.jsxs("button",{onClick:()=>ot(pt.id),className:`px-6 py-4 text-sm font-bold uppercase tracking-widest transition-all relative ${at===pt.id?"text-primary-600 dark:text-primary-400":"text-secondary-400 hover:text-secondary-600 dark:hover:text-secondary-200"}`,children:[pt.label,at===pt.id&&jsxRuntimeExports.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-primary-600 dark:bg-primary-400 rounded-t-full"})]},pt.id))}),st?jsxRuntimeExports.jsx("div",{className:"space-y-6",children:[...Array(3)].map((pt,mt)=>jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-secondary-800 border border-secondary-100 dark:border-secondary-700 rounded-3xl p-8 animate-pulse shadow-sm",children:[jsxRuntimeExports.jsx("div",{className:"h-6 bg-secondary-100 dark:bg-secondary-700 rounded w-1/4 mb-6"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4",children:[jsxRuntimeExports.jsx("div",{className:"w-20 h-20 bg-secondary-100 dark:bg-secondary-700 rounded-xl"}),jsxRuntimeExports.jsxs("div",{className:"flex-1 space-y-3",children:[jsxRuntimeExports.jsx("div",{className:"h-4 bg-secondary-100 dark:bg-secondary-700 rounded w-3/4"}),jsxRuntimeExports.jsx("div",{className:"h-4 bg-secondary-100 dark:bg-secondary-700 rounded w-1/2"})]})]})]},mt))}):ut.length===0?jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-secondary-800 border border-secondary-100 dark:border-secondary-700 rounded-3xl py-24 text-center shadow-sm",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-secondary-50 dark:bg-secondary-700 rounded-full flex items-center justify-center mx-auto mb-6 text-secondary-300 dark:text-secondary-600",children:jsxRuntimeExports.jsx(ShoppingBag,{className:"w-8 h-8"})}),jsxRuntimeExports.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 font-medium",children:"Bn khng c n hng no trong mc ny."}),jsxRuntimeExports.jsx(Link$1,{to:"/shop",className:"text-primary-600 dark:text-primary-400 font-bold hover:underline mt-4 inline-block",children:"Khm ph sn phm ngay"})]}):jsxRuntimeExports.jsx("div",{className:"space-y-6",children:ut.map(pt=>{var mt,xt,yt,vt,gt,Et,jt;return jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-secondary-800 border border-secondary-100 dark:border-secondary-700 rounded-3xl overflow-hidden shadow-sm hover:shadow-md transition-shadow",children:[jsxRuntimeExports.jsxs("div",{className:"p-6 md:p-8 flex flex-wrap justify-between items-start gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-10",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-[10px] font-bold text-secondary-400 uppercase tracking-widest mb-1",children:"M n hng"}),jsxRuntimeExports.jsxs("p",{className:"font-black text-secondary-900 dark:text-white uppercase tracking-tighter text-lg",children:["#",pt.order_code]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-[10px] font-bold text-secondary-400 uppercase tracking-widest mb-1",children:pt.status==="completed"?" giao ngy":"t ngy"}),jsxRuntimeExports.jsx("p",{className:"font-bold text-secondary-900 dark:text-white",children:new Date(pt.created_at).toLocaleDateString("vi-VN")})]})]}),jsxRuntimeExports.jsxs("div",{className:`px-4 py-1.5 rounded-full border text-[10px] font-bold uppercase tracking-widest flex items-center gap-2 ${((mt=statusConfig[pt.status])==null?void 0:mt.color)||""}`,children:[(()=>{var Rt;const kt=(Rt=statusConfig[pt.status])==null?void 0:Rt.icon;return kt?jsxRuntimeExports.jsx(kt,{className:"w-3.5 h-3.5"}):null})(),((xt=statusConfig[pt.status])==null?void 0:xt.label)||pt.status]})]}),jsxRuntimeExports.jsxs("div",{className:"px-6 md:px-8 pb-8 flex flex-col md:flex-row md:items-center justify-between gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 flex gap-6 items-center",children:[jsxRuntimeExports.jsxs("div",{className:"flex -space-x-4",children:[(yt=pt.order_items)==null?void 0:yt.slice(0,3).map((kt,Rt)=>{var St,_t,Nt;return jsxRuntimeExports.jsx("div",{className:"w-20 h-20 bg-white dark:bg-secondary-700 rounded-2xl overflow-hidden border-4 border-white dark:border-secondary-800 shadow-sm relative",style:{zIndex:10-Rt},children:jsxRuntimeExports.jsx("img",{src:((Nt=(_t=(St=kt.product)==null?void 0:St.product_images)==null?void 0:_t[0])==null?void 0:Nt.url)||"/placeholder.jpg",alt:kt.name,className:"w-full h-full object-cover"})},kt.id)}),pt.order_items&&pt.order_items.length>3&&jsxRuntimeExports.jsxs("div",{className:"w-20 h-20 bg-secondary-100 dark:bg-secondary-700 rounded-2xl border-4 border-white dark:border-secondary-800 flex items-center justify-center text-secondary-500 dark:text-secondary-400 font-bold text-lg z-0",children:["+",pt.order_items.length-3]})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsxs("p",{className:"text-sm font-bold text-secondary-900 dark:text-white line-clamp-1 mb-1",children:["Sn phm: ",(gt=(vt=pt.order_items)==null?void 0:vt[0])==null?void 0:gt.name," ",pt.order_items&&pt.order_items.length>1?`+ ${pt.order_items.length-1} mt hng khc`:""]}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2 text-xs font-medium text-emerald-600 dark:text-emerald-400",children:pt.status==="shipped"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Truck,{className:"w-3.5 h-3.5"}),"ang trn ng giao n bn"]}):pt.status==="completed"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(CircleCheck,{className:"w-3.5 h-3.5"}),"Kin hng  c bn giao thnh cng"]}):pt.status==="pending"?jsxRuntimeExports.jsxs("p",{className:"text-amber-500 flex items-center gap-1.5",children:[jsxRuntimeExports.jsx(Clock,{className:"w-3.5 h-3.5"}),"Vui lng hon tt thanh ton trong 24h"]}):jsxRuntimeExports.jsx("p",{className:"text-secondary-400",children:"Chng ti ang chun b hng cho bn"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"text-right",children:[jsxRuntimeExports.jsx("p",{className:"text-[10px] font-bold text-secondary-400 uppercase tracking-widest mb-1",children:"Tng cng n hng"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-black text-secondary-900 dark:text-white",children:formatPrice(pt.grand_total)})]})]}),jsxRuntimeExports.jsxs("div",{className:"px-6 md:px-8 py-5 bg-secondary-50/50 dark:bg-secondary-900/40 border-t border-secondary-50 dark:border-secondary-700 flex flex-wrap justify-between items-center gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[pt.status==="shipped"&&jsxRuntimeExports.jsxs("span",{className:"text-xs font-bold text-primary-600 dark:text-primary-400 flex items-center gap-1.5",children:[jsxRuntimeExports.jsx(MapPin,{className:"w-4 h-4"}),"ang vn chuyn: TP. H Ch Minh"]}),pt.status==="completed"&&jsxRuntimeExports.jsxs("div",{className:"flex text-amber-400 dark:text-amber-500 gap-0.5",children:[[...Array(5)].map((kt,Rt)=>jsxRuntimeExports.jsx(Star,{className:"w-3.5 h-3.5 fill-current"},Rt)),jsxRuntimeExports.jsx("span",{className:"text-[10px] font-bold text-secondary-400 dark:text-secondary-500 uppercase tracking-widest ml-2",children:" nh gi"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-3",children:[["pending","confirmed"].includes(pt.status)&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("button",{onClick:()=>ct({isOpen:!0,orderId:pt.id}),className:"px-5 py-2 text-xs font-bold rounded-xl border border-secondary-200 dark:border-secondary-700 hover:bg-white dark:hover:bg-secondary-700 transition-all text-secondary-700 dark:text-secondary-300",children:"Hy n hng"}),pt.status==="pending"&&((jt=(Et=pt.payments)==null?void 0:Et[0])==null?void 0:jt.method)!=="cod"&&jsxRuntimeExports.jsxs("button",{onClick:()=>et(`/checkout/payment/${pt.id}`),className:"px-6 py-2 text-xs font-bold rounded-xl bg-primary-600 text-white hover:bg-primary-700 shadow-lg shadow-primary-100 dark:shadow-none transition-all flex items-center gap-2",children:[jsxRuntimeExports.jsx(CreditCard,{className:"w-4 h-4"}),"Thanh ton ngay"]})]}),pt.status==="shipped"&&jsxRuntimeExports.jsx("button",{className:"px-6 py-2 text-xs font-bold rounded-xl bg-primary-600 text-white hover:bg-primary-700 shadow-lg shadow-primary-100 dark:shadow-none transition-all",children:"Tra cu vn chuyn"}),pt.status==="completed"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("button",{className:"px-5 py-2 text-xs font-bold rounded-xl border border-secondary-200 dark:border-secondary-700 hover:bg-white dark:hover:bg-secondary-700 transition-all text-secondary-700 dark:text-secondary-300",children:"Tr hng / Hon tin"}),jsxRuntimeExports.jsx("button",{className:"px-6 py-2 text-xs font-bold rounded-xl bg-primary-50 text-primary-600 dark:bg-primary-900/30 dark:text-primary-400 hover:bg-primary-100 dark:hover:bg-primary-900/50 transition-all",children:"Mua li sn phm"})]}),jsxRuntimeExports.jsxs(Link$1,{to:`/orders/${pt.id}`,className:"px-5 py-2 text-xs font-bold rounded-xl border border-secondary-200 dark:border-secondary-700 hover:bg-white dark:hover:bg-secondary-700 transition-all text-secondary-700 dark:text-secondary-300 flex items-center gap-2",children:["Xem chi tit",jsxRuntimeExports.jsx(ChevronRight,{className:"w-4 h-4"})]})]})]})]},pt.id)})})]})}),jsxRuntimeExports.jsx(ConfirmModal,{isOpen:lt.isOpen,onClose:()=>ct({isOpen:!1,orderId:null}),onConfirm:dt,title:"Xc nhn hy n",message:"Bn c chc chn mun hy n hng ny khng? Hnh ng ny khng th hon tc.",confirmText:"ng  hy",cancelText:" em xem li",isDestructive:!0})]}):jsxRuntimeExports.jsxs("div",{className:"container-custom py-24 text-center font-inter",children:[jsxRuntimeExports.jsx("div",{className:"w-20 h-20 bg-secondary-50 dark:bg-secondary-800 rounded-full flex items-center justify-center mx-auto mb-6 text-secondary-300",children:jsxRuntimeExports.jsx(Package,{className:"w-10 h-10"})}),jsxRuntimeExports.jsx("h1",{className:"text-3xl font-black text-secondary-900 dark:text-white mb-4",children:"Bn cha ng nhp"}),jsxRuntimeExports.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 mb-8 max-w-md mx-auto",children:"Vui lng ng nhp  xem lch s n hng v theo di qu trnh vn chuyn."}),jsxRuntimeExports.jsx(Link$1,{to:"/login",className:"btn btn-primary rounded-full px-12",children:"ng nhp ngay"})]})}function OrderDetailPage$1(){var dt,pt,mt,xt,yt,vt,gt,Et,jt,kt,Rt,St,_t,Nt,Lt;const{orderId:_e}=useParams(),[et,rt]=reactExports.useState(null),[nt,st]=reactExports.useState(!0),[it,at]=reactExports.useState(null),{isAuthenticated:ot}=useAuth(),lt=useNavigate();if(reactExports.useEffect(()=>{if(!ot)return;(async()=>{if(_e)try{const[Ft,Tt]=await Promise.all([ordersAPI.getById(_e),settingsAPI.getPublic()]);rt(Ft.data.data),Tt.data.success&&at(Tt.data.data)}catch(Ft){console.error("Failed to fetch order details:",Ft)}finally{st(!1)}})()},[_e,ot]),nt)return jsxRuntimeExports.jsxs("div",{className:"container-custom py-24 flex flex-col items-center justify-center",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 border-4 border-secondary-100 border-t-primary-600 rounded-full animate-spin mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 font-medium",children:"ang ti thng tin n hng..."})]});if(!et)return jsxRuntimeExports.jsxs("div",{className:"container-custom py-24 text-center",children:[jsxRuntimeExports.jsx("div",{className:"w-20 h-20 bg-secondary-50 dark:bg-secondary-800 rounded-full flex items-center justify-center mx-auto mb-6 text-secondary-300",children:jsxRuntimeExports.jsx(Package,{className:"w-10 h-10"})}),jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-secondary-900 dark:text-white mb-4",children:"Khng tm thy n hng"}),jsxRuntimeExports.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 mb-8 max-w-md mx-auto",children:"Chng ti xin li, n hng bn ang tm kim khng tn ti hoc bn khng c quyn truy cp."}),jsxRuntimeExports.jsx(Link$1,{to:"/orders",className:"btn btn-primary rounded-full px-8",children:"Quay li danh sch"})]});const ct=[{label:" t hng",date:new Date(et.created_at).toLocaleString("vi-VN"),completed:!0,icon:Clock},{label:"ang x l",date:et.status!=="pending"?"Hm nay":"D kin",completed:et.status!=="pending",icon:Package},{label:"ang giao hng",date:et.status==="shipped"||et.status==="completed"?" gi":"D kin",completed:et.status==="shipped"||et.status==="completed",icon:Truck},{label:" nhn hng",date:et.status==="completed"?"Thnh cng":"D kin",completed:et.status==="completed",icon:CircleCheck}],ut=()=>{window.print()};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Helmet,{children:jsxRuntimeExports.jsxs("title",{children:["Chi tit n hng #",et.order_code]})}),jsxRuntimeExports.jsx("div",{className:"bg-secondary-50 dark:bg-secondary-900 min-h-screen py-8 md:py-12 transition-colors duration-300 font-inter print:bg-white",children:jsxRuntimeExports.jsxs("div",{className:"container-custom max-w-5xl",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between mb-8 print:hidden",children:jsxRuntimeExports.jsxs(Link$1,{to:"/orders",className:"flex items-center gap-2 text-sm font-bold text-secondary-500 dark:text-secondary-400 hover:text-primary-600 dark:hover:text-primary-400 transition-colors",children:[jsxRuntimeExports.jsx(ChevronLeft,{className:"w-4 h-4"}),"Quay li danh sch"]})}),jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-secondary-800 border border-secondary-100 dark:border-secondary-700 rounded-3xl p-6 md:p-8 shadow-sm mb-6 transition-colors print:border-none print:shadow-none",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[jsxRuntimeExports.jsxs("h1",{className:"text-2xl font-black text-secondary-900 dark:text-white uppercase tracking-tighter",children:["n hng #",et.order_code]}),jsxRuntimeExports.jsx("span",{className:`px-3 py-1 rounded-full text-[10px] font-bold uppercase tracking-widest ${et.status==="paid"||et.status==="completed"?"bg-emerald-50 text-emerald-600 dark:bg-emerald-900/20 dark:text-emerald-400":"bg-amber-50 text-amber-600 dark:bg-amber-900/20 dark:text-amber-400"}`,children:et.status==="paid"||et.status==="completed"?" thanh ton":"Ch thanh ton"})]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:["t ngy ",new Date(et.created_at).toLocaleDateString("vi-VN")," lc ",new Date(et.created_at).toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-3 print:hidden",children:[jsxRuntimeExports.jsxs("button",{onClick:ut,className:"flex items-center gap-2 px-5 py-2.5 bg-secondary-50 dark:bg-secondary-700 text-secondary-700 dark:text-secondary-100 rounded-xl font-bold text-sm hover:bg-secondary-100 dark:hover:bg-secondary-600 transition-all border border-secondary-100 dark:border-secondary-600",children:[jsxRuntimeExports.jsx(Printer,{className:"w-4 h-4"}),"In ha n"]}),jsxRuntimeExports.jsxs("button",{className:"flex items-center gap-2 px-6 py-2.5 bg-secondary-50 dark:bg-secondary-700 text-secondary-700 dark:text-secondary-100 rounded-xl font-bold text-sm hover:bg-secondary-100 dark:hover:bg-secondary-600 transition-all border border-secondary-100 dark:border-secondary-600",children:[jsxRuntimeExports.jsx(Truck,{className:"w-4 h-4"}),"Tra cu vn chuyn"]}),et.status==="pending"&&((pt=(dt=et.payments)==null?void 0:dt[0])==null?void 0:pt.method)!=="cod"&&jsxRuntimeExports.jsxs("button",{onClick:()=>lt(`/checkout/payment/${et.id}`),className:"flex items-center gap-2 px-8 py-2.5 bg-primary-600 text-white rounded-xl font-bold text-sm hover:bg-primary-700 transition-all shadow-lg shadow-primary-100 dark:shadow-none",children:[jsxRuntimeExports.jsx(CreditCard,{className:"w-4 h-4"}),"Thanh ton ngay"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"hidden print:block border-b-2 border-secondary-100 pb-6 mt-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-black italic",children:"FASHION STORE"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-secondary-500 uppercase",children:"Ha n bn hng"})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-secondary-800 border border-secondary-100 dark:border-secondary-700 rounded-3xl p-6 md:p-8 shadow-sm mb-6 transition-colors print:hidden",children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-bold text-secondary-900 dark:text-white uppercase tracking-widest mb-10",children:"Trng thi vn chuyn"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute top-[18px] left-[5%] right-[5%] h-1 bg-secondary-50 dark:bg-secondary-700 rounded-full",children:jsxRuntimeExports.jsx("div",{className:"h-full bg-primary-600 transition-all duration-1000",style:{width:`${(ct.filter($t=>$t.completed).length-1)*33.33}%`}})}),jsxRuntimeExports.jsx("div",{className:"relative flex justify-between",children:ct.map(($t,Ft)=>jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center text-center max-w-[100px]",children:[jsxRuntimeExports.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center z-10 border-4 transition-all duration-500 ${$t.completed?"bg-primary-600 border-primary-100 dark:border-primary-900 text-white shadow-lg shadow-primary-100 dark:shadow-none":"bg-white dark:bg-secondary-700 border-secondary-50 dark:border-secondary-700 text-secondary-200 dark:text-secondary-500"}`,children:jsxRuntimeExports.jsx($t.icon,{className:"w-4 h-4"})}),jsxRuntimeExports.jsxs("div",{className:"mt-4",children:[jsxRuntimeExports.jsx("p",{className:`text-xs font-bold leading-tight mb-1 ${$t.completed?"text-secondary-900 dark:text-white":"text-secondary-300"}`,children:$t.label}),jsxRuntimeExports.jsx("p",{className:"text-[10px] text-secondary-400 font-medium",children:$t.date})]})]},Ft))})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-secondary-800 border border-secondary-100 dark:border-secondary-700 rounded-3xl p-6 shadow-sm transition-colors print:border-none print:shadow-none",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[jsxRuntimeExports.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 rounded-lg",children:jsxRuntimeExports.jsx(MapPin,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("h4",{className:"text-xs font-bold text-secondary-900 dark:text-white uppercase tracking-widest",children:"a ch nhn hng"})]}),jsxRuntimeExports.jsxs("div",{className:"text-sm",children:[jsxRuntimeExports.jsx("p",{className:"font-bold text-secondary-900 dark:text-white mb-2",children:et.customer_name}),jsxRuntimeExports.jsxs("p",{className:"text-secondary-500 dark:text-secondary-400 leading-relaxed",children:[et.ship_address_line1,jsxRuntimeExports.jsx("br",{}),et.ship_city,", ",et.ship_province,jsxRuntimeExports.jsx("br",{}),"Vit Nam"]}),jsxRuntimeExports.jsx("p",{className:"mt-3 text-secondary-700 dark:text-secondary-300 font-medium",children:et.customer_phone})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-secondary-800 border border-secondary-100 dark:border-secondary-700 rounded-3xl p-6 shadow-sm transition-colors print:border-none print:shadow-none",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[jsxRuntimeExports.jsx("div",{className:"p-2 bg-amber-50 dark:bg-amber-900/20 text-amber-600 dark:text-amber-400 rounded-lg",children:((xt=(mt=et.payments)==null?void 0:mt[0])==null?void 0:xt.method)==="cod"?jsxRuntimeExports.jsx(Banknote,{className:"w-4 h-4"}):((vt=(yt=et.payments)==null?void 0:yt[0])==null?void 0:vt.method)==="bank_transfer"?jsxRuntimeExports.jsx(Building2,{className:"w-4 h-4"}):jsxRuntimeExports.jsx(CreditCard,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("h4",{className:"text-xs font-bold text-secondary-900 dark:text-white uppercase tracking-widest",children:"Phng thc thanh ton"})]}),jsxRuntimeExports.jsxs("div",{className:"text-sm",children:[((Et=(gt=et.payments)==null?void 0:gt[0])==null?void 0:Et.method)==="cod"?jsxRuntimeExports.jsxs("div",{className:"py-1",children:[jsxRuntimeExports.jsx("p",{className:"font-bold text-secondary-900 dark:text-white mb-1",children:"Thanh ton khi nhn hng (COD)"}),jsxRuntimeExports.jsxs("p",{className:"text-secondary-400 dark:text-secondary-500 text-xs",children:["Vui lng chun b sn s tin ",jsxRuntimeExports.jsx("span",{className:"text-primary-600 font-bold",children:formatPrice(et.grand_total)})," khi nhn hng."]})]}):((kt=(jt=et.payments)==null?void 0:jt[0])==null?void 0:kt.method)==="bank_transfer"?jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx("p",{className:"font-bold text-secondary-900 dark:text-white mb-1",children:"Chuyn khon ngn hng"}),it?jsxRuntimeExports.jsxs("div",{className:"text-[11px] text-secondary-600 dark:text-secondary-400 leading-tight bg-secondary-50 dark:bg-secondary-900/40 p-2 rounded-lg border border-secondary-100 dark:border-secondary-800",children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Ngn hng:"})," ",it.payment_bank_id]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"S TK:"})," ",jsxRuntimeExports.jsx("span",{className:"select-all font-bold text-secondary-900 dark:text-white",children:it.payment_bank_account})]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Ch TK:"})," ",it.payment_bank_account_name]})]}):jsxRuntimeExports.jsx("p",{className:"text-secondary-400 text-xs italic",children:"ang ti thng tin chuyn khon..."})]}):((St=(Rt=et.payments)==null?void 0:Rt[0])==null?void 0:St.method)==="momo"||((Nt=(_t=et.payments)==null?void 0:_t[0])==null?void 0:Nt.method)==="vnpay"?jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 py-1",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 bg-secondary-50 dark:bg-secondary-900 rounded-lg flex items-center justify-center p-1.5 border border-secondary-100 dark:border-secondary-800",children:jsxRuntimeExports.jsx(Wallet,{className:"w-4 h-4 text-primary-500"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-bold text-secondary-900 dark:text-white uppercase",children:et.payments[0].method}),jsxRuntimeExports.jsx("p",{className:"text-[10px] text-emerald-500 font-bold",children:"Thanh ton trc tuyn"})]})]}):jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[jsxRuntimeExports.jsx("div",{className:"p-1 px-2 border dark:border-secondary-600 rounded text-[10px] font-bold text-secondary-400 dark:text-secondary-500 uppercase",children:"Thanh ton"}),jsxRuntimeExports.jsx("p",{className:"font-medium text-secondary-700 dark:text-secondary-200 tracking-wider uppercase",children:et.status==="paid"?" thanh ton":"Cha thanh ton"})]}),jsxRuntimeExports.jsx("p",{className:"text-secondary-400 dark:text-secondary-500 text-[10px] leading-relaxed mt-2 border-t border-secondary-50 dark:border-secondary-800 pt-2 italic",children:"a ch thanh ton trng khp vi a ch giao hng"})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-secondary-800 border border-secondary-100 dark:border-secondary-700 rounded-3xl p-6 shadow-sm transition-colors print:border-none print:shadow-none",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[jsxRuntimeExports.jsx("div",{className:"p-2 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 dark:text-indigo-400 rounded-lg",children:jsxRuntimeExports.jsx(Truck,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("h4",{className:"text-xs font-bold text-secondary-900 dark:text-white uppercase tracking-widest",children:"Vn chuyn"})]}),jsxRuntimeExports.jsxs("div",{className:"text-sm",children:[jsxRuntimeExports.jsx("p",{className:"font-bold text-secondary-900 dark:text-white mb-1",children:"Giao hng nhanh (2-4 ngy)"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-primary-600 dark:text-primary-400 font-bold mb-3",children:["M tra cu: FS-",et.order_code,jsxRuntimeExports.jsx(ExternalLink,{className:"w-3.5 h-3.5"})]}),jsxRuntimeExports.jsx("p",{className:"text-[10px] font-bold text-secondary-300 dark:text-secondary-600 uppercase tracking-widest",children:"Vn chuyn bi FASHION EXPRESS"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-secondary-800 border border-secondary-100 dark:border-secondary-700 rounded-3xl overflow-hidden shadow-sm mb-6 transition-colors print:border-none print:shadow-none",children:[jsxRuntimeExports.jsx("div",{className:"p-6 md:p-8 border-b border-secondary-50 dark:border-secondary-700",children:jsxRuntimeExports.jsx("h3",{className:"text-sm font-bold text-secondary-900 dark:text-white uppercase tracking-widest",children:"Sn phm trong n hng"})}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"w-full text-left font-inter",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-900/40 text-[10px] font-bold text-secondary-400 dark:text-secondary-500 uppercase tracking-widest print:bg-transparent",children:[jsxRuntimeExports.jsx("th",{className:"px-8 py-4",children:"Sn phm"}),jsxRuntimeExports.jsx("th",{className:"px-8 py-4 text-center",children:"S lng"}),jsxRuntimeExports.jsx("th",{className:"px-8 py-4 text-right",children:"n gi"}),jsxRuntimeExports.jsx("th",{className:"px-8 py-4 text-right",children:"Tng tin"})]})}),jsxRuntimeExports.jsx("tbody",{className:"divide-y divide-secondary-50 dark:divide-secondary-700",children:(Lt=et.order_items)==null?void 0:Lt.map($t=>{var Ft,Tt,Bt;return jsxRuntimeExports.jsxs("tr",{className:"group",children:[jsxRuntimeExports.jsx("td",{className:"px-8 py-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-white dark:bg-secondary-700 rounded-2xl overflow-hidden border border-secondary-100 dark:border-transparent flex-shrink-0 transition-colors",children:jsxRuntimeExports.jsx("img",{src:((Bt=(Tt=(Ft=$t.product)==null?void 0:Ft.product_images)==null?void 0:Tt[0])==null?void 0:Bt.url)||"/placeholder.jpg",alt:$t.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"})}),jsxRuntimeExports.jsxs("div",{className:"min-w-0",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-bold text-secondary-900 dark:text-white line-clamp-1 mb-1",children:$t.name}),jsxRuntimeExports.jsx("p",{className:"text-[10px] text-secondary-400 dark:text-secondary-500 font-medium uppercase tracking-tighter",children:$t.options_text})]})]})}),jsxRuntimeExports.jsx("td",{className:"px-8 py-6 text-center text-sm font-bold text-secondary-600 dark:text-secondary-400",children:$t.qty}),jsxRuntimeExports.jsx("td",{className:"px-8 py-6 text-right text-sm font-medium text-secondary-900 dark:text-white",children:formatPrice($t.unit_price)}),jsxRuntimeExports.jsx("td",{className:"px-8 py-6 text-right text-sm font-black text-secondary-900 dark:text-white",children:formatPrice($t.unit_price*$t.qty)})]},$t.id)})})]})})]}),jsxRuntimeExports.jsxs("div",{className:"grid md:grid-cols-12 gap-6 items-end",children:[jsxRuntimeExports.jsx("div",{className:"md:col-span-7 print:hidden",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("button",{className:"flex items-center justify-center gap-3 px-6 py-5 bg-white dark:bg-secondary-800 border border-secondary-200 dark:border-secondary-700 rounded-[2rem] font-bold text-sm text-secondary-700 dark:text-secondary-300 hover:border-primary-600 hover:text-primary-600 dark:hover:border-primary-400 dark:hover:text-primary-400 transition-all shadow-sm group",children:[jsxRuntimeExports.jsx(RotateCcw,{className:"w-5 h-5 group-hover:rotate-[-45deg] transition-transform"}),"Mua li n hng"]}),jsxRuntimeExports.jsxs("button",{className:"flex items-center justify-center gap-3 px-6 py-5 bg-white dark:bg-secondary-800 border border-secondary-200 dark:border-secondary-700 rounded-[2rem] font-bold text-sm text-secondary-700 dark:text-secondary-300 hover:border-primary-600 hover:text-primary-600 dark:hover:border-primary-400 dark:hover:text-primary-400 transition-all shadow-sm group",children:[jsxRuntimeExports.jsx(CircleHelp,{className:"w-5 h-5 group-hover:scale-110 transition-transform"}),"Cn tr gip?"]})]})}),jsxRuntimeExports.jsx("div",{className:"md:col-span-5",children:jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-secondary-800 border border-secondary-100 dark:border-secondary-700 rounded-3xl p-8 shadow-sm transition-colors print:border-none print:shadow-none",children:[jsxRuntimeExports.jsx("h4",{className:"text-xs font-bold text-secondary-900 dark:text-white uppercase tracking-widest mb-6 border-b border-secondary-50 dark:border-secondary-700 pb-4",children:"Tm tt n hng"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4 font-medium",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-secondary-400 dark:text-secondary-500",children:"Tm tnh:"}),jsxRuntimeExports.jsx("span",{className:"text-secondary-900 dark:text-white",children:formatPrice(et.subtotal)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-secondary-400 dark:text-secondary-500",children:"Ph vn chuyn d kin:"}),jsxRuntimeExports.jsx("span",{className:"text-secondary-900 dark:text-white",children:formatPrice(et.shipping_fee)})]}),et.discount_total>0&&jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm text-red-500 font-bold",children:[jsxRuntimeExports.jsx("span",{children:"Gim gi:"}),jsxRuntimeExports.jsxs("span",{children:["-",formatPrice(et.discount_total)]})]}),jsxRuntimeExports.jsxs("div",{className:"pt-6 border-t border-secondary-50 dark:border-secondary-700 flex justify-between items-end",children:[jsxRuntimeExports.jsx("span",{className:"text-lg font-black text-secondary-900 dark:text-white uppercase italic tracking-tighter",children:"Tng cng"}),jsxRuntimeExports.jsx("span",{className:"text-3xl font-black text-primary-600 dark:text-primary-400 tracking-tighter",children:formatPrice(et.grand_total)})]})]})]})})]}),jsxRuntimeExports.jsx("div",{className:"mt-12 text-center text-[10px] font-bold text-secondary-300 dark:text-secondary-700 uppercase tracking-widest print:hidden",children:" 2024 Fashion Store Inc. Mi quyn c bo lu."})]})})]})}function PaymentReturnPage(){const[_e]=useSearchParams(),[et,rt]=reactExports.useState("loading"),[nt,st]=reactExports.useState("ang x l kt qu thanh ton..."),[it,at]=reactExports.useState(null);return reactExports.useEffect(()=>{const ot=async()=>{var lt,ct;try{const ut=Object.fromEntries(_e.entries()),dt=await paymentAPI.vnpayReturn(ut);dt.data.success?(rt("success"),st("Thanh ton thnh cng!"),at(dt.data.data.order_code)):(rt("failed"),st(dt.data.message||"Thanh ton tht bi"))}catch(ut){rt("failed"),st(((ct=(lt=ut.response)==null?void 0:lt.data)==null?void 0:ct.message)||"C li xy ra khi xc thc thanh ton")}};_e.toString()?ot():(rt("failed"),st("Khng tm thy thng tin thanh ton"))},[_e]),jsxRuntimeExports.jsx("div",{className:"min-h-[60vh] flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:jsxRuntimeExports.jsxs("div",{className:"max-w-md w-full space-y-8 text-center bg-white dark:bg-secondary-800 p-10 rounded-2xl shadow-xl",children:[et==="loading"&&jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"w-16 h-16 text-primary-600 animate-spin mb-4"}),jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-secondary-900 dark:text-white",children:"ang x l giao dch..."}),jsxRuntimeExports.jsx("p",{className:"text-secondary-500 mt-2",children:"Vui lng khng tt trnh duyt"})]}),et==="success"&&jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center animate-fade-in",children:[jsxRuntimeExports.jsx("div",{className:"w-20 h-20 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mb-6",children:jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-12 h-12 text-green-600 dark:text-green-400"})}),jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-secondary-900 dark:text-white mb-2",children:"Thanh ton thnh cng!"}),jsxRuntimeExports.jsxs("p",{className:"text-secondary-600 dark:text-secondary-300 mb-8",children:["Cm n bn  mua hng. M n hng ca bn l: ",jsxRuntimeExports.jsx("span",{className:"font-bold text-primary-600",children:it})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col w-full gap-3",children:[jsxRuntimeExports.jsxs(Link$1,{to:"/orders",className:"btn-primary w-full flex justify-center items-center gap-2",children:["Xem li n hng ",jsxRuntimeExports.jsx(ArrowRight,{className:"w-4 h-4"})]}),jsxRuntimeExports.jsx(Link$1,{to:"/",className:"btn-secondary w-full",children:"V trang ch"})]})]}),et==="failed"&&jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center animate-fade-in",children:[jsxRuntimeExports.jsx("div",{className:"w-20 h-20 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mb-6",children:jsxRuntimeExports.jsx(CircleX,{className:"w-12 h-12 text-red-600 dark:text-red-400"})}),jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-secondary-900 dark:text-white mb-2",children:"Thanh ton tht bi"}),jsxRuntimeExports.jsxs("p",{className:"text-secondary-600 dark:text-secondary-300 mb-8",children:[nt,". Vui lng th li hoc chn phng thc thanh ton khc."]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col w-full gap-3",children:[jsxRuntimeExports.jsx(Link$1,{to:"/checkout",className:"btn-primary w-full",children:"Th li"}),jsxRuntimeExports.jsx(Link$1,{to:"/",className:"btn-secondary w-full",children:"V trang ch"})]})]})]})})}function AboutPage(){return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Helmet,{children:jsxRuntimeExports.jsx("title",{children:"V chng ti - Fashion Store"})}),jsxRuntimeExports.jsxs("div",{className:"container-custom py-12",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-secondary-900 mb-8 text-center",children:"V Fashion Store"}),jsxRuntimeExports.jsxs("div",{className:"prose prose-lg mx-auto text-secondary-600",children:[jsxRuntimeExports.jsxs("p",{children:["Cho mng bn n vi ",jsxRuntimeExports.jsx("strong",{children:"Fashion Store"}),", im n thi trang phong cch v hin i. Chng ti tin rng thi trang khng ch l trang phc m cn l cch bn th hin c tnh ring."]}),jsxRuntimeExports.jsx("h2",{className:"text-secondary-800",children:"S mnh ca chng ti"}),jsxRuntimeExports.jsx("p",{children:"Mang n nhng sn phm thi trang cht lng cao vi mc gi hp l, gip mi ngi t tin ta sng mi ngy. Chng ti cam kt v cht lng vi, ng may v thit k lun cp nht xu hng mi nht."}),jsxRuntimeExports.jsx("h2",{className:"text-secondary-800",children:"Ti sao chn chng ti?"}),jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"Cht lng m bo:"})," Kim tra nghim ngt tng sn phm."]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"Giao hng nhanh chng:"})," i ng vn chuyn chuyn nghip."]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"H tr tn tm:"})," Lun lng nghe v gii quyt mi thc mc ca khch hng."]})]})]})]})]})}function ContactPage(){return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Helmet,{children:jsxRuntimeExports.jsx("title",{children:"Lin h - Fashion Store"})}),jsxRuntimeExports.jsxs("div",{className:"container-custom py-12",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-secondary-900 mb-8 text-center",children:"Lin h vi chng ti"}),jsxRuntimeExports.jsxs("div",{className:"grid md:grid-cols-2 gap-12 max-w-4xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-secondary-800",children:"Thng tin lin lc"}),jsxRuntimeExports.jsx("p",{className:"text-secondary-600",children:"Chng ti lun sn sng lng nghe  kin ng gp ca bn. Hy lin h vi chng ti qua cc knh sau:"}),jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-4",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-primary-50 rounded-full flex items-center justify-center flex-shrink-0",children:jsxRuntimeExports.jsx(MapPin,{className:"w-5 h-5 text-primary-600"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-secondary-900",children:"a ch"}),jsxRuntimeExports.jsx("p",{className:"text-secondary-600",children:"123 ng Fashion, Qun 1, TP. H Ch Minh"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-4",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-primary-50 rounded-full flex items-center justify-center flex-shrink-0",children:jsxRuntimeExports.jsx(Phone,{className:"w-5 h-5 text-primary-600"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-secondary-900",children:"Hotline"}),jsxRuntimeExports.jsx("p",{className:"text-secondary-600",children:"1900 xxxx"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-4",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-primary-50 rounded-full flex items-center justify-center flex-shrink-0",children:jsxRuntimeExports.jsx(Mail,{className:"w-5 h-5 text-primary-600"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-secondary-900",children:"Email"}),jsxRuntimeExports.jsx("p",{className:"text-secondary-600",children:"support@fashionstore.com"})]})]})]}),jsxRuntimeExports.jsx("div",{className:"card p-6",children:jsxRuntimeExports.jsxs("form",{className:"space-y-4",onSubmit:_e=>{_e.preventDefault(),alert("Cm n bn  lin h!")},children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"H v tn"}),jsxRuntimeExports.jsx("input",{type:"text",className:"input",placeholder:"Nhp h tn ca bn",required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Email"}),jsxRuntimeExports.jsx("input",{type:"email",className:"input",placeholder:"Nhp email ca bn",required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Ni dung"}),jsxRuntimeExports.jsx("textarea",{className:"input rounded-2xl",rows:4,placeholder:"Nhp ni dung cn h tr",required:!0})]}),jsxRuntimeExports.jsx("button",{type:"submit",className:"btn btn-primary w-full rounded-full",children:"Gi tin nhn"})]})})]})]})]})}function PolicyPage(){return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Helmet,{children:jsxRuntimeExports.jsx("title",{children:"Chnh sch - Fashion Store"})}),jsxRuntimeExports.jsxs("div",{className:"container-custom py-12",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-secondary-900 mb-8 text-center",children:"Chnh sch ca hng"}),jsxRuntimeExports.jsxs("div",{className:"prose prose-lg mx-auto text-secondary-600",children:[jsxRuntimeExports.jsx("h2",{className:"text-secondary-800",children:"1. Chnh sch i tr"}),jsxRuntimeExports.jsxs("p",{children:["Chng ti h tr i tr sn phm trong vng ",jsxRuntimeExports.jsx("strong",{children:"30 ngy"})," k t ngy nhn hng vi iu kin:"]}),jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsx("li",{children:"Sn phm cn nguyn tem mc, cha qua s dng."}),jsxRuntimeExports.jsx("li",{children:"C ha n mua hng."}),jsxRuntimeExports.jsx("li",{children:"Sn phm b li do nh sn xut hoc giao sai mu."})]}),jsxRuntimeExports.jsx("h2",{className:"text-secondary-800",children:"2. Chnh sch bo mt"}),jsxRuntimeExports.jsx("p",{children:"Fashion Store cam kt bo mt thng tin c nhn ca khch hng. Chng ti ch s dng thng tin :"}),jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsx("li",{children:"X l n hng v giao nhn."}),jsxRuntimeExports.jsx("li",{children:"Gi thng tin khuyn mi (nu khch hng ng k)."}),jsxRuntimeExports.jsx("li",{children:"Nng cao cht lng dch v."})]}),jsxRuntimeExports.jsx("h2",{className:"text-secondary-800",children:"3. Chnh sch vn chuyn"}),jsxRuntimeExports.jsxs("p",{children:["- Ph ni thnh TP.HCM: 25.000",jsxRuntimeExports.jsx("br",{}),"- Ph ngoi thnh v cc tnh khc: 35.000",jsxRuntimeExports.jsx("br",{}),"- ",jsxRuntimeExports.jsx("strong",{children:"Min ph vn chuyn"})," cho n hng t 500.000."]})]})]})]})}function ProfilePage(){const{user:_e,updateUser:et}=useAuth(),[rt,nt]=reactExports.useState(!1),[st,it]=reactExports.useState([]),[at,ot]=reactExports.useState(!1),[lt,ct]=reactExports.useState(!1),[ut,dt]=reactExports.useState(!1),[pt,mt]=reactExports.useState(null),[xt,yt]=reactExports.useState({full_name:"",phone:"",address_line1:"",city:"",province:""}),[vt,gt]=reactExports.useState({current_password:"",new_password:"",confirm_password:""}),[Et,jt]=reactExports.useState({type:"Nh ring",full_name:"",phone:"",address_line1:"",city:"",province:"",is_default:!1}),[kt,Rt]=reactExports.useState([]);reactExports.useEffect(()=>{_e&&(yt({full_name:_e.full_name||"",phone:_e.phone||"",address_line1:_e.address_line1||"",city:_e.city||"",province:_e.province||""}),St())},[_e]);const St=async()=>{try{const[Dt,Pt]=await Promise.all([authAPI.getActivity(),authAPI.getAddresses()]);it(Dt.data.data),Rt(Pt.data.data)}catch(Dt){console.error("Failed to fetch profile data",Dt),n$8.error("Khng th ti d liu c nhn")}},_t=async Dt=>{try{await authAPI.setDefaultAddress(Dt),n$8.success(" t lm a ch mc nh");const Pt=await authAPI.getMe();et(Pt.data.data),St()}catch{n$8.error("Li khi t a ch mc nh")}},Nt=async Dt=>{var It;const Pt=(It=Dt.target.files)==null?void 0:It[0];if(Pt){if(Pt.size>5*1024*1024){n$8.error("Kch thc nh khng c vt qu 5MB");return}nt(!0);try{const Ht=(await uploadAPI.single(Pt)).data.data.url,Gt=await authAPI.updateProfile({...xt,avatar_url:Ht});et(Gt.data.data),n$8.success("Cp nht nh i din thnh cng")}catch(At){console.error("Avatar upload error:",At),n$8.error("Li khi ti ln nh i din")}finally{nt(!1),Dt.target.value=""}}},Lt=async Dt=>{if(confirm("Bn c chc chn mun xa a ch ny?"))try{await authAPI.deleteAddress(Dt),Rt(Pt=>Pt.filter(It=>It.id!==Dt)),n$8.success(" xa a ch")}catch{n$8.error("Li khi xa a ch")}},$t=async Dt=>{var Pt,It,At;Dt.preventDefault(),nt(!0);try{const Ht=await authAPI.updateProfile(xt);n$8.success("Cp nht thng tin thnh cng"),ot(!1),et(Ht.data.data)}catch(Ht){n$8.error(((At=(It=(Pt=Ht.response)==null?void 0:Pt.data)==null?void 0:It.error)==null?void 0:At.message)||"Li cp nht thng tin")}finally{nt(!1)}},Ft=async Dt=>{try{nt(!0);const Pt=await authAPI.toggle2FA(Dt);n$8.success(Pt.data.message),_e&&et({..._e,two_factor_enabled:Dt})}catch{n$8.error("Li khi cp nht trng thi 2FA")}finally{nt(!1)}},Tt=async Dt=>{var Pt,It,At;if(Dt.preventDefault(),vt.new_password!==vt.confirm_password){n$8.error("Mt khu mi khng khp");return}nt(!0);try{await authAPI.changePassword({current_password:vt.current_password,new_password:vt.new_password}),n$8.success("i mt khu thnh cng"),dt(!1),gt({current_password:"",new_password:"",confirm_password:""})}catch(Ht){n$8.error(((At=(It=(Pt=Ht.response)==null?void 0:Pt.data)==null?void 0:It.error)==null?void 0:At.message)||"Li i mt khu")}finally{nt(!1)}},Bt=async Dt=>{Dt.preventDefault(),nt(!0);try{pt&&pt.id?await authAPI.updateAddress(pt.id,Et):await authAPI.addAddress(Et),n$8.success(pt?"Cp nht a ch thnh cng":"Thm a ch mi thnh cng"),ct(!1);const Pt=await authAPI.getMe();et(Pt.data.data),St()}catch{n$8.error("Li khi lu a ch")}finally{nt(!1)}},Wt=Dt=>{Dt?(mt(Dt),jt(Dt)):(mt(null),jt({type:"Nh ring",full_name:(_e==null?void 0:_e.full_name)||"",phone:(_e==null?void 0:_e.phone)||"",address_line1:"",city:"",province:"",is_default:!1})),ct(!0)},qt=Dt=>{switch(Dt){case"login":return jsxRuntimeExports.jsx(Key,{className:"w-4 h-4 text-amber-500"});case"order_placed":return jsxRuntimeExports.jsx(Package,{className:"w-4 h-4 text-blue-500"});case"profile_updated":return jsxRuntimeExports.jsx(User,{className:"w-4 h-4 text-emerald-500"});default:return jsxRuntimeExports.jsx(Clock,{className:"w-4 h-4 text-secondary-400"})}},Ot=Dt=>{var Pt;switch(Dt.action){case"login":return"ng nhp vo h thng";case"order_placed":return` t n hng mi #${((Pt=Dt.details)==null?void 0:Pt.order_code)||""}`;case"profile_updated":return" cp nht thng tin c nhn";case"password_changed":return" thay i mt khu";default:return Dt.action}};return _e?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Helmet,{children:jsxRuntimeExports.jsx("title",{children:"H s c nhn - Fashion Store"})}),jsxRuntimeExports.jsx("div",{className:"bg-secondary-50 dark:bg-secondary-900 min-h-screen py-8 md:py-12 transition-colors duration-300 font-inter",children:jsxRuntimeExports.jsxs("div",{className:"container-custom max-w-5xl",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6 mb-10",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-black text-secondary-900 dark:text-white uppercase italic tracking-tighter mb-1",children:"H s ti khon"}),jsxRuntimeExports.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 font-medium",children:"Qun l thng tin c nhn, a ch lin lc v bo mt ti khon."})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>dt(!0),className:"flex items-center gap-2 px-6 py-3 bg-white dark:bg-secondary-800 border border-secondary-200 dark:border-secondary-700 rounded-2xl text-sm font-bold text-secondary-700 dark:text-secondary-300 hover:bg-secondary-50 dark:hover:bg-secondary-700 transition-all shadow-sm",children:[jsxRuntimeExports.jsx(ShieldCheck,{className:"w-4 h-4 text-primary-600"}),"Bo mt & Mt khu"]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-8",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-secondary-800 border border-secondary-100 dark:border-secondary-700 rounded-[2.5rem] p-8 shadow-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-8",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-secondary-900 dark:text-white flex items-center gap-3",children:"Thng tin c nhn"}),!at&&jsxRuntimeExports.jsxs("button",{onClick:()=>ot(!0),className:"text-sm font-bold text-primary-600 hover:text-primary-700 flex items-center gap-1 uppercase tracking-widest",children:[jsxRuntimeExports.jsx(Pen,{className:"w-4 h-4"}),"Chnh sa"]})]}),jsxRuntimeExports.jsxs("div",{className:"grid md:grid-cols-12 gap-10",children:[jsxRuntimeExports.jsx("div",{className:"md:col-span-3 flex flex-col items-center",children:jsxRuntimeExports.jsxs("div",{className:"relative group",children:[jsxRuntimeExports.jsx("div",{className:"w-32 h-32 rounded-3xl bg-primary-100 dark:bg-secondary-700 overflow-hidden border-4 border-white dark:border-secondary-600 shadow-xl flex items-center justify-center",children:rt&&!at?jsxRuntimeExports.jsx(LoaderCircle,{className:"w-8 h-8 animate-spin text-primary-600"}):_e.avatar_url?jsxRuntimeExports.jsx("img",{src:_e.avatar_url,alt:_e.full_name||_e.username,className:"w-full h-full object-cover"}):_e.full_name?jsxRuntimeExports.jsx("span",{className:"text-4xl font-black text-primary-600 dark:text-white italic",children:_e.full_name.charAt(0).toUpperCase()}):jsxRuntimeExports.jsx(User,{className:"w-16 h-16 text-primary-500"})}),jsxRuntimeExports.jsxs("label",{className:`absolute -bottom-2 -right-2 p-2.5 bg-white dark:bg-secondary-900 rounded-2xl shadow-lg text-secondary-600 dark:text-secondary-400 hover:text-primary-600 transition-all border border-secondary-100 dark:border-secondary-700 cursor-pointer ${rt?"opacity-50 pointer-events-none":""}`,children:[jsxRuntimeExports.jsx(Camera,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:Nt,disabled:rt})]})]})}),jsxRuntimeExports.jsx("div",{className:"md:col-span-9",children:at?jsxRuntimeExports.jsxs("form",{onSubmit:$t,className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"text-xs font-bold uppercase tracking-widest text-secondary-400",children:"H v tn"}),jsxRuntimeExports.jsx("input",{type:"text",required:!0,value:xt.full_name,onChange:Dt=>yt({...xt,full_name:Dt.target.value}),className:"w-full px-5 py-3 rounded-2xl bg-secondary-50 dark:bg-secondary-900 border border-secondary-100 dark:border-secondary-700 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 outline-none",placeholder:"Alex Johnson"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"text-xs font-bold uppercase tracking-widest text-secondary-400",children:"S in thoi"}),jsxRuntimeExports.jsx("input",{type:"tel",value:xt.phone,onChange:Dt=>yt({...xt,phone:Dt.target.value}),className:"w-full px-5 py-3 rounded-2xl bg-secondary-50 dark:bg-secondary-900 border border-secondary-100 dark:border-secondary-700 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 outline-none",placeholder:"+1 (555) 123-4567"})]}),jsxRuntimeExports.jsxs("div",{className:"md:col-span-2 flex justify-end gap-3 pt-4",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>ot(!1),className:"px-6 py-3 rounded-2xl text-sm font-bold text-secondary-500 hover:bg-secondary-50 dark:hover:bg-secondary-900 transition-all",children:"Hy b"}),jsxRuntimeExports.jsxs("button",{type:"submit",disabled:rt,className:"btn btn-primary px-8 py-3 rounded-2xl flex items-center gap-2 shadow-lg shadow-primary-200 dark:shadow-none",children:[rt?jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin"}):jsxRuntimeExports.jsx(Save,{className:"w-4 h-4"}),"Lu thng tin"]})]})]}):jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-y-8",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-secondary-400",children:"H v tn"}),jsxRuntimeExports.jsx("p",{className:"text-lg font-bold text-secondary-900 dark:text-white",children:_e.full_name||"Cha cp nht"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-secondary-400",children:"a ch Email"}),jsxRuntimeExports.jsx("p",{className:"text-lg font-bold text-secondary-900 dark:text-white",children:_e.email})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-secondary-400",children:"S in thoi"}),jsxRuntimeExports.jsx("p",{className:"text-lg font-bold text-secondary-900 dark:text-white",children:_e.phone||"Cha cp nht"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-secondary-400",children:"Thnh vin t"}),jsxRuntimeExports.jsx("p",{className:"text-lg font-bold text-secondary-900 dark:text-white",children:new Date(_e.created_at).toLocaleDateString("vi-VN",{month:"long",day:"numeric",year:"numeric"})})]})]})})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-6 px-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-secondary-900 dark:text-white flex items-center gap-3",children:"a ch nhn hng"}),jsxRuntimeExports.jsxs("button",{onClick:()=>Wt(),className:"btn btn-primary rounded-2xl px-5 py-2.5 text-xs flex items-center gap-2",children:[jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4"}),"THM MI"]})]}),jsxRuntimeExports.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:kt.map(Dt=>jsxRuntimeExports.jsxs("div",{className:`group bg-white dark:bg-secondary-800 border-2 ${Dt.is_default?"border-primary-500 dark:border-primary-600":"border-secondary-100 dark:border-secondary-700"} rounded-[2rem] p-8 shadow-md relative overflow-hidden hover:shadow-xl transition-all duration-500`,children:[Dt.is_default&&jsxRuntimeExports.jsx("div",{className:"absolute top-6 right-6 px-3 py-1 bg-primary-100 dark:bg-primary-900/40 text-primary-600 dark:text-primary-400 text-[10px] font-black uppercase tracking-widest rounded-full",children:"Mc nh"}),jsxRuntimeExports.jsx("div",{className:`w-12 h-12 ${Dt.is_default?"bg-primary-50 dark:bg-primary-900/20 text-primary-600":"bg-secondary-50 dark:bg-secondary-900 text-secondary-400 group-hover:bg-primary-50 group-hover:text-primary-600"} rounded-2xl flex items-center justify-center transition-colors mb-6`,children:Dt.type==="Nh ring"?jsxRuntimeExports.jsx(House,{className:"w-6 h-6"}):jsxRuntimeExports.jsx(Building,{className:"w-6 h-6"})}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-black text-secondary-900 dark:text-white mb-3",children:Dt.type}),jsxRuntimeExports.jsxs("p",{className:"text-secondary-500 dark:text-secondary-400 text-sm leading-relaxed mb-6",children:[jsxRuntimeExports.jsx("span",{className:"font-bold text-secondary-700 dark:text-secondary-300",children:Dt.full_name})," - ",Dt.phone,jsxRuntimeExports.jsx("br",{}),Dt.address_line1,", ",Dt.city,", ",Dt.province,", Vit Nam"]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 pt-4 border-t border-secondary-50 dark:border-secondary-700",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Wt(Dt),className:"text-xs font-bold text-secondary-900 dark:text-white hover:text-primary-600 transition-colors",children:"Sa"}),!Dt.is_default&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("button",{onClick:()=>Lt(Dt.id),className:"text-xs font-bold text-secondary-400 hover:text-accent-red transition-colors",children:"Xa"}),jsxRuntimeExports.jsx("button",{onClick:()=>_t(Dt.id),className:"text-xs font-bold text-primary-600 ml-auto opacity-0 group-hover:opacity-100 transition-opacity",children:"t mc nh"})]})]})]},Dt.id))})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-secondary-800 border border-secondary-100 dark:border-secondary-700 rounded-[2.5rem] p-8 shadow-sm",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between mb-8",children:jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-secondary-900 dark:text-white flex items-center gap-3",children:"Hot ng gn y"})}),jsxRuntimeExports.jsx("div",{className:"space-y-6",children:st.length>0?st.map(Dt=>jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-5 group",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-2xl bg-secondary-50 dark:bg-secondary-900 flex items-center justify-center group-hover:bg-primary-50 dark:group-hover:bg-primary-900/20 transition-colors",children:qt(Dt.action)}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between gap-2",children:[jsxRuntimeExports.jsx("h4",{className:"text-sm font-bold text-secondary-900 dark:text-white truncate",children:Ot(Dt)}),jsxRuntimeExports.jsx("span",{className:"text-[11px] text-secondary-400 whitespace-nowrap",children:new Date(Dt.created_at).toLocaleDateString("vi-VN")})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-secondary-500 dark:text-secondary-400 mt-0.5",children:Dt.action==="login"?"Truy cp t trnh duyt Chrome (Windows)":"Thng tin ti khon  c thay i."})]})]},Dt.id)):jsxRuntimeExports.jsx("div",{className:"text-center py-10",children:jsxRuntimeExports.jsx("p",{className:"text-secondary-400 text-sm italic",children:"Cha c hot ng no c ghi li."})})}),jsxRuntimeExports.jsxs("button",{className:"w-full mt-8 py-4 bg-secondary-50 dark:bg-secondary-900 rounded-2xl text-[11px] font-black uppercase tracking-widest text-secondary-400 hover:text-primary-600 hover:bg-primary-50 dark:hover:bg-primary-900/20 transition-all flex items-center justify-center gap-2",children:["Xem tt c hot ng",jsxRuntimeExports.jsx(ChevronRight,{className:"w-4 h-4"})]})]})]})]})}),lt&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-secondary-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-secondary-800 w-full max-w-lg rounded-[2.5rem] p-8 shadow-2xl border border-secondary-100 dark:border-secondary-700 animate-in zoom-in-95 duration-300",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-8",children:[jsxRuntimeExports.jsxs("h3",{className:"text-xl font-black text-secondary-900 dark:text-white flex items-center gap-3",children:[jsxRuntimeExports.jsx(MapPin,{className:"w-6 h-6 text-primary-600"}),pt?"Chnh sa a ch":"Thm a ch mi"]}),jsxRuntimeExports.jsx("button",{onClick:()=>ct(!1),className:"p-2 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-xl transition-all",children:jsxRuntimeExports.jsx(X$2,{className:"w-5 h-5"})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:Bt,className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-secondary-400",children:"Loi a ch"}),jsxRuntimeExports.jsxs("select",{value:Et.type,onChange:Dt=>jt({...Et,type:Dt.target.value}),className:"w-full px-5 py-3 rounded-2xl bg-secondary-50 dark:bg-secondary-900 border border-secondary-100 dark:border-secondary-700 outline-none",children:[jsxRuntimeExports.jsx("option",{value:"Nh ring",children:"Nh ring"}),jsxRuntimeExports.jsx("option",{value:"Vn phng",children:"Vn phng"})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-secondary-400",children:"H v tn"}),jsxRuntimeExports.jsx("input",{type:"text",required:!0,value:Et.full_name,onChange:Dt=>jt({...Et,full_name:Dt.target.value}),className:"w-full px-5 py-3 rounded-2xl bg-secondary-50 dark:bg-secondary-900 border border-secondary-100 dark:border-secondary-700 outline-none"})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-secondary-400",children:"S in thoi"}),jsxRuntimeExports.jsx("input",{type:"tel",required:!0,value:Et.phone,onChange:Dt=>jt({...Et,phone:Dt.target.value}),className:"w-full px-5 py-3 rounded-2xl bg-secondary-50 dark:bg-secondary-900 border border-secondary-100 dark:border-secondary-700 outline-none"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-secondary-400",children:"a ch c th"}),jsxRuntimeExports.jsx("input",{type:"text",required:!0,value:Et.address_line1,onChange:Dt=>jt({...Et,address_line1:Dt.target.value}),className:"w-full px-5 py-3 rounded-2xl bg-secondary-50 dark:bg-secondary-900 border border-secondary-100 dark:border-secondary-700 outline-none",placeholder:"S nh, tn ng..."})]}),jsxRuntimeExports.jsx("div",{className:"mt-4",children:jsxRuntimeExports.jsx(AddressSelector,{province:Et.province,district:Et.city,onChange:Dt=>jt({...Et,province:Dt.province,city:Dt.district})})}),jsxRuntimeExports.jsxs("button",{type:"submit",disabled:rt,className:"w-full py-4 bg-primary-600 hover:bg-primary-700 text-white rounded-2xl font-black uppercase tracking-widest transition-all shadow-xl shadow-primary-200 dark:shadow-none flex items-center justify-center gap-2",children:[rt?jsxRuntimeExports.jsx(LoaderCircle,{className:"w-5 h-5 animate-spin"}):jsxRuntimeExports.jsx(Save,{className:"w-5 h-5"}),"Lu a ch"]})]})]})}),ut&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-secondary-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-secondary-800 w-full max-w-md rounded-[2.5rem] p-8 shadow-2xl border border-secondary-100 dark:border-secondary-700 animate-in zoom-in-95 duration-300",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-8",children:[jsxRuntimeExports.jsxs("h3",{className:"text-xl font-black text-secondary-900 dark:text-white flex items-center gap-3",children:[jsxRuntimeExports.jsx(Lock,{className:"w-6 h-6 text-primary-600"}),"Bo mt ti khon"]}),jsxRuntimeExports.jsx("button",{onClick:()=>dt(!1),className:"p-2 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-xl transition-all",children:jsxRuntimeExports.jsx(X$2,{className:"w-5 h-5"})})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx("div",{className:"p-5 rounded-2xl bg-secondary-50 dark:bg-secondary-900 border border-secondary-100 dark:border-secondary-700",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 dark:bg-blue-900/30 text-blue-600 flex items-center justify-center",children:jsxRuntimeExports.jsx(ShieldCheck,{className:"w-5 h-5"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-bold text-secondary-900 dark:text-white",children:"Xc thc 2 bc (2FA)"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-secondary-500 dark:text-secondary-400",children:"Nhn m OTP qua email khi ng nhp"})]})]}),jsxRuntimeExports.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",className:"sr-only peer",checked:(_e==null?void 0:_e.two_factor_enabled)||!1,onChange:Dt=>Ft(Dt.target.checked),disabled:rt}),jsxRuntimeExports.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]})}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 flex items-center",children:jsxRuntimeExports.jsx("div",{className:"w-full border-t border-secondary-200 dark:border-secondary-700"})}),jsxRuntimeExports.jsx("div",{className:"relative flex justify-center text-xs",children:jsxRuntimeExports.jsx("span",{className:"px-2 bg-white dark:bg-secondary-800 text-secondary-500 uppercase tracking-widest font-bold",children:"i mt khu"})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:Tt,className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-secondary-400",children:"Mt khu hin ti"}),jsxRuntimeExports.jsx("input",{type:"password",required:!0,value:vt.current_password,onChange:Dt=>gt({...vt,current_password:Dt.target.value}),className:"w-full px-5 py-3 rounded-2xl bg-secondary-50 dark:bg-secondary-900 border border-secondary-100 dark:border-secondary-700 outline-none"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-secondary-400",children:"Mt khu mi"}),jsxRuntimeExports.jsx("input",{type:"password",required:!0,minLength:6,value:vt.new_password,onChange:Dt=>gt({...vt,new_password:Dt.target.value}),className:"w-full px-5 py-3 rounded-2xl bg-secondary-50 dark:bg-secondary-900 border border-secondary-100 dark:border-secondary-700 outline-none"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-secondary-400",children:"Xc nhn mt khu mi"}),jsxRuntimeExports.jsx("input",{type:"password",required:!0,minLength:6,value:vt.confirm_password,onChange:Dt=>gt({...vt,confirm_password:Dt.target.value}),className:"w-full px-5 py-3 rounded-2xl bg-secondary-50 dark:bg-secondary-900 border border-secondary-100 dark:border-secondary-700 outline-none"})]}),jsxRuntimeExports.jsxs("button",{type:"submit",disabled:rt,className:"w-full py-4 bg-secondary-900 dark:bg-white hover:bg-black dark:hover:bg-secondary-200 text-white dark:text-secondary-900 rounded-2xl font-black uppercase tracking-widest transition-all shadow-xl shadow-secondary-200 dark:shadow-none flex items-center justify-center gap-2",children:[rt?jsxRuntimeExports.jsx(LoaderCircle,{className:"w-5 h-5 animate-spin"}):jsxRuntimeExports.jsx(Save,{className:"w-5 h-5"}),"Cp nht mt khu"]})]})]})]})})]}):null}function WishlistPage(){const{wishlist:_e,removeFromWishlist:et,loading:rt}=useWishlist(),{addToCart:nt}=useCart(),[st,it]=reactExports.useState(!1),at=async()=>{if(_e.length!==0){it(!0);try{for(const ot of _e)ot.stock_qty>0&&ot.variant_id&&await nt(parseInt(ot.variant_id),1);n$8.success(" chuyn tt c sn phm cn hng vo gi hng")}catch{n$8.error("C li khi chuyn sn phm vo gi hng")}finally{it(!1)}}};return rt?jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-secondary-50 dark:bg-secondary-900 flex items-center justify-center",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Helmet,{children:jsxRuntimeExports.jsx("title",{children:"Sn phm yu thch - Fashion Store"})}),jsxRuntimeExports.jsx("div",{className:"bg-secondary-50 dark:bg-secondary-900 min-h-screen py-8 md:py-12 transition-colors duration-300 font-inter",children:jsxRuntimeExports.jsxs("div",{className:"container-custom max-w-7xl",children:[jsxRuntimeExports.jsxs("nav",{className:"mb-8 flex items-center gap-2 text-xs font-bold uppercase tracking-widest text-secondary-400 dark:text-secondary-500",children:[jsxRuntimeExports.jsx(Link$1,{to:"/",className:"hover:text-primary-600 transition-colors",children:"Trang ch"}),jsxRuntimeExports.jsx(ChevronRight,{className:"w-3 h-3"}),jsxRuntimeExports.jsx("span",{className:"text-secondary-900 dark:text-white",children:"Sn phm yu thch"})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6 mb-10",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl md:text-4xl font-black text-secondary-900 dark:text-white uppercase italic tracking-tighter mb-2",children:"Danh sch yu thch"}),jsxRuntimeExports.jsxs("p",{className:"text-secondary-500 dark:text-secondary-400 font-medium",children:["Bn ang c ",jsxRuntimeExports.jsxs("span",{className:"text-primary-600 dark:text-primary-400 font-bold",children:[_e.length," sn phm"]})," c lu li."]})]}),_e.length>0&&jsxRuntimeExports.jsxs("button",{onClick:at,disabled:st,className:"btn btn-primary rounded-full px-8 py-4 flex items-center gap-2 shadow-lg shadow-primary-100 dark:shadow-none hover:scale-105 transition-transform disabled:opacity-50",children:[jsxRuntimeExports.jsx(ShoppingCart,{className:"w-5 h-5"}),st?"ang chuyn...":"Chuyn tt c vo gi"]})]}),_e.length===0?jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-secondary-800 border border-secondary-100 dark:border-secondary-700 rounded-[2.5rem] py-24 text-center shadow-sm",children:[jsxRuntimeExports.jsx("div",{className:"w-20 h-20 bg-secondary-50 dark:bg-secondary-900 rounded-full flex items-center justify-center mx-auto mb-6 text-secondary-200 dark:text-secondary-700",children:jsxRuntimeExports.jsx(Heart,{className:"w-10 h-10"})}),jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-secondary-900 dark:text-white mb-2",children:"Cha c sn phm no"}),jsxRuntimeExports.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 mb-8 max-w-sm mx-auto",children:"Hy do quanh ca hng v chn nhng mn  bn yu thch nht nh!"}),jsxRuntimeExports.jsx(Link$1,{to:"/shop",className:"btn btn-primary rounded-full px-12",children:"Khm ph ngay"})]}):jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-20",children:_e.map(ot=>jsxRuntimeExports.jsxs("div",{className:"group bg-white dark:bg-secondary-800 border border-secondary-100 dark:border-secondary-700 rounded-[2rem] overflow-hidden shadow-sm hover:shadow-xl transition-all duration-500 relative flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"aspect-[4/5] overflow-hidden relative",children:[jsxRuntimeExports.jsx("img",{src:ot.image||"/placeholder.jpg",alt:ot.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"}),jsxRuntimeExports.jsx("button",{onClick:()=>et(ot.product_id),className:"absolute top-4 right-4 p-2.5 bg-white/90 dark:bg-secondary-900/90 backdrop-blur-sm rounded-full text-secondary-400 hover:text-accent-red hover:scale-110 transition-all shadow-lg z-10",title:"Xa khi yu thch",children:jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("div",{className:`absolute top-4 left-4 px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-widest z-10 shadow-sm ${ot.stock_qty>0?"bg-emerald-500 text-white":"bg-rose-500 text-white"}`,children:ot.stock_qty>0?`Cn ${ot.stock_qty} SP`:"Ht hng"})]}),jsxRuntimeExports.jsxs("div",{className:"p-6 flex flex-col flex-1",children:[jsxRuntimeExports.jsx(Link$1,{to:`/products/${ot.slug}`,className:"block mb-2",children:jsxRuntimeExports.jsx("h3",{className:"text-sm font-bold text-secondary-900 dark:text-white line-clamp-2 hover:text-primary-600 transition-colors",children:ot.name})}),jsxRuntimeExports.jsxs("div",{className:"flex items-baseline gap-2 mb-4",children:[jsxRuntimeExports.jsx("span",{className:"text-lg font-black text-primary-600 dark:text-primary-400 tracking-tighter",children:formatPrice(ot.price)}),ot.compare_at_price&&ot.compare_at_price>ot.price&&jsxRuntimeExports.jsx("span",{className:"text-xs text-secondary-400 line-through",children:formatPrice(ot.compare_at_price)})]}),jsxRuntimeExports.jsx("p",{className:"text-[11px] text-secondary-400 dark:text-secondary-500 mb-6 line-clamp-2 italic leading-relaxed",children:ot.description||"Thit k cao cp, cht liu thong mt ph hp cho phong cch hng ngy."}),jsxRuntimeExports.jsx("div",{className:"mt-auto",children:ot.stock_qty>0?jsxRuntimeExports.jsxs("button",{onClick:()=>ot.variant_id&&nt(parseInt(ot.variant_id),1),className:"w-full btn btn-secondary dark:bg-secondary-700 dark:border-secondary-600 rounded-2xl py-3 flex items-center justify-center gap-2 text-xs font-bold hover:bg-primary-600 hover:text-white hover:border-primary-600 transition-all group/btn",children:[jsxRuntimeExports.jsx(ShoppingCart,{className:"w-4 h-4 group-hover/btn:scale-110 transition-transform"}),"Thm vo gi"]}):jsxRuntimeExports.jsxs("button",{className:"w-full btn bg-secondary-50 dark:bg-secondary-900/50 text-secondary-400 dark:text-secondary-600 border-none rounded-2xl py-3 flex items-center justify-center gap-2 text-xs font-bold cursor-not-allowed",children:[jsxRuntimeExports.jsx(Bell,{className:"w-4 h-4"}),"Nhn thng bo"]})})]})]},ot.id))}),jsxRuntimeExports.jsxs("div",{className:"pt-12 border-t border-secondary-100 dark:border-secondary-800 mb-20",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-8",children:[jsxRuntimeExports.jsxs("h2",{className:"text-xl font-bold text-secondary-900 dark:text-white uppercase tracking-tight flex items-center gap-3",children:[jsxRuntimeExports.jsx(Eye,{className:"w-5 h-5 text-primary-600"}),"Sn phm  xem gn y"]}),jsxRuntimeExports.jsxs(Link$1,{to:"/shop",className:"text-xs font-bold text-primary-600 flex items-center gap-1 hover:underline uppercase tracking-widest",children:["Xem tt c",jsxRuntimeExports.jsx(ArrowRight,{className:"w-3 h-3"})]})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[1,2,3,4].map(ot=>jsxRuntimeExports.jsxs("div",{className:"group",children:[jsxRuntimeExports.jsx("div",{className:"aspect-square rounded-[1.5rem] bg-secondary-100 dark:bg-secondary-800 overflow-hidden mb-3 border border-secondary-50 dark:border-secondary-700",children:jsxRuntimeExports.jsx("div",{className:"w-full h-full bg-gradient-to-br from-secondary-100 to-secondary-200 dark:from-secondary-800 dark:to-secondary-700 animate-pulse-slow flex items-center justify-center text-secondary-300 dark:text-secondary-600",children:jsxRuntimeExports.jsx(ShoppingBag,{className:"w-8 h-8"})})}),jsxRuntimeExports.jsx("div",{className:"h-3 bg-secondary-100 dark:bg-secondary-800 rounded-full w-3/4 mb-2 animate-pulse-slow"}),jsxRuntimeExports.jsx("div",{className:"h-3 bg-secondary-50 dark:bg-secondary-900 rounded-full w-1/2 animate-pulse-slow"})]},ot))})]})]})})]})}function OrderSuccessPage(){var xt,yt,vt,gt,Et,jt,kt,Rt,St,_t,Nt,Lt,$t,Ft,Tt,Bt,Wt,qt,Ot,Dt,Pt,It,At,Ht,Gt,Vt,Jt;const{orderCode:_e}=useParams(),[et,rt]=reactExports.useState(null),[nt,st]=reactExports.useState(!0),[it,at]=reactExports.useState(!1),[ot,lt]=reactExports.useState({}),[ct,ut]=reactExports.useState(!1),dt=(et==null?void 0:et.status)==="pending"&&(!((xt=et==null?void 0:et.payments)!=null&&xt.length)||((yt=et==null?void 0:et.payments[0])==null?void 0:yt.method)!=="cod");if(reactExports.useEffect(()=>{(async()=>{if(_e)try{const[ar,mr]=await Promise.all([ordersAPI.getByCode(_e),settingsAPI.getPublic()]);console.log("DEBUG ORDER:",ar.data.data),rt(ar.data.data),mr.data.success&&lt(mr.data.data)}catch(ar){console.error("Failed to fetch order or settings:",ar)}finally{st(!1)}})()},[_e]),reactExports.useEffect(()=>{let rr;return et&&dt&&(ut(!0),rr=setInterval(async()=>{try{const mr=(await ordersAPI.getByCode(_e)).data.data;mr.status!=="pending"&&(rt(mr),ut(!1))}catch(ar){console.error("Polling error",ar)}},3e3)),()=>{rr&&clearInterval(rr)}},[et==null?void 0:et.status,_e,dt]),nt)return jsxRuntimeExports.jsxs("div",{className:"container-custom py-24 flex flex-col items-center justify-center",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 border-4 border-secondary-100 border-t-primary-600 rounded-full animate-spin mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 font-medium font-inter",children:"ang xc nhn n hng..."})]});if(!et)return jsxRuntimeExports.jsxs("div",{className:"container-custom py-24 text-center font-inter",children:[jsxRuntimeExports.jsx("div",{className:"w-20 h-20 bg-red-50 dark:bg-red-950/30 rounded-full flex items-center justify-center mx-auto mb-6 text-red-500",children:jsxRuntimeExports.jsx(Package,{className:"w-10 h-10"})}),jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-secondary-900 dark:text-white mb-4",children:"Li tm n hng"}),jsxRuntimeExports.jsxs("p",{className:"text-secondary-500 dark:text-secondary-400 mb-8 max-w-md mx-auto",children:["Chng ti khng tm thy n hng ",jsxRuntimeExports.jsxs("span",{className:"font-bold",children:["#",_e]}),"."]}),jsxRuntimeExports.jsx(Link$1,{to:"/shop",className:"btn btn-primary rounded-full px-8",children:"Quay li ca hng"})]});const pt=((gt=(vt=et==null?void 0:et.payments)==null?void 0:vt[0])==null?void 0:gt.method)==="cod",mt=[{label:"t hng",status:"completed",icon:CircleCheck},{label:pt?"Xc nhn":"Thanh ton",status:et.status==="pending"&&!pt?"active":"completed",icon:pt?FileText:ShieldCheck},{label:"X l",status:et.status==="processing"||et.status==="pending"&&pt?"active":["paid","confirmed","shipped","completed"].includes(et.status)?"completed":"pending",icon:Package},{label:"ang giao",status:et.status==="shipped"?"active":et.status==="completed"?"completed":"pending",icon:Truck},{label:"Hon tt",status:et.status==="completed"?"completed":"pending",icon:RotateCcw}];return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Helmet,{children:jsxRuntimeExports.jsxs("title",{children:[dt?"Thanh ton n hng":"t hng thnh cng!"," - #",et.order_code]})}),jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-secondary-900 min-h-screen py-8 md:py-16 print:py-0 print:bg-white font-inter transition-colors duration-300",children:jsxRuntimeExports.jsxs("div",{className:"container-custom max-w-3xl",children:[jsxRuntimeExports.jsxs("div",{className:"hidden print:flex justify-between items-center mb-10 border-b-2 border-secondary-100 pb-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-black text-secondary-900 italic",children:"FASHION STORE"}),jsxRuntimeExports.jsx("p",{className:"text-secondary-500 text-xs uppercase tracking-widest",children:"Ha n in t"})]}),jsxRuntimeExports.jsxs("div",{className:"text-right",children:[jsxRuntimeExports.jsxs("p",{className:"font-bold text-sm",children:["#",et.order_code]}),jsxRuntimeExports.jsx("p",{className:"text-[10px] text-secondary-400",children:new Date().toLocaleDateString("vi-VN")})]})]}),jsxRuntimeExports.jsxs("div",{className:"text-center mb-12 print:hidden ",children:[dt?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"w-24 h-24 bg-orange-50 dark:bg-orange-900/20 rounded-full flex items-center justify-center mx-auto mb-6",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"w-12 h-12 text-orange-500 animate-spin"})}),jsxRuntimeExports.jsx("h1",{className:"text-3xl font-black text-secondary-900 dark:text-white mb-2",children:"Thanh ton n hng"}),jsxRuntimeExports.jsxs("p",{className:"text-lg text-secondary-600 dark:text-secondary-400 mb-6 flex items-center justify-center gap-2",children:[jsxRuntimeExports.jsxs("span",{className:"relative flex h-3 w-3",children:[jsxRuntimeExports.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-orange-400 opacity-75"}),jsxRuntimeExports.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-orange-500"})]}),"ang ch xc nhn thanh ton..."]})]}):et.status==="cancelled"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"w-24 h-24 bg-red-50 dark:bg-red-900/20 rounded-full flex items-center justify-center mx-auto mb-8",children:jsxRuntimeExports.jsx(CircleX,{className:"w-12 h-12 text-red-500"})}),jsxRuntimeExports.jsx("h1",{className:"text-3xl font-black text-secondary-900 dark:text-white mb-2",children:"n hng  hy"}),jsxRuntimeExports.jsx("p",{className:"text-lg text-secondary-600 dark:text-secondary-400 mb-6",children:"Rt tic, n hng ny  b hy."})]}):et.status==="refunded"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"w-24 h-24 bg-gray-50 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-8",children:jsxRuntimeExports.jsx(RotateCcw,{className:"w-12 h-12 text-gray-500"})}),jsxRuntimeExports.jsx("h1",{className:"text-3xl font-black text-secondary-900 dark:text-white mb-2",children:" hon tin"}),jsxRuntimeExports.jsx("p",{className:"text-lg text-secondary-600 dark:text-secondary-400 mb-6",children:"n hng  c hon tin thnh cng."})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"w-24 h-24 bg-green-50 dark:bg-green-900/20 rounded-full flex items-center justify-center mx-auto mb-8 animate-bounce-short",children:jsxRuntimeExports.jsx(CircleCheck,{className:"w-12 h-12 text-green-500"})}),jsxRuntimeExports.jsx("h1",{className:"text-3xl font-black text-secondary-900 dark:text-white mb-2",children:"Tuyt vi!"}),jsxRuntimeExports.jsx("p",{className:"text-lg text-secondary-600 dark:text-secondary-400 mb-6",children:((jt=(Et=et==null?void 0:et.payments)==null?void 0:Et[0])==null?void 0:jt.method)==="cod"?"n hng ca bn  c ghi nhn thnh cng.":"n hng ca bn  c t thnh cng."}),((Rt=(kt=et==null?void 0:et.payments)==null?void 0:kt[0])==null?void 0:Rt.method)==="cod"&&jsxRuntimeExports.jsxs("div",{className:"max-w-md mx-auto bg-blue-50 dark:bg-blue-900/20 border border-blue-100 dark:border-blue-900/50 rounded-2xl p-6 mb-8 text-blue-800 dark:text-blue-300",children:[jsxRuntimeExports.jsxs("p",{className:"font-bold flex items-center justify-center gap-2 mb-2",children:[jsxRuntimeExports.jsx(PhoneCall,{className:"w-5 h-5"}),"Lu  cho khch hng COD"]}),jsxRuntimeExports.jsxs("p",{className:"text-sm",children:["Vui lng gi in thoi  nhn vin giao hng c th lin h vi bn. Bn s thanh ton ",jsxRuntimeExports.jsx("b",{children:formatPrice(et.grand_total)})," bng tin mt khi nhn hng."]})]})]}),dt&&jsxRuntimeExports.jsxs("div",{className:"max-w-md mx-auto bg-white dark:bg-secondary-800 border-2 border-primary-100 dark:border-primary-900/50 rounded-2xl p-6 mb-8 shadow-xl shadow-primary-50 dark:shadow-none",children:[jsxRuntimeExports.jsxs("h3",{className:"font-bold text-lg text-secondary-900 dark:text-white mb-4 flex items-center justify-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 bg-primary-50 dark:bg-primary-900/20 rounded-xl",children:((_t=(St=et==null?void 0:et.payments)==null?void 0:St[0])==null?void 0:_t.method)==="momo"?jsxRuntimeExports.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/vi/f/fe/MoMo_Logo.png",className:"w-6 h-6 object-contain"}):jsxRuntimeExports.jsx(Building2,{className:"w-6 h-6 text-primary-600"})}),((Lt=(Nt=et==null?void 0:et.payments)==null?void 0:Nt[0])==null?void 0:Lt.method)==="momo"?"Qut m MoMo":"Thng tin chuyn khon"]}),jsxRuntimeExports.jsx("div",{className:"bg-white p-4 rounded-xl inline-block mb-4 border border-secondary-100 dark:border-secondary-700",children:!(($t=et==null?void 0:et.payments)!=null&&$t.length)||((Tt=(Ft=et==null?void 0:et.payments)==null?void 0:Ft[0])==null?void 0:Tt.method)==="bank_transfer"?jsxRuntimeExports.jsx("img",{src:`https://img.vietqr.io/image/${ot.payment_bank_id}-${ot.payment_bank_account}-compact.jpg?amount=${et.grand_total}&addInfo=${et.order_code}&accountName=${encodeURIComponent(ot.payment_bank_account_name||"")}`,alt:"VietQR",className:"w-48 h-48 object-contain"}):jsxRuntimeExports.jsx("img",{src:ot.payment_momo_qrcode||"/placeholder-qr.png",alt:"MoMo QR",className:"w-48 h-48 object-contain"})}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-secondary-600 dark:text-secondary-400 space-y-2 bg-secondary-50 dark:bg-secondary-900/50 p-4 rounded-lg",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{children:"S tin:"}),jsxRuntimeExports.jsx("span",{className:"font-bold text-primary-600 dark:text-primary-400 text-lg",children:formatPrice(et.grand_total)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{children:"Ni dung:"}),jsxRuntimeExports.jsx("span",{className:"font-bold text-secondary-900 dark:text-white select-all",children:et.order_code})]}),jsxRuntimeExports.jsxs("div",{className:"mt-4 p-3 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 rounded text-xs flex gap-2 items-start text-left",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"w-4 h-4 shrink-0 mt-0.5"}),jsxRuntimeExports.jsxs("span",{children:["H thng s ",jsxRuntimeExports.jsx("b",{children:"t ng xc nhn"})," ngay sau khi bn chuyn khon thnh cng. (Khng cn chp mn hnh)"]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-3",children:[jsxRuntimeExports.jsx(Link$1,{to:"/shop",className:"btn btn-primary rounded-full px-8 py-3.5 font-bold shadow-xl shadow-primary-100 dark:shadow-primary-900/20 hover:-translate-y-0.5 transition-all order-1 sm:order-2",children:dt?"Mua thm n khc":"Tip tc mua sm"}),!dt&&jsxRuntimeExports.jsxs("button",{onClick:()=>window.print(),className:"btn bg-secondary-50 dark:bg-secondary-800 text-secondary-700 dark:text-secondary-200 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-full px-8 py-3.5 font-bold flex items-center justify-center gap-2 order-2 sm:order-1 transition-colors",children:[jsxRuntimeExports.jsx(FileText,{className:"w-5 h-5"}),"In ha n"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-secondary-800 border border-secondary-100 dark:border-secondary-700 rounded-3xl p-6 md:p-8 shadow-sm print:border-none print:shadow-none transition-colors duration-300",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4 mb-10 pb-6 border-b border-secondary-50 dark:border-secondary-800",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-[10px] font-bold text-secondary-400 dark:text-secondary-500 uppercase tracking-widest mb-1",children:"M n hng"}),jsxRuntimeExports.jsxs("p",{className:"text-xl font-black text-secondary-900 dark:text-white",children:["#",et.order_code]})]}),jsxRuntimeExports.jsxs("div",{className:"text-right",children:[jsxRuntimeExports.jsx("p",{className:"text-[10px] font-bold text-secondary-400 dark:text-secondary-500 uppercase tracking-widest mb-1",children:"Ngy t"}),jsxRuntimeExports.jsx("p",{className:"font-bold text-secondary-900 dark:text-white",children:new Date(et.created_at).toLocaleDateString("vi-VN")})]})]}),!["cancelled","refunded"].includes(et.status)&&jsxRuntimeExports.jsxs("div",{className:"relative mb-8 print:hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute top-[15px] left-[5%] right-[5%] h-0.5 bg-secondary-50 dark:bg-secondary-800",children:jsxRuntimeExports.jsx("div",{className:"h-full bg-primary-600 transition-all duration-700",style:{width:`${(mt.findIndex(rr=>rr.status==="active")===-1?4:mt.findIndex(rr=>rr.status==="active"))*25}%`}})}),jsxRuntimeExports.jsx("div",{className:"flex justify-between relative",children:mt.map((rr,ar)=>jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center group",children:[jsxRuntimeExports.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center z-10 border-2 transition-all ${rr.status==="completed"?"bg-primary-600 border-primary-100 dark:border-primary-900 text-white":rr.status==="active"?"bg-white dark:bg-secondary-800 border-primary-600 text-primary-600 animate-pulse":"bg-white dark:bg-secondary-800 border-secondary-100 dark:border-secondary-700 text-secondary-300 dark:text-secondary-600"}`,children:jsxRuntimeExports.jsx(rr.icon,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("span",{className:"text-[10px] font-bold text-secondary-400 dark:text-secondary-500 mt-2 uppercase tracking-tighter",children:rr.label})]},ar))})]}),jsxRuntimeExports.jsxs("div",{className:"grid md:grid-cols-2 gap-8 pt-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-bold text-secondary-400 dark:text-secondary-500 uppercase tracking-widest",children:[jsxRuntimeExports.jsx(MapPin,{className:"w-3.5 h-3.5 text-primary-500"}),"a ch giao nhn"]}),jsxRuntimeExports.jsxs("div",{className:"text-sm",children:[jsxRuntimeExports.jsx("p",{className:"font-bold text-secondary-900 dark:text-white mb-1",children:et.customer_name}),jsxRuntimeExports.jsxs("p",{className:"text-secondary-500 dark:text-secondary-400 leading-relaxed mb-1",children:[et.ship_address_line1,", ",et.ship_city,", ",et.ship_province]}),jsxRuntimeExports.jsxs("p",{className:"text-secondary-700 dark:text-secondary-300 font-medium flex items-center gap-2",children:[jsxRuntimeExports.jsx(PhoneCall,{className:"w-3.5 h-3.5 text-secondary-400"}),et.customer_phone]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-bold text-secondary-400 dark:text-secondary-500 uppercase tracking-widest",children:[jsxRuntimeExports.jsx(ShieldCheck,{className:"w-3.5 h-3.5 text-primary-500"}),"Thanh ton"]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-secondary-500 dark:text-secondary-400",children:"Tm tnh:"}),jsxRuntimeExports.jsx("span",{className:"font-medium text-secondary-900 dark:text-white",children:formatPrice(et.subtotal)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-secondary-500 dark:text-secondary-400",children:"Ph giao hng:"}),jsxRuntimeExports.jsx("span",{className:"font-medium text-secondary-900 dark:text-white",children:formatPrice(et.shipping_fee)})]}),et.discount_total>0&&jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm text-red-500 dark:text-red-400",children:[jsxRuntimeExports.jsx("span",{children:"Gim gi:"}),jsxRuntimeExports.jsxs("span",{children:["-",formatPrice(et.discount_total)]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-secondary-500 dark:text-secondary-400",children:"Phng thc:"}),jsxRuntimeExports.jsx("span",{className:"font-bold text-secondary-900 dark:text-white uppercase",children:((Wt=(Bt=et.payments)==null?void 0:Bt[0])==null?void 0:Wt.method)==="cod"?"Thanh ton khi nhn hng":((Ot=(qt=et.payments)==null?void 0:qt[0])==null?void 0:Ot.method)==="bank_transfer"?"Chuyn khon":((Pt=(Dt=et.payments)==null?void 0:Dt[0])==null?void 0:Pt.method)==="vnpay"?"VNPay":((At=(It=et.payments)==null?void 0:It[0])==null?void 0:At.method)==="momo"?"MoMo":(Gt=(Ht=et.payments)==null?void 0:Ht[0])==null?void 0:Gt.method})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-lg font-black text-primary-600 dark:text-primary-400 pt-2 border-t border-secondary-50 dark:border-secondary-800 mt-2",children:[jsxRuntimeExports.jsx("span",{children:"Tng cng:"}),jsxRuntimeExports.jsx("span",{children:formatPrice(et.grand_total)})]})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-secondary-800 border border-secondary-100 dark:border-secondary-700 rounded-3xl overflow-hidden shadow-sm print:border-none print:shadow-none transition-colors duration-300",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>at(!it),className:"w-full p-6 flex items-center justify-between hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors print:hidden",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-secondary-100 dark:bg-secondary-800 rounded-xl flex items-center justify-center transition-colors",children:jsxRuntimeExports.jsx(ShoppingBag,{className:"w-5 h-5 text-secondary-500 dark:text-secondary-400"})}),jsxRuntimeExports.jsxs("div",{className:"text-left font-inter",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-bold text-secondary-900 dark:text-white",children:"Chi tit sn phm"}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-secondary-500 dark:text-secondary-500",children:[(Vt=et.order_items)==null?void 0:Vt.length," sn phm  chn"]})]})]}),it?jsxRuntimeExports.jsx(ChevronUp,{className:"w-5 h-5 text-secondary-400 dark:text-secondary-500"}):jsxRuntimeExports.jsx(ChevronDown,{className:"w-5 h-5 text-secondary-400 dark:text-secondary-500"})]}),jsxRuntimeExports.jsx("div",{className:`print:block ${it?"block":"hidden"}`,children:jsxRuntimeExports.jsx("div",{className:"divide-y divide-secondary-50 dark:divide-secondary-800 bg-secondary-50/30 dark:bg-secondary-800/50",children:(Jt=et.order_items)==null?void 0:Jt.map(rr=>{var ar,mr,Er;return jsxRuntimeExports.jsxs("div",{className:"p-6 flex gap-4 items-center",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-white dark:bg-secondary-800 rounded-xl overflow-hidden flex-shrink-0 border border-secondary-100 dark:border-secondary-700 transition-colors",children:jsxRuntimeExports.jsx("img",{src:((Er=(mr=(ar=rr.product)==null?void 0:ar.product_images)==null?void 0:mr[0])==null?void 0:Er.url)||"/placeholder.jpg",alt:rr.name,className:"w-full h-full object-cover"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0 font-inter",children:[jsxRuntimeExports.jsx("h4",{className:"font-bold text-secondary-900 dark:text-white text-sm truncate",children:rr.name}),jsxRuntimeExports.jsx("p",{className:"text-[10px] text-secondary-400 dark:text-secondary-500 font-medium mb-1",children:rr.options_text}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-end",children:[jsxRuntimeExports.jsxs("span",{className:"text-xs font-bold text-secondary-600 dark:text-secondary-400",children:["x",rr.qty]}),jsxRuntimeExports.jsx("span",{className:"text-sm font-black text-secondary-900 dark:text-white",children:formatPrice(rr.unit_price)})]})]})]},rr.id)})})})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 px-6 pt-4 print:hidden",children:[jsxRuntimeExports.jsxs("p",{className:"text-xs text-secondary-400 dark:text-secondary-500 font-medium",children:["Bn cn gip ? Truy cp ",jsxRuntimeExports.jsx(Link$1,{to:"/contact",className:"text-primary-600 dark:text-primary-400 hover:underline",children:"Trung tm h tr"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-bold text-secondary-300 dark:text-secondary-700 uppercase tracking-widest",children:[jsxRuntimeExports.jsx(ShieldCheck,{className:"w-4 h-4"}),"Bo mt 100%"]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-bold text-secondary-300 dark:text-secondary-700 uppercase tracking-widest",children:[jsxRuntimeExports.jsx(RotateCcw,{className:"w-4 h-4"}),"30 ngy i tr"]})]})]})]})]})})]})}const PAYMENT_TIMEOUT_SECONDS=5*60;function OrderPaymentPage(){var Et,jt;const{orderId:_e}=useParams(),[et,rt]=reactExports.useState(null),[nt,st]=reactExports.useState(!0),[it,at]=reactExports.useState(!1),[ot,lt]=reactExports.useState({}),[ct,ut]=reactExports.useState(PAYMENT_TIMEOUT_SECONDS),{isAuthenticated:dt}=useAuth(),{refreshCart:pt}=useCart(),mt=useNavigate(),xt=(et==null?void 0:et.status)==="pending"&&(!((Et=et==null?void 0:et.payments)!=null&&Et.length)||((jt=et==null?void 0:et.payments[0])==null?void 0:jt.method)!=="cod"),yt=(et==null?void 0:et.status)==="cancelled";reactExports.useEffect(()=>{if(!dt)return;(async()=>{if(_e)try{const[Rt,St]=await Promise.all([ordersAPI.getById(_e),settingsAPI.getPublic()]);rt(Rt.data.data),St.data.success&&lt(St.data.data);const _t=new Date(Rt.data.data.created_at),Lt=Math.floor((new Date().getTime()-_t.getTime())/1e3),$t=Math.max(0,PAYMENT_TIMEOUT_SECONDS-Lt);ut($t)}catch(Rt){console.error("Failed to fetch order or settings:",Rt)}finally{st(!1)}})()},[_e,dt]),reactExports.useEffect(()=>{if(!xt||ct<=0)return;const kt=setInterval(()=>{ut(Rt=>Rt<=1?(clearInterval(kt),ordersAPI.getById(_e).then(St=>rt(St.data.data)).catch(console.error),0):Rt-1)},1e3);return()=>clearInterval(kt)},[xt,_e]),reactExports.useEffect(()=>{let kt;return et&&xt&&ct>0&&(kt=setInterval(async()=>{try{const St=(await ordersAPI.getById(_e)).data.data;St.status!=="pending"&&(rt(St),(St.status==="paid"||St.status==="confirmed")&&await pt())}catch(Rt){console.error("Polling error",Rt)}},4e3)),()=>{kt&&clearInterval(kt)}},[et==null?void 0:et.status,_e,xt,ct,pt]);const vt=reactExports.useCallback(async()=>{var kt,Rt,St;if(!(!et||it)&&window.confirm("Bn c chc mun hy n hng ny? Thao tc ny khng th hon tc.")){at(!0);try{await ordersAPI.cancel(et.id),zt.success(" hy n hng");const _t=await ordersAPI.getById(_e);rt(_t.data.data)}catch(_t){const Nt=((St=(Rt=(kt=_t.response)==null?void 0:kt.data)==null?void 0:Rt.error)==null?void 0:St.message)||"Khng th hy n hng";zt.error(Nt)}finally{at(!1)}}},[et,_e,it]),gt=kt=>{const Rt=Math.floor(kt/60),St=kt%60;return`${Rt}:${St.toString().padStart(2,"0")}`};return nt?jsxRuntimeExports.jsxs("div",{className:"container-custom py-24 flex flex-col items-center justify-center font-inter",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 border-4 border-secondary-100 border-t-primary-600 rounded-full animate-spin mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 font-medium",children:"ang ti thng tin thanh ton..."})]}):et?yt?jsxRuntimeExports.jsxs("div",{className:"container-custom py-24 text-center font-inter",children:[jsxRuntimeExports.jsx("div",{className:"w-24 h-24 bg-red-50 dark:bg-red-900/20 rounded-full flex items-center justify-center mx-auto mb-8",children:jsxRuntimeExports.jsx(CircleX,{className:"w-12 h-12 text-red-500"})}),jsxRuntimeExports.jsx("h1",{className:"text-3xl font-black text-secondary-900 dark:text-white mb-2",children:"n hng  b hy"}),jsxRuntimeExports.jsxs("p",{className:"text-lg text-secondary-600 dark:text-secondary-400 mb-4",children:["n hng ",jsxRuntimeExports.jsxs("span",{className:"font-bold",children:["#",et.order_code]}),"  b hy do ht thi gian thanh ton hoc do bn yu cu."]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-secondary-500 dark:text-secondary-400 mb-8",children:"Sn phm trong gi hng ca bn vn c gi nguyn. Bn c th t li n hng."}),jsxRuntimeExports.jsxs("div",{className:"flex justify-center gap-4",children:[jsxRuntimeExports.jsx(Link$1,{to:"/cart",className:"px-8 py-3 bg-primary-600 text-white font-bold rounded-full hover:bg-primary-700 transition-all shadow-lg shadow-primary-100",children:"Quay li gi hng"}),jsxRuntimeExports.jsx(Link$1,{to:"/orders",className:"px-8 py-3 bg-secondary-100 dark:bg-secondary-800 text-secondary-900 dark:text-white font-bold rounded-full hover:bg-secondary-200 transition-all",children:"Xem lch s n hng"})]})]}):!xt&&!nt?jsxRuntimeExports.jsxs("div",{className:"container-custom py-24 text-center font-inter",children:[jsxRuntimeExports.jsx("div",{className:"w-24 h-24 bg-green-50 dark:bg-green-900/20 rounded-full flex items-center justify-center mx-auto mb-8 animate-bounce-short",children:jsxRuntimeExports.jsx(CircleCheck,{className:"w-12 h-12 text-green-500"})}),jsxRuntimeExports.jsx("h1",{className:"text-3xl font-black text-secondary-900 dark:text-white mb-2",children:"n hng  thanh ton"}),jsxRuntimeExports.jsxs("p",{className:"text-lg text-secondary-600 dark:text-secondary-400 mb-8",children:["n hng ",jsxRuntimeExports.jsxs("span",{className:"font-bold",children:["#",et.order_code]}),"  c x l thnh cng."]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-center gap-4",children:[jsxRuntimeExports.jsx(Link$1,{to:`/order-detail/${et.id}`,className:"px-8 py-3 bg-primary-600 text-white font-bold rounded-full hover:bg-primary-700 transition-all shadow-lg shadow-primary-100",children:"Xem chi tit n hng"}),jsxRuntimeExports.jsx(Link$1,{to:"/orders",className:"px-8 py-3 bg-secondary-100 dark:bg-secondary-800 text-secondary-900 dark:text-white font-bold rounded-full hover:bg-secondary-200 transition-all",children:"V lch s mua hng"})]})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Helmet,{children:jsxRuntimeExports.jsxs("title",{children:["Thanh ton n hng #",et.order_code," - Fashion Store"]})}),jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-secondary-900 min-h-screen py-8 md:py-16 font-inter transition-colors duration-300",children:jsxRuntimeExports.jsxs("div",{className:"container-custom max-w-3xl",children:[jsxRuntimeExports.jsx("div",{className:"mb-6",children:jsxRuntimeExports.jsxs("button",{onClick:()=>mt(-1),className:"flex items-center gap-2 text-secondary-500 hover:text-primary-600 transition-colors group px-4 py-2",children:[jsxRuntimeExports.jsx(ChevronLeft,{className:"w-5 h-5 group-hover:-translate-x-1 transition-transform"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-bold uppercase tracking-wider",children:"Quay li"})]})}),jsxRuntimeExports.jsxs("div",{className:"text-center mb-12",children:[jsxRuntimeExports.jsx("div",{className:`w-24 h-24 rounded-full flex items-center justify-center mx-auto mb-6 ${ct<=60?"bg-red-50 dark:bg-red-900/20":"bg-orange-50 dark:bg-orange-900/20"}`,children:ct<=60?jsxRuntimeExports.jsx(TriangleAlert,{className:"w-12 h-12 text-red-500 animate-pulse"}):jsxRuntimeExports.jsx(LoaderCircle,{className:"w-12 h-12 text-orange-500 animate-spin"})}),jsxRuntimeExports.jsx("h1",{className:"text-4xl font-black text-secondary-900 dark:text-white mb-4 italic tracking-tight",children:"THANH TON N HNG"}),jsxRuntimeExports.jsxs("div",{className:`inline-flex items-center gap-3 px-6 py-3 rounded-full mb-6 ${ct<=60?"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300":"bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-300"}`,children:[jsxRuntimeExports.jsx(Clock,{className:"w-5 h-5"}),jsxRuntimeExports.jsxs("span",{className:"font-bold text-lg",children:["Cn li: ",jsxRuntimeExports.jsx("span",{className:"font-mono text-2xl",children:gt(ct)})]})]}),jsxRuntimeExports.jsxs("p",{className:"text-lg text-secondary-600 dark:text-secondary-400 mb-6 flex items-center justify-center gap-2",children:[jsxRuntimeExports.jsxs("span",{className:"relative flex h-3 w-3",children:[jsxRuntimeExports.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-orange-400 opacity-75"}),jsxRuntimeExports.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-orange-500"})]}),"ang ch bn thc hin chuyn khon..."]}),jsxRuntimeExports.jsxs("div",{className:"max-w-md mx-auto bg-white dark:bg-secondary-800 border-2 border-primary-100 dark:border-primary-900/50 rounded-3xl p-8 mb-8 shadow-2xl shadow-primary-50 dark:shadow-none",children:[jsxRuntimeExports.jsxs("h3",{className:"font-bold text-lg text-secondary-900 dark:text-white mb-6 flex items-center justify-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 bg-primary-50 dark:bg-primary-900/20 rounded-xl",children:jsxRuntimeExports.jsx(Building2,{className:"w-6 h-6 text-primary-600"})}),"Qut m  chuyn khon"]}),jsxRuntimeExports.jsx("div",{className:"bg-white p-5 rounded-2xl inline-block mb-6 border border-secondary-100 shadow-sm",children:jsxRuntimeExports.jsx("img",{src:`https://img.vietqr.io/image/${ot.payment_bank_id}-${ot.payment_bank_account}-compact.jpg?amount=${et.grand_total}&addInfo=${et.order_code}&accountName=${encodeURIComponent(ot.payment_bank_account_name||"")}`,alt:"VietQR",className:"w-56 h-56 object-contain"})}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-secondary-600 dark:text-secondary-400 space-y-3 bg-secondary-50 dark:bg-secondary-900/50 p-5 rounded-2xl border border-secondary-100/50 dark:border-secondary-700/50",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"S tin:"}),jsxRuntimeExports.jsx("span",{className:"font-black text-primary-600 dark:text-primary-400 text-2xl",children:formatPrice(et.grand_total)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-secondary-200/50 dark:border-secondary-700/50",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Ni dung:"}),jsxRuntimeExports.jsx("span",{className:"font-black text-secondary-900 dark:text-white select-all bg-white dark:bg-secondary-800 px-3 py-1 rounded-lg border border-secondary-200 dark:border-secondary-700 tracking-wider",children:et.order_code})]}),jsxRuntimeExports.jsxs("div",{className:"mt-4 p-4 bg-blue-50 dark:bg-blue-900/20 text-blue-800 dark:text-blue-300 rounded-xl text-xs flex gap-3 items-start text-left border border-blue-100 dark:border-blue-900/40",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"w-5 h-5 shrink-0 text-blue-500"}),jsxRuntimeExports.jsxs("span",{className:"leading-relaxed",children:["H thng s ",jsxRuntimeExports.jsx("b",{children:"t ng xc nhn"}),' ngay sau khi bn chuyn khon thnh cng. n hng s c chuyn sang trng thi " thanh ton".']})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 max-w-lg mx-auto mb-8",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-secondary-800 p-5 rounded-2xl border border-secondary-100 dark:border-secondary-700 flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-emerald-50 dark:bg-emerald-900/20 rounded-full flex items-center justify-center",children:jsxRuntimeExports.jsx(ShieldCheck,{className:"w-5 h-5 text-emerald-500"})}),jsxRuntimeExports.jsxs("div",{className:"text-left font-inter",children:[jsxRuntimeExports.jsx("p",{className:"text-[10px] font-bold text-secondary-400 uppercase tracking-widest",children:"Thanh ton bi"}),jsxRuntimeExports.jsx("p",{className:"text-sm font-bold text-secondary-900 dark:text-white",children:"Napas 24/7"})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-secondary-800 p-5 rounded-2xl border border-secondary-100 dark:border-secondary-700 flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-blue-50 dark:bg-blue-900/20 rounded-full flex items-center justify-center",children:jsxRuntimeExports.jsx(Clock,{className:"w-5 h-5 text-blue-500"})}),jsxRuntimeExports.jsxs("div",{className:"text-left font-inter",children:[jsxRuntimeExports.jsx("p",{className:"text-[10px] font-bold text-secondary-400 uppercase tracking-widest",children:"X l t ng"}),jsxRuntimeExports.jsx("p",{className:"text-sm font-bold text-secondary-900 dark:text-white",children:"Hot ng 24/7"})]})]})]}),jsxRuntimeExports.jsx("button",{onClick:vt,disabled:it,className:"px-6 py-3 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 font-bold rounded-full hover:bg-red-100 dark:hover:bg-red-900/40 transition-all border border-red-200 dark:border-red-800 disabled:opacity-50",children:it?jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin"}),"ang hy..."]}):jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(CircleX,{className:"w-4 h-4"}),"Hy n hng"]})}),jsxRuntimeExports.jsx("div",{className:"mt-8",children:jsxRuntimeExports.jsx(Link$1,{to:"/orders",className:"text-secondary-400 hover:text-primary-600 font-bold text-sm underline underline-offset-4 decoration-2",children:"Quay li danh sch n hng"})})]})]})})]}):jsxRuntimeExports.jsxs("div",{className:"container-custom py-24 text-center font-inter",children:[jsxRuntimeExports.jsx("div",{className:"w-20 h-20 bg-red-50 dark:bg-red-950/30 rounded-full flex items-center justify-center mx-auto mb-6 text-red-500",children:jsxRuntimeExports.jsx(Package,{className:"w-10 h-10"})}),jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-secondary-900 dark:text-white mb-4",children:"Li tm n hng"}),jsxRuntimeExports.jsxs("p",{className:"text-secondary-500 dark:text-secondary-400 mb-8 max-w-md mx-auto",children:["Chng ti khng tm thy n hng ",jsxRuntimeExports.jsxs("span",{className:"font-bold",children:["#",_e]}),"."]}),jsxRuntimeExports.jsx(Link$1,{to:"/orders",className:"btn btn-primary rounded-full px-8",children:"Quay li lch s n hng"})]})}const ThemeContext=reactExports.createContext(void 0);function ThemeProvider({children:_e}){const[et,rt]=reactExports.useState(()=>{const st=localStorage.getItem("theme");return st==="dark"||st==="light"?st:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"});reactExports.useEffect(()=>{et==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("theme",et)},[et]);const nt=()=>{rt(st=>st==="light"?"dark":"light")};return jsxRuntimeExports.jsx(ThemeContext.Provider,{value:{theme:et,toggleTheme:nt},children:_e})}const useTheme=()=>{const _e=reactExports.useContext(ThemeContext);if(_e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return _e},millisecondsInWeek=6048e5,millisecondsInDay=864e5,minutesInMonth=43200,minutesInDay=1440,constructFromSymbol=Symbol.for("constructDateFrom");function constructFrom(_e,et){return typeof _e=="function"?_e(et):_e&&typeof _e=="object"&&constructFromSymbol in _e?_e[constructFromSymbol](et):_e instanceof Date?new _e.constructor(et):new Date(et)}function toDate(_e,et){return constructFrom(et||_e,_e)}function addDays(_e,et,rt){const nt=toDate(_e,rt==null?void 0:rt.in);return isNaN(et)?constructFrom(_e,NaN):(et&&nt.setDate(nt.getDate()+et),nt)}let defaultOptions$1={};function getDefaultOptions(){return defaultOptions$1}function startOfWeek(_e,et){var ot,lt,ct,ut;const rt=getDefaultOptions(),nt=(et==null?void 0:et.weekStartsOn)??((lt=(ot=et==null?void 0:et.locale)==null?void 0:ot.options)==null?void 0:lt.weekStartsOn)??rt.weekStartsOn??((ut=(ct=rt.locale)==null?void 0:ct.options)==null?void 0:ut.weekStartsOn)??0,st=toDate(_e,et==null?void 0:et.in),it=st.getDay(),at=(it<nt?7:0)+it-nt;return st.setDate(st.getDate()-at),st.setHours(0,0,0,0),st}function startOfISOWeek(_e,et){return startOfWeek(_e,{...et,weekStartsOn:1})}function getISOWeekYear(_e,et){const rt=toDate(_e,et==null?void 0:et.in),nt=rt.getFullYear(),st=constructFrom(rt,0);st.setFullYear(nt+1,0,4),st.setHours(0,0,0,0);const it=startOfISOWeek(st),at=constructFrom(rt,0);at.setFullYear(nt,0,4),at.setHours(0,0,0,0);const ot=startOfISOWeek(at);return rt.getTime()>=it.getTime()?nt+1:rt.getTime()>=ot.getTime()?nt:nt-1}function getTimezoneOffsetInMilliseconds(_e){const et=toDate(_e),rt=new Date(Date.UTC(et.getFullYear(),et.getMonth(),et.getDate(),et.getHours(),et.getMinutes(),et.getSeconds(),et.getMilliseconds()));return rt.setUTCFullYear(et.getFullYear()),+_e-+rt}function normalizeDates(_e,...et){const rt=constructFrom.bind(null,_e||et.find(nt=>typeof nt=="object"));return et.map(rt)}function startOfDay(_e,et){const rt=toDate(_e,et==null?void 0:et.in);return rt.setHours(0,0,0,0),rt}function differenceInCalendarDays(_e,et,rt){const[nt,st]=normalizeDates(rt==null?void 0:rt.in,_e,et),it=startOfDay(nt),at=startOfDay(st),ot=+it-getTimezoneOffsetInMilliseconds(it),lt=+at-getTimezoneOffsetInMilliseconds(at);return Math.round((ot-lt)/millisecondsInDay)}function startOfISOWeekYear(_e,et){const rt=getISOWeekYear(_e,et),nt=constructFrom(_e,0);return nt.setFullYear(rt,0,4),nt.setHours(0,0,0,0),startOfISOWeek(nt)}function compareAsc(_e,et){const rt=+toDate(_e)-+toDate(et);return rt<0?-1:rt>0?1:rt}function constructNow(_e){return constructFrom(_e,Date.now())}function isDate(_e){return _e instanceof Date||typeof _e=="object"&&Object.prototype.toString.call(_e)==="[object Date]"}function isValid(_e){return!(!isDate(_e)&&typeof _e!="number"||isNaN(+toDate(_e)))}function differenceInCalendarMonths(_e,et,rt){const[nt,st]=normalizeDates(rt==null?void 0:rt.in,_e,et),it=nt.getFullYear()-st.getFullYear(),at=nt.getMonth()-st.getMonth();return it*12+at}function getRoundingMethod(_e){return et=>{const nt=(_e?Math[_e]:Math.trunc)(et);return nt===0?0:nt}}function differenceInMilliseconds(_e,et){return+toDate(_e)-+toDate(et)}function endOfDay(_e,et){const rt=toDate(_e,et==null?void 0:et.in);return rt.setHours(23,59,59,999),rt}function endOfMonth(_e,et){const rt=toDate(_e,et==null?void 0:et.in),nt=rt.getMonth();return rt.setFullYear(rt.getFullYear(),nt+1,0),rt.setHours(23,59,59,999),rt}function isLastDayOfMonth(_e,et){const rt=toDate(_e,et==null?void 0:et.in);return+endOfDay(rt,et)==+endOfMonth(rt,et)}function differenceInMonths(_e,et,rt){const[nt,st,it]=normalizeDates(rt==null?void 0:rt.in,_e,_e,et),at=compareAsc(st,it),ot=Math.abs(differenceInCalendarMonths(st,it));if(ot<1)return 0;st.getMonth()===1&&st.getDate()>27&&st.setDate(30),st.setMonth(st.getMonth()-at*ot);let lt=compareAsc(st,it)===-at;isLastDayOfMonth(nt)&&ot===1&&compareAsc(nt,it)===1&&(lt=!1);const ct=at*(ot-+lt);return ct===0?0:ct}function differenceInSeconds(_e,et,rt){const nt=differenceInMilliseconds(_e,et)/1e3;return getRoundingMethod(rt==null?void 0:rt.roundingMethod)(nt)}function startOfMonth(_e,et){const rt=toDate(_e,et==null?void 0:et.in);return rt.setDate(1),rt.setHours(0,0,0,0),rt}function startOfYear(_e,et){const rt=toDate(_e,et==null?void 0:et.in);return rt.setFullYear(rt.getFullYear(),0,1),rt.setHours(0,0,0,0),rt}const formatDistanceLocale$1={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},formatDistance$2=(_e,et,rt)=>{let nt;const st=formatDistanceLocale$1[_e];return typeof st=="string"?nt=st:et===1?nt=st.one:nt=st.other.replace("{{count}}",et.toString()),rt!=null&&rt.addSuffix?rt.comparison&&rt.comparison>0?"in "+nt:nt+" ago":nt};function buildFormatLongFn(_e){return(et={})=>{const rt=et.width?String(et.width):_e.defaultWidth;return _e.formats[rt]||_e.formats[_e.defaultWidth]}}const dateFormats$1={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},timeFormats$1={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats$1={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},formatLong$1={date:buildFormatLongFn({formats:dateFormats$1,defaultWidth:"full"}),time:buildFormatLongFn({formats:timeFormats$1,defaultWidth:"full"}),dateTime:buildFormatLongFn({formats:dateTimeFormats$1,defaultWidth:"full"})},formatRelativeLocale$1={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},formatRelative$1=(_e,et,rt,nt)=>formatRelativeLocale$1[_e];function buildLocalizeFn(_e){return(et,rt)=>{const nt=rt!=null&&rt.context?String(rt.context):"standalone";let st;if(nt==="formatting"&&_e.formattingValues){const at=_e.defaultFormattingWidth||_e.defaultWidth,ot=rt!=null&&rt.width?String(rt.width):at;st=_e.formattingValues[ot]||_e.formattingValues[at]}else{const at=_e.defaultWidth,ot=rt!=null&&rt.width?String(rt.width):_e.defaultWidth;st=_e.values[ot]||_e.values[at]}const it=_e.argumentCallback?_e.argumentCallback(et):et;return st[it]}}const eraValues$1={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},quarterValues$1={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},monthValues$1={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dayValues$1={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dayPeriodValues$1={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},formattingDayPeriodValues$1={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ordinalNumber$1=(_e,et)=>{const rt=Number(_e),nt=rt%100;if(nt>20||nt<10)switch(nt%10){case 1:return rt+"st";case 2:return rt+"nd";case 3:return rt+"rd"}return rt+"th"},localize$1={ordinalNumber:ordinalNumber$1,era:buildLocalizeFn({values:eraValues$1,defaultWidth:"wide"}),quarter:buildLocalizeFn({values:quarterValues$1,defaultWidth:"wide",argumentCallback:_e=>_e-1}),month:buildLocalizeFn({values:monthValues$1,defaultWidth:"wide"}),day:buildLocalizeFn({values:dayValues$1,defaultWidth:"wide"}),dayPeriod:buildLocalizeFn({values:dayPeriodValues$1,defaultWidth:"wide",formattingValues:formattingDayPeriodValues$1,defaultFormattingWidth:"wide"})};function buildMatchFn(_e){return(et,rt={})=>{const nt=rt.width,st=nt&&_e.matchPatterns[nt]||_e.matchPatterns[_e.defaultMatchWidth],it=et.match(st);if(!it)return null;const at=it[0],ot=nt&&_e.parsePatterns[nt]||_e.parsePatterns[_e.defaultParseWidth],lt=Array.isArray(ot)?findIndex(ot,dt=>dt.test(at)):findKey(ot,dt=>dt.test(at));let ct;ct=_e.valueCallback?_e.valueCallback(lt):lt,ct=rt.valueCallback?rt.valueCallback(ct):ct;const ut=et.slice(at.length);return{value:ct,rest:ut}}}function findKey(_e,et){for(const rt in _e)if(Object.prototype.hasOwnProperty.call(_e,rt)&&et(_e[rt]))return rt}function findIndex(_e,et){for(let rt=0;rt<_e.length;rt++)if(et(_e[rt]))return rt}function buildMatchPatternFn(_e){return(et,rt={})=>{const nt=et.match(_e.matchPattern);if(!nt)return null;const st=nt[0],it=et.match(_e.parsePattern);if(!it)return null;let at=_e.valueCallback?_e.valueCallback(it[0]):it[0];at=rt.valueCallback?rt.valueCallback(at):at;const ot=et.slice(st.length);return{value:at,rest:ot}}}const matchOrdinalNumberPattern$1=/^(\d+)(th|st|nd|rd)?/i,parseOrdinalNumberPattern$1=/\d+/i,matchEraPatterns$1={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},parseEraPatterns$1={any:[/^b/i,/^(a|c)/i]},matchQuarterPatterns$1={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},parseQuarterPatterns$1={any:[/1/i,/2/i,/3/i,/4/i]},matchMonthPatterns$1={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},parseMonthPatterns$1={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},matchDayPatterns$1={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},parseDayPatterns$1={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},matchDayPeriodPatterns$1={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},parseDayPeriodPatterns$1={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},match$1={ordinalNumber:buildMatchPatternFn({matchPattern:matchOrdinalNumberPattern$1,parsePattern:parseOrdinalNumberPattern$1,valueCallback:_e=>parseInt(_e,10)}),era:buildMatchFn({matchPatterns:matchEraPatterns$1,defaultMatchWidth:"wide",parsePatterns:parseEraPatterns$1,defaultParseWidth:"any"}),quarter:buildMatchFn({matchPatterns:matchQuarterPatterns$1,defaultMatchWidth:"wide",parsePatterns:parseQuarterPatterns$1,defaultParseWidth:"any",valueCallback:_e=>_e+1}),month:buildMatchFn({matchPatterns:matchMonthPatterns$1,defaultMatchWidth:"wide",parsePatterns:parseMonthPatterns$1,defaultParseWidth:"any"}),day:buildMatchFn({matchPatterns:matchDayPatterns$1,defaultMatchWidth:"wide",parsePatterns:parseDayPatterns$1,defaultParseWidth:"any"}),dayPeriod:buildMatchFn({matchPatterns:matchDayPeriodPatterns$1,defaultMatchWidth:"any",parsePatterns:parseDayPeriodPatterns$1,defaultParseWidth:"any"})},enUS={code:"en-US",formatDistance:formatDistance$2,formatLong:formatLong$1,formatRelative:formatRelative$1,localize:localize$1,match:match$1,options:{weekStartsOn:0,firstWeekContainsDate:1}};function getDayOfYear(_e,et){const rt=toDate(_e,et==null?void 0:et.in);return differenceInCalendarDays(rt,startOfYear(rt))+1}function getISOWeek(_e,et){const rt=toDate(_e,et==null?void 0:et.in),nt=+startOfISOWeek(rt)-+startOfISOWeekYear(rt);return Math.round(nt/millisecondsInWeek)+1}function getWeekYear(_e,et){var ut,dt,pt,mt;const rt=toDate(_e,et==null?void 0:et.in),nt=rt.getFullYear(),st=getDefaultOptions(),it=(et==null?void 0:et.firstWeekContainsDate)??((dt=(ut=et==null?void 0:et.locale)==null?void 0:ut.options)==null?void 0:dt.firstWeekContainsDate)??st.firstWeekContainsDate??((mt=(pt=st.locale)==null?void 0:pt.options)==null?void 0:mt.firstWeekContainsDate)??1,at=constructFrom((et==null?void 0:et.in)||_e,0);at.setFullYear(nt+1,0,it),at.setHours(0,0,0,0);const ot=startOfWeek(at,et),lt=constructFrom((et==null?void 0:et.in)||_e,0);lt.setFullYear(nt,0,it),lt.setHours(0,0,0,0);const ct=startOfWeek(lt,et);return+rt>=+ot?nt+1:+rt>=+ct?nt:nt-1}function startOfWeekYear(_e,et){var ot,lt,ct,ut;const rt=getDefaultOptions(),nt=(et==null?void 0:et.firstWeekContainsDate)??((lt=(ot=et==null?void 0:et.locale)==null?void 0:ot.options)==null?void 0:lt.firstWeekContainsDate)??rt.firstWeekContainsDate??((ut=(ct=rt.locale)==null?void 0:ct.options)==null?void 0:ut.firstWeekContainsDate)??1,st=getWeekYear(_e,et),it=constructFrom((et==null?void 0:et.in)||_e,0);return it.setFullYear(st,0,nt),it.setHours(0,0,0,0),startOfWeek(it,et)}function getWeek(_e,et){const rt=toDate(_e,et==null?void 0:et.in),nt=+startOfWeek(rt,et)-+startOfWeekYear(rt,et);return Math.round(nt/millisecondsInWeek)+1}function addLeadingZeros(_e,et){const rt=_e<0?"-":"",nt=Math.abs(_e).toString().padStart(et,"0");return rt+nt}const lightFormatters={y(_e,et){const rt=_e.getFullYear(),nt=rt>0?rt:1-rt;return addLeadingZeros(et==="yy"?nt%100:nt,et.length)},M(_e,et){const rt=_e.getMonth();return et==="M"?String(rt+1):addLeadingZeros(rt+1,2)},d(_e,et){return addLeadingZeros(_e.getDate(),et.length)},a(_e,et){const rt=_e.getHours()/12>=1?"pm":"am";switch(et){case"a":case"aa":return rt.toUpperCase();case"aaa":return rt;case"aaaaa":return rt[0];case"aaaa":default:return rt==="am"?"a.m.":"p.m."}},h(_e,et){return addLeadingZeros(_e.getHours()%12||12,et.length)},H(_e,et){return addLeadingZeros(_e.getHours(),et.length)},m(_e,et){return addLeadingZeros(_e.getMinutes(),et.length)},s(_e,et){return addLeadingZeros(_e.getSeconds(),et.length)},S(_e,et){const rt=et.length,nt=_e.getMilliseconds(),st=Math.trunc(nt*Math.pow(10,rt-3));return addLeadingZeros(st,et.length)}},dayPeriodEnum={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},formatters={G:function(_e,et,rt){const nt=_e.getFullYear()>0?1:0;switch(et){case"G":case"GG":case"GGG":return rt.era(nt,{width:"abbreviated"});case"GGGGG":return rt.era(nt,{width:"narrow"});case"GGGG":default:return rt.era(nt,{width:"wide"})}},y:function(_e,et,rt){if(et==="yo"){const nt=_e.getFullYear(),st=nt>0?nt:1-nt;return rt.ordinalNumber(st,{unit:"year"})}return lightFormatters.y(_e,et)},Y:function(_e,et,rt,nt){const st=getWeekYear(_e,nt),it=st>0?st:1-st;if(et==="YY"){const at=it%100;return addLeadingZeros(at,2)}return et==="Yo"?rt.ordinalNumber(it,{unit:"year"}):addLeadingZeros(it,et.length)},R:function(_e,et){const rt=getISOWeekYear(_e);return addLeadingZeros(rt,et.length)},u:function(_e,et){const rt=_e.getFullYear();return addLeadingZeros(rt,et.length)},Q:function(_e,et,rt){const nt=Math.ceil((_e.getMonth()+1)/3);switch(et){case"Q":return String(nt);case"QQ":return addLeadingZeros(nt,2);case"Qo":return rt.ordinalNumber(nt,{unit:"quarter"});case"QQQ":return rt.quarter(nt,{width:"abbreviated",context:"formatting"});case"QQQQQ":return rt.quarter(nt,{width:"narrow",context:"formatting"});case"QQQQ":default:return rt.quarter(nt,{width:"wide",context:"formatting"})}},q:function(_e,et,rt){const nt=Math.ceil((_e.getMonth()+1)/3);switch(et){case"q":return String(nt);case"qq":return addLeadingZeros(nt,2);case"qo":return rt.ordinalNumber(nt,{unit:"quarter"});case"qqq":return rt.quarter(nt,{width:"abbreviated",context:"standalone"});case"qqqqq":return rt.quarter(nt,{width:"narrow",context:"standalone"});case"qqqq":default:return rt.quarter(nt,{width:"wide",context:"standalone"})}},M:function(_e,et,rt){const nt=_e.getMonth();switch(et){case"M":case"MM":return lightFormatters.M(_e,et);case"Mo":return rt.ordinalNumber(nt+1,{unit:"month"});case"MMM":return rt.month(nt,{width:"abbreviated",context:"formatting"});case"MMMMM":return rt.month(nt,{width:"narrow",context:"formatting"});case"MMMM":default:return rt.month(nt,{width:"wide",context:"formatting"})}},L:function(_e,et,rt){const nt=_e.getMonth();switch(et){case"L":return String(nt+1);case"LL":return addLeadingZeros(nt+1,2);case"Lo":return rt.ordinalNumber(nt+1,{unit:"month"});case"LLL":return rt.month(nt,{width:"abbreviated",context:"standalone"});case"LLLLL":return rt.month(nt,{width:"narrow",context:"standalone"});case"LLLL":default:return rt.month(nt,{width:"wide",context:"standalone"})}},w:function(_e,et,rt,nt){const st=getWeek(_e,nt);return et==="wo"?rt.ordinalNumber(st,{unit:"week"}):addLeadingZeros(st,et.length)},I:function(_e,et,rt){const nt=getISOWeek(_e);return et==="Io"?rt.ordinalNumber(nt,{unit:"week"}):addLeadingZeros(nt,et.length)},d:function(_e,et,rt){return et==="do"?rt.ordinalNumber(_e.getDate(),{unit:"date"}):lightFormatters.d(_e,et)},D:function(_e,et,rt){const nt=getDayOfYear(_e);return et==="Do"?rt.ordinalNumber(nt,{unit:"dayOfYear"}):addLeadingZeros(nt,et.length)},E:function(_e,et,rt){const nt=_e.getDay();switch(et){case"E":case"EE":case"EEE":return rt.day(nt,{width:"abbreviated",context:"formatting"});case"EEEEE":return rt.day(nt,{width:"narrow",context:"formatting"});case"EEEEEE":return rt.day(nt,{width:"short",context:"formatting"});case"EEEE":default:return rt.day(nt,{width:"wide",context:"formatting"})}},e:function(_e,et,rt,nt){const st=_e.getDay(),it=(st-nt.weekStartsOn+8)%7||7;switch(et){case"e":return String(it);case"ee":return addLeadingZeros(it,2);case"eo":return rt.ordinalNumber(it,{unit:"day"});case"eee":return rt.day(st,{width:"abbreviated",context:"formatting"});case"eeeee":return rt.day(st,{width:"narrow",context:"formatting"});case"eeeeee":return rt.day(st,{width:"short",context:"formatting"});case"eeee":default:return rt.day(st,{width:"wide",context:"formatting"})}},c:function(_e,et,rt,nt){const st=_e.getDay(),it=(st-nt.weekStartsOn+8)%7||7;switch(et){case"c":return String(it);case"cc":return addLeadingZeros(it,et.length);case"co":return rt.ordinalNumber(it,{unit:"day"});case"ccc":return rt.day(st,{width:"abbreviated",context:"standalone"});case"ccccc":return rt.day(st,{width:"narrow",context:"standalone"});case"cccccc":return rt.day(st,{width:"short",context:"standalone"});case"cccc":default:return rt.day(st,{width:"wide",context:"standalone"})}},i:function(_e,et,rt){const nt=_e.getDay(),st=nt===0?7:nt;switch(et){case"i":return String(st);case"ii":return addLeadingZeros(st,et.length);case"io":return rt.ordinalNumber(st,{unit:"day"});case"iii":return rt.day(nt,{width:"abbreviated",context:"formatting"});case"iiiii":return rt.day(nt,{width:"narrow",context:"formatting"});case"iiiiii":return rt.day(nt,{width:"short",context:"formatting"});case"iiii":default:return rt.day(nt,{width:"wide",context:"formatting"})}},a:function(_e,et,rt){const st=_e.getHours()/12>=1?"pm":"am";switch(et){case"a":case"aa":return rt.dayPeriod(st,{width:"abbreviated",context:"formatting"});case"aaa":return rt.dayPeriod(st,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return rt.dayPeriod(st,{width:"narrow",context:"formatting"});case"aaaa":default:return rt.dayPeriod(st,{width:"wide",context:"formatting"})}},b:function(_e,et,rt){const nt=_e.getHours();let st;switch(nt===12?st=dayPeriodEnum.noon:nt===0?st=dayPeriodEnum.midnight:st=nt/12>=1?"pm":"am",et){case"b":case"bb":return rt.dayPeriod(st,{width:"abbreviated",context:"formatting"});case"bbb":return rt.dayPeriod(st,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return rt.dayPeriod(st,{width:"narrow",context:"formatting"});case"bbbb":default:return rt.dayPeriod(st,{width:"wide",context:"formatting"})}},B:function(_e,et,rt){const nt=_e.getHours();let st;switch(nt>=17?st=dayPeriodEnum.evening:nt>=12?st=dayPeriodEnum.afternoon:nt>=4?st=dayPeriodEnum.morning:st=dayPeriodEnum.night,et){case"B":case"BB":case"BBB":return rt.dayPeriod(st,{width:"abbreviated",context:"formatting"});case"BBBBB":return rt.dayPeriod(st,{width:"narrow",context:"formatting"});case"BBBB":default:return rt.dayPeriod(st,{width:"wide",context:"formatting"})}},h:function(_e,et,rt){if(et==="ho"){let nt=_e.getHours()%12;return nt===0&&(nt=12),rt.ordinalNumber(nt,{unit:"hour"})}return lightFormatters.h(_e,et)},H:function(_e,et,rt){return et==="Ho"?rt.ordinalNumber(_e.getHours(),{unit:"hour"}):lightFormatters.H(_e,et)},K:function(_e,et,rt){const nt=_e.getHours()%12;return et==="Ko"?rt.ordinalNumber(nt,{unit:"hour"}):addLeadingZeros(nt,et.length)},k:function(_e,et,rt){let nt=_e.getHours();return nt===0&&(nt=24),et==="ko"?rt.ordinalNumber(nt,{unit:"hour"}):addLeadingZeros(nt,et.length)},m:function(_e,et,rt){return et==="mo"?rt.ordinalNumber(_e.getMinutes(),{unit:"minute"}):lightFormatters.m(_e,et)},s:function(_e,et,rt){return et==="so"?rt.ordinalNumber(_e.getSeconds(),{unit:"second"}):lightFormatters.s(_e,et)},S:function(_e,et){return lightFormatters.S(_e,et)},X:function(_e,et,rt){const nt=_e.getTimezoneOffset();if(nt===0)return"Z";switch(et){case"X":return formatTimezoneWithOptionalMinutes(nt);case"XXXX":case"XX":return formatTimezone(nt);case"XXXXX":case"XXX":default:return formatTimezone(nt,":")}},x:function(_e,et,rt){const nt=_e.getTimezoneOffset();switch(et){case"x":return formatTimezoneWithOptionalMinutes(nt);case"xxxx":case"xx":return formatTimezone(nt);case"xxxxx":case"xxx":default:return formatTimezone(nt,":")}},O:function(_e,et,rt){const nt=_e.getTimezoneOffset();switch(et){case"O":case"OO":case"OOO":return"GMT"+formatTimezoneShort(nt,":");case"OOOO":default:return"GMT"+formatTimezone(nt,":")}},z:function(_e,et,rt){const nt=_e.getTimezoneOffset();switch(et){case"z":case"zz":case"zzz":return"GMT"+formatTimezoneShort(nt,":");case"zzzz":default:return"GMT"+formatTimezone(nt,":")}},t:function(_e,et,rt){const nt=Math.trunc(+_e/1e3);return addLeadingZeros(nt,et.length)},T:function(_e,et,rt){return addLeadingZeros(+_e,et.length)}};function formatTimezoneShort(_e,et=""){const rt=_e>0?"-":"+",nt=Math.abs(_e),st=Math.trunc(nt/60),it=nt%60;return it===0?rt+String(st):rt+String(st)+et+addLeadingZeros(it,2)}function formatTimezoneWithOptionalMinutes(_e,et){return _e%60===0?(_e>0?"-":"+")+addLeadingZeros(Math.abs(_e)/60,2):formatTimezone(_e,et)}function formatTimezone(_e,et=""){const rt=_e>0?"-":"+",nt=Math.abs(_e),st=addLeadingZeros(Math.trunc(nt/60),2),it=addLeadingZeros(nt%60,2);return rt+st+et+it}const dateLongFormatter=(_e,et)=>{switch(_e){case"P":return et.date({width:"short"});case"PP":return et.date({width:"medium"});case"PPP":return et.date({width:"long"});case"PPPP":default:return et.date({width:"full"})}},timeLongFormatter=(_e,et)=>{switch(_e){case"p":return et.time({width:"short"});case"pp":return et.time({width:"medium"});case"ppp":return et.time({width:"long"});case"pppp":default:return et.time({width:"full"})}},dateTimeLongFormatter=(_e,et)=>{const rt=_e.match(/(P+)(p+)?/)||[],nt=rt[1],st=rt[2];if(!st)return dateLongFormatter(_e,et);let it;switch(nt){case"P":it=et.dateTime({width:"short"});break;case"PP":it=et.dateTime({width:"medium"});break;case"PPP":it=et.dateTime({width:"long"});break;case"PPPP":default:it=et.dateTime({width:"full"});break}return it.replace("{{date}}",dateLongFormatter(nt,et)).replace("{{time}}",timeLongFormatter(st,et))},longFormatters={p:timeLongFormatter,P:dateTimeLongFormatter},dayOfYearTokenRE=/^D+$/,weekYearTokenRE=/^Y+$/,throwTokens=["D","DD","YY","YYYY"];function isProtectedDayOfYearToken(_e){return dayOfYearTokenRE.test(_e)}function isProtectedWeekYearToken(_e){return weekYearTokenRE.test(_e)}function warnOrThrowProtectedError(_e,et,rt){const nt=message(_e,et,rt);if(console.warn(nt),throwTokens.includes(_e))throw new RangeError(nt)}function message(_e,et,rt){const nt=_e[0]==="Y"?"years":"days of the month";return`Use \`${_e.toLowerCase()}\` instead of \`${_e}\` (in \`${et}\`) for formatting ${nt} to the input \`${rt}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const formattingTokensRegExp=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,longFormattingTokensRegExp=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,escapedStringRegExp=/^'([^]*?)'?$/,doubleQuoteRegExp=/''/g,unescapedLatinCharacterRegExp=/[a-zA-Z]/;function format$1(_e,et,rt){var ut,dt,pt,mt;const nt=getDefaultOptions(),st=nt.locale??enUS,it=nt.firstWeekContainsDate??((dt=(ut=nt.locale)==null?void 0:ut.options)==null?void 0:dt.firstWeekContainsDate)??1,at=nt.weekStartsOn??((mt=(pt=nt.locale)==null?void 0:pt.options)==null?void 0:mt.weekStartsOn)??0,ot=toDate(_e,rt==null?void 0:rt.in);if(!isValid(ot))throw new RangeError("Invalid time value");let lt=et.match(longFormattingTokensRegExp).map(xt=>{const yt=xt[0];if(yt==="p"||yt==="P"){const vt=longFormatters[yt];return vt(xt,st.formatLong)}return xt}).join("").match(formattingTokensRegExp).map(xt=>{if(xt==="''")return{isToken:!1,value:"'"};const yt=xt[0];if(yt==="'")return{isToken:!1,value:cleanEscapedString(xt)};if(formatters[yt])return{isToken:!0,value:xt};if(yt.match(unescapedLatinCharacterRegExp))throw new RangeError("Format string contains an unescaped latin alphabet character `"+yt+"`");return{isToken:!1,value:xt}});st.localize.preprocessor&&(lt=st.localize.preprocessor(ot,lt));const ct={firstWeekContainsDate:it,weekStartsOn:at,locale:st};return lt.map(xt=>{if(!xt.isToken)return xt.value;const yt=xt.value;(isProtectedWeekYearToken(yt)||isProtectedDayOfYearToken(yt))&&warnOrThrowProtectedError(yt,et,String(_e));const vt=formatters[yt[0]];return vt(ot,yt,st.localize,ct)}).join("")}function cleanEscapedString(_e){const et=_e.match(escapedStringRegExp);return et?et[1].replace(doubleQuoteRegExp,"'"):_e}function formatDistance$1(_e,et,rt){const nt=getDefaultOptions(),st=(rt==null?void 0:rt.locale)??nt.locale??enUS,it=2520,at=compareAsc(_e,et);if(isNaN(at))throw new RangeError("Invalid time value");const ot=Object.assign({},rt,{addSuffix:rt==null?void 0:rt.addSuffix,comparison:at}),[lt,ct]=normalizeDates(rt==null?void 0:rt.in,...at>0?[et,_e]:[_e,et]),ut=differenceInSeconds(ct,lt),dt=(getTimezoneOffsetInMilliseconds(ct)-getTimezoneOffsetInMilliseconds(lt))/1e3,pt=Math.round((ut-dt)/60);let mt;if(pt<2)return rt!=null&&rt.includeSeconds?ut<5?st.formatDistance("lessThanXSeconds",5,ot):ut<10?st.formatDistance("lessThanXSeconds",10,ot):ut<20?st.formatDistance("lessThanXSeconds",20,ot):ut<40?st.formatDistance("halfAMinute",0,ot):ut<60?st.formatDistance("lessThanXMinutes",1,ot):st.formatDistance("xMinutes",1,ot):pt===0?st.formatDistance("lessThanXMinutes",1,ot):st.formatDistance("xMinutes",pt,ot);if(pt<45)return st.formatDistance("xMinutes",pt,ot);if(pt<90)return st.formatDistance("aboutXHours",1,ot);if(pt<minutesInDay){const xt=Math.round(pt/60);return st.formatDistance("aboutXHours",xt,ot)}else{if(pt<it)return st.formatDistance("xDays",1,ot);if(pt<minutesInMonth){const xt=Math.round(pt/minutesInDay);return st.formatDistance("xDays",xt,ot)}else if(pt<minutesInMonth*2)return mt=Math.round(pt/minutesInMonth),st.formatDistance("aboutXMonths",mt,ot)}if(mt=differenceInMonths(ct,lt),mt<12){const xt=Math.round(pt/minutesInMonth);return st.formatDistance("xMonths",xt,ot)}else{const xt=mt%12,yt=Math.trunc(mt/12);return xt<3?st.formatDistance("aboutXYears",yt,ot):xt<9?st.formatDistance("overXYears",yt,ot):st.formatDistance("almostXYears",yt+1,ot)}}function formatDistanceToNow(_e,et){return formatDistance$1(_e,constructNow(_e),et)}function subDays(_e,et,rt){return addDays(_e,-et,rt)}const formatDistanceLocale={lessThanXSeconds:{one:"di 1 giy",other:"di {{count}} giy"},xSeconds:{one:"1 giy",other:"{{count}} giy"},halfAMinute:"na pht",lessThanXMinutes:{one:"di 1 pht",other:"di {{count}} pht"},xMinutes:{one:"1 pht",other:"{{count}} pht"},aboutXHours:{one:"khong 1 gi",other:"khong {{count}} gi"},xHours:{one:"1 gi",other:"{{count}} gi"},xDays:{one:"1 ngy",other:"{{count}} ngy"},aboutXWeeks:{one:"khong 1 tun",other:"khong {{count}} tun"},xWeeks:{one:"1 tun",other:"{{count}} tun"},aboutXMonths:{one:"khong 1 thng",other:"khong {{count}} thng"},xMonths:{one:"1 thng",other:"{{count}} thng"},aboutXYears:{one:"khong 1 nm",other:"khong {{count}} nm"},xYears:{one:"1 nm",other:"{{count}} nm"},overXYears:{one:"hn 1 nm",other:"hn {{count}} nm"},almostXYears:{one:"gn 1 nm",other:"gn {{count}} nm"}},formatDistance=(_e,et,rt)=>{let nt;const st=formatDistanceLocale[_e];return typeof st=="string"?nt=st:et===1?nt=st.one:nt=st.other.replace("{{count}}",String(et)),rt!=null&&rt.addSuffix?rt.comparison&&rt.comparison>0?nt+" na":nt+" trc":nt},dateFormats={full:"EEEE, 'ngy' d MMMM 'nm' y",long:"'ngy' d MMMM 'nm' y",medium:"d MMM 'nm' y",short:"dd/MM/y"},timeFormats={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},dateTimeFormats={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},formatLong={date:buildFormatLongFn({formats:dateFormats,defaultWidth:"full"}),time:buildFormatLongFn({formats:timeFormats,defaultWidth:"full"}),dateTime:buildFormatLongFn({formats:dateTimeFormats,defaultWidth:"full"})},formatRelativeLocale={lastWeek:"eeee 'tun trc vo lc' p",yesterday:"'hm qua vo lc' p",today:"'hm nay vo lc' p",tomorrow:"'ngy mai vo lc' p",nextWeek:"eeee 'ti vo lc' p",other:"P"},formatRelative=(_e,et,rt,nt)=>formatRelativeLocale[_e],eraValues={narrow:["TCN","SCN"],abbreviated:["trc CN","sau CN"],wide:["trc Cng Nguyn","sau Cng Nguyn"]},quarterValues={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["Qu 1","Qu 2","Qu 3","Qu 4"]},formattingQuarterValues={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["qu I","qu II","qu III","qu IV"]},monthValues={narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["Thg 1","Thg 2","Thg 3","Thg 4","Thg 5","Thg 6","Thg 7","Thg 8","Thg 9","Thg 10","Thg 11","Thg 12"],wide:["Thng Mt","Thng Hai","Thng Ba","Thng T","Thng Nm","Thng Su","Thng By","Thng Tm","Thng Chn","Thng Mi","Thng Mi Mt","Thng Mi Hai"]},formattingMonthValues={narrow:["01","02","03","04","05","06","07","08","09","10","11","12"],abbreviated:["thg 1","thg 2","thg 3","thg 4","thg 5","thg 6","thg 7","thg 8","thg 9","thg 10","thg 11","thg 12"],wide:["thng 01","thng 02","thng 03","thng 04","thng 05","thng 06","thng 07","thng 08","thng 09","thng 10","thng 11","thng 12"]},dayValues={narrow:["CN","T2","T3","T4","T5","T6","T7"],short:["CN","Th 2","Th 3","Th 4","Th 5","Th 6","Th 7"],abbreviated:["CN","Th 2","Th 3","Th 4","Th 5","Th 6","Th 7"],wide:["Ch Nht","Th Hai","Th Ba","Th T","Th Nm","Th Su","Th By"]},dayPeriodValues={narrow:{am:"am",pm:"pm",midnight:"na m",noon:"tr",morning:"sg",afternoon:"ch",evening:"ti",night:"m"},abbreviated:{am:"AM",pm:"PM",midnight:"na m",noon:"tra",morning:"sng",afternoon:"chiu",evening:"ti",night:"m"},wide:{am:"SA",pm:"CH",midnight:"na m",noon:"tra",morning:"sng",afternoon:"chiu",evening:"ti",night:"m"}},formattingDayPeriodValues={narrow:{am:"am",pm:"pm",midnight:"na m",noon:"tr",morning:"sg",afternoon:"ch",evening:"ti",night:"m"},abbreviated:{am:"AM",pm:"PM",midnight:"na m",noon:"tra",morning:"sng",afternoon:"chiu",evening:"ti",night:"m"},wide:{am:"SA",pm:"CH",midnight:"na m",noon:"gia tra",morning:"vo bui sng",afternoon:"vo bui chiu",evening:"vo bui ti",night:"vo ban m"}},ordinalNumber=(_e,et)=>{const rt=Number(_e),nt=et==null?void 0:et.unit;if(nt==="quarter")switch(rt){case 1:return"I";case 2:return"II";case 3:return"III";case 4:return"IV"}else if(nt==="day")switch(rt){case 1:return"th 2";case 2:return"th 3";case 3:return"th 4";case 4:return"th 5";case 5:return"th 6";case 6:return"th 7";case 7:return"ch nht"}else{if(nt==="week")return rt===1?"th nht":"th "+rt;if(nt==="dayOfYear")return rt===1?"u tin":"th "+rt}return String(rt)},localize={ordinalNumber,era:buildLocalizeFn({values:eraValues,defaultWidth:"wide"}),quarter:buildLocalizeFn({values:quarterValues,defaultWidth:"wide",formattingValues:formattingQuarterValues,defaultFormattingWidth:"wide",argumentCallback:_e=>_e-1}),month:buildLocalizeFn({values:monthValues,defaultWidth:"wide",formattingValues:formattingMonthValues,defaultFormattingWidth:"wide"}),day:buildLocalizeFn({values:dayValues,defaultWidth:"wide"}),dayPeriod:buildLocalizeFn({values:dayPeriodValues,defaultWidth:"wide",formattingValues:formattingDayPeriodValues,defaultFormattingWidth:"wide"})},matchOrdinalNumberPattern=/^(\d+)/i,parseOrdinalNumberPattern=/\d+/i,matchEraPatterns={narrow:/^(tcn|scn)/i,abbreviated:/^(trc CN|sau CN)/i,wide:/^(trc Cng Nguyn|sau Cng Nguyn)/i},parseEraPatterns={any:[/^t/i,/^s/i]},matchQuarterPatterns={narrow:/^([1234]|i{1,3}v?)/i,abbreviated:/^q([1234]|i{1,3}v?)/i,wide:/^qu ([1234]|i{1,3}v?)/i},parseQuarterPatterns={any:[/(1|i)$/i,/(2|ii)$/i,/(3|iii)$/i,/(4|iv)$/i]},matchMonthPatterns={narrow:/^(0?[2-9]|10|11|12|0?1)/i,abbreviated:/^thg[ _]?(0?[1-9](?!\d)|10|11|12)/i,wide:/^thng ?(Mt|Hai|Ba|T|Nm|Su|By|Tm|Chn|Mi|Mi ?Mt|Mi ?Hai|0?[1-9](?!\d)|10|11|12)/i},parseMonthPatterns={narrow:[/0?1$/i,/0?2/i,/3/,/4/,/5/,/6/,/7/,/8/,/9/,/10/,/11/,/12/],abbreviated:[/^thg[ _]?0?1(?!\d)/i,/^thg[ _]?0?2/i,/^thg[ _]?0?3/i,/^thg[ _]?0?4/i,/^thg[ _]?0?5/i,/^thg[ _]?0?6/i,/^thg[ _]?0?7/i,/^thg[ _]?0?8/i,/^thg[ _]?0?9/i,/^thg[ _]?10/i,/^thg[ _]?11/i,/^thg[ _]?12/i],wide:[/^thng ?(Mt|0?1(?!\d))/i,/^thng ?(Hai|0?2)/i,/^thng ?(Ba|0?3)/i,/^thng ?(T|0?4)/i,/^thng ?(Nm|0?5)/i,/^thng ?(Su|0?6)/i,/^thng ?(By|0?7)/i,/^thng ?(Tm|0?8)/i,/^thng ?(Chn|0?9)/i,/^thng ?(Mi|10)/i,/^thng ?(Mi ?Mt|11)/i,/^thng ?(Mi ?Hai|12)/i]},matchDayPatterns={narrow:/^(CN|T2|T3|T4|T5|T6|T7)/i,short:/^(CN|Th ?2|Th ?3|Th ?4|Th ?5|Th ?6|Th ?7)/i,abbreviated:/^(CN|Th ?2|Th ?3|Th ?4|Th ?5|Th ?6|Th ?7)/i,wide:/^(Ch ?Nht|Cha ?Nht|th ?Hai|th ?Ba|th ?T|th ?Nm|th ?Su|th ?By)/i},parseDayPatterns={narrow:[/CN/i,/2/i,/3/i,/4/i,/5/i,/6/i,/7/i],short:[/CN/i,/2/i,/3/i,/4/i,/5/i,/6/i,/7/i],abbreviated:[/CN/i,/2/i,/3/i,/4/i,/5/i,/6/i,/7/i],wide:[/(Ch|Cha) ?Nht/i,/Hai/i,/Ba/i,/T/i,/Nm/i,/Su/i,/By/i]},matchDayPeriodPatterns={narrow:/^(a|p|na m|tra|(gi) (sng|chiu|ti|m))/i,abbreviated:/^(am|pm|na m|tra|(gi) (sng|chiu|ti|m))/i,wide:/^(ch[^i]*|sa|na m|tra|(gi) (sng|chiu|ti|m))/i},parseDayPeriodPatterns={any:{am:/^(a|sa)/i,pm:/^(p|ch[^i]*)/i,midnight:/na m/i,noon:/tra/i,morning:/sng/i,afternoon:/chiu/i,evening:/ti/i,night:/^m/i}},match={ordinalNumber:buildMatchPatternFn({matchPattern:matchOrdinalNumberPattern,parsePattern:parseOrdinalNumberPattern,valueCallback:_e=>parseInt(_e,10)}),era:buildMatchFn({matchPatterns:matchEraPatterns,defaultMatchWidth:"wide",parsePatterns:parseEraPatterns,defaultParseWidth:"any"}),quarter:buildMatchFn({matchPatterns:matchQuarterPatterns,defaultMatchWidth:"wide",parsePatterns:parseQuarterPatterns,defaultParseWidth:"any",valueCallback:_e=>_e+1}),month:buildMatchFn({matchPatterns:matchMonthPatterns,defaultMatchWidth:"wide",parsePatterns:parseMonthPatterns,defaultParseWidth:"wide"}),day:buildMatchFn({matchPatterns:matchDayPatterns,defaultMatchWidth:"wide",parsePatterns:parseDayPatterns,defaultParseWidth:"wide"}),dayPeriod:buildMatchFn({matchPatterns:matchDayPeriodPatterns,defaultMatchWidth:"wide",parsePatterns:parseDayPeriodPatterns,defaultParseWidth:"any"})},vi={code:"vi",formatDistance,formatLong,formatRelative,localize,match,options:{weekStartsOn:1,firstWeekContainsDate:1}};function AdminMessageDropdown(){const{conversations:_e,unreadCount:et,openBubble:rt,onlineUsers:nt}=useSocket(),[st,it]=reactExports.useState(!1),at=reactExports.useRef(null);reactExports.useEffect(()=>{const ct=ut=>{at.current&&!at.current.contains(ut.target)&&it(!1)};return document.addEventListener("mousedown",ct),()=>{document.removeEventListener("mousedown",ct)}},[]);const ot=ct=>{rt(ct),it(!1)},lt=_e.filter(ct=>ct.status!=="closed"||ct.lastMessage).sort((ct,ut)=>new Date(ut.updatedAt||ut.createdAt).getTime()-new Date(ct.updatedAt||ct.createdAt).getTime()).slice(0,5);return jsxRuntimeExports.jsxs("div",{className:"relative",ref:at,children:[jsxRuntimeExports.jsxs("button",{onClick:()=>it(!st),className:`relative p-2 rounded-full transition-colors ${st?"bg-primary-100 text-primary-600 dark:bg-primary-900/30 dark:text-primary-400":"text-secondary-600 dark:text-secondary-400 hover:bg-secondary-100 dark:hover:bg-secondary-800"}`,title:"Tin nhn",children:[jsxRuntimeExports.jsx(MessageCircle,{className:"w-5 h-5"}),et>0&&jsxRuntimeExports.jsx("span",{className:"absolute top-0 right-0 w-3 h-3 bg-red-500 rounded-full ring-2 ring-white dark:ring-secondary-900 flex items-center justify-center text-[8px] font-bold text-white",children:et})]}),st&&jsxRuntimeExports.jsxs("div",{className:"absolute top-full right-0 mt-2 w-80 sm:w-96 bg-white dark:bg-secondary-900 rounded-xl shadow-2xl border border-secondary-200 dark:border-secondary-800 overflow-hidden z-50 animate-fade-in origin-top-right",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b border-secondary-100 dark:border-secondary-800 flex items-center justify-between",children:[jsxRuntimeExports.jsx("h3",{className:"font-bold text-lg text-secondary-900 dark:text-white",children:"Tin nhn"}),jsxRuntimeExports.jsx(Link$1,{to:"/admin/chat",onClick:()=>it(!1),className:"text-sm text-blue-600 dark:text-blue-400 hover:underline font-medium",children:"Xem tt c"})]}),jsxRuntimeExports.jsx("div",{className:"max-h-[400px] overflow-y-auto custom-scrollbar bg-white dark:bg-secondary-900",children:lt.length>0?lt.map(ct=>{var pt;const ut=ct.status==="waiting",dt=ct.userId&&nt.includes(ct.userId);return jsxRuntimeExports.jsxs("div",{onClick:()=>ot(ct.id),className:"flex p-3 hover:bg-secondary-50 dark:hover:bg-secondary-800 cursor-pointer transition-colors relative group",children:[jsxRuntimeExports.jsxs("div",{className:"relative flex-shrink-0 mr-3 self-center",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 rounded-full bg-secondary-200 dark:bg-secondary-700 flex items-center justify-center text-lg font-bold text-secondary-600 dark:text-secondary-300 overflow-hidden",children:ct.avatarUrl?jsxRuntimeExports.jsx("img",{src:ct.avatarUrl,alt:ct.guestName||"User",className:"w-full h-full object-cover"}):(((pt=ct.guestName)==null?void 0:pt[0])||"K").toUpperCase()}),dt&&jsxRuntimeExports.jsx("span",{className:"absolute bottom-0 right-0 w-3.5 h-3.5 bg-green-500 border-2 border-white dark:border-secondary-900 rounded-full",title:"Online"})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0 flex flex-col justify-center",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-baseline mb-0.5",children:[jsxRuntimeExports.jsx("h4",{className:`text-[15px] truncate pr-2 ${ut?"font-bold text-secondary-900 dark:text-white":"font-medium text-secondary-900 dark:text-white"}`,children:ct.guestName||"Khch hng"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-secondary-500 dark:text-secondary-400 whitespace-nowrap flex-shrink-0",children:ct.updatedAt?formatDistanceToNow(new Date(ct.updatedAt),{addSuffix:!0,locale:vi}).replace("khong ",""):"Va xong"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("p",{className:`text-sm truncate w-full ${ut?"font-semibold text-blue-600 dark:text-blue-400":"text-secondary-500 dark:text-secondary-400"}`,children:ct.lastMessage||" gi mt tin nhn"}),ut&&jsxRuntimeExports.jsx("span",{className:"w-2.5 h-2.5 bg-blue-600 rounded-full flex-shrink-0 ml-2"})]})]})]},ct.id)}):jsxRuntimeExports.jsxs("div",{className:"p-8 text-center text-secondary-500 dark:text-secondary-400",children:[jsxRuntimeExports.jsx(MessageCircle,{className:"w-10 h-10 mx-auto mb-3 opacity-20"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-secondary-500",children:"Cha c tin nhn no"})]})})]})]})}function AdminChatManager(){const{activeBubbles:_e,conversations:et,closeBubble:rt,messagesByConv:nt,sendMessage:st,setTyping:it}=useSocket();return jsxRuntimeExports.jsx("div",{className:"fixed bottom-0 right-4 z-50 flex items-end gap-3 pointer-events-none",children:_e.map(at=>{const ot=et.find(lt=>lt.id===at);return ot?jsxRuntimeExports.jsx(AdminChatBubble,{conversation:ot,messages:nt[at]||[],onClose:()=>rt(at),onSend:lt=>st(lt,at),onTyping:lt=>it(lt,at)},at):null})})}function AdminChatBubble({conversation:_e,messages:et,onClose:rt,onSend:nt,onTyping:st}){var vt;const[it,at]=reactExports.useState(!1),[ot,lt]=reactExports.useState(""),[ct,ut]=reactExports.useState(!1),dt=reactExports.useRef(null),pt=reactExports.useRef(null);reactExports.useEffect(()=>{!it&&dt.current&&setTimeout(()=>{var gt;(gt=dt.current)==null||gt.scrollIntoView({behavior:"auto"})},100)},[et,it]);const mt=()=>{ot.trim()&&(nt(ot),lt(""))},xt=gt=>{lt(gt.target.value),st(gt.target.value.length>0)},yt=async()=>{if(et.length!==0){ut(!0);try{const Et=`Da trn lch s chat ny, hy gi  cu tr li tip theo:

${et.slice(-10).map(kt=>`${kt.senderType==="admin"?"Support":"Khch"}: ${kt.content}`).join(`
`)}`,jt=await adminAPI.generate(Et,"chat_reply");jt.data.success&&(lt(jt.data.data),setTimeout(()=>{var kt;return(kt=pt.current)==null?void 0:kt.focus()},100))}catch(gt){zt.error("Khng th to gi  lc ny"),console.error(gt)}finally{ut(!1)}}};return it?jsxRuntimeExports.jsx("div",{className:"pointer-events-auto bg-white dark:bg-secondary-800 shadow-lg rounded-t-lg border border-secondary-200 dark:border-secondary-700 w-64",children:jsxRuntimeExports.jsxs("div",{className:"p-3 flex items-center justify-between cursor-pointer hover:bg-secondary-50 dark:hover:bg-secondary-700 transition-colors rounded-t-lg",onClick:()=>at(!1),children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 rounded-full bg-secondary-200 dark:bg-secondary-700 flex items-center justify-center flex-shrink-0",children:jsxRuntimeExports.jsx(User,{className:"w-4 h-4 text-secondary-600"})}),jsxRuntimeExports.jsx("span",{className:"absolute -bottom-0.5 -right-0.5 w-2.5 h-2.5 bg-green-500 border-2 border-white dark:border-secondary-800 rounded-full"})]}),jsxRuntimeExports.jsx("span",{className:"font-semibold text-sm text-secondary-900 dark:text-white truncate",children:_e.guestName||"Khch hng"})]}),jsxRuntimeExports.jsx("button",{onClick:gt=>{gt.stopPropagation(),rt()},className:"p-1 text-secondary-400 hover:bg-secondary-200 dark:hover:bg-secondary-600 rounded-full",children:jsxRuntimeExports.jsx(X$2,{className:"w-4 h-4"})})]})}):jsxRuntimeExports.jsxs("div",{className:"pointer-events-auto bg-white dark:bg-secondary-800 shadow-xl rounded-t-xl border border-secondary-200 dark:border-secondary-700 w-80 h-[450px] flex flex-col animate-slide-up",children:[jsxRuntimeExports.jsxs("div",{className:"p-3 border-b border-secondary-200 dark:border-secondary-700 flex items-center justify-between bg-white dark:bg-secondary-800 rounded-t-xl cursor-pointer",onClick:()=>at(!0),children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"w-9 h-9 rounded-full bg-indigo-50 dark:bg-indigo-900/30 flex items-center justify-center text-primary-600 dark:text-primary-400 font-bold text-xs ring-2 ring-white dark:ring-secondary-800 overflow-hidden",children:_e.avatarUrl?jsxRuntimeExports.jsx("img",{src:_e.avatarUrl,alt:"",className:"w-full h-full object-cover"}):(((vt=_e.guestName)==null?void 0:vt[0])||"K").toUpperCase()}),_e.status==="active"&&jsxRuntimeExports.jsx("span",{className:"absolute bottom-0 right-0 w-2.5 h-2.5 bg-green-500 border-2 border-white dark:border-secondary-800 rounded-full"})]}),jsxRuntimeExports.jsxs("div",{className:"min-w-0",children:[jsxRuntimeExports.jsx("h4",{className:"font-bold text-sm text-secondary-900 dark:text-white truncate",children:_e.guestName||"Khch hng"}),jsxRuntimeExports.jsx("p",{className:"text-[10px] text-green-600 font-medium flex items-center gap-1",children:"ang hot ng"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx("button",{onClick:gt=>{gt.stopPropagation(),at(!0)},className:"p-1.5 text-secondary-400 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-full transition-colors",children:jsxRuntimeExports.jsx(Minus,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("button",{onClick:gt=>{gt.stopPropagation(),rt()},className:"p-1.5 text-secondary-400 hover:bg-red-50 hover:text-red-500 rounded-full transition-colors",children:jsxRuntimeExports.jsx(X$2,{className:"w-4 h-4"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 overflow-y-auto p-3 space-y-3 bg-secondary-50 dark:bg-secondary-900/50",children:[et.map(gt=>{const Et=gt.senderType==="admin";return gt.senderType==="system"?jsxRuntimeExports.jsx("div",{className:"flex justify-center my-2",children:jsxRuntimeExports.jsx("span",{className:"text-[10px] text-secondary-400 bg-secondary-100 dark:bg-secondary-800 px-2 py-0.5 rounded-full",children:gt.content})},gt.id):jsxRuntimeExports.jsxs("div",{className:`flex gap-2 ${Et?"justify-end":"justify-start"}`,children:[!Et&&jsxRuntimeExports.jsx("div",{className:"w-6 h-6 rounded-full bg-secondary-200 dark:bg-secondary-700 flex items-center justify-center flex-shrink-0 mt-auto overflow-hidden",children:_e.avatarUrl?jsxRuntimeExports.jsx("img",{src:_e.avatarUrl,alt:"",className:"w-full h-full object-cover"}):jsxRuntimeExports.jsx(User,{className:"w-3 h-3 text-secondary-600"})}),jsxRuntimeExports.jsx("div",{className:`max-w-[75%] px-3 py-2 rounded-2xl text-sm break-words ${Et?"bg-primary-600 text-white rounded-br-sm":"bg-white dark:bg-secondary-800 text-secondary-800 dark:text-gray-200 border border-secondary-100 dark:border-secondary-700 rounded-bl-sm shadow-sm"}`,children:gt.content})]},gt.id)}),jsxRuntimeExports.jsx("div",{ref:dt})]}),jsxRuntimeExports.jsx("div",{className:"p-3 bg-white dark:bg-secondary-800 border-t border-secondary-200 dark:border-secondary-700",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{ref:pt,type:"text",value:ot,onChange:xt,onKeyPress:gt=>gt.key==="Enter"&&mt(),placeholder:"Nhp tin nhn...",className:"flex-1 bg-secondary-100 dark:bg-secondary-700 border-none rounded-full px-4 py-2 text-sm focus:ring-1 focus:ring-primary-500 focus:outline-none text-secondary-900 dark:text-white placeholder-secondary-400",autoFocus:!0}),jsxRuntimeExports.jsx("button",{onClick:yt,disabled:ct||et.length===0,className:"p-2 text-primary-600 hover:bg-primary-50 dark:hover:bg-simple-gray-800 rounded-full disabled:opacity-50 transition-colors flex-shrink-0",title:"AI Gi  tr li",children:ct?jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin"}):jsxRuntimeExports.jsx(Sparkles,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("button",{onClick:mt,disabled:!ot.trim(),className:"p-2 bg-primary-600 text-white rounded-full hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex-shrink-0",children:jsxRuntimeExports.jsx(Send,{className:"w-4 h-4"})})]})})]})}function ok$1(){}function unreachable(){}function stringify$1(_e,et){const rt={};return(_e[_e.length-1]===""?[..._e,""]:_e).join((rt.padRight?" ":"")+","+(rt.padLeft===!1?"":" ")).trim()}const nameRe=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,nameReJsx=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,emptyOptions$3={};function name(_e,et){return(emptyOptions$3.jsx?nameReJsx:nameRe).test(_e)}const re$2=/[ \t\n\f\r]/g;function whitespace$1(_e){return typeof _e=="object"?_e.type==="text"?empty$2(_e.value):!1:empty$2(_e)}function empty$2(_e){return _e.replace(re$2,"")===""}let Schema$1=class{constructor(et,rt,nt){this.normal=rt,this.property=et,nt&&(this.space=nt)}};Schema$1.prototype.normal={};Schema$1.prototype.property={};Schema$1.prototype.space=void 0;function merge(_e,et){const rt={},nt={};for(const st of _e)Object.assign(rt,st.property),Object.assign(nt,st.normal);return new Schema$1(rt,nt,et)}function normalize$3(_e){return _e.toLowerCase()}class Info{constructor(et,rt){this.attribute=rt,this.property=et}}Info.prototype.attribute="";Info.prototype.booleanish=!1;Info.prototype.boolean=!1;Info.prototype.commaOrSpaceSeparated=!1;Info.prototype.commaSeparated=!1;Info.prototype.defined=!1;Info.prototype.mustUseProperty=!1;Info.prototype.number=!1;Info.prototype.overloadedBoolean=!1;Info.prototype.property="";Info.prototype.spaceSeparated=!1;Info.prototype.space=void 0;let powers=0;const boolean=increment(),booleanish=increment(),overloadedBoolean=increment(),number$3=increment(),spaceSeparated=increment(),commaSeparated=increment(),commaOrSpaceSeparated=increment();function increment(){return 2**++powers}const types=Object.freeze(Object.defineProperty({__proto__:null,boolean,booleanish,commaOrSpaceSeparated,commaSeparated,number:number$3,overloadedBoolean,spaceSeparated},Symbol.toStringTag,{value:"Module"})),checks=Object.keys(types);class DefinedInfo extends Info{constructor(et,rt,nt,st){let it=-1;if(super(et,rt),mark(this,"space",st),typeof nt=="number")for(;++it<checks.length;){const at=checks[it];mark(this,checks[it],(nt&types[at])===types[at])}}}DefinedInfo.prototype.defined=!0;function mark(_e,et,rt){rt&&(_e[et]=rt)}function create(_e){const et={},rt={};for(const[nt,st]of Object.entries(_e.properties)){const it=new DefinedInfo(nt,_e.transform(_e.attributes||{},nt),st,_e.space);_e.mustUseProperty&&_e.mustUseProperty.includes(nt)&&(it.mustUseProperty=!0),et[nt]=it,rt[normalize$3(nt)]=nt,rt[normalize$3(it.attribute)]=nt}return new Schema$1(et,rt,_e.space)}const aria=create({properties:{ariaActiveDescendant:null,ariaAtomic:booleanish,ariaAutoComplete:null,ariaBusy:booleanish,ariaChecked:booleanish,ariaColCount:number$3,ariaColIndex:number$3,ariaColSpan:number$3,ariaControls:spaceSeparated,ariaCurrent:null,ariaDescribedBy:spaceSeparated,ariaDetails:null,ariaDisabled:booleanish,ariaDropEffect:spaceSeparated,ariaErrorMessage:null,ariaExpanded:booleanish,ariaFlowTo:spaceSeparated,ariaGrabbed:booleanish,ariaHasPopup:null,ariaHidden:booleanish,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:spaceSeparated,ariaLevel:number$3,ariaLive:null,ariaModal:booleanish,ariaMultiLine:booleanish,ariaMultiSelectable:booleanish,ariaOrientation:null,ariaOwns:spaceSeparated,ariaPlaceholder:null,ariaPosInSet:number$3,ariaPressed:booleanish,ariaReadOnly:booleanish,ariaRelevant:null,ariaRequired:booleanish,ariaRoleDescription:spaceSeparated,ariaRowCount:number$3,ariaRowIndex:number$3,ariaRowSpan:number$3,ariaSelected:booleanish,ariaSetSize:number$3,ariaSort:null,ariaValueMax:number$3,ariaValueMin:number$3,ariaValueNow:number$3,ariaValueText:null,role:null},transform(_e,et){return et==="role"?et:"aria-"+et.slice(4).toLowerCase()}});function caseSensitiveTransform(_e,et){return et in _e?_e[et]:et}function caseInsensitiveTransform(_e,et){return caseSensitiveTransform(_e,et.toLowerCase())}const html$3=create({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:commaSeparated,acceptCharset:spaceSeparated,accessKey:spaceSeparated,action:null,allow:null,allowFullScreen:boolean,allowPaymentRequest:boolean,allowUserMedia:boolean,alt:null,as:null,async:boolean,autoCapitalize:null,autoComplete:spaceSeparated,autoFocus:boolean,autoPlay:boolean,blocking:spaceSeparated,capture:null,charSet:null,checked:boolean,cite:null,className:spaceSeparated,cols:number$3,colSpan:null,content:null,contentEditable:booleanish,controls:boolean,controlsList:spaceSeparated,coords:number$3|commaSeparated,crossOrigin:null,data:null,dateTime:null,decoding:null,default:boolean,defer:boolean,dir:null,dirName:null,disabled:boolean,download:overloadedBoolean,draggable:booleanish,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:boolean,formTarget:null,headers:spaceSeparated,height:number$3,hidden:overloadedBoolean,high:number$3,href:null,hrefLang:null,htmlFor:spaceSeparated,httpEquiv:spaceSeparated,id:null,imageSizes:null,imageSrcSet:null,inert:boolean,inputMode:null,integrity:null,is:null,isMap:boolean,itemId:null,itemProp:spaceSeparated,itemRef:spaceSeparated,itemScope:boolean,itemType:spaceSeparated,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:boolean,low:number$3,manifest:null,max:null,maxLength:number$3,media:null,method:null,min:null,minLength:number$3,multiple:boolean,muted:boolean,name:null,nonce:null,noModule:boolean,noValidate:boolean,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:boolean,optimum:number$3,pattern:null,ping:spaceSeparated,placeholder:null,playsInline:boolean,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:boolean,referrerPolicy:null,rel:spaceSeparated,required:boolean,reversed:boolean,rows:number$3,rowSpan:number$3,sandbox:spaceSeparated,scope:null,scoped:boolean,seamless:boolean,selected:boolean,shadowRootClonable:boolean,shadowRootDelegatesFocus:boolean,shadowRootMode:null,shape:null,size:number$3,sizes:null,slot:null,span:number$3,spellCheck:booleanish,src:null,srcDoc:null,srcLang:null,srcSet:null,start:number$3,step:null,style:null,tabIndex:number$3,target:null,title:null,translate:null,type:null,typeMustMatch:boolean,useMap:null,value:booleanish,width:number$3,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:spaceSeparated,axis:null,background:null,bgColor:null,border:number$3,borderColor:null,bottomMargin:number$3,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:boolean,declare:boolean,event:null,face:null,frame:null,frameBorder:null,hSpace:number$3,leftMargin:number$3,link:null,longDesc:null,lowSrc:null,marginHeight:number$3,marginWidth:number$3,noResize:boolean,noHref:boolean,noShade:boolean,noWrap:boolean,object:null,profile:null,prompt:null,rev:null,rightMargin:number$3,rules:null,scheme:null,scrolling:booleanish,standby:null,summary:null,text:null,topMargin:number$3,valueType:null,version:null,vAlign:null,vLink:null,vSpace:number$3,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:boolean,disableRemotePlayback:boolean,prefix:null,property:null,results:number$3,security:null,unselectable:null},space:"html",transform:caseInsensitiveTransform}),svg$1=create({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:commaOrSpaceSeparated,accentHeight:number$3,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:number$3,amplitude:number$3,arabicForm:null,ascent:number$3,attributeName:null,attributeType:null,azimuth:number$3,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:number$3,by:null,calcMode:null,capHeight:number$3,className:spaceSeparated,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:number$3,diffuseConstant:number$3,direction:null,display:null,dur:null,divisor:number$3,dominantBaseline:null,download:boolean,dx:null,dy:null,edgeMode:null,editable:null,elevation:number$3,enableBackground:null,end:null,event:null,exponent:number$3,externalResourcesRequired:null,fill:null,fillOpacity:number$3,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:commaSeparated,g2:commaSeparated,glyphName:commaSeparated,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:number$3,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:number$3,horizOriginX:number$3,horizOriginY:number$3,id:null,ideographic:number$3,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:number$3,k:number$3,k1:number$3,k2:number$3,k3:number$3,k4:number$3,kernelMatrix:commaOrSpaceSeparated,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:number$3,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:number$3,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:number$3,overlineThickness:number$3,paintOrder:null,panose1:null,path:null,pathLength:number$3,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:spaceSeparated,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:number$3,pointsAtY:number$3,pointsAtZ:number$3,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:commaOrSpaceSeparated,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:commaOrSpaceSeparated,rev:commaOrSpaceSeparated,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:commaOrSpaceSeparated,requiredFeatures:commaOrSpaceSeparated,requiredFonts:commaOrSpaceSeparated,requiredFormats:commaOrSpaceSeparated,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:number$3,specularExponent:number$3,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:number$3,strikethroughThickness:number$3,string:null,stroke:null,strokeDashArray:commaOrSpaceSeparated,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:number$3,strokeOpacity:number$3,strokeWidth:null,style:null,surfaceScale:number$3,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:commaOrSpaceSeparated,tabIndex:number$3,tableValues:null,target:null,targetX:number$3,targetY:number$3,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:commaOrSpaceSeparated,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:number$3,underlineThickness:number$3,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:number$3,values:null,vAlphabetic:number$3,vMathematical:number$3,vectorEffect:null,vHanging:number$3,vIdeographic:number$3,version:null,vertAdvY:number$3,vertOriginX:number$3,vertOriginY:number$3,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:number$3,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:caseSensitiveTransform}),xlink=create({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(_e,et){return"xlink:"+et.slice(5).toLowerCase()}}),xmlns=create({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:caseInsensitiveTransform}),xml=create({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(_e,et){return"xml:"+et.slice(3).toLowerCase()}}),hastToReact={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},cap$1=/[A-Z]/g,dash=/-[a-z]/g,valid=/^data[-\w.:]+$/i;function find$1(_e,et){const rt=normalize$3(et);let nt=et,st=Info;if(rt in _e.normal)return _e.property[_e.normal[rt]];if(rt.length>4&&rt.slice(0,4)==="data"&&valid.test(et)){if(et.charAt(4)==="-"){const it=et.slice(5).replace(dash,camelcase);nt="data"+it.charAt(0).toUpperCase()+it.slice(1)}else{const it=et.slice(4);if(!dash.test(it)){let at=it.replace(cap$1,kebab);at.charAt(0)!=="-"&&(at="-"+at),et="data"+at}}st=DefinedInfo}return new st(nt,et)}function kebab(_e){return"-"+_e.toLowerCase()}function camelcase(_e){return _e.charAt(1).toUpperCase()}const html$2=merge([aria,html$3,xlink,xmlns,xml],"html"),svg=merge([aria,svg$1,xlink,xmlns,xml],"svg");function stringify(_e){return _e.join(" ").trim()}var cjs$2={},COMMENT_REGEX=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,NEWLINE_REGEX=/\n/g,WHITESPACE_REGEX=/^\s*/,PROPERTY_REGEX=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,COLON_REGEX=/^:\s*/,VALUE_REGEX=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,SEMICOLON_REGEX=/^[;\s]*/,TRIM_REGEX=/^\s+|\s+$/g,NEWLINE=`
`,FORWARD_SLASH="/",ASTERISK$1="*",EMPTY_STRING="",TYPE_COMMENT="comment",TYPE_DECLARATION="declaration";function index$1(_e,et){if(typeof _e!="string")throw new TypeError("First argument must be a string");if(!_e)return[];et=et||{};var rt=1,nt=1;function st(xt){var yt=xt.match(NEWLINE_REGEX);yt&&(rt+=yt.length);var vt=xt.lastIndexOf(NEWLINE);nt=~vt?xt.length-vt:nt+xt.length}function it(){var xt={line:rt,column:nt};return function(yt){return yt.position=new at(xt),ct(),yt}}function at(xt){this.start=xt,this.end={line:rt,column:nt},this.source=et.source}at.prototype.content=_e;function ot(xt){var yt=new Error(et.source+":"+rt+":"+nt+": "+xt);if(yt.reason=xt,yt.filename=et.source,yt.line=rt,yt.column=nt,yt.source=_e,!et.silent)throw yt}function lt(xt){var yt=xt.exec(_e);if(yt){var vt=yt[0];return st(vt),_e=_e.slice(vt.length),yt}}function ct(){lt(WHITESPACE_REGEX)}function ut(xt){var yt;for(xt=xt||[];yt=dt();)yt!==!1&&xt.push(yt);return xt}function dt(){var xt=it();if(!(FORWARD_SLASH!=_e.charAt(0)||ASTERISK$1!=_e.charAt(1))){for(var yt=2;EMPTY_STRING!=_e.charAt(yt)&&(ASTERISK$1!=_e.charAt(yt)||FORWARD_SLASH!=_e.charAt(yt+1));)++yt;if(yt+=2,EMPTY_STRING===_e.charAt(yt-1))return ot("End of comment missing");var vt=_e.slice(2,yt-2);return nt+=2,st(vt),_e=_e.slice(yt),nt+=2,xt({type:TYPE_COMMENT,comment:vt})}}function pt(){var xt=it(),yt=lt(PROPERTY_REGEX);if(yt){if(dt(),!lt(COLON_REGEX))return ot("property missing ':'");var vt=lt(VALUE_REGEX),gt=xt({type:TYPE_DECLARATION,property:trim(yt[0].replace(COMMENT_REGEX,EMPTY_STRING)),value:vt?trim(vt[0].replace(COMMENT_REGEX,EMPTY_STRING)):EMPTY_STRING});return lt(SEMICOLON_REGEX),gt}}function mt(){var xt=[];ut(xt);for(var yt;yt=pt();)yt!==!1&&(xt.push(yt),ut(xt));return xt}return ct(),mt()}function trim(_e){return _e?_e.replace(TRIM_REGEX,EMPTY_STRING):EMPTY_STRING}var cjs$1=index$1,__importDefault$1=commonjsGlobal&&commonjsGlobal.__importDefault||function(_e){return _e&&_e.__esModule?_e:{default:_e}};Object.defineProperty(cjs$2,"__esModule",{value:!0});cjs$2.default=StyleToObject;const inline_style_parser_1=__importDefault$1(cjs$1);function StyleToObject(_e,et){let rt=null;if(!_e||typeof _e!="string")return rt;const nt=(0,inline_style_parser_1.default)(_e),st=typeof et=="function";return nt.forEach(it=>{if(it.type!=="declaration")return;const{property:at,value:ot}=it;st?et(at,ot,it):ot&&(rt=rt||{},rt[at]=ot)}),rt}var utilities={};Object.defineProperty(utilities,"__esModule",{value:!0});utilities.camelCase=void 0;var CUSTOM_PROPERTY_REGEX=/^--[a-zA-Z0-9_-]+$/,HYPHEN_REGEX=/-([a-z])/g,NO_HYPHEN_REGEX=/^[^-]+$/,VENDOR_PREFIX_REGEX=/^-(webkit|moz|ms|o|khtml)-/,MS_VENDOR_PREFIX_REGEX=/^-(ms)-/,skipCamelCase=function(_e){return!_e||NO_HYPHEN_REGEX.test(_e)||CUSTOM_PROPERTY_REGEX.test(_e)},capitalize=function(_e,et){return et.toUpperCase()},trimHyphen=function(_e,et){return"".concat(et,"-")},camelCase=function(_e,et){return et===void 0&&(et={}),skipCamelCase(_e)?_e:(_e=_e.toLowerCase(),et.reactCompat?_e=_e.replace(MS_VENDOR_PREFIX_REGEX,trimHyphen):_e=_e.replace(VENDOR_PREFIX_REGEX,trimHyphen),_e.replace(HYPHEN_REGEX,capitalize))};utilities.camelCase=camelCase;var __importDefault=commonjsGlobal&&commonjsGlobal.__importDefault||function(_e){return _e&&_e.__esModule?_e:{default:_e}},style_to_object_1=__importDefault(cjs$2),utilities_1=utilities;function StyleToJS(_e,et){var rt={};return!_e||typeof _e!="string"||(0,style_to_object_1.default)(_e,function(nt,st){nt&&st&&(rt[(0,utilities_1.camelCase)(nt,et)]=st)}),rt}StyleToJS.default=StyleToJS;var cjs=StyleToJS;const styleToJs=getDefaultExportFromCjs(cjs),pointEnd=point$5("end"),pointStart=point$5("start");function point$5(_e){return et;function et(rt){const nt=rt&&rt.position&&rt.position[_e]||{};if(typeof nt.line=="number"&&nt.line>0&&typeof nt.column=="number"&&nt.column>0)return{line:nt.line,column:nt.column,offset:typeof nt.offset=="number"&&nt.offset>-1?nt.offset:void 0}}}function position$1(_e){const et=pointStart(_e),rt=pointEnd(_e);if(et&&rt)return{start:et,end:rt}}function stringifyPosition(_e){return!_e||typeof _e!="object"?"":"position"in _e||"type"in _e?position(_e.position):"start"in _e||"end"in _e?position(_e):"line"in _e||"column"in _e?point$4(_e):""}function point$4(_e){return index(_e&&_e.line)+":"+index(_e&&_e.column)}function position(_e){return point$4(_e&&_e.start)+"-"+point$4(_e&&_e.end)}function index(_e){return _e&&typeof _e=="number"?_e:1}class VFileMessage extends Error{constructor(et,rt,nt){super(),typeof rt=="string"&&(nt=rt,rt=void 0);let st="",it={},at=!1;if(rt&&("line"in rt&&"column"in rt?it={place:rt}:"start"in rt&&"end"in rt?it={place:rt}:"type"in rt?it={ancestors:[rt],place:rt.position}:it={...rt}),typeof et=="string"?st=et:!it.cause&&et&&(at=!0,st=et.message,it.cause=et),!it.ruleId&&!it.source&&typeof nt=="string"){const lt=nt.indexOf(":");lt===-1?it.ruleId=nt:(it.source=nt.slice(0,lt),it.ruleId=nt.slice(lt+1))}if(!it.place&&it.ancestors&&it.ancestors){const lt=it.ancestors[it.ancestors.length-1];lt&&(it.place=lt.position)}const ot=it.place&&"start"in it.place?it.place.start:it.place;this.ancestors=it.ancestors||void 0,this.cause=it.cause||void 0,this.column=ot?ot.column:void 0,this.fatal=void 0,this.file="",this.message=st,this.line=ot?ot.line:void 0,this.name=stringifyPosition(it.place)||"1:1",this.place=it.place||void 0,this.reason=this.message,this.ruleId=it.ruleId||void 0,this.source=it.source||void 0,this.stack=at&&it.cause&&typeof it.cause.stack=="string"?it.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}VFileMessage.prototype.file="";VFileMessage.prototype.name="";VFileMessage.prototype.reason="";VFileMessage.prototype.message="";VFileMessage.prototype.stack="";VFileMessage.prototype.column=void 0;VFileMessage.prototype.line=void 0;VFileMessage.prototype.ancestors=void 0;VFileMessage.prototype.cause=void 0;VFileMessage.prototype.fatal=void 0;VFileMessage.prototype.place=void 0;VFileMessage.prototype.ruleId=void 0;VFileMessage.prototype.source=void 0;const own$3={}.hasOwnProperty,emptyMap=new Map,cap=/[A-Z]/g,tableElements=new Set(["table","tbody","thead","tfoot","tr"]),tableCellElement=new Set(["td","th"]),docs="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function toJsxRuntime(_e,et){if(!et||et.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const rt=et.filePath||void 0;let nt;if(et.development){if(typeof et.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");nt=developmentCreate(rt,et.jsxDEV)}else{if(typeof et.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof et.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");nt=productionCreate(rt,et.jsx,et.jsxs)}const st={Fragment:et.Fragment,ancestors:[],components:et.components||{},create:nt,elementAttributeNameCase:et.elementAttributeNameCase||"react",evaluater:et.createEvaluater?et.createEvaluater():void 0,filePath:rt,ignoreInvalidStyle:et.ignoreInvalidStyle||!1,passKeys:et.passKeys!==!1,passNode:et.passNode||!1,schema:et.space==="svg"?svg:html$2,stylePropertyNameCase:et.stylePropertyNameCase||"dom",tableCellAlignToStyle:et.tableCellAlignToStyle!==!1},it=one$2(st,_e,void 0);return it&&typeof it!="string"?it:st.create(_e,st.Fragment,{children:it||void 0},void 0)}function one$2(_e,et,rt){if(et.type==="element")return element$1(_e,et,rt);if(et.type==="mdxFlowExpression"||et.type==="mdxTextExpression")return mdxExpression(_e,et);if(et.type==="mdxJsxFlowElement"||et.type==="mdxJsxTextElement")return mdxJsxElement(_e,et,rt);if(et.type==="mdxjsEsm")return mdxEsm(_e,et);if(et.type==="root")return root$2(_e,et,rt);if(et.type==="text")return text$5(_e,et)}function element$1(_e,et,rt){const nt=_e.schema;let st=nt;et.tagName.toLowerCase()==="svg"&&nt.space==="html"&&(st=svg,_e.schema=st),_e.ancestors.push(et);const it=findComponentFromName(_e,et.tagName,!1),at=createElementProps(_e,et);let ot=createChildren(_e,et);return tableElements.has(et.tagName)&&(ot=ot.filter(function(lt){return typeof lt=="string"?!whitespace$1(lt):!0})),addNode$1(_e,at,it,et),addChildren(at,ot),_e.ancestors.pop(),_e.schema=nt,_e.create(et,it,at,rt)}function mdxExpression(_e,et){if(et.data&&et.data.estree&&_e.evaluater){const nt=et.data.estree.body[0];return nt.type,_e.evaluater.evaluateExpression(nt.expression)}crashEstree(_e,et.position)}function mdxEsm(_e,et){if(et.data&&et.data.estree&&_e.evaluater)return _e.evaluater.evaluateProgram(et.data.estree);crashEstree(_e,et.position)}function mdxJsxElement(_e,et,rt){const nt=_e.schema;let st=nt;et.name==="svg"&&nt.space==="html"&&(st=svg,_e.schema=st),_e.ancestors.push(et);const it=et.name===null?_e.Fragment:findComponentFromName(_e,et.name,!0),at=createJsxElementProps(_e,et),ot=createChildren(_e,et);return addNode$1(_e,at,it,et),addChildren(at,ot),_e.ancestors.pop(),_e.schema=nt,_e.create(et,it,at,rt)}function root$2(_e,et,rt){const nt={};return addChildren(nt,createChildren(_e,et)),_e.create(et,_e.Fragment,nt,rt)}function text$5(_e,et){return et.value}function addNode$1(_e,et,rt,nt){typeof rt!="string"&&rt!==_e.Fragment&&_e.passNode&&(et.node=nt)}function addChildren(_e,et){if(et.length>0){const rt=et.length>1?et:et[0];rt&&(_e.children=rt)}}function productionCreate(_e,et,rt){return nt;function nt(st,it,at,ot){const ct=Array.isArray(at.children)?rt:et;return ot?ct(it,at,ot):ct(it,at)}}function developmentCreate(_e,et){return rt;function rt(nt,st,it,at){const ot=Array.isArray(it.children),lt=pointStart(nt);return et(st,it,at,ot,{columnNumber:lt?lt.column-1:void 0,fileName:_e,lineNumber:lt?lt.line:void 0},void 0)}}function createElementProps(_e,et){const rt={};let nt,st;for(st in et.properties)if(st!=="children"&&own$3.call(et.properties,st)){const it=createProperty(_e,st,et.properties[st]);if(it){const[at,ot]=it;_e.tableCellAlignToStyle&&at==="align"&&typeof ot=="string"&&tableCellElement.has(et.tagName)?nt=ot:rt[at]=ot}}if(nt){const it=rt.style||(rt.style={});it[_e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=nt}return rt}function createJsxElementProps(_e,et){const rt={};for(const nt of et.attributes)if(nt.type==="mdxJsxExpressionAttribute")if(nt.data&&nt.data.estree&&_e.evaluater){const it=nt.data.estree.body[0];it.type;const at=it.expression;at.type;const ot=at.properties[0];ot.type,Object.assign(rt,_e.evaluater.evaluateExpression(ot.argument))}else crashEstree(_e,et.position);else{const st=nt.name;let it;if(nt.value&&typeof nt.value=="object")if(nt.value.data&&nt.value.data.estree&&_e.evaluater){const ot=nt.value.data.estree.body[0];ot.type,it=_e.evaluater.evaluateExpression(ot.expression)}else crashEstree(_e,et.position);else it=nt.value===null?!0:nt.value;rt[st]=it}return rt}function createChildren(_e,et){const rt=[];let nt=-1;const st=_e.passKeys?new Map:emptyMap;for(;++nt<et.children.length;){const it=et.children[nt];let at;if(_e.passKeys){const lt=it.type==="element"?it.tagName:it.type==="mdxJsxFlowElement"||it.type==="mdxJsxTextElement"?it.name:void 0;if(lt){const ct=st.get(lt)||0;at=lt+"-"+ct,st.set(lt,ct+1)}}const ot=one$2(_e,it,at);ot!==void 0&&rt.push(ot)}return rt}function createProperty(_e,et,rt){const nt=find$1(_e.schema,et);if(!(rt==null||typeof rt=="number"&&Number.isNaN(rt))){if(Array.isArray(rt)&&(rt=nt.commaSeparated?stringify$1(rt):stringify(rt)),nt.property==="style"){let st=typeof rt=="object"?rt:parseStyle(_e,String(rt));return _e.stylePropertyNameCase==="css"&&(st=transformStylesToCssCasing(st)),["style",st]}return[_e.elementAttributeNameCase==="react"&&nt.space?hastToReact[nt.property]||nt.property:nt.attribute,rt]}}function parseStyle(_e,et){try{return styleToJs(et,{reactCompat:!0})}catch(rt){if(_e.ignoreInvalidStyle)return{};const nt=rt,st=new VFileMessage("Cannot parse `style` attribute",{ancestors:_e.ancestors,cause:nt,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw st.file=_e.filePath||void 0,st.url=docs+"#cannot-parse-style-attribute",st}}function findComponentFromName(_e,et,rt){let nt;if(!rt)nt={type:"Literal",value:et};else if(et.includes(".")){const st=et.split(".");let it=-1,at;for(;++it<st.length;){const ot=name(st[it])?{type:"Identifier",name:st[it]}:{type:"Literal",value:st[it]};at=at?{type:"MemberExpression",object:at,property:ot,computed:!!(it&&ot.type==="Literal"),optional:!1}:ot}nt=at}else nt=name(et)&&!/^[a-z]/.test(et)?{type:"Identifier",name:et}:{type:"Literal",value:et};if(nt.type==="Literal"){const st=nt.value;return own$3.call(_e.components,st)?_e.components[st]:st}if(_e.evaluater)return _e.evaluater.evaluateExpression(nt);crashEstree(_e)}function crashEstree(_e,et){const rt=new VFileMessage("Cannot handle MDX estrees without `createEvaluater`",{ancestors:_e.ancestors,place:et,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw rt.file=_e.filePath||void 0,rt.url=docs+"#cannot-handle-mdx-estrees-without-createevaluater",rt}function transformStylesToCssCasing(_e){const et={};let rt;for(rt in _e)own$3.call(_e,rt)&&(et[transformStyleToCssCasing(rt)]=_e[rt]);return et}function transformStyleToCssCasing(_e){let et=_e.replace(cap,toDash);return et.slice(0,3)==="ms-"&&(et="-"+et),et}function toDash(_e){return"-"+_e.toLowerCase()}const urlAttributes={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},emptyOptions$2={};function toString$4(_e,et){const rt=emptyOptions$2,nt=typeof rt.includeImageAlt=="boolean"?rt.includeImageAlt:!0,st=typeof rt.includeHtml=="boolean"?rt.includeHtml:!0;return one$1(_e,nt,st)}function one$1(_e,et,rt){if(node(_e)){if("value"in _e)return _e.type==="html"&&!rt?"":_e.value;if(et&&"alt"in _e&&_e.alt)return _e.alt;if("children"in _e)return all(_e.children,et,rt)}return Array.isArray(_e)?all(_e,et,rt):""}function all(_e,et,rt){const nt=[];let st=-1;for(;++st<_e.length;)nt[st]=one$1(_e[st],et,rt);return nt.join("")}function node(_e){return!!(_e&&typeof _e=="object")}const element=document.createElement("i");function decodeNamedCharacterReference(_e){const et="&"+_e+";";element.innerHTML=et;const rt=element.textContent;return rt.charCodeAt(rt.length-1)===59&&_e!=="semi"||rt===et?!1:rt}function splice(_e,et,rt,nt){const st=_e.length;let it=0,at;if(et<0?et=-et>st?0:st+et:et=et>st?st:et,rt=rt>0?rt:0,nt.length<1e4)at=Array.from(nt),at.unshift(et,rt),_e.splice(...at);else for(rt&&_e.splice(et,rt);it<nt.length;)at=nt.slice(it,it+1e4),at.unshift(et,0),_e.splice(...at),it+=1e4,et+=1e4}function push(_e,et){return _e.length>0?(splice(_e,_e.length,0,et),_e):et}const hasOwnProperty$1={}.hasOwnProperty;function combineExtensions(_e){const et={};let rt=-1;for(;++rt<_e.length;)syntaxExtension(et,_e[rt]);return et}function syntaxExtension(_e,et){let rt;for(rt in et){const st=(hasOwnProperty$1.call(_e,rt)?_e[rt]:void 0)||(_e[rt]={}),it=et[rt];let at;if(it)for(at in it){hasOwnProperty$1.call(st,at)||(st[at]=[]);const ot=it[at];constructs(st[at],Array.isArray(ot)?ot:ot?[ot]:[])}}}function constructs(_e,et){let rt=-1;const nt=[];for(;++rt<et.length;)(et[rt].add==="after"?_e:nt).push(et[rt]);splice(_e,0,0,nt)}function decodeNumericCharacterReference(_e,et){const rt=Number.parseInt(_e,et);return rt<9||rt===11||rt>13&&rt<32||rt>126&&rt<160||rt>55295&&rt<57344||rt>64975&&rt<65008||(rt&65535)===65535||(rt&65535)===65534||rt>1114111?"":String.fromCodePoint(rt)}function normalizeIdentifier(_e){return _e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const asciiAlpha=regexCheck(/[A-Za-z]/),asciiAlphanumeric=regexCheck(/[\dA-Za-z]/),asciiAtext=regexCheck(/[#-'*+\--9=?A-Z^-~]/);function asciiControl(_e){return _e!==null&&(_e<32||_e===127)}const asciiDigit=regexCheck(/\d/),asciiHexDigit=regexCheck(/[\dA-Fa-f]/),asciiPunctuation=regexCheck(/[!-/:-@[-`{-~]/);function markdownLineEnding(_e){return _e!==null&&_e<-2}function markdownLineEndingOrSpace(_e){return _e!==null&&(_e<0||_e===32)}function markdownSpace(_e){return _e===-2||_e===-1||_e===32}const unicodePunctuation=regexCheck(new RegExp("\\p{P}|\\p{S}","u")),unicodeWhitespace=regexCheck(/\s/);function regexCheck(_e){return et;function et(rt){return rt!==null&&rt>-1&&_e.test(String.fromCharCode(rt))}}function normalizeUri(_e){const et=[];let rt=-1,nt=0,st=0;for(;++rt<_e.length;){const it=_e.charCodeAt(rt);let at="";if(it===37&&asciiAlphanumeric(_e.charCodeAt(rt+1))&&asciiAlphanumeric(_e.charCodeAt(rt+2)))st=2;else if(it<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(it))||(at=String.fromCharCode(it));else if(it>55295&&it<57344){const ot=_e.charCodeAt(rt+1);it<56320&&ot>56319&&ot<57344?(at=String.fromCharCode(it,ot),st=1):at=""}else at=String.fromCharCode(it);at&&(et.push(_e.slice(nt,rt),encodeURIComponent(at)),nt=rt+st+1,at=""),st&&(rt+=st,st=0)}return et.join("")+_e.slice(nt)}function factorySpace(_e,et,rt,nt){const st=nt?nt-1:Number.POSITIVE_INFINITY;let it=0;return at;function at(lt){return markdownSpace(lt)?(_e.enter(rt),ot(lt)):et(lt)}function ot(lt){return markdownSpace(lt)&&it++<st?(_e.consume(lt),ot):(_e.exit(rt),et(lt))}}const content$1={tokenize:initializeContent};function initializeContent(_e){const et=_e.attempt(this.parser.constructs.contentInitial,nt,st);let rt;return et;function nt(ot){if(ot===null){_e.consume(ot);return}return _e.enter("lineEnding"),_e.consume(ot),_e.exit("lineEnding"),factorySpace(_e,et,"linePrefix")}function st(ot){return _e.enter("paragraph"),it(ot)}function it(ot){const lt=_e.enter("chunkText",{contentType:"text",previous:rt});return rt&&(rt.next=lt),rt=lt,at(ot)}function at(ot){if(ot===null){_e.exit("chunkText"),_e.exit("paragraph"),_e.consume(ot);return}return markdownLineEnding(ot)?(_e.consume(ot),_e.exit("chunkText"),it):(_e.consume(ot),at)}}const document$2={tokenize:initializeDocument},containerConstruct={tokenize:tokenizeContainer};function initializeDocument(_e){const et=this,rt=[];let nt=0,st,it,at;return ot;function ot(jt){if(nt<rt.length){const kt=rt[nt];return et.containerState=kt[1],_e.attempt(kt[0].continuation,lt,ct)(jt)}return ct(jt)}function lt(jt){if(nt++,et.containerState._closeFlow){et.containerState._closeFlow=void 0,st&&Et();const kt=et.events.length;let Rt=kt,St;for(;Rt--;)if(et.events[Rt][0]==="exit"&&et.events[Rt][1].type==="chunkFlow"){St=et.events[Rt][1].end;break}gt(nt);let _t=kt;for(;_t<et.events.length;)et.events[_t][1].end={...St},_t++;return splice(et.events,Rt+1,0,et.events.slice(kt)),et.events.length=_t,ct(jt)}return ot(jt)}function ct(jt){if(nt===rt.length){if(!st)return pt(jt);if(st.currentConstruct&&st.currentConstruct.concrete)return xt(jt);et.interrupt=!!(st.currentConstruct&&!st._gfmTableDynamicInterruptHack)}return et.containerState={},_e.check(containerConstruct,ut,dt)(jt)}function ut(jt){return st&&Et(),gt(nt),pt(jt)}function dt(jt){return et.parser.lazy[et.now().line]=nt!==rt.length,at=et.now().offset,xt(jt)}function pt(jt){return et.containerState={},_e.attempt(containerConstruct,mt,xt)(jt)}function mt(jt){return nt++,rt.push([et.currentConstruct,et.containerState]),pt(jt)}function xt(jt){if(jt===null){st&&Et(),gt(0),_e.consume(jt);return}return st=st||et.parser.flow(et.now()),_e.enter("chunkFlow",{_tokenizer:st,contentType:"flow",previous:it}),yt(jt)}function yt(jt){if(jt===null){vt(_e.exit("chunkFlow"),!0),gt(0),_e.consume(jt);return}return markdownLineEnding(jt)?(_e.consume(jt),vt(_e.exit("chunkFlow")),nt=0,et.interrupt=void 0,ot):(_e.consume(jt),yt)}function vt(jt,kt){const Rt=et.sliceStream(jt);if(kt&&Rt.push(null),jt.previous=it,it&&(it.next=jt),it=jt,st.defineSkip(jt.start),st.write(Rt),et.parser.lazy[jt.start.line]){let St=st.events.length;for(;St--;)if(st.events[St][1].start.offset<at&&(!st.events[St][1].end||st.events[St][1].end.offset>at))return;const _t=et.events.length;let Nt=_t,Lt,$t;for(;Nt--;)if(et.events[Nt][0]==="exit"&&et.events[Nt][1].type==="chunkFlow"){if(Lt){$t=et.events[Nt][1].end;break}Lt=!0}for(gt(nt),St=_t;St<et.events.length;)et.events[St][1].end={...$t},St++;splice(et.events,Nt+1,0,et.events.slice(_t)),et.events.length=St}}function gt(jt){let kt=rt.length;for(;kt-- >jt;){const Rt=rt[kt];et.containerState=Rt[1],Rt[0].exit.call(et,_e)}rt.length=jt}function Et(){st.write([null]),it=void 0,st=void 0,et.containerState._closeFlow=void 0}}function tokenizeContainer(_e,et,rt){return factorySpace(_e,_e.attempt(this.parser.constructs.document,et,rt),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function classifyCharacter(_e){if(_e===null||markdownLineEndingOrSpace(_e)||unicodeWhitespace(_e))return 1;if(unicodePunctuation(_e))return 2}function resolveAll(_e,et,rt){const nt=[];let st=-1;for(;++st<_e.length;){const it=_e[st].resolveAll;it&&!nt.includes(it)&&(et=it(et,rt),nt.push(it))}return et}const attention={name:"attention",resolveAll:resolveAllAttention,tokenize:tokenizeAttention};function resolveAllAttention(_e,et){let rt=-1,nt,st,it,at,ot,lt,ct,ut;for(;++rt<_e.length;)if(_e[rt][0]==="enter"&&_e[rt][1].type==="attentionSequence"&&_e[rt][1]._close){for(nt=rt;nt--;)if(_e[nt][0]==="exit"&&_e[nt][1].type==="attentionSequence"&&_e[nt][1]._open&&et.sliceSerialize(_e[nt][1]).charCodeAt(0)===et.sliceSerialize(_e[rt][1]).charCodeAt(0)){if((_e[nt][1]._close||_e[rt][1]._open)&&(_e[rt][1].end.offset-_e[rt][1].start.offset)%3&&!((_e[nt][1].end.offset-_e[nt][1].start.offset+_e[rt][1].end.offset-_e[rt][1].start.offset)%3))continue;lt=_e[nt][1].end.offset-_e[nt][1].start.offset>1&&_e[rt][1].end.offset-_e[rt][1].start.offset>1?2:1;const dt={..._e[nt][1].end},pt={..._e[rt][1].start};movePoint(dt,-lt),movePoint(pt,lt),at={type:lt>1?"strongSequence":"emphasisSequence",start:dt,end:{..._e[nt][1].end}},ot={type:lt>1?"strongSequence":"emphasisSequence",start:{..._e[rt][1].start},end:pt},it={type:lt>1?"strongText":"emphasisText",start:{..._e[nt][1].end},end:{..._e[rt][1].start}},st={type:lt>1?"strong":"emphasis",start:{...at.start},end:{...ot.end}},_e[nt][1].end={...at.start},_e[rt][1].start={...ot.end},ct=[],_e[nt][1].end.offset-_e[nt][1].start.offset&&(ct=push(ct,[["enter",_e[nt][1],et],["exit",_e[nt][1],et]])),ct=push(ct,[["enter",st,et],["enter",at,et],["exit",at,et],["enter",it,et]]),ct=push(ct,resolveAll(et.parser.constructs.insideSpan.null,_e.slice(nt+1,rt),et)),ct=push(ct,[["exit",it,et],["enter",ot,et],["exit",ot,et],["exit",st,et]]),_e[rt][1].end.offset-_e[rt][1].start.offset?(ut=2,ct=push(ct,[["enter",_e[rt][1],et],["exit",_e[rt][1],et]])):ut=0,splice(_e,nt-1,rt-nt+3,ct),rt=nt+ct.length-ut-2;break}}for(rt=-1;++rt<_e.length;)_e[rt][1].type==="attentionSequence"&&(_e[rt][1].type="data");return _e}function tokenizeAttention(_e,et){const rt=this.parser.constructs.attentionMarkers.null,nt=this.previous,st=classifyCharacter(nt);let it;return at;function at(lt){return it=lt,_e.enter("attentionSequence"),ot(lt)}function ot(lt){if(lt===it)return _e.consume(lt),ot;const ct=_e.exit("attentionSequence"),ut=classifyCharacter(lt),dt=!ut||ut===2&&st||rt.includes(lt),pt=!st||st===2&&ut||rt.includes(nt);return ct._open=!!(it===42?dt:dt&&(st||!pt)),ct._close=!!(it===42?pt:pt&&(ut||!dt)),et(lt)}}function movePoint(_e,et){_e.column+=et,_e.offset+=et,_e._bufferIndex+=et}const autolink$1={name:"autolink",tokenize:tokenizeAutolink};function tokenizeAutolink(_e,et,rt){let nt=0;return st;function st(mt){return _e.enter("autolink"),_e.enter("autolinkMarker"),_e.consume(mt),_e.exit("autolinkMarker"),_e.enter("autolinkProtocol"),it}function it(mt){return asciiAlpha(mt)?(_e.consume(mt),at):mt===64?rt(mt):ct(mt)}function at(mt){return mt===43||mt===45||mt===46||asciiAlphanumeric(mt)?(nt=1,ot(mt)):ct(mt)}function ot(mt){return mt===58?(_e.consume(mt),nt=0,lt):(mt===43||mt===45||mt===46||asciiAlphanumeric(mt))&&nt++<32?(_e.consume(mt),ot):(nt=0,ct(mt))}function lt(mt){return mt===62?(_e.exit("autolinkProtocol"),_e.enter("autolinkMarker"),_e.consume(mt),_e.exit("autolinkMarker"),_e.exit("autolink"),et):mt===null||mt===32||mt===60||asciiControl(mt)?rt(mt):(_e.consume(mt),lt)}function ct(mt){return mt===64?(_e.consume(mt),ut):asciiAtext(mt)?(_e.consume(mt),ct):rt(mt)}function ut(mt){return asciiAlphanumeric(mt)?dt(mt):rt(mt)}function dt(mt){return mt===46?(_e.consume(mt),nt=0,ut):mt===62?(_e.exit("autolinkProtocol").type="autolinkEmail",_e.enter("autolinkMarker"),_e.consume(mt),_e.exit("autolinkMarker"),_e.exit("autolink"),et):pt(mt)}function pt(mt){if((mt===45||asciiAlphanumeric(mt))&&nt++<63){const xt=mt===45?pt:dt;return _e.consume(mt),xt}return rt(mt)}}const blankLine={partial:!0,tokenize:tokenizeBlankLine};function tokenizeBlankLine(_e,et,rt){return nt;function nt(it){return markdownSpace(it)?factorySpace(_e,st,"linePrefix")(it):st(it)}function st(it){return it===null||markdownLineEnding(it)?et(it):rt(it)}}const blockQuote={continuation:{tokenize:tokenizeBlockQuoteContinuation},exit:exit$1,name:"blockQuote",tokenize:tokenizeBlockQuoteStart};function tokenizeBlockQuoteStart(_e,et,rt){const nt=this;return st;function st(at){if(at===62){const ot=nt.containerState;return ot.open||(_e.enter("blockQuote",{_container:!0}),ot.open=!0),_e.enter("blockQuotePrefix"),_e.enter("blockQuoteMarker"),_e.consume(at),_e.exit("blockQuoteMarker"),it}return rt(at)}function it(at){return markdownSpace(at)?(_e.enter("blockQuotePrefixWhitespace"),_e.consume(at),_e.exit("blockQuotePrefixWhitespace"),_e.exit("blockQuotePrefix"),et):(_e.exit("blockQuotePrefix"),et(at))}}function tokenizeBlockQuoteContinuation(_e,et,rt){const nt=this;return st;function st(at){return markdownSpace(at)?factorySpace(_e,it,"linePrefix",nt.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(at):it(at)}function it(at){return _e.attempt(blockQuote,et,rt)(at)}}function exit$1(_e){_e.exit("blockQuote")}const characterEscape={name:"characterEscape",tokenize:tokenizeCharacterEscape};function tokenizeCharacterEscape(_e,et,rt){return nt;function nt(it){return _e.enter("characterEscape"),_e.enter("escapeMarker"),_e.consume(it),_e.exit("escapeMarker"),st}function st(it){return asciiPunctuation(it)?(_e.enter("characterEscapeValue"),_e.consume(it),_e.exit("characterEscapeValue"),_e.exit("characterEscape"),et):rt(it)}}const characterReference={name:"characterReference",tokenize:tokenizeCharacterReference};function tokenizeCharacterReference(_e,et,rt){const nt=this;let st=0,it,at;return ot;function ot(dt){return _e.enter("characterReference"),_e.enter("characterReferenceMarker"),_e.consume(dt),_e.exit("characterReferenceMarker"),lt}function lt(dt){return dt===35?(_e.enter("characterReferenceMarkerNumeric"),_e.consume(dt),_e.exit("characterReferenceMarkerNumeric"),ct):(_e.enter("characterReferenceValue"),it=31,at=asciiAlphanumeric,ut(dt))}function ct(dt){return dt===88||dt===120?(_e.enter("characterReferenceMarkerHexadecimal"),_e.consume(dt),_e.exit("characterReferenceMarkerHexadecimal"),_e.enter("characterReferenceValue"),it=6,at=asciiHexDigit,ut):(_e.enter("characterReferenceValue"),it=7,at=asciiDigit,ut(dt))}function ut(dt){if(dt===59&&st){const pt=_e.exit("characterReferenceValue");return at===asciiAlphanumeric&&!decodeNamedCharacterReference(nt.sliceSerialize(pt))?rt(dt):(_e.enter("characterReferenceMarker"),_e.consume(dt),_e.exit("characterReferenceMarker"),_e.exit("characterReference"),et)}return at(dt)&&st++<it?(_e.consume(dt),ut):rt(dt)}}const nonLazyContinuation={partial:!0,tokenize:tokenizeNonLazyContinuation},codeFenced={concrete:!0,name:"codeFenced",tokenize:tokenizeCodeFenced};function tokenizeCodeFenced(_e,et,rt){const nt=this,st={partial:!0,tokenize:Rt};let it=0,at=0,ot;return lt;function lt(St){return ct(St)}function ct(St){const _t=nt.events[nt.events.length-1];return it=_t&&_t[1].type==="linePrefix"?_t[2].sliceSerialize(_t[1],!0).length:0,ot=St,_e.enter("codeFenced"),_e.enter("codeFencedFence"),_e.enter("codeFencedFenceSequence"),ut(St)}function ut(St){return St===ot?(at++,_e.consume(St),ut):at<3?rt(St):(_e.exit("codeFencedFenceSequence"),markdownSpace(St)?factorySpace(_e,dt,"whitespace")(St):dt(St))}function dt(St){return St===null||markdownLineEnding(St)?(_e.exit("codeFencedFence"),nt.interrupt?et(St):_e.check(nonLazyContinuation,yt,kt)(St)):(_e.enter("codeFencedFenceInfo"),_e.enter("chunkString",{contentType:"string"}),pt(St))}function pt(St){return St===null||markdownLineEnding(St)?(_e.exit("chunkString"),_e.exit("codeFencedFenceInfo"),dt(St)):markdownSpace(St)?(_e.exit("chunkString"),_e.exit("codeFencedFenceInfo"),factorySpace(_e,mt,"whitespace")(St)):St===96&&St===ot?rt(St):(_e.consume(St),pt)}function mt(St){return St===null||markdownLineEnding(St)?dt(St):(_e.enter("codeFencedFenceMeta"),_e.enter("chunkString",{contentType:"string"}),xt(St))}function xt(St){return St===null||markdownLineEnding(St)?(_e.exit("chunkString"),_e.exit("codeFencedFenceMeta"),dt(St)):St===96&&St===ot?rt(St):(_e.consume(St),xt)}function yt(St){return _e.attempt(st,kt,vt)(St)}function vt(St){return _e.enter("lineEnding"),_e.consume(St),_e.exit("lineEnding"),gt}function gt(St){return it>0&&markdownSpace(St)?factorySpace(_e,Et,"linePrefix",it+1)(St):Et(St)}function Et(St){return St===null||markdownLineEnding(St)?_e.check(nonLazyContinuation,yt,kt)(St):(_e.enter("codeFlowValue"),jt(St))}function jt(St){return St===null||markdownLineEnding(St)?(_e.exit("codeFlowValue"),Et(St)):(_e.consume(St),jt)}function kt(St){return _e.exit("codeFenced"),et(St)}function Rt(St,_t,Nt){let Lt=0;return $t;function $t(qt){return St.enter("lineEnding"),St.consume(qt),St.exit("lineEnding"),Ft}function Ft(qt){return St.enter("codeFencedFence"),markdownSpace(qt)?factorySpace(St,Tt,"linePrefix",nt.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(qt):Tt(qt)}function Tt(qt){return qt===ot?(St.enter("codeFencedFenceSequence"),Bt(qt)):Nt(qt)}function Bt(qt){return qt===ot?(Lt++,St.consume(qt),Bt):Lt>=at?(St.exit("codeFencedFenceSequence"),markdownSpace(qt)?factorySpace(St,Wt,"whitespace")(qt):Wt(qt)):Nt(qt)}function Wt(qt){return qt===null||markdownLineEnding(qt)?(St.exit("codeFencedFence"),_t(qt)):Nt(qt)}}}function tokenizeNonLazyContinuation(_e,et,rt){const nt=this;return st;function st(at){return at===null?rt(at):(_e.enter("lineEnding"),_e.consume(at),_e.exit("lineEnding"),it)}function it(at){return nt.parser.lazy[nt.now().line]?rt(at):et(at)}}const codeIndented={name:"codeIndented",tokenize:tokenizeCodeIndented},furtherStart={partial:!0,tokenize:tokenizeFurtherStart};function tokenizeCodeIndented(_e,et,rt){const nt=this;return st;function st(ct){return _e.enter("codeIndented"),factorySpace(_e,it,"linePrefix",5)(ct)}function it(ct){const ut=nt.events[nt.events.length-1];return ut&&ut[1].type==="linePrefix"&&ut[2].sliceSerialize(ut[1],!0).length>=4?at(ct):rt(ct)}function at(ct){return ct===null?lt(ct):markdownLineEnding(ct)?_e.attempt(furtherStart,at,lt)(ct):(_e.enter("codeFlowValue"),ot(ct))}function ot(ct){return ct===null||markdownLineEnding(ct)?(_e.exit("codeFlowValue"),at(ct)):(_e.consume(ct),ot)}function lt(ct){return _e.exit("codeIndented"),et(ct)}}function tokenizeFurtherStart(_e,et,rt){const nt=this;return st;function st(at){return nt.parser.lazy[nt.now().line]?rt(at):markdownLineEnding(at)?(_e.enter("lineEnding"),_e.consume(at),_e.exit("lineEnding"),st):factorySpace(_e,it,"linePrefix",5)(at)}function it(at){const ot=nt.events[nt.events.length-1];return ot&&ot[1].type==="linePrefix"&&ot[2].sliceSerialize(ot[1],!0).length>=4?et(at):markdownLineEnding(at)?st(at):rt(at)}}const codeText={name:"codeText",previous:previous$1,resolve:resolveCodeText,tokenize:tokenizeCodeText};function resolveCodeText(_e){let et=_e.length-4,rt=3,nt,st;if((_e[rt][1].type==="lineEnding"||_e[rt][1].type==="space")&&(_e[et][1].type==="lineEnding"||_e[et][1].type==="space")){for(nt=rt;++nt<et;)if(_e[nt][1].type==="codeTextData"){_e[rt][1].type="codeTextPadding",_e[et][1].type="codeTextPadding",rt+=2,et-=2;break}}for(nt=rt-1,et++;++nt<=et;)st===void 0?nt!==et&&_e[nt][1].type!=="lineEnding"&&(st=nt):(nt===et||_e[nt][1].type==="lineEnding")&&(_e[st][1].type="codeTextData",nt!==st+2&&(_e[st][1].end=_e[nt-1][1].end,_e.splice(st+2,nt-st-2),et-=nt-st-2,nt=st+2),st=void 0);return _e}function previous$1(_e){return _e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function tokenizeCodeText(_e,et,rt){let nt=0,st,it;return at;function at(dt){return _e.enter("codeText"),_e.enter("codeTextSequence"),ot(dt)}function ot(dt){return dt===96?(_e.consume(dt),nt++,ot):(_e.exit("codeTextSequence"),lt(dt))}function lt(dt){return dt===null?rt(dt):dt===32?(_e.enter("space"),_e.consume(dt),_e.exit("space"),lt):dt===96?(it=_e.enter("codeTextSequence"),st=0,ut(dt)):markdownLineEnding(dt)?(_e.enter("lineEnding"),_e.consume(dt),_e.exit("lineEnding"),lt):(_e.enter("codeTextData"),ct(dt))}function ct(dt){return dt===null||dt===32||dt===96||markdownLineEnding(dt)?(_e.exit("codeTextData"),lt(dt)):(_e.consume(dt),ct)}function ut(dt){return dt===96?(_e.consume(dt),st++,ut):st===nt?(_e.exit("codeTextSequence"),_e.exit("codeText"),et(dt)):(it.type="codeTextData",ct(dt))}}class SpliceBuffer{constructor(et){this.left=et?[...et]:[],this.right=[]}get(et){if(et<0||et>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+et+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return et<this.left.length?this.left[et]:this.right[this.right.length-et+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(et,rt){const nt=rt??Number.POSITIVE_INFINITY;return nt<this.left.length?this.left.slice(et,nt):et>this.left.length?this.right.slice(this.right.length-nt+this.left.length,this.right.length-et+this.left.length).reverse():this.left.slice(et).concat(this.right.slice(this.right.length-nt+this.left.length).reverse())}splice(et,rt,nt){const st=rt||0;this.setCursor(Math.trunc(et));const it=this.right.splice(this.right.length-st,Number.POSITIVE_INFINITY);return nt&&chunkedPush(this.left,nt),it.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(et){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(et)}pushMany(et){this.setCursor(Number.POSITIVE_INFINITY),chunkedPush(this.left,et)}unshift(et){this.setCursor(0),this.right.push(et)}unshiftMany(et){this.setCursor(0),chunkedPush(this.right,et.reverse())}setCursor(et){if(!(et===this.left.length||et>this.left.length&&this.right.length===0||et<0&&this.left.length===0))if(et<this.left.length){const rt=this.left.splice(et,Number.POSITIVE_INFINITY);chunkedPush(this.right,rt.reverse())}else{const rt=this.right.splice(this.left.length+this.right.length-et,Number.POSITIVE_INFINITY);chunkedPush(this.left,rt.reverse())}}}function chunkedPush(_e,et){let rt=0;if(et.length<1e4)_e.push(...et);else for(;rt<et.length;)_e.push(...et.slice(rt,rt+1e4)),rt+=1e4}function subtokenize(_e){const et={};let rt=-1,nt,st,it,at,ot,lt,ct;const ut=new SpliceBuffer(_e);for(;++rt<ut.length;){for(;rt in et;)rt=et[rt];if(nt=ut.get(rt),rt&&nt[1].type==="chunkFlow"&&ut.get(rt-1)[1].type==="listItemPrefix"&&(lt=nt[1]._tokenizer.events,it=0,it<lt.length&&lt[it][1].type==="lineEndingBlank"&&(it+=2),it<lt.length&&lt[it][1].type==="content"))for(;++it<lt.length&&lt[it][1].type!=="content";)lt[it][1].type==="chunkText"&&(lt[it][1]._isInFirstContentOfListItem=!0,it++);if(nt[0]==="enter")nt[1].contentType&&(Object.assign(et,subcontent(ut,rt)),rt=et[rt],ct=!0);else if(nt[1]._container){for(it=rt,st=void 0;it--;)if(at=ut.get(it),at[1].type==="lineEnding"||at[1].type==="lineEndingBlank")at[0]==="enter"&&(st&&(ut.get(st)[1].type="lineEndingBlank"),at[1].type="lineEnding",st=it);else if(!(at[1].type==="linePrefix"||at[1].type==="listItemIndent"))break;st&&(nt[1].end={...ut.get(st)[1].start},ot=ut.slice(st,rt),ot.unshift(nt),ut.splice(st,rt-st+1,ot))}}return splice(_e,0,Number.POSITIVE_INFINITY,ut.slice(0)),!ct}function subcontent(_e,et){const rt=_e.get(et)[1],nt=_e.get(et)[2];let st=et-1;const it=[];let at=rt._tokenizer;at||(at=nt.parser[rt.contentType](rt.start),rt._contentTypeTextTrailing&&(at._contentTypeTextTrailing=!0));const ot=at.events,lt=[],ct={};let ut,dt,pt=-1,mt=rt,xt=0,yt=0;const vt=[yt];for(;mt;){for(;_e.get(++st)[1]!==mt;);it.push(st),mt._tokenizer||(ut=nt.sliceStream(mt),mt.next||ut.push(null),dt&&at.defineSkip(mt.start),mt._isInFirstContentOfListItem&&(at._gfmTasklistFirstContentOfListItem=!0),at.write(ut),mt._isInFirstContentOfListItem&&(at._gfmTasklistFirstContentOfListItem=void 0)),dt=mt,mt=mt.next}for(mt=rt;++pt<ot.length;)ot[pt][0]==="exit"&&ot[pt-1][0]==="enter"&&ot[pt][1].type===ot[pt-1][1].type&&ot[pt][1].start.line!==ot[pt][1].end.line&&(yt=pt+1,vt.push(yt),mt._tokenizer=void 0,mt.previous=void 0,mt=mt.next);for(at.events=[],mt?(mt._tokenizer=void 0,mt.previous=void 0):vt.pop(),pt=vt.length;pt--;){const gt=ot.slice(vt[pt],vt[pt+1]),Et=it.pop();lt.push([Et,Et+gt.length-1]),_e.splice(Et,2,gt)}for(lt.reverse(),pt=-1;++pt<lt.length;)ct[xt+lt[pt][0]]=xt+lt[pt][1],xt+=lt[pt][1]-lt[pt][0]-1;return ct}const content={resolve:resolveContent,tokenize:tokenizeContent},continuationConstruct={partial:!0,tokenize:tokenizeContinuation};function resolveContent(_e){return subtokenize(_e),_e}function tokenizeContent(_e,et){let rt;return nt;function nt(ot){return _e.enter("content"),rt=_e.enter("chunkContent",{contentType:"content"}),st(ot)}function st(ot){return ot===null?it(ot):markdownLineEnding(ot)?_e.check(continuationConstruct,at,it)(ot):(_e.consume(ot),st)}function it(ot){return _e.exit("chunkContent"),_e.exit("content"),et(ot)}function at(ot){return _e.consume(ot),_e.exit("chunkContent"),rt.next=_e.enter("chunkContent",{contentType:"content",previous:rt}),rt=rt.next,st}}function tokenizeContinuation(_e,et,rt){const nt=this;return st;function st(at){return _e.exit("chunkContent"),_e.enter("lineEnding"),_e.consume(at),_e.exit("lineEnding"),factorySpace(_e,it,"linePrefix")}function it(at){if(at===null||markdownLineEnding(at))return rt(at);const ot=nt.events[nt.events.length-1];return!nt.parser.constructs.disable.null.includes("codeIndented")&&ot&&ot[1].type==="linePrefix"&&ot[2].sliceSerialize(ot[1],!0).length>=4?et(at):_e.interrupt(nt.parser.constructs.flow,rt,et)(at)}}function factoryDestination(_e,et,rt,nt,st,it,at,ot,lt){const ct=lt||Number.POSITIVE_INFINITY;let ut=0;return dt;function dt(gt){return gt===60?(_e.enter(nt),_e.enter(st),_e.enter(it),_e.consume(gt),_e.exit(it),pt):gt===null||gt===32||gt===41||asciiControl(gt)?rt(gt):(_e.enter(nt),_e.enter(at),_e.enter(ot),_e.enter("chunkString",{contentType:"string"}),yt(gt))}function pt(gt){return gt===62?(_e.enter(it),_e.consume(gt),_e.exit(it),_e.exit(st),_e.exit(nt),et):(_e.enter(ot),_e.enter("chunkString",{contentType:"string"}),mt(gt))}function mt(gt){return gt===62?(_e.exit("chunkString"),_e.exit(ot),pt(gt)):gt===null||gt===60||markdownLineEnding(gt)?rt(gt):(_e.consume(gt),gt===92?xt:mt)}function xt(gt){return gt===60||gt===62||gt===92?(_e.consume(gt),mt):mt(gt)}function yt(gt){return!ut&&(gt===null||gt===41||markdownLineEndingOrSpace(gt))?(_e.exit("chunkString"),_e.exit(ot),_e.exit(at),_e.exit(nt),et(gt)):ut<ct&&gt===40?(_e.consume(gt),ut++,yt):gt===41?(_e.consume(gt),ut--,yt):gt===null||gt===32||gt===40||asciiControl(gt)?rt(gt):(_e.consume(gt),gt===92?vt:yt)}function vt(gt){return gt===40||gt===41||gt===92?(_e.consume(gt),yt):yt(gt)}}function factoryLabel(_e,et,rt,nt,st,it){const at=this;let ot=0,lt;return ct;function ct(mt){return _e.enter(nt),_e.enter(st),_e.consume(mt),_e.exit(st),_e.enter(it),ut}function ut(mt){return ot>999||mt===null||mt===91||mt===93&&!lt||mt===94&&!ot&&"_hiddenFootnoteSupport"in at.parser.constructs?rt(mt):mt===93?(_e.exit(it),_e.enter(st),_e.consume(mt),_e.exit(st),_e.exit(nt),et):markdownLineEnding(mt)?(_e.enter("lineEnding"),_e.consume(mt),_e.exit("lineEnding"),ut):(_e.enter("chunkString",{contentType:"string"}),dt(mt))}function dt(mt){return mt===null||mt===91||mt===93||markdownLineEnding(mt)||ot++>999?(_e.exit("chunkString"),ut(mt)):(_e.consume(mt),lt||(lt=!markdownSpace(mt)),mt===92?pt:dt)}function pt(mt){return mt===91||mt===92||mt===93?(_e.consume(mt),ot++,dt):dt(mt)}}function factoryTitle(_e,et,rt,nt,st,it){let at;return ot;function ot(pt){return pt===34||pt===39||pt===40?(_e.enter(nt),_e.enter(st),_e.consume(pt),_e.exit(st),at=pt===40?41:pt,lt):rt(pt)}function lt(pt){return pt===at?(_e.enter(st),_e.consume(pt),_e.exit(st),_e.exit(nt),et):(_e.enter(it),ct(pt))}function ct(pt){return pt===at?(_e.exit(it),lt(at)):pt===null?rt(pt):markdownLineEnding(pt)?(_e.enter("lineEnding"),_e.consume(pt),_e.exit("lineEnding"),factorySpace(_e,ct,"linePrefix")):(_e.enter("chunkString",{contentType:"string"}),ut(pt))}function ut(pt){return pt===at||pt===null||markdownLineEnding(pt)?(_e.exit("chunkString"),ct(pt)):(_e.consume(pt),pt===92?dt:ut)}function dt(pt){return pt===at||pt===92?(_e.consume(pt),ut):ut(pt)}}function factoryWhitespace(_e,et){let rt;return nt;function nt(st){return markdownLineEnding(st)?(_e.enter("lineEnding"),_e.consume(st),_e.exit("lineEnding"),rt=!0,nt):markdownSpace(st)?factorySpace(_e,nt,rt?"linePrefix":"lineSuffix")(st):et(st)}}const definition$1={name:"definition",tokenize:tokenizeDefinition},titleBefore={partial:!0,tokenize:tokenizeTitleBefore};function tokenizeDefinition(_e,et,rt){const nt=this;let st;return it;function it(mt){return _e.enter("definition"),at(mt)}function at(mt){return factoryLabel.call(nt,_e,ot,rt,"definitionLabel","definitionLabelMarker","definitionLabelString")(mt)}function ot(mt){return st=normalizeIdentifier(nt.sliceSerialize(nt.events[nt.events.length-1][1]).slice(1,-1)),mt===58?(_e.enter("definitionMarker"),_e.consume(mt),_e.exit("definitionMarker"),lt):rt(mt)}function lt(mt){return markdownLineEndingOrSpace(mt)?factoryWhitespace(_e,ct)(mt):ct(mt)}function ct(mt){return factoryDestination(_e,ut,rt,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(mt)}function ut(mt){return _e.attempt(titleBefore,dt,dt)(mt)}function dt(mt){return markdownSpace(mt)?factorySpace(_e,pt,"whitespace")(mt):pt(mt)}function pt(mt){return mt===null||markdownLineEnding(mt)?(_e.exit("definition"),nt.parser.defined.push(st),et(mt)):rt(mt)}}function tokenizeTitleBefore(_e,et,rt){return nt;function nt(ot){return markdownLineEndingOrSpace(ot)?factoryWhitespace(_e,st)(ot):rt(ot)}function st(ot){return factoryTitle(_e,it,rt,"definitionTitle","definitionTitleMarker","definitionTitleString")(ot)}function it(ot){return markdownSpace(ot)?factorySpace(_e,at,"whitespace")(ot):at(ot)}function at(ot){return ot===null||markdownLineEnding(ot)?et(ot):rt(ot)}}const hardBreakEscape={name:"hardBreakEscape",tokenize:tokenizeHardBreakEscape};function tokenizeHardBreakEscape(_e,et,rt){return nt;function nt(it){return _e.enter("hardBreakEscape"),_e.consume(it),st}function st(it){return markdownLineEnding(it)?(_e.exit("hardBreakEscape"),et(it)):rt(it)}}const headingAtx={name:"headingAtx",resolve:resolveHeadingAtx,tokenize:tokenizeHeadingAtx};function resolveHeadingAtx(_e,et){let rt=_e.length-2,nt=3,st,it;return _e[nt][1].type==="whitespace"&&(nt+=2),rt-2>nt&&_e[rt][1].type==="whitespace"&&(rt-=2),_e[rt][1].type==="atxHeadingSequence"&&(nt===rt-1||rt-4>nt&&_e[rt-2][1].type==="whitespace")&&(rt-=nt+1===rt?2:4),rt>nt&&(st={type:"atxHeadingText",start:_e[nt][1].start,end:_e[rt][1].end},it={type:"chunkText",start:_e[nt][1].start,end:_e[rt][1].end,contentType:"text"},splice(_e,nt,rt-nt+1,[["enter",st,et],["enter",it,et],["exit",it,et],["exit",st,et]])),_e}function tokenizeHeadingAtx(_e,et,rt){let nt=0;return st;function st(ut){return _e.enter("atxHeading"),it(ut)}function it(ut){return _e.enter("atxHeadingSequence"),at(ut)}function at(ut){return ut===35&&nt++<6?(_e.consume(ut),at):ut===null||markdownLineEndingOrSpace(ut)?(_e.exit("atxHeadingSequence"),ot(ut)):rt(ut)}function ot(ut){return ut===35?(_e.enter("atxHeadingSequence"),lt(ut)):ut===null||markdownLineEnding(ut)?(_e.exit("atxHeading"),et(ut)):markdownSpace(ut)?factorySpace(_e,ot,"whitespace")(ut):(_e.enter("atxHeadingText"),ct(ut))}function lt(ut){return ut===35?(_e.consume(ut),lt):(_e.exit("atxHeadingSequence"),ot(ut))}function ct(ut){return ut===null||ut===35||markdownLineEndingOrSpace(ut)?(_e.exit("atxHeadingText"),ot(ut)):(_e.consume(ut),ct)}}const htmlBlockNames=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],htmlRawNames=["pre","script","style","textarea"],htmlFlow={concrete:!0,name:"htmlFlow",resolveTo:resolveToHtmlFlow,tokenize:tokenizeHtmlFlow},blankLineBefore={partial:!0,tokenize:tokenizeBlankLineBefore},nonLazyContinuationStart={partial:!0,tokenize:tokenizeNonLazyContinuationStart};function resolveToHtmlFlow(_e){let et=_e.length;for(;et--&&!(_e[et][0]==="enter"&&_e[et][1].type==="htmlFlow"););return et>1&&_e[et-2][1].type==="linePrefix"&&(_e[et][1].start=_e[et-2][1].start,_e[et+1][1].start=_e[et-2][1].start,_e.splice(et-2,2)),_e}function tokenizeHtmlFlow(_e,et,rt){const nt=this;let st,it,at,ot,lt;return ct;function ct(Vt){return ut(Vt)}function ut(Vt){return _e.enter("htmlFlow"),_e.enter("htmlFlowData"),_e.consume(Vt),dt}function dt(Vt){return Vt===33?(_e.consume(Vt),pt):Vt===47?(_e.consume(Vt),it=!0,yt):Vt===63?(_e.consume(Vt),st=3,nt.interrupt?et:At):asciiAlpha(Vt)?(_e.consume(Vt),at=String.fromCharCode(Vt),vt):rt(Vt)}function pt(Vt){return Vt===45?(_e.consume(Vt),st=2,mt):Vt===91?(_e.consume(Vt),st=5,ot=0,xt):asciiAlpha(Vt)?(_e.consume(Vt),st=4,nt.interrupt?et:At):rt(Vt)}function mt(Vt){return Vt===45?(_e.consume(Vt),nt.interrupt?et:At):rt(Vt)}function xt(Vt){const Jt="CDATA[";return Vt===Jt.charCodeAt(ot++)?(_e.consume(Vt),ot===Jt.length?nt.interrupt?et:Tt:xt):rt(Vt)}function yt(Vt){return asciiAlpha(Vt)?(_e.consume(Vt),at=String.fromCharCode(Vt),vt):rt(Vt)}function vt(Vt){if(Vt===null||Vt===47||Vt===62||markdownLineEndingOrSpace(Vt)){const Jt=Vt===47,rr=at.toLowerCase();return!Jt&&!it&&htmlRawNames.includes(rr)?(st=1,nt.interrupt?et(Vt):Tt(Vt)):htmlBlockNames.includes(at.toLowerCase())?(st=6,Jt?(_e.consume(Vt),gt):nt.interrupt?et(Vt):Tt(Vt)):(st=7,nt.interrupt&&!nt.parser.lazy[nt.now().line]?rt(Vt):it?Et(Vt):jt(Vt))}return Vt===45||asciiAlphanumeric(Vt)?(_e.consume(Vt),at+=String.fromCharCode(Vt),vt):rt(Vt)}function gt(Vt){return Vt===62?(_e.consume(Vt),nt.interrupt?et:Tt):rt(Vt)}function Et(Vt){return markdownSpace(Vt)?(_e.consume(Vt),Et):$t(Vt)}function jt(Vt){return Vt===47?(_e.consume(Vt),$t):Vt===58||Vt===95||asciiAlpha(Vt)?(_e.consume(Vt),kt):markdownSpace(Vt)?(_e.consume(Vt),jt):$t(Vt)}function kt(Vt){return Vt===45||Vt===46||Vt===58||Vt===95||asciiAlphanumeric(Vt)?(_e.consume(Vt),kt):Rt(Vt)}function Rt(Vt){return Vt===61?(_e.consume(Vt),St):markdownSpace(Vt)?(_e.consume(Vt),Rt):jt(Vt)}function St(Vt){return Vt===null||Vt===60||Vt===61||Vt===62||Vt===96?rt(Vt):Vt===34||Vt===39?(_e.consume(Vt),lt=Vt,_t):markdownSpace(Vt)?(_e.consume(Vt),St):Nt(Vt)}function _t(Vt){return Vt===lt?(_e.consume(Vt),lt=null,Lt):Vt===null||markdownLineEnding(Vt)?rt(Vt):(_e.consume(Vt),_t)}function Nt(Vt){return Vt===null||Vt===34||Vt===39||Vt===47||Vt===60||Vt===61||Vt===62||Vt===96||markdownLineEndingOrSpace(Vt)?Rt(Vt):(_e.consume(Vt),Nt)}function Lt(Vt){return Vt===47||Vt===62||markdownSpace(Vt)?jt(Vt):rt(Vt)}function $t(Vt){return Vt===62?(_e.consume(Vt),Ft):rt(Vt)}function Ft(Vt){return Vt===null||markdownLineEnding(Vt)?Tt(Vt):markdownSpace(Vt)?(_e.consume(Vt),Ft):rt(Vt)}function Tt(Vt){return Vt===45&&st===2?(_e.consume(Vt),Ot):Vt===60&&st===1?(_e.consume(Vt),Dt):Vt===62&&st===4?(_e.consume(Vt),Ht):Vt===63&&st===3?(_e.consume(Vt),At):Vt===93&&st===5?(_e.consume(Vt),It):markdownLineEnding(Vt)&&(st===6||st===7)?(_e.exit("htmlFlowData"),_e.check(blankLineBefore,Gt,Bt)(Vt)):Vt===null||markdownLineEnding(Vt)?(_e.exit("htmlFlowData"),Bt(Vt)):(_e.consume(Vt),Tt)}function Bt(Vt){return _e.check(nonLazyContinuationStart,Wt,Gt)(Vt)}function Wt(Vt){return _e.enter("lineEnding"),_e.consume(Vt),_e.exit("lineEnding"),qt}function qt(Vt){return Vt===null||markdownLineEnding(Vt)?Bt(Vt):(_e.enter("htmlFlowData"),Tt(Vt))}function Ot(Vt){return Vt===45?(_e.consume(Vt),At):Tt(Vt)}function Dt(Vt){return Vt===47?(_e.consume(Vt),at="",Pt):Tt(Vt)}function Pt(Vt){if(Vt===62){const Jt=at.toLowerCase();return htmlRawNames.includes(Jt)?(_e.consume(Vt),Ht):Tt(Vt)}return asciiAlpha(Vt)&&at.length<8?(_e.consume(Vt),at+=String.fromCharCode(Vt),Pt):Tt(Vt)}function It(Vt){return Vt===93?(_e.consume(Vt),At):Tt(Vt)}function At(Vt){return Vt===62?(_e.consume(Vt),Ht):Vt===45&&st===2?(_e.consume(Vt),At):Tt(Vt)}function Ht(Vt){return Vt===null||markdownLineEnding(Vt)?(_e.exit("htmlFlowData"),Gt(Vt)):(_e.consume(Vt),Ht)}function Gt(Vt){return _e.exit("htmlFlow"),et(Vt)}}function tokenizeNonLazyContinuationStart(_e,et,rt){const nt=this;return st;function st(at){return markdownLineEnding(at)?(_e.enter("lineEnding"),_e.consume(at),_e.exit("lineEnding"),it):rt(at)}function it(at){return nt.parser.lazy[nt.now().line]?rt(at):et(at)}}function tokenizeBlankLineBefore(_e,et,rt){return nt;function nt(st){return _e.enter("lineEnding"),_e.consume(st),_e.exit("lineEnding"),_e.attempt(blankLine,et,rt)}}const htmlText={name:"htmlText",tokenize:tokenizeHtmlText};function tokenizeHtmlText(_e,et,rt){const nt=this;let st,it,at;return ot;function ot(At){return _e.enter("htmlText"),_e.enter("htmlTextData"),_e.consume(At),lt}function lt(At){return At===33?(_e.consume(At),ct):At===47?(_e.consume(At),Rt):At===63?(_e.consume(At),jt):asciiAlpha(At)?(_e.consume(At),Nt):rt(At)}function ct(At){return At===45?(_e.consume(At),ut):At===91?(_e.consume(At),it=0,xt):asciiAlpha(At)?(_e.consume(At),Et):rt(At)}function ut(At){return At===45?(_e.consume(At),mt):rt(At)}function dt(At){return At===null?rt(At):At===45?(_e.consume(At),pt):markdownLineEnding(At)?(at=dt,Dt(At)):(_e.consume(At),dt)}function pt(At){return At===45?(_e.consume(At),mt):dt(At)}function mt(At){return At===62?Ot(At):At===45?pt(At):dt(At)}function xt(At){const Ht="CDATA[";return At===Ht.charCodeAt(it++)?(_e.consume(At),it===Ht.length?yt:xt):rt(At)}function yt(At){return At===null?rt(At):At===93?(_e.consume(At),vt):markdownLineEnding(At)?(at=yt,Dt(At)):(_e.consume(At),yt)}function vt(At){return At===93?(_e.consume(At),gt):yt(At)}function gt(At){return At===62?Ot(At):At===93?(_e.consume(At),gt):yt(At)}function Et(At){return At===null||At===62?Ot(At):markdownLineEnding(At)?(at=Et,Dt(At)):(_e.consume(At),Et)}function jt(At){return At===null?rt(At):At===63?(_e.consume(At),kt):markdownLineEnding(At)?(at=jt,Dt(At)):(_e.consume(At),jt)}function kt(At){return At===62?Ot(At):jt(At)}function Rt(At){return asciiAlpha(At)?(_e.consume(At),St):rt(At)}function St(At){return At===45||asciiAlphanumeric(At)?(_e.consume(At),St):_t(At)}function _t(At){return markdownLineEnding(At)?(at=_t,Dt(At)):markdownSpace(At)?(_e.consume(At),_t):Ot(At)}function Nt(At){return At===45||asciiAlphanumeric(At)?(_e.consume(At),Nt):At===47||At===62||markdownLineEndingOrSpace(At)?Lt(At):rt(At)}function Lt(At){return At===47?(_e.consume(At),Ot):At===58||At===95||asciiAlpha(At)?(_e.consume(At),$t):markdownLineEnding(At)?(at=Lt,Dt(At)):markdownSpace(At)?(_e.consume(At),Lt):Ot(At)}function $t(At){return At===45||At===46||At===58||At===95||asciiAlphanumeric(At)?(_e.consume(At),$t):Ft(At)}function Ft(At){return At===61?(_e.consume(At),Tt):markdownLineEnding(At)?(at=Ft,Dt(At)):markdownSpace(At)?(_e.consume(At),Ft):Lt(At)}function Tt(At){return At===null||At===60||At===61||At===62||At===96?rt(At):At===34||At===39?(_e.consume(At),st=At,Bt):markdownLineEnding(At)?(at=Tt,Dt(At)):markdownSpace(At)?(_e.consume(At),Tt):(_e.consume(At),Wt)}function Bt(At){return At===st?(_e.consume(At),st=void 0,qt):At===null?rt(At):markdownLineEnding(At)?(at=Bt,Dt(At)):(_e.consume(At),Bt)}function Wt(At){return At===null||At===34||At===39||At===60||At===61||At===96?rt(At):At===47||At===62||markdownLineEndingOrSpace(At)?Lt(At):(_e.consume(At),Wt)}function qt(At){return At===47||At===62||markdownLineEndingOrSpace(At)?Lt(At):rt(At)}function Ot(At){return At===62?(_e.consume(At),_e.exit("htmlTextData"),_e.exit("htmlText"),et):rt(At)}function Dt(At){return _e.exit("htmlTextData"),_e.enter("lineEnding"),_e.consume(At),_e.exit("lineEnding"),Pt}function Pt(At){return markdownSpace(At)?factorySpace(_e,It,"linePrefix",nt.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(At):It(At)}function It(At){return _e.enter("htmlTextData"),at(At)}}const labelEnd={name:"labelEnd",resolveAll:resolveAllLabelEnd,resolveTo:resolveToLabelEnd,tokenize:tokenizeLabelEnd},resourceConstruct={tokenize:tokenizeResource},referenceFullConstruct={tokenize:tokenizeReferenceFull},referenceCollapsedConstruct={tokenize:tokenizeReferenceCollapsed};function resolveAllLabelEnd(_e){let et=-1;const rt=[];for(;++et<_e.length;){const nt=_e[et][1];if(rt.push(_e[et]),nt.type==="labelImage"||nt.type==="labelLink"||nt.type==="labelEnd"){const st=nt.type==="labelImage"?4:2;nt.type="data",et+=st}}return _e.length!==rt.length&&splice(_e,0,_e.length,rt),_e}function resolveToLabelEnd(_e,et){let rt=_e.length,nt=0,st,it,at,ot;for(;rt--;)if(st=_e[rt][1],it){if(st.type==="link"||st.type==="labelLink"&&st._inactive)break;_e[rt][0]==="enter"&&st.type==="labelLink"&&(st._inactive=!0)}else if(at){if(_e[rt][0]==="enter"&&(st.type==="labelImage"||st.type==="labelLink")&&!st._balanced&&(it=rt,st.type!=="labelLink")){nt=2;break}}else st.type==="labelEnd"&&(at=rt);const lt={type:_e[it][1].type==="labelLink"?"link":"image",start:{..._e[it][1].start},end:{..._e[_e.length-1][1].end}},ct={type:"label",start:{..._e[it][1].start},end:{..._e[at][1].end}},ut={type:"labelText",start:{..._e[it+nt+2][1].end},end:{..._e[at-2][1].start}};return ot=[["enter",lt,et],["enter",ct,et]],ot=push(ot,_e.slice(it+1,it+nt+3)),ot=push(ot,[["enter",ut,et]]),ot=push(ot,resolveAll(et.parser.constructs.insideSpan.null,_e.slice(it+nt+4,at-3),et)),ot=push(ot,[["exit",ut,et],_e[at-2],_e[at-1],["exit",ct,et]]),ot=push(ot,_e.slice(at+1)),ot=push(ot,[["exit",lt,et]]),splice(_e,it,_e.length,ot),_e}function tokenizeLabelEnd(_e,et,rt){const nt=this;let st=nt.events.length,it,at;for(;st--;)if((nt.events[st][1].type==="labelImage"||nt.events[st][1].type==="labelLink")&&!nt.events[st][1]._balanced){it=nt.events[st][1];break}return ot;function ot(pt){return it?it._inactive?dt(pt):(at=nt.parser.defined.includes(normalizeIdentifier(nt.sliceSerialize({start:it.end,end:nt.now()}))),_e.enter("labelEnd"),_e.enter("labelMarker"),_e.consume(pt),_e.exit("labelMarker"),_e.exit("labelEnd"),lt):rt(pt)}function lt(pt){return pt===40?_e.attempt(resourceConstruct,ut,at?ut:dt)(pt):pt===91?_e.attempt(referenceFullConstruct,ut,at?ct:dt)(pt):at?ut(pt):dt(pt)}function ct(pt){return _e.attempt(referenceCollapsedConstruct,ut,dt)(pt)}function ut(pt){return et(pt)}function dt(pt){return it._balanced=!0,rt(pt)}}function tokenizeResource(_e,et,rt){return nt;function nt(dt){return _e.enter("resource"),_e.enter("resourceMarker"),_e.consume(dt),_e.exit("resourceMarker"),st}function st(dt){return markdownLineEndingOrSpace(dt)?factoryWhitespace(_e,it)(dt):it(dt)}function it(dt){return dt===41?ut(dt):factoryDestination(_e,at,ot,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(dt)}function at(dt){return markdownLineEndingOrSpace(dt)?factoryWhitespace(_e,lt)(dt):ut(dt)}function ot(dt){return rt(dt)}function lt(dt){return dt===34||dt===39||dt===40?factoryTitle(_e,ct,rt,"resourceTitle","resourceTitleMarker","resourceTitleString")(dt):ut(dt)}function ct(dt){return markdownLineEndingOrSpace(dt)?factoryWhitespace(_e,ut)(dt):ut(dt)}function ut(dt){return dt===41?(_e.enter("resourceMarker"),_e.consume(dt),_e.exit("resourceMarker"),_e.exit("resource"),et):rt(dt)}}function tokenizeReferenceFull(_e,et,rt){const nt=this;return st;function st(ot){return factoryLabel.call(nt,_e,it,at,"reference","referenceMarker","referenceString")(ot)}function it(ot){return nt.parser.defined.includes(normalizeIdentifier(nt.sliceSerialize(nt.events[nt.events.length-1][1]).slice(1,-1)))?et(ot):rt(ot)}function at(ot){return rt(ot)}}function tokenizeReferenceCollapsed(_e,et,rt){return nt;function nt(it){return _e.enter("reference"),_e.enter("referenceMarker"),_e.consume(it),_e.exit("referenceMarker"),st}function st(it){return it===93?(_e.enter("referenceMarker"),_e.consume(it),_e.exit("referenceMarker"),_e.exit("reference"),et):rt(it)}}const labelStartImage={name:"labelStartImage",resolveAll:labelEnd.resolveAll,tokenize:tokenizeLabelStartImage};function tokenizeLabelStartImage(_e,et,rt){const nt=this;return st;function st(ot){return _e.enter("labelImage"),_e.enter("labelImageMarker"),_e.consume(ot),_e.exit("labelImageMarker"),it}function it(ot){return ot===91?(_e.enter("labelMarker"),_e.consume(ot),_e.exit("labelMarker"),_e.exit("labelImage"),at):rt(ot)}function at(ot){return ot===94&&"_hiddenFootnoteSupport"in nt.parser.constructs?rt(ot):et(ot)}}const labelStartLink={name:"labelStartLink",resolveAll:labelEnd.resolveAll,tokenize:tokenizeLabelStartLink};function tokenizeLabelStartLink(_e,et,rt){const nt=this;return st;function st(at){return _e.enter("labelLink"),_e.enter("labelMarker"),_e.consume(at),_e.exit("labelMarker"),_e.exit("labelLink"),it}function it(at){return at===94&&"_hiddenFootnoteSupport"in nt.parser.constructs?rt(at):et(at)}}const lineEnding={name:"lineEnding",tokenize:tokenizeLineEnding};function tokenizeLineEnding(_e,et){return rt;function rt(nt){return _e.enter("lineEnding"),_e.consume(nt),_e.exit("lineEnding"),factorySpace(_e,et,"linePrefix")}}const thematicBreak$2={name:"thematicBreak",tokenize:tokenizeThematicBreak};function tokenizeThematicBreak(_e,et,rt){let nt=0,st;return it;function it(ct){return _e.enter("thematicBreak"),at(ct)}function at(ct){return st=ct,ot(ct)}function ot(ct){return ct===st?(_e.enter("thematicBreakSequence"),lt(ct)):nt>=3&&(ct===null||markdownLineEnding(ct))?(_e.exit("thematicBreak"),et(ct)):rt(ct)}function lt(ct){return ct===st?(_e.consume(ct),nt++,lt):(_e.exit("thematicBreakSequence"),markdownSpace(ct)?factorySpace(_e,ot,"whitespace")(ct):ot(ct))}}const list$2={continuation:{tokenize:tokenizeListContinuation},exit:tokenizeListEnd,name:"list",tokenize:tokenizeListStart},listItemPrefixWhitespaceConstruct={partial:!0,tokenize:tokenizeListItemPrefixWhitespace},indentConstruct={partial:!0,tokenize:tokenizeIndent$1};function tokenizeListStart(_e,et,rt){const nt=this,st=nt.events[nt.events.length-1];let it=st&&st[1].type==="linePrefix"?st[2].sliceSerialize(st[1],!0).length:0,at=0;return ot;function ot(mt){const xt=nt.containerState.type||(mt===42||mt===43||mt===45?"listUnordered":"listOrdered");if(xt==="listUnordered"?!nt.containerState.marker||mt===nt.containerState.marker:asciiDigit(mt)){if(nt.containerState.type||(nt.containerState.type=xt,_e.enter(xt,{_container:!0})),xt==="listUnordered")return _e.enter("listItemPrefix"),mt===42||mt===45?_e.check(thematicBreak$2,rt,ct)(mt):ct(mt);if(!nt.interrupt||mt===49)return _e.enter("listItemPrefix"),_e.enter("listItemValue"),lt(mt)}return rt(mt)}function lt(mt){return asciiDigit(mt)&&++at<10?(_e.consume(mt),lt):(!nt.interrupt||at<2)&&(nt.containerState.marker?mt===nt.containerState.marker:mt===41||mt===46)?(_e.exit("listItemValue"),ct(mt)):rt(mt)}function ct(mt){return _e.enter("listItemMarker"),_e.consume(mt),_e.exit("listItemMarker"),nt.containerState.marker=nt.containerState.marker||mt,_e.check(blankLine,nt.interrupt?rt:ut,_e.attempt(listItemPrefixWhitespaceConstruct,pt,dt))}function ut(mt){return nt.containerState.initialBlankLine=!0,it++,pt(mt)}function dt(mt){return markdownSpace(mt)?(_e.enter("listItemPrefixWhitespace"),_e.consume(mt),_e.exit("listItemPrefixWhitespace"),pt):rt(mt)}function pt(mt){return nt.containerState.size=it+nt.sliceSerialize(_e.exit("listItemPrefix"),!0).length,et(mt)}}function tokenizeListContinuation(_e,et,rt){const nt=this;return nt.containerState._closeFlow=void 0,_e.check(blankLine,st,it);function st(ot){return nt.containerState.furtherBlankLines=nt.containerState.furtherBlankLines||nt.containerState.initialBlankLine,factorySpace(_e,et,"listItemIndent",nt.containerState.size+1)(ot)}function it(ot){return nt.containerState.furtherBlankLines||!markdownSpace(ot)?(nt.containerState.furtherBlankLines=void 0,nt.containerState.initialBlankLine=void 0,at(ot)):(nt.containerState.furtherBlankLines=void 0,nt.containerState.initialBlankLine=void 0,_e.attempt(indentConstruct,et,at)(ot))}function at(ot){return nt.containerState._closeFlow=!0,nt.interrupt=void 0,factorySpace(_e,_e.attempt(list$2,et,rt),"linePrefix",nt.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ot)}}function tokenizeIndent$1(_e,et,rt){const nt=this;return factorySpace(_e,st,"listItemIndent",nt.containerState.size+1);function st(it){const at=nt.events[nt.events.length-1];return at&&at[1].type==="listItemIndent"&&at[2].sliceSerialize(at[1],!0).length===nt.containerState.size?et(it):rt(it)}}function tokenizeListEnd(_e){_e.exit(this.containerState.type)}function tokenizeListItemPrefixWhitespace(_e,et,rt){const nt=this;return factorySpace(_e,st,"listItemPrefixWhitespace",nt.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function st(it){const at=nt.events[nt.events.length-1];return!markdownSpace(it)&&at&&at[1].type==="listItemPrefixWhitespace"?et(it):rt(it)}}const setextUnderline={name:"setextUnderline",resolveTo:resolveToSetextUnderline,tokenize:tokenizeSetextUnderline};function resolveToSetextUnderline(_e,et){let rt=_e.length,nt,st,it;for(;rt--;)if(_e[rt][0]==="enter"){if(_e[rt][1].type==="content"){nt=rt;break}_e[rt][1].type==="paragraph"&&(st=rt)}else _e[rt][1].type==="content"&&_e.splice(rt,1),!it&&_e[rt][1].type==="definition"&&(it=rt);const at={type:"setextHeading",start:{..._e[nt][1].start},end:{..._e[_e.length-1][1].end}};return _e[st][1].type="setextHeadingText",it?(_e.splice(st,0,["enter",at,et]),_e.splice(it+1,0,["exit",_e[nt][1],et]),_e[nt][1].end={..._e[it][1].end}):_e[nt][1]=at,_e.push(["exit",at,et]),_e}function tokenizeSetextUnderline(_e,et,rt){const nt=this;let st;return it;function it(ct){let ut=nt.events.length,dt;for(;ut--;)if(nt.events[ut][1].type!=="lineEnding"&&nt.events[ut][1].type!=="linePrefix"&&nt.events[ut][1].type!=="content"){dt=nt.events[ut][1].type==="paragraph";break}return!nt.parser.lazy[nt.now().line]&&(nt.interrupt||dt)?(_e.enter("setextHeadingLine"),st=ct,at(ct)):rt(ct)}function at(ct){return _e.enter("setextHeadingLineSequence"),ot(ct)}function ot(ct){return ct===st?(_e.consume(ct),ot):(_e.exit("setextHeadingLineSequence"),markdownSpace(ct)?factorySpace(_e,lt,"lineSuffix")(ct):lt(ct))}function lt(ct){return ct===null||markdownLineEnding(ct)?(_e.exit("setextHeadingLine"),et(ct)):rt(ct)}}const flow$1={tokenize:initializeFlow};function initializeFlow(_e){const et=this,rt=_e.attempt(blankLine,nt,_e.attempt(this.parser.constructs.flowInitial,st,factorySpace(_e,_e.attempt(this.parser.constructs.flow,st,_e.attempt(content,st)),"linePrefix")));return rt;function nt(it){if(it===null){_e.consume(it);return}return _e.enter("lineEndingBlank"),_e.consume(it),_e.exit("lineEndingBlank"),et.currentConstruct=void 0,rt}function st(it){if(it===null){_e.consume(it);return}return _e.enter("lineEnding"),_e.consume(it),_e.exit("lineEnding"),et.currentConstruct=void 0,rt}}const resolver={resolveAll:createResolver()},string$2=initializeFactory("string"),text$4=initializeFactory("text");function initializeFactory(_e){return{resolveAll:createResolver(_e==="text"?resolveAllLineSuffixes:void 0),tokenize:et};function et(rt){const nt=this,st=this.parser.constructs[_e],it=rt.attempt(st,at,ot);return at;function at(ut){return ct(ut)?it(ut):ot(ut)}function ot(ut){if(ut===null){rt.consume(ut);return}return rt.enter("data"),rt.consume(ut),lt}function lt(ut){return ct(ut)?(rt.exit("data"),it(ut)):(rt.consume(ut),lt)}function ct(ut){if(ut===null)return!0;const dt=st[ut];let pt=-1;if(dt)for(;++pt<dt.length;){const mt=dt[pt];if(!mt.previous||mt.previous.call(nt,nt.previous))return!0}return!1}}}function createResolver(_e){return et;function et(rt,nt){let st=-1,it;for(;++st<=rt.length;)it===void 0?rt[st]&&rt[st][1].type==="data"&&(it=st,st++):(!rt[st]||rt[st][1].type!=="data")&&(st!==it+2&&(rt[it][1].end=rt[st-1][1].end,rt.splice(it+2,st-it-2),st=it+2),it=void 0);return _e?_e(rt,nt):rt}}function resolveAllLineSuffixes(_e,et){let rt=0;for(;++rt<=_e.length;)if((rt===_e.length||_e[rt][1].type==="lineEnding")&&_e[rt-1][1].type==="data"){const nt=_e[rt-1][1],st=et.sliceStream(nt);let it=st.length,at=-1,ot=0,lt;for(;it--;){const ct=st[it];if(typeof ct=="string"){for(at=ct.length;ct.charCodeAt(at-1)===32;)ot++,at--;if(at)break;at=-1}else if(ct===-2)lt=!0,ot++;else if(ct!==-1){it++;break}}if(et._contentTypeTextTrailing&&rt===_e.length&&(ot=0),ot){const ct={type:rt===_e.length||lt||ot<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:it?at:nt.start._bufferIndex+at,_index:nt.start._index+it,line:nt.end.line,column:nt.end.column-ot,offset:nt.end.offset-ot},end:{...nt.end}};nt.end={...ct.start},nt.start.offset===nt.end.offset?Object.assign(nt,ct):(_e.splice(rt,0,["enter",ct,et],["exit",ct,et]),rt+=2)}rt++}return _e}const document$1={42:list$2,43:list$2,45:list$2,48:list$2,49:list$2,50:list$2,51:list$2,52:list$2,53:list$2,54:list$2,55:list$2,56:list$2,57:list$2,62:blockQuote},contentInitial={91:definition$1},flowInitial={[-2]:codeIndented,[-1]:codeIndented,32:codeIndented},flow={35:headingAtx,42:thematicBreak$2,45:[setextUnderline,thematicBreak$2],60:htmlFlow,61:setextUnderline,95:thematicBreak$2,96:codeFenced,126:codeFenced},string$1={38:characterReference,92:characterEscape},text$3={[-5]:lineEnding,[-4]:lineEnding,[-3]:lineEnding,33:labelStartImage,38:characterReference,42:attention,60:[autolink$1,htmlText],91:labelStartLink,92:[hardBreakEscape,characterEscape],93:labelEnd,95:attention,96:codeText},insideSpan={null:[attention,resolver]},attentionMarkers={null:[42,95]},disable={null:[]},defaultConstructs=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers,contentInitial,disable,document:document$1,flow,flowInitial,insideSpan,string:string$1,text:text$3},Symbol.toStringTag,{value:"Module"}));function createTokenizer(_e,et,rt){let nt={_bufferIndex:-1,_index:0,line:rt&&rt.line||1,column:rt&&rt.column||1,offset:rt&&rt.offset||0};const st={},it=[];let at=[],ot=[];const lt={attempt:_t(Rt),check:_t(St),consume:Et,enter:jt,exit:kt,interrupt:_t(St,{interrupt:!0})},ct={code:null,containerState:{},defineSkip:yt,events:[],now:xt,parser:_e,previous:null,sliceSerialize:pt,sliceStream:mt,write:dt};let ut=et.tokenize.call(ct,lt);return et.resolveAll&&it.push(et),ct;function dt(Ft){return at=push(at,Ft),vt(),at[at.length-1]!==null?[]:(Nt(et,0),ct.events=resolveAll(it,ct.events,ct),ct.events)}function pt(Ft,Tt){return serializeChunks(mt(Ft),Tt)}function mt(Ft){return sliceChunks(at,Ft)}function xt(){const{_bufferIndex:Ft,_index:Tt,line:Bt,column:Wt,offset:qt}=nt;return{_bufferIndex:Ft,_index:Tt,line:Bt,column:Wt,offset:qt}}function yt(Ft){st[Ft.line]=Ft.column,$t()}function vt(){let Ft;for(;nt._index<at.length;){const Tt=at[nt._index];if(typeof Tt=="string")for(Ft=nt._index,nt._bufferIndex<0&&(nt._bufferIndex=0);nt._index===Ft&&nt._bufferIndex<Tt.length;)gt(Tt.charCodeAt(nt._bufferIndex));else gt(Tt)}}function gt(Ft){ut=ut(Ft)}function Et(Ft){markdownLineEnding(Ft)?(nt.line++,nt.column=1,nt.offset+=Ft===-3?2:1,$t()):Ft!==-1&&(nt.column++,nt.offset++),nt._bufferIndex<0?nt._index++:(nt._bufferIndex++,nt._bufferIndex===at[nt._index].length&&(nt._bufferIndex=-1,nt._index++)),ct.previous=Ft}function jt(Ft,Tt){const Bt=Tt||{};return Bt.type=Ft,Bt.start=xt(),ct.events.push(["enter",Bt,ct]),ot.push(Bt),Bt}function kt(Ft){const Tt=ot.pop();return Tt.end=xt(),ct.events.push(["exit",Tt,ct]),Tt}function Rt(Ft,Tt){Nt(Ft,Tt.from)}function St(Ft,Tt){Tt.restore()}function _t(Ft,Tt){return Bt;function Bt(Wt,qt,Ot){let Dt,Pt,It,At;return Array.isArray(Wt)?Gt(Wt):"tokenize"in Wt?Gt([Wt]):Ht(Wt);function Ht(ar){return mr;function mr(Er){const or=Er!==null&&ar[Er],yr=Er!==null&&ar.null,vr=[...Array.isArray(or)?or:or?[or]:[],...Array.isArray(yr)?yr:yr?[yr]:[]];return Gt(vr)(Er)}}function Gt(ar){return Dt=ar,Pt=0,ar.length===0?Ot:Vt(ar[Pt])}function Vt(ar){return mr;function mr(Er){return At=Lt(),It=ar,ar.partial||(ct.currentConstruct=ar),ar.name&&ct.parser.constructs.disable.null.includes(ar.name)?rr():ar.tokenize.call(Tt?Object.assign(Object.create(ct),Tt):ct,lt,Jt,rr)(Er)}}function Jt(ar){return Ft(It,At),qt}function rr(ar){return At.restore(),++Pt<Dt.length?Vt(Dt[Pt]):Ot}}}function Nt(Ft,Tt){Ft.resolveAll&&!it.includes(Ft)&&it.push(Ft),Ft.resolve&&splice(ct.events,Tt,ct.events.length-Tt,Ft.resolve(ct.events.slice(Tt),ct)),Ft.resolveTo&&(ct.events=Ft.resolveTo(ct.events,ct))}function Lt(){const Ft=xt(),Tt=ct.previous,Bt=ct.currentConstruct,Wt=ct.events.length,qt=Array.from(ot);return{from:Wt,restore:Ot};function Ot(){nt=Ft,ct.previous=Tt,ct.currentConstruct=Bt,ct.events.length=Wt,ot=qt,$t()}}function $t(){nt.line in st&&nt.column<2&&(nt.column=st[nt.line],nt.offset+=st[nt.line]-1)}}function sliceChunks(_e,et){const rt=et.start._index,nt=et.start._bufferIndex,st=et.end._index,it=et.end._bufferIndex;let at;if(rt===st)at=[_e[rt].slice(nt,it)];else{if(at=_e.slice(rt,st),nt>-1){const ot=at[0];typeof ot=="string"?at[0]=ot.slice(nt):at.shift()}it>0&&at.push(_e[st].slice(0,it))}return at}function serializeChunks(_e,et){let rt=-1;const nt=[];let st;for(;++rt<_e.length;){const it=_e[rt];let at;if(typeof it=="string")at=it;else switch(it){case-5:{at="\r";break}case-4:{at=`
`;break}case-3:{at=`\r
`;break}case-2:{at=et?" ":"	";break}case-1:{if(!et&&st)continue;at=" ";break}default:at=String.fromCharCode(it)}st=it===-2,nt.push(at)}return nt.join("")}function parse(_e){const nt={constructs:combineExtensions([defaultConstructs,...(_e||{}).extensions||[]]),content:st(content$1),defined:[],document:st(document$2),flow:st(flow$1),lazy:{},string:st(string$2),text:st(text$4)};return nt;function st(it){return at;function at(ot){return createTokenizer(nt,it,ot)}}}function postprocess(_e){for(;!subtokenize(_e););return _e}const search=/[\0\t\n\r]/g;function preprocess(){let _e=1,et="",rt=!0,nt;return st;function st(it,at,ot){const lt=[];let ct,ut,dt,pt,mt;for(it=et+(typeof it=="string"?it.toString():new TextDecoder(at||void 0).decode(it)),dt=0,et="",rt&&(it.charCodeAt(0)===65279&&dt++,rt=void 0);dt<it.length;){if(search.lastIndex=dt,ct=search.exec(it),pt=ct&&ct.index!==void 0?ct.index:it.length,mt=it.charCodeAt(pt),!ct){et=it.slice(dt);break}if(mt===10&&dt===pt&&nt)lt.push(-3),nt=void 0;else switch(nt&&(lt.push(-5),nt=void 0),dt<pt&&(lt.push(it.slice(dt,pt)),_e+=pt-dt),mt){case 0:{lt.push(65533),_e++;break}case 9:{for(ut=Math.ceil(_e/4)*4,lt.push(-2);_e++<ut;)lt.push(-1);break}case 10:{lt.push(-4),_e=1;break}default:nt=!0,_e=1}dt=pt+1}return ot&&(nt&&lt.push(-5),et&&lt.push(et),lt.push(null)),lt}}const characterEscapeOrReference=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function decodeString(_e){return _e.replace(characterEscapeOrReference,decode)}function decode(_e,et,rt){if(et)return et;if(rt.charCodeAt(0)===35){const st=rt.charCodeAt(1),it=st===120||st===88;return decodeNumericCharacterReference(rt.slice(it?2:1),it?16:10)}return decodeNamedCharacterReference(rt)||_e}const own$2={}.hasOwnProperty;function fromMarkdown(_e,et,rt){return typeof et!="string"&&(rt=et,et=void 0),compiler(rt)(postprocess(parse(rt).document().write(preprocess()(_e,et,!0))))}function compiler(_e){const et={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:it(Mr),autolinkProtocol:Lt,autolinkEmail:Lt,atxHeading:it(wr),blockQuote:it(yr),characterEscape:Lt,characterReference:Lt,codeFenced:it(vr),codeFencedFenceInfo:at,codeFencedFenceMeta:at,codeIndented:it(vr,at),codeText:it(Zt,at),codeTextData:Lt,data:Lt,codeFlowValue:Lt,definition:it(pr),definitionDestinationString:at,definitionLabelString:at,definitionTitleString:at,emphasis:it(lr),hardBreakEscape:it(Rr),hardBreakTrailing:it(Rr),htmlFlow:it(Tr,at),htmlFlowData:Lt,htmlText:it(Tr,at),htmlTextData:Lt,image:it(Nr),label:at,link:it(Mr),listItem:it(Kt),listItemValue:pt,listOrdered:it(Dr,dt),listUnordered:it(Dr),paragraph:it(Qt),reference:Vt,referenceString:at,resourceDestinationString:at,resourceTitleString:at,setextHeading:it(wr),strong:it(ir),thematicBreak:it(ur)},exit:{atxHeading:lt(),atxHeadingSequence:Rt,autolink:lt(),autolinkEmail:or,autolinkProtocol:Er,blockQuote:lt(),characterEscapeValue:$t,characterReferenceMarkerHexadecimal:rr,characterReferenceMarkerNumeric:rr,characterReferenceValue:ar,characterReference:mr,codeFenced:lt(vt),codeFencedFence:yt,codeFencedFenceInfo:mt,codeFencedFenceMeta:xt,codeFlowValue:$t,codeIndented:lt(gt),codeText:lt(qt),codeTextData:$t,data:$t,definition:lt(),definitionDestinationString:kt,definitionLabelString:Et,definitionTitleString:jt,emphasis:lt(),hardBreakEscape:lt(Tt),hardBreakTrailing:lt(Tt),htmlFlow:lt(Bt),htmlFlowData:$t,htmlText:lt(Wt),htmlTextData:$t,image:lt(Dt),label:It,labelText:Pt,lineEnding:Ft,link:lt(Ot),listItem:lt(),listOrdered:lt(),listUnordered:lt(),paragraph:lt(),referenceString:Jt,resourceDestinationString:At,resourceTitleString:Ht,resource:Gt,setextHeading:lt(Nt),setextHeadingLineSequence:_t,setextHeadingText:St,strong:lt(),thematicBreak:lt()}};configure(et,(_e||{}).mdastExtensions||[]);const rt={};return nt;function nt(Xt){let nr={type:"root",children:[]};const hr={stack:[nr],tokenStack:[],config:et,enter:ot,exit:ct,buffer:at,resume:ut,data:rt},xr=[];let jr=-1;for(;++jr<Xt.length;)if(Xt[jr][1].type==="listOrdered"||Xt[jr][1].type==="listUnordered")if(Xt[jr][0]==="enter")xr.push(jr);else{const Lr=xr.pop();jr=st(Xt,Lr,jr)}for(jr=-1;++jr<Xt.length;){const Lr=et[Xt[jr][0]];own$2.call(Lr,Xt[jr][1].type)&&Lr[Xt[jr][1].type].call(Object.assign({sliceSerialize:Xt[jr][2].sliceSerialize},hr),Xt[jr][1])}if(hr.tokenStack.length>0){const Lr=hr.tokenStack[hr.tokenStack.length-1];(Lr[1]||defaultOnError).call(hr,void 0,Lr[0])}for(nr.position={start:point$3(Xt.length>0?Xt[0][1].start:{line:1,column:1,offset:0}),end:point$3(Xt.length>0?Xt[Xt.length-2][1].end:{line:1,column:1,offset:0})},jr=-1;++jr<et.transforms.length;)nr=et.transforms[jr](nr)||nr;return nr}function st(Xt,nr,hr){let xr=nr-1,jr=-1,Lr=!1,Vr,Kr,Xr,Jr;for(;++xr<=hr;){const Ur=Xt[xr];switch(Ur[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ur[0]==="enter"?jr++:jr--,Jr=void 0;break}case"lineEndingBlank":{Ur[0]==="enter"&&(Vr&&!Jr&&!jr&&!Xr&&(Xr=xr),Jr=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Jr=void 0}if(!jr&&Ur[0]==="enter"&&Ur[1].type==="listItemPrefix"||jr===-1&&Ur[0]==="exit"&&(Ur[1].type==="listUnordered"||Ur[1].type==="listOrdered")){if(Vr){let qr=xr;for(Kr=void 0;qr--;){const Zr=Xt[qr];if(Zr[1].type==="lineEnding"||Zr[1].type==="lineEndingBlank"){if(Zr[0]==="exit")continue;Kr&&(Xt[Kr][1].type="lineEndingBlank",Lr=!0),Zr[1].type="lineEnding",Kr=qr}else if(!(Zr[1].type==="linePrefix"||Zr[1].type==="blockQuotePrefix"||Zr[1].type==="blockQuotePrefixWhitespace"||Zr[1].type==="blockQuoteMarker"||Zr[1].type==="listItemIndent"))break}Xr&&(!Kr||Xr<Kr)&&(Vr._spread=!0),Vr.end=Object.assign({},Kr?Xt[Kr][1].start:Ur[1].end),Xt.splice(Kr||xr,0,["exit",Vr,Ur[2]]),xr++,hr++}if(Ur[1].type==="listItemPrefix"){const qr={type:"listItem",_spread:!1,start:Object.assign({},Ur[1].start),end:void 0};Vr=qr,Xt.splice(xr,0,["enter",qr,Ur[2]]),xr++,hr++,Xr=void 0,Jr=!0}}}return Xt[nr][1]._spread=Lr,hr}function it(Xt,nr){return hr;function hr(xr){ot.call(this,Xt(xr),xr),nr&&nr.call(this,xr)}}function at(){this.stack.push({type:"fragment",children:[]})}function ot(Xt,nr,hr){this.stack[this.stack.length-1].children.push(Xt),this.stack.push(Xt),this.tokenStack.push([nr,hr||void 0]),Xt.position={start:point$3(nr.start),end:void 0}}function lt(Xt){return nr;function nr(hr){Xt&&Xt.call(this,hr),ct.call(this,hr)}}function ct(Xt,nr){const hr=this.stack.pop(),xr=this.tokenStack.pop();if(xr)xr[0].type!==Xt.type&&(nr?nr.call(this,Xt,xr[0]):(xr[1]||defaultOnError).call(this,Xt,xr[0]));else throw new Error("Cannot close `"+Xt.type+"` ("+stringifyPosition({start:Xt.start,end:Xt.end})+"): its not open");hr.position.end=point$3(Xt.end)}function ut(){return toString$4(this.stack.pop())}function dt(){this.data.expectingFirstListItemValue=!0}function pt(Xt){if(this.data.expectingFirstListItemValue){const nr=this.stack[this.stack.length-2];nr.start=Number.parseInt(this.sliceSerialize(Xt),10),this.data.expectingFirstListItemValue=void 0}}function mt(){const Xt=this.resume(),nr=this.stack[this.stack.length-1];nr.lang=Xt}function xt(){const Xt=this.resume(),nr=this.stack[this.stack.length-1];nr.meta=Xt}function yt(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function vt(){const Xt=this.resume(),nr=this.stack[this.stack.length-1];nr.value=Xt.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function gt(){const Xt=this.resume(),nr=this.stack[this.stack.length-1];nr.value=Xt.replace(/(\r?\n|\r)$/g,"")}function Et(Xt){const nr=this.resume(),hr=this.stack[this.stack.length-1];hr.label=nr,hr.identifier=normalizeIdentifier(this.sliceSerialize(Xt)).toLowerCase()}function jt(){const Xt=this.resume(),nr=this.stack[this.stack.length-1];nr.title=Xt}function kt(){const Xt=this.resume(),nr=this.stack[this.stack.length-1];nr.url=Xt}function Rt(Xt){const nr=this.stack[this.stack.length-1];if(!nr.depth){const hr=this.sliceSerialize(Xt).length;nr.depth=hr}}function St(){this.data.setextHeadingSlurpLineEnding=!0}function _t(Xt){const nr=this.stack[this.stack.length-1];nr.depth=this.sliceSerialize(Xt).codePointAt(0)===61?1:2}function Nt(){this.data.setextHeadingSlurpLineEnding=void 0}function Lt(Xt){const hr=this.stack[this.stack.length-1].children;let xr=hr[hr.length-1];(!xr||xr.type!=="text")&&(xr=dr(),xr.position={start:point$3(Xt.start),end:void 0},hr.push(xr)),this.stack.push(xr)}function $t(Xt){const nr=this.stack.pop();nr.value+=this.sliceSerialize(Xt),nr.position.end=point$3(Xt.end)}function Ft(Xt){const nr=this.stack[this.stack.length-1];if(this.data.atHardBreak){const hr=nr.children[nr.children.length-1];hr.position.end=point$3(Xt.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&et.canContainEols.includes(nr.type)&&(Lt.call(this,Xt),$t.call(this,Xt))}function Tt(){this.data.atHardBreak=!0}function Bt(){const Xt=this.resume(),nr=this.stack[this.stack.length-1];nr.value=Xt}function Wt(){const Xt=this.resume(),nr=this.stack[this.stack.length-1];nr.value=Xt}function qt(){const Xt=this.resume(),nr=this.stack[this.stack.length-1];nr.value=Xt}function Ot(){const Xt=this.stack[this.stack.length-1];if(this.data.inReference){const nr=this.data.referenceType||"shortcut";Xt.type+="Reference",Xt.referenceType=nr,delete Xt.url,delete Xt.title}else delete Xt.identifier,delete Xt.label;this.data.referenceType=void 0}function Dt(){const Xt=this.stack[this.stack.length-1];if(this.data.inReference){const nr=this.data.referenceType||"shortcut";Xt.type+="Reference",Xt.referenceType=nr,delete Xt.url,delete Xt.title}else delete Xt.identifier,delete Xt.label;this.data.referenceType=void 0}function Pt(Xt){const nr=this.sliceSerialize(Xt),hr=this.stack[this.stack.length-2];hr.label=decodeString(nr),hr.identifier=normalizeIdentifier(nr).toLowerCase()}function It(){const Xt=this.stack[this.stack.length-1],nr=this.resume(),hr=this.stack[this.stack.length-1];if(this.data.inReference=!0,hr.type==="link"){const xr=Xt.children;hr.children=xr}else hr.alt=nr}function At(){const Xt=this.resume(),nr=this.stack[this.stack.length-1];nr.url=Xt}function Ht(){const Xt=this.resume(),nr=this.stack[this.stack.length-1];nr.title=Xt}function Gt(){this.data.inReference=void 0}function Vt(){this.data.referenceType="collapsed"}function Jt(Xt){const nr=this.resume(),hr=this.stack[this.stack.length-1];hr.label=nr,hr.identifier=normalizeIdentifier(this.sliceSerialize(Xt)).toLowerCase(),this.data.referenceType="full"}function rr(Xt){this.data.characterReferenceType=Xt.type}function ar(Xt){const nr=this.sliceSerialize(Xt),hr=this.data.characterReferenceType;let xr;hr?(xr=decodeNumericCharacterReference(nr,hr==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):xr=decodeNamedCharacterReference(nr);const jr=this.stack[this.stack.length-1];jr.value+=xr}function mr(Xt){const nr=this.stack.pop();nr.position.end=point$3(Xt.end)}function Er(Xt){$t.call(this,Xt);const nr=this.stack[this.stack.length-1];nr.url=this.sliceSerialize(Xt)}function or(Xt){$t.call(this,Xt);const nr=this.stack[this.stack.length-1];nr.url="mailto:"+this.sliceSerialize(Xt)}function yr(){return{type:"blockquote",children:[]}}function vr(){return{type:"code",lang:null,meta:null,value:""}}function Zt(){return{type:"inlineCode",value:""}}function pr(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function lr(){return{type:"emphasis",children:[]}}function wr(){return{type:"heading",depth:0,children:[]}}function Rr(){return{type:"break"}}function Tr(){return{type:"html",value:""}}function Nr(){return{type:"image",title:null,url:"",alt:null}}function Mr(){return{type:"link",title:null,url:"",children:[]}}function Dr(Xt){return{type:"list",ordered:Xt.type==="listOrdered",start:null,spread:Xt._spread,children:[]}}function Kt(Xt){return{type:"listItem",spread:Xt._spread,checked:null,children:[]}}function Qt(){return{type:"paragraph",children:[]}}function ir(){return{type:"strong",children:[]}}function dr(){return{type:"text",value:""}}function ur(){return{type:"thematicBreak"}}}function point$3(_e){return{line:_e.line,column:_e.column,offset:_e.offset}}function configure(_e,et){let rt=-1;for(;++rt<et.length;){const nt=et[rt];Array.isArray(nt)?configure(_e,nt):extension(_e,nt)}}function extension(_e,et){let rt;for(rt in et)if(own$2.call(et,rt))switch(rt){case"canContainEols":{const nt=et[rt];nt&&_e[rt].push(...nt);break}case"transforms":{const nt=et[rt];nt&&_e[rt].push(...nt);break}case"enter":case"exit":{const nt=et[rt];nt&&Object.assign(_e[rt],nt);break}}}function defaultOnError(_e,et){throw _e?new Error("Cannot close `"+_e.type+"` ("+stringifyPosition({start:_e.start,end:_e.end})+"): a different token (`"+et.type+"`, "+stringifyPosition({start:et.start,end:et.end})+") is open"):new Error("Cannot close document, a token (`"+et.type+"`, "+stringifyPosition({start:et.start,end:et.end})+") is still open")}function remarkParse(_e){const et=this;et.parser=rt;function rt(nt){return fromMarkdown(nt,{...et.data("settings"),..._e,extensions:et.data("micromarkExtensions")||[],mdastExtensions:et.data("fromMarkdownExtensions")||[]})}}function blockquote$1(_e,et){const rt={type:"element",tagName:"blockquote",properties:{},children:_e.wrap(_e.all(et),!0)};return _e.patch(et,rt),_e.applyData(et,rt)}function hardBreak$1(_e,et){const rt={type:"element",tagName:"br",properties:{},children:[]};return _e.patch(et,rt),[_e.applyData(et,rt),{type:"text",value:`
`}]}function code$3(_e,et){const rt=et.value?et.value+`
`:"",nt={},st=et.lang?et.lang.split(/\s+/):[];st.length>0&&(nt.className=["language-"+st[0]]);let it={type:"element",tagName:"code",properties:nt,children:[{type:"text",value:rt}]};return et.meta&&(it.data={meta:et.meta}),_e.patch(et,it),it=_e.applyData(et,it),it={type:"element",tagName:"pre",properties:{},children:[it]},_e.patch(et,it),it}function strikethrough(_e,et){const rt={type:"element",tagName:"del",properties:{},children:_e.all(et)};return _e.patch(et,rt),_e.applyData(et,rt)}function emphasis$1(_e,et){const rt={type:"element",tagName:"em",properties:{},children:_e.all(et)};return _e.patch(et,rt),_e.applyData(et,rt)}function footnoteReference$1(_e,et){const rt=typeof _e.options.clobberPrefix=="string"?_e.options.clobberPrefix:"user-content-",nt=String(et.identifier).toUpperCase(),st=normalizeUri(nt.toLowerCase()),it=_e.footnoteOrder.indexOf(nt);let at,ot=_e.footnoteCounts.get(nt);ot===void 0?(ot=0,_e.footnoteOrder.push(nt),at=_e.footnoteOrder.length):at=it+1,ot+=1,_e.footnoteCounts.set(nt,ot);const lt={type:"element",tagName:"a",properties:{href:"#"+rt+"fn-"+st,id:rt+"fnref-"+st+(ot>1?"-"+ot:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(at)}]};_e.patch(et,lt);const ct={type:"element",tagName:"sup",properties:{},children:[lt]};return _e.patch(et,ct),_e.applyData(et,ct)}function heading$1(_e,et){const rt={type:"element",tagName:"h"+et.depth,properties:{},children:_e.all(et)};return _e.patch(et,rt),_e.applyData(et,rt)}function html$1(_e,et){if(_e.options.allowDangerousHtml){const rt={type:"raw",value:et.value};return _e.patch(et,rt),_e.applyData(et,rt)}}function revert(_e,et){const rt=et.referenceType;let nt="]";if(rt==="collapsed"?nt+="[]":rt==="full"&&(nt+="["+(et.label||et.identifier)+"]"),et.type==="imageReference")return[{type:"text",value:"!["+et.alt+nt}];const st=_e.all(et),it=st[0];it&&it.type==="text"?it.value="["+it.value:st.unshift({type:"text",value:"["});const at=st[st.length-1];return at&&at.type==="text"?at.value+=nt:st.push({type:"text",value:nt}),st}function imageReference$1(_e,et){const rt=String(et.identifier).toUpperCase(),nt=_e.definitionById.get(rt);if(!nt)return revert(_e,et);const st={src:normalizeUri(nt.url||""),alt:et.alt};nt.title!==null&&nt.title!==void 0&&(st.title=nt.title);const it={type:"element",tagName:"img",properties:st,children:[]};return _e.patch(et,it),_e.applyData(et,it)}function image$1(_e,et){const rt={src:normalizeUri(et.url)};et.alt!==null&&et.alt!==void 0&&(rt.alt=et.alt),et.title!==null&&et.title!==void 0&&(rt.title=et.title);const nt={type:"element",tagName:"img",properties:rt,children:[]};return _e.patch(et,nt),_e.applyData(et,nt)}function inlineCode$1(_e,et){const rt={type:"text",value:et.value.replace(/\r?\n|\r/g," ")};_e.patch(et,rt);const nt={type:"element",tagName:"code",properties:{},children:[rt]};return _e.patch(et,nt),_e.applyData(et,nt)}function linkReference$1(_e,et){const rt=String(et.identifier).toUpperCase(),nt=_e.definitionById.get(rt);if(!nt)return revert(_e,et);const st={href:normalizeUri(nt.url||"")};nt.title!==null&&nt.title!==void 0&&(st.title=nt.title);const it={type:"element",tagName:"a",properties:st,children:_e.all(et)};return _e.patch(et,it),_e.applyData(et,it)}function link$1(_e,et){const rt={href:normalizeUri(et.url)};et.title!==null&&et.title!==void 0&&(rt.title=et.title);const nt={type:"element",tagName:"a",properties:rt,children:_e.all(et)};return _e.patch(et,nt),_e.applyData(et,nt)}function listItem$1(_e,et,rt){const nt=_e.all(et),st=rt?listLoose(rt):listItemLoose(et),it={},at=[];if(typeof et.checked=="boolean"){const ut=nt[0];let dt;ut&&ut.type==="element"&&ut.tagName==="p"?dt=ut:(dt={type:"element",tagName:"p",properties:{},children:[]},nt.unshift(dt)),dt.children.length>0&&dt.children.unshift({type:"text",value:" "}),dt.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:et.checked,disabled:!0},children:[]}),it.className=["task-list-item"]}let ot=-1;for(;++ot<nt.length;){const ut=nt[ot];(st||ot!==0||ut.type!=="element"||ut.tagName!=="p")&&at.push({type:"text",value:`
`}),ut.type==="element"&&ut.tagName==="p"&&!st?at.push(...ut.children):at.push(ut)}const lt=nt[nt.length-1];lt&&(st||lt.type!=="element"||lt.tagName!=="p")&&at.push({type:"text",value:`
`});const ct={type:"element",tagName:"li",properties:it,children:at};return _e.patch(et,ct),_e.applyData(et,ct)}function listLoose(_e){let et=!1;if(_e.type==="list"){et=_e.spread||!1;const rt=_e.children;let nt=-1;for(;!et&&++nt<rt.length;)et=listItemLoose(rt[nt])}return et}function listItemLoose(_e){const et=_e.spread;return et??_e.children.length>1}function list$1(_e,et){const rt={},nt=_e.all(et);let st=-1;for(typeof et.start=="number"&&et.start!==1&&(rt.start=et.start);++st<nt.length;){const at=nt[st];if(at.type==="element"&&at.tagName==="li"&&at.properties&&Array.isArray(at.properties.className)&&at.properties.className.includes("task-list-item")){rt.className=["contains-task-list"];break}}const it={type:"element",tagName:et.ordered?"ol":"ul",properties:rt,children:_e.wrap(nt,!0)};return _e.patch(et,it),_e.applyData(et,it)}function paragraph$1(_e,et){const rt={type:"element",tagName:"p",properties:{},children:_e.all(et)};return _e.patch(et,rt),_e.applyData(et,rt)}function root$1(_e,et){const rt={type:"root",children:_e.wrap(_e.all(et))};return _e.patch(et,rt),_e.applyData(et,rt)}function strong$1(_e,et){const rt={type:"element",tagName:"strong",properties:{},children:_e.all(et)};return _e.patch(et,rt),_e.applyData(et,rt)}function table(_e,et){const rt=_e.all(et),nt=rt.shift(),st=[];if(nt){const at={type:"element",tagName:"thead",properties:{},children:_e.wrap([nt],!0)};_e.patch(et.children[0],at),st.push(at)}if(rt.length>0){const at={type:"element",tagName:"tbody",properties:{},children:_e.wrap(rt,!0)},ot=pointStart(et.children[1]),lt=pointEnd(et.children[et.children.length-1]);ot&&lt&&(at.position={start:ot,end:lt}),st.push(at)}const it={type:"element",tagName:"table",properties:{},children:_e.wrap(st,!0)};return _e.patch(et,it),_e.applyData(et,it)}function tableRow(_e,et,rt){const nt=rt?rt.children:void 0,it=(nt?nt.indexOf(et):1)===0?"th":"td",at=rt&&rt.type==="table"?rt.align:void 0,ot=at?at.length:et.children.length;let lt=-1;const ct=[];for(;++lt<ot;){const dt=et.children[lt],pt={},mt=at?at[lt]:void 0;mt&&(pt.align=mt);let xt={type:"element",tagName:it,properties:pt,children:[]};dt&&(xt.children=_e.all(dt),_e.patch(dt,xt),xt=_e.applyData(dt,xt)),ct.push(xt)}const ut={type:"element",tagName:"tr",properties:{},children:_e.wrap(ct,!0)};return _e.patch(et,ut),_e.applyData(et,ut)}function tableCell(_e,et){const rt={type:"element",tagName:"td",properties:{},children:_e.all(et)};return _e.patch(et,rt),_e.applyData(et,rt)}const tab=9,space=32;function trimLines(_e){const et=String(_e),rt=/\r?\n|\r/g;let nt=rt.exec(et),st=0;const it=[];for(;nt;)it.push(trimLine(et.slice(st,nt.index),st>0,!0),nt[0]),st=nt.index+nt[0].length,nt=rt.exec(et);return it.push(trimLine(et.slice(st),st>0,!1)),it.join("")}function trimLine(_e,et,rt){let nt=0,st=_e.length;if(et){let it=_e.codePointAt(nt);for(;it===tab||it===space;)nt++,it=_e.codePointAt(nt)}if(rt){let it=_e.codePointAt(st-1);for(;it===tab||it===space;)st--,it=_e.codePointAt(st-1)}return st>nt?_e.slice(nt,st):""}function text$2(_e,et){const rt={type:"text",value:trimLines(String(et.value))};return _e.patch(et,rt),_e.applyData(et,rt)}function thematicBreak$1(_e,et){const rt={type:"element",tagName:"hr",properties:{},children:[]};return _e.patch(et,rt),_e.applyData(et,rt)}const handlers$1={blockquote:blockquote$1,break:hardBreak$1,code:code$3,delete:strikethrough,emphasis:emphasis$1,footnoteReference:footnoteReference$1,heading:heading$1,html:html$1,imageReference:imageReference$1,image:image$1,inlineCode:inlineCode$1,linkReference:linkReference$1,link:link$1,listItem:listItem$1,list:list$1,paragraph:paragraph$1,root:root$1,strong:strong$1,table,tableCell,tableRow,text:text$2,thematicBreak:thematicBreak$1,toml:ignore,yaml:ignore,definition:ignore,footnoteDefinition:ignore};function ignore(){}const VOID=-1,PRIMITIVE=0,ARRAY=1,OBJECT=2,DATE=3,REGEXP=4,MAP=5,SET=6,ERROR=7,BIGINT=8,env=typeof self=="object"?self:globalThis,deserializer=(_e,et)=>{const rt=(st,it)=>(_e.set(it,st),st),nt=st=>{if(_e.has(st))return _e.get(st);const[it,at]=et[st];switch(it){case PRIMITIVE:case VOID:return rt(at,st);case ARRAY:{const ot=rt([],st);for(const lt of at)ot.push(nt(lt));return ot}case OBJECT:{const ot=rt({},st);for(const[lt,ct]of at)ot[nt(lt)]=nt(ct);return ot}case DATE:return rt(new Date(at),st);case REGEXP:{const{source:ot,flags:lt}=at;return rt(new RegExp(ot,lt),st)}case MAP:{const ot=rt(new Map,st);for(const[lt,ct]of at)ot.set(nt(lt),nt(ct));return ot}case SET:{const ot=rt(new Set,st);for(const lt of at)ot.add(nt(lt));return ot}case ERROR:{const{name:ot,message:lt}=at;return rt(new env[ot](lt),st)}case BIGINT:return rt(BigInt(at),st);case"BigInt":return rt(Object(BigInt(at)),st);case"ArrayBuffer":return rt(new Uint8Array(at).buffer,at);case"DataView":{const{buffer:ot}=new Uint8Array(at);return rt(new DataView(ot),at)}}return rt(new env[it](at),st)};return nt},deserialize=_e=>deserializer(new Map,_e)(0),EMPTY="",{toString:toString$3}={},{keys:keys$2}=Object,typeOf=_e=>{const et=typeof _e;if(et!=="object"||!_e)return[PRIMITIVE,et];const rt=toString$3.call(_e).slice(8,-1);switch(rt){case"Array":return[ARRAY,EMPTY];case"Object":return[OBJECT,EMPTY];case"Date":return[DATE,EMPTY];case"RegExp":return[REGEXP,EMPTY];case"Map":return[MAP,EMPTY];case"Set":return[SET,EMPTY];case"DataView":return[ARRAY,rt]}return rt.includes("Array")?[ARRAY,rt]:rt.includes("Error")?[ERROR,rt]:[OBJECT,rt]},shouldSkip=([_e,et])=>_e===PRIMITIVE&&(et==="function"||et==="symbol"),serializer=(_e,et,rt,nt)=>{const st=(at,ot)=>{const lt=nt.push(at)-1;return rt.set(ot,lt),lt},it=at=>{if(rt.has(at))return rt.get(at);let[ot,lt]=typeOf(at);switch(ot){case PRIMITIVE:{let ut=at;switch(lt){case"bigint":ot=BIGINT,ut=at.toString();break;case"function":case"symbol":if(_e)throw new TypeError("unable to serialize "+lt);ut=null;break;case"undefined":return st([VOID],at)}return st([ot,ut],at)}case ARRAY:{if(lt){let pt=at;return lt==="DataView"?pt=new Uint8Array(at.buffer):lt==="ArrayBuffer"&&(pt=new Uint8Array(at)),st([lt,[...pt]],at)}const ut=[],dt=st([ot,ut],at);for(const pt of at)ut.push(it(pt));return dt}case OBJECT:{if(lt)switch(lt){case"BigInt":return st([lt,at.toString()],at);case"Boolean":case"Number":case"String":return st([lt,at.valueOf()],at)}if(et&&"toJSON"in at)return it(at.toJSON());const ut=[],dt=st([ot,ut],at);for(const pt of keys$2(at))(_e||!shouldSkip(typeOf(at[pt])))&&ut.push([it(pt),it(at[pt])]);return dt}case DATE:return st([ot,at.toISOString()],at);case REGEXP:{const{source:ut,flags:dt}=at;return st([ot,{source:ut,flags:dt}],at)}case MAP:{const ut=[],dt=st([ot,ut],at);for(const[pt,mt]of at)(_e||!(shouldSkip(typeOf(pt))||shouldSkip(typeOf(mt))))&&ut.push([it(pt),it(mt)]);return dt}case SET:{const ut=[],dt=st([ot,ut],at);for(const pt of at)(_e||!shouldSkip(typeOf(pt)))&&ut.push(it(pt));return dt}}const{message:ct}=at;return st([ot,{name:lt,message:ct}],at)};return it},serialize$1=(_e,{json:et,lossy:rt}={})=>{const nt=[];return serializer(!(et||rt),!!et,new Map,nt)(_e),nt},structuredClone$1=typeof structuredClone=="function"?(_e,et)=>et&&("json"in et||"lossy"in et)?deserialize(serialize$1(_e,et)):structuredClone(_e):(_e,et)=>deserialize(serialize$1(_e,et));function defaultFootnoteBackContent(_e,et){const rt=[{type:"text",value:""}];return et>1&&rt.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(et)}]}),rt}function defaultFootnoteBackLabel(_e,et){return"Back to reference "+(_e+1)+(et>1?"-"+et:"")}function footer(_e){const et=typeof _e.options.clobberPrefix=="string"?_e.options.clobberPrefix:"user-content-",rt=_e.options.footnoteBackContent||defaultFootnoteBackContent,nt=_e.options.footnoteBackLabel||defaultFootnoteBackLabel,st=_e.options.footnoteLabel||"Footnotes",it=_e.options.footnoteLabelTagName||"h2",at=_e.options.footnoteLabelProperties||{className:["sr-only"]},ot=[];let lt=-1;for(;++lt<_e.footnoteOrder.length;){const ct=_e.footnoteById.get(_e.footnoteOrder[lt]);if(!ct)continue;const ut=_e.all(ct),dt=String(ct.identifier).toUpperCase(),pt=normalizeUri(dt.toLowerCase());let mt=0;const xt=[],yt=_e.footnoteCounts.get(dt);for(;yt!==void 0&&++mt<=yt;){xt.length>0&&xt.push({type:"text",value:" "});let Et=typeof rt=="string"?rt:rt(lt,mt);typeof Et=="string"&&(Et={type:"text",value:Et}),xt.push({type:"element",tagName:"a",properties:{href:"#"+et+"fnref-"+pt+(mt>1?"-"+mt:""),dataFootnoteBackref:"",ariaLabel:typeof nt=="string"?nt:nt(lt,mt),className:["data-footnote-backref"]},children:Array.isArray(Et)?Et:[Et]})}const vt=ut[ut.length-1];if(vt&&vt.type==="element"&&vt.tagName==="p"){const Et=vt.children[vt.children.length-1];Et&&Et.type==="text"?Et.value+=" ":vt.children.push({type:"text",value:" "}),vt.children.push(...xt)}else ut.push(...xt);const gt={type:"element",tagName:"li",properties:{id:et+"fn-"+pt},children:_e.wrap(ut,!0)};_e.patch(ct,gt),ot.push(gt)}if(ot.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:it,properties:{...structuredClone$1(at),id:"footnote-label"},children:[{type:"text",value:st}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:_e.wrap(ot,!0)},{type:"text",value:`
`}]}}const convert=function(_e){if(_e==null)return ok;if(typeof _e=="function")return castFactory(_e);if(typeof _e=="object")return Array.isArray(_e)?anyFactory(_e):propertiesFactory(_e);if(typeof _e=="string")return typeFactory(_e);throw new Error("Expected function, string, or object as test")};function anyFactory(_e){const et=[];let rt=-1;for(;++rt<_e.length;)et[rt]=convert(_e[rt]);return castFactory(nt);function nt(...st){let it=-1;for(;++it<et.length;)if(et[it].apply(this,st))return!0;return!1}}function propertiesFactory(_e){const et=_e;return castFactory(rt);function rt(nt){const st=nt;let it;for(it in _e)if(st[it]!==et[it])return!1;return!0}}function typeFactory(_e){return castFactory(et);function et(rt){return rt&&rt.type===_e}}function castFactory(_e){return et;function et(rt,nt,st){return!!(looksLikeANode(rt)&&_e.call(this,rt,typeof nt=="number"?nt:void 0,st||void 0))}}function ok(){return!0}function looksLikeANode(_e){return _e!==null&&typeof _e=="object"&&"type"in _e}function color$1(_e){return _e}const empty$1=[],CONTINUE=!0,EXIT=!1,SKIP="skip";function visitParents(_e,et,rt,nt){let st;typeof et=="function"&&typeof rt!="function"?(nt=rt,rt=et):st=et;const it=convert(st),at=nt?-1:1;ot(_e,void 0,[])();function ot(lt,ct,ut){const dt=lt&&typeof lt=="object"?lt:{};if(typeof dt.type=="string"){const mt=typeof dt.tagName=="string"?dt.tagName:typeof dt.name=="string"?dt.name:void 0;Object.defineProperty(pt,"name",{value:"node ("+(lt.type+(mt?"<"+mt+">":""))+")"})}return pt;function pt(){let mt=empty$1,xt,yt,vt;if((!et||it(lt,ct,ut[ut.length-1]||void 0))&&(mt=toResult(rt(lt,ut)),mt[0]===EXIT))return mt;if("children"in lt&&lt.children){const gt=lt;if(gt.children&&mt[0]!==SKIP)for(yt=(nt?gt.children.length:-1)+at,vt=ut.concat(gt);yt>-1&&yt<gt.children.length;){const Et=gt.children[yt];if(xt=ot(Et,yt,vt)(),xt[0]===EXIT)return xt;yt=typeof xt[1]=="number"?xt[1]:yt+at}}return mt}}}function toResult(_e){return Array.isArray(_e)?_e:typeof _e=="number"?[CONTINUE,_e]:_e==null?empty$1:[_e]}function visit(_e,et,rt,nt){let st,it,at;typeof et=="function"&&typeof rt!="function"?(it=void 0,at=et,st=rt):(it=et,at=rt,st=nt),visitParents(_e,it,ot,st);function ot(lt,ct){const ut=ct[ct.length-1],dt=ut?ut.children.indexOf(lt):void 0;return at(lt,dt,ut)}}const own$1={}.hasOwnProperty,emptyOptions$1={};function createState(_e,et){const rt=et||emptyOptions$1,nt=new Map,st=new Map,it=new Map,at={...handlers$1,...rt.handlers},ot={all:ct,applyData,definitionById:nt,footnoteById:st,footnoteCounts:it,footnoteOrder:[],handlers:at,one:lt,options:rt,patch,wrap:wrap$2};return visit(_e,function(ut){if(ut.type==="definition"||ut.type==="footnoteDefinition"){const dt=ut.type==="definition"?nt:st,pt=String(ut.identifier).toUpperCase();dt.has(pt)||dt.set(pt,ut)}}),ot;function lt(ut,dt){const pt=ut.type,mt=ot.handlers[pt];if(own$1.call(ot.handlers,pt)&&mt)return mt(ot,ut,dt);if(ot.options.passThrough&&ot.options.passThrough.includes(pt)){if("children"in ut){const{children:yt,...vt}=ut,gt=structuredClone$1(vt);return gt.children=ot.all(ut),gt}return structuredClone$1(ut)}return(ot.options.unknownHandler||defaultUnknownHandler)(ot,ut,dt)}function ct(ut){const dt=[];if("children"in ut){const pt=ut.children;let mt=-1;for(;++mt<pt.length;){const xt=ot.one(pt[mt],ut);if(xt){if(mt&&pt[mt-1].type==="break"&&(!Array.isArray(xt)&&xt.type==="text"&&(xt.value=trimMarkdownSpaceStart(xt.value)),!Array.isArray(xt)&&xt.type==="element")){const yt=xt.children[0];yt&&yt.type==="text"&&(yt.value=trimMarkdownSpaceStart(yt.value))}Array.isArray(xt)?dt.push(...xt):dt.push(xt)}}}return dt}}function patch(_e,et){_e.position&&(et.position=position$1(_e))}function applyData(_e,et){let rt=et;if(_e&&_e.data){const nt=_e.data.hName,st=_e.data.hChildren,it=_e.data.hProperties;if(typeof nt=="string")if(rt.type==="element")rt.tagName=nt;else{const at="children"in rt?rt.children:[rt];rt={type:"element",tagName:nt,properties:{},children:at}}rt.type==="element"&&it&&Object.assign(rt.properties,structuredClone$1(it)),"children"in rt&&rt.children&&st!==null&&st!==void 0&&(rt.children=st)}return rt}function defaultUnknownHandler(_e,et){const rt=et.data||{},nt="value"in et&&!(own$1.call(rt,"hProperties")||own$1.call(rt,"hChildren"))?{type:"text",value:et.value}:{type:"element",tagName:"div",properties:{},children:_e.all(et)};return _e.patch(et,nt),_e.applyData(et,nt)}function wrap$2(_e,et){const rt=[];let nt=-1;for(et&&rt.push({type:"text",value:`
`});++nt<_e.length;)nt&&rt.push({type:"text",value:`
`}),rt.push(_e[nt]);return et&&_e.length>0&&rt.push({type:"text",value:`
`}),rt}function trimMarkdownSpaceStart(_e){let et=0,rt=_e.charCodeAt(et);for(;rt===9||rt===32;)et++,rt=_e.charCodeAt(et);return _e.slice(et)}function toHast(_e,et){const rt=createState(_e,et),nt=rt.one(_e,void 0),st=footer(rt),it=Array.isArray(nt)?{type:"root",children:nt}:nt||{type:"root",children:[]};return st&&it.children.push({type:"text",value:`
`},st),it}function remarkRehype(_e,et){return _e&&"run"in _e?async function(rt,nt){const st=toHast(rt,{file:nt,...et});await _e.run(st,nt)}:function(rt,nt){return toHast(rt,{file:nt,..._e||et})}}function bail(_e){if(_e)throw _e}var hasOwn$1=Object.prototype.hasOwnProperty,toStr=Object.prototype.toString,defineProperty=Object.defineProperty,gOPD=Object.getOwnPropertyDescriptor,isArray$1=function(et){return typeof Array.isArray=="function"?Array.isArray(et):toStr.call(et)==="[object Array]"},isPlainObject$9=function(et){if(!et||toStr.call(et)!=="[object Object]")return!1;var rt=hasOwn$1.call(et,"constructor"),nt=et.constructor&&et.constructor.prototype&&hasOwn$1.call(et.constructor.prototype,"isPrototypeOf");if(et.constructor&&!rt&&!nt)return!1;var st;for(st in et);return typeof st>"u"||hasOwn$1.call(et,st)},setProperty=function(et,rt){defineProperty&&rt.name==="__proto__"?defineProperty(et,rt.name,{enumerable:!0,configurable:!0,value:rt.newValue,writable:!0}):et[rt.name]=rt.newValue},getProperty=function(et,rt){if(rt==="__proto__")if(hasOwn$1.call(et,rt)){if(gOPD)return gOPD(et,rt).value}else return;return et[rt]},extend$1=function _e(){var et,rt,nt,st,it,at,ot=arguments[0],lt=1,ct=arguments.length,ut=!1;for(typeof ot=="boolean"&&(ut=ot,ot=arguments[1]||{},lt=2),(ot==null||typeof ot!="object"&&typeof ot!="function")&&(ot={});lt<ct;++lt)if(et=arguments[lt],et!=null)for(rt in et)nt=getProperty(ot,rt),st=getProperty(et,rt),ot!==st&&(ut&&st&&(isPlainObject$9(st)||(it=isArray$1(st)))?(it?(it=!1,at=nt&&isArray$1(nt)?nt:[]):at=nt&&isPlainObject$9(nt)?nt:{},setProperty(ot,{name:rt,newValue:_e(ut,at,st)})):typeof st<"u"&&setProperty(ot,{name:rt,newValue:st}));return ot};const extend$2=getDefaultExportFromCjs(extend$1);function isPlainObject$8(_e){if(typeof _e!="object"||_e===null)return!1;const et=Object.getPrototypeOf(_e);return(et===null||et===Object.prototype||Object.getPrototypeOf(et)===null)&&!(Symbol.toStringTag in _e)&&!(Symbol.iterator in _e)}function trough(){const _e=[],et={run:rt,use:nt};return et;function rt(...st){let it=-1;const at=st.pop();if(typeof at!="function")throw new TypeError("Expected function as last argument, not "+at);ot(null,...st);function ot(lt,...ct){const ut=_e[++it];let dt=-1;if(lt){at(lt);return}for(;++dt<st.length;)(ct[dt]===null||ct[dt]===void 0)&&(ct[dt]=st[dt]);st=ct,ut?wrap$1(ut,ot)(...ct):at(null,...ct)}}function nt(st){if(typeof st!="function")throw new TypeError("Expected `middelware` to be a function, not "+st);return _e.push(st),et}}function wrap$1(_e,et){let rt;return nt;function nt(...at){const ot=_e.length>at.length;let lt;ot&&at.push(st);try{lt=_e.apply(this,at)}catch(ct){const ut=ct;if(ot&&rt)throw ut;return st(ut)}ot||(lt&&lt.then&&typeof lt.then=="function"?lt.then(it,st):lt instanceof Error?st(lt):it(lt))}function st(at,...ot){rt||(rt=!0,et(at,...ot))}function it(at){st(null,at)}}const minpath={basename,dirname,extname,join:join$1,sep:"/"};function basename(_e,et){if(et!==void 0&&typeof et!="string")throw new TypeError('"ext" argument must be a string');assertPath$1(_e);let rt=0,nt=-1,st=_e.length,it;if(et===void 0||et.length===0||et.length>_e.length){for(;st--;)if(_e.codePointAt(st)===47){if(it){rt=st+1;break}}else nt<0&&(it=!0,nt=st+1);return nt<0?"":_e.slice(rt,nt)}if(et===_e)return"";let at=-1,ot=et.length-1;for(;st--;)if(_e.codePointAt(st)===47){if(it){rt=st+1;break}}else at<0&&(it=!0,at=st+1),ot>-1&&(_e.codePointAt(st)===et.codePointAt(ot--)?ot<0&&(nt=st):(ot=-1,nt=at));return rt===nt?nt=at:nt<0&&(nt=_e.length),_e.slice(rt,nt)}function dirname(_e){if(assertPath$1(_e),_e.length===0)return".";let et=-1,rt=_e.length,nt;for(;--rt;)if(_e.codePointAt(rt)===47){if(nt){et=rt;break}}else nt||(nt=!0);return et<0?_e.codePointAt(0)===47?"/":".":et===1&&_e.codePointAt(0)===47?"//":_e.slice(0,et)}function extname(_e){assertPath$1(_e);let et=_e.length,rt=-1,nt=0,st=-1,it=0,at;for(;et--;){const ot=_e.codePointAt(et);if(ot===47){if(at){nt=et+1;break}continue}rt<0&&(at=!0,rt=et+1),ot===46?st<0?st=et:it!==1&&(it=1):st>-1&&(it=-1)}return st<0||rt<0||it===0||it===1&&st===rt-1&&st===nt+1?"":_e.slice(st,rt)}function join$1(..._e){let et=-1,rt;for(;++et<_e.length;)assertPath$1(_e[et]),_e[et]&&(rt=rt===void 0?_e[et]:rt+"/"+_e[et]);return rt===void 0?".":normalize$2(rt)}function normalize$2(_e){assertPath$1(_e);const et=_e.codePointAt(0)===47;let rt=normalizeString(_e,!et);return rt.length===0&&!et&&(rt="."),rt.length>0&&_e.codePointAt(_e.length-1)===47&&(rt+="/"),et?"/"+rt:rt}function normalizeString(_e,et){let rt="",nt=0,st=-1,it=0,at=-1,ot,lt;for(;++at<=_e.length;){if(at<_e.length)ot=_e.codePointAt(at);else{if(ot===47)break;ot=47}if(ot===47){if(!(st===at-1||it===1))if(st!==at-1&&it===2){if(rt.length<2||nt!==2||rt.codePointAt(rt.length-1)!==46||rt.codePointAt(rt.length-2)!==46){if(rt.length>2){if(lt=rt.lastIndexOf("/"),lt!==rt.length-1){lt<0?(rt="",nt=0):(rt=rt.slice(0,lt),nt=rt.length-1-rt.lastIndexOf("/")),st=at,it=0;continue}}else if(rt.length>0){rt="",nt=0,st=at,it=0;continue}}et&&(rt=rt.length>0?rt+"/..":"..",nt=2)}else rt.length>0?rt+="/"+_e.slice(st+1,at):rt=_e.slice(st+1,at),nt=at-st-1;st=at,it=0}else ot===46&&it>-1?it++:it=-1}return rt}function assertPath$1(_e){if(typeof _e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(_e))}const minproc={cwd};function cwd(){return"/"}function isUrl(_e){return!!(_e!==null&&typeof _e=="object"&&"href"in _e&&_e.href&&"protocol"in _e&&_e.protocol&&_e.auth===void 0)}function urlToPath(_e){if(typeof _e=="string")_e=new URL(_e);else if(!isUrl(_e)){const et=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+_e+"`");throw et.code="ERR_INVALID_ARG_TYPE",et}if(_e.protocol!=="file:"){const et=new TypeError("The URL must be of scheme file");throw et.code="ERR_INVALID_URL_SCHEME",et}return getPathFromURLPosix(_e)}function getPathFromURLPosix(_e){if(_e.hostname!==""){const nt=new TypeError('File URL host must be "localhost" or empty on darwin');throw nt.code="ERR_INVALID_FILE_URL_HOST",nt}const et=_e.pathname;let rt=-1;for(;++rt<et.length;)if(et.codePointAt(rt)===37&&et.codePointAt(rt+1)===50){const nt=et.codePointAt(rt+2);if(nt===70||nt===102){const st=new TypeError("File URL path must not include encoded / characters");throw st.code="ERR_INVALID_FILE_URL_PATH",st}}return decodeURIComponent(et)}const order=["history","path","basename","stem","extname","dirname"];class VFile{constructor(et){let rt;et?isUrl(et)?rt={path:et}:typeof et=="string"||isUint8Array$1(et)?rt={value:et}:rt=et:rt={},this.cwd="cwd"in rt?"":minproc.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let nt=-1;for(;++nt<order.length;){const it=order[nt];it in rt&&rt[it]!==void 0&&rt[it]!==null&&(this[it]=it==="history"?[...rt[it]]:rt[it])}let st;for(st in rt)order.includes(st)||(this[st]=rt[st])}get basename(){return typeof this.path=="string"?minpath.basename(this.path):void 0}set basename(et){assertNonEmpty(et,"basename"),assertPart(et,"basename"),this.path=minpath.join(this.dirname||"",et)}get dirname(){return typeof this.path=="string"?minpath.dirname(this.path):void 0}set dirname(et){assertPath(this.basename,"dirname"),this.path=minpath.join(et||"",this.basename)}get extname(){return typeof this.path=="string"?minpath.extname(this.path):void 0}set extname(et){if(assertPart(et,"extname"),assertPath(this.dirname,"extname"),et){if(et.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(et.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=minpath.join(this.dirname,this.stem+(et||""))}get path(){return this.history[this.history.length-1]}set path(et){isUrl(et)&&(et=urlToPath(et)),assertNonEmpty(et,"path"),this.path!==et&&this.history.push(et)}get stem(){return typeof this.path=="string"?minpath.basename(this.path,this.extname):void 0}set stem(et){assertNonEmpty(et,"stem"),assertPart(et,"stem"),this.path=minpath.join(this.dirname||"",et+(this.extname||""))}fail(et,rt,nt){const st=this.message(et,rt,nt);throw st.fatal=!0,st}info(et,rt,nt){const st=this.message(et,rt,nt);return st.fatal=void 0,st}message(et,rt,nt){const st=new VFileMessage(et,rt,nt);return this.path&&(st.name=this.path+":"+st.name,st.file=this.path),st.fatal=!1,this.messages.push(st),st}toString(et){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(et||void 0).decode(this.value)}}function assertPart(_e,et){if(_e&&_e.includes(minpath.sep))throw new Error("`"+et+"` cannot be a path: did not expect `"+minpath.sep+"`")}function assertNonEmpty(_e,et){if(!_e)throw new Error("`"+et+"` cannot be empty")}function assertPath(_e,et){if(!_e)throw new Error("Setting `"+et+"` requires `path` to be set too")}function isUint8Array$1(_e){return!!(_e&&typeof _e=="object"&&"byteLength"in _e&&"byteOffset"in _e)}const CallableInstance=function(_e){const nt=this.constructor.prototype,st=nt[_e],it=function(){return st.apply(it,arguments)};return Object.setPrototypeOf(it,nt),it},own={}.hasOwnProperty;class Processor extends CallableInstance{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=trough()}copy(){const et=new Processor;let rt=-1;for(;++rt<this.attachers.length;){const nt=this.attachers[rt];et.use(...nt)}return et.data(extend$2(!0,{},this.namespace)),et}data(et,rt){return typeof et=="string"?arguments.length===2?(assertUnfrozen("data",this.frozen),this.namespace[et]=rt,this):own.call(this.namespace,et)&&this.namespace[et]||void 0:et?(assertUnfrozen("data",this.frozen),this.namespace=et,this):this.namespace}freeze(){if(this.frozen)return this;const et=this;for(;++this.freezeIndex<this.attachers.length;){const[rt,...nt]=this.attachers[this.freezeIndex];if(nt[0]===!1)continue;nt[0]===!0&&(nt[0]=void 0);const st=rt.call(et,...nt);typeof st=="function"&&this.transformers.use(st)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(et){this.freeze();const rt=vfile(et),nt=this.parser||this.Parser;return assertParser("parse",nt),nt(String(rt),rt)}process(et,rt){const nt=this;return this.freeze(),assertParser("process",this.parser||this.Parser),assertCompiler("process",this.compiler||this.Compiler),rt?st(void 0,rt):new Promise(st);function st(it,at){const ot=vfile(et),lt=nt.parse(ot);nt.run(lt,ot,function(ut,dt,pt){if(ut||!dt||!pt)return ct(ut);const mt=dt,xt=nt.stringify(mt,pt);looksLikeAValue(xt)?pt.value=xt:pt.result=xt,ct(ut,pt)});function ct(ut,dt){ut||!dt?at(ut):it?it(dt):rt(void 0,dt)}}}processSync(et){let rt=!1,nt;return this.freeze(),assertParser("processSync",this.parser||this.Parser),assertCompiler("processSync",this.compiler||this.Compiler),this.process(et,st),assertDone("processSync","process",rt),nt;function st(it,at){rt=!0,bail(it),nt=at}}run(et,rt,nt){assertNode(et),this.freeze();const st=this.transformers;return!nt&&typeof rt=="function"&&(nt=rt,rt=void 0),nt?it(void 0,nt):new Promise(it);function it(at,ot){const lt=vfile(rt);st.run(et,lt,ct);function ct(ut,dt,pt){const mt=dt||et;ut?ot(ut):at?at(mt):nt(void 0,mt,pt)}}}runSync(et,rt){let nt=!1,st;return this.run(et,rt,it),assertDone("runSync","run",nt),st;function it(at,ot){bail(at),st=ot,nt=!0}}stringify(et,rt){this.freeze();const nt=vfile(rt),st=this.compiler||this.Compiler;return assertCompiler("stringify",st),assertNode(et),st(et,nt)}use(et,...rt){const nt=this.attachers,st=this.namespace;if(assertUnfrozen("use",this.frozen),et!=null)if(typeof et=="function")lt(et,rt);else if(typeof et=="object")Array.isArray(et)?ot(et):at(et);else throw new TypeError("Expected usable value, not `"+et+"`");return this;function it(ct){if(typeof ct=="function")lt(ct,[]);else if(typeof ct=="object")if(Array.isArray(ct)){const[ut,...dt]=ct;lt(ut,dt)}else at(ct);else throw new TypeError("Expected usable value, not `"+ct+"`")}function at(ct){if(!("plugins"in ct)&&!("settings"in ct))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");ot(ct.plugins),ct.settings&&(st.settings=extend$2(!0,st.settings,ct.settings))}function ot(ct){let ut=-1;if(ct!=null)if(Array.isArray(ct))for(;++ut<ct.length;){const dt=ct[ut];it(dt)}else throw new TypeError("Expected a list of plugins, not `"+ct+"`")}function lt(ct,ut){let dt=-1,pt=-1;for(;++dt<nt.length;)if(nt[dt][0]===ct){pt=dt;break}if(pt===-1)nt.push([ct,...ut]);else if(ut.length>0){let[mt,...xt]=ut;const yt=nt[pt][1];isPlainObject$8(yt)&&isPlainObject$8(mt)&&(mt=extend$2(!0,yt,mt)),nt[pt]=[ct,mt,...xt]}}}}const unified=new Processor().freeze();function assertParser(_e,et){if(typeof et!="function")throw new TypeError("Cannot `"+_e+"` without `parser`")}function assertCompiler(_e,et){if(typeof et!="function")throw new TypeError("Cannot `"+_e+"` without `compiler`")}function assertUnfrozen(_e,et){if(et)throw new Error("Cannot call `"+_e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function assertNode(_e){if(!isPlainObject$8(_e)||typeof _e.type!="string")throw new TypeError("Expected node, got `"+_e+"`")}function assertDone(_e,et,rt){if(!rt)throw new Error("`"+_e+"` finished async. Use `"+et+"` instead")}function vfile(_e){return looksLikeAVFile(_e)?_e:new VFile(_e)}function looksLikeAVFile(_e){return!!(_e&&typeof _e=="object"&&"message"in _e&&"messages"in _e)}function looksLikeAValue(_e){return typeof _e=="string"||isUint8Array(_e)}function isUint8Array(_e){return!!(_e&&typeof _e=="object"&&"byteLength"in _e&&"byteOffset"in _e)}const changelog="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",emptyPlugins=[],emptyRemarkRehypeOptions={allowDangerousHtml:!0},safeProtocol=/^(https?|ircs?|mailto|xmpp)$/i,deprecations=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Markdown(_e){const et=createProcessor(_e),rt=createFile(_e);return post(et.runSync(et.parse(rt),rt),_e)}function createProcessor(_e){const et=_e.rehypePlugins||emptyPlugins,rt=_e.remarkPlugins||emptyPlugins,nt=_e.remarkRehypeOptions?{..._e.remarkRehypeOptions,...emptyRemarkRehypeOptions}:emptyRemarkRehypeOptions;return unified().use(remarkParse).use(rt).use(remarkRehype,nt).use(et)}function createFile(_e){const et=_e.children||"",rt=new VFile;return typeof et=="string"&&(rt.value=et),rt}function post(_e,et){const rt=et.allowedElements,nt=et.allowElement,st=et.components,it=et.disallowedElements,at=et.skipHtml,ot=et.unwrapDisallowed,lt=et.urlTransform||defaultUrlTransform;for(const ut of deprecations)Object.hasOwn(et,ut.from)&&(""+ut.from+(ut.to?"use `"+ut.to+"` instead":"remove it")+changelog+ut.id,void 0);return visit(_e,ct),toJsxRuntime(_e,{Fragment:jsxRuntimeExports.Fragment,components:st,ignoreInvalidStyle:!0,jsx:jsxRuntimeExports.jsx,jsxs:jsxRuntimeExports.jsxs,passKeys:!0,passNode:!0});function ct(ut,dt,pt){if(ut.type==="raw"&&pt&&typeof dt=="number")return at?pt.children.splice(dt,1):pt.children[dt]={type:"text",value:ut.value},dt;if(ut.type==="element"){let mt;for(mt in urlAttributes)if(Object.hasOwn(urlAttributes,mt)&&Object.hasOwn(ut.properties,mt)){const xt=ut.properties[mt],yt=urlAttributes[mt];(yt===null||yt.includes(ut.tagName))&&(ut.properties[mt]=lt(String(xt||""),mt,ut))}}if(ut.type==="element"){let mt=rt?!rt.includes(ut.tagName):it?it.includes(ut.tagName):!1;if(!mt&&nt&&typeof dt=="number"&&(mt=!nt(ut,dt,pt)),mt&&pt&&typeof dt=="number")return ot&&ut.children?pt.children.splice(dt,1,...ut.children):pt.children.splice(dt,1),dt}}}function defaultUrlTransform(_e){const et=_e.indexOf(":"),rt=_e.indexOf("?"),nt=_e.indexOf("#"),st=_e.indexOf("/");return et===-1||st!==-1&&et>st||rt!==-1&&et>rt||nt!==-1&&et>nt||safeProtocol.test(_e.slice(0,et))?_e:""}function ccount(_e,et){const rt=String(_e);if(typeof et!="string")throw new TypeError("Expected character");let nt=0,st=rt.indexOf(et);for(;st!==-1;)nt++,st=rt.indexOf(et,st+et.length);return nt}function escapeStringRegexp(_e){if(typeof _e!="string")throw new TypeError("Expected a string");return _e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function findAndReplace(_e,et,rt){const st=convert((rt||{}).ignore||[]),it=toPairs(et);let at=-1;for(;++at<it.length;)visitParents(_e,"text",ot);function ot(ct,ut){let dt=-1,pt;for(;++dt<ut.length;){const mt=ut[dt],xt=pt?pt.children:void 0;if(st(mt,xt?xt.indexOf(mt):void 0,pt))return;pt=mt}if(pt)return lt(ct,ut)}function lt(ct,ut){const dt=ut[ut.length-1],pt=it[at][0],mt=it[at][1];let xt=0;const vt=dt.children.indexOf(ct);let gt=!1,Et=[];pt.lastIndex=0;let jt=pt.exec(ct.value);for(;jt;){const kt=jt.index,Rt={index:jt.index,input:jt.input,stack:[...ut,ct]};let St=mt(...jt,Rt);if(typeof St=="string"&&(St=St.length>0?{type:"text",value:St}:void 0),St===!1?pt.lastIndex=kt+1:(xt!==kt&&Et.push({type:"text",value:ct.value.slice(xt,kt)}),Array.isArray(St)?Et.push(...St):St&&Et.push(St),xt=kt+jt[0].length,gt=!0),!pt.global)break;jt=pt.exec(ct.value)}return gt?(xt<ct.value.length&&Et.push({type:"text",value:ct.value.slice(xt)}),dt.children.splice(vt,1,...Et)):Et=[ct],vt+Et.length}}function toPairs(_e){const et=[];if(!Array.isArray(_e))throw new TypeError("Expected find and replace tuple or list of tuples");const rt=!_e[0]||Array.isArray(_e[0])?_e:[_e];let nt=-1;for(;++nt<rt.length;){const st=rt[nt];et.push([toExpression(st[0]),toFunction(st[1])])}return et}function toExpression(_e){return typeof _e=="string"?new RegExp(escapeStringRegexp(_e),"g"):_e}function toFunction(_e){return typeof _e=="function"?_e:function(){return _e}}const inConstruct="phrasing",notInConstruct=["autolink","link","image","label"];function gfmAutolinkLiteralFromMarkdown(){return{transforms:[transformGfmAutolinkLiterals],enter:{literalAutolink:enterLiteralAutolink,literalAutolinkEmail:enterLiteralAutolinkValue,literalAutolinkHttp:enterLiteralAutolinkValue,literalAutolinkWww:enterLiteralAutolinkValue},exit:{literalAutolink:exitLiteralAutolink,literalAutolinkEmail:exitLiteralAutolinkEmail,literalAutolinkHttp:exitLiteralAutolinkHttp,literalAutolinkWww:exitLiteralAutolinkWww}}}function gfmAutolinkLiteralToMarkdown(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct,notInConstruct},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct,notInConstruct},{character:":",before:"[ps]",after:"\\/",inConstruct,notInConstruct}]}}function enterLiteralAutolink(_e){this.enter({type:"link",title:null,url:"",children:[]},_e)}function enterLiteralAutolinkValue(_e){this.config.enter.autolinkProtocol.call(this,_e)}function exitLiteralAutolinkHttp(_e){this.config.exit.autolinkProtocol.call(this,_e)}function exitLiteralAutolinkWww(_e){this.config.exit.data.call(this,_e);const et=this.stack[this.stack.length-1];et.type,et.url="http://"+this.sliceSerialize(_e)}function exitLiteralAutolinkEmail(_e){this.config.exit.autolinkEmail.call(this,_e)}function exitLiteralAutolink(_e){this.exit(_e)}function transformGfmAutolinkLiterals(_e){findAndReplace(_e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,findUrl],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),findEmail]],{ignore:["link","linkReference"]})}function findUrl(_e,et,rt,nt,st){let it="";if(!previous(st)||(/^w/i.test(et)&&(rt=et+rt,et="",it="http://"),!isCorrectDomain(rt)))return!1;const at=splitUrl(rt+nt);if(!at[0])return!1;const ot={type:"link",title:null,url:it+et+at[0],children:[{type:"text",value:et+at[0]}]};return at[1]?[ot,{type:"text",value:at[1]}]:ot}function findEmail(_e,et,rt,nt){return!previous(nt,!0)||/[-\d_]$/.test(rt)?!1:{type:"link",title:null,url:"mailto:"+et+"@"+rt,children:[{type:"text",value:et+"@"+rt}]}}function isCorrectDomain(_e){const et=_e.split(".");return!(et.length<2||et[et.length-1]&&(/_/.test(et[et.length-1])||!/[a-zA-Z\d]/.test(et[et.length-1]))||et[et.length-2]&&(/_/.test(et[et.length-2])||!/[a-zA-Z\d]/.test(et[et.length-2])))}function splitUrl(_e){const et=/[!"&'),.:;<>?\]}]+$/.exec(_e);if(!et)return[_e,void 0];_e=_e.slice(0,et.index);let rt=et[0],nt=rt.indexOf(")");const st=ccount(_e,"(");let it=ccount(_e,")");for(;nt!==-1&&st>it;)_e+=rt.slice(0,nt+1),rt=rt.slice(nt+1),nt=rt.indexOf(")"),it++;return[_e,rt]}function previous(_e,et){const rt=_e.input.charCodeAt(_e.index-1);return(_e.index===0||unicodeWhitespace(rt)||unicodePunctuation(rt))&&(!et||rt!==47)}footnoteReference.peek=footnoteReferencePeek;function enterFootnoteCallString(){this.buffer()}function enterFootnoteCall(_e){this.enter({type:"footnoteReference",identifier:"",label:""},_e)}function enterFootnoteDefinitionLabelString(){this.buffer()}function enterFootnoteDefinition(_e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},_e)}function exitFootnoteCallString(_e){const et=this.resume(),rt=this.stack[this.stack.length-1];rt.type,rt.identifier=normalizeIdentifier(this.sliceSerialize(_e)).toLowerCase(),rt.label=et}function exitFootnoteCall(_e){this.exit(_e)}function exitFootnoteDefinitionLabelString(_e){const et=this.resume(),rt=this.stack[this.stack.length-1];rt.type,rt.identifier=normalizeIdentifier(this.sliceSerialize(_e)).toLowerCase(),rt.label=et}function exitFootnoteDefinition(_e){this.exit(_e)}function footnoteReferencePeek(){return"["}function footnoteReference(_e,et,rt,nt){const st=rt.createTracker(nt);let it=st.move("[^");const at=rt.enter("footnoteReference"),ot=rt.enter("reference");return it+=st.move(rt.safe(rt.associationId(_e),{after:"]",before:it})),ot(),at(),it+=st.move("]"),it}function gfmFootnoteFromMarkdown(){return{enter:{gfmFootnoteCallString:enterFootnoteCallString,gfmFootnoteCall:enterFootnoteCall,gfmFootnoteDefinitionLabelString:enterFootnoteDefinitionLabelString,gfmFootnoteDefinition:enterFootnoteDefinition},exit:{gfmFootnoteCallString:exitFootnoteCallString,gfmFootnoteCall:exitFootnoteCall,gfmFootnoteDefinitionLabelString:exitFootnoteDefinitionLabelString,gfmFootnoteDefinition:exitFootnoteDefinition}}}function gfmFootnoteToMarkdown(_e){let et=!1;return _e&&_e.firstLineBlank&&(et=!0),{handlers:{footnoteDefinition:rt,footnoteReference},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function rt(nt,st,it,at){const ot=it.createTracker(at);let lt=ot.move("[^");const ct=it.enter("footnoteDefinition"),ut=it.enter("label");return lt+=ot.move(it.safe(it.associationId(nt),{before:lt,after:"]"})),ut(),lt+=ot.move("]:"),nt.children&&nt.children.length>0&&(ot.shift(4),lt+=ot.move((et?`
`:" ")+it.indentLines(it.containerFlow(nt,ot.current()),et?mapAll:mapExceptFirst))),ct(),lt}}function mapExceptFirst(_e,et,rt){return et===0?_e:mapAll(_e,et,rt)}function mapAll(_e,et,rt){return(rt?"":"    ")+_e}const constructsWithoutStrikethrough=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];handleDelete$1.peek=peekDelete;function gfmStrikethroughFromMarkdown(){return{canContainEols:["delete"],enter:{strikethrough:enterStrikethrough},exit:{strikethrough:exitStrikethrough}}}function gfmStrikethroughToMarkdown(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:constructsWithoutStrikethrough}],handlers:{delete:handleDelete$1}}}function enterStrikethrough(_e){this.enter({type:"delete",children:[]},_e)}function exitStrikethrough(_e){this.exit(_e)}function handleDelete$1(_e,et,rt,nt){const st=rt.createTracker(nt),it=rt.enter("strikethrough");let at=st.move("~~");return at+=rt.containerPhrasing(_e,{...st.current(),before:at,after:"~"}),at+=st.move("~~"),it(),at}function peekDelete(){return"~"}function defaultStringLength(_e){return _e.length}function markdownTable(_e,et){const rt=et||{},nt=(rt.align||[]).concat(),st=rt.stringLength||defaultStringLength,it=[],at=[],ot=[],lt=[];let ct=0,ut=-1;for(;++ut<_e.length;){const yt=[],vt=[];let gt=-1;for(_e[ut].length>ct&&(ct=_e[ut].length);++gt<_e[ut].length;){const Et=serialize(_e[ut][gt]);if(rt.alignDelimiters!==!1){const jt=st(Et);vt[gt]=jt,(lt[gt]===void 0||jt>lt[gt])&&(lt[gt]=jt)}yt.push(Et)}at[ut]=yt,ot[ut]=vt}let dt=-1;if(typeof nt=="object"&&"length"in nt)for(;++dt<ct;)it[dt]=toAlignment(nt[dt]);else{const yt=toAlignment(nt);for(;++dt<ct;)it[dt]=yt}dt=-1;const pt=[],mt=[];for(;++dt<ct;){const yt=it[dt];let vt="",gt="";yt===99?(vt=":",gt=":"):yt===108?vt=":":yt===114&&(gt=":");let Et=rt.alignDelimiters===!1?1:Math.max(1,lt[dt]-vt.length-gt.length);const jt=vt+"-".repeat(Et)+gt;rt.alignDelimiters!==!1&&(Et=vt.length+Et+gt.length,Et>lt[dt]&&(lt[dt]=Et),mt[dt]=Et),pt[dt]=jt}at.splice(1,0,pt),ot.splice(1,0,mt),ut=-1;const xt=[];for(;++ut<at.length;){const yt=at[ut],vt=ot[ut];dt=-1;const gt=[];for(;++dt<ct;){const Et=yt[dt]||"";let jt="",kt="";if(rt.alignDelimiters!==!1){const Rt=lt[dt]-(vt[dt]||0),St=it[dt];St===114?jt=" ".repeat(Rt):St===99?Rt%2?(jt=" ".repeat(Rt/2+.5),kt=" ".repeat(Rt/2-.5)):(jt=" ".repeat(Rt/2),kt=jt):kt=" ".repeat(Rt)}rt.delimiterStart!==!1&&!dt&&gt.push("|"),rt.padding!==!1&&!(rt.alignDelimiters===!1&&Et==="")&&(rt.delimiterStart!==!1||dt)&&gt.push(" "),rt.alignDelimiters!==!1&&gt.push(jt),gt.push(Et),rt.alignDelimiters!==!1&&gt.push(kt),rt.padding!==!1&&gt.push(" "),(rt.delimiterEnd!==!1||dt!==ct-1)&&gt.push("|")}xt.push(rt.delimiterEnd===!1?gt.join("").replace(/ +$/,""):gt.join(""))}return xt.join(`
`)}function serialize(_e){return _e==null?"":String(_e)}function toAlignment(_e){const et=typeof _e=="string"?_e.codePointAt(0):0;return et===67||et===99?99:et===76||et===108?108:et===82||et===114?114:0}function blockquote(_e,et,rt,nt){const st=rt.enter("blockquote"),it=rt.createTracker(nt);it.move("> "),it.shift(2);const at=rt.indentLines(rt.containerFlow(_e,it.current()),map$2);return st(),at}function map$2(_e,et,rt){return">"+(rt?"":" ")+_e}function patternInScope(_e,et){return listInScope(_e,et.inConstruct,!0)&&!listInScope(_e,et.notInConstruct,!1)}function listInScope(_e,et,rt){if(typeof et=="string"&&(et=[et]),!et||et.length===0)return rt;let nt=-1;for(;++nt<et.length;)if(_e.includes(et[nt]))return!0;return!1}function hardBreak(_e,et,rt,nt){let st=-1;for(;++st<rt.unsafe.length;)if(rt.unsafe[st].character===`
`&&patternInScope(rt.stack,rt.unsafe[st]))return/[ \t]/.test(nt.before)?"":" ";return`\\
`}function longestStreak(_e,et){const rt=String(_e);let nt=rt.indexOf(et),st=nt,it=0,at=0;if(typeof et!="string")throw new TypeError("Expected substring");for(;nt!==-1;)nt===st?++it>at&&(at=it):it=1,st=nt+et.length,nt=rt.indexOf(et,st);return at}function formatCodeAsIndented(_e,et){return!!(et.options.fences===!1&&_e.value&&!_e.lang&&/[^ \r\n]/.test(_e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(_e.value))}function checkFence(_e){const et=_e.options.fence||"`";if(et!=="`"&&et!=="~")throw new Error("Cannot serialize code with `"+et+"` for `options.fence`, expected `` ` `` or `~`");return et}function code$2(_e,et,rt,nt){const st=checkFence(rt),it=_e.value||"",at=st==="`"?"GraveAccent":"Tilde";if(formatCodeAsIndented(_e,rt)){const dt=rt.enter("codeIndented"),pt=rt.indentLines(it,map$1);return dt(),pt}const ot=rt.createTracker(nt),lt=st.repeat(Math.max(longestStreak(it,st)+1,3)),ct=rt.enter("codeFenced");let ut=ot.move(lt);if(_e.lang){const dt=rt.enter(`codeFencedLang${at}`);ut+=ot.move(rt.safe(_e.lang,{before:ut,after:" ",encode:["`"],...ot.current()})),dt()}if(_e.lang&&_e.meta){const dt=rt.enter(`codeFencedMeta${at}`);ut+=ot.move(" "),ut+=ot.move(rt.safe(_e.meta,{before:ut,after:`
`,encode:["`"],...ot.current()})),dt()}return ut+=ot.move(`
`),it&&(ut+=ot.move(it+`
`)),ut+=ot.move(lt),ct(),ut}function map$1(_e,et,rt){return(rt?"":"    ")+_e}function checkQuote(_e){const et=_e.options.quote||'"';if(et!=='"'&&et!=="'")throw new Error("Cannot serialize title with `"+et+"` for `options.quote`, expected `\"`, or `'`");return et}function definition(_e,et,rt,nt){const st=checkQuote(rt),it=st==='"'?"Quote":"Apostrophe",at=rt.enter("definition");let ot=rt.enter("label");const lt=rt.createTracker(nt);let ct=lt.move("[");return ct+=lt.move(rt.safe(rt.associationId(_e),{before:ct,after:"]",...lt.current()})),ct+=lt.move("]: "),ot(),!_e.url||/[\0- \u007F]/.test(_e.url)?(ot=rt.enter("destinationLiteral"),ct+=lt.move("<"),ct+=lt.move(rt.safe(_e.url,{before:ct,after:">",...lt.current()})),ct+=lt.move(">")):(ot=rt.enter("destinationRaw"),ct+=lt.move(rt.safe(_e.url,{before:ct,after:_e.title?" ":`
`,...lt.current()}))),ot(),_e.title&&(ot=rt.enter(`title${it}`),ct+=lt.move(" "+st),ct+=lt.move(rt.safe(_e.title,{before:ct,after:st,...lt.current()})),ct+=lt.move(st),ot()),at(),ct}function checkEmphasis(_e){const et=_e.options.emphasis||"*";if(et!=="*"&&et!=="_")throw new Error("Cannot serialize emphasis with `"+et+"` for `options.emphasis`, expected `*`, or `_`");return et}function encodeCharacterReference(_e){return"&#x"+_e.toString(16).toUpperCase()+";"}function encodeInfo(_e,et,rt){const nt=classifyCharacter(_e),st=classifyCharacter(et);return nt===void 0?st===void 0?rt==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:st===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:nt===1?st===void 0?{inside:!1,outside:!1}:st===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:st===void 0?{inside:!1,outside:!1}:st===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}emphasis.peek=emphasisPeek;function emphasis(_e,et,rt,nt){const st=checkEmphasis(rt),it=rt.enter("emphasis"),at=rt.createTracker(nt),ot=at.move(st);let lt=at.move(rt.containerPhrasing(_e,{after:st,before:ot,...at.current()}));const ct=lt.charCodeAt(0),ut=encodeInfo(nt.before.charCodeAt(nt.before.length-1),ct,st);ut.inside&&(lt=encodeCharacterReference(ct)+lt.slice(1));const dt=lt.charCodeAt(lt.length-1),pt=encodeInfo(nt.after.charCodeAt(0),dt,st);pt.inside&&(lt=lt.slice(0,-1)+encodeCharacterReference(dt));const mt=at.move(st);return it(),rt.attentionEncodeSurroundingInfo={after:pt.outside,before:ut.outside},ot+lt+mt}function emphasisPeek(_e,et,rt){return rt.options.emphasis||"*"}function formatHeadingAsSetext(_e,et){let rt=!1;return visit(_e,function(nt){if("value"in nt&&/\r?\n|\r/.test(nt.value)||nt.type==="break")return rt=!0,EXIT}),!!((!_e.depth||_e.depth<3)&&toString$4(_e)&&(et.options.setext||rt))}function heading(_e,et,rt,nt){const st=Math.max(Math.min(6,_e.depth||1),1),it=rt.createTracker(nt);if(formatHeadingAsSetext(_e,rt)){const ut=rt.enter("headingSetext"),dt=rt.enter("phrasing"),pt=rt.containerPhrasing(_e,{...it.current(),before:`
`,after:`
`});return dt(),ut(),pt+`
`+(st===1?"=":"-").repeat(pt.length-(Math.max(pt.lastIndexOf("\r"),pt.lastIndexOf(`
`))+1))}const at="#".repeat(st),ot=rt.enter("headingAtx"),lt=rt.enter("phrasing");it.move(at+" ");let ct=rt.containerPhrasing(_e,{before:"# ",after:`
`,...it.current()});return/^[\t ]/.test(ct)&&(ct=encodeCharacterReference(ct.charCodeAt(0))+ct.slice(1)),ct=ct?at+" "+ct:at,rt.options.closeAtx&&(ct+=" "+at),lt(),ot(),ct}html.peek=htmlPeek;function html(_e){return _e.value||""}function htmlPeek(){return"<"}image.peek=imagePeek;function image(_e,et,rt,nt){const st=checkQuote(rt),it=st==='"'?"Quote":"Apostrophe",at=rt.enter("image");let ot=rt.enter("label");const lt=rt.createTracker(nt);let ct=lt.move("![");return ct+=lt.move(rt.safe(_e.alt,{before:ct,after:"]",...lt.current()})),ct+=lt.move("]("),ot(),!_e.url&&_e.title||/[\0- \u007F]/.test(_e.url)?(ot=rt.enter("destinationLiteral"),ct+=lt.move("<"),ct+=lt.move(rt.safe(_e.url,{before:ct,after:">",...lt.current()})),ct+=lt.move(">")):(ot=rt.enter("destinationRaw"),ct+=lt.move(rt.safe(_e.url,{before:ct,after:_e.title?" ":")",...lt.current()}))),ot(),_e.title&&(ot=rt.enter(`title${it}`),ct+=lt.move(" "+st),ct+=lt.move(rt.safe(_e.title,{before:ct,after:st,...lt.current()})),ct+=lt.move(st),ot()),ct+=lt.move(")"),at(),ct}function imagePeek(){return"!"}imageReference.peek=imageReferencePeek;function imageReference(_e,et,rt,nt){const st=_e.referenceType,it=rt.enter("imageReference");let at=rt.enter("label");const ot=rt.createTracker(nt);let lt=ot.move("![");const ct=rt.safe(_e.alt,{before:lt,after:"]",...ot.current()});lt+=ot.move(ct+"]["),at();const ut=rt.stack;rt.stack=[],at=rt.enter("reference");const dt=rt.safe(rt.associationId(_e),{before:lt,after:"]",...ot.current()});return at(),rt.stack=ut,it(),st==="full"||!ct||ct!==dt?lt+=ot.move(dt+"]"):st==="shortcut"?lt=lt.slice(0,-1):lt+=ot.move("]"),lt}function imageReferencePeek(){return"!"}inlineCode.peek=inlineCodePeek;function inlineCode(_e,et,rt){let nt=_e.value||"",st="`",it=-1;for(;new RegExp("(^|[^`])"+st+"([^`]|$)").test(nt);)st+="`";for(/[^ \r\n]/.test(nt)&&(/^[ \r\n]/.test(nt)&&/[ \r\n]$/.test(nt)||/^`|`$/.test(nt))&&(nt=" "+nt+" ");++it<rt.unsafe.length;){const at=rt.unsafe[it],ot=rt.compilePattern(at);let lt;if(at.atBreak)for(;lt=ot.exec(nt);){let ct=lt.index;nt.charCodeAt(ct)===10&&nt.charCodeAt(ct-1)===13&&ct--,nt=nt.slice(0,ct)+" "+nt.slice(lt.index+1)}}return st+nt+st}function inlineCodePeek(){return"`"}function formatLinkAsAutolink(_e,et){const rt=toString$4(_e);return!!(!et.options.resourceLink&&_e.url&&!_e.title&&_e.children&&_e.children.length===1&&_e.children[0].type==="text"&&(rt===_e.url||"mailto:"+rt===_e.url)&&/^[a-z][a-z+.-]+:/i.test(_e.url)&&!/[\0- <>\u007F]/.test(_e.url))}link.peek=linkPeek;function link(_e,et,rt,nt){const st=checkQuote(rt),it=st==='"'?"Quote":"Apostrophe",at=rt.createTracker(nt);let ot,lt;if(formatLinkAsAutolink(_e,rt)){const ut=rt.stack;rt.stack=[],ot=rt.enter("autolink");let dt=at.move("<");return dt+=at.move(rt.containerPhrasing(_e,{before:dt,after:">",...at.current()})),dt+=at.move(">"),ot(),rt.stack=ut,dt}ot=rt.enter("link"),lt=rt.enter("label");let ct=at.move("[");return ct+=at.move(rt.containerPhrasing(_e,{before:ct,after:"](",...at.current()})),ct+=at.move("]("),lt(),!_e.url&&_e.title||/[\0- \u007F]/.test(_e.url)?(lt=rt.enter("destinationLiteral"),ct+=at.move("<"),ct+=at.move(rt.safe(_e.url,{before:ct,after:">",...at.current()})),ct+=at.move(">")):(lt=rt.enter("destinationRaw"),ct+=at.move(rt.safe(_e.url,{before:ct,after:_e.title?" ":")",...at.current()}))),lt(),_e.title&&(lt=rt.enter(`title${it}`),ct+=at.move(" "+st),ct+=at.move(rt.safe(_e.title,{before:ct,after:st,...at.current()})),ct+=at.move(st),lt()),ct+=at.move(")"),ot(),ct}function linkPeek(_e,et,rt){return formatLinkAsAutolink(_e,rt)?"<":"["}linkReference.peek=linkReferencePeek;function linkReference(_e,et,rt,nt){const st=_e.referenceType,it=rt.enter("linkReference");let at=rt.enter("label");const ot=rt.createTracker(nt);let lt=ot.move("[");const ct=rt.containerPhrasing(_e,{before:lt,after:"]",...ot.current()});lt+=ot.move(ct+"]["),at();const ut=rt.stack;rt.stack=[],at=rt.enter("reference");const dt=rt.safe(rt.associationId(_e),{before:lt,after:"]",...ot.current()});return at(),rt.stack=ut,it(),st==="full"||!ct||ct!==dt?lt+=ot.move(dt+"]"):st==="shortcut"?lt=lt.slice(0,-1):lt+=ot.move("]"),lt}function linkReferencePeek(){return"["}function checkBullet(_e){const et=_e.options.bullet||"*";if(et!=="*"&&et!=="+"&&et!=="-")throw new Error("Cannot serialize items with `"+et+"` for `options.bullet`, expected `*`, `+`, or `-`");return et}function checkBulletOther(_e){const et=checkBullet(_e),rt=_e.options.bulletOther;if(!rt)return et==="*"?"-":"*";if(rt!=="*"&&rt!=="+"&&rt!=="-")throw new Error("Cannot serialize items with `"+rt+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(rt===et)throw new Error("Expected `bullet` (`"+et+"`) and `bulletOther` (`"+rt+"`) to be different");return rt}function checkBulletOrdered(_e){const et=_e.options.bulletOrdered||".";if(et!=="."&&et!==")")throw new Error("Cannot serialize items with `"+et+"` for `options.bulletOrdered`, expected `.` or `)`");return et}function checkRule(_e){const et=_e.options.rule||"*";if(et!=="*"&&et!=="-"&&et!=="_")throw new Error("Cannot serialize rules with `"+et+"` for `options.rule`, expected `*`, `-`, or `_`");return et}function list(_e,et,rt,nt){const st=rt.enter("list"),it=rt.bulletCurrent;let at=_e.ordered?checkBulletOrdered(rt):checkBullet(rt);const ot=_e.ordered?at==="."?")":".":checkBulletOther(rt);let lt=et&&rt.bulletLastUsed?at===rt.bulletLastUsed:!1;if(!_e.ordered){const ut=_e.children?_e.children[0]:void 0;if((at==="*"||at==="-")&&ut&&(!ut.children||!ut.children[0])&&rt.stack[rt.stack.length-1]==="list"&&rt.stack[rt.stack.length-2]==="listItem"&&rt.stack[rt.stack.length-3]==="list"&&rt.stack[rt.stack.length-4]==="listItem"&&rt.indexStack[rt.indexStack.length-1]===0&&rt.indexStack[rt.indexStack.length-2]===0&&rt.indexStack[rt.indexStack.length-3]===0&&(lt=!0),checkRule(rt)===at&&ut){let dt=-1;for(;++dt<_e.children.length;){const pt=_e.children[dt];if(pt&&pt.type==="listItem"&&pt.children&&pt.children[0]&&pt.children[0].type==="thematicBreak"){lt=!0;break}}}}lt&&(at=ot),rt.bulletCurrent=at;const ct=rt.containerFlow(_e,nt);return rt.bulletLastUsed=at,rt.bulletCurrent=it,st(),ct}function checkListItemIndent(_e){const et=_e.options.listItemIndent||"one";if(et!=="tab"&&et!=="one"&&et!=="mixed")throw new Error("Cannot serialize items with `"+et+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return et}function listItem(_e,et,rt,nt){const st=checkListItemIndent(rt);let it=rt.bulletCurrent||checkBullet(rt);et&&et.type==="list"&&et.ordered&&(it=(typeof et.start=="number"&&et.start>-1?et.start:1)+(rt.options.incrementListMarker===!1?0:et.children.indexOf(_e))+it);let at=it.length+1;(st==="tab"||st==="mixed"&&(et&&et.type==="list"&&et.spread||_e.spread))&&(at=Math.ceil(at/4)*4);const ot=rt.createTracker(nt);ot.move(it+" ".repeat(at-it.length)),ot.shift(at);const lt=rt.enter("listItem"),ct=rt.indentLines(rt.containerFlow(_e,ot.current()),ut);return lt(),ct;function ut(dt,pt,mt){return pt?(mt?"":" ".repeat(at))+dt:(mt?it:it+" ".repeat(at-it.length))+dt}}function paragraph(_e,et,rt,nt){const st=rt.enter("paragraph"),it=rt.enter("phrasing"),at=rt.containerPhrasing(_e,nt);return it(),st(),at}const phrasing=convert(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function root(_e,et,rt,nt){return(_e.children.some(function(at){return phrasing(at)})?rt.containerPhrasing:rt.containerFlow).call(rt,_e,nt)}function checkStrong(_e){const et=_e.options.strong||"*";if(et!=="*"&&et!=="_")throw new Error("Cannot serialize strong with `"+et+"` for `options.strong`, expected `*`, or `_`");return et}strong.peek=strongPeek;function strong(_e,et,rt,nt){const st=checkStrong(rt),it=rt.enter("strong"),at=rt.createTracker(nt),ot=at.move(st+st);let lt=at.move(rt.containerPhrasing(_e,{after:st,before:ot,...at.current()}));const ct=lt.charCodeAt(0),ut=encodeInfo(nt.before.charCodeAt(nt.before.length-1),ct,st);ut.inside&&(lt=encodeCharacterReference(ct)+lt.slice(1));const dt=lt.charCodeAt(lt.length-1),pt=encodeInfo(nt.after.charCodeAt(0),dt,st);pt.inside&&(lt=lt.slice(0,-1)+encodeCharacterReference(dt));const mt=at.move(st+st);return it(),rt.attentionEncodeSurroundingInfo={after:pt.outside,before:ut.outside},ot+lt+mt}function strongPeek(_e,et,rt){return rt.options.strong||"*"}function text$1(_e,et,rt,nt){return rt.safe(_e.value,nt)}function checkRuleRepetition(_e){const et=_e.options.ruleRepetition||3;if(et<3)throw new Error("Cannot serialize rules with repetition `"+et+"` for `options.ruleRepetition`, expected `3` or more");return et}function thematicBreak(_e,et,rt){const nt=(checkRule(rt)+(rt.options.ruleSpaces?" ":"")).repeat(checkRuleRepetition(rt));return rt.options.ruleSpaces?nt.slice(0,-1):nt}const handle={blockquote,break:hardBreak,code:code$2,definition,emphasis,hardBreak,heading,html,image,imageReference,inlineCode,link,linkReference,list,listItem,paragraph,root,strong,text:text$1,thematicBreak};function gfmTableFromMarkdown(){return{enter:{table:enterTable,tableData:enterCell,tableHeader:enterCell,tableRow:enterRow},exit:{codeText:exitCodeText,table:exitTable,tableData:exit,tableHeader:exit,tableRow:exit}}}function enterTable(_e){const et=_e._align;this.enter({type:"table",align:et.map(function(rt){return rt==="none"?null:rt}),children:[]},_e),this.data.inTable=!0}function exitTable(_e){this.exit(_e),this.data.inTable=void 0}function enterRow(_e){this.enter({type:"tableRow",children:[]},_e)}function exit(_e){this.exit(_e)}function enterCell(_e){this.enter({type:"tableCell",children:[]},_e)}function exitCodeText(_e){let et=this.resume();this.data.inTable&&(et=et.replace(/\\([\\|])/g,replace$1));const rt=this.stack[this.stack.length-1];rt.type,rt.value=et,this.exit(_e)}function replace$1(_e,et){return et==="|"?et:_e}function gfmTableToMarkdown(_e){const et=_e||{},rt=et.tableCellPadding,nt=et.tablePipeAlign,st=et.stringLength,it=rt?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:pt,table:at,tableCell:lt,tableRow:ot}};function at(mt,xt,yt,vt){return ct(ut(mt,yt,vt),mt.align)}function ot(mt,xt,yt,vt){const gt=dt(mt,yt,vt),Et=ct([gt]);return Et.slice(0,Et.indexOf(`
`))}function lt(mt,xt,yt,vt){const gt=yt.enter("tableCell"),Et=yt.enter("phrasing"),jt=yt.containerPhrasing(mt,{...vt,before:it,after:it});return Et(),gt(),jt}function ct(mt,xt){return markdownTable(mt,{align:xt,alignDelimiters:nt,padding:rt,stringLength:st})}function ut(mt,xt,yt){const vt=mt.children;let gt=-1;const Et=[],jt=xt.enter("table");for(;++gt<vt.length;)Et[gt]=dt(vt[gt],xt,yt);return jt(),Et}function dt(mt,xt,yt){const vt=mt.children;let gt=-1;const Et=[],jt=xt.enter("tableRow");for(;++gt<vt.length;)Et[gt]=lt(vt[gt],mt,xt,yt);return jt(),Et}function pt(mt,xt,yt){let vt=handle.inlineCode(mt,xt,yt);return yt.stack.includes("tableCell")&&(vt=vt.replace(/\|/g,"\\$&")),vt}}function gfmTaskListItemFromMarkdown(){return{exit:{taskListCheckValueChecked:exitCheck,taskListCheckValueUnchecked:exitCheck,paragraph:exitParagraphWithTaskListItem}}}function gfmTaskListItemToMarkdown(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:listItemWithTaskListItem}}}function exitCheck(_e){const et=this.stack[this.stack.length-2];et.type,et.checked=_e.type==="taskListCheckValueChecked"}function exitParagraphWithTaskListItem(_e){const et=this.stack[this.stack.length-2];if(et&&et.type==="listItem"&&typeof et.checked=="boolean"){const rt=this.stack[this.stack.length-1];rt.type;const nt=rt.children[0];if(nt&&nt.type==="text"){const st=et.children;let it=-1,at;for(;++it<st.length;){const ot=st[it];if(ot.type==="paragraph"){at=ot;break}}at===rt&&(nt.value=nt.value.slice(1),nt.value.length===0?rt.children.shift():rt.position&&nt.position&&typeof nt.position.start.offset=="number"&&(nt.position.start.column++,nt.position.start.offset++,rt.position.start=Object.assign({},nt.position.start)))}}this.exit(_e)}function listItemWithTaskListItem(_e,et,rt,nt){const st=_e.children[0],it=typeof _e.checked=="boolean"&&st&&st.type==="paragraph",at="["+(_e.checked?"x":" ")+"] ",ot=rt.createTracker(nt);it&&ot.move(at);let lt=handle.listItem(_e,et,rt,{...nt,...ot.current()});return it&&(lt=lt.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,ct)),lt;function ct(ut){return ut+at}}function gfmFromMarkdown(){return[gfmAutolinkLiteralFromMarkdown(),gfmFootnoteFromMarkdown(),gfmStrikethroughFromMarkdown(),gfmTableFromMarkdown(),gfmTaskListItemFromMarkdown()]}function gfmToMarkdown(_e){return{extensions:[gfmAutolinkLiteralToMarkdown(),gfmFootnoteToMarkdown(_e),gfmStrikethroughToMarkdown(),gfmTableToMarkdown(_e),gfmTaskListItemToMarkdown()]}}const wwwPrefix={tokenize:tokenizeWwwPrefix,partial:!0},domain$1={tokenize:tokenizeDomain,partial:!0},path={tokenize:tokenizePath,partial:!0},trail={tokenize:tokenizeTrail,partial:!0},emailDomainDotTrail={tokenize:tokenizeEmailDomainDotTrail,partial:!0},wwwAutolink={name:"wwwAutolink",tokenize:tokenizeWwwAutolink,previous:previousWww},protocolAutolink={name:"protocolAutolink",tokenize:tokenizeProtocolAutolink,previous:previousProtocol},emailAutolink={name:"emailAutolink",tokenize:tokenizeEmailAutolink,previous:previousEmail},text={};function gfmAutolinkLiteral(){return{text}}let code$1=48;for(;code$1<123;)text[code$1]=emailAutolink,code$1++,code$1===58?code$1=65:code$1===91&&(code$1=97);text[43]=emailAutolink;text[45]=emailAutolink;text[46]=emailAutolink;text[95]=emailAutolink;text[72]=[emailAutolink,protocolAutolink];text[104]=[emailAutolink,protocolAutolink];text[87]=[emailAutolink,wwwAutolink];text[119]=[emailAutolink,wwwAutolink];function tokenizeEmailAutolink(_e,et,rt){const nt=this;let st,it;return at;function at(dt){return!gfmAtext(dt)||!previousEmail.call(nt,nt.previous)||previousUnbalanced(nt.events)?rt(dt):(_e.enter("literalAutolink"),_e.enter("literalAutolinkEmail"),ot(dt))}function ot(dt){return gfmAtext(dt)?(_e.consume(dt),ot):dt===64?(_e.consume(dt),lt):rt(dt)}function lt(dt){return dt===46?_e.check(emailDomainDotTrail,ut,ct)(dt):dt===45||dt===95||asciiAlphanumeric(dt)?(it=!0,_e.consume(dt),lt):ut(dt)}function ct(dt){return _e.consume(dt),st=!0,lt}function ut(dt){return it&&st&&asciiAlpha(nt.previous)?(_e.exit("literalAutolinkEmail"),_e.exit("literalAutolink"),et(dt)):rt(dt)}}function tokenizeWwwAutolink(_e,et,rt){const nt=this;return st;function st(at){return at!==87&&at!==119||!previousWww.call(nt,nt.previous)||previousUnbalanced(nt.events)?rt(at):(_e.enter("literalAutolink"),_e.enter("literalAutolinkWww"),_e.check(wwwPrefix,_e.attempt(domain$1,_e.attempt(path,it),rt),rt)(at))}function it(at){return _e.exit("literalAutolinkWww"),_e.exit("literalAutolink"),et(at)}}function tokenizeProtocolAutolink(_e,et,rt){const nt=this;let st="",it=!1;return at;function at(dt){return(dt===72||dt===104)&&previousProtocol.call(nt,nt.previous)&&!previousUnbalanced(nt.events)?(_e.enter("literalAutolink"),_e.enter("literalAutolinkHttp"),st+=String.fromCodePoint(dt),_e.consume(dt),ot):rt(dt)}function ot(dt){if(asciiAlpha(dt)&&st.length<5)return st+=String.fromCodePoint(dt),_e.consume(dt),ot;if(dt===58){const pt=st.toLowerCase();if(pt==="http"||pt==="https")return _e.consume(dt),lt}return rt(dt)}function lt(dt){return dt===47?(_e.consume(dt),it?ct:(it=!0,lt)):rt(dt)}function ct(dt){return dt===null||asciiControl(dt)||markdownLineEndingOrSpace(dt)||unicodeWhitespace(dt)||unicodePunctuation(dt)?rt(dt):_e.attempt(domain$1,_e.attempt(path,ut),rt)(dt)}function ut(dt){return _e.exit("literalAutolinkHttp"),_e.exit("literalAutolink"),et(dt)}}function tokenizeWwwPrefix(_e,et,rt){let nt=0;return st;function st(at){return(at===87||at===119)&&nt<3?(nt++,_e.consume(at),st):at===46&&nt===3?(_e.consume(at),it):rt(at)}function it(at){return at===null?rt(at):et(at)}}function tokenizeDomain(_e,et,rt){let nt,st,it;return at;function at(ct){return ct===46||ct===95?_e.check(trail,lt,ot)(ct):ct===null||markdownLineEndingOrSpace(ct)||unicodeWhitespace(ct)||ct!==45&&unicodePunctuation(ct)?lt(ct):(it=!0,_e.consume(ct),at)}function ot(ct){return ct===95?nt=!0:(st=nt,nt=void 0),_e.consume(ct),at}function lt(ct){return st||nt||!it?rt(ct):et(ct)}}function tokenizePath(_e,et){let rt=0,nt=0;return st;function st(at){return at===40?(rt++,_e.consume(at),st):at===41&&nt<rt?it(at):at===33||at===34||at===38||at===39||at===41||at===42||at===44||at===46||at===58||at===59||at===60||at===63||at===93||at===95||at===126?_e.check(trail,et,it)(at):at===null||markdownLineEndingOrSpace(at)||unicodeWhitespace(at)?et(at):(_e.consume(at),st)}function it(at){return at===41&&nt++,_e.consume(at),st}}function tokenizeTrail(_e,et,rt){return nt;function nt(ot){return ot===33||ot===34||ot===39||ot===41||ot===42||ot===44||ot===46||ot===58||ot===59||ot===63||ot===95||ot===126?(_e.consume(ot),nt):ot===38?(_e.consume(ot),it):ot===93?(_e.consume(ot),st):ot===60||ot===null||markdownLineEndingOrSpace(ot)||unicodeWhitespace(ot)?et(ot):rt(ot)}function st(ot){return ot===null||ot===40||ot===91||markdownLineEndingOrSpace(ot)||unicodeWhitespace(ot)?et(ot):nt(ot)}function it(ot){return asciiAlpha(ot)?at(ot):rt(ot)}function at(ot){return ot===59?(_e.consume(ot),nt):asciiAlpha(ot)?(_e.consume(ot),at):rt(ot)}}function tokenizeEmailDomainDotTrail(_e,et,rt){return nt;function nt(it){return _e.consume(it),st}function st(it){return asciiAlphanumeric(it)?rt(it):et(it)}}function previousWww(_e){return _e===null||_e===40||_e===42||_e===95||_e===91||_e===93||_e===126||markdownLineEndingOrSpace(_e)}function previousProtocol(_e){return!asciiAlpha(_e)}function previousEmail(_e){return!(_e===47||gfmAtext(_e))}function gfmAtext(_e){return _e===43||_e===45||_e===46||_e===95||asciiAlphanumeric(_e)}function previousUnbalanced(_e){let et=_e.length,rt=!1;for(;et--;){const nt=_e[et][1];if((nt.type==="labelLink"||nt.type==="labelImage")&&!nt._balanced){rt=!0;break}if(nt._gfmAutolinkLiteralWalkedInto){rt=!1;break}}return _e.length>0&&!rt&&(_e[_e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),rt}const indent={tokenize:tokenizeIndent,partial:!0};function gfmFootnote(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:tokenizeDefinitionStart,continuation:{tokenize:tokenizeDefinitionContinuation},exit:gfmFootnoteDefinitionEnd}},text:{91:{name:"gfmFootnoteCall",tokenize:tokenizeGfmFootnoteCall},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:tokenizePotentialGfmFootnoteCall,resolveTo:resolveToPotentialGfmFootnoteCall}}}}function tokenizePotentialGfmFootnoteCall(_e,et,rt){const nt=this;let st=nt.events.length;const it=nt.parser.gfmFootnotes||(nt.parser.gfmFootnotes=[]);let at;for(;st--;){const lt=nt.events[st][1];if(lt.type==="labelImage"){at=lt;break}if(lt.type==="gfmFootnoteCall"||lt.type==="labelLink"||lt.type==="label"||lt.type==="image"||lt.type==="link")break}return ot;function ot(lt){if(!at||!at._balanced)return rt(lt);const ct=normalizeIdentifier(nt.sliceSerialize({start:at.end,end:nt.now()}));return ct.codePointAt(0)!==94||!it.includes(ct.slice(1))?rt(lt):(_e.enter("gfmFootnoteCallLabelMarker"),_e.consume(lt),_e.exit("gfmFootnoteCallLabelMarker"),et(lt))}}function resolveToPotentialGfmFootnoteCall(_e,et){let rt=_e.length;for(;rt--;)if(_e[rt][1].type==="labelImage"&&_e[rt][0]==="enter"){_e[rt][1];break}_e[rt+1][1].type="data",_e[rt+3][1].type="gfmFootnoteCallLabelMarker";const nt={type:"gfmFootnoteCall",start:Object.assign({},_e[rt+3][1].start),end:Object.assign({},_e[_e.length-1][1].end)},st={type:"gfmFootnoteCallMarker",start:Object.assign({},_e[rt+3][1].end),end:Object.assign({},_e[rt+3][1].end)};st.end.column++,st.end.offset++,st.end._bufferIndex++;const it={type:"gfmFootnoteCallString",start:Object.assign({},st.end),end:Object.assign({},_e[_e.length-1][1].start)},at={type:"chunkString",contentType:"string",start:Object.assign({},it.start),end:Object.assign({},it.end)},ot=[_e[rt+1],_e[rt+2],["enter",nt,et],_e[rt+3],_e[rt+4],["enter",st,et],["exit",st,et],["enter",it,et],["enter",at,et],["exit",at,et],["exit",it,et],_e[_e.length-2],_e[_e.length-1],["exit",nt,et]];return _e.splice(rt,_e.length-rt+1,...ot),_e}function tokenizeGfmFootnoteCall(_e,et,rt){const nt=this,st=nt.parser.gfmFootnotes||(nt.parser.gfmFootnotes=[]);let it=0,at;return ot;function ot(dt){return _e.enter("gfmFootnoteCall"),_e.enter("gfmFootnoteCallLabelMarker"),_e.consume(dt),_e.exit("gfmFootnoteCallLabelMarker"),lt}function lt(dt){return dt!==94?rt(dt):(_e.enter("gfmFootnoteCallMarker"),_e.consume(dt),_e.exit("gfmFootnoteCallMarker"),_e.enter("gfmFootnoteCallString"),_e.enter("chunkString").contentType="string",ct)}function ct(dt){if(it>999||dt===93&&!at||dt===null||dt===91||markdownLineEndingOrSpace(dt))return rt(dt);if(dt===93){_e.exit("chunkString");const pt=_e.exit("gfmFootnoteCallString");return st.includes(normalizeIdentifier(nt.sliceSerialize(pt)))?(_e.enter("gfmFootnoteCallLabelMarker"),_e.consume(dt),_e.exit("gfmFootnoteCallLabelMarker"),_e.exit("gfmFootnoteCall"),et):rt(dt)}return markdownLineEndingOrSpace(dt)||(at=!0),it++,_e.consume(dt),dt===92?ut:ct}function ut(dt){return dt===91||dt===92||dt===93?(_e.consume(dt),it++,ct):ct(dt)}}function tokenizeDefinitionStart(_e,et,rt){const nt=this,st=nt.parser.gfmFootnotes||(nt.parser.gfmFootnotes=[]);let it,at=0,ot;return lt;function lt(xt){return _e.enter("gfmFootnoteDefinition")._container=!0,_e.enter("gfmFootnoteDefinitionLabel"),_e.enter("gfmFootnoteDefinitionLabelMarker"),_e.consume(xt),_e.exit("gfmFootnoteDefinitionLabelMarker"),ct}function ct(xt){return xt===94?(_e.enter("gfmFootnoteDefinitionMarker"),_e.consume(xt),_e.exit("gfmFootnoteDefinitionMarker"),_e.enter("gfmFootnoteDefinitionLabelString"),_e.enter("chunkString").contentType="string",ut):rt(xt)}function ut(xt){if(at>999||xt===93&&!ot||xt===null||xt===91||markdownLineEndingOrSpace(xt))return rt(xt);if(xt===93){_e.exit("chunkString");const yt=_e.exit("gfmFootnoteDefinitionLabelString");return it=normalizeIdentifier(nt.sliceSerialize(yt)),_e.enter("gfmFootnoteDefinitionLabelMarker"),_e.consume(xt),_e.exit("gfmFootnoteDefinitionLabelMarker"),_e.exit("gfmFootnoteDefinitionLabel"),pt}return markdownLineEndingOrSpace(xt)||(ot=!0),at++,_e.consume(xt),xt===92?dt:ut}function dt(xt){return xt===91||xt===92||xt===93?(_e.consume(xt),at++,ut):ut(xt)}function pt(xt){return xt===58?(_e.enter("definitionMarker"),_e.consume(xt),_e.exit("definitionMarker"),st.includes(it)||st.push(it),factorySpace(_e,mt,"gfmFootnoteDefinitionWhitespace")):rt(xt)}function mt(xt){return et(xt)}}function tokenizeDefinitionContinuation(_e,et,rt){return _e.check(blankLine,et,_e.attempt(indent,et,rt))}function gfmFootnoteDefinitionEnd(_e){_e.exit("gfmFootnoteDefinition")}function tokenizeIndent(_e,et,rt){const nt=this;return factorySpace(_e,st,"gfmFootnoteDefinitionIndent",5);function st(it){const at=nt.events[nt.events.length-1];return at&&at[1].type==="gfmFootnoteDefinitionIndent"&&at[2].sliceSerialize(at[1],!0).length===4?et(it):rt(it)}}function gfmStrikethrough(_e){let rt=(_e||{}).singleTilde;const nt={name:"strikethrough",tokenize:it,resolveAll:st};return rt==null&&(rt=!0),{text:{126:nt},insideSpan:{null:[nt]},attentionMarkers:{null:[126]}};function st(at,ot){let lt=-1;for(;++lt<at.length;)if(at[lt][0]==="enter"&&at[lt][1].type==="strikethroughSequenceTemporary"&&at[lt][1]._close){let ct=lt;for(;ct--;)if(at[ct][0]==="exit"&&at[ct][1].type==="strikethroughSequenceTemporary"&&at[ct][1]._open&&at[lt][1].end.offset-at[lt][1].start.offset===at[ct][1].end.offset-at[ct][1].start.offset){at[lt][1].type="strikethroughSequence",at[ct][1].type="strikethroughSequence";const ut={type:"strikethrough",start:Object.assign({},at[ct][1].start),end:Object.assign({},at[lt][1].end)},dt={type:"strikethroughText",start:Object.assign({},at[ct][1].end),end:Object.assign({},at[lt][1].start)},pt=[["enter",ut,ot],["enter",at[ct][1],ot],["exit",at[ct][1],ot],["enter",dt,ot]],mt=ot.parser.constructs.insideSpan.null;mt&&splice(pt,pt.length,0,resolveAll(mt,at.slice(ct+1,lt),ot)),splice(pt,pt.length,0,[["exit",dt,ot],["enter",at[lt][1],ot],["exit",at[lt][1],ot],["exit",ut,ot]]),splice(at,ct-1,lt-ct+3,pt),lt=ct+pt.length-2;break}}for(lt=-1;++lt<at.length;)at[lt][1].type==="strikethroughSequenceTemporary"&&(at[lt][1].type="data");return at}function it(at,ot,lt){const ct=this.previous,ut=this.events;let dt=0;return pt;function pt(xt){return ct===126&&ut[ut.length-1][1].type!=="characterEscape"?lt(xt):(at.enter("strikethroughSequenceTemporary"),mt(xt))}function mt(xt){const yt=classifyCharacter(ct);if(xt===126)return dt>1?lt(xt):(at.consume(xt),dt++,mt);if(dt<2&&!rt)return lt(xt);const vt=at.exit("strikethroughSequenceTemporary"),gt=classifyCharacter(xt);return vt._open=!gt||gt===2&&!!yt,vt._close=!yt||yt===2&&!!gt,ot(xt)}}}class EditMap{constructor(){this.map=[]}add(et,rt,nt){addImplementation(this,et,rt,nt)}consume(et){if(this.map.sort(function(it,at){return it[0]-at[0]}),this.map.length===0)return;let rt=this.map.length;const nt=[];for(;rt>0;)rt-=1,nt.push(et.slice(this.map[rt][0]+this.map[rt][1]),this.map[rt][2]),et.length=this.map[rt][0];nt.push(et.slice()),et.length=0;let st=nt.pop();for(;st;){for(const it of st)et.push(it);st=nt.pop()}this.map.length=0}}function addImplementation(_e,et,rt,nt){let st=0;if(!(rt===0&&nt.length===0)){for(;st<_e.map.length;){if(_e.map[st][0]===et){_e.map[st][1]+=rt,_e.map[st][2].push(...nt);return}st+=1}_e.map.push([et,rt,nt])}}function gfmTableAlign(_e,et){let rt=!1;const nt=[];for(;et<_e.length;){const st=_e[et];if(rt){if(st[0]==="enter")st[1].type==="tableContent"&&nt.push(_e[et+1][1].type==="tableDelimiterMarker"?"left":"none");else if(st[1].type==="tableContent"){if(_e[et-1][1].type==="tableDelimiterMarker"){const it=nt.length-1;nt[it]=nt[it]==="left"?"center":"right"}}else if(st[1].type==="tableDelimiterRow")break}else st[0]==="enter"&&st[1].type==="tableDelimiterRow"&&(rt=!0);et+=1}return nt}function gfmTable(){return{flow:{null:{name:"table",tokenize:tokenizeTable,resolveAll:resolveTable}}}}function tokenizeTable(_e,et,rt){const nt=this;let st=0,it=0,at;return ot;function ot($t){let Ft=nt.events.length-1;for(;Ft>-1;){const Wt=nt.events[Ft][1].type;if(Wt==="lineEnding"||Wt==="linePrefix")Ft--;else break}const Tt=Ft>-1?nt.events[Ft][1].type:null,Bt=Tt==="tableHead"||Tt==="tableRow"?St:lt;return Bt===St&&nt.parser.lazy[nt.now().line]?rt($t):Bt($t)}function lt($t){return _e.enter("tableHead"),_e.enter("tableRow"),ct($t)}function ct($t){return $t===124||(at=!0,it+=1),ut($t)}function ut($t){return $t===null?rt($t):markdownLineEnding($t)?it>1?(it=0,nt.interrupt=!0,_e.exit("tableRow"),_e.enter("lineEnding"),_e.consume($t),_e.exit("lineEnding"),mt):rt($t):markdownSpace($t)?factorySpace(_e,ut,"whitespace")($t):(it+=1,at&&(at=!1,st+=1),$t===124?(_e.enter("tableCellDivider"),_e.consume($t),_e.exit("tableCellDivider"),at=!0,ut):(_e.enter("data"),dt($t)))}function dt($t){return $t===null||$t===124||markdownLineEndingOrSpace($t)?(_e.exit("data"),ut($t)):(_e.consume($t),$t===92?pt:dt)}function pt($t){return $t===92||$t===124?(_e.consume($t),dt):dt($t)}function mt($t){return nt.interrupt=!1,nt.parser.lazy[nt.now().line]?rt($t):(_e.enter("tableDelimiterRow"),at=!1,markdownSpace($t)?factorySpace(_e,xt,"linePrefix",nt.parser.constructs.disable.null.includes("codeIndented")?void 0:4)($t):xt($t))}function xt($t){return $t===45||$t===58?vt($t):$t===124?(at=!0,_e.enter("tableCellDivider"),_e.consume($t),_e.exit("tableCellDivider"),yt):Rt($t)}function yt($t){return markdownSpace($t)?factorySpace(_e,vt,"whitespace")($t):vt($t)}function vt($t){return $t===58?(it+=1,at=!0,_e.enter("tableDelimiterMarker"),_e.consume($t),_e.exit("tableDelimiterMarker"),gt):$t===45?(it+=1,gt($t)):$t===null||markdownLineEnding($t)?kt($t):Rt($t)}function gt($t){return $t===45?(_e.enter("tableDelimiterFiller"),Et($t)):Rt($t)}function Et($t){return $t===45?(_e.consume($t),Et):$t===58?(at=!0,_e.exit("tableDelimiterFiller"),_e.enter("tableDelimiterMarker"),_e.consume($t),_e.exit("tableDelimiterMarker"),jt):(_e.exit("tableDelimiterFiller"),jt($t))}function jt($t){return markdownSpace($t)?factorySpace(_e,kt,"whitespace")($t):kt($t)}function kt($t){return $t===124?xt($t):$t===null||markdownLineEnding($t)?!at||st!==it?Rt($t):(_e.exit("tableDelimiterRow"),_e.exit("tableHead"),et($t)):Rt($t)}function Rt($t){return rt($t)}function St($t){return _e.enter("tableRow"),_t($t)}function _t($t){return $t===124?(_e.enter("tableCellDivider"),_e.consume($t),_e.exit("tableCellDivider"),_t):$t===null||markdownLineEnding($t)?(_e.exit("tableRow"),et($t)):markdownSpace($t)?factorySpace(_e,_t,"whitespace")($t):(_e.enter("data"),Nt($t))}function Nt($t){return $t===null||$t===124||markdownLineEndingOrSpace($t)?(_e.exit("data"),_t($t)):(_e.consume($t),$t===92?Lt:Nt)}function Lt($t){return $t===92||$t===124?(_e.consume($t),Nt):Nt($t)}}function resolveTable(_e,et){let rt=-1,nt=!0,st=0,it=[0,0,0,0],at=[0,0,0,0],ot=!1,lt=0,ct,ut,dt;const pt=new EditMap;for(;++rt<_e.length;){const mt=_e[rt],xt=mt[1];mt[0]==="enter"?xt.type==="tableHead"?(ot=!1,lt!==0&&(flushTableEnd(pt,et,lt,ct,ut),ut=void 0,lt=0),ct={type:"table",start:Object.assign({},xt.start),end:Object.assign({},xt.end)},pt.add(rt,0,[["enter",ct,et]])):xt.type==="tableRow"||xt.type==="tableDelimiterRow"?(nt=!0,dt=void 0,it=[0,0,0,0],at=[0,rt+1,0,0],ot&&(ot=!1,ut={type:"tableBody",start:Object.assign({},xt.start),end:Object.assign({},xt.end)},pt.add(rt,0,[["enter",ut,et]])),st=xt.type==="tableDelimiterRow"?2:ut?3:1):st&&(xt.type==="data"||xt.type==="tableDelimiterMarker"||xt.type==="tableDelimiterFiller")?(nt=!1,at[2]===0&&(it[1]!==0&&(at[0]=at[1],dt=flushCell(pt,et,it,st,void 0,dt),it=[0,0,0,0]),at[2]=rt)):xt.type==="tableCellDivider"&&(nt?nt=!1:(it[1]!==0&&(at[0]=at[1],dt=flushCell(pt,et,it,st,void 0,dt)),it=at,at=[it[1],rt,0,0])):xt.type==="tableHead"?(ot=!0,lt=rt):xt.type==="tableRow"||xt.type==="tableDelimiterRow"?(lt=rt,it[1]!==0?(at[0]=at[1],dt=flushCell(pt,et,it,st,rt,dt)):at[1]!==0&&(dt=flushCell(pt,et,at,st,rt,dt)),st=0):st&&(xt.type==="data"||xt.type==="tableDelimiterMarker"||xt.type==="tableDelimiterFiller")&&(at[3]=rt)}for(lt!==0&&flushTableEnd(pt,et,lt,ct,ut),pt.consume(et.events),rt=-1;++rt<et.events.length;){const mt=et.events[rt];mt[0]==="enter"&&mt[1].type==="table"&&(mt[1]._align=gfmTableAlign(et.events,rt))}return _e}function flushCell(_e,et,rt,nt,st,it){const at=nt===1?"tableHeader":nt===2?"tableDelimiter":"tableData",ot="tableContent";rt[0]!==0&&(it.end=Object.assign({},getPoint(et.events,rt[0])),_e.add(rt[0],0,[["exit",it,et]]));const lt=getPoint(et.events,rt[1]);if(it={type:at,start:Object.assign({},lt),end:Object.assign({},lt)},_e.add(rt[1],0,[["enter",it,et]]),rt[2]!==0){const ct=getPoint(et.events,rt[2]),ut=getPoint(et.events,rt[3]),dt={type:ot,start:Object.assign({},ct),end:Object.assign({},ut)};if(_e.add(rt[2],0,[["enter",dt,et]]),nt!==2){const pt=et.events[rt[2]],mt=et.events[rt[3]];if(pt[1].end=Object.assign({},mt[1].end),pt[1].type="chunkText",pt[1].contentType="text",rt[3]>rt[2]+1){const xt=rt[2]+1,yt=rt[3]-rt[2]-1;_e.add(xt,yt,[])}}_e.add(rt[3]+1,0,[["exit",dt,et]])}return st!==void 0&&(it.end=Object.assign({},getPoint(et.events,st)),_e.add(st,0,[["exit",it,et]]),it=void 0),it}function flushTableEnd(_e,et,rt,nt,st){const it=[],at=getPoint(et.events,rt);st&&(st.end=Object.assign({},at),it.push(["exit",st,et])),nt.end=Object.assign({},at),it.push(["exit",nt,et]),_e.add(rt+1,0,it)}function getPoint(_e,et){const rt=_e[et],nt=rt[0]==="enter"?"start":"end";return rt[1][nt]}const tasklistCheck={name:"tasklistCheck",tokenize:tokenizeTasklistCheck};function gfmTaskListItem(){return{text:{91:tasklistCheck}}}function tokenizeTasklistCheck(_e,et,rt){const nt=this;return st;function st(lt){return nt.previous!==null||!nt._gfmTasklistFirstContentOfListItem?rt(lt):(_e.enter("taskListCheck"),_e.enter("taskListCheckMarker"),_e.consume(lt),_e.exit("taskListCheckMarker"),it)}function it(lt){return markdownLineEndingOrSpace(lt)?(_e.enter("taskListCheckValueUnchecked"),_e.consume(lt),_e.exit("taskListCheckValueUnchecked"),at):lt===88||lt===120?(_e.enter("taskListCheckValueChecked"),_e.consume(lt),_e.exit("taskListCheckValueChecked"),at):rt(lt)}function at(lt){return lt===93?(_e.enter("taskListCheckMarker"),_e.consume(lt),_e.exit("taskListCheckMarker"),_e.exit("taskListCheck"),ot):rt(lt)}function ot(lt){return markdownLineEnding(lt)?et(lt):markdownSpace(lt)?_e.check({tokenize:spaceThenNonSpace},et,rt)(lt):rt(lt)}}function spaceThenNonSpace(_e,et,rt){return factorySpace(_e,nt,"whitespace");function nt(st){return st===null?rt(st):et(st)}}function gfm(_e){return combineExtensions([gfmAutolinkLiteral(),gfmFootnote(),gfmStrikethrough(_e),gfmTable(),gfmTaskListItem()])}const emptyOptions={};function remarkGfm(_e){const et=this,rt=_e||emptyOptions,nt=et.data(),st=nt.micromarkExtensions||(nt.micromarkExtensions=[]),it=nt.fromMarkdownExtensions||(nt.fromMarkdownExtensions=[]),at=nt.toMarkdownExtensions||(nt.toMarkdownExtensions=[]);st.push(gfm(rt)),it.push(gfmFromMarkdown()),at.push(gfmToMarkdown(rt))}function AIAssistant(){const[_e,et]=reactExports.useState(!1),[rt,nt]=reactExports.useState(!1),[st,it]=reactExports.useState([{role:"assistant",content:"Xin cho! Ti l tr l o Admin ca ShopFeshen. Ti c th gip g cho bn hm nay?"}]),[at,ot]=reactExports.useState(""),[lt,ct]=reactExports.useState(!1),ut=reactExports.useRef(null),dt=()=>{var xt;(xt=ut.current)==null||xt.scrollIntoView({behavior:"smooth"})};reactExports.useEffect(()=>{dt()},[st,_e]);const pt=async()=>{if(!at.trim()||lt)return;const xt={role:"user",content:at};it(yt=>[...yt,xt]),ot(""),ct(!0);try{const yt=st.map(gt=>({role:gt.role,content:gt.content})),vt=await adminAPI.chat([...yt,xt]);if(vt.data.success){const gt={role:"assistant",content:vt.data.data.message};it(Et=>[...Et,gt])}else it(gt=>[...gt,{role:"assistant",content:"Xin li, ti gp s c khi kt ni vi my ch AI. Vui lng th li sau."}])}catch(yt){console.error("AI Chat Error:",yt),it(vt=>[...vt,{role:"assistant",content:"Xin li,  xy ra li kt ni. Hy m bo service AI ang chy."}])}finally{ct(!1)}},mt=xt=>{xt.key==="Enter"&&!xt.shiftKey&&(xt.preventDefault(),pt())};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[!_e&&jsxRuntimeExports.jsx("button",{onClick:()=>et(!0),className:"fixed bottom-4 right-4 p-3 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white rounded-full shadow-lg hover:shadow-xl transition-all z-50 animate-bounce-subtle",title:"Chat vi tr l o",children:jsxRuntimeExports.jsx(Sparkles,{className:"w-4 h-4"})}),_e&&jsxRuntimeExports.jsxs("div",{className:`fixed bottom-6 right-6 bg-white dark:bg-secondary-800 rounded-2xl shadow-2xl border border-secondary-200 dark:border-secondary-700 z-50 transition-all duration-300 flex flex-col overflow-hidden
                ${rt?"w-72 h-14":"w-[400px] h-[600px]"}
            `,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-indigo-600 to-purple-600 text-white cursor-pointer",onClick:()=>nt(!rt),children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Bot,{className:"w-5 h-5"}),jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Tr l o ShopFeshen"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx("button",{onClick:xt=>{xt.stopPropagation(),nt(!rt)},className:"p-1 hover:bg-white/20 rounded transition-colors",title:rt?"M rng":"Thu nh",children:rt?jsxRuntimeExports.jsx(Maximize2,{className:"w-4 h-4"}):jsxRuntimeExports.jsx(Minimize2,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("button",{onClick:xt=>{xt.stopPropagation(),et(!1)},className:"p-1 hover:bg-white/20 rounded transition-colors",title:"ng",children:jsxRuntimeExports.jsx(X$2,{className:"w-4 h-4"})})]})]}),!rt&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-secondary-50 dark:bg-secondary-900/50",children:[st.map((xt,yt)=>jsxRuntimeExports.jsx("div",{className:`flex ${xt.role==="user"?"justify-end":"justify-start"}`,children:jsxRuntimeExports.jsx("div",{className:`
                        max-w-[85%] rounded-2xl p-3 text-sm leading-relaxed
                        ${xt.role==="user"?"bg-indigo-600 text-white rounded-br-none":"bg-white dark:bg-secondary-700 text-secondary-800 dark:text-gray-100 rounded-bl-none shadow-sm"}
                      `,children:xt.role==="assistant"?jsxRuntimeExports.jsx("div",{className:"prose dark:prose-invert prose-sm max-w-none break-words",children:jsxRuntimeExports.jsx(Markdown,{remarkPlugins:[remarkGfm],components:{code({node:vt,inline:gt,className:Et,children:jt,...kt}){return gt?jsxRuntimeExports.jsx("code",{className:"bg-gray-100 dark:bg-gray-800 text-red-500 px-1 rounded",...kt,children:jt}):jsxRuntimeExports.jsx("div",{className:"bg-gray-900 text-gray-100 p-2 rounded-md my-2 overflow-x-auto text-xs",children:jsxRuntimeExports.jsx("code",{...kt,children:jt})})}},children:xt.content})}):xt.content})},yt)),lt&&jsxRuntimeExports.jsx("div",{className:"flex justify-start",children:jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-secondary-700 p-3 rounded-2xl rounded-bl-none shadow-sm",children:jsxRuntimeExports.jsxs("div",{className:"flex gap-1",children:[jsxRuntimeExports.jsx("span",{className:"w-2 h-2 bg-indigo-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),jsxRuntimeExports.jsx("span",{className:"w-2 h-2 bg-indigo-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),jsxRuntimeExports.jsx("span",{className:"w-2 h-2 bg-indigo-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})}),jsxRuntimeExports.jsx("div",{ref:ut})]}),jsxRuntimeExports.jsxs("div",{className:"p-3 bg-white dark:bg-secondary-800 border-t border-secondary-200 dark:border-secondary-700",children:[jsxRuntimeExports.jsxs("div",{className:"relative flex items-center",children:[jsxRuntimeExports.jsx("input",{type:"text",value:at,onChange:xt=>ot(xt.target.value),onKeyDown:mt,placeholder:"Hi g  (v d: Phn tch doanh thu)...",disabled:lt,className:"w-full bg-secondary-100 dark:bg-secondary-900 text-secondary-900 dark:text-white rounded-full pl-4 pr-12 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 disabled:opacity-50"}),jsxRuntimeExports.jsx("button",{onClick:pt,disabled:!at.trim()||lt,className:"absolute right-2 p-2 bg-indigo-600 text-white rounded-full hover:bg-indigo-700 disabled:opacity-50 disabled:hover:bg-indigo-600 transition-colors",children:lt?jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin"}):jsxRuntimeExports.jsx(Send,{className:"w-4 h-4"})})]}),jsxRuntimeExports.jsx("div",{className:"text-center mt-2",children:jsxRuntimeExports.jsx("p",{className:"text-[10px] text-secondary-400 dark:text-secondary-500",children:"AI c th mc li. Vui lng kim tra li thng tin quan trng."})})]})]})]})]})}function AdminLayout(){var _t;const{pathname:_e}=useLocation(),{logout:et,user:rt}=useAuth(),{theme:nt,toggleTheme:st}=useTheme(),it=useNavigate(),[at,ot]=reactExports.useState(!0),{settings:lt}=useSettings(),{isConnected:ct,joinAdminRoom:ut}=useSocket();reactExports.useEffect(()=>{ct&&ut()},[ct,ut]);const[dt,pt]=reactExports.useState(""),[mt,xt]=reactExports.useState(!1),[yt,vt]=reactExports.useState(!1),[gt,Et]=reactExports.useState({products:[],orders:[]}),jt=reactExports.useRef(null);reactExports.useEffect(()=>{const Nt=Lt=>{jt.current&&!jt.current.contains(Lt.target)&&xt(!1)};return document.addEventListener("mousedown",Nt),()=>{document.removeEventListener("mousedown",Nt)}},[]),reactExports.useEffect(()=>{const Nt=setTimeout(async()=>{var Lt,$t,Ft,Tt,Bt,Wt;if(dt.length>=2){vt(!0),xt(!0);try{const[qt,Ot]=await Promise.all([adminAPI.getProducts({search:dt,limit:5}),adminAPI.getOrders({search:dt,limit:5})]),Dt=(Lt=qt==null?void 0:qt.data)!=null&&Lt.success&&((Ft=($t=qt==null?void 0:qt.data)==null?void 0:$t.data)!=null&&Ft.products)?qt.data.data.products:[],Pt=(Tt=Ot==null?void 0:Ot.data)!=null&&Tt.success&&((Wt=(Bt=Ot==null?void 0:Ot.data)==null?void 0:Bt.data)!=null&&Wt.orders)?Ot.data.data.orders:[];Et({products:Array.isArray(Dt)?Dt:[],orders:Array.isArray(Pt)?Pt:[]})}catch(qt){console.error("Search failed",qt),Et({products:[],orders:[]})}finally{vt(!1)}}else Et({products:[],orders:[]}),xt(!1)},500);return()=>clearTimeout(Nt)},[dt]);const kt=()=>{et(),it("/login")},St=[{icon:LayoutDashboard,label:"Tng quan",path:"/admin/dashboard",roles:["admin","manager"]},{icon:Package,label:"Sn phm",path:"/admin/products",roles:["admin","manager","staff"]},{icon:Plus,label:"Danh mc",path:"/admin/categories",roles:["admin","manager","staff"]},{icon:Tag,label:"Thng hiu",path:"/admin/brands",roles:["admin","manager","staff"]},{icon:ShoppingCart,label:"n hng",path:"/admin/orders",roles:["admin","manager","staff"]},{icon:Users,label:"Khch hng",path:"/admin/customers",roles:["admin","manager","staff"]},{icon:Ticket,label:"Khuyn mi",path:"/admin/coupons",roles:["admin","manager"]},{icon:ChartNoAxesColumnIncreasing,label:"Bo co",path:"/admin/analytics",roles:["admin","manager"]},{icon:Bell,label:"Thng bo",path:"/admin/notifications",roles:["admin","manager","staff"]},{icon:MessageSquare,label:"nh gi",path:"/admin/reviews",roles:["admin","manager","staff"]},{icon:Headphones,label:"Chat",path:"/admin/chat",roles:["admin","manager","staff"]},{icon:Truck,label:"Vn chuyn",path:"/admin/shipping",roles:["admin","manager","staff"]},{icon:Image$1,label:"Banner",path:"/admin/banners",roles:["admin","manager","staff"]},{icon:UserCog,label:"Nhn vin",path:"/admin/staff",roles:["admin","manager"]},{icon:CreditCard,label:"Giao dch",path:"/admin/transactions",roles:["admin","manager"]},{icon:Activity,label:"Nht k hot ng",path:"/admin/logs",roles:["admin","manager"]},{icon:CodeXml,label:"API Tester",path:"/admin/api-test",roles:["admin"]},{icon:Settings,label:"Ci t",path:"/admin/settings",roles:["admin"]}].filter(Nt=>Nt.roles.includes((rt==null?void 0:rt.role)||""));return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-secondary-50 dark:bg-secondary-900 flex transition-colors duration-200",children:[jsxRuntimeExports.jsx("aside",{className:`bg-white dark:bg-secondary-800 border-r border-secondary-200 dark:border-secondary-700 fixed inset-y-0 left-0 z-50 w-64 transition-transform duration-300 transform lg:translate-x-0 lg:static ${at?"translate-x-0":"-translate-x-full"}`,children:jsxRuntimeExports.jsxs("div",{className:"h-full flex flex-col",children:[jsxRuntimeExports.jsx("div",{className:"h-16 flex items-center px-6 border-b border-secondary-100 dark:border-secondary-700",children:jsxRuntimeExports.jsxs(Link$1,{to:"/admin/dashboard",className:"flex items-center gap-2",children:[lt!=null&&lt.store_logo?jsxRuntimeExports.jsx("img",{src:toMediaUrl(lt.store_logo),alt:"Admin",className:"h-8 object-contain"}):jsxRuntimeExports.jsx("div",{className:"w-8 h-8 bg-primary-600 rounded-full flex items-center justify-center text-white font-bold",children:"S"}),jsxRuntimeExports.jsx("span",{className:"text-xl font-bold text-secondary-900 dark:text-white",children:"Qun Tr Vin"})]})}),jsxRuntimeExports.jsx("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto",children:St.map(Nt=>{const Lt=_e===Nt.path;return jsxRuntimeExports.jsxs(Link$1,{to:Nt.path,className:`flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-colors ${Lt?"bg-primary-50 dark:bg-primary-900/20 text-primary-600 dark:text-primary-400":"text-secondary-600 dark:text-secondary-400 hover:bg-secondary-50 dark:hover:bg-secondary-700 hover:text-secondary-900 dark:hover:text-white"}`,children:[jsxRuntimeExports.jsx(Nt.icon,{className:`w-5 h-5 ${Lt?"text-primary-600 dark:text-primary-400":"text-secondary-400"}`}),Nt.label]},Nt.path)})}),jsxRuntimeExports.jsxs("div",{className:"p-4 border-t border-secondary-100 dark:border-secondary-700",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-4 px-2",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-full bg-secondary-200 dark:bg-secondary-700 flex items-center justify-center text-secondary-600 dark:text-secondary-300 font-bold",children:((_t=rt==null?void 0:rt.full_name)==null?void 0:_t.charAt(0))||"A"}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-secondary-900 dark:text-white truncate",children:(rt==null?void 0:rt.full_name)||"Admin User"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-secondary-500 dark:text-secondary-400 truncate",children:"Qun l ca hng"})]})]}),jsxRuntimeExports.jsxs("button",{onClick:kt,className:"w-full flex items-center justify-center gap-2 px-4 py-2 border border-secondary-200 dark:border-secondary-700 rounded-full text-sm font-medium text-secondary-600 dark:text-secondary-400 hover:bg-secondary-50 dark:hover:bg-secondary-700 hover:text-red-600 dark:hover:text-red-400 transition-colors",children:[jsxRuntimeExports.jsx(LogOut,{className:"w-4 h-4"}),"ng xut"]})]})]})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 flex flex-col min-w-0 bg-secondary-50 dark:bg-secondary-900 transition-colors duration-200",children:[jsxRuntimeExports.jsxs("header",{className:"bg-white dark:bg-secondary-800 h-16 border-b border-secondary-200 dark:border-secondary-700 flex items-center justify-between px-4 lg:px-8 transition-colors duration-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[jsxRuntimeExports.jsx("button",{onClick:()=>ot(!at),className:"lg:hidden p-2 text-secondary-600 dark:text-secondary-400 hover:bg-secondary-50 dark:hover:bg-secondary-700 rounded-full",children:jsxRuntimeExports.jsx(Menu,{className:"w-6 h-6"})}),jsxRuntimeExports.jsxs("div",{className:"hidden md:block relative w-96 z-50 transition-all",ref:jt,children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-secondary-400"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Tm kim n hng, sn phm...",value:dt,onChange:Nt=>pt(Nt.target.value),onFocus:()=>dt.length>=2&&xt(!0),className:"bg-secondary-50 dark:bg-secondary-700/50 border-none focus:ring-2 focus:ring-primary-500 rounded-full py-2 pl-10 pr-4 text-sm w-full text-secondary-900 dark:text-white placeholder-secondary-400 transition-all"}),yt&&jsxRuntimeExports.jsx(LoaderCircle,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 animate-spin text-primary-500"})]}),mt&&jsxRuntimeExports.jsxs("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white dark:bg-secondary-800 rounded-lg shadow-xl border border-secondary-100 dark:border-secondary-700 overflow-hidden animate-fade-in max-h-96 overflow-y-auto",children:[yt&&jsxRuntimeExports.jsxs("div",{className:"p-8 text-center",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"w-6 h-6 animate-spin mx-auto text-primary-500 mb-2"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:"ang tm kim..."})]}),!yt&&(gt.orders.length>0||gt.products.length>0)&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[gt.orders.length>0&&jsxRuntimeExports.jsxs("div",{className:"p-2",children:[jsxRuntimeExports.jsx("h4",{className:"text-xs font-semibold text-secondary-500 dark:text-secondary-400 uppercase px-2 mb-1",children:"n hng"}),gt.orders.map(Nt=>jsxRuntimeExports.jsxs(Link$1,{to:`/admin/orders/${Nt.id}`,onClick:()=>{xt(!1),pt("")},className:"flex items-center justify-between p-2 hover:bg-secondary-50 dark:hover:bg-secondary-700 rounded-md group transition-colors",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-secondary-900 dark:text-white group-hover:text-primary-600 dark:group-hover:text-primary-400",children:Nt.order_code}),jsxRuntimeExports.jsx("p",{className:"text-xs text-secondary-500 dark:text-secondary-400",children:Nt.customer_name})]}),jsxRuntimeExports.jsx(ChevronRight,{className:"w-4 h-4 text-secondary-400 opacity-0 group-hover:opacity-100 transition-opacity"})]},Nt.id))]}),gt.products.length>0&&jsxRuntimeExports.jsxs("div",{className:`p-2 ${gt.orders.length>0?"border-t border-secondary-100 dark:border-secondary-700":""}`,children:[jsxRuntimeExports.jsx("h4",{className:"text-xs font-semibold text-secondary-500 dark:text-secondary-400 uppercase px-2 mb-1 mt-1",children:"Sn phm"}),gt.products.map(Nt=>{var Lt,$t;return jsxRuntimeExports.jsxs(Link$1,{to:`/admin/products/edit/${Nt.id}`,onClick:()=>{xt(!1),pt("")},className:"flex items-center gap-3 p-2 hover:bg-secondary-50 dark:hover:bg-secondary-700 rounded-md group transition-colors",children:[($t=(Lt=Nt.product_images)==null?void 0:Lt[0])!=null&&$t.url?jsxRuntimeExports.jsx("img",{src:Nt.product_images[0].url,alt:"",className:"w-10 h-10 rounded object-cover bg-secondary-100 dark:bg-secondary-700"}):jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded bg-secondary-100 dark:bg-secondary-700 flex items-center justify-center",children:jsxRuntimeExports.jsx(Package,{className:"w-5 h-5 text-secondary-400"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-secondary-900 dark:text-white truncate group-hover:text-primary-600 dark:group-hover:text-primary-400",children:Nt.name}),jsxRuntimeExports.jsx("p",{className:"text-xs text-secondary-500 dark:text-secondary-400",children:Nt.sku})]})]},Nt.id)})]})]}),!yt&&dt.length>=2&&gt.orders.length===0&&gt.products.length===0&&jsxRuntimeExports.jsxs("div",{className:"p-8 text-center",children:[jsxRuntimeExports.jsx(Search,{className:"w-12 h-12 mx-auto text-secondary-300 dark:text-secondary-600 mb-3"}),jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Khng tm thy kt qu"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-secondary-500 dark:text-secondary-400",children:"Th tm kim vi t kha khc"})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx(AdminMessageDropdown,{}),jsxRuntimeExports.jsx(NotificationDropdown,{}),jsxRuntimeExports.jsx("button",{onClick:st,className:"p-2 text-secondary-600 dark:text-secondary-400 hover:bg-secondary-50 dark:hover:bg-secondary-700 rounded-full transition-colors",title:nt==="light"?"Chuyn sang ch  ti":"Chuyn sang ch  sng",children:nt==="light"?jsxRuntimeExports.jsx(Moon,{className:"w-5 h-5"}):jsxRuntimeExports.jsx(Sun,{className:"w-5 h-5"})})]})]}),jsxRuntimeExports.jsx("main",{className:"flex-1 overflow-y-auto p-4 lg:p-8",children:jsxRuntimeExports.jsx(Outlet,{})})]}),at&&jsxRuntimeExports.jsx("div",{className:"lg:hidden fixed inset-0 bg-black/20 z-40 backdrop-blur-sm",onClick:()=>ot(!1)}),jsxRuntimeExports.jsx(AIAssistant,{}),jsxRuntimeExports.jsx(AdminChatManager,{})]})}function r$6(_e){var et,rt,nt="";if(typeof _e=="string"||typeof _e=="number")nt+=_e;else if(typeof _e=="object")if(Array.isArray(_e)){var st=_e.length;for(et=0;et<st;et++)_e[et]&&(rt=r$6(_e[et]))&&(nt&&(nt+=" "),nt+=rt)}else for(rt in _e)_e[rt]&&(nt&&(nt+=" "),nt+=rt);return nt}function clsx(){for(var _e,et,rt=0,nt="",st=arguments.length;rt<st;rt++)(_e=arguments[rt])&&(et=r$6(_e))&&(nt&&(nt+=" "),nt+=et);return nt}var EventKeys=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function isEventKey(_e){if(typeof _e!="string")return!1;var et=EventKeys;return et.includes(_e)}var SVGElementPropKeys=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],SVGElementPropKeySet=new Set(SVGElementPropKeys);function isSvgElementPropKey(_e){return typeof _e!="string"?!1:SVGElementPropKeySet.has(_e)}function isDataAttribute(_e){return typeof _e=="string"&&_e.startsWith("data-")}function svgPropertiesNoEvents(_e){if(typeof _e!="object"||_e===null)return{};var et={};for(var rt in _e)Object.prototype.hasOwnProperty.call(_e,rt)&&(isSvgElementPropKey(rt)||isDataAttribute(rt))&&(et[rt]=_e[rt]);return et}function svgPropertiesNoEventsFromUnknown(_e){if(_e==null)return null;if(reactExports.isValidElement(_e)&&typeof _e.props=="object"&&_e.props!==null){var et=_e.props;return svgPropertiesNoEvents(et)}return typeof _e=="object"&&!Array.isArray(_e)?svgPropertiesNoEvents(_e):null}function svgPropertiesAndEvents(_e){var et={};for(var rt in _e)Object.prototype.hasOwnProperty.call(_e,rt)&&(isSvgElementPropKey(rt)||isDataAttribute(rt)||isEventKey(rt))&&(et[rt]=_e[rt]);return et}function svgPropertiesAndEventsFromUnknown(_e){return _e==null?null:reactExports.isValidElement(_e)?svgPropertiesAndEvents(_e.props):typeof _e=="object"&&!Array.isArray(_e)?svgPropertiesAndEvents(_e):null}var _excluded$q=["children","width","height","viewBox","className","style","title","desc"];function _extends$u(){return _extends$u=Object.assign?Object.assign.bind():function(_e){for(var et=1;et<arguments.length;et++){var rt=arguments[et];for(var nt in rt)({}).hasOwnProperty.call(rt,nt)&&(_e[nt]=rt[nt])}return _e},_extends$u.apply(null,arguments)}function _objectWithoutProperties$p(_e,et){if(_e==null)return{};var rt,nt,st=_objectWithoutPropertiesLoose$p(_e,et);if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(_e);for(nt=0;nt<it.length;nt++)rt=it[nt],et.indexOf(rt)===-1&&{}.propertyIsEnumerable.call(_e,rt)&&(st[rt]=_e[rt])}return st}function _objectWithoutPropertiesLoose$p(_e,et){if(_e==null)return{};var rt={};for(var nt in _e)if({}.hasOwnProperty.call(_e,nt)){if(et.indexOf(nt)!==-1)continue;rt[nt]=_e[nt]}return rt}var Surface=reactExports.forwardRef((_e,et)=>{var{children:rt,width:nt,height:st,viewBox:it,className:at,style:ot,title:lt,desc:ct}=_e,ut=_objectWithoutProperties$p(_e,_excluded$q),dt=it||{width:nt,height:st,x:0,y:0},pt=clsx("recharts-surface",at);return reactExports.createElement("svg",_extends$u({},svgPropertiesAndEvents(ut),{className:pt,width:nt,height:st,style:ot,viewBox:"".concat(dt.x," ").concat(dt.y," ").concat(dt.width," ").concat(dt.height),ref:et}),reactExports.createElement("title",null,lt),reactExports.createElement("desc",null,ct),rt)}),_excluded$p=["children","className"];function _extends$t(){return _extends$t=Object.assign?Object.assign.bind():function(_e){for(var et=1;et<arguments.length;et++){var rt=arguments[et];for(var nt in rt)({}).hasOwnProperty.call(rt,nt)&&(_e[nt]=rt[nt])}return _e},_extends$t.apply(null,arguments)}function _objectWithoutProperties$o(_e,et){if(_e==null)return{};var rt,nt,st=_objectWithoutPropertiesLoose$o(_e,et);if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(_e);for(nt=0;nt<it.length;nt++)rt=it[nt],et.indexOf(rt)===-1&&{}.propertyIsEnumerable.call(_e,rt)&&(st[rt]=_e[rt])}return st}function _objectWithoutPropertiesLoose$o(_e,et){if(_e==null)return{};var rt={};for(var nt in _e)if({}.hasOwnProperty.call(_e,nt)){if(et.indexOf(nt)!==-1)continue;rt[nt]=_e[nt]}return rt}var Layer=reactExports.forwardRef((_e,et)=>{var{children:rt,className:nt}=_e,st=_objectWithoutProperties$o(_e,_excluded$p),it=clsx("recharts-layer",nt);return reactExports.createElement("g",_extends$t({className:it},svgPropertiesAndEvents(st),{ref:et}),rt)}),LegendPortalContext=reactExports.createContext(null),useLegendPortal=()=>reactExports.useContext(LegendPortalContext);function constant$1(_e){return function(){return _e}}const cos=Math.cos,sin=Math.sin,sqrt$1=Math.sqrt,pi$1=Math.PI,tau$1=2*pi$1,pi=Math.PI,tau=2*pi,epsilon=1e-6,tauEpsilon=tau-epsilon;function append(_e){this._+=_e[0];for(let et=1,rt=_e.length;et<rt;++et)this._+=arguments[et]+_e[et]}function appendRound(_e){let et=Math.floor(_e);if(!(et>=0))throw new Error(`invalid digits: ${_e}`);if(et>15)return append;const rt=10**et;return function(nt){this._+=nt[0];for(let st=1,it=nt.length;st<it;++st)this._+=Math.round(arguments[st]*rt)/rt+nt[st]}}class Path{constructor(et){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=et==null?append:appendRound(et)}moveTo(et,rt){this._append`M${this._x0=this._x1=+et},${this._y0=this._y1=+rt}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(et,rt){this._append`L${this._x1=+et},${this._y1=+rt}`}quadraticCurveTo(et,rt,nt,st){this._append`Q${+et},${+rt},${this._x1=+nt},${this._y1=+st}`}bezierCurveTo(et,rt,nt,st,it,at){this._append`C${+et},${+rt},${+nt},${+st},${this._x1=+it},${this._y1=+at}`}arcTo(et,rt,nt,st,it){if(et=+et,rt=+rt,nt=+nt,st=+st,it=+it,it<0)throw new Error(`negative radius: ${it}`);let at=this._x1,ot=this._y1,lt=nt-et,ct=st-rt,ut=at-et,dt=ot-rt,pt=ut*ut+dt*dt;if(this._x1===null)this._append`M${this._x1=et},${this._y1=rt}`;else if(pt>epsilon)if(!(Math.abs(dt*lt-ct*ut)>epsilon)||!it)this._append`L${this._x1=et},${this._y1=rt}`;else{let mt=nt-at,xt=st-ot,yt=lt*lt+ct*ct,vt=mt*mt+xt*xt,gt=Math.sqrt(yt),Et=Math.sqrt(pt),jt=it*Math.tan((pi-Math.acos((yt+pt-vt)/(2*gt*Et)))/2),kt=jt/Et,Rt=jt/gt;Math.abs(kt-1)>epsilon&&this._append`L${et+kt*ut},${rt+kt*dt}`,this._append`A${it},${it},0,0,${+(dt*mt>ut*xt)},${this._x1=et+Rt*lt},${this._y1=rt+Rt*ct}`}}arc(et,rt,nt,st,it,at){if(et=+et,rt=+rt,nt=+nt,at=!!at,nt<0)throw new Error(`negative radius: ${nt}`);let ot=nt*Math.cos(st),lt=nt*Math.sin(st),ct=et+ot,ut=rt+lt,dt=1^at,pt=at?st-it:it-st;this._x1===null?this._append`M${ct},${ut}`:(Math.abs(this._x1-ct)>epsilon||Math.abs(this._y1-ut)>epsilon)&&this._append`L${ct},${ut}`,nt&&(pt<0&&(pt=pt%tau+tau),pt>tauEpsilon?this._append`A${nt},${nt},0,1,${dt},${et-ot},${rt-lt}A${nt},${nt},0,1,${dt},${this._x1=ct},${this._y1=ut}`:pt>epsilon&&this._append`A${nt},${nt},0,${+(pt>=pi)},${dt},${this._x1=et+nt*Math.cos(it)},${this._y1=rt+nt*Math.sin(it)}`)}rect(et,rt,nt,st){this._append`M${this._x0=this._x1=+et},${this._y0=this._y1=+rt}h${nt=+nt}v${+st}h${-nt}Z`}toString(){return this._}}function withPath(_e){let et=3;return _e.digits=function(rt){if(!arguments.length)return et;if(rt==null)et=null;else{const nt=Math.floor(rt);if(!(nt>=0))throw new RangeError(`invalid digits: ${rt}`);et=nt}return _e},()=>new Path(et)}function array(_e){return typeof _e=="object"&&"length"in _e?_e:Array.from(_e)}function Linear(_e){this._context=_e}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(_e,et){switch(_e=+_e,et=+et,this._point){case 0:this._point=1,this._line?this._context.lineTo(_e,et):this._context.moveTo(_e,et);break;case 1:this._point=2;default:this._context.lineTo(_e,et);break}}};function curveLinear(_e){return new Linear(_e)}function x$5(_e){return _e[0]}function y$3(_e){return _e[1]}function shapeLine(_e,et){var rt=constant$1(!0),nt=null,st=curveLinear,it=null,at=withPath(ot);_e=typeof _e=="function"?_e:_e===void 0?x$5:constant$1(_e),et=typeof et=="function"?et:et===void 0?y$3:constant$1(et);function ot(lt){var ct,ut=(lt=array(lt)).length,dt,pt=!1,mt;for(nt==null&&(it=st(mt=at())),ct=0;ct<=ut;++ct)!(ct<ut&&rt(dt=lt[ct],ct,lt))===pt&&((pt=!pt)?it.lineStart():it.lineEnd()),pt&&it.point(+_e(dt,ct,lt),+et(dt,ct,lt));if(mt)return it=null,mt+""||null}return ot.x=function(lt){return arguments.length?(_e=typeof lt=="function"?lt:constant$1(+lt),ot):_e},ot.y=function(lt){return arguments.length?(et=typeof lt=="function"?lt:constant$1(+lt),ot):et},ot.defined=function(lt){return arguments.length?(rt=typeof lt=="function"?lt:constant$1(!!lt),ot):rt},ot.curve=function(lt){return arguments.length?(st=lt,nt!=null&&(it=st(nt)),ot):st},ot.context=function(lt){return arguments.length?(lt==null?nt=it=null:it=st(nt=lt),ot):nt},ot}function shapeArea(_e,et,rt){var nt=null,st=constant$1(!0),it=null,at=curveLinear,ot=null,lt=withPath(ct);_e=typeof _e=="function"?_e:_e===void 0?x$5:constant$1(+_e),et=typeof et=="function"?et:constant$1(et===void 0?0:+et),rt=typeof rt=="function"?rt:rt===void 0?y$3:constant$1(+rt);function ct(dt){var pt,mt,xt,yt=(dt=array(dt)).length,vt,gt=!1,Et,jt=new Array(yt),kt=new Array(yt);for(it==null&&(ot=at(Et=lt())),pt=0;pt<=yt;++pt){if(!(pt<yt&&st(vt=dt[pt],pt,dt))===gt)if(gt=!gt)mt=pt,ot.areaStart(),ot.lineStart();else{for(ot.lineEnd(),ot.lineStart(),xt=pt-1;xt>=mt;--xt)ot.point(jt[xt],kt[xt]);ot.lineEnd(),ot.areaEnd()}gt&&(jt[pt]=+_e(vt,pt,dt),kt[pt]=+et(vt,pt,dt),ot.point(nt?+nt(vt,pt,dt):jt[pt],rt?+rt(vt,pt,dt):kt[pt]))}if(Et)return ot=null,Et+""||null}function ut(){return shapeLine().defined(st).curve(at).context(it)}return ct.x=function(dt){return arguments.length?(_e=typeof dt=="function"?dt:constant$1(+dt),nt=null,ct):_e},ct.x0=function(dt){return arguments.length?(_e=typeof dt=="function"?dt:constant$1(+dt),ct):_e},ct.x1=function(dt){return arguments.length?(nt=dt==null?null:typeof dt=="function"?dt:constant$1(+dt),ct):nt},ct.y=function(dt){return arguments.length?(et=typeof dt=="function"?dt:constant$1(+dt),rt=null,ct):et},ct.y0=function(dt){return arguments.length?(et=typeof dt=="function"?dt:constant$1(+dt),ct):et},ct.y1=function(dt){return arguments.length?(rt=dt==null?null:typeof dt=="function"?dt:constant$1(+dt),ct):rt},ct.lineX0=ct.lineY0=function(){return ut().x(_e).y(et)},ct.lineY1=function(){return ut().x(_e).y(rt)},ct.lineX1=function(){return ut().x(nt).y(et)},ct.defined=function(dt){return arguments.length?(st=typeof dt=="function"?dt:constant$1(!!dt),ct):st},ct.curve=function(dt){return arguments.length?(at=dt,it!=null&&(ot=at(it)),ct):at},ct.context=function(dt){return arguments.length?(dt==null?it=ot=null:ot=at(it=dt),ct):it},ct}class Bump{constructor(et,rt){this._context=et,this._x=rt}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(et,rt){switch(et=+et,rt=+rt,this._point){case 0:{this._point=1,this._line?this._context.lineTo(et,rt):this._context.moveTo(et,rt);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+et)/2,this._y0,this._x0,rt,et,rt):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+rt)/2,et,this._y0,et,rt);break}}this._x0=et,this._y0=rt}}function bumpX(_e){return new Bump(_e,!0)}function bumpY(_e){return new Bump(_e,!1)}const symbolCircle={draw(_e,et){const rt=sqrt$1(et/pi$1);_e.moveTo(rt,0),_e.arc(0,0,rt,0,tau$1)}},symbolCross={draw(_e,et){const rt=sqrt$1(et/5)/2;_e.moveTo(-3*rt,-rt),_e.lineTo(-rt,-rt),_e.lineTo(-rt,-3*rt),_e.lineTo(rt,-3*rt),_e.lineTo(rt,-rt),_e.lineTo(3*rt,-rt),_e.lineTo(3*rt,rt),_e.lineTo(rt,rt),_e.lineTo(rt,3*rt),_e.lineTo(-rt,3*rt),_e.lineTo(-rt,rt),_e.lineTo(-3*rt,rt),_e.closePath()}},tan30=sqrt$1(1/3),tan30_2=tan30*2,symbolDiamond={draw(_e,et){const rt=sqrt$1(et/tan30_2),nt=rt*tan30;_e.moveTo(0,-rt),_e.lineTo(nt,0),_e.lineTo(0,rt),_e.lineTo(-nt,0),_e.closePath()}},symbolSquare={draw(_e,et){const rt=sqrt$1(et),nt=-rt/2;_e.rect(nt,nt,rt,rt)}},ka=.8908130915292852,kr=sin(pi$1/10)/sin(7*pi$1/10),kx=sin(tau$1/10)*kr,ky=-cos(tau$1/10)*kr,symbolStar={draw(_e,et){const rt=sqrt$1(et*ka),nt=kx*rt,st=ky*rt;_e.moveTo(0,-rt),_e.lineTo(nt,st);for(let it=1;it<5;++it){const at=tau$1*it/5,ot=cos(at),lt=sin(at);_e.lineTo(lt*rt,-ot*rt),_e.lineTo(ot*nt-lt*st,lt*nt+ot*st)}_e.closePath()}},sqrt3=sqrt$1(3),symbolTriangle={draw(_e,et){const rt=-sqrt$1(et/(sqrt3*3));_e.moveTo(0,rt*2),_e.lineTo(-sqrt3*rt,-rt),_e.lineTo(sqrt3*rt,-rt),_e.closePath()}},c$7=-.5,s$7=sqrt$1(3)/2,k$3=1/sqrt$1(12),a$b=(k$3/2+1)*3,symbolWye={draw(_e,et){const rt=sqrt$1(et/a$b),nt=rt/2,st=rt*k$3,it=nt,at=rt*k$3+rt,ot=-it,lt=at;_e.moveTo(nt,st),_e.lineTo(it,at),_e.lineTo(ot,lt),_e.lineTo(c$7*nt-s$7*st,s$7*nt+c$7*st),_e.lineTo(c$7*it-s$7*at,s$7*it+c$7*at),_e.lineTo(c$7*ot-s$7*lt,s$7*ot+c$7*lt),_e.lineTo(c$7*nt+s$7*st,c$7*st-s$7*nt),_e.lineTo(c$7*it+s$7*at,c$7*at-s$7*it),_e.lineTo(c$7*ot+s$7*lt,c$7*lt-s$7*ot),_e.closePath()}};function Symbol$1(_e,et){let rt=null,nt=withPath(st);_e=typeof _e=="function"?_e:constant$1(_e||symbolCircle),et=typeof et=="function"?et:constant$1(et===void 0?64:+et);function st(){let it;if(rt||(rt=it=nt()),_e.apply(this,arguments).draw(rt,+et.apply(this,arguments)),it)return rt=null,it+""||null}return st.type=function(it){return arguments.length?(_e=typeof it=="function"?it:constant$1(it),st):_e},st.size=function(it){return arguments.length?(et=typeof it=="function"?it:constant$1(+it),st):et},st.context=function(it){return arguments.length?(rt=it??null,st):rt},st}function noop$4(){}function point$2(_e,et,rt){_e._context.bezierCurveTo((2*_e._x0+_e._x1)/3,(2*_e._y0+_e._y1)/3,(_e._x0+2*_e._x1)/3,(_e._y0+2*_e._y1)/3,(_e._x0+4*_e._x1+et)/6,(_e._y0+4*_e._y1+rt)/6)}function Basis(_e){this._context=_e}Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:point$2(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(_e,et){switch(_e=+_e,et=+et,this._point){case 0:this._point=1,this._line?this._context.lineTo(_e,et):this._context.moveTo(_e,et);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:point$2(this,_e,et);break}this._x0=this._x1,this._x1=_e,this._y0=this._y1,this._y1=et}};function curveBasis(_e){return new Basis(_e)}function BasisClosed(_e){this._context=_e}BasisClosed.prototype={areaStart:noop$4,areaEnd:noop$4,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(_e,et){switch(_e=+_e,et=+et,this._point){case 0:this._point=1,this._x2=_e,this._y2=et;break;case 1:this._point=2,this._x3=_e,this._y3=et;break;case 2:this._point=3,this._x4=_e,this._y4=et,this._context.moveTo((this._x0+4*this._x1+_e)/6,(this._y0+4*this._y1+et)/6);break;default:point$2(this,_e,et);break}this._x0=this._x1,this._x1=_e,this._y0=this._y1,this._y1=et}};function curveBasisClosed(_e){return new BasisClosed(_e)}function BasisOpen(_e){this._context=_e}BasisOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(_e,et){switch(_e=+_e,et=+et,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var rt=(this._x0+4*this._x1+_e)/6,nt=(this._y0+4*this._y1+et)/6;this._line?this._context.lineTo(rt,nt):this._context.moveTo(rt,nt);break;case 3:this._point=4;default:point$2(this,_e,et);break}this._x0=this._x1,this._x1=_e,this._y0=this._y1,this._y1=et}};function curveBasisOpen(_e){return new BasisOpen(_e)}function LinearClosed(_e){this._context=_e}LinearClosed.prototype={areaStart:noop$4,areaEnd:noop$4,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(_e,et){_e=+_e,et=+et,this._point?this._context.lineTo(_e,et):(this._point=1,this._context.moveTo(_e,et))}};function curveLinearClosed(_e){return new LinearClosed(_e)}function sign(_e){return _e<0?-1:1}function slope3(_e,et,rt){var nt=_e._x1-_e._x0,st=et-_e._x1,it=(_e._y1-_e._y0)/(nt||st<0&&-0),at=(rt-_e._y1)/(st||nt<0&&-0),ot=(it*st+at*nt)/(nt+st);return(sign(it)+sign(at))*Math.min(Math.abs(it),Math.abs(at),.5*Math.abs(ot))||0}function slope2(_e,et){var rt=_e._x1-_e._x0;return rt?(3*(_e._y1-_e._y0)/rt-et)/2:et}function point$1(_e,et,rt){var nt=_e._x0,st=_e._y0,it=_e._x1,at=_e._y1,ot=(it-nt)/3;_e._context.bezierCurveTo(nt+ot,st+ot*et,it-ot,at-ot*rt,it,at)}function MonotoneX(_e){this._context=_e}MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:point$1(this,this._t0,slope2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(_e,et){var rt=NaN;if(_e=+_e,et=+et,!(_e===this._x1&&et===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(_e,et):this._context.moveTo(_e,et);break;case 1:this._point=2;break;case 2:this._point=3,point$1(this,slope2(this,rt=slope3(this,_e,et)),rt);break;default:point$1(this,this._t0,rt=slope3(this,_e,et));break}this._x0=this._x1,this._x1=_e,this._y0=this._y1,this._y1=et,this._t0=rt}}};function MonotoneY(_e){this._context=new ReflectContext(_e)}(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(_e,et){MonotoneX.prototype.point.call(this,et,_e)};function ReflectContext(_e){this._context=_e}ReflectContext.prototype={moveTo:function(_e,et){this._context.moveTo(et,_e)},closePath:function(){this._context.closePath()},lineTo:function(_e,et){this._context.lineTo(et,_e)},bezierCurveTo:function(_e,et,rt,nt,st,it){this._context.bezierCurveTo(et,_e,nt,rt,it,st)}};function monotoneX(_e){return new MonotoneX(_e)}function monotoneY(_e){return new MonotoneY(_e)}function Natural(_e){this._context=_e}Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var _e=this._x,et=this._y,rt=_e.length;if(rt)if(this._line?this._context.lineTo(_e[0],et[0]):this._context.moveTo(_e[0],et[0]),rt===2)this._context.lineTo(_e[1],et[1]);else for(var nt=controlPoints(_e),st=controlPoints(et),it=0,at=1;at<rt;++it,++at)this._context.bezierCurveTo(nt[0][it],st[0][it],nt[1][it],st[1][it],_e[at],et[at]);(this._line||this._line!==0&&rt===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(_e,et){this._x.push(+_e),this._y.push(+et)}};function controlPoints(_e){var et,rt=_e.length-1,nt,st=new Array(rt),it=new Array(rt),at=new Array(rt);for(st[0]=0,it[0]=2,at[0]=_e[0]+2*_e[1],et=1;et<rt-1;++et)st[et]=1,it[et]=4,at[et]=4*_e[et]+2*_e[et+1];for(st[rt-1]=2,it[rt-1]=7,at[rt-1]=8*_e[rt-1]+_e[rt],et=1;et<rt;++et)nt=st[et]/it[et-1],it[et]-=nt,at[et]-=nt*at[et-1];for(st[rt-1]=at[rt-1]/it[rt-1],et=rt-2;et>=0;--et)st[et]=(at[et]-st[et+1])/it[et];for(it[rt-1]=(_e[rt]+st[rt-1])/2,et=0;et<rt-1;++et)it[et]=2*_e[et+1]-st[et+1];return[st,it]}function curveNatural(_e){return new Natural(_e)}function Step$1(_e,et){this._context=_e,this._t=et}Step$1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(_e,et){switch(_e=+_e,et=+et,this._point){case 0:this._point=1,this._line?this._context.lineTo(_e,et):this._context.moveTo(_e,et);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,et),this._context.lineTo(_e,et);else{var rt=this._x*(1-this._t)+_e*this._t;this._context.lineTo(rt,this._y),this._context.lineTo(rt,et)}break}}this._x=_e,this._y=et}};function curveStep(_e){return new Step$1(_e,.5)}function stepBefore(_e){return new Step$1(_e,0)}function stepAfter(_e){return new Step$1(_e,1)}function stackOffsetNone(_e,et){if((at=_e.length)>1)for(var rt=1,nt,st,it=_e[et[0]],at,ot=it.length;rt<at;++rt)for(st=it,it=_e[et[rt]],nt=0;nt<ot;++nt)it[nt][1]+=it[nt][0]=isNaN(st[nt][1])?st[nt][0]:st[nt][1]}function stackOrderNone(_e){for(var et=_e.length,rt=new Array(et);--et>=0;)rt[et]=et;return rt}function stackValue(_e,et){return _e[et]}function stackSeries(_e){const et=[];return et.key=_e,et}function shapeStack(){var _e=constant$1([]),et=stackOrderNone,rt=stackOffsetNone,nt=stackValue;function st(it){var at=Array.from(_e.apply(this,arguments),stackSeries),ot,lt=at.length,ct=-1,ut;for(const dt of it)for(ot=0,++ct;ot<lt;++ot)(at[ot][ct]=[0,+nt(dt,at[ot].key,ct,it)]).data=dt;for(ot=0,ut=array(et(at));ot<lt;++ot)at[ut[ot]].index=ot;return rt(at,ut),at}return st.keys=function(it){return arguments.length?(_e=typeof it=="function"?it:constant$1(Array.from(it)),st):_e},st.value=function(it){return arguments.length?(nt=typeof it=="function"?it:constant$1(+it),st):nt},st.order=function(it){return arguments.length?(et=it==null?stackOrderNone:typeof it=="function"?it:constant$1(Array.from(it)),st):et},st.offset=function(it){return arguments.length?(rt=it??stackOffsetNone,st):rt},st}function stackOffsetExpand(_e,et){if((nt=_e.length)>0){for(var rt,nt,st=0,it=_e[0].length,at;st<it;++st){for(at=rt=0;rt<nt;++rt)at+=_e[rt][st][1]||0;if(at)for(rt=0;rt<nt;++rt)_e[rt][st][1]/=at}stackOffsetNone(_e,et)}}function stackOffsetSilhouette(_e,et){if((st=_e.length)>0){for(var rt=0,nt=_e[et[0]],st,it=nt.length;rt<it;++rt){for(var at=0,ot=0;at<st;++at)ot+=_e[at][rt][1]||0;nt[rt][1]+=nt[rt][0]=-ot/2}stackOffsetNone(_e,et)}}function stackOffsetWiggle(_e,et){if(!(!((at=_e.length)>0)||!((it=(st=_e[et[0]]).length)>0))){for(var rt=0,nt=1,st,it,at;nt<it;++nt){for(var ot=0,lt=0,ct=0;ot<at;++ot){for(var ut=_e[et[ot]],dt=ut[nt][1]||0,pt=ut[nt-1][1]||0,mt=(dt-pt)/2,xt=0;xt<ot;++xt){var yt=_e[et[xt]],vt=yt[nt][1]||0,gt=yt[nt-1][1]||0;mt+=vt-gt}lt+=dt,ct+=mt*dt}st[nt-1][1]+=st[nt-1][0]=rt,lt&&(rt-=ct/lt)}st[nt-1][1]+=st[nt-1][0]=rt,stackOffsetNone(_e,et)}}var get$4={},isUnsafeProperty={};(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});function et(rt){return rt==="__proto__"}_e.isUnsafeProperty=et})(isUnsafeProperty);var isDeepKey={};(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});function et(rt){switch(typeof rt){case"number":case"symbol":return!1;case"string":return rt.includes(".")||rt.includes("[")||rt.includes("]")}}_e.isDeepKey=et})(isDeepKey);var toKey={};(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});function et(rt){var nt;return typeof rt=="string"||typeof rt=="symbol"?rt:Object.is((nt=rt==null?void 0:rt.valueOf)==null?void 0:nt.call(rt),-0)?"-0":String(rt)}_e.toKey=et})(toKey);var toPath={},toString$2={};(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});function et(rt){if(rt==null)return"";if(typeof rt=="string")return rt;if(Array.isArray(rt))return rt.map(et).join(",");const nt=String(rt);return nt==="0"&&Object.is(Number(rt),-0)?"-0":nt}_e.toString=et})(toString$2);(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});const et=toString$2,rt=toKey;function nt(st){if(Array.isArray(st))return st.map(rt.toKey);if(typeof st=="symbol")return[st];st=et.toString(st);const it=[],at=st.length;if(at===0)return it;let ot=0,lt="",ct="",ut=!1;for(st.charCodeAt(0)===46&&(it.push(""),ot++);ot<at;){const dt=st[ot];ct?dt==="\\"&&ot+1<at?(ot++,lt+=st[ot]):dt===ct?ct="":lt+=dt:ut?dt==='"'||dt==="'"?ct=dt:dt==="]"?(ut=!1,it.push(lt),lt=""):lt+=dt:dt==="["?(ut=!0,lt&&(it.push(lt),lt="")):dt==="."?lt&&(it.push(lt),lt=""):lt+=dt,ot++}return lt&&it.push(lt),it}_e.toPath=nt})(toPath);(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});const et=isUnsafeProperty,rt=isDeepKey,nt=toKey,st=toPath;function it(ot,lt,ct){if(ot==null)return ct;switch(typeof lt){case"string":{if(et.isUnsafeProperty(lt))return ct;const ut=ot[lt];return ut===void 0?rt.isDeepKey(lt)?it(ot,st.toPath(lt),ct):ct:ut}case"number":case"symbol":{typeof lt=="number"&&(lt=nt.toKey(lt));const ut=ot[lt];return ut===void 0?ct:ut}default:{if(Array.isArray(lt))return at(ot,lt,ct);if(Object.is(lt==null?void 0:lt.valueOf(),-0)?lt="-0":lt=String(lt),et.isUnsafeProperty(lt))return ct;const ut=ot[lt];return ut===void 0?ct:ut}}}function at(ot,lt,ct){if(lt.length===0)return ct;let ut=ot;for(let dt=0;dt<lt.length;dt++){if(ut==null||et.isUnsafeProperty(lt[dt]))return ct;ut=ut[lt[dt]]}return ut===void 0?ct:ut}_e.get=it})(get$4);var get$2=get$4.get;const get$3=getDefaultExportFromCjs(get$2);var defaultRoundPrecision=4;function round$1(_e){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:defaultRoundPrecision,rt=10**et,nt=Math.round(_e*rt)/rt;return Object.is(nt,-0)?0:nt}function roundTemplateLiteral(_e){for(var et=arguments.length,rt=new Array(et>1?et-1:0),nt=1;nt<et;nt++)rt[nt-1]=arguments[nt];return _e.reduce((st,it,at)=>{var ot=rt[at-1];return typeof ot=="string"?st+ot+it:ot!==void 0?st+round$1(ot)+it:st+it},"")}var mathSign=_e=>_e===0?0:_e>0?1:-1,isNan=_e=>typeof _e=="number"&&_e!=+_e,isPercent=_e=>typeof _e=="string"&&_e.indexOf("%")===_e.length-1,isNumber$1=_e=>(typeof _e=="number"||_e instanceof Number)&&!isNan(_e),isNumOrStr=_e=>isNumber$1(_e)||typeof _e=="string",idCounter=0,uniqueId=_e=>{var et=++idCounter;return"".concat(_e||"").concat(et)},getPercentValue=function(et,rt){var nt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,st=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!isNumber$1(et)&&typeof et!="string")return nt;var it;if(isPercent(et)){if(rt==null)return nt;var at=et.indexOf("%");it=rt*parseFloat(et.slice(0,at))/100}else it=+et;return isNan(it)&&(it=nt),st&&rt!=null&&it>rt&&(it=rt),it},hasDuplicate=_e=>{if(!Array.isArray(_e))return!1;for(var et=_e.length,rt={},nt=0;nt<et;nt++)if(!rt[String(_e[nt])])rt[String(_e[nt])]=!0;else return!0;return!1};function interpolate$1(_e,et,rt){return isNumber$1(_e)&&isNumber$1(et)?round$1(_e+rt*(et-_e)):et}function findEntryInArray(_e,et,rt){if(!(!_e||!_e.length))return _e.find(nt=>nt&&(typeof et=="function"?et(nt):get$3(nt,et))===rt)}var isNullish=_e=>_e===null||typeof _e>"u",upperFirst=_e=>isNullish(_e)?_e:"".concat(_e.charAt(0).toUpperCase()).concat(_e.slice(1));function isNotNil(_e){return _e!=null}function noop$3(){}var _excluded$o=["type","size","sizeType"];function _extends$s(){return _extends$s=Object.assign?Object.assign.bind():function(_e){for(var et=1;et<arguments.length;et++){var rt=arguments[et];for(var nt in rt)({}).hasOwnProperty.call(rt,nt)&&(_e[nt]=rt[nt])}return _e},_extends$s.apply(null,arguments)}function ownKeys$J(_e,et){var rt=Object.keys(_e);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);et&&(nt=nt.filter(function(st){return Object.getOwnPropertyDescriptor(_e,st).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$I(_e){for(var et=1;et<arguments.length;et++){var rt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$J(Object(rt),!0).forEach(function(nt){_defineProperty$L(_e,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(rt)):ownKeys$J(Object(rt)).forEach(function(nt){Object.defineProperty(_e,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return _e}function _defineProperty$L(_e,et,rt){return(et=_toPropertyKey$L(et))in _e?Object.defineProperty(_e,et,{value:rt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=rt,_e}function _toPropertyKey$L(_e){var et=_toPrimitive$L(_e,"string");return typeof et=="symbol"?et:et+""}function _toPrimitive$L(_e,et){if(typeof _e!="object"||!_e)return _e;var rt=_e[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(_e,et);if(typeof nt!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(_e)}function _objectWithoutProperties$n(_e,et){if(_e==null)return{};var rt,nt,st=_objectWithoutPropertiesLoose$n(_e,et);if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(_e);for(nt=0;nt<it.length;nt++)rt=it[nt],et.indexOf(rt)===-1&&{}.propertyIsEnumerable.call(_e,rt)&&(st[rt]=_e[rt])}return st}function _objectWithoutPropertiesLoose$n(_e,et){if(_e==null)return{};var rt={};for(var nt in _e)if({}.hasOwnProperty.call(_e,nt)){if(et.indexOf(nt)!==-1)continue;rt[nt]=_e[nt]}return rt}var symbolFactories={symbolCircle,symbolCross,symbolDiamond,symbolSquare,symbolStar,symbolTriangle,symbolWye},RADIAN$1=Math.PI/180,getSymbolFactory=_e=>{var et="symbol".concat(upperFirst(_e));return symbolFactories[et]||symbolCircle},calculateAreaSize=(_e,et,rt)=>{if(et==="area")return _e;switch(rt){case"cross":return 5*_e*_e/9;case"diamond":return .5*_e*_e/Math.sqrt(3);case"square":return _e*_e;case"star":{var nt=18*RADIAN$1;return 1.25*_e*_e*(Math.tan(nt)-Math.tan(nt*2)*Math.tan(nt)**2)}case"triangle":return Math.sqrt(3)*_e*_e/4;case"wye":return(21-10*Math.sqrt(3))*_e*_e/8;default:return Math.PI*_e*_e/4}},registerSymbol=(_e,et)=>{symbolFactories["symbol".concat(upperFirst(_e))]=et},Symbols=_e=>{var{type:et="circle",size:rt=64,sizeType:nt="area"}=_e,st=_objectWithoutProperties$n(_e,_excluded$o),it=_objectSpread$I(_objectSpread$I({},st),{},{type:et,size:rt,sizeType:nt}),at="circle";typeof et=="string"&&(at=et);var ot=()=>{var pt=getSymbolFactory(at),mt=Symbol$1().type(pt).size(calculateAreaSize(rt,nt,at)),xt=mt();if(xt!==null)return xt},{className:lt,cx:ct,cy:ut}=it,dt=svgPropertiesAndEvents(it);return isNumber$1(ct)&&isNumber$1(ut)&&isNumber$1(rt)?reactExports.createElement("path",_extends$s({},dt,{className:clsx("recharts-symbols",lt),transform:"translate(".concat(ct,", ").concat(ut,")"),d:ot()})):null};Symbols.registerSymbol=registerSymbol;var isPolarCoordinate=_e=>"radius"in _e&&"startAngle"in _e&&"endAngle"in _e,adaptEventHandlers=(_e,et)=>{if(!_e||typeof _e=="function"||typeof _e=="boolean")return null;var rt=_e;if(reactExports.isValidElement(_e)&&(rt=_e.props),typeof rt!="object"&&typeof rt!="function")return null;var nt={};return Object.keys(rt).forEach(st=>{isEventKey(st)&&(nt[st]=it=>rt[st](rt,it))}),nt},getEventHandlerOfChild=(_e,et,rt)=>nt=>(_e(et,rt,nt),null),adaptEventsOfChild=(_e,et,rt)=>{if(_e===null||typeof _e!="object"&&typeof _e!="function")return null;var nt=null;return Object.keys(_e).forEach(st=>{var it=_e[st];isEventKey(st)&&typeof it=="function"&&(nt||(nt={}),nt[st]=getEventHandlerOfChild(it,et,rt))}),nt};function ownKeys$I(_e,et){var rt=Object.keys(_e);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);et&&(nt=nt.filter(function(st){return Object.getOwnPropertyDescriptor(_e,st).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$H(_e){for(var et=1;et<arguments.length;et++){var rt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$I(Object(rt),!0).forEach(function(nt){_defineProperty$K(_e,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(rt)):ownKeys$I(Object(rt)).forEach(function(nt){Object.defineProperty(_e,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return _e}function _defineProperty$K(_e,et,rt){return(et=_toPropertyKey$K(et))in _e?Object.defineProperty(_e,et,{value:rt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=rt,_e}function _toPropertyKey$K(_e){var et=_toPrimitive$K(_e,"string");return typeof et=="symbol"?et:et+""}function _toPrimitive$K(_e,et){if(typeof _e!="object"||!_e)return _e;var rt=_e[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(_e,et);if(typeof nt!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(_e)}function resolveDefaultProps(_e,et){var rt=_objectSpread$H({},_e),nt=et,st=Object.keys(et),it=st.reduce((at,ot)=>(at[ot]===void 0&&nt[ot]!==void 0&&(at[ot]=nt[ot]),at),rt);return it}function _extends$r(){return _extends$r=Object.assign?Object.assign.bind():function(_e){for(var et=1;et<arguments.length;et++){var rt=arguments[et];for(var nt in rt)({}).hasOwnProperty.call(rt,nt)&&(_e[nt]=rt[nt])}return _e},_extends$r.apply(null,arguments)}function ownKeys$H(_e,et){var rt=Object.keys(_e);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);et&&(nt=nt.filter(function(st){return Object.getOwnPropertyDescriptor(_e,st).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$G(_e){for(var et=1;et<arguments.length;et++){var rt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$H(Object(rt),!0).forEach(function(nt){_defineProperty$J(_e,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(rt)):ownKeys$H(Object(rt)).forEach(function(nt){Object.defineProperty(_e,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return _e}function _defineProperty$J(_e,et,rt){return(et=_toPropertyKey$J(et))in _e?Object.defineProperty(_e,et,{value:rt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=rt,_e}function _toPropertyKey$J(_e){var et=_toPrimitive$J(_e,"string");return typeof et=="symbol"?et:et+""}function _toPrimitive$J(_e,et){if(typeof _e!="object"||!_e)return _e;var rt=_e[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(_e,et);if(typeof nt!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(_e)}var SIZE=32,defaultLegendContentDefaultProps={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function Icon(_e){var{data:et,iconType:rt,inactiveColor:nt}=_e,st=SIZE/2,it=SIZE/6,at=SIZE/3,ot=et.inactive?nt:et.color,lt=rt??et.type;if(lt==="none")return null;if(lt==="plainline"){var ct;return reactExports.createElement("line",{strokeWidth:4,fill:"none",stroke:ot,strokeDasharray:(ct=et.payload)===null||ct===void 0?void 0:ct.strokeDasharray,x1:0,y1:st,x2:SIZE,y2:st,className:"recharts-legend-icon"})}if(lt==="line")return reactExports.createElement("path",{strokeWidth:4,fill:"none",stroke:ot,d:"M0,".concat(st,"h").concat(at,`
            A`).concat(it,",").concat(it,",0,1,1,").concat(2*at,",").concat(st,`
            H`).concat(SIZE,"M").concat(2*at,",").concat(st,`
            A`).concat(it,",").concat(it,",0,1,1,").concat(at,",").concat(st),className:"recharts-legend-icon"});if(lt==="rect")return reactExports.createElement("path",{stroke:"none",fill:ot,d:"M0,".concat(SIZE/8,"h").concat(SIZE,"v").concat(SIZE*3/4,"h").concat(-SIZE,"z"),className:"recharts-legend-icon"});if(reactExports.isValidElement(et.legendIcon)){var ut=_objectSpread$G({},et);return delete ut.legendIcon,reactExports.cloneElement(et.legendIcon,ut)}return reactExports.createElement(Symbols,{fill:ot,cx:st,cy:st,size:SIZE,sizeType:"diameter",type:lt})}function Items(_e){var{payload:et,iconSize:rt,layout:nt,formatter:st,inactiveColor:it,iconType:at}=_e,ot={x:0,y:0,width:SIZE,height:SIZE},lt={display:nt==="horizontal"?"inline-block":"block",marginRight:10},ct={display:"inline-block",verticalAlign:"middle",marginRight:4};return et.map((ut,dt)=>{var pt=ut.formatter||st,mt=clsx({"recharts-legend-item":!0,["legend-item-".concat(dt)]:!0,inactive:ut.inactive});if(ut.type==="none")return null;var xt=ut.inactive?it:ut.color,yt=pt?pt(ut.value,ut,dt):ut.value;return reactExports.createElement("li",_extends$r({className:mt,style:lt,key:"legend-item-".concat(dt)},adaptEventsOfChild(_e,ut,dt)),reactExports.createElement(Surface,{width:rt,height:rt,viewBox:ot,style:ct,"aria-label":"".concat(yt," legend icon")},reactExports.createElement(Icon,{data:ut,iconType:at,inactiveColor:it})),reactExports.createElement("span",{className:"recharts-legend-item-text",style:{color:xt}},yt))})}var DefaultLegendContent=_e=>{var et=resolveDefaultProps(_e,defaultLegendContentDefaultProps),{payload:rt,layout:nt,align:st}=et;if(!rt||!rt.length)return null;var it={padding:0,margin:0,textAlign:nt==="horizontal"?st:"left"};return reactExports.createElement("ul",{className:"recharts-default-legend",style:it},reactExports.createElement(Items,_extends$r({},et,{payload:rt})))},uniqBy$3={},uniqBy$2={};(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});function et(rt,nt){const st=new Map;for(let it=0;it<rt.length;it++){const at=rt[it],ot=nt(at,it,rt);st.has(ot)||st.set(ot,at)}return Array.from(st.values())}_e.uniqBy=et})(uniqBy$2);var ary={};(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});function et(rt,nt){return function(...st){return rt.apply(this,st.slice(0,nt))}}_e.ary=et})(ary);var identity$3={};(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});function et(rt){return rt}_e.identity=et})(identity$3);var isArrayLikeObject={},isArrayLike={},isLength={};(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});function et(rt){return Number.isSafeInteger(rt)&&rt>=0}_e.isLength=et})(isLength);(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});const et=isLength;function rt(nt){return nt!=null&&typeof nt!="function"&&et.isLength(nt.length)}_e.isArrayLike=rt})(isArrayLike);var isObjectLike={};(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});function et(rt){return typeof rt=="object"&&rt!==null}_e.isObjectLike=et})(isObjectLike);(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});const et=isArrayLike,rt=isObjectLike;function nt(st){return rt.isObjectLike(st)&&et.isArrayLike(st)}_e.isArrayLikeObject=nt})(isArrayLikeObject);var iteratee={},property={};(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});const et=get$4;function rt(nt){return function(st){return et.get(st,nt)}}_e.property=rt})(property);var matches$1={},isMatch={},isMatchWith={},isObject$1={};(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});function et(rt){return rt!==null&&(typeof rt=="object"||typeof rt=="function")}_e.isObject=et})(isObject$1);var isPrimitive$1={};(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});function et(rt){return rt==null||typeof rt!="object"&&typeof rt!="function"}_e.isPrimitive=et})(isPrimitive$1);var isEqualsSameValueZero={};(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});function et(rt,nt){return rt===nt||Number.isNaN(rt)&&Number.isNaN(nt)}_e.isEqualsSameValueZero=et})(isEqualsSameValueZero);(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});const et=isObject$1,rt=isPrimitive$1,nt=isEqualsSameValueZero;function st(ut,dt,pt){return typeof pt!="function"?st(ut,dt,()=>{}):it(ut,dt,function mt(xt,yt,vt,gt,Et,jt){const kt=pt(xt,yt,vt,gt,Et,jt);return kt!==void 0?!!kt:it(xt,yt,mt,jt)},new Map)}function it(ut,dt,pt,mt){if(dt===ut)return!0;switch(typeof dt){case"object":return at(ut,dt,pt,mt);case"function":return Object.keys(dt).length>0?it(ut,{...dt},pt,mt):nt.isEqualsSameValueZero(ut,dt);default:return et.isObject(ut)?typeof dt=="string"?dt==="":!0:nt.isEqualsSameValueZero(ut,dt)}}function at(ut,dt,pt,mt){if(dt==null)return!0;if(Array.isArray(dt))return lt(ut,dt,pt,mt);if(dt instanceof Map)return ot(ut,dt,pt,mt);if(dt instanceof Set)return ct(ut,dt,pt,mt);const xt=Object.keys(dt);if(ut==null||rt.isPrimitive(ut))return xt.length===0;if(xt.length===0)return!0;if(mt!=null&&mt.has(dt))return mt.get(dt)===ut;mt==null||mt.set(dt,ut);try{for(let yt=0;yt<xt.length;yt++){const vt=xt[yt];if(!rt.isPrimitive(ut)&&!(vt in ut)||dt[vt]===void 0&&ut[vt]!==void 0||dt[vt]===null&&ut[vt]!==null||!pt(ut[vt],dt[vt],vt,ut,dt,mt))return!1}return!0}finally{mt==null||mt.delete(dt)}}function ot(ut,dt,pt,mt){if(dt.size===0)return!0;if(!(ut instanceof Map))return!1;for(const[xt,yt]of dt.entries()){const vt=ut.get(xt);if(pt(vt,yt,xt,ut,dt,mt)===!1)return!1}return!0}function lt(ut,dt,pt,mt){if(dt.length===0)return!0;if(!Array.isArray(ut))return!1;const xt=new Set;for(let yt=0;yt<dt.length;yt++){const vt=dt[yt];let gt=!1;for(let Et=0;Et<ut.length;Et++){if(xt.has(Et))continue;const jt=ut[Et];let kt=!1;if(pt(jt,vt,yt,ut,dt,mt)&&(kt=!0),kt){xt.add(Et),gt=!0;break}}if(!gt)return!1}return!0}function ct(ut,dt,pt,mt){return dt.size===0?!0:ut instanceof Set?lt([...ut],[...dt],pt,mt):!1}_e.isMatchWith=st,_e.isSetMatch=ct})(isMatchWith);(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});const et=isMatchWith;function rt(nt,st){return et.isMatchWith(nt,st,()=>{})}_e.isMatch=rt})(isMatch);var cloneDeep$1={},cloneDeepWith$1={},getSymbols={};(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});function et(rt){return Object.getOwnPropertySymbols(rt).filter(nt=>Object.prototype.propertyIsEnumerable.call(rt,nt))}_e.getSymbols=et})(getSymbols);var getTag={};(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});function et(rt){return rt==null?rt===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(rt)}_e.getTag=et})(getTag);var tags={};(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});const et="[object RegExp]",rt="[object String]",nt="[object Number]",st="[object Boolean]",it="[object Arguments]",at="[object Symbol]",ot="[object Date]",lt="[object Map]",ct="[object Set]",ut="[object Array]",dt="[object Function]",pt="[object ArrayBuffer]",mt="[object Object]",xt="[object Error]",yt="[object DataView]",vt="[object Uint8Array]",gt="[object Uint8ClampedArray]",Et="[object Uint16Array]",jt="[object Uint32Array]",kt="[object BigUint64Array]",Rt="[object Int8Array]",St="[object Int16Array]",_t="[object Int32Array]",Nt="[object BigInt64Array]",Lt="[object Float32Array]",$t="[object Float64Array]";_e.argumentsTag=it,_e.arrayBufferTag=pt,_e.arrayTag=ut,_e.bigInt64ArrayTag=Nt,_e.bigUint64ArrayTag=kt,_e.booleanTag=st,_e.dataViewTag=yt,_e.dateTag=ot,_e.errorTag=xt,_e.float32ArrayTag=Lt,_e.float64ArrayTag=$t,_e.functionTag=dt,_e.int16ArrayTag=St,_e.int32ArrayTag=_t,_e.int8ArrayTag=Rt,_e.mapTag=lt,_e.numberTag=nt,_e.objectTag=mt,_e.regexpTag=et,_e.setTag=ct,_e.stringTag=rt,_e.symbolTag=at,_e.uint16ArrayTag=Et,_e.uint32ArrayTag=jt,_e.uint8ArrayTag=vt,_e.uint8ClampedArrayTag=gt})(tags);var isTypedArray={};(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});function et(rt){return ArrayBuffer.isView(rt)&&!(rt instanceof DataView)}_e.isTypedArray=et})(isTypedArray);(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});const et=getSymbols,rt=getTag,nt=tags,st=isPrimitive$1,it=isTypedArray;function at(ut,dt){return ot(ut,void 0,ut,new Map,dt)}function ot(ut,dt,pt,mt=new Map,xt=void 0){const yt=xt==null?void 0:xt(ut,dt,pt,mt);if(yt!==void 0)return yt;if(st.isPrimitive(ut))return ut;if(mt.has(ut))return mt.get(ut);if(Array.isArray(ut)){const vt=new Array(ut.length);mt.set(ut,vt);for(let gt=0;gt<ut.length;gt++)vt[gt]=ot(ut[gt],gt,pt,mt,xt);return Object.hasOwn(ut,"index")&&(vt.index=ut.index),Object.hasOwn(ut,"input")&&(vt.input=ut.input),vt}if(ut instanceof Date)return new Date(ut.getTime());if(ut instanceof RegExp){const vt=new RegExp(ut.source,ut.flags);return vt.lastIndex=ut.lastIndex,vt}if(ut instanceof Map){const vt=new Map;mt.set(ut,vt);for(const[gt,Et]of ut)vt.set(gt,ot(Et,gt,pt,mt,xt));return vt}if(ut instanceof Set){const vt=new Set;mt.set(ut,vt);for(const gt of ut)vt.add(ot(gt,void 0,pt,mt,xt));return vt}if(typeof Buffer<"u"&&Buffer.isBuffer(ut))return ut.subarray();if(it.isTypedArray(ut)){const vt=new(Object.getPrototypeOf(ut)).constructor(ut.length);mt.set(ut,vt);for(let gt=0;gt<ut.length;gt++)vt[gt]=ot(ut[gt],gt,pt,mt,xt);return vt}if(ut instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&ut instanceof SharedArrayBuffer)return ut.slice(0);if(ut instanceof DataView){const vt=new DataView(ut.buffer.slice(0),ut.byteOffset,ut.byteLength);return mt.set(ut,vt),lt(vt,ut,pt,mt,xt),vt}if(typeof File<"u"&&ut instanceof File){const vt=new File([ut],ut.name,{type:ut.type});return mt.set(ut,vt),lt(vt,ut,pt,mt,xt),vt}if(typeof Blob<"u"&&ut instanceof Blob){const vt=new Blob([ut],{type:ut.type});return mt.set(ut,vt),lt(vt,ut,pt,mt,xt),vt}if(ut instanceof Error){const vt=new ut.constructor;return mt.set(ut,vt),vt.message=ut.message,vt.name=ut.name,vt.stack=ut.stack,vt.cause=ut.cause,lt(vt,ut,pt,mt,xt),vt}if(ut instanceof Boolean){const vt=new Boolean(ut.valueOf());return mt.set(ut,vt),lt(vt,ut,pt,mt,xt),vt}if(ut instanceof Number){const vt=new Number(ut.valueOf());return mt.set(ut,vt),lt(vt,ut,pt,mt,xt),vt}if(ut instanceof String){const vt=new String(ut.valueOf());return mt.set(ut,vt),lt(vt,ut,pt,mt,xt),vt}if(typeof ut=="object"&&ct(ut)){const vt=Object.create(Object.getPrototypeOf(ut));return mt.set(ut,vt),lt(vt,ut,pt,mt,xt),vt}return ut}function lt(ut,dt,pt=ut,mt,xt){const yt=[...Object.keys(dt),...et.getSymbols(dt)];for(let vt=0;vt<yt.length;vt++){const gt=yt[vt],Et=Object.getOwnPropertyDescriptor(ut,gt);(Et==null||Et.writable)&&(ut[gt]=ot(dt[gt],gt,pt,mt,xt))}}function ct(ut){switch(rt.getTag(ut)){case nt.argumentsTag:case nt.arrayTag:case nt.arrayBufferTag:case nt.dataViewTag:case nt.booleanTag:case nt.dateTag:case nt.float32ArrayTag:case nt.float64ArrayTag:case nt.int8ArrayTag:case nt.int16ArrayTag:case nt.int32ArrayTag:case nt.mapTag:case nt.numberTag:case nt.objectTag:case nt.regexpTag:case nt.setTag:case nt.stringTag:case nt.symbolTag:case nt.uint8ArrayTag:case nt.uint8ClampedArrayTag:case nt.uint16ArrayTag:case nt.uint32ArrayTag:return!0;default:return!1}}_e.cloneDeepWith=at,_e.cloneDeepWithImpl=ot,_e.copyProperties=lt})(cloneDeepWith$1);(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});const et=cloneDeepWith$1;function rt(nt){return et.cloneDeepWithImpl(nt,void 0,nt,new Map,void 0)}_e.cloneDeep=rt})(cloneDeep$1);(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});const et=isMatch,rt=cloneDeep$1;function nt(st){return st=rt.cloneDeep(st),it=>et.isMatch(it,st)}_e.matches=nt})(matches$1);var matchesProperty={},cloneDeep={},cloneDeepWith={};(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});const et=cloneDeepWith$1,rt=getTag,nt=tags;function st(it,at){return et.cloneDeepWith(it,(ot,lt,ct,ut)=>{const dt=at==null?void 0:at(ot,lt,ct,ut);if(dt!==void 0)return dt;if(typeof it=="object"){if(rt.getTag(it)===nt.objectTag&&typeof it.constructor!="function"){const pt={};return ut.set(it,pt),et.copyProperties(pt,it,ct,ut),pt}switch(Object.prototype.toString.call(it)){case nt.numberTag:case nt.stringTag:case nt.booleanTag:{const pt=new it.constructor(it==null?void 0:it.valueOf());return et.copyProperties(pt,it),pt}case nt.argumentsTag:{const pt={};return et.copyProperties(pt,it),pt.length=it.length,pt[Symbol.iterator]=it[Symbol.iterator],pt}default:return}}})}_e.cloneDeepWith=st})(cloneDeepWith);(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});const et=cloneDeepWith;function rt(nt){return et.cloneDeepWith(nt)}_e.cloneDeep=rt})(cloneDeep);var has$2={},isIndex={};(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});const et=/^(?:0|[1-9]\d*)$/;function rt(nt,st=Number.MAX_SAFE_INTEGER){switch(typeof nt){case"number":return Number.isInteger(nt)&&nt>=0&&nt<st;case"symbol":return!1;case"string":return et.test(nt)}}_e.isIndex=rt})(isIndex);var isArguments={};(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});const et=getTag;function rt(nt){return nt!==null&&typeof nt=="object"&&et.getTag(nt)==="[object Arguments]"}_e.isArguments=rt})(isArguments);(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});const et=isDeepKey,rt=isIndex,nt=isArguments,st=toPath;function it(at,ot){let lt;if(Array.isArray(ot)?lt=ot:typeof ot=="string"&&et.isDeepKey(ot)&&(at==null?void 0:at[ot])==null?lt=st.toPath(ot):lt=[ot],lt.length===0)return!1;let ct=at;for(let ut=0;ut<lt.length;ut++){const dt=lt[ut];if((ct==null||!Object.hasOwn(ct,dt))&&!((Array.isArray(ct)||nt.isArguments(ct))&&rt.isIndex(dt)&&dt<ct.length))return!1;ct=ct[dt]}return!0}_e.has=it})(has$2);(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});const et=isMatch,rt=toKey,nt=cloneDeep,st=get$4,it=has$2;function at(ot,lt){switch(typeof ot){case"object":{Object.is(ot==null?void 0:ot.valueOf(),-0)&&(ot="-0");break}case"number":{ot=rt.toKey(ot);break}}return lt=nt.cloneDeep(lt),function(ct){const ut=st.get(ct,ot);return ut===void 0?it.has(ct,ot):lt===void 0?ut===void 0:et.isMatch(ut,lt)}}_e.matchesProperty=at})(matchesProperty);(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});const et=identity$3,rt=property,nt=matches$1,st=matchesProperty;function it(at){if(at==null)return et.identity;switch(typeof at){case"function":return at;case"object":return Array.isArray(at)&&at.length===2?st.matchesProperty(at[0],at[1]):nt.matches(at);case"string":case"symbol":case"number":return rt.property(at)}}_e.iteratee=it})(iteratee);(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});const et=uniqBy$2,rt=ary,nt=identity$3,st=isArrayLikeObject,it=iteratee;function at(ot,lt=nt.identity){return st.isArrayLikeObject(ot)?et.uniqBy(Array.from(ot),rt.ary(it.iteratee(lt),1)):[]}_e.uniqBy=at})(uniqBy$3);var uniqBy=uniqBy$3.uniqBy;const uniqBy$1=getDefaultExportFromCjs(uniqBy);function getUniqPayload(_e,et,rt){return et===!0?uniqBy$1(_e,rt):typeof et=="function"?uniqBy$1(_e,et):_e}var withSelector$1={exports:{}},withSelector_production={},shim$2={exports:{}},useSyncExternalStoreShim_production={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var React$2=reactExports;function is$5(_e,et){return _e===et&&(_e!==0||1/_e===1/et)||_e!==_e&&et!==et}var objectIs$2=typeof Object.is=="function"?Object.is:is$5,useState=React$2.useState,useEffect$2=React$2.useEffect,useLayoutEffect=React$2.useLayoutEffect,useDebugValue$2=React$2.useDebugValue;function useSyncExternalStore$2(_e,et){var rt=et(),nt=useState({inst:{value:rt,getSnapshot:et}}),st=nt[0].inst,it=nt[1];return useLayoutEffect(function(){st.value=rt,st.getSnapshot=et,checkIfSnapshotChanged(st)&&it({inst:st})},[_e,rt,et]),useEffect$2(function(){return checkIfSnapshotChanged(st)&&it({inst:st}),_e(function(){checkIfSnapshotChanged(st)&&it({inst:st})})},[_e]),useDebugValue$2(rt),rt}function checkIfSnapshotChanged(_e){var et=_e.getSnapshot;_e=_e.value;try{var rt=et();return!objectIs$2(_e,rt)}catch{return!0}}function useSyncExternalStore$1$1(_e,et){return et()}var shim$1=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?useSyncExternalStore$1$1:useSyncExternalStore$2;useSyncExternalStoreShim_production.useSyncExternalStore=React$2.useSyncExternalStore!==void 0?React$2.useSyncExternalStore:shim$1;shim$2.exports=useSyncExternalStoreShim_production;var shimExports=shim$2.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var React$1=reactExports,shim=shimExports;function is$4(_e,et){return _e===et&&(_e!==0||1/_e===1/et)||_e!==_e&&et!==et}var objectIs$1=typeof Object.is=="function"?Object.is:is$4,useSyncExternalStore$1=shim.useSyncExternalStore,useRef$1=React$1.useRef,useEffect$1=React$1.useEffect,useMemo$1=React$1.useMemo,useDebugValue$1=React$1.useDebugValue;withSelector_production.useSyncExternalStoreWithSelector=function(_e,et,rt,nt,st){var it=useRef$1(null);if(it.current===null){var at={hasValue:!1,value:null};it.current=at}else at=it.current;it=useMemo$1(function(){function lt(mt){if(!ct){if(ct=!0,ut=mt,mt=nt(mt),st!==void 0&&at.hasValue){var xt=at.value;if(st(xt,mt))return dt=xt}return dt=mt}if(xt=dt,objectIs$1(ut,mt))return xt;var yt=nt(mt);return st!==void 0&&st(xt,yt)?(ut=mt,xt):(ut=mt,dt=yt)}var ct=!1,ut,dt,pt=rt===void 0?null:rt;return[function(){return lt(et())},pt===null?void 0:function(){return lt(pt())}]},[et,rt,nt,st]);var ot=useSyncExternalStore$1(_e,it[0],it[1]);return useEffect$1(function(){at.hasValue=!0,at.value=ot},[ot]),useDebugValue$1(ot),ot};withSelector$1.exports=withSelector_production;var withSelectorExports$1=withSelector$1.exports,RechartsReduxContext=reactExports.createContext(null),noopDispatch=_e=>_e,useAppDispatch=()=>{var _e=reactExports.useContext(RechartsReduxContext);return _e?_e.store.dispatch:noopDispatch},noop$2=()=>{},addNestedSubNoop=()=>noop$2,refEquality=(_e,et)=>_e===et;function useAppSelector(_e){var et=reactExports.useContext(RechartsReduxContext),rt=reactExports.useMemo(()=>et?nt=>{if(nt!=null)return _e(nt)}:noop$2,[et,_e]);return withSelectorExports$1.useSyncExternalStoreWithSelector(et?et.subscription.addNestedSub:addNestedSubNoop,et?et.store.getState:noop$2,et?et.store.getState:noop$2,rt,refEquality)}function assertIsFunction(_e,et=`expected a function, instead received ${typeof _e}`){if(typeof _e!="function")throw new TypeError(et)}function assertIsObject(_e,et=`expected an object, instead received ${typeof _e}`){if(typeof _e!="object")throw new TypeError(et)}function assertIsArrayOfFunctions(_e,et="expected all items to be functions, instead received the following types: "){if(!_e.every(rt=>typeof rt=="function")){const rt=_e.map(nt=>typeof nt=="function"?`function ${nt.name||"unnamed"}()`:typeof nt).join(", ");throw new TypeError(`${et}[${rt}]`)}}var ensureIsArray=_e=>Array.isArray(_e)?_e:[_e];function getDependencies(_e){const et=Array.isArray(_e[0])?_e[0]:_e;return assertIsArrayOfFunctions(et,"createSelector expects all input-selectors to be functions, but received the following types: "),et}function collectInputSelectorResults(_e,et){const rt=[],{length:nt}=_e;for(let st=0;st<nt;st++)rt.push(_e[st].apply(null,et));return rt}var StrongRef=class{constructor(_e){this.value=_e}deref(){return this.value}},Ref=typeof WeakRef<"u"?WeakRef:StrongRef,UNTERMINATED=0,TERMINATED=1;function createCacheNode(){return{s:UNTERMINATED,v:void 0,o:null,p:null}}function weakMapMemoize(_e,et={}){let rt=createCacheNode();const{resultEqualityCheck:nt}=et;let st,it=0;function at(){var dt;let ot=rt;const{length:lt}=arguments;for(let pt=0,mt=lt;pt<mt;pt++){const xt=arguments[pt];if(typeof xt=="function"||typeof xt=="object"&&xt!==null){let yt=ot.o;yt===null&&(ot.o=yt=new WeakMap);const vt=yt.get(xt);vt===void 0?(ot=createCacheNode(),yt.set(xt,ot)):ot=vt}else{let yt=ot.p;yt===null&&(ot.p=yt=new Map);const vt=yt.get(xt);vt===void 0?(ot=createCacheNode(),yt.set(xt,ot)):ot=vt}}const ct=ot;let ut;if(ot.s===TERMINATED)ut=ot.v;else if(ut=_e.apply(null,arguments),it++,nt){const pt=((dt=st==null?void 0:st.deref)==null?void 0:dt.call(st))??st;pt!=null&&nt(pt,ut)&&(ut=pt,it!==0&&it--),st=typeof ut=="object"&&ut!==null||typeof ut=="function"?new Ref(ut):ut}return ct.s=TERMINATED,ct.v=ut,ut}return at.clearCache=()=>{rt=createCacheNode(),at.resetResultsCount()},at.resultsCount=()=>it,at.resetResultsCount=()=>{it=0},at}function createSelectorCreator(_e,...et){const rt=typeof _e=="function"?{memoize:_e,memoizeOptions:et}:_e,nt=(...st)=>{let it=0,at=0,ot,lt={},ct=st.pop();typeof ct=="object"&&(lt=ct,ct=st.pop()),assertIsFunction(ct,`createSelector expects an output function after the inputs, but received: [${typeof ct}]`);const ut={...rt,...lt},{memoize:dt,memoizeOptions:pt=[],argsMemoize:mt=weakMapMemoize,argsMemoizeOptions:xt=[]}=ut,yt=ensureIsArray(pt),vt=ensureIsArray(xt),gt=getDependencies(st),Et=dt(function(){return it++,ct.apply(null,arguments)},...yt),jt=mt(function(){at++;const Rt=collectInputSelectorResults(gt,arguments);return ot=Et.apply(null,Rt),ot},...vt);return Object.assign(jt,{resultFunc:ct,memoizedResultFunc:Et,dependencies:gt,dependencyRecomputations:()=>at,resetDependencyRecomputations:()=>{at=0},lastResult:()=>ot,recomputations:()=>it,resetRecomputations:()=>{it=0},memoize:dt,argsMemoize:mt})};return Object.assign(nt,{withTypes:()=>nt}),nt}var createSelector=createSelectorCreator(weakMapMemoize),createStructuredSelector=Object.assign((_e,et=createSelector)=>{assertIsObject(_e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof _e}`);const rt=Object.keys(_e),nt=rt.map(it=>_e[it]);return et(nt,(...it)=>it.reduce((at,ot,lt)=>(at[rt[lt]]=ot,at),{}))},{withTypes:()=>createStructuredSelector}),sortBy$2={},orderBy={},compareValues={};(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});function et(nt){return typeof nt=="symbol"?1:nt===null?2:nt===void 0?3:nt!==nt?4:0}const rt=(nt,st,it)=>{if(nt!==st){const at=et(nt),ot=et(st);if(at===ot&&at===0){if(nt<st)return it==="desc"?1:-1;if(nt>st)return it==="desc"?-1:1}return it==="desc"?ot-at:at-ot}return 0};_e.compareValues=rt})(compareValues);var isKey$1={},isSymbol={};(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});function et(rt){return typeof rt=="symbol"||rt instanceof Symbol}_e.isSymbol=et})(isSymbol);(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});const et=isSymbol,rt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,nt=/^\w*$/;function st(it,at){return Array.isArray(it)?!1:typeof it=="number"||typeof it=="boolean"||it==null||et.isSymbol(it)?!0:typeof it=="string"&&(nt.test(it)||!rt.test(it))||at!=null&&Object.hasOwn(at,it)}_e.isKey=st})(isKey$1);(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});const et=compareValues,rt=isKey$1,nt=toPath;function st(it,at,ot,lt){if(it==null)return[];ot=lt?void 0:ot,Array.isArray(it)||(it=Object.values(it)),Array.isArray(at)||(at=at==null?[null]:[at]),at.length===0&&(at=[null]),Array.isArray(ot)||(ot=ot==null?[]:[ot]),ot=ot.map(mt=>String(mt));const ct=(mt,xt)=>{let yt=mt;for(let vt=0;vt<xt.length&&yt!=null;++vt)yt=yt[xt[vt]];return yt},ut=(mt,xt)=>xt==null||mt==null?xt:typeof mt=="object"&&"key"in mt?Object.hasOwn(xt,mt.key)?xt[mt.key]:ct(xt,mt.path):typeof mt=="function"?mt(xt):Array.isArray(mt)?ct(xt,mt):typeof xt=="object"?xt[mt]:xt,dt=at.map(mt=>(Array.isArray(mt)&&mt.length===1&&(mt=mt[0]),mt==null||typeof mt=="function"||Array.isArray(mt)||rt.isKey(mt)?mt:{key:mt,path:nt.toPath(mt)}));return it.map(mt=>({original:mt,criteria:dt.map(xt=>ut(xt,mt))})).slice().sort((mt,xt)=>{for(let yt=0;yt<dt.length;yt++){const vt=et.compareValues(mt.criteria[yt],xt.criteria[yt],ot[yt]);if(vt!==0)return vt}return 0}).map(mt=>mt.original)}_e.orderBy=st})(orderBy);var flatten={};(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});function et(rt,nt=1){const st=[],it=Math.floor(nt),at=(ot,lt)=>{for(let ct=0;ct<ot.length;ct++){const ut=ot[ct];Array.isArray(ut)&&lt<it?at(ut,lt+1):st.push(ut)}};return at(rt,0),st}_e.flatten=et})(flatten);var isIterateeCall={};(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});const et=isIndex,rt=isArrayLike,nt=isObject$1,st=isEqualsSameValueZero;function it(at,ot,lt){return nt.isObject(lt)&&(typeof ot=="number"&&rt.isArrayLike(lt)&&et.isIndex(ot)&&ot<lt.length||typeof ot=="string"&&ot in lt)?st.isEqualsSameValueZero(lt[ot],at):!1}_e.isIterateeCall=it})(isIterateeCall);(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});const et=orderBy,rt=flatten,nt=isIterateeCall;function st(it,...at){const ot=at.length;return ot>1&&nt.isIterateeCall(it,at[0],at[1])?at=[]:ot>2&&nt.isIterateeCall(at[0],at[1],at[2])&&(at=[at[0]]),et.orderBy(it,rt.flatten(at),["asc"])}_e.sortBy=st})(sortBy$2);var sortBy=sortBy$2.sortBy;const sortBy$1=getDefaultExportFromCjs(sortBy);var selectLegendSettings=_e=>_e.legend.settings,selectLegendSize=_e=>_e.legend.size,selectAllLegendPayload2DArray=_e=>_e.legend.payload,selectLegendPayload=createSelector([selectAllLegendPayload2DArray,selectLegendSettings],(_e,et)=>{var{itemSorter:rt}=et,nt=_e.flat(1);return rt?sortBy$1(nt,rt):nt});function useLegendPayload(){return useAppSelector(selectLegendPayload)}var EPS=1;function useElementOffset(){var _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[et,rt]=reactExports.useState({height:0,left:0,top:0,width:0}),nt=reactExports.useCallback(st=>{if(st!=null){var it=st.getBoundingClientRect(),at={height:it.height,left:it.left,top:it.top,width:it.width};(Math.abs(at.height-et.height)>EPS||Math.abs(at.left-et.left)>EPS||Math.abs(at.top-et.top)>EPS||Math.abs(at.width-et.width)>EPS)&&rt({height:at.height,left:at.left,top:at.top,width:at.width})}},[et.width,et.height,et.top,et.left,..._e]);return[et,nt]}function formatProdErrorMessage$1(_e){return`Minified Redux error #${_e}; visit https://redux.js.org/Errors?code=${_e} for the full message or use the non-minified dev environment for full errors. `}var $$observable=typeof Symbol=="function"&&Symbol.observable||"@@observable",symbol_observable_default=$$observable,randomString=()=>Math.random().toString(36).substring(7).split("").join("."),ActionTypes={INIT:`@@redux/INIT${randomString()}`,REPLACE:`@@redux/REPLACE${randomString()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${randomString()}`},actionTypes_default=ActionTypes;function isPlainObject$7(_e){if(typeof _e!="object"||_e===null)return!1;let et=_e;for(;Object.getPrototypeOf(et)!==null;)et=Object.getPrototypeOf(et);return Object.getPrototypeOf(_e)===et||Object.getPrototypeOf(_e)===null}function createStore(_e,et,rt){if(typeof _e!="function")throw new Error(formatProdErrorMessage$1(2));if(typeof et=="function"&&typeof rt=="function"||typeof rt=="function"&&typeof arguments[3]=="function")throw new Error(formatProdErrorMessage$1(0));if(typeof et=="function"&&typeof rt>"u"&&(rt=et,et=void 0),typeof rt<"u"){if(typeof rt!="function")throw new Error(formatProdErrorMessage$1(1));return rt(createStore)(_e,et)}let nt=_e,st=et,it=new Map,at=it,ot=0,lt=!1;function ct(){at===it&&(at=new Map,it.forEach((vt,gt)=>{at.set(gt,vt)}))}function ut(){if(lt)throw new Error(formatProdErrorMessage$1(3));return st}function dt(vt){if(typeof vt!="function")throw new Error(formatProdErrorMessage$1(4));if(lt)throw new Error(formatProdErrorMessage$1(5));let gt=!0;ct();const Et=ot++;return at.set(Et,vt),function(){if(gt){if(lt)throw new Error(formatProdErrorMessage$1(6));gt=!1,ct(),at.delete(Et),it=null}}}function pt(vt){if(!isPlainObject$7(vt))throw new Error(formatProdErrorMessage$1(7));if(typeof vt.type>"u")throw new Error(formatProdErrorMessage$1(8));if(typeof vt.type!="string")throw new Error(formatProdErrorMessage$1(17));if(lt)throw new Error(formatProdErrorMessage$1(9));try{lt=!0,st=nt(st,vt)}finally{lt=!1}return(it=at).forEach(Et=>{Et()}),vt}function mt(vt){if(typeof vt!="function")throw new Error(formatProdErrorMessage$1(10));nt=vt,pt({type:actionTypes_default.REPLACE})}function xt(){const vt=dt;return{subscribe(gt){if(typeof gt!="object"||gt===null)throw new Error(formatProdErrorMessage$1(11));function Et(){const kt=gt;kt.next&&kt.next(ut())}return Et(),{unsubscribe:vt(Et)}},[symbol_observable_default](){return this}}}return pt({type:actionTypes_default.INIT}),{dispatch:pt,subscribe:dt,getState:ut,replaceReducer:mt,[symbol_observable_default]:xt}}function assertReducerShape(_e){Object.keys(_e).forEach(et=>{const rt=_e[et];if(typeof rt(void 0,{type:actionTypes_default.INIT})>"u")throw new Error(formatProdErrorMessage$1(12));if(typeof rt(void 0,{type:actionTypes_default.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(formatProdErrorMessage$1(13))})}function combineReducers(_e){const et=Object.keys(_e),rt={};for(let it=0;it<et.length;it++){const at=et[it];typeof _e[at]=="function"&&(rt[at]=_e[at])}const nt=Object.keys(rt);let st;try{assertReducerShape(rt)}catch(it){st=it}return function(at={},ot){if(st)throw st;let lt=!1;const ct={};for(let ut=0;ut<nt.length;ut++){const dt=nt[ut],pt=rt[dt],mt=at[dt],xt=pt(mt,ot);if(typeof xt>"u")throw ot&&ot.type,new Error(formatProdErrorMessage$1(14));ct[dt]=xt,lt=lt||xt!==mt}return lt=lt||nt.length!==Object.keys(at).length,lt?ct:at}}function compose(..._e){return _e.length===0?et=>et:_e.length===1?_e[0]:_e.reduce((et,rt)=>(...nt)=>et(rt(...nt)))}function applyMiddleware(..._e){return et=>(rt,nt)=>{const st=et(rt,nt);let it=()=>{throw new Error(formatProdErrorMessage$1(15))};const at={getState:st.getState,dispatch:(lt,...ct)=>it(lt,...ct)},ot=_e.map(lt=>lt(at));return it=compose(...ot)(st.dispatch),{...st,dispatch:it}}}function isAction(_e){return isPlainObject$7(_e)&&"type"in _e&&typeof _e.type=="string"}var NOTHING$1=Symbol.for("immer-nothing"),DRAFTABLE$1=Symbol.for("immer-draftable"),DRAFT_STATE$1=Symbol.for("immer-state");function die$1(_e,...et){throw new Error(`[Immer] minified error nr: ${_e}. Full error at: https://bit.ly/3cXEKWf`)}var O$2=Object,getPrototypeOf$1=O$2.getPrototypeOf,CONSTRUCTOR="constructor",PROTOTYPE="prototype",CONFIGURABLE="configurable",ENUMERABLE="enumerable",WRITABLE="writable",VALUE="value",isDraft$1=_e=>!!_e&&!!_e[DRAFT_STATE$1];function isDraftable$1(_e){var et;return _e?isPlainObject$6(_e)||isArray(_e)||!!_e[DRAFTABLE$1]||!!((et=_e[CONSTRUCTOR])!=null&&et[DRAFTABLE$1])||isMap$1(_e)||isSet$1(_e):!1}var objectCtorString$1=O$2[PROTOTYPE][CONSTRUCTOR].toString(),cachedCtorStrings$1=new WeakMap;function isPlainObject$6(_e){if(!_e||!isObjectish(_e))return!1;const et=getPrototypeOf$1(_e);if(et===null||et===O$2[PROTOTYPE])return!0;const rt=O$2.hasOwnProperty.call(et,CONSTRUCTOR)&&et[CONSTRUCTOR];if(rt===Object)return!0;if(!isFunction$2(rt))return!1;let nt=cachedCtorStrings$1.get(rt);return nt===void 0&&(nt=Function.toString.call(rt),cachedCtorStrings$1.set(rt,nt)),nt===objectCtorString$1}function each$1(_e,et,rt=!0){getArchtype$1(_e)===0?(rt?Reflect.ownKeys(_e):O$2.keys(_e)).forEach(st=>{et(st,_e[st],_e)}):_e.forEach((nt,st)=>et(st,nt,_e))}function getArchtype$1(_e){const et=_e[DRAFT_STATE$1];return et?et.type_:isArray(_e)?1:isMap$1(_e)?2:isSet$1(_e)?3:0}var has$1=(_e,et,rt=getArchtype$1(_e))=>rt===2?_e.has(et):O$2[PROTOTYPE].hasOwnProperty.call(_e,et),get$1=(_e,et,rt=getArchtype$1(_e))=>rt===2?_e.get(et):_e[et],set$2=(_e,et,rt,nt=getArchtype$1(_e))=>{nt===2?_e.set(et,rt):nt===3?_e.add(rt):_e[et]=rt};function is$3(_e,et){return _e===et?_e!==0||1/_e===1/et:_e!==_e&&et!==et}var isArray=Array.isArray,isMap$1=_e=>_e instanceof Map,isSet$1=_e=>_e instanceof Set,isObjectish=_e=>typeof _e=="object",isFunction$2=_e=>typeof _e=="function",isBoolean$2=_e=>typeof _e=="boolean";function isArrayIndex(_e){const et=+_e;return Number.isInteger(et)&&String(et)===_e}var latest$1=_e=>_e.copy_||_e.base_,getFinalValue=_e=>_e.modified_?_e.copy_:_e.base_;function shallowCopy$1(_e,et){if(isMap$1(_e))return new Map(_e);if(isSet$1(_e))return new Set(_e);if(isArray(_e))return Array[PROTOTYPE].slice.call(_e);const rt=isPlainObject$6(_e);if(et===!0||et==="class_only"&&!rt){const nt=O$2.getOwnPropertyDescriptors(_e);delete nt[DRAFT_STATE$1];let st=Reflect.ownKeys(nt);for(let it=0;it<st.length;it++){const at=st[it],ot=nt[at];ot[WRITABLE]===!1&&(ot[WRITABLE]=!0,ot[CONFIGURABLE]=!0),(ot.get||ot.set)&&(nt[at]={[CONFIGURABLE]:!0,[WRITABLE]:!0,[ENUMERABLE]:ot[ENUMERABLE],[VALUE]:_e[at]})}return O$2.create(getPrototypeOf$1(_e),nt)}else{const nt=getPrototypeOf$1(_e);if(nt!==null&&rt)return{..._e};const st=O$2.create(nt);return O$2.assign(st,_e)}}function freeze$1(_e,et=!1){return isFrozen$1(_e)||isDraft$1(_e)||!isDraftable$1(_e)||(getArchtype$1(_e)>1&&O$2.defineProperties(_e,{set:dontMutateMethodOverride$1,add:dontMutateMethodOverride$1,clear:dontMutateMethodOverride$1,delete:dontMutateMethodOverride$1}),O$2.freeze(_e),et&&each$1(_e,(rt,nt)=>{freeze$1(nt,!0)},!1)),_e}function dontMutateFrozenCollections$1(){die$1(2)}var dontMutateMethodOverride$1={[VALUE]:dontMutateFrozenCollections$1};function isFrozen$1(_e){return _e===null||!isObjectish(_e)?!0:O$2.isFrozen(_e)}var PluginMapSet="MapSet",PluginPatches="Patches",PluginArrayMethods="ArrayMethods",plugins$1={};function getPlugin$1(_e){const et=plugins$1[_e];return et||die$1(0,_e),et}var isPluginLoaded=_e=>!!plugins$1[_e],currentScope$1,getCurrentScope$1=()=>currentScope$1,createScope$1=(_e,et)=>({drafts_:[],parent_:_e,immer_:et,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:isPluginLoaded(PluginMapSet)?getPlugin$1(PluginMapSet):void 0,arrayMethodsPlugin_:isPluginLoaded(PluginArrayMethods)?getPlugin$1(PluginArrayMethods):void 0});function usePatchesInScope$1(_e,et){et&&(_e.patchPlugin_=getPlugin$1(PluginPatches),_e.patches_=[],_e.inversePatches_=[],_e.patchListener_=et)}function revokeScope$1(_e){leaveScope$1(_e),_e.drafts_.forEach(revokeDraft$1),_e.drafts_=null}function leaveScope$1(_e){_e===currentScope$1&&(currentScope$1=_e.parent_)}var enterScope$1=_e=>currentScope$1=createScope$1(currentScope$1,_e);function revokeDraft$1(_e){const et=_e[DRAFT_STATE$1];et.type_===0||et.type_===1?et.revoke_():et.revoked_=!0}function processResult$1(_e,et){et.unfinalizedDrafts_=et.drafts_.length;const rt=et.drafts_[0];if(_e!==void 0&&_e!==rt){rt[DRAFT_STATE$1].modified_&&(revokeScope$1(et),die$1(4)),isDraftable$1(_e)&&(_e=finalize$1(et,_e));const{patchPlugin_:st}=et;st&&st.generateReplacementPatches_(rt[DRAFT_STATE$1].base_,_e,et)}else _e=finalize$1(et,rt);return maybeFreeze$1(et,_e,!0),revokeScope$1(et),et.patches_&&et.patchListener_(et.patches_,et.inversePatches_),_e!==NOTHING$1?_e:void 0}function finalize$1(_e,et){if(isFrozen$1(et))return et;const rt=et[DRAFT_STATE$1];if(!rt)return handleValue(et,_e.handledSet_,_e);if(!isSameScope(rt,_e))return et;if(!rt.modified_)return rt.base_;if(!rt.finalized_){const{callbacks_:nt}=rt;if(nt)for(;nt.length>0;)nt.pop()(_e);generatePatchesAndFinalize(rt,_e)}return rt.copy_}function maybeFreeze$1(_e,et,rt=!1){!_e.parent_&&_e.immer_.autoFreeze_&&_e.canAutoFreeze_&&freeze$1(et,rt)}function markStateFinalized(_e){_e.finalized_=!0,_e.scope_.unfinalizedDrafts_--}var isSameScope=(_e,et)=>_e.scope_===et,EMPTY_LOCATIONS_RESULT=[];function updateDraftInParent(_e,et,rt,nt){const st=latest$1(_e),it=_e.type_;if(nt!==void 0&&get$1(st,nt,it)===et){set$2(st,nt,rt,it);return}if(!_e.draftLocations_){const ot=_e.draftLocations_=new Map;each$1(st,(lt,ct)=>{if(isDraft$1(ct)){const ut=ot.get(ct)||[];ut.push(lt),ot.set(ct,ut)}})}const at=_e.draftLocations_.get(et)??EMPTY_LOCATIONS_RESULT;for(const ot of at)set$2(st,ot,rt,it)}function registerChildFinalizationCallback(_e,et,rt){_e.callbacks_.push(function(st){var ot;const it=et;if(!it||!isSameScope(it,st))return;(ot=st.mapSetPlugin_)==null||ot.fixSetContents(it);const at=getFinalValue(it);updateDraftInParent(_e,it.draft_??it,at,rt),generatePatchesAndFinalize(it,st)})}function generatePatchesAndFinalize(_e,et){var nt;if(_e.modified_&&!_e.finalized_&&(_e.type_===3||_e.type_===1&&_e.allIndicesReassigned_||(((nt=_e.assigned_)==null?void 0:nt.size)??0)>0)){const{patchPlugin_:st}=et;if(st){const it=st.getPath(_e);it&&st.generatePatches_(_e,it,et)}markStateFinalized(_e)}}function handleCrossReference(_e,et,rt){const{scope_:nt}=_e;if(isDraft$1(rt)){const st=rt[DRAFT_STATE$1];isSameScope(st,nt)&&st.callbacks_.push(function(){prepareCopy$1(_e);const at=getFinalValue(st);updateDraftInParent(_e,rt,at,et)})}else isDraftable$1(rt)&&_e.callbacks_.push(function(){const it=latest$1(_e);_e.type_===3?it.has(rt)&&handleValue(rt,nt.handledSet_,nt):get$1(it,et,_e.type_)===rt&&nt.drafts_.length>1&&(_e.assigned_.get(et)??!1)===!0&&_e.copy_&&handleValue(get$1(_e.copy_,et,_e.type_),nt.handledSet_,nt)})}function handleValue(_e,et,rt){return!rt.immer_.autoFreeze_&&rt.unfinalizedDrafts_<1||isDraft$1(_e)||et.has(_e)||!isDraftable$1(_e)||isFrozen$1(_e)||(et.add(_e),each$1(_e,(nt,st)=>{if(isDraft$1(st)){const it=st[DRAFT_STATE$1];if(isSameScope(it,rt)){const at=getFinalValue(it);set$2(_e,nt,at,_e.type_),markStateFinalized(it)}}else isDraftable$1(st)&&handleValue(st,et,rt)})),_e}function createProxyProxy$1(_e,et){const rt=isArray(_e),nt={type_:rt?1:0,scope_:et?et.scope_:getCurrentScope$1(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:et,base_:_e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let st=nt,it=objectTraps$1;rt&&(st=[nt],it=arrayTraps$1);const{revoke:at,proxy:ot}=Proxy.revocable(st,it);return nt.draft_=ot,nt.revoke_=at,[ot,nt]}var objectTraps$1={get(_e,et){if(et===DRAFT_STATE$1)return _e;let rt=_e.scope_.arrayMethodsPlugin_;const nt=_e.type_===1&&typeof et=="string";if(nt&&rt!=null&&rt.isArrayOperationMethod(et))return rt.createMethodInterceptor(_e,et);const st=latest$1(_e);if(!has$1(st,et,_e.type_))return readPropFromProto$1(_e,st,et);const it=st[et];if(_e.finalized_||!isDraftable$1(it)||nt&&_e.operationMethod&&(rt!=null&&rt.isMutatingArrayMethod(_e.operationMethod))&&isArrayIndex(et))return it;if(it===peek$1(_e.base_,et)){prepareCopy$1(_e);const at=_e.type_===1?+et:et,ot=createProxy$1(_e.scope_,it,_e,at);return _e.copy_[at]=ot}return it},has(_e,et){return et in latest$1(_e)},ownKeys(_e){return Reflect.ownKeys(latest$1(_e))},set(_e,et,rt){const nt=getDescriptorFromProto$1(latest$1(_e),et);if(nt!=null&&nt.set)return nt.set.call(_e.draft_,rt),!0;if(!_e.modified_){const st=peek$1(latest$1(_e),et),it=st==null?void 0:st[DRAFT_STATE$1];if(it&&it.base_===rt)return _e.copy_[et]=rt,_e.assigned_.set(et,!1),!0;if(is$3(rt,st)&&(rt!==void 0||has$1(_e.base_,et,_e.type_)))return!0;prepareCopy$1(_e),markChanged$1(_e)}return _e.copy_[et]===rt&&(rt!==void 0||et in _e.copy_)||Number.isNaN(rt)&&Number.isNaN(_e.copy_[et])||(_e.copy_[et]=rt,_e.assigned_.set(et,!0),handleCrossReference(_e,et,rt)),!0},deleteProperty(_e,et){return prepareCopy$1(_e),peek$1(_e.base_,et)!==void 0||et in _e.base_?(_e.assigned_.set(et,!1),markChanged$1(_e)):_e.assigned_.delete(et),_e.copy_&&delete _e.copy_[et],!0},getOwnPropertyDescriptor(_e,et){const rt=latest$1(_e),nt=Reflect.getOwnPropertyDescriptor(rt,et);return nt&&{[WRITABLE]:!0,[CONFIGURABLE]:_e.type_!==1||et!=="length",[ENUMERABLE]:nt[ENUMERABLE],[VALUE]:rt[et]}},defineProperty(){die$1(11)},getPrototypeOf(_e){return getPrototypeOf$1(_e.base_)},setPrototypeOf(){die$1(12)}},arrayTraps$1={};for(let _e in objectTraps$1){let et=objectTraps$1[_e];arrayTraps$1[_e]=function(){const rt=arguments;return rt[0]=rt[0][0],et.apply(this,rt)}}arrayTraps$1.deleteProperty=function(_e,et){return arrayTraps$1.set.call(this,_e,et,void 0)};arrayTraps$1.set=function(_e,et,rt){return objectTraps$1.set.call(this,_e[0],et,rt,_e[0])};function peek$1(_e,et){const rt=_e[DRAFT_STATE$1];return(rt?latest$1(rt):_e)[et]}function readPropFromProto$1(_e,et,rt){var st;const nt=getDescriptorFromProto$1(et,rt);return nt?VALUE in nt?nt[VALUE]:(st=nt.get)==null?void 0:st.call(_e.draft_):void 0}function getDescriptorFromProto$1(_e,et){if(!(et in _e))return;let rt=getPrototypeOf$1(_e);for(;rt;){const nt=Object.getOwnPropertyDescriptor(rt,et);if(nt)return nt;rt=getPrototypeOf$1(rt)}}function markChanged$1(_e){_e.modified_||(_e.modified_=!0,_e.parent_&&markChanged$1(_e.parent_))}function prepareCopy$1(_e){_e.copy_||(_e.assigned_=new Map,_e.copy_=shallowCopy$1(_e.base_,_e.scope_.immer_.useStrictShallowCopy_))}var Immer2$1=class{constructor(et){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(rt,nt,st)=>{if(isFunction$2(rt)&&!isFunction$2(nt)){const at=nt;nt=rt;const ot=this;return function(ct=at,...ut){return ot.produce(ct,dt=>nt.call(this,dt,...ut))}}isFunction$2(nt)||die$1(6),st!==void 0&&!isFunction$2(st)&&die$1(7);let it;if(isDraftable$1(rt)){const at=enterScope$1(this),ot=createProxy$1(at,rt,void 0);let lt=!0;try{it=nt(ot),lt=!1}finally{lt?revokeScope$1(at):leaveScope$1(at)}return usePatchesInScope$1(at,st),processResult$1(it,at)}else if(!rt||!isObjectish(rt)){if(it=nt(rt),it===void 0&&(it=rt),it===NOTHING$1&&(it=void 0),this.autoFreeze_&&freeze$1(it,!0),st){const at=[],ot=[];getPlugin$1(PluginPatches).generateReplacementPatches_(rt,it,{patches_:at,inversePatches_:ot}),st(at,ot)}return it}else die$1(1,rt)},this.produceWithPatches=(rt,nt)=>{if(isFunction$2(rt))return(ot,...lt)=>this.produceWithPatches(ot,ct=>rt(ct,...lt));let st,it;return[this.produce(rt,nt,(ot,lt)=>{st=ot,it=lt}),st,it]},isBoolean$2(et==null?void 0:et.autoFreeze)&&this.setAutoFreeze(et.autoFreeze),isBoolean$2(et==null?void 0:et.useStrictShallowCopy)&&this.setUseStrictShallowCopy(et.useStrictShallowCopy),isBoolean$2(et==null?void 0:et.useStrictIteration)&&this.setUseStrictIteration(et.useStrictIteration)}createDraft(et){isDraftable$1(et)||die$1(8),isDraft$1(et)&&(et=current$1(et));const rt=enterScope$1(this),nt=createProxy$1(rt,et,void 0);return nt[DRAFT_STATE$1].isManual_=!0,leaveScope$1(rt),nt}finishDraft(et,rt){const nt=et&&et[DRAFT_STATE$1];(!nt||!nt.isManual_)&&die$1(9);const{scope_:st}=nt;return usePatchesInScope$1(st,rt),processResult$1(void 0,st)}setAutoFreeze(et){this.autoFreeze_=et}setUseStrictShallowCopy(et){this.useStrictShallowCopy_=et}setUseStrictIteration(et){this.useStrictIteration_=et}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(et,rt){let nt;for(nt=rt.length-1;nt>=0;nt--){const it=rt[nt];if(it.path.length===0&&it.op==="replace"){et=it.value;break}}nt>-1&&(rt=rt.slice(nt+1));const st=getPlugin$1(PluginPatches).applyPatches_;return isDraft$1(et)?st(et,rt):this.produce(et,it=>st(it,rt))}};function createProxy$1(_e,et,rt,nt){const[st,it]=isMap$1(et)?getPlugin$1(PluginMapSet).proxyMap_(et,rt):isSet$1(et)?getPlugin$1(PluginMapSet).proxySet_(et,rt):createProxyProxy$1(et,rt);return((rt==null?void 0:rt.scope_)??getCurrentScope$1()).drafts_.push(st),it.callbacks_=(rt==null?void 0:rt.callbacks_)??[],it.key_=nt,rt&&nt!==void 0?registerChildFinalizationCallback(rt,it,nt):it.callbacks_.push(function(lt){var ut;(ut=lt.mapSetPlugin_)==null||ut.fixSetContents(it);const{patchPlugin_:ct}=lt;it.modified_&&ct&&ct.generatePatches_(it,[],lt)}),st}function current$1(_e){return isDraft$1(_e)||die$1(10,_e),currentImpl$1(_e)}function currentImpl$1(_e){if(!isDraftable$1(_e)||isFrozen$1(_e))return _e;const et=_e[DRAFT_STATE$1];let rt,nt=!0;if(et){if(!et.modified_)return et.base_;et.finalized_=!0,rt=shallowCopy$1(_e,et.scope_.immer_.useStrictShallowCopy_),nt=et.scope_.immer_.shouldUseStrictIteration()}else rt=shallowCopy$1(_e,!0);return each$1(rt,(st,it)=>{set$2(rt,st,currentImpl$1(it))},nt),et&&(et.finalized_=!1),rt}var immer$1=new Immer2$1,produce=immer$1.produce;function createThunkMiddleware(_e){return({dispatch:rt,getState:nt})=>st=>it=>typeof it=="function"?it(rt,nt,_e):st(it)}var thunk=createThunkMiddleware(),withExtraArgument=createThunkMiddleware,composeWithDevTools=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?compose:compose.apply(null,arguments)};function createAction(_e,et){function rt(...nt){if(et){let st=et(...nt);if(!st)throw new Error(formatProdErrorMessage(0));return{type:_e,payload:st.payload,..."meta"in st&&{meta:st.meta},..."error"in st&&{error:st.error}}}return{type:_e,payload:nt[0]}}return rt.toString=()=>`${_e}`,rt.type=_e,rt.match=nt=>isAction(nt)&&nt.type===_e,rt}var Tuple=class qn extends Array{constructor(...et){super(...et),Object.setPrototypeOf(this,qn.prototype)}static get[Symbol.species](){return qn}concat(...et){return super.concat.apply(this,et)}prepend(...et){return et.length===1&&Array.isArray(et[0])?new qn(...et[0].concat(this)):new qn(...et.concat(this))}};function freezeDraftable(_e){return isDraftable$1(_e)?produce(_e,()=>{}):_e}function getOrInsertComputed(_e,et,rt){return _e.has(et)?_e.get(et):_e.set(et,rt(et)).get(et)}function isBoolean$1(_e){return typeof _e=="boolean"}var buildGetDefaultMiddleware=()=>function(et){const{thunk:rt=!0,immutableCheck:nt=!0,serializableCheck:st=!0,actionCreatorCheck:it=!0}=et??{};let at=new Tuple;return rt&&(isBoolean$1(rt)?at.push(thunk):at.push(withExtraArgument(rt.extraArgument))),at},SHOULD_AUTOBATCH="RTK_autoBatch",prepareAutoBatched=()=>_e=>({payload:_e,meta:{[SHOULD_AUTOBATCH]:!0}}),createQueueWithTimer=_e=>et=>{setTimeout(et,_e)},autoBatchEnhancer=(_e={type:"raf"})=>et=>(...rt)=>{const nt=et(...rt);let st=!0,it=!1,at=!1;const ot=new Set,lt=_e.type==="tick"?queueMicrotask:_e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:createQueueWithTimer(10):_e.type==="callback"?_e.queueNotification:createQueueWithTimer(_e.timeout),ct=()=>{at=!1,it&&(it=!1,ot.forEach(ut=>ut()))};return Object.assign({},nt,{subscribe(ut){const dt=()=>st&&ut(),pt=nt.subscribe(dt);return ot.add(ut),()=>{pt(),ot.delete(ut)}},dispatch(ut){var dt;try{return st=!((dt=ut==null?void 0:ut.meta)!=null&&dt[SHOULD_AUTOBATCH]),it=!st,it&&(at||(at=!0,lt(ct))),nt.dispatch(ut)}finally{st=!0}}})},buildGetDefaultEnhancers=_e=>function(rt){const{autoBatch:nt=!0}=rt??{};let st=new Tuple(_e);return nt&&st.push(autoBatchEnhancer(typeof nt=="object"?nt:void 0)),st};function configureStore(_e){const et=buildGetDefaultMiddleware(),{reducer:rt=void 0,middleware:nt,devTools:st=!0,preloadedState:it=void 0,enhancers:at=void 0}=_e||{};let ot;if(typeof rt=="function")ot=rt;else if(isPlainObject$7(rt))ot=combineReducers(rt);else throw new Error(formatProdErrorMessage(1));let lt;typeof nt=="function"?lt=nt(et):lt=et();let ct=compose;st&&(ct=composeWithDevTools({trace:!1,...typeof st=="object"&&st}));const ut=applyMiddleware(...lt),dt=buildGetDefaultEnhancers(ut);let pt=typeof at=="function"?at(dt):dt();const mt=ct(...pt);return createStore(ot,it,mt)}function executeReducerBuilderCallback(_e){const et={},rt=[];let nt;const st={addCase(it,at){const ot=typeof it=="string"?it:it.type;if(!ot)throw new Error(formatProdErrorMessage(28));if(ot in et)throw new Error(formatProdErrorMessage(29));return et[ot]=at,st},addAsyncThunk(it,at){return at.pending&&(et[it.pending.type]=at.pending),at.rejected&&(et[it.rejected.type]=at.rejected),at.fulfilled&&(et[it.fulfilled.type]=at.fulfilled),at.settled&&rt.push({matcher:it.settled,reducer:at.settled}),st},addMatcher(it,at){return rt.push({matcher:it,reducer:at}),st},addDefaultCase(it){return nt=it,st}};return _e(st),[et,rt,nt]}function isStateFunction(_e){return typeof _e=="function"}function createReducer(_e,et){let[rt,nt,st]=executeReducerBuilderCallback(et),it;if(isStateFunction(_e))it=()=>freezeDraftable(_e());else{const ot=freezeDraftable(_e);it=()=>ot}function at(ot=it(),lt){let ct=[rt[lt.type],...nt.filter(({matcher:ut})=>ut(lt)).map(({reducer:ut})=>ut)];return ct.filter(ut=>!!ut).length===0&&(ct=[st]),ct.reduce((ut,dt)=>{if(dt)if(isDraft$1(ut)){const mt=dt(ut,lt);return mt===void 0?ut:mt}else{if(isDraftable$1(ut))return produce(ut,pt=>dt(pt,lt));{const pt=dt(ut,lt);if(pt===void 0){if(ut===null)return ut;throw Error("A case reducer on a non-draftable value must not return undefined")}return pt}}return ut},ot)}return at.getInitialState=it,at}var urlAlphabet="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",nanoid=(_e=21)=>{let et="",rt=_e;for(;rt--;)et+=urlAlphabet[Math.random()*64|0];return et},asyncThunkSymbol=Symbol.for("rtk-slice-createasyncthunk");function getType$1(_e,et){return`${_e}/${et}`}function buildCreateSlice({creators:_e}={}){var rt;const et=(rt=_e==null?void 0:_e.asyncThunk)==null?void 0:rt[asyncThunkSymbol];return function(st){const{name:it,reducerPath:at=it}=st;if(!it)throw new Error(formatProdErrorMessage(11));const ot=(typeof st.reducers=="function"?st.reducers(buildReducerCreators()):st.reducers)||{},lt=Object.keys(ot),ct={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},ut={addCase(kt,Rt){const St=typeof kt=="string"?kt:kt.type;if(!St)throw new Error(formatProdErrorMessage(12));if(St in ct.sliceCaseReducersByType)throw new Error(formatProdErrorMessage(13));return ct.sliceCaseReducersByType[St]=Rt,ut},addMatcher(kt,Rt){return ct.sliceMatchers.push({matcher:kt,reducer:Rt}),ut},exposeAction(kt,Rt){return ct.actionCreators[kt]=Rt,ut},exposeCaseReducer(kt,Rt){return ct.sliceCaseReducersByName[kt]=Rt,ut}};lt.forEach(kt=>{const Rt=ot[kt],St={reducerName:kt,type:getType$1(it,kt),createNotation:typeof st.reducers=="function"};isAsyncThunkSliceReducerDefinition(Rt)?handleThunkCaseReducerDefinition(St,Rt,ut,et):handleNormalReducerDefinition(St,Rt,ut)});function dt(){const[kt={},Rt=[],St=void 0]=typeof st.extraReducers=="function"?executeReducerBuilderCallback(st.extraReducers):[st.extraReducers],_t={...kt,...ct.sliceCaseReducersByType};return createReducer(st.initialState,Nt=>{for(let Lt in _t)Nt.addCase(Lt,_t[Lt]);for(let Lt of ct.sliceMatchers)Nt.addMatcher(Lt.matcher,Lt.reducer);for(let Lt of Rt)Nt.addMatcher(Lt.matcher,Lt.reducer);St&&Nt.addDefaultCase(St)})}const pt=kt=>kt,mt=new Map,xt=new WeakMap;let yt;function vt(kt,Rt){return yt||(yt=dt()),yt(kt,Rt)}function gt(){return yt||(yt=dt()),yt.getInitialState()}function Et(kt,Rt=!1){function St(Nt){let Lt=Nt[kt];return typeof Lt>"u"&&Rt&&(Lt=getOrInsertComputed(xt,St,gt)),Lt}function _t(Nt=pt){const Lt=getOrInsertComputed(mt,Rt,()=>new WeakMap);return getOrInsertComputed(Lt,Nt,()=>{const $t={};for(const[Ft,Tt]of Object.entries(st.selectors??{}))$t[Ft]=wrapSelector(Tt,Nt,()=>getOrInsertComputed(xt,Nt,gt),Rt);return $t})}return{reducerPath:kt,getSelectors:_t,get selectors(){return _t(St)},selectSlice:St}}const jt={name:it,reducer:vt,actions:ct.actionCreators,caseReducers:ct.sliceCaseReducersByName,getInitialState:gt,...Et(at),injectInto(kt,{reducerPath:Rt,...St}={}){const _t=Rt??at;return kt.inject({reducerPath:_t,reducer:vt},St),{...jt,...Et(_t,!0)}}};return jt}}function wrapSelector(_e,et,rt,nt){function st(it,...at){let ot=et(it);return typeof ot>"u"&&nt&&(ot=rt()),_e(ot,...at)}return st.unwrapped=_e,st}var createSlice=buildCreateSlice();function buildReducerCreators(){function _e(et,rt){return{_reducerDefinitionType:"asyncThunk",payloadCreator:et,...rt}}return _e.withTypes=()=>_e,{reducer(et){return Object.assign({[et.name](...rt){return et(...rt)}}[et.name],{_reducerDefinitionType:"reducer"})},preparedReducer(et,rt){return{_reducerDefinitionType:"reducerWithPrepare",prepare:et,reducer:rt}},asyncThunk:_e}}function handleNormalReducerDefinition({type:_e,reducerName:et,createNotation:rt},nt,st){let it,at;if("reducer"in nt){if(rt&&!isCaseReducerWithPrepareDefinition(nt))throw new Error(formatProdErrorMessage(17));it=nt.reducer,at=nt.prepare}else it=nt;st.addCase(_e,it).exposeCaseReducer(et,it).exposeAction(et,at?createAction(_e,at):createAction(_e))}function isAsyncThunkSliceReducerDefinition(_e){return _e._reducerDefinitionType==="asyncThunk"}function isCaseReducerWithPrepareDefinition(_e){return _e._reducerDefinitionType==="reducerWithPrepare"}function handleThunkCaseReducerDefinition({type:_e,reducerName:et},rt,nt,st){if(!st)throw new Error(formatProdErrorMessage(18));const{payloadCreator:it,fulfilled:at,pending:ot,rejected:lt,settled:ct,options:ut}=rt,dt=st(_e,it,ut);nt.exposeAction(et,dt),at&&nt.addCase(dt.fulfilled,at),ot&&nt.addCase(dt.pending,ot),lt&&nt.addCase(dt.rejected,lt),ct&&nt.addMatcher(dt.settled,ct),nt.exposeCaseReducer(et,{fulfilled:at||noop$1,pending:ot||noop$1,rejected:lt||noop$1,settled:ct||noop$1})}function noop$1(){}var task="task",listener="listener",completed="completed",cancelled="cancelled",taskCancelled=`task-${cancelled}`,taskCompleted=`task-${completed}`,listenerCancelled=`${listener}-${cancelled}`,listenerCompleted=`${listener}-${completed}`,TaskAbortError=class{constructor(_e){sn(this,"name","TaskAbortError");sn(this,"message");this.code=_e,this.message=`${task} ${cancelled} (reason: ${_e})`}},assertFunction=(_e,et)=>{if(typeof _e!="function")throw new TypeError(formatProdErrorMessage(32))},noop2=()=>{},catchRejection=(_e,et=noop2)=>(_e.catch(et),_e),addAbortSignalListener=(_e,et)=>(_e.addEventListener("abort",et,{once:!0}),()=>_e.removeEventListener("abort",et)),validateActive=_e=>{if(_e.aborted)throw new TaskAbortError(_e.reason)};function raceWithSignal(_e,et){let rt=noop2;return new Promise((nt,st)=>{const it=()=>st(new TaskAbortError(_e.reason));if(_e.aborted){it();return}rt=addAbortSignalListener(_e,it),et.finally(()=>rt()).then(nt,st)}).finally(()=>{rt=noop2})}var runTask=async(_e,et)=>{try{return await Promise.resolve(),{status:"ok",value:await _e()}}catch(rt){return{status:rt instanceof TaskAbortError?"cancelled":"rejected",error:rt}}finally{et==null||et()}},createPause=_e=>et=>catchRejection(raceWithSignal(_e,et).then(rt=>(validateActive(_e),rt))),createDelay=_e=>{const et=createPause(_e);return rt=>et(new Promise(nt=>setTimeout(nt,rt)))},{assign}=Object,INTERNAL_NIL_TOKEN={},alm="listenerMiddleware",createFork=(_e,et)=>{const rt=nt=>addAbortSignalListener(_e,()=>nt.abort(_e.reason));return(nt,st)=>{assertFunction(nt);const it=new AbortController;rt(it);const at=runTask(async()=>{validateActive(_e),validateActive(it.signal);const ot=await nt({pause:createPause(it.signal),delay:createDelay(it.signal),signal:it.signal});return validateActive(it.signal),ot},()=>it.abort(taskCompleted));return st!=null&&st.autoJoin&&et.push(at.catch(noop2)),{result:createPause(_e)(at),cancel(){it.abort(taskCancelled)}}}},createTakePattern=(_e,et)=>{const rt=async(nt,st)=>{validateActive(et);let it=()=>{};const ot=[new Promise((lt,ct)=>{let ut=_e({predicate:nt,effect:(dt,pt)=>{pt.unsubscribe(),lt([dt,pt.getState(),pt.getOriginalState()])}});it=()=>{ut(),ct()}})];st!=null&&ot.push(new Promise(lt=>setTimeout(lt,st,null)));try{const lt=await raceWithSignal(et,Promise.race(ot));return validateActive(et),lt}finally{it()}};return(nt,st)=>catchRejection(rt(nt,st))},getListenerEntryPropsFrom=_e=>{let{type:et,actionCreator:rt,matcher:nt,predicate:st,effect:it}=_e;if(et)st=createAction(et).match;else if(rt)et=rt.type,st=rt.match;else if(nt)st=nt;else if(!st)throw new Error(formatProdErrorMessage(21));return assertFunction(it),{predicate:st,type:et,effect:it}},createListenerEntry=assign(_e=>{const{type:et,predicate:rt,effect:nt}=getListenerEntryPropsFrom(_e);return{id:nanoid(),effect:nt,type:et,predicate:rt,pending:new Set,unsubscribe:()=>{throw new Error(formatProdErrorMessage(22))}}},{withTypes:()=>createListenerEntry}),findListenerEntry=(_e,et)=>{const{type:rt,effect:nt,predicate:st}=getListenerEntryPropsFrom(et);return Array.from(_e.values()).find(it=>(typeof rt=="string"?it.type===rt:it.predicate===st)&&it.effect===nt)},cancelActiveListeners=_e=>{_e.pending.forEach(et=>{et.abort(listenerCancelled)})},createClearListenerMiddleware=(_e,et)=>()=>{for(const rt of et.keys())cancelActiveListeners(rt);_e.clear()},safelyNotifyError=(_e,et,rt)=>{try{_e(et,rt)}catch(nt){setTimeout(()=>{throw nt},0)}},addListener=assign(createAction(`${alm}/add`),{withTypes:()=>addListener}),clearAllListeners=createAction(`${alm}/removeAll`),removeListener=assign(createAction(`${alm}/remove`),{withTypes:()=>removeListener}),defaultErrorHandler=(..._e)=>{console.error(`${alm}/error`,..._e)},createListenerMiddleware=(_e={})=>{const et=new Map,rt=new Map,nt=mt=>{const xt=rt.get(mt)??0;rt.set(mt,xt+1)},st=mt=>{const xt=rt.get(mt)??1;xt===1?rt.delete(mt):rt.set(mt,xt-1)},{extra:it,onError:at=defaultErrorHandler}=_e;assertFunction(at);const ot=mt=>(mt.unsubscribe=()=>et.delete(mt.id),et.set(mt.id,mt),xt=>{mt.unsubscribe(),xt!=null&&xt.cancelActive&&cancelActiveListeners(mt)}),lt=mt=>{const xt=findListenerEntry(et,mt)??createListenerEntry(mt);return ot(xt)};assign(lt,{withTypes:()=>lt});const ct=mt=>{const xt=findListenerEntry(et,mt);return xt&&(xt.unsubscribe(),mt.cancelActive&&cancelActiveListeners(xt)),!!xt};assign(ct,{withTypes:()=>ct});const ut=async(mt,xt,yt,vt)=>{const gt=new AbortController,Et=createTakePattern(lt,gt.signal),jt=[];try{mt.pending.add(gt),nt(mt),await Promise.resolve(mt.effect(xt,assign({},yt,{getOriginalState:vt,condition:(kt,Rt)=>Et(kt,Rt).then(Boolean),take:Et,delay:createDelay(gt.signal),pause:createPause(gt.signal),extra:it,signal:gt.signal,fork:createFork(gt.signal,jt),unsubscribe:mt.unsubscribe,subscribe:()=>{et.set(mt.id,mt)},cancelActiveListeners:()=>{mt.pending.forEach((kt,Rt,St)=>{kt!==gt&&(kt.abort(listenerCancelled),St.delete(kt))})},cancel:()=>{gt.abort(listenerCancelled),mt.pending.delete(gt)},throwIfCancelled:()=>{validateActive(gt.signal)}})))}catch(kt){kt instanceof TaskAbortError||safelyNotifyError(at,kt,{raisedBy:"effect"})}finally{await Promise.all(jt),gt.abort(listenerCompleted),st(mt),mt.pending.delete(gt)}},dt=createClearListenerMiddleware(et,rt);return{middleware:mt=>xt=>yt=>{if(!isAction(yt))return xt(yt);if(addListener.match(yt))return lt(yt.payload);if(clearAllListeners.match(yt)){dt();return}if(removeListener.match(yt))return ct(yt.payload);let vt=mt.getState();const gt=()=>{if(vt===INTERNAL_NIL_TOKEN)throw new Error(formatProdErrorMessage(23));return vt};let Et;try{if(Et=xt(yt),et.size>0){const jt=mt.getState(),kt=Array.from(et.values());for(const Rt of kt){let St=!1;try{St=Rt.predicate(yt,jt,vt)}catch(_t){St=!1,safelyNotifyError(at,_t,{raisedBy:"predicate"})}St&&ut(Rt,yt,mt,gt)}}}finally{vt=INTERNAL_NIL_TOKEN}return Et},startListening:lt,stopListening:ct,clearListeners:dt}};function formatProdErrorMessage(_e){return`Minified Redux Toolkit error #${_e}; visit https://redux-toolkit.js.org/Errors?code=${_e} for the full message or use the non-minified dev environment for full errors. `}var initialState$c={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},chartLayoutSlice=createSlice({name:"chartLayout",initialState:initialState$c,reducers:{setLayout(_e,et){_e.layoutType=et.payload},setChartSize(_e,et){_e.width=et.payload.width,_e.height=et.payload.height},setMargin(_e,et){var rt,nt,st,it;_e.margin.top=(rt=et.payload.top)!==null&&rt!==void 0?rt:0,_e.margin.right=(nt=et.payload.right)!==null&&nt!==void 0?nt:0,_e.margin.bottom=(st=et.payload.bottom)!==null&&st!==void 0?st:0,_e.margin.left=(it=et.payload.left)!==null&&it!==void 0?it:0},setScale(_e,et){_e.scale=et.payload}}}),{setMargin,setLayout,setChartSize,setScale}=chartLayoutSlice.actions,chartLayoutReducer=chartLayoutSlice.reducer;function getSliced(_e,et,rt){return Array.isArray(_e)&&_e&&et+rt!==0?_e.slice(et,rt+1):_e}function isWellBehavedNumber(_e){return Number.isFinite(_e)}function isPositiveNumber(_e){return typeof _e=="number"&&_e>0&&Number.isFinite(_e)}function ownKeys$G(_e,et){var rt=Object.keys(_e);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);et&&(nt=nt.filter(function(st){return Object.getOwnPropertyDescriptor(_e,st).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$F(_e){for(var et=1;et<arguments.length;et++){var rt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$G(Object(rt),!0).forEach(function(nt){_defineProperty$I(_e,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(rt)):ownKeys$G(Object(rt)).forEach(function(nt){Object.defineProperty(_e,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return _e}function _defineProperty$I(_e,et,rt){return(et=_toPropertyKey$I(et))in _e?Object.defineProperty(_e,et,{value:rt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=rt,_e}function _toPropertyKey$I(_e){var et=_toPrimitive$I(_e,"string");return typeof et=="symbol"?et:et+""}function _toPrimitive$I(_e,et){if(typeof _e!="object"||!_e)return _e;var rt=_e[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(_e,et);if(typeof nt!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(_e)}function getValueByDataKey(_e,et,rt){return isNullish(_e)||isNullish(et)?rt:isNumOrStr(et)?get$3(_e,et,rt):typeof et=="function"?et(_e):rt}var appendOffsetOfLegend=(_e,et,rt)=>{if(et&&rt){var{width:nt,height:st}=rt,{align:it,verticalAlign:at,layout:ot}=et;if((ot==="vertical"||ot==="horizontal"&&at==="middle")&&it!=="center"&&isNumber$1(_e[it]))return _objectSpread$F(_objectSpread$F({},_e),{},{[it]:_e[it]+(nt||0)});if((ot==="horizontal"||ot==="vertical"&&it==="center")&&at!=="middle"&&isNumber$1(_e[at]))return _objectSpread$F(_objectSpread$F({},_e),{},{[at]:_e[at]+(st||0)})}return _e},isCategoricalAxis=(_e,et)=>_e==="horizontal"&&et==="xAxis"||_e==="vertical"&&et==="yAxis"||_e==="centric"&&et==="angleAxis"||_e==="radial"&&et==="radiusAxis",getCoordinatesOfGrid=(_e,et,rt,nt)=>{if(nt)return _e.map(ot=>ot.coordinate);var st,it,at=_e.map(ot=>(ot.coordinate===et&&(st=!0),ot.coordinate===rt&&(it=!0),ot.coordinate));return st||at.push(et),it||at.push(rt),at},getTicksOfAxis=(_e,et,rt)=>{if(!_e)return null;var{duplicateDomain:nt,type:st,range:it,scale:at,realScaleType:ot,isCategorical:lt,categoricalDomain:ct,tickCount:ut,ticks:dt,niceTicks:pt,axisType:mt}=_e;if(!at)return null;var xt=ot==="scaleBand"&&at.bandwidth?at.bandwidth()/2:2,yt=st==="category"&&at.bandwidth?at.bandwidth()/xt:0;if(yt=mt==="angleAxis"&&it&&it.length>=2?mathSign(it[0]-it[1])*2*yt:yt,dt||pt){var vt=(dt||pt||[]).map((gt,Et)=>{var jt=nt?nt.indexOf(gt):gt,kt=at.map(jt);return isWellBehavedNumber(kt)?{coordinate:kt+yt,value:gt,offset:yt,index:Et}:null}).filter(isNotNil);return vt}return lt&&ct?ct.map((gt,Et)=>{var jt=at.map(gt);return isWellBehavedNumber(jt)?{coordinate:jt+yt,value:gt,index:Et,offset:yt}:null}).filter(isNotNil):at.ticks&&ut!=null?at.ticks(ut).map((gt,Et)=>{var jt=at.map(gt);return isWellBehavedNumber(jt)?{coordinate:jt+yt,value:gt,index:Et,offset:yt}:null}).filter(isNotNil):at.domain().map((gt,Et)=>{var jt=at.map(gt);return isWellBehavedNumber(jt)?{coordinate:jt+yt,value:nt?nt[gt]:gt,index:Et,offset:yt}:null}).filter(isNotNil)},truncateByDomain=(_e,et)=>{if(!et||et.length!==2||!isNumber$1(et[0])||!isNumber$1(et[1]))return _e;var rt=Math.min(et[0],et[1]),nt=Math.max(et[0],et[1]),st=[_e[0],_e[1]];return(!isNumber$1(_e[0])||_e[0]<rt)&&(st[0]=rt),(!isNumber$1(_e[1])||_e[1]>nt)&&(st[1]=nt),st[0]>nt&&(st[0]=nt),st[1]<rt&&(st[1]=rt),st},offsetSign=_e=>{var et,rt=_e.length;if(!(rt<=0)){var nt=(et=_e[0])===null||et===void 0?void 0:et.length;if(!(nt==null||nt<=0))for(var st=0;st<nt;++st)for(var it=0,at=0,ot=0;ot<rt;++ot){var lt=_e[ot],ct=lt==null?void 0:lt[st];if(ct!=null){var ut=ct[1],dt=ct[0],pt=isNan(ut)?dt:ut;pt>=0?(ct[0]=it,it+=pt,ct[1]=it):(ct[0]=at,at+=pt,ct[1]=at)}}}},offsetPositive=_e=>{var et,rt=_e.length;if(!(rt<=0)){var nt=(et=_e[0])===null||et===void 0?void 0:et.length;if(!(nt==null||nt<=0))for(var st=0;st<nt;++st)for(var it=0,at=0;at<rt;++at){var ot=_e[at],lt=ot==null?void 0:ot[st];if(lt!=null){var ct=isNan(lt[1])?lt[0]:lt[1];ct>=0?(lt[0]=it,it+=ct,lt[1]=it):(lt[0]=0,lt[1]=0)}}}},STACK_OFFSET_MAP={sign:offsetSign,expand:stackOffsetExpand,none:stackOffsetNone,silhouette:stackOffsetSilhouette,wiggle:stackOffsetWiggle,positive:offsetPositive},getStackedData=(_e,et,rt)=>{var nt,st=(nt=STACK_OFFSET_MAP[rt])!==null&&nt!==void 0?nt:stackOffsetNone,it=shapeStack().keys(et).value((ot,lt)=>Number(getValueByDataKey(ot,lt,0))).order(stackOrderNone).offset(st),at=it(_e);return at.forEach((ot,lt)=>{ot.forEach((ct,ut)=>{var dt=getValueByDataKey(_e[ut],et[lt],0);Array.isArray(dt)&&dt.length===2&&isNumber$1(dt[0])&&isNumber$1(dt[1])&&(ct[0]=dt[0],ct[1]=dt[1])})}),at};function getNormalizedStackId(_e){return _e==null?void 0:String(_e)}function getCateCoordinateOfLine(_e){var{axis:et,ticks:rt,bandSize:nt,entry:st,index:it,dataKey:at}=_e;if(et.type==="category"){if(!et.allowDuplicatedCategory&&et.dataKey&&!isNullish(st[et.dataKey])){var ot=findEntryInArray(rt,"value",st[et.dataKey]);if(ot)return ot.coordinate+nt/2}return rt!=null&&rt[it]?rt[it].coordinate+nt/2:null}var lt=getValueByDataKey(st,isNullish(at)?et.dataKey:at),ct=et.scale.map(lt);return isNumber$1(ct)?ct:null}var getCateCoordinateOfBar=_e=>{var{axis:et,ticks:rt,offset:nt,bandSize:st,entry:it,index:at}=_e;if(et.type==="category")return rt[at]?rt[at].coordinate+nt:null;var ot=getValueByDataKey(it,et.dataKey,et.scale.domain()[at]);if(isNullish(ot))return null;var lt=et.scale.map(ot);return isNumber$1(lt)?lt-st/2+nt:null},getBaseValueOfBar=_e=>{var{numericAxis:et}=_e,rt=et.scale.domain();if(et.type==="number"){var nt=Math.min(rt[0],rt[1]),st=Math.max(rt[0],rt[1]);return nt<=0&&st>=0?0:st<0?st:nt}return rt[0]},getDomainOfSingle=_e=>{var et=_e.flat(2).filter(isNumber$1);return[Math.min(...et),Math.max(...et)]},makeDomainFinite=_e=>[_e[0]===1/0?0:_e[0],_e[1]===-1/0?0:_e[1]],getDomainOfStackGroups=(_e,et,rt)=>{if(_e!=null)return makeDomainFinite(Object.keys(_e).reduce((nt,st)=>{var it=_e[st];if(!it)return nt;var{stackedData:at}=it,ot=at.reduce((lt,ct)=>{var ut=getSliced(ct,et,rt),dt=getDomainOfSingle(ut);return!isWellBehavedNumber(dt[0])||!isWellBehavedNumber(dt[1])?lt:[Math.min(lt[0],dt[0]),Math.max(lt[1],dt[1])]},[1/0,-1/0]);return[Math.min(ot[0],nt[0]),Math.max(ot[1],nt[1])]},[1/0,-1/0]))},MIN_VALUE_REG=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,MAX_VALUE_REG=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,getBandSizeOfAxis=(_e,et,rt)=>{if(_e&&_e.scale&&_e.scale.bandwidth){var nt=_e.scale.bandwidth();if(!rt||nt>0)return nt}if(_e&&et&&et.length>=2){for(var st=sortBy$1(et,ut=>ut.coordinate),it=1/0,at=1,ot=st.length;at<ot;at++){var lt=st[at],ct=st[at-1];it=Math.min(((lt==null?void 0:lt.coordinate)||0)-((ct==null?void 0:ct.coordinate)||0),it)}return it===1/0?0:it}return rt?void 0:0};function getTooltipEntry(_e){var{tooltipEntrySettings:et,dataKey:rt,payload:nt,value:st,name:it}=_e;return _objectSpread$F(_objectSpread$F({},et),{},{dataKey:rt,payload:nt,value:st,name:it})}function getTooltipNameProp(_e,et){if(_e)return String(_e);if(typeof et=="string")return et}var calculateCartesianTooltipPos=(_e,et)=>{if(et==="horizontal")return _e.chartX;if(et==="vertical")return _e.chartY},calculatePolarTooltipPos=(_e,et)=>et==="centric"?_e.angle:_e.radius,selectChartWidth=_e=>_e.layout.width,selectChartHeight=_e=>_e.layout.height,selectContainerScale=_e=>_e.layout.scale,selectMargin=_e=>_e.layout.margin,selectAllXAxes=createSelector(_e=>_e.cartesianAxis.xAxis,_e=>Object.values(_e)),selectAllYAxes=createSelector(_e=>_e.cartesianAxis.yAxis,_e=>Object.values(_e)),DATA_ITEM_INDEX_ATTRIBUTE_NAME="data-recharts-item-index",DATA_ITEM_GRAPHICAL_ITEM_ID_ATTRIBUTE_NAME="data-recharts-item-id",DEFAULT_Y_AXIS_WIDTH=60;function ownKeys$F(_e,et){var rt=Object.keys(_e);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);et&&(nt=nt.filter(function(st){return Object.getOwnPropertyDescriptor(_e,st).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$E(_e){for(var et=1;et<arguments.length;et++){var rt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$F(Object(rt),!0).forEach(function(nt){_defineProperty$H(_e,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(rt)):ownKeys$F(Object(rt)).forEach(function(nt){Object.defineProperty(_e,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return _e}function _defineProperty$H(_e,et,rt){return(et=_toPropertyKey$H(et))in _e?Object.defineProperty(_e,et,{value:rt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=rt,_e}function _toPropertyKey$H(_e){var et=_toPrimitive$H(_e,"string");return typeof et=="symbol"?et:et+""}function _toPrimitive$H(_e,et){if(typeof _e!="object"||!_e)return _e;var rt=_e[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(_e,et);if(typeof nt!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(_e)}var selectBrushHeight=_e=>_e.brush.height;function selectLeftAxesOffset(_e){var et=selectAllYAxes(_e);return et.reduce((rt,nt)=>{if(nt.orientation==="left"&&!nt.mirror&&!nt.hide){var st=typeof nt.width=="number"?nt.width:DEFAULT_Y_AXIS_WIDTH;return rt+st}return rt},0)}function selectRightAxesOffset(_e){var et=selectAllYAxes(_e);return et.reduce((rt,nt)=>{if(nt.orientation==="right"&&!nt.mirror&&!nt.hide){var st=typeof nt.width=="number"?nt.width:DEFAULT_Y_AXIS_WIDTH;return rt+st}return rt},0)}function selectTopAxesOffset(_e){var et=selectAllXAxes(_e);return et.reduce((rt,nt)=>nt.orientation==="top"&&!nt.mirror&&!nt.hide?rt+nt.height:rt,0)}function selectBottomAxesOffset(_e){var et=selectAllXAxes(_e);return et.reduce((rt,nt)=>nt.orientation==="bottom"&&!nt.mirror&&!nt.hide?rt+nt.height:rt,0)}var selectChartOffsetInternal=createSelector([selectChartWidth,selectChartHeight,selectMargin,selectBrushHeight,selectLeftAxesOffset,selectRightAxesOffset,selectTopAxesOffset,selectBottomAxesOffset,selectLegendSettings,selectLegendSize],(_e,et,rt,nt,st,it,at,ot,lt,ct)=>{var ut={left:(rt.left||0)+st,right:(rt.right||0)+it},dt={top:(rt.top||0)+at,bottom:(rt.bottom||0)+ot},pt=_objectSpread$E(_objectSpread$E({},dt),ut),mt=pt.bottom;pt.bottom+=nt,pt=appendOffsetOfLegend(pt,lt,ct);var xt=_e-pt.left-pt.right,yt=et-pt.top-pt.bottom;return _objectSpread$E(_objectSpread$E({brushBottom:mt},pt),{},{width:Math.max(xt,0),height:Math.max(yt,0)})}),selectChartViewBox=createSelector(selectChartOffsetInternal,_e=>({x:_e.left,y:_e.top,width:_e.width,height:_e.height})),selectAxisViewBox=createSelector(selectChartWidth,selectChartHeight,(_e,et)=>({x:0,y:0,width:_e,height:et})),PanoramaContext=reactExports.createContext(null),useIsPanorama=()=>reactExports.useContext(PanoramaContext)!=null,selectBrushSettings=_e=>_e.brush,selectBrushDimensions=createSelector([selectBrushSettings,selectChartOffsetInternal,selectMargin],(_e,et,rt)=>({height:_e.height,x:isNumber$1(_e.x)?_e.x:et.left,y:isNumber$1(_e.y)?_e.y:et.top+et.height+et.brushBottom-((rt==null?void 0:rt.bottom)||0),width:isNumber$1(_e.width)?_e.width:et.width})),throttle$2={},debounce$1={},debounce={};(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});function et(rt,nt,{signal:st,edges:it}={}){let at,ot=null;const lt=it!=null&&it.includes("leading"),ct=it==null||it.includes("trailing"),ut=()=>{ot!==null&&(rt.apply(at,ot),at=void 0,ot=null)},dt=()=>{ct&&ut(),yt()};let pt=null;const mt=()=>{pt!=null&&clearTimeout(pt),pt=setTimeout(()=>{pt=null,dt()},nt)},xt=()=>{pt!==null&&(clearTimeout(pt),pt=null)},yt=()=>{xt(),at=void 0,ot=null},vt=()=>{ut()},gt=function(...Et){if(st!=null&&st.aborted)return;at=this,ot=Et;const jt=pt==null;mt(),lt&&jt&&ut()};return gt.schedule=mt,gt.cancel=yt,gt.flush=vt,st==null||st.addEventListener("abort",yt,{once:!0}),gt}_e.debounce=et})(debounce);(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});const et=debounce;function rt(nt,st=0,it={}){typeof it!="object"&&(it={});const{leading:at=!1,trailing:ot=!0,maxWait:lt}=it,ct=Array(2);at&&(ct[0]="leading"),ot&&(ct[1]="trailing");let ut,dt=null;const pt=et.debounce(function(...yt){ut=nt.apply(this,yt),dt=null},st,{edges:ct}),mt=function(...yt){return lt!=null&&(dt===null&&(dt=Date.now()),Date.now()-dt>=lt)?(ut=nt.apply(this,yt),dt=Date.now(),pt.cancel(),pt.schedule(),ut):(pt.apply(this,yt),ut)},xt=()=>(pt.flush(),ut);return mt.cancel=pt.cancel,mt.flush=xt,mt}_e.debounce=rt})(debounce$1);(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});const et=debounce$1;function rt(nt,st=0,it={}){const{leading:at=!0,trailing:ot=!0}=it;return et.debounce(nt,st,{leading:at,maxWait:st,trailing:ot})}_e.throttle=rt})(throttle$2);var throttle=throttle$2.throttle;const throttle$1=getDefaultExportFromCjs(throttle);var warn$1=function(et,rt){for(var nt=arguments.length,st=new Array(nt>2?nt-2:0),it=2;it<nt;it++)st[it-2]=arguments[it];if(typeof console<"u"&&console.warn&&(rt===void 0&&console.warn("LogUtils requires an error message argument"),!et))if(rt===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var at=0;console.warn(rt.replace(/%s/g,()=>st[at++]))}},defaultResponsiveContainerProps={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},calculateChartDimensions=(_e,et,rt)=>{var{width:nt=defaultResponsiveContainerProps.width,height:st=defaultResponsiveContainerProps.height,aspect:it,maxHeight:at}=rt,ot=isPercent(nt)?_e:Number(nt),lt=isPercent(st)?et:Number(st);return it&&it>0&&(ot?lt=ot/it:lt&&(ot=lt*it),at&&lt!=null&&lt>at&&(lt=at)),{calculatedWidth:ot,calculatedHeight:lt}},bothOverflow={width:0,height:0,overflow:"visible"},overflowX={width:0,overflowX:"visible"},overflowY={height:0,overflowY:"visible"},noStyle={},getInnerDivStyle=_e=>{var{width:et,height:rt}=_e,nt=isPercent(et),st=isPercent(rt);return nt&&st?bothOverflow:nt?overflowX:st?overflowY:noStyle};function getDefaultWidthAndHeight(_e){var{width:et,height:rt,aspect:nt}=_e,st=et,it=rt;return st===void 0&&it===void 0?(st=defaultResponsiveContainerProps.width,it=defaultResponsiveContainerProps.height):st===void 0?st=nt&&nt>0?void 0:defaultResponsiveContainerProps.width:it===void 0&&(it=nt&&nt>0?void 0:defaultResponsiveContainerProps.height),{width:st,height:it}}function _extends$q(){return _extends$q=Object.assign?Object.assign.bind():function(_e){for(var et=1;et<arguments.length;et++){var rt=arguments[et];for(var nt in rt)({}).hasOwnProperty.call(rt,nt)&&(_e[nt]=rt[nt])}return _e},_extends$q.apply(null,arguments)}function ownKeys$E(_e,et){var rt=Object.keys(_e);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);et&&(nt=nt.filter(function(st){return Object.getOwnPropertyDescriptor(_e,st).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$D(_e){for(var et=1;et<arguments.length;et++){var rt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$E(Object(rt),!0).forEach(function(nt){_defineProperty$G(_e,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(rt)):ownKeys$E(Object(rt)).forEach(function(nt){Object.defineProperty(_e,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return _e}function _defineProperty$G(_e,et,rt){return(et=_toPropertyKey$G(et))in _e?Object.defineProperty(_e,et,{value:rt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=rt,_e}function _toPropertyKey$G(_e){var et=_toPrimitive$G(_e,"string");return typeof et=="symbol"?et:et+""}function _toPrimitive$G(_e,et){if(typeof _e!="object"||!_e)return _e;var rt=_e[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(_e,et);if(typeof nt!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(_e)}var ResponsiveContainerContext=reactExports.createContext(defaultResponsiveContainerProps.initialDimension);function isAcceptableSize(_e){return isPositiveNumber(_e.width)&&isPositiveNumber(_e.height)}function ResponsiveContainerContextProvider(_e){var{children:et,width:rt,height:nt}=_e,st=reactExports.useMemo(()=>({width:rt,height:nt}),[rt,nt]);return isAcceptableSize(st)?reactExports.createElement(ResponsiveContainerContext.Provider,{value:st},et):null}var useResponsiveContainerContext=()=>reactExports.useContext(ResponsiveContainerContext),SizeDetectorContainer=reactExports.forwardRef((_e,et)=>{var{aspect:rt,initialDimension:nt=defaultResponsiveContainerProps.initialDimension,width:st,height:it,minWidth:at=defaultResponsiveContainerProps.minWidth,minHeight:ot,maxHeight:lt,children:ct,debounce:ut=defaultResponsiveContainerProps.debounce,id:dt,className:pt,onResize:mt,style:xt={}}=_e,yt=reactExports.useRef(null),vt=reactExports.useRef();vt.current=mt,reactExports.useImperativeHandle(et,()=>yt.current);var[gt,Et]=reactExports.useState({containerWidth:nt.width,containerHeight:nt.height}),jt=reactExports.useCallback((Nt,Lt)=>{Et($t=>{var Ft=Math.round(Nt),Tt=Math.round(Lt);return $t.containerWidth===Ft&&$t.containerHeight===Tt?$t:{containerWidth:Ft,containerHeight:Tt}})},[]);reactExports.useEffect(()=>{if(yt.current==null||typeof ResizeObserver>"u")return noop$3;var Nt=Tt=>{var Bt,Wt=Tt[0];if(Wt!=null){var{width:qt,height:Ot}=Wt.contentRect;jt(qt,Ot),(Bt=vt.current)===null||Bt===void 0||Bt.call(vt,qt,Ot)}};ut>0&&(Nt=throttle$1(Nt,ut,{trailing:!0,leading:!1}));var Lt=new ResizeObserver(Nt),{width:$t,height:Ft}=yt.current.getBoundingClientRect();return jt($t,Ft),Lt.observe(yt.current),()=>{Lt.disconnect()}},[jt,ut]);var{containerWidth:kt,containerHeight:Rt}=gt;warn$1(!rt||rt>0,"The aspect(%s) must be greater than zero.",rt);var{calculatedWidth:St,calculatedHeight:_t}=calculateChartDimensions(kt,Rt,{width:st,height:it,aspect:rt,maxHeight:lt});return warn$1(St!=null&&St>0||_t!=null&&_t>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,St,_t,st,it,at,ot,rt),reactExports.createElement("div",{id:dt?"".concat(dt):void 0,className:clsx("recharts-responsive-container",pt),style:_objectSpread$D(_objectSpread$D({},xt),{},{width:st,height:it,minWidth:at,minHeight:ot,maxHeight:lt}),ref:yt},reactExports.createElement("div",{style:getInnerDivStyle({width:st,height:it})},reactExports.createElement(ResponsiveContainerContextProvider,{width:St,height:_t},ct)))}),ResponsiveContainer=reactExports.forwardRef((_e,et)=>{var rt=useResponsiveContainerContext();if(isPositiveNumber(rt.width)&&isPositiveNumber(rt.height))return _e.children;var{width:nt,height:st}=getDefaultWidthAndHeight({width:_e.width,height:_e.height,aspect:_e.aspect}),{calculatedWidth:it,calculatedHeight:at}=calculateChartDimensions(void 0,void 0,{width:nt,height:st,aspect:_e.aspect,maxHeight:_e.maxHeight});return isNumber$1(it)&&isNumber$1(at)?reactExports.createElement(ResponsiveContainerContextProvider,{width:it,height:at},_e.children):reactExports.createElement(SizeDetectorContainer,_extends$q({},_e,{width:nt,height:st,ref:et}))});function cartesianViewBoxToTrapezoid(_e){if(_e)return{x:_e.x,y:_e.y,upperWidth:"upperWidth"in _e?_e.upperWidth:_e.width,lowerWidth:"lowerWidth"in _e?_e.lowerWidth:_e.width,width:_e.width,height:_e.height}}var useViewBox=()=>{var _e,et=useIsPanorama(),rt=useAppSelector(selectChartViewBox),nt=useAppSelector(selectBrushDimensions),st=(_e=useAppSelector(selectBrushSettings))===null||_e===void 0?void 0:_e.padding;return!et||!nt||!st?rt:{width:nt.width-st.left-st.right,height:nt.height-st.top-st.bottom,x:st.left,y:st.top}},manyComponentsThrowErrorsIfOffsetIsUndefined={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},useOffsetInternal=()=>{var _e;return(_e=useAppSelector(selectChartOffsetInternal))!==null&&_e!==void 0?_e:manyComponentsThrowErrorsIfOffsetIsUndefined},useChartWidth=()=>useAppSelector(selectChartWidth),useChartHeight=()=>useAppSelector(selectChartHeight),useMargin=()=>useAppSelector(_e=>_e.layout.margin),selectChartLayout=_e=>_e.layout.layoutType,useChartLayout=()=>useAppSelector(selectChartLayout),useCartesianChartLayout=()=>{var _e=useChartLayout();if(_e==="horizontal"||_e==="vertical")return _e},selectPolarChartLayout=_e=>{var et=_e.layout.layoutType;if(et==="centric"||et==="radial")return et},useIsInChartContext=()=>{var _e=useChartLayout();return _e!==void 0},ReportChartSize=_e=>{var et=useAppDispatch(),rt=useIsPanorama(),{width:nt,height:st}=_e,it=useResponsiveContainerContext(),at=nt,ot=st;return it&&(at=it.width>0?it.width:nt,ot=it.height>0?it.height:st),reactExports.useEffect(()=>{!rt&&isPositiveNumber(at)&&isPositiveNumber(ot)&&et(setChartSize({width:at,height:ot}))},[et,rt,at,ot]),null},NOTHING=Symbol.for("immer-nothing"),DRAFTABLE=Symbol.for("immer-draftable"),DRAFT_STATE=Symbol.for("immer-state");function die(_e,...et){throw new Error(`[Immer] minified error nr: ${_e}. Full error at: https://bit.ly/3cXEKWf`)}var getPrototypeOf=Object.getPrototypeOf;function isDraft(_e){return!!_e&&!!_e[DRAFT_STATE]}function isDraftable(_e){var et;return _e?isPlainObject$5(_e)||Array.isArray(_e)||!!_e[DRAFTABLE]||!!((et=_e.constructor)!=null&&et[DRAFTABLE])||isMap(_e)||isSet(_e):!1}var objectCtorString=Object.prototype.constructor.toString(),cachedCtorStrings=new WeakMap;function isPlainObject$5(_e){if(!_e||typeof _e!="object")return!1;const et=Object.getPrototypeOf(_e);if(et===null||et===Object.prototype)return!0;const rt=Object.hasOwnProperty.call(et,"constructor")&&et.constructor;if(rt===Object)return!0;if(typeof rt!="function")return!1;let nt=cachedCtorStrings.get(rt);return nt===void 0&&(nt=Function.toString.call(rt),cachedCtorStrings.set(rt,nt)),nt===objectCtorString}function each(_e,et,rt=!0){getArchtype(_e)===0?(rt?Reflect.ownKeys(_e):Object.keys(_e)).forEach(st=>{et(st,_e[st],_e)}):_e.forEach((nt,st)=>et(st,nt,_e))}function getArchtype(_e){const et=_e[DRAFT_STATE];return et?et.type_:Array.isArray(_e)?1:isMap(_e)?2:isSet(_e)?3:0}function has(_e,et){return getArchtype(_e)===2?_e.has(et):Object.prototype.hasOwnProperty.call(_e,et)}function set$1(_e,et,rt){const nt=getArchtype(_e);nt===2?_e.set(et,rt):nt===3?_e.add(rt):_e[et]=rt}function is$2(_e,et){return _e===et?_e!==0||1/_e===1/et:_e!==_e&&et!==et}function isMap(_e){return _e instanceof Map}function isSet(_e){return _e instanceof Set}function latest(_e){return _e.copy_||_e.base_}function shallowCopy(_e,et){if(isMap(_e))return new Map(_e);if(isSet(_e))return new Set(_e);if(Array.isArray(_e))return Array.prototype.slice.call(_e);const rt=isPlainObject$5(_e);if(et===!0||et==="class_only"&&!rt){const nt=Object.getOwnPropertyDescriptors(_e);delete nt[DRAFT_STATE];let st=Reflect.ownKeys(nt);for(let it=0;it<st.length;it++){const at=st[it],ot=nt[at];ot.writable===!1&&(ot.writable=!0,ot.configurable=!0),(ot.get||ot.set)&&(nt[at]={configurable:!0,writable:!0,enumerable:ot.enumerable,value:_e[at]})}return Object.create(getPrototypeOf(_e),nt)}else{const nt=getPrototypeOf(_e);if(nt!==null&&rt)return{..._e};const st=Object.create(nt);return Object.assign(st,_e)}}function freeze(_e,et=!1){return isFrozen(_e)||isDraft(_e)||!isDraftable(_e)||(getArchtype(_e)>1&&Object.defineProperties(_e,{set:dontMutateMethodOverride,add:dontMutateMethodOverride,clear:dontMutateMethodOverride,delete:dontMutateMethodOverride}),Object.freeze(_e),et&&Object.values(_e).forEach(rt=>freeze(rt,!0))),_e}function dontMutateFrozenCollections(){die(2)}var dontMutateMethodOverride={value:dontMutateFrozenCollections};function isFrozen(_e){return _e===null||typeof _e!="object"?!0:Object.isFrozen(_e)}var plugins={};function getPlugin(_e){const et=plugins[_e];return et||die(0,_e),et}var currentScope;function getCurrentScope(){return currentScope}function createScope(_e,et){return{drafts_:[],parent_:_e,immer_:et,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function usePatchesInScope(_e,et){et&&(getPlugin("Patches"),_e.patches_=[],_e.inversePatches_=[],_e.patchListener_=et)}function revokeScope(_e){leaveScope(_e),_e.drafts_.forEach(revokeDraft),_e.drafts_=null}function leaveScope(_e){_e===currentScope&&(currentScope=_e.parent_)}function enterScope(_e){return currentScope=createScope(currentScope,_e)}function revokeDraft(_e){const et=_e[DRAFT_STATE];et.type_===0||et.type_===1?et.revoke_():et.revoked_=!0}function processResult(_e,et){et.unfinalizedDrafts_=et.drafts_.length;const rt=et.drafts_[0];return _e!==void 0&&_e!==rt?(rt[DRAFT_STATE].modified_&&(revokeScope(et),die(4)),isDraftable(_e)&&(_e=finalize(et,_e),et.parent_||maybeFreeze(et,_e)),et.patches_&&getPlugin("Patches").generateReplacementPatches_(rt[DRAFT_STATE].base_,_e,et.patches_,et.inversePatches_)):_e=finalize(et,rt,[]),revokeScope(et),et.patches_&&et.patchListener_(et.patches_,et.inversePatches_),_e!==NOTHING?_e:void 0}function finalize(_e,et,rt){if(isFrozen(et))return et;const nt=_e.immer_.shouldUseStrictIteration(),st=et[DRAFT_STATE];if(!st)return each(et,(it,at)=>finalizeProperty(_e,st,et,it,at,rt),nt),et;if(st.scope_!==_e)return et;if(!st.modified_)return maybeFreeze(_e,st.base_,!0),st.base_;if(!st.finalized_){st.finalized_=!0,st.scope_.unfinalizedDrafts_--;const it=st.copy_;let at=it,ot=!1;st.type_===3&&(at=new Set(it),it.clear(),ot=!0),each(at,(lt,ct)=>finalizeProperty(_e,st,it,lt,ct,rt,ot),nt),maybeFreeze(_e,it,!1),rt&&_e.patches_&&getPlugin("Patches").generatePatches_(st,rt,_e.patches_,_e.inversePatches_)}return st.copy_}function finalizeProperty(_e,et,rt,nt,st,it,at){if(st==null||typeof st!="object"&&!at)return;const ot=isFrozen(st);if(!(ot&&!at)){if(isDraft(st)){const lt=it&&et&&et.type_!==3&&!has(et.assigned_,nt)?it.concat(nt):void 0,ct=finalize(_e,st,lt);if(set$1(rt,nt,ct),isDraft(ct))_e.canAutoFreeze_=!1;else return}else at&&rt.add(st);if(isDraftable(st)&&!ot){if(!_e.immer_.autoFreeze_&&_e.unfinalizedDrafts_<1||et&&et.base_&&et.base_[nt]===st&&ot)return;finalize(_e,st),(!et||!et.scope_.parent_)&&typeof nt!="symbol"&&(isMap(rt)?rt.has(nt):Object.prototype.propertyIsEnumerable.call(rt,nt))&&maybeFreeze(_e,st)}}}function maybeFreeze(_e,et,rt=!1){!_e.parent_&&_e.immer_.autoFreeze_&&_e.canAutoFreeze_&&freeze(et,rt)}function createProxyProxy(_e,et){const rt=Array.isArray(_e),nt={type_:rt?1:0,scope_:et?et.scope_:getCurrentScope(),modified_:!1,finalized_:!1,assigned_:{},parent_:et,base_:_e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let st=nt,it=objectTraps;rt&&(st=[nt],it=arrayTraps);const{revoke:at,proxy:ot}=Proxy.revocable(st,it);return nt.draft_=ot,nt.revoke_=at,ot}var objectTraps={get(_e,et){if(et===DRAFT_STATE)return _e;const rt=latest(_e);if(!has(rt,et))return readPropFromProto(_e,rt,et);const nt=rt[et];return _e.finalized_||!isDraftable(nt)?nt:nt===peek(_e.base_,et)?(prepareCopy(_e),_e.copy_[et]=createProxy(nt,_e)):nt},has(_e,et){return et in latest(_e)},ownKeys(_e){return Reflect.ownKeys(latest(_e))},set(_e,et,rt){const nt=getDescriptorFromProto(latest(_e),et);if(nt!=null&&nt.set)return nt.set.call(_e.draft_,rt),!0;if(!_e.modified_){const st=peek(latest(_e),et),it=st==null?void 0:st[DRAFT_STATE];if(it&&it.base_===rt)return _e.copy_[et]=rt,_e.assigned_[et]=!1,!0;if(is$2(rt,st)&&(rt!==void 0||has(_e.base_,et)))return!0;prepareCopy(_e),markChanged(_e)}return _e.copy_[et]===rt&&(rt!==void 0||et in _e.copy_)||Number.isNaN(rt)&&Number.isNaN(_e.copy_[et])||(_e.copy_[et]=rt,_e.assigned_[et]=!0),!0},deleteProperty(_e,et){return peek(_e.base_,et)!==void 0||et in _e.base_?(_e.assigned_[et]=!1,prepareCopy(_e),markChanged(_e)):delete _e.assigned_[et],_e.copy_&&delete _e.copy_[et],!0},getOwnPropertyDescriptor(_e,et){const rt=latest(_e),nt=Reflect.getOwnPropertyDescriptor(rt,et);return nt&&{writable:!0,configurable:_e.type_!==1||et!=="length",enumerable:nt.enumerable,value:rt[et]}},defineProperty(){die(11)},getPrototypeOf(_e){return getPrototypeOf(_e.base_)},setPrototypeOf(){die(12)}},arrayTraps={};each(objectTraps,(_e,et)=>{arrayTraps[_e]=function(){return arguments[0]=arguments[0][0],et.apply(this,arguments)}});arrayTraps.deleteProperty=function(_e,et){return arrayTraps.set.call(this,_e,et,void 0)};arrayTraps.set=function(_e,et,rt){return objectTraps.set.call(this,_e[0],et,rt,_e[0])};function peek(_e,et){const rt=_e[DRAFT_STATE];return(rt?latest(rt):_e)[et]}function readPropFromProto(_e,et,rt){var st;const nt=getDescriptorFromProto(et,rt);return nt?"value"in nt?nt.value:(st=nt.get)==null?void 0:st.call(_e.draft_):void 0}function getDescriptorFromProto(_e,et){if(!(et in _e))return;let rt=getPrototypeOf(_e);for(;rt;){const nt=Object.getOwnPropertyDescriptor(rt,et);if(nt)return nt;rt=getPrototypeOf(rt)}}function markChanged(_e){_e.modified_||(_e.modified_=!0,_e.parent_&&markChanged(_e.parent_))}function prepareCopy(_e){_e.copy_||(_e.copy_=shallowCopy(_e.base_,_e.scope_.immer_.useStrictShallowCopy_))}var Immer2=class{constructor(_e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(et,rt,nt)=>{if(typeof et=="function"&&typeof rt!="function"){const it=rt;rt=et;const at=this;return function(lt=it,...ct){return at.produce(lt,ut=>rt.call(this,ut,...ct))}}typeof rt!="function"&&die(6),nt!==void 0&&typeof nt!="function"&&die(7);let st;if(isDraftable(et)){const it=enterScope(this),at=createProxy(et,void 0);let ot=!0;try{st=rt(at),ot=!1}finally{ot?revokeScope(it):leaveScope(it)}return usePatchesInScope(it,nt),processResult(st,it)}else if(!et||typeof et!="object"){if(st=rt(et),st===void 0&&(st=et),st===NOTHING&&(st=void 0),this.autoFreeze_&&freeze(st,!0),nt){const it=[],at=[];getPlugin("Patches").generateReplacementPatches_(et,st,it,at),nt(it,at)}return st}else die(1,et)},this.produceWithPatches=(et,rt)=>{if(typeof et=="function")return(at,...ot)=>this.produceWithPatches(at,lt=>et(lt,...ot));let nt,st;return[this.produce(et,rt,(at,ot)=>{nt=at,st=ot}),nt,st]},typeof(_e==null?void 0:_e.autoFreeze)=="boolean"&&this.setAutoFreeze(_e.autoFreeze),typeof(_e==null?void 0:_e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(_e.useStrictShallowCopy),typeof(_e==null?void 0:_e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(_e.useStrictIteration)}createDraft(_e){isDraftable(_e)||die(8),isDraft(_e)&&(_e=current(_e));const et=enterScope(this),rt=createProxy(_e,void 0);return rt[DRAFT_STATE].isManual_=!0,leaveScope(et),rt}finishDraft(_e,et){const rt=_e&&_e[DRAFT_STATE];(!rt||!rt.isManual_)&&die(9);const{scope_:nt}=rt;return usePatchesInScope(nt,et),processResult(void 0,nt)}setAutoFreeze(_e){this.autoFreeze_=_e}setUseStrictShallowCopy(_e){this.useStrictShallowCopy_=_e}setUseStrictIteration(_e){this.useStrictIteration_=_e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(_e,et){let rt;for(rt=et.length-1;rt>=0;rt--){const st=et[rt];if(st.path.length===0&&st.op==="replace"){_e=st.value;break}}rt>-1&&(et=et.slice(rt+1));const nt=getPlugin("Patches").applyPatches_;return isDraft(_e)?nt(_e,et):this.produce(_e,st=>nt(st,et))}};function createProxy(_e,et){const rt=isMap(_e)?getPlugin("MapSet").proxyMap_(_e,et):isSet(_e)?getPlugin("MapSet").proxySet_(_e,et):createProxyProxy(_e,et);return(et?et.scope_:getCurrentScope()).drafts_.push(rt),rt}function current(_e){return isDraft(_e)||die(10,_e),currentImpl(_e)}function currentImpl(_e){if(!isDraftable(_e)||isFrozen(_e))return _e;const et=_e[DRAFT_STATE];let rt,nt=!0;if(et){if(!et.modified_)return et.base_;et.finalized_=!0,rt=shallowCopy(_e,et.scope_.immer_.useStrictShallowCopy_),nt=et.scope_.immer_.shouldUseStrictIteration()}else rt=shallowCopy(_e,!0);return each(rt,(st,it)=>{set$1(rt,st,currentImpl(it))},nt),et&&(et.finalized_=!1),rt}var immer=new Immer2;immer.produce;function castDraft(_e){return _e}var initialState$b={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},legendSlice=createSlice({name:"legend",initialState:initialState$b,reducers:{setLegendSize(_e,et){_e.size.width=et.payload.width,_e.size.height=et.payload.height},setLegendSettings(_e,et){_e.settings.align=et.payload.align,_e.settings.layout=et.payload.layout,_e.settings.verticalAlign=et.payload.verticalAlign,_e.settings.itemSorter=et.payload.itemSorter},addLegendPayload:{reducer(_e,et){_e.payload.push(et.payload)},prepare:prepareAutoBatched()},replaceLegendPayload:{reducer(_e,et){var{prev:rt,next:nt}=et.payload,st=current$1(_e).payload.indexOf(rt);st>-1&&(_e.payload[st]=nt)},prepare:prepareAutoBatched()},removeLegendPayload:{reducer(_e,et){var rt=current$1(_e).payload.indexOf(et.payload);rt>-1&&_e.payload.splice(rt,1)},prepare:prepareAutoBatched()}}}),{setLegendSize,setLegendSettings,addLegendPayload,replaceLegendPayload,removeLegendPayload}=legendSlice.actions,legendReducer=legendSlice.reducer,_excluded$n=["contextPayload"];function _extends$p(){return _extends$p=Object.assign?Object.assign.bind():function(_e){for(var et=1;et<arguments.length;et++){var rt=arguments[et];for(var nt in rt)({}).hasOwnProperty.call(rt,nt)&&(_e[nt]=rt[nt])}return _e},_extends$p.apply(null,arguments)}function ownKeys$D(_e,et){var rt=Object.keys(_e);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);et&&(nt=nt.filter(function(st){return Object.getOwnPropertyDescriptor(_e,st).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$C(_e){for(var et=1;et<arguments.length;et++){var rt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$D(Object(rt),!0).forEach(function(nt){_defineProperty$F(_e,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(rt)):ownKeys$D(Object(rt)).forEach(function(nt){Object.defineProperty(_e,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return _e}function _defineProperty$F(_e,et,rt){return(et=_toPropertyKey$F(et))in _e?Object.defineProperty(_e,et,{value:rt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=rt,_e}function _toPropertyKey$F(_e){var et=_toPrimitive$F(_e,"string");return typeof et=="symbol"?et:et+""}function _toPrimitive$F(_e,et){if(typeof _e!="object"||!_e)return _e;var rt=_e[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(_e,et);if(typeof nt!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(_e)}function _objectWithoutProperties$m(_e,et){if(_e==null)return{};var rt,nt,st=_objectWithoutPropertiesLoose$m(_e,et);if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(_e);for(nt=0;nt<it.length;nt++)rt=it[nt],et.indexOf(rt)===-1&&{}.propertyIsEnumerable.call(_e,rt)&&(st[rt]=_e[rt])}return st}function _objectWithoutPropertiesLoose$m(_e,et){if(_e==null)return{};var rt={};for(var nt in _e)if({}.hasOwnProperty.call(_e,nt)){if(et.indexOf(nt)!==-1)continue;rt[nt]=_e[nt]}return rt}function defaultUniqBy$1(_e){return _e.value}function LegendContent(_e){var{contextPayload:et}=_e,rt=_objectWithoutProperties$m(_e,_excluded$n),nt=getUniqPayload(et,_e.payloadUniqBy,defaultUniqBy$1),st=_objectSpread$C(_objectSpread$C({},rt),{},{payload:nt});return reactExports.isValidElement(_e.content)?reactExports.cloneElement(_e.content,st):typeof _e.content=="function"?reactExports.createElement(_e.content,st):reactExports.createElement(DefaultLegendContent,st)}function getDefaultPosition(_e,et,rt,nt,st,it){var{layout:at,align:ot,verticalAlign:lt}=et,ct,ut;return(!_e||(_e.left===void 0||_e.left===null)&&(_e.right===void 0||_e.right===null))&&(ot==="center"&&at==="vertical"?ct={left:((nt||0)-it.width)/2}:ct=ot==="right"?{right:rt&&rt.right||0}:{left:rt&&rt.left||0}),(!_e||(_e.top===void 0||_e.top===null)&&(_e.bottom===void 0||_e.bottom===null))&&(lt==="middle"?ut={top:((st||0)-it.height)/2}:ut=lt==="bottom"?{bottom:rt&&rt.bottom||0}:{top:rt&&rt.top||0}),_objectSpread$C(_objectSpread$C({},ct),ut)}function LegendSettingsDispatcher(_e){var et=useAppDispatch();return reactExports.useEffect(()=>{et(setLegendSettings(_e))},[et,_e]),null}function LegendSizeDispatcher(_e){var et=useAppDispatch();return reactExports.useEffect(()=>(et(setLegendSize(_e)),()=>{et(setLegendSize({width:0,height:0}))}),[et,_e]),null}function getWidthOrHeight(_e,et,rt,nt){return _e==="vertical"&&et!=null?{height:et}:_e==="horizontal"?{width:rt||nt}:null}var legendDefaultProps={align:"center",iconSize:14,inactiveColor:"#ccc",itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function Legend(_e){var et=resolveDefaultProps(_e,legendDefaultProps),rt=useLegendPayload(),nt=useLegendPortal(),st=useMargin(),{width:it,height:at,wrapperStyle:ot,portal:lt}=et,[ct,ut]=useElementOffset([rt]),dt=useChartWidth(),pt=useChartHeight();if(dt==null||pt==null)return null;var mt=dt-((st==null?void 0:st.left)||0)-((st==null?void 0:st.right)||0),xt=getWidthOrHeight(et.layout,at,it,mt),yt=lt?ot:_objectSpread$C(_objectSpread$C({position:"absolute",width:(xt==null?void 0:xt.width)||it||"auto",height:(xt==null?void 0:xt.height)||at||"auto"},getDefaultPosition(ot,et,st,dt,pt,ct)),ot),vt=lt??nt;if(vt==null||rt==null)return null;var gt=reactExports.createElement("div",{className:"recharts-legend-wrapper",style:yt,ref:ut},reactExports.createElement(LegendSettingsDispatcher,{layout:et.layout,align:et.align,verticalAlign:et.verticalAlign,itemSorter:et.itemSorter}),!lt&&reactExports.createElement(LegendSizeDispatcher,{width:ct.width,height:ct.height}),reactExports.createElement(LegendContent,_extends$p({},et,xt,{margin:st,chartWidth:dt,chartHeight:pt,contextPayload:rt})));return reactDomExports.createPortal(gt,vt)}Legend.displayName="Legend";function _extends$o(){return _extends$o=Object.assign?Object.assign.bind():function(_e){for(var et=1;et<arguments.length;et++){var rt=arguments[et];for(var nt in rt)({}).hasOwnProperty.call(rt,nt)&&(_e[nt]=rt[nt])}return _e},_extends$o.apply(null,arguments)}function ownKeys$C(_e,et){var rt=Object.keys(_e);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);et&&(nt=nt.filter(function(st){return Object.getOwnPropertyDescriptor(_e,st).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$B(_e){for(var et=1;et<arguments.length;et++){var rt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$C(Object(rt),!0).forEach(function(nt){_defineProperty$E(_e,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(rt)):ownKeys$C(Object(rt)).forEach(function(nt){Object.defineProperty(_e,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return _e}function _defineProperty$E(_e,et,rt){return(et=_toPropertyKey$E(et))in _e?Object.defineProperty(_e,et,{value:rt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=rt,_e}function _toPropertyKey$E(_e){var et=_toPrimitive$E(_e,"string");return typeof et=="symbol"?et:et+""}function _toPrimitive$E(_e,et){if(typeof _e!="object"||!_e)return _e;var rt=_e[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(_e,et);if(typeof nt!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(_e)}function defaultFormatter(_e){return Array.isArray(_e)&&isNumOrStr(_e[0])&&isNumOrStr(_e[1])?_e.join(" ~ "):_e}var defaultDefaultTooltipContentProps={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},DefaultTooltipContent=_e=>{var{separator:et=defaultDefaultTooltipContentProps.separator,contentStyle:rt,itemStyle:nt,labelStyle:st=defaultDefaultTooltipContentProps.labelStyle,payload:it,formatter:at,itemSorter:ot,wrapperClassName:lt,labelClassName:ct,label:ut,labelFormatter:dt,accessibilityLayer:pt=defaultDefaultTooltipContentProps.accessibilityLayer}=_e,mt=()=>{if(it&&it.length){var Rt={padding:0,margin:0},St=(ot?sortBy$1(it,ot):it).map((_t,Nt)=>{if(_t.type==="none")return null;var Lt=_t.formatter||at||defaultFormatter,{value:$t,name:Ft}=_t,Tt=$t,Bt=Ft;if(Lt){var Wt=Lt($t,Ft,_t,Nt,it);if(Array.isArray(Wt))[Tt,Bt]=Wt;else if(Wt!=null)Tt=Wt;else return null}var qt=_objectSpread$B(_objectSpread$B({},defaultDefaultTooltipContentProps.itemStyle),{},{color:_t.color||defaultDefaultTooltipContentProps.itemStyle.color},nt);return reactExports.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Nt),style:qt},isNumOrStr(Bt)?reactExports.createElement("span",{className:"recharts-tooltip-item-name"},Bt):null,isNumOrStr(Bt)?reactExports.createElement("span",{className:"recharts-tooltip-item-separator"},et):null,reactExports.createElement("span",{className:"recharts-tooltip-item-value"},Tt),reactExports.createElement("span",{className:"recharts-tooltip-item-unit"},_t.unit||""))});return reactExports.createElement("ul",{className:"recharts-tooltip-item-list",style:Rt},St)}return null},xt=_objectSpread$B(_objectSpread$B({},defaultDefaultTooltipContentProps.contentStyle),rt),yt=_objectSpread$B({margin:0},st),vt=!isNullish(ut),gt=vt?ut:"",Et=clsx("recharts-default-tooltip",lt),jt=clsx("recharts-tooltip-label",ct);vt&&dt&&it!==void 0&&it!==null&&(gt=dt(ut,it));var kt=pt?{role:"status","aria-live":"assertive"}:{};return reactExports.createElement("div",_extends$o({className:Et,style:xt},kt),reactExports.createElement("p",{className:jt,style:yt},reactExports.isValidElement(gt)?gt:"".concat(gt)),mt())},CSS_CLASS_PREFIX="recharts-tooltip-wrapper",TOOLTIP_HIDDEN={visibility:"hidden"};function getTooltipCSSClassName(_e){var{coordinate:et,translateX:rt,translateY:nt}=_e;return clsx(CSS_CLASS_PREFIX,{["".concat(CSS_CLASS_PREFIX,"-right")]:isNumber$1(rt)&&et&&isNumber$1(et.x)&&rt>=et.x,["".concat(CSS_CLASS_PREFIX,"-left")]:isNumber$1(rt)&&et&&isNumber$1(et.x)&&rt<et.x,["".concat(CSS_CLASS_PREFIX,"-bottom")]:isNumber$1(nt)&&et&&isNumber$1(et.y)&&nt>=et.y,["".concat(CSS_CLASS_PREFIX,"-top")]:isNumber$1(nt)&&et&&isNumber$1(et.y)&&nt<et.y})}function getTooltipTranslateXY(_e){var{allowEscapeViewBox:et,coordinate:rt,key:nt,offset:st,position:it,reverseDirection:at,tooltipDimension:ot,viewBox:lt,viewBoxDimension:ct}=_e;if(it&&isNumber$1(it[nt]))return it[nt];var ut=rt[nt]-ot-(st>0?st:0),dt=rt[nt]+st;if(et[nt])return at[nt]?ut:dt;var pt=lt[nt];if(pt==null)return 0;if(at[nt]){var mt=ut,xt=pt;return mt<xt?Math.max(dt,pt):Math.max(ut,pt)}if(ct==null)return 0;var yt=dt+ot,vt=pt+ct;return yt>vt?Math.max(ut,pt):Math.max(dt,pt)}function getTransformStyle(_e){var{translateX:et,translateY:rt,useTranslate3d:nt}=_e;return{transform:nt?"translate3d(".concat(et,"px, ").concat(rt,"px, 0)"):"translate(".concat(et,"px, ").concat(rt,"px)")}}function getTooltipTranslate(_e){var{allowEscapeViewBox:et,coordinate:rt,offsetTop:nt,offsetLeft:st,position:it,reverseDirection:at,tooltipBox:ot,useTranslate3d:lt,viewBox:ct}=_e,ut,dt,pt;return ot.height>0&&ot.width>0&&rt?(dt=getTooltipTranslateXY({allowEscapeViewBox:et,coordinate:rt,key:"x",offset:st,position:it,reverseDirection:at,tooltipDimension:ot.width,viewBox:ct,viewBoxDimension:ct.width}),pt=getTooltipTranslateXY({allowEscapeViewBox:et,coordinate:rt,key:"y",offset:nt,position:it,reverseDirection:at,tooltipDimension:ot.height,viewBox:ct,viewBoxDimension:ct.height}),ut=getTransformStyle({translateX:dt,translateY:pt,useTranslate3d:lt})):ut=TOOLTIP_HIDDEN,{cssProperties:ut,cssClasses:getTooltipCSSClassName({translateX:dt,translateY:pt,coordinate:rt})}}function ownKeys$B(_e,et){var rt=Object.keys(_e);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);et&&(nt=nt.filter(function(st){return Object.getOwnPropertyDescriptor(_e,st).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$A(_e){for(var et=1;et<arguments.length;et++){var rt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$B(Object(rt),!0).forEach(function(nt){_defineProperty$D(_e,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(rt)):ownKeys$B(Object(rt)).forEach(function(nt){Object.defineProperty(_e,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return _e}function _defineProperty$D(_e,et,rt){return(et=_toPropertyKey$D(et))in _e?Object.defineProperty(_e,et,{value:rt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=rt,_e}function _toPropertyKey$D(_e){var et=_toPrimitive$D(_e,"string");return typeof et=="symbol"?et:et+""}function _toPrimitive$D(_e,et){if(typeof _e!="object"||!_e)return _e;var rt=_e[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(_e,et);if(typeof nt!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(_e)}class TooltipBoundingBox extends reactExports.PureComponent{constructor(){super(...arguments),_defineProperty$D(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),_defineProperty$D(this,"handleKeyDown",et=>{if(et.key==="Escape"){var rt,nt,st,it;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(rt=(nt=this.props.coordinate)===null||nt===void 0?void 0:nt.x)!==null&&rt!==void 0?rt:0,y:(st=(it=this.props.coordinate)===null||it===void 0?void 0:it.y)!==null&&st!==void 0?st:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var et,rt;this.state.dismissed&&(((et=this.props.coordinate)===null||et===void 0?void 0:et.x)!==this.state.dismissedAtCoordinate.x||((rt=this.props.coordinate)===null||rt===void 0?void 0:rt.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:et,allowEscapeViewBox:rt,animationDuration:nt,animationEasing:st,children:it,coordinate:at,hasPayload:ot,isAnimationActive:lt,offset:ct,position:ut,reverseDirection:dt,useTranslate3d:pt,viewBox:mt,wrapperStyle:xt,lastBoundingBox:yt,innerRef:vt,hasPortalFromProps:gt}=this.props,Et=typeof ct=="number"?ct:ct.x,jt=typeof ct=="number"?ct:ct.y,{cssClasses:kt,cssProperties:Rt}=getTooltipTranslate({allowEscapeViewBox:rt,coordinate:at,offsetLeft:Et,offsetTop:jt,position:ut,reverseDirection:dt,tooltipBox:{height:yt.height,width:yt.width},useTranslate3d:pt,viewBox:mt}),St=gt?{}:_objectSpread$A(_objectSpread$A({transition:lt&&et?"transform ".concat(nt,"ms ").concat(st):void 0},Rt),{},{pointerEvents:"none",visibility:!this.state.dismissed&&et&&ot?"visible":"hidden",position:"absolute",top:0,left:0}),_t=_objectSpread$A(_objectSpread$A({},St),{},{visibility:!this.state.dismissed&&et&&ot?"visible":"hidden"},xt);return reactExports.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:kt,style:_t,ref:vt},it)}}var useAccessibilityLayer=()=>{var _e;return(_e=useAppSelector(et=>et.rootProps.accessibilityLayer))!==null&&_e!==void 0?_e:!0};function _extends$n(){return _extends$n=Object.assign?Object.assign.bind():function(_e){for(var et=1;et<arguments.length;et++){var rt=arguments[et];for(var nt in rt)({}).hasOwnProperty.call(rt,nt)&&(_e[nt]=rt[nt])}return _e},_extends$n.apply(null,arguments)}function ownKeys$A(_e,et){var rt=Object.keys(_e);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);et&&(nt=nt.filter(function(st){return Object.getOwnPropertyDescriptor(_e,st).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$z(_e){for(var et=1;et<arguments.length;et++){var rt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$A(Object(rt),!0).forEach(function(nt){_defineProperty$C(_e,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(rt)):ownKeys$A(Object(rt)).forEach(function(nt){Object.defineProperty(_e,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return _e}function _defineProperty$C(_e,et,rt){return(et=_toPropertyKey$C(et))in _e?Object.defineProperty(_e,et,{value:rt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=rt,_e}function _toPropertyKey$C(_e){var et=_toPrimitive$C(_e,"string");return typeof et=="symbol"?et:et+""}function _toPrimitive$C(_e,et){if(typeof _e!="object"||!_e)return _e;var rt=_e[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(_e,et);if(typeof nt!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(_e)}var CURVE_FACTORIES={curveBasisClosed,curveBasisOpen,curveBasis,curveBumpX:bumpX,curveBumpY:bumpY,curveLinearClosed,curveLinear,curveMonotoneX:monotoneX,curveMonotoneY:monotoneY,curveNatural,curveStep,curveStepAfter:stepAfter,curveStepBefore:stepBefore},defined=_e=>isWellBehavedNumber(_e.x)&&isWellBehavedNumber(_e.y),areaDefined=_e=>_e.base!=null&&defined(_e.base)&&defined(_e),getX=_e=>_e.x,getY=_e=>_e.y,getCurveFactory=(_e,et)=>{if(typeof _e=="function")return _e;var rt="curve".concat(upperFirst(_e));if((rt==="curveMonotone"||rt==="curveBump")&&et){var nt=CURVE_FACTORIES["".concat(rt).concat(et==="vertical"?"Y":"X")];if(nt)return nt}return CURVE_FACTORIES[rt]||curveLinear},defaultCurveProps={connectNulls:!1,type:"linear"},getPath$1=_e=>{var{type:et=defaultCurveProps.type,points:rt=[],baseLine:nt,layout:st,connectNulls:it=defaultCurveProps.connectNulls}=_e,at=getCurveFactory(et,st),ot=it?rt.filter(defined):rt;if(Array.isArray(nt)){var lt,ct=rt.map((xt,yt)=>_objectSpread$z(_objectSpread$z({},xt),{},{base:nt[yt]}));st==="vertical"?lt=shapeArea().y(getY).x1(getX).x0(xt=>xt.base.x):lt=shapeArea().x(getX).y1(getY).y0(xt=>xt.base.y);var ut=lt.defined(areaDefined).curve(at),dt=it?ct.filter(areaDefined):ct;return ut(dt)}var pt;st==="vertical"&&isNumber$1(nt)?pt=shapeArea().y(getY).x1(getX).x0(nt):isNumber$1(nt)?pt=shapeArea().x(getX).y1(getY).y0(nt):pt=shapeLine().x(getX).y(getY);var mt=pt.defined(defined).curve(at);return mt(ot)},Curve=_e=>{var{className:et,points:rt,path:nt,pathRef:st}=_e,it=useChartLayout();if((!rt||!rt.length)&&!nt)return null;var at={type:_e.type,points:_e.points,baseLine:_e.baseLine,layout:_e.layout||it,connectNulls:_e.connectNulls},ot=rt&&rt.length?getPath$1(at):nt;return reactExports.createElement("path",_extends$n({},svgPropertiesNoEvents(_e),adaptEventHandlers(_e),{className:clsx("recharts-curve",et),d:ot===null?void 0:ot,ref:st}))},_excluded$m=["x","y","top","left","width","height","className"];function _extends$m(){return _extends$m=Object.assign?Object.assign.bind():function(_e){for(var et=1;et<arguments.length;et++){var rt=arguments[et];for(var nt in rt)({}).hasOwnProperty.call(rt,nt)&&(_e[nt]=rt[nt])}return _e},_extends$m.apply(null,arguments)}function ownKeys$z(_e,et){var rt=Object.keys(_e);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);et&&(nt=nt.filter(function(st){return Object.getOwnPropertyDescriptor(_e,st).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$y(_e){for(var et=1;et<arguments.length;et++){var rt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$z(Object(rt),!0).forEach(function(nt){_defineProperty$B(_e,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(rt)):ownKeys$z(Object(rt)).forEach(function(nt){Object.defineProperty(_e,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return _e}function _defineProperty$B(_e,et,rt){return(et=_toPropertyKey$B(et))in _e?Object.defineProperty(_e,et,{value:rt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=rt,_e}function _toPropertyKey$B(_e){var et=_toPrimitive$B(_e,"string");return typeof et=="symbol"?et:et+""}function _toPrimitive$B(_e,et){if(typeof _e!="object"||!_e)return _e;var rt=_e[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(_e,et);if(typeof nt!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(_e)}function _objectWithoutProperties$l(_e,et){if(_e==null)return{};var rt,nt,st=_objectWithoutPropertiesLoose$l(_e,et);if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(_e);for(nt=0;nt<it.length;nt++)rt=it[nt],et.indexOf(rt)===-1&&{}.propertyIsEnumerable.call(_e,rt)&&(st[rt]=_e[rt])}return st}function _objectWithoutPropertiesLoose$l(_e,et){if(_e==null)return{};var rt={};for(var nt in _e)if({}.hasOwnProperty.call(_e,nt)){if(et.indexOf(nt)!==-1)continue;rt[nt]=_e[nt]}return rt}var getPath=(_e,et,rt,nt,st,it)=>"M".concat(_e,",").concat(st,"v").concat(nt,"M").concat(it,",").concat(et,"h").concat(rt),Cross=_e=>{var{x:et=0,y:rt=0,top:nt=0,left:st=0,width:it=0,height:at=0,className:ot}=_e,lt=_objectWithoutProperties$l(_e,_excluded$m),ct=_objectSpread$y({x:et,y:rt,top:nt,left:st,width:it,height:at},lt);return!isNumber$1(et)||!isNumber$1(rt)||!isNumber$1(it)||!isNumber$1(at)||!isNumber$1(nt)||!isNumber$1(st)?null:reactExports.createElement("path",_extends$m({},svgPropertiesAndEvents(ct),{className:clsx("recharts-cross",ot),d:getPath(et,rt,it,at,nt,st)}))};function getCursorRectangle(_e,et,rt,nt){var st=nt/2;return{stroke:"none",fill:"#ccc",x:_e==="horizontal"?et.x-st:rt.left+.5,y:_e==="horizontal"?rt.top+.5:et.y-st,width:_e==="horizontal"?nt:rt.width-1,height:_e==="horizontal"?rt.height-1:nt}}function ownKeys$y(_e,et){var rt=Object.keys(_e);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);et&&(nt=nt.filter(function(st){return Object.getOwnPropertyDescriptor(_e,st).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$x(_e){for(var et=1;et<arguments.length;et++){var rt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$y(Object(rt),!0).forEach(function(nt){_defineProperty$A(_e,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(rt)):ownKeys$y(Object(rt)).forEach(function(nt){Object.defineProperty(_e,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return _e}function _defineProperty$A(_e,et,rt){return(et=_toPropertyKey$A(et))in _e?Object.defineProperty(_e,et,{value:rt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=rt,_e}function _toPropertyKey$A(_e){var et=_toPrimitive$A(_e,"string");return typeof et=="symbol"?et:et+""}function _toPrimitive$A(_e,et){if(typeof _e!="object"||!_e)return _e;var rt=_e[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(_e,et);if(typeof nt!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(_e)}var getDashCase=_e=>_e.replace(/([A-Z])/g,et=>"-".concat(et.toLowerCase())),getTransitionVal=(_e,et,rt)=>_e.map(nt=>"".concat(getDashCase(nt)," ").concat(et,"ms ").concat(rt)).join(","),getIntersectionKeys=(_e,et)=>[Object.keys(_e),Object.keys(et)].reduce((rt,nt)=>rt.filter(st=>nt.includes(st))),mapObject=(_e,et)=>Object.keys(et).reduce((rt,nt)=>_objectSpread$x(_objectSpread$x({},rt),{},{[nt]:_e(nt,et[nt])}),{});function ownKeys$x(_e,et){var rt=Object.keys(_e);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);et&&(nt=nt.filter(function(st){return Object.getOwnPropertyDescriptor(_e,st).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$w(_e){for(var et=1;et<arguments.length;et++){var rt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$x(Object(rt),!0).forEach(function(nt){_defineProperty$z(_e,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(rt)):ownKeys$x(Object(rt)).forEach(function(nt){Object.defineProperty(_e,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return _e}function _defineProperty$z(_e,et,rt){return(et=_toPropertyKey$z(et))in _e?Object.defineProperty(_e,et,{value:rt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=rt,_e}function _toPropertyKey$z(_e){var et=_toPrimitive$z(_e,"string");return typeof et=="symbol"?et:et+""}function _toPrimitive$z(_e,et){if(typeof _e!="object"||!_e)return _e;var rt=_e[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(_e,et);if(typeof nt!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(_e)}var alpha$1=(_e,et,rt)=>_e+(et-_e)*rt,needContinue=_e=>{var{from:et,to:rt}=_e;return et!==rt},calStepperVals=(_e,et,rt)=>{var nt=mapObject((st,it)=>{if(needContinue(it)){var[at,ot]=_e(it.from,it.to,it.velocity);return _objectSpread$w(_objectSpread$w({},it),{},{from:at,velocity:ot})}return it},et);return rt<1?mapObject((st,it)=>needContinue(it)&&nt[st]!=null?_objectSpread$w(_objectSpread$w({},it),{},{velocity:alpha$1(it.velocity,nt[st].velocity,rt),from:alpha$1(it.from,nt[st].from,rt)}):it,et):calStepperVals(_e,nt,rt-1)};function createStepperUpdate(_e,et,rt,nt,st,it){var at,ot=nt.reduce((pt,mt)=>_objectSpread$w(_objectSpread$w({},pt),{},{[mt]:{from:_e[mt],velocity:0,to:et[mt]}}),{}),lt=()=>mapObject((pt,mt)=>mt.from,ot),ct=()=>!Object.values(ot).filter(needContinue).length,ut=null,dt=pt=>{at||(at=pt);var mt=pt-at,xt=mt/rt.dt;ot=calStepperVals(rt,ot,xt),st(_objectSpread$w(_objectSpread$w(_objectSpread$w({},_e),et),lt())),at=pt,ct()||(ut=it.setTimeout(dt))};return()=>(ut=it.setTimeout(dt),()=>{var pt;(pt=ut)===null||pt===void 0||pt()})}function createTimingUpdate(_e,et,rt,nt,st,it,at){var ot=null,lt=st.reduce((dt,pt)=>{var mt=_e[pt],xt=et[pt];return mt==null||xt==null?dt:_objectSpread$w(_objectSpread$w({},dt),{},{[pt]:[mt,xt]})},{}),ct,ut=dt=>{ct||(ct=dt);var pt=(dt-ct)/nt,mt=mapObject((yt,vt)=>alpha$1(...vt,rt(pt)),lt);if(it(_objectSpread$w(_objectSpread$w(_objectSpread$w({},_e),et),mt)),pt<1)ot=at.setTimeout(ut);else{var xt=mapObject((yt,vt)=>alpha$1(...vt,rt(1)),lt);it(_objectSpread$w(_objectSpread$w(_objectSpread$w({},_e),et),xt))}};return()=>(ot=at.setTimeout(ut),()=>{var dt;(dt=ot)===null||dt===void 0||dt()})}const configUpdate=(_e,et,rt,nt,st,it)=>{var at=getIntersectionKeys(_e,et);return rt==null?()=>(st(_objectSpread$w(_objectSpread$w({},_e),et)),()=>{}):rt.isStepper===!0?createStepperUpdate(_e,et,rt,at,st,it):createTimingUpdate(_e,et,rt,nt,at,st,it)};var ACCURACY=1e-4,cubicBezierFactor=(_e,et)=>[0,3*_e,3*et-6*_e,3*_e-3*et+1],evaluatePolynomial=(_e,et)=>_e.map((rt,nt)=>rt*et**nt).reduce((rt,nt)=>rt+nt),cubicBezier=(_e,et)=>rt=>{var nt=cubicBezierFactor(_e,et);return evaluatePolynomial(nt,rt)},derivativeCubicBezier=(_e,et)=>rt=>{var nt=cubicBezierFactor(_e,et),st=[...nt.map((it,at)=>it*at).slice(1),0];return evaluatePolynomial(st,rt)},parseCubicBezier=_e=>{var et,rt=_e.split("(");if(rt.length!==2||rt[0]!=="cubic-bezier")return null;var nt=(et=rt[1])===null||et===void 0||(et=et.split(")")[0])===null||et===void 0?void 0:et.split(",");if(nt==null||nt.length!==4)return null;var st=nt.map(it=>parseFloat(it));return[st[0],st[1],st[2],st[3]]},getBezierCoordinates=function(){for(var et=arguments.length,rt=new Array(et),nt=0;nt<et;nt++)rt[nt]=arguments[nt];if(rt.length===1)switch(rt[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var st=parseCubicBezier(rt[0]);if(st)return st}}return rt.length===4?rt:[0,0,1,1]},createBezierEasing=(_e,et,rt,nt)=>{var st=cubicBezier(_e,rt),it=cubicBezier(et,nt),at=derivativeCubicBezier(_e,rt),ot=ct=>ct>1?1:ct<0?0:ct,lt=ct=>{for(var ut=ct>1?1:ct,dt=ut,pt=0;pt<8;++pt){var mt=st(dt)-ut,xt=at(dt);if(Math.abs(mt-ut)<ACCURACY||xt<ACCURACY)return it(dt);dt=ot(dt-mt/xt)}return it(dt)};return lt.isStepper=!1,lt},configBezier=function(){return createBezierEasing(...getBezierCoordinates(...arguments))},configSpring=function(){var et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:rt=100,damping:nt=8,dt:st=17}=et,it=(at,ot,lt)=>{var ct=-(at-ot)*rt,ut=lt*nt,dt=lt+(ct-ut)*st/1e3,pt=lt*st/1e3+at;return Math.abs(pt-ot)<ACCURACY&&Math.abs(dt)<ACCURACY?[ot,0]:[pt,dt]};return it.isStepper=!0,it.dt=st,it},configEasing=_e=>{if(typeof _e=="string")switch(_e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return configBezier(_e);case"spring":return configSpring();default:if(_e.split("(")[0]==="cubic-bezier")return configBezier(_e)}return typeof _e=="function"?_e:null};function createAnimateManager(_e){var et,rt=()=>null,nt=!1,st=null,it=at=>{if(!nt){if(Array.isArray(at)){if(!at.length)return;var ot=at,[lt,...ct]=ot;if(typeof lt=="number"){st=_e.setTimeout(it.bind(null,ct),lt);return}it(lt),st=_e.setTimeout(it.bind(null,ct));return}typeof at=="string"&&(et=at,rt(et)),typeof at=="object"&&(et=at,rt(et)),typeof at=="function"&&at()}};return{stop:()=>{nt=!0},start:at=>{nt=!1,st&&(st(),st=null),it(at)},subscribe:at=>(rt=at,()=>{rt=()=>null}),getTimeoutController:()=>_e}}class RequestAnimationFrameTimeoutController{setTimeout(et){var rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,nt=performance.now(),st=null,it=at=>{at-nt>=rt?et(at):typeof requestAnimationFrame=="function"&&(st=requestAnimationFrame(it))};return st=requestAnimationFrame(it),()=>{st!=null&&cancelAnimationFrame(st)}}}function createDefaultAnimationManager(){return createAnimateManager(new RequestAnimationFrameTimeoutController)}var AnimationManagerContext=reactExports.createContext(createDefaultAnimationManager);function useAnimationManager(_e,et){var rt=reactExports.useContext(AnimationManagerContext);return reactExports.useMemo(()=>et??rt(_e),[_e,et,rt])}var parseIsSsrByDefault=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Global={isSsr:parseIsSsrByDefault()},defaultJavascriptAnimateProps={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},from={t:0},to={t:1};function JavascriptAnimate(_e){var et=resolveDefaultProps(_e,defaultJavascriptAnimateProps),{isActive:rt,canBegin:nt,duration:st,easing:it,begin:at,onAnimationEnd:ot,onAnimationStart:lt,children:ct}=et,ut=rt==="auto"?!Global.isSsr:rt,dt=useAnimationManager(et.animationId,et.animationManager),[pt,mt]=reactExports.useState(ut?from:to),xt=reactExports.useRef(null);return reactExports.useEffect(()=>{ut||mt(to)},[ut]),reactExports.useEffect(()=>{if(!ut||!nt)return noop$3;var yt=configUpdate(from,to,configEasing(it),st,mt,dt.getTimeoutController()),vt=()=>{xt.current=yt()};return dt.start([lt,at,vt,st,ot]),()=>{dt.stop(),xt.current&&xt.current(),ot()}},[ut,nt,st,it,at,lt,ot,dt]),ct(pt.t)}function useAnimationId(_e){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",rt=reactExports.useRef(uniqueId(et)),nt=reactExports.useRef(_e);return nt.current!==_e&&(rt.current=uniqueId(et),nt.current=_e),rt.current}var _excluded$l=["radius"],_excluded2$a=["radius"],_templateObject$2,_templateObject2$2,_templateObject3$2,_templateObject4$2,_templateObject5$2,_templateObject6$1,_templateObject7$1,_templateObject8,_templateObject9,_templateObject0;function ownKeys$w(_e,et){var rt=Object.keys(_e);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);et&&(nt=nt.filter(function(st){return Object.getOwnPropertyDescriptor(_e,st).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$v(_e){for(var et=1;et<arguments.length;et++){var rt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$w(Object(rt),!0).forEach(function(nt){_defineProperty$y(_e,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(rt)):ownKeys$w(Object(rt)).forEach(function(nt){Object.defineProperty(_e,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return _e}function _defineProperty$y(_e,et,rt){return(et=_toPropertyKey$y(et))in _e?Object.defineProperty(_e,et,{value:rt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=rt,_e}function _toPropertyKey$y(_e){var et=_toPrimitive$y(_e,"string");return typeof et=="symbol"?et:et+""}function _toPrimitive$y(_e,et){if(typeof _e!="object"||!_e)return _e;var rt=_e[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(_e,et);if(typeof nt!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(_e)}function _extends$l(){return _extends$l=Object.assign?Object.assign.bind():function(_e){for(var et=1;et<arguments.length;et++){var rt=arguments[et];for(var nt in rt)({}).hasOwnProperty.call(rt,nt)&&(_e[nt]=rt[nt])}return _e},_extends$l.apply(null,arguments)}function _objectWithoutProperties$k(_e,et){if(_e==null)return{};var rt,nt,st=_objectWithoutPropertiesLoose$k(_e,et);if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(_e);for(nt=0;nt<it.length;nt++)rt=it[nt],et.indexOf(rt)===-1&&{}.propertyIsEnumerable.call(_e,rt)&&(st[rt]=_e[rt])}return st}function _objectWithoutPropertiesLoose$k(_e,et){if(_e==null)return{};var rt={};for(var nt in _e)if({}.hasOwnProperty.call(_e,nt)){if(et.indexOf(nt)!==-1)continue;rt[nt]=_e[nt]}return rt}function _taggedTemplateLiteral$2(_e,et){return et||(et=_e.slice(0)),Object.freeze(Object.defineProperties(_e,{raw:{value:Object.freeze(et)}}))}var getRectanglePath=(_e,et,rt,nt,st)=>{var it=round$1(rt),at=round$1(nt),ot=Math.min(Math.abs(it)/2,Math.abs(at)/2),lt=at>=0?1:-1,ct=it>=0?1:-1,ut=at>=0&&it>=0||at<0&&it<0?1:0,dt;if(ot>0&&Array.isArray(st)){for(var pt=[0,0,0,0],mt=0,xt=4;mt<xt;mt++){var yt,vt=(yt=st[mt])!==null&&yt!==void 0?yt:0;pt[mt]=vt>ot?ot:vt}dt=roundTemplateLiteral(_templateObject$2||(_templateObject$2=_taggedTemplateLiteral$2(["M",",",""])),_e,et+lt*pt[0]),pt[0]>0&&(dt+=roundTemplateLiteral(_templateObject2$2||(_templateObject2$2=_taggedTemplateLiteral$2(["A ",",",",0,0,",",",",",""])),pt[0],pt[0],ut,_e+ct*pt[0],et)),dt+=roundTemplateLiteral(_templateObject3$2||(_templateObject3$2=_taggedTemplateLiteral$2(["L ",",",""])),_e+rt-ct*pt[1],et),pt[1]>0&&(dt+=roundTemplateLiteral(_templateObject4$2||(_templateObject4$2=_taggedTemplateLiteral$2(["A ",",",",0,0,",`,
        `,",",""])),pt[1],pt[1],ut,_e+rt,et+lt*pt[1])),dt+=roundTemplateLiteral(_templateObject5$2||(_templateObject5$2=_taggedTemplateLiteral$2(["L ",",",""])),_e+rt,et+nt-lt*pt[2]),pt[2]>0&&(dt+=roundTemplateLiteral(_templateObject6$1||(_templateObject6$1=_taggedTemplateLiteral$2(["A ",",",",0,0,",`,
        `,",",""])),pt[2],pt[2],ut,_e+rt-ct*pt[2],et+nt)),dt+=roundTemplateLiteral(_templateObject7$1||(_templateObject7$1=_taggedTemplateLiteral$2(["L ",",",""])),_e+ct*pt[3],et+nt),pt[3]>0&&(dt+=roundTemplateLiteral(_templateObject8||(_templateObject8=_taggedTemplateLiteral$2(["A ",",",",0,0,",`,
        `,",",""])),pt[3],pt[3],ut,_e,et+nt-lt*pt[3])),dt+="Z"}else if(ot>0&&st===+st&&st>0){var gt=Math.min(ot,st);dt=roundTemplateLiteral(_templateObject9||(_templateObject9=_taggedTemplateLiteral$2(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),_e,et+lt*gt,gt,gt,ut,_e+ct*gt,et,_e+rt-ct*gt,et,gt,gt,ut,_e+rt,et+lt*gt,_e+rt,et+nt-lt*gt,gt,gt,ut,_e+rt-ct*gt,et+nt,_e+ct*gt,et+nt,gt,gt,ut,_e,et+nt-lt*gt)}else dt=roundTemplateLiteral(_templateObject0||(_templateObject0=_taggedTemplateLiteral$2(["M ",","," h "," v "," h "," Z"])),_e,et,rt,nt,-rt);return dt},defaultRectangleProps={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Rectangle=_e=>{var et=resolveDefaultProps(_e,defaultRectangleProps),rt=reactExports.useRef(null),[nt,st]=reactExports.useState(-1);reactExports.useEffect(()=>{if(rt.current&&rt.current.getTotalLength)try{var Dt=rt.current.getTotalLength();Dt&&st(Dt)}catch{}},[]);var{x:it,y:at,width:ot,height:lt,radius:ct,className:ut}=et,{animationEasing:dt,animationDuration:pt,animationBegin:mt,isAnimationActive:xt,isUpdateAnimationActive:yt}=et,vt=reactExports.useRef(ot),gt=reactExports.useRef(lt),Et=reactExports.useRef(it),jt=reactExports.useRef(at),kt=reactExports.useMemo(()=>({x:it,y:at,width:ot,height:lt,radius:ct}),[it,at,ot,lt,ct]),Rt=useAnimationId(kt,"rectangle-");if(it!==+it||at!==+at||ot!==+ot||lt!==+lt||ot===0||lt===0)return null;var St=clsx("recharts-rectangle",ut);if(!yt){var _t=svgPropertiesAndEvents(et),{radius:Nt}=_t,Lt=_objectWithoutProperties$k(_t,_excluded$l);return reactExports.createElement("path",_extends$l({},Lt,{x:round$1(it),y:round$1(at),width:round$1(ot),height:round$1(lt),radius:typeof ct=="number"?ct:void 0,className:St,d:getRectanglePath(it,at,ot,lt,ct)}))}var $t=vt.current,Ft=gt.current,Tt=Et.current,Bt=jt.current,Wt="0px ".concat(nt===-1?1:nt,"px"),qt="".concat(nt,"px 0px"),Ot=getTransitionVal(["strokeDasharray"],pt,typeof dt=="string"?dt:defaultRectangleProps.animationEasing);return reactExports.createElement(JavascriptAnimate,{animationId:Rt,key:Rt,canBegin:nt>0,duration:pt,easing:dt,isActive:yt,begin:mt},Dt=>{var Pt=interpolate$1($t,ot,Dt),It=interpolate$1(Ft,lt,Dt),At=interpolate$1(Tt,it,Dt),Ht=interpolate$1(Bt,at,Dt);rt.current&&(vt.current=Pt,gt.current=It,Et.current=At,jt.current=Ht);var Gt;xt?Dt>0?Gt={transition:Ot,strokeDasharray:qt}:Gt={strokeDasharray:Wt}:Gt={strokeDasharray:qt};var Vt=svgPropertiesAndEvents(et),{radius:Jt}=Vt,rr=_objectWithoutProperties$k(Vt,_excluded2$a);return reactExports.createElement("path",_extends$l({},rr,{radius:typeof ct=="number"?ct:void 0,className:St,d:getRectanglePath(At,Ht,Pt,It,ct),ref:rt,style:_objectSpread$v(_objectSpread$v({},Gt),et.style)}))})};function ownKeys$v(_e,et){var rt=Object.keys(_e);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);et&&(nt=nt.filter(function(st){return Object.getOwnPropertyDescriptor(_e,st).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$u(_e){for(var et=1;et<arguments.length;et++){var rt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$v(Object(rt),!0).forEach(function(nt){_defineProperty$x(_e,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(rt)):ownKeys$v(Object(rt)).forEach(function(nt){Object.defineProperty(_e,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return _e}function _defineProperty$x(_e,et,rt){return(et=_toPropertyKey$x(et))in _e?Object.defineProperty(_e,et,{value:rt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=rt,_e}function _toPropertyKey$x(_e){var et=_toPrimitive$x(_e,"string");return typeof et=="symbol"?et:et+""}function _toPrimitive$x(_e,et){if(typeof _e!="object"||!_e)return _e;var rt=_e[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(_e,et);if(typeof nt!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(_e)}var RADIAN=Math.PI/180,radianToDegree=_e=>_e*180/Math.PI,polarToCartesian=(_e,et,rt,nt)=>({x:_e+Math.cos(-RADIAN*nt)*rt,y:et+Math.sin(-RADIAN*nt)*rt}),getMaxRadius=function(et,rt){var nt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(et-(nt.left||0)-(nt.right||0)),Math.abs(rt-(nt.top||0)-(nt.bottom||0)))/2},distanceBetweenPoints=(_e,et)=>{var{x:rt,y:nt}=_e,{x:st,y:it}=et;return Math.sqrt((rt-st)**2+(nt-it)**2)},getAngleOfPoint=(_e,et)=>{var{x:rt,y:nt}=_e,{cx:st,cy:it}=et,at=distanceBetweenPoints({x:rt,y:nt},{x:st,y:it});if(at<=0)return{radius:at,angle:0};var ot=(rt-st)/at,lt=Math.acos(ot);return nt>it&&(lt=2*Math.PI-lt),{radius:at,angle:radianToDegree(lt),angleInRadian:lt}},formatAngleOfSector=_e=>{var{startAngle:et,endAngle:rt}=_e,nt=Math.floor(et/360),st=Math.floor(rt/360),it=Math.min(nt,st);return{startAngle:et-it*360,endAngle:rt-it*360}},reverseFormatAngleOfSector=(_e,et)=>{var{startAngle:rt,endAngle:nt}=et,st=Math.floor(rt/360),it=Math.floor(nt/360),at=Math.min(st,it);return _e+at*360},inRangeOfSector=(_e,et)=>{var{chartX:rt,chartY:nt}=_e,{radius:st,angle:it}=getAngleOfPoint({x:rt,y:nt},et),{innerRadius:at,outerRadius:ot}=et;if(st<at||st>ot||st===0)return null;var{startAngle:lt,endAngle:ct}=formatAngleOfSector(et),ut=it,dt;if(lt<=ct){for(;ut>ct;)ut-=360;for(;ut<lt;)ut+=360;dt=ut>=lt&&ut<=ct}else{for(;ut>lt;)ut-=360;for(;ut<ct;)ut+=360;dt=ut>=ct&&ut<=lt}return dt?_objectSpread$u(_objectSpread$u({},et),{},{radius:st,angle:reverseFormatAngleOfSector(ut,et)}):null};function getRadialCursorPoints(_e){var{cx:et,cy:rt,radius:nt,startAngle:st,endAngle:it}=_e,at=polarToCartesian(et,rt,nt,st),ot=polarToCartesian(et,rt,nt,it);return{points:[at,ot],cx:et,cy:rt,radius:nt,startAngle:st,endAngle:it}}var _templateObject$1,_templateObject2$1,_templateObject3$1,_templateObject4$1,_templateObject5$1,_templateObject6,_templateObject7;function _extends$k(){return _extends$k=Object.assign?Object.assign.bind():function(_e){for(var et=1;et<arguments.length;et++){var rt=arguments[et];for(var nt in rt)({}).hasOwnProperty.call(rt,nt)&&(_e[nt]=rt[nt])}return _e},_extends$k.apply(null,arguments)}function _taggedTemplateLiteral$1(_e,et){return et||(et=_e.slice(0)),Object.freeze(Object.defineProperties(_e,{raw:{value:Object.freeze(et)}}))}var getDeltaAngle$1=(_e,et)=>{var rt=mathSign(et-_e),nt=Math.min(Math.abs(et-_e),359.999);return rt*nt},getTangentCircle=_e=>{var{cx:et,cy:rt,radius:nt,angle:st,sign:it,isExternal:at,cornerRadius:ot,cornerIsExternal:lt}=_e,ct=ot*(at?1:-1)+nt,ut=Math.asin(ot/ct)/RADIAN,dt=lt?st:st+it*ut,pt=polarToCartesian(et,rt,ct,dt),mt=polarToCartesian(et,rt,nt,dt),xt=lt?st-it*ut:st,yt=polarToCartesian(et,rt,ct*Math.cos(ut*RADIAN),xt);return{center:pt,circleTangency:mt,lineTangency:yt,theta:ut}},getSectorPath=_e=>{var{cx:et,cy:rt,innerRadius:nt,outerRadius:st,startAngle:it,endAngle:at}=_e,ot=getDeltaAngle$1(it,at),lt=it+ot,ct=polarToCartesian(et,rt,st,it),ut=polarToCartesian(et,rt,st,lt),dt=roundTemplateLiteral(_templateObject$1||(_templateObject$1=_taggedTemplateLiteral$1(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),ct.x,ct.y,st,st,+(Math.abs(ot)>180),+(it>lt),ut.x,ut.y);if(nt>0){var pt=polarToCartesian(et,rt,nt,it),mt=polarToCartesian(et,rt,nt,lt);dt+=roundTemplateLiteral(_templateObject2$1||(_templateObject2$1=_taggedTemplateLiteral$1(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),mt.x,mt.y,nt,nt,+(Math.abs(ot)>180),+(it<=lt),pt.x,pt.y)}else dt+=roundTemplateLiteral(_templateObject3$1||(_templateObject3$1=_taggedTemplateLiteral$1(["L ",","," Z"])),et,rt);return dt},getSectorWithCorner=_e=>{var{cx:et,cy:rt,innerRadius:nt,outerRadius:st,cornerRadius:it,forceCornerRadius:at,cornerIsExternal:ot,startAngle:lt,endAngle:ct}=_e,ut=mathSign(ct-lt),{circleTangency:dt,lineTangency:pt,theta:mt}=getTangentCircle({cx:et,cy:rt,radius:st,angle:lt,sign:ut,cornerRadius:it,cornerIsExternal:ot}),{circleTangency:xt,lineTangency:yt,theta:vt}=getTangentCircle({cx:et,cy:rt,radius:st,angle:ct,sign:-ut,cornerRadius:it,cornerIsExternal:ot}),gt=ot?Math.abs(lt-ct):Math.abs(lt-ct)-mt-vt;if(gt<0)return at?roundTemplateLiteral(_templateObject4$1||(_templateObject4$1=_taggedTemplateLiteral$1(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),pt.x,pt.y,it,it,it*2,it,it,-it*2):getSectorPath({cx:et,cy:rt,innerRadius:nt,outerRadius:st,startAngle:lt,endAngle:ct});var Et=roundTemplateLiteral(_templateObject5$1||(_templateObject5$1=_taggedTemplateLiteral$1(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),pt.x,pt.y,it,it,+(ut<0),dt.x,dt.y,st,st,+(gt>180),+(ut<0),xt.x,xt.y,it,it,+(ut<0),yt.x,yt.y);if(nt>0){var{circleTangency:jt,lineTangency:kt,theta:Rt}=getTangentCircle({cx:et,cy:rt,radius:nt,angle:lt,sign:ut,isExternal:!0,cornerRadius:it,cornerIsExternal:ot}),{circleTangency:St,lineTangency:_t,theta:Nt}=getTangentCircle({cx:et,cy:rt,radius:nt,angle:ct,sign:-ut,isExternal:!0,cornerRadius:it,cornerIsExternal:ot}),Lt=ot?Math.abs(lt-ct):Math.abs(lt-ct)-Rt-Nt;if(Lt<0&&it===0)return"".concat(Et,"L").concat(et,",").concat(rt,"Z");Et+=roundTemplateLiteral(_templateObject6||(_templateObject6=_taggedTemplateLiteral$1(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),_t.x,_t.y,it,it,+(ut<0),St.x,St.y,nt,nt,+(Lt>180),+(ut>0),jt.x,jt.y,it,it,+(ut<0),kt.x,kt.y)}else Et+=roundTemplateLiteral(_templateObject7||(_templateObject7=_taggedTemplateLiteral$1(["L",",","Z"])),et,rt);return Et},defaultSectorProps={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Sector=_e=>{var et=resolveDefaultProps(_e,defaultSectorProps),{cx:rt,cy:nt,innerRadius:st,outerRadius:it,cornerRadius:at,forceCornerRadius:ot,cornerIsExternal:lt,startAngle:ct,endAngle:ut,className:dt}=et;if(it<st||ct===ut)return null;var pt=clsx("recharts-sector",dt),mt=it-st,xt=getPercentValue(at,mt,0,!0),yt;return xt>0&&Math.abs(ct-ut)<360?yt=getSectorWithCorner({cx:rt,cy:nt,innerRadius:st,outerRadius:it,cornerRadius:Math.min(xt,mt/2),forceCornerRadius:ot,cornerIsExternal:lt,startAngle:ct,endAngle:ut}):yt=getSectorPath({cx:rt,cy:nt,innerRadius:st,outerRadius:it,startAngle:ct,endAngle:ut}),reactExports.createElement("path",_extends$k({},svgPropertiesAndEvents(et),{className:pt,d:yt}))};function getCursorPoints(_e,et,rt){if(_e==="horizontal")return[{x:et.x,y:rt.top},{x:et.x,y:rt.top+rt.height}];if(_e==="vertical")return[{x:rt.left,y:et.y},{x:rt.left+rt.width,y:et.y}];if(isPolarCoordinate(et)){if(_e==="centric"){var{cx:nt,cy:st,innerRadius:it,outerRadius:at,angle:ot}=et,lt=polarToCartesian(nt,st,it,ot),ct=polarToCartesian(nt,st,at,ot);return[{x:lt.x,y:lt.y},{x:ct.x,y:ct.y}]}return getRadialCursorPoints(et)}}var range$3={},toFinite={},toNumber={};(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});const et=isSymbol;function rt(nt){return et.isSymbol(nt)?NaN:Number(nt)}_e.toNumber=rt})(toNumber);(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});const et=toNumber;function rt(nt){return nt?(nt=et.toNumber(nt),nt===1/0||nt===-1/0?(nt<0?-1:1)*Number.MAX_VALUE:nt===nt?nt:0):nt===0?nt:0}_e.toFinite=rt})(toFinite);(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});const et=isIterateeCall,rt=toFinite;function nt(st,it,at){at&&typeof at!="number"&&et.isIterateeCall(st,it,at)&&(it=at=void 0),st=rt.toFinite(st),it===void 0?(it=st,st=0):it=rt.toFinite(it),at=at===void 0?st<it?1:-1:rt.toFinite(at);const ot=Math.max(Math.ceil((it-st)/(at||1)),0),lt=new Array(ot);for(let ct=0;ct<ot;ct++)lt[ct]=st,st+=at;return lt}_e.range=nt})(range$3);var range$1=range$3.range;const range$2=getDefaultExportFromCjs(range$1);function ascending(_e,et){return _e==null||et==null?NaN:_e<et?-1:_e>et?1:_e>=et?0:NaN}function descending(_e,et){return _e==null||et==null?NaN:et<_e?-1:et>_e?1:et>=_e?0:NaN}function bisector(_e){let et,rt,nt;_e.length!==2?(et=ascending,rt=(ot,lt)=>ascending(_e(ot),lt),nt=(ot,lt)=>_e(ot)-lt):(et=_e===ascending||_e===descending?_e:zero$1,rt=_e,nt=_e);function st(ot,lt,ct=0,ut=ot.length){if(ct<ut){if(et(lt,lt)!==0)return ut;do{const dt=ct+ut>>>1;rt(ot[dt],lt)<0?ct=dt+1:ut=dt}while(ct<ut)}return ct}function it(ot,lt,ct=0,ut=ot.length){if(ct<ut){if(et(lt,lt)!==0)return ut;do{const dt=ct+ut>>>1;rt(ot[dt],lt)<=0?ct=dt+1:ut=dt}while(ct<ut)}return ct}function at(ot,lt,ct=0,ut=ot.length){const dt=st(ot,lt,ct,ut-1);return dt>ct&&nt(ot[dt-1],lt)>-nt(ot[dt],lt)?dt-1:dt}return{left:st,center:at,right:it}}function zero$1(){return 0}function number$2(_e){return _e===null?NaN:+_e}function*numbers(_e,et){for(let rt of _e)rt!=null&&(rt=+rt)>=rt&&(yield rt)}const ascendingBisect=bisector(ascending),bisectRight=ascendingBisect.right;bisector(number$2).center;class InternMap extends Map{constructor(et,rt=keyof){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:rt}}),et!=null)for(const[nt,st]of et)this.set(nt,st)}get(et){return super.get(intern_get(this,et))}has(et){return super.has(intern_get(this,et))}set(et,rt){return super.set(intern_set(this,et),rt)}delete(et){return super.delete(intern_delete(this,et))}}function intern_get({_intern:_e,_key:et},rt){const nt=et(rt);return _e.has(nt)?_e.get(nt):rt}function intern_set({_intern:_e,_key:et},rt){const nt=et(rt);return _e.has(nt)?_e.get(nt):(_e.set(nt,rt),rt)}function intern_delete({_intern:_e,_key:et},rt){const nt=et(rt);return _e.has(nt)&&(rt=_e.get(nt),_e.delete(nt)),rt}function keyof(_e){return _e!==null&&typeof _e=="object"?_e.valueOf():_e}function compareDefined(_e=ascending){if(_e===ascending)return ascendingDefined;if(typeof _e!="function")throw new TypeError("compare is not a function");return(et,rt)=>{const nt=_e(et,rt);return nt||nt===0?nt:(_e(rt,rt)===0)-(_e(et,et)===0)}}function ascendingDefined(_e,et){return(_e==null||!(_e>=_e))-(et==null||!(et>=et))||(_e<et?-1:_e>et?1:0)}const e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function tickSpec(_e,et,rt){const nt=(et-_e)/Math.max(0,rt),st=Math.floor(Math.log10(nt)),it=nt/Math.pow(10,st),at=it>=e10?10:it>=e5?5:it>=e2?2:1;let ot,lt,ct;return st<0?(ct=Math.pow(10,-st)/at,ot=Math.round(_e*ct),lt=Math.round(et*ct),ot/ct<_e&&++ot,lt/ct>et&&--lt,ct=-ct):(ct=Math.pow(10,st)*at,ot=Math.round(_e/ct),lt=Math.round(et/ct),ot*ct<_e&&++ot,lt*ct>et&&--lt),lt<ot&&.5<=rt&&rt<2?tickSpec(_e,et,rt*2):[ot,lt,ct]}function ticks(_e,et,rt){if(et=+et,_e=+_e,rt=+rt,!(rt>0))return[];if(_e===et)return[_e];const nt=et<_e,[st,it,at]=nt?tickSpec(et,_e,rt):tickSpec(_e,et,rt);if(!(it>=st))return[];const ot=it-st+1,lt=new Array(ot);if(nt)if(at<0)for(let ct=0;ct<ot;++ct)lt[ct]=(it-ct)/-at;else for(let ct=0;ct<ot;++ct)lt[ct]=(it-ct)*at;else if(at<0)for(let ct=0;ct<ot;++ct)lt[ct]=(st+ct)/-at;else for(let ct=0;ct<ot;++ct)lt[ct]=(st+ct)*at;return lt}function tickIncrement(_e,et,rt){return et=+et,_e=+_e,rt=+rt,tickSpec(_e,et,rt)[2]}function tickStep(_e,et,rt){et=+et,_e=+_e,rt=+rt;const nt=et<_e,st=nt?tickIncrement(et,_e,rt):tickIncrement(_e,et,rt);return(nt?-1:1)*(st<0?1/-st:st)}function max(_e,et){let rt;for(const nt of _e)nt!=null&&(rt<nt||rt===void 0&&nt>=nt)&&(rt=nt);return rt}function min(_e,et){let rt;for(const nt of _e)nt!=null&&(rt>nt||rt===void 0&&nt>=nt)&&(rt=nt);return rt}function quickselect(_e,et,rt=0,nt=1/0,st){if(et=Math.floor(et),rt=Math.floor(Math.max(0,rt)),nt=Math.floor(Math.min(_e.length-1,nt)),!(rt<=et&&et<=nt))return _e;for(st=st===void 0?ascendingDefined:compareDefined(st);nt>rt;){if(nt-rt>600){const lt=nt-rt+1,ct=et-rt+1,ut=Math.log(lt),dt=.5*Math.exp(2*ut/3),pt=.5*Math.sqrt(ut*dt*(lt-dt)/lt)*(ct-lt/2<0?-1:1),mt=Math.max(rt,Math.floor(et-ct*dt/lt+pt)),xt=Math.min(nt,Math.floor(et+(lt-ct)*dt/lt+pt));quickselect(_e,et,mt,xt,st)}const it=_e[et];let at=rt,ot=nt;for(swap(_e,rt,et),st(_e[nt],it)>0&&swap(_e,rt,nt);at<ot;){for(swap(_e,at,ot),++at,--ot;st(_e[at],it)<0;)++at;for(;st(_e[ot],it)>0;)--ot}st(_e[rt],it)===0?swap(_e,rt,ot):(++ot,swap(_e,ot,nt)),ot<=et&&(rt=ot+1),et<=ot&&(nt=ot-1)}return _e}function swap(_e,et,rt){const nt=_e[et];_e[et]=_e[rt],_e[rt]=nt}function quantile$1(_e,et,rt){if(_e=Float64Array.from(numbers(_e)),!(!(nt=_e.length)||isNaN(et=+et))){if(et<=0||nt<2)return min(_e);if(et>=1)return max(_e);var nt,st=(nt-1)*et,it=Math.floor(st),at=max(quickselect(_e,it).subarray(0,it+1)),ot=min(_e.subarray(it+1));return at+(ot-at)*(st-it)}}function quantileSorted(_e,et,rt=number$2){if(!(!(nt=_e.length)||isNaN(et=+et))){if(et<=0||nt<2)return+rt(_e[0],0,_e);if(et>=1)return+rt(_e[nt-1],nt-1,_e);var nt,st=(nt-1)*et,it=Math.floor(st),at=+rt(_e[it],it,_e),ot=+rt(_e[it+1],it+1,_e);return at+(ot-at)*(st-it)}}function range(_e,et,rt){_e=+_e,et=+et,rt=(st=arguments.length)<2?(et=_e,_e=0,1):st<3?1:+rt;for(var nt=-1,st=Math.max(0,Math.ceil((et-_e)/rt))|0,it=new Array(st);++nt<st;)it[nt]=_e+nt*rt;return it}function initRange(_e,et){switch(arguments.length){case 0:break;case 1:this.range(_e);break;default:this.range(et).domain(_e);break}return this}function initInterpolator(_e,et){switch(arguments.length){case 0:break;case 1:{typeof _e=="function"?this.interpolator(_e):this.range(_e);break}default:{this.domain(_e),typeof et=="function"?this.interpolator(et):this.range(et);break}}return this}const implicit=Symbol("implicit");function ordinal(){var _e=new InternMap,et=[],rt=[],nt=implicit;function st(it){let at=_e.get(it);if(at===void 0){if(nt!==implicit)return nt;_e.set(it,at=et.push(it)-1)}return rt[at%rt.length]}return st.domain=function(it){if(!arguments.length)return et.slice();et=[],_e=new InternMap;for(const at of it)_e.has(at)||_e.set(at,et.push(at)-1);return st},st.range=function(it){return arguments.length?(rt=Array.from(it),st):rt.slice()},st.unknown=function(it){return arguments.length?(nt=it,st):nt},st.copy=function(){return ordinal(et,rt).unknown(nt)},initRange.apply(st,arguments),st}function band(){var _e=ordinal().unknown(void 0),et=_e.domain,rt=_e.range,nt=0,st=1,it,at,ot=!1,lt=0,ct=0,ut=.5;delete _e.unknown;function dt(){var pt=et().length,mt=st<nt,xt=mt?st:nt,yt=mt?nt:st;it=(yt-xt)/Math.max(1,pt-lt+ct*2),ot&&(it=Math.floor(it)),xt+=(yt-xt-it*(pt-lt))*ut,at=it*(1-lt),ot&&(xt=Math.round(xt),at=Math.round(at));var vt=range(pt).map(function(gt){return xt+it*gt});return rt(mt?vt.reverse():vt)}return _e.domain=function(pt){return arguments.length?(et(pt),dt()):et()},_e.range=function(pt){return arguments.length?([nt,st]=pt,nt=+nt,st=+st,dt()):[nt,st]},_e.rangeRound=function(pt){return[nt,st]=pt,nt=+nt,st=+st,ot=!0,dt()},_e.bandwidth=function(){return at},_e.step=function(){return it},_e.round=function(pt){return arguments.length?(ot=!!pt,dt()):ot},_e.padding=function(pt){return arguments.length?(lt=Math.min(1,ct=+pt),dt()):lt},_e.paddingInner=function(pt){return arguments.length?(lt=Math.min(1,pt),dt()):lt},_e.paddingOuter=function(pt){return arguments.length?(ct=+pt,dt()):ct},_e.align=function(pt){return arguments.length?(ut=Math.max(0,Math.min(1,pt)),dt()):ut},_e.copy=function(){return band(et(),[nt,st]).round(ot).paddingInner(lt).paddingOuter(ct).align(ut)},initRange.apply(dt(),arguments)}function pointish(_e){var et=_e.copy;return _e.padding=_e.paddingOuter,delete _e.paddingInner,delete _e.paddingOuter,_e.copy=function(){return pointish(et())},_e}function point(){return pointish(band.apply(null,arguments).paddingInner(1))}function define(_e,et,rt){_e.prototype=et.prototype=rt,rt.constructor=_e}function extend(_e,et){var rt=Object.create(_e.prototype);for(var nt in et)rt[nt]=et[nt];return rt}function Color(){}var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define(Color,color,{copy(_e){return Object.assign(new this.constructor,this,_e)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:color_formatHex8,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb});function color_formatHex(){return this.rgb().formatHex()}function color_formatHex8(){return this.rgb().formatHex8()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color(_e){var et,rt;return _e=(_e+"").trim().toLowerCase(),(et=reHex.exec(_e))?(rt=et[1].length,et=parseInt(et[1],16),rt===6?rgbn(et):rt===3?new Rgb(et>>8&15|et>>4&240,et>>4&15|et&240,(et&15)<<4|et&15,1):rt===8?rgba(et>>24&255,et>>16&255,et>>8&255,(et&255)/255):rt===4?rgba(et>>12&15|et>>8&240,et>>8&15|et>>4&240,et>>4&15|et&240,((et&15)<<4|et&15)/255):null):(et=reRgbInteger.exec(_e))?new Rgb(et[1],et[2],et[3],1):(et=reRgbPercent.exec(_e))?new Rgb(et[1]*255/100,et[2]*255/100,et[3]*255/100,1):(et=reRgbaInteger.exec(_e))?rgba(et[1],et[2],et[3],et[4]):(et=reRgbaPercent.exec(_e))?rgba(et[1]*255/100,et[2]*255/100,et[3]*255/100,et[4]):(et=reHslPercent.exec(_e))?hsla(et[1],et[2]/100,et[3]/100,1):(et=reHslaPercent.exec(_e))?hsla(et[1],et[2]/100,et[3]/100,et[4]):named.hasOwnProperty(_e)?rgbn(named[_e]):_e==="transparent"?new Rgb(NaN,NaN,NaN,0):null}function rgbn(_e){return new Rgb(_e>>16&255,_e>>8&255,_e&255,1)}function rgba(_e,et,rt,nt){return nt<=0&&(_e=et=rt=NaN),new Rgb(_e,et,rt,nt)}function rgbConvert(_e){return _e instanceof Color||(_e=color(_e)),_e?(_e=_e.rgb(),new Rgb(_e.r,_e.g,_e.b,_e.opacity)):new Rgb}function rgb$1(_e,et,rt,nt){return arguments.length===1?rgbConvert(_e):new Rgb(_e,et,rt,nt??1)}function Rgb(_e,et,rt,nt){this.r=+_e,this.g=+et,this.b=+rt,this.opacity=+nt}define(Rgb,rgb$1,extend(Color,{brighter(_e){return _e=_e==null?brighter:Math.pow(brighter,_e),new Rgb(this.r*_e,this.g*_e,this.b*_e,this.opacity)},darker(_e){return _e=_e==null?darker:Math.pow(darker,_e),new Rgb(this.r*_e,this.g*_e,this.b*_e,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:rgb_formatHex8,formatRgb:rgb_formatRgb,toString:rgb_formatRgb}));function rgb_formatHex(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}`}function rgb_formatHex8(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity)?1:this.opacity)*255)}`}function rgb_formatRgb(){const _e=clampa(this.opacity);return`${_e===1?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${_e===1?")":`, ${_e})`}`}function clampa(_e){return isNaN(_e)?1:Math.max(0,Math.min(1,_e))}function clampi(_e){return Math.max(0,Math.min(255,Math.round(_e)||0))}function hex(_e){return _e=clampi(_e),(_e<16?"0":"")+_e.toString(16)}function hsla(_e,et,rt,nt){return nt<=0?_e=et=rt=NaN:rt<=0||rt>=1?_e=et=NaN:et<=0&&(_e=NaN),new Hsl(_e,et,rt,nt)}function hslConvert(_e){if(_e instanceof Hsl)return new Hsl(_e.h,_e.s,_e.l,_e.opacity);if(_e instanceof Color||(_e=color(_e)),!_e)return new Hsl;if(_e instanceof Hsl)return _e;_e=_e.rgb();var et=_e.r/255,rt=_e.g/255,nt=_e.b/255,st=Math.min(et,rt,nt),it=Math.max(et,rt,nt),at=NaN,ot=it-st,lt=(it+st)/2;return ot?(et===it?at=(rt-nt)/ot+(rt<nt)*6:rt===it?at=(nt-et)/ot+2:at=(et-rt)/ot+4,ot/=lt<.5?it+st:2-it-st,at*=60):ot=lt>0&&lt<1?0:at,new Hsl(at,ot,lt,_e.opacity)}function hsl(_e,et,rt,nt){return arguments.length===1?hslConvert(_e):new Hsl(_e,et,rt,nt??1)}function Hsl(_e,et,rt,nt){this.h=+_e,this.s=+et,this.l=+rt,this.opacity=+nt}define(Hsl,hsl,extend(Color,{brighter(_e){return _e=_e==null?brighter:Math.pow(brighter,_e),new Hsl(this.h,this.s,this.l*_e,this.opacity)},darker(_e){return _e=_e==null?darker:Math.pow(darker,_e),new Hsl(this.h,this.s,this.l*_e,this.opacity)},rgb(){var _e=this.h%360+(this.h<0)*360,et=isNaN(_e)||isNaN(this.s)?0:this.s,rt=this.l,nt=rt+(rt<.5?rt:1-rt)*et,st=2*rt-nt;return new Rgb(hsl2rgb(_e>=240?_e-240:_e+120,st,nt),hsl2rgb(_e,st,nt),hsl2rgb(_e<120?_e+240:_e-120,st,nt),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const _e=clampa(this.opacity);return`${_e===1?"hsl(":"hsla("}${clamph(this.h)}, ${clampt(this.s)*100}%, ${clampt(this.l)*100}%${_e===1?")":`, ${_e})`}`}}));function clamph(_e){return _e=(_e||0)%360,_e<0?_e+360:_e}function clampt(_e){return Math.max(0,Math.min(1,_e||0))}function hsl2rgb(_e,et,rt){return(_e<60?et+(rt-et)*_e/60:_e<180?rt:_e<240?et+(rt-et)*(240-_e)/60:et)*255}const constant=_e=>()=>_e;function linear$1(_e,et){return function(rt){return _e+rt*et}}function exponential(_e,et,rt){return _e=Math.pow(_e,rt),et=Math.pow(et,rt)-_e,rt=1/rt,function(nt){return Math.pow(_e+nt*et,rt)}}function gamma(_e){return(_e=+_e)==1?nogamma:function(et,rt){return rt-et?exponential(et,rt,_e):constant(isNaN(et)?rt:et)}}function nogamma(_e,et){var rt=et-_e;return rt?linear$1(_e,rt):constant(isNaN(_e)?et:_e)}const rgb=function _e(et){var rt=gamma(et);function nt(st,it){var at=rt((st=rgb$1(st)).r,(it=rgb$1(it)).r),ot=rt(st.g,it.g),lt=rt(st.b,it.b),ct=nogamma(st.opacity,it.opacity);return function(ut){return st.r=at(ut),st.g=ot(ut),st.b=lt(ut),st.opacity=ct(ut),st+""}}return nt.gamma=_e,nt}(1);function numberArray(_e,et){et||(et=[]);var rt=_e?Math.min(et.length,_e.length):0,nt=et.slice(),st;return function(it){for(st=0;st<rt;++st)nt[st]=_e[st]*(1-it)+et[st]*it;return nt}}function isNumberArray(_e){return ArrayBuffer.isView(_e)&&!(_e instanceof DataView)}function genericArray(_e,et){var rt=et?et.length:0,nt=_e?Math.min(rt,_e.length):0,st=new Array(nt),it=new Array(rt),at;for(at=0;at<nt;++at)st[at]=interpolate(_e[at],et[at]);for(;at<rt;++at)it[at]=et[at];return function(ot){for(at=0;at<nt;++at)it[at]=st[at](ot);return it}}function date$1(_e,et){var rt=new Date;return _e=+_e,et=+et,function(nt){return rt.setTime(_e*(1-nt)+et*nt),rt}}function interpolateNumber(_e,et){return _e=+_e,et=+et,function(rt){return _e*(1-rt)+et*rt}}function object(_e,et){var rt={},nt={},st;(_e===null||typeof _e!="object")&&(_e={}),(et===null||typeof et!="object")&&(et={});for(st in et)st in _e?rt[st]=interpolate(_e[st],et[st]):nt[st]=et[st];return function(it){for(st in rt)nt[st]=rt[st](it);return nt}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero(_e){return function(){return _e}}function one(_e){return function(et){return _e(et)+""}}function string(_e,et){var rt=reA.lastIndex=reB.lastIndex=0,nt,st,it,at=-1,ot=[],lt=[];for(_e=_e+"",et=et+"";(nt=reA.exec(_e))&&(st=reB.exec(et));)(it=st.index)>rt&&(it=et.slice(rt,it),ot[at]?ot[at]+=it:ot[++at]=it),(nt=nt[0])===(st=st[0])?ot[at]?ot[at]+=st:ot[++at]=st:(ot[++at]=null,lt.push({i:at,x:interpolateNumber(nt,st)})),rt=reB.lastIndex;return rt<et.length&&(it=et.slice(rt),ot[at]?ot[at]+=it:ot[++at]=it),ot.length<2?lt[0]?one(lt[0].x):zero(et):(et=lt.length,function(ct){for(var ut=0,dt;ut<et;++ut)ot[(dt=lt[ut]).i]=dt.x(ct);return ot.join("")})}function interpolate(_e,et){var rt=typeof et,nt;return et==null||rt==="boolean"?constant(et):(rt==="number"?interpolateNumber:rt==="string"?(nt=color(et))?(et=nt,rgb):string:et instanceof color?rgb:et instanceof Date?date$1:isNumberArray(et)?numberArray:Array.isArray(et)?genericArray:typeof et.valueOf!="function"&&typeof et.toString!="function"||isNaN(et)?object:interpolateNumber)(_e,et)}function interpolateRound(_e,et){return _e=+_e,et=+et,function(rt){return Math.round(_e*(1-rt)+et*rt)}}function piecewise(_e,et){et===void 0&&(et=_e,_e=interpolate);for(var rt=0,nt=et.length-1,st=et[0],it=new Array(nt<0?0:nt);rt<nt;)it[rt]=_e(st,st=et[++rt]);return function(at){var ot=Math.max(0,Math.min(nt-1,Math.floor(at*=nt)));return it[ot](at-ot)}}function constants(_e){return function(){return _e}}function number$1(_e){return+_e}var unit=[0,1];function identity$2(_e){return _e}function normalize$1(_e,et){return(et-=_e=+_e)?function(rt){return(rt-_e)/et}:constants(isNaN(et)?NaN:.5)}function clamper(_e,et){var rt;return _e>et&&(rt=_e,_e=et,et=rt),function(nt){return Math.max(_e,Math.min(et,nt))}}function bimap(_e,et,rt){var nt=_e[0],st=_e[1],it=et[0],at=et[1];return st<nt?(nt=normalize$1(st,nt),it=rt(at,it)):(nt=normalize$1(nt,st),it=rt(it,at)),function(ot){return it(nt(ot))}}function polymap(_e,et,rt){var nt=Math.min(_e.length,et.length)-1,st=new Array(nt),it=new Array(nt),at=-1;for(_e[nt]<_e[0]&&(_e=_e.slice().reverse(),et=et.slice().reverse());++at<nt;)st[at]=normalize$1(_e[at],_e[at+1]),it[at]=rt(et[at],et[at+1]);return function(ot){var lt=bisectRight(_e,ot,1,nt)-1;return it[lt](st[lt](ot))}}function copy$2(_e,et){return et.domain(_e.domain()).range(_e.range()).interpolate(_e.interpolate()).clamp(_e.clamp()).unknown(_e.unknown())}function transformer$2(){var _e=unit,et=unit,rt=interpolate,nt,st,it,at=identity$2,ot,lt,ct;function ut(){var pt=Math.min(_e.length,et.length);return at!==identity$2&&(at=clamper(_e[0],_e[pt-1])),ot=pt>2?polymap:bimap,lt=ct=null,dt}function dt(pt){return pt==null||isNaN(pt=+pt)?it:(lt||(lt=ot(_e.map(nt),et,rt)))(nt(at(pt)))}return dt.invert=function(pt){return at(st((ct||(ct=ot(et,_e.map(nt),interpolateNumber)))(pt)))},dt.domain=function(pt){return arguments.length?(_e=Array.from(pt,number$1),ut()):_e.slice()},dt.range=function(pt){return arguments.length?(et=Array.from(pt),ut()):et.slice()},dt.rangeRound=function(pt){return et=Array.from(pt),rt=interpolateRound,ut()},dt.clamp=function(pt){return arguments.length?(at=pt?!0:identity$2,ut()):at!==identity$2},dt.interpolate=function(pt){return arguments.length?(rt=pt,ut()):rt},dt.unknown=function(pt){return arguments.length?(it=pt,dt):it},function(pt,mt){return nt=pt,st=mt,ut()}}function continuous(){return transformer$2()(identity$2,identity$2)}function formatDecimal(_e){return Math.abs(_e=Math.round(_e))>=1e21?_e.toLocaleString("en").replace(/,/g,""):_e.toString(10)}function formatDecimalParts(_e,et){if(!isFinite(_e)||_e===0)return null;var rt=(_e=et?_e.toExponential(et-1):_e.toExponential()).indexOf("e"),nt=_e.slice(0,rt);return[nt.length>1?nt[0]+nt.slice(2):nt,+_e.slice(rt+1)]}function exponent(_e){return _e=formatDecimalParts(Math.abs(_e)),_e?_e[1]:NaN}function formatGroup(_e,et){return function(rt,nt){for(var st=rt.length,it=[],at=0,ot=_e[0],lt=0;st>0&&ot>0&&(lt+ot+1>nt&&(ot=Math.max(1,nt-lt)),it.push(rt.substring(st-=ot,st+ot)),!((lt+=ot+1)>nt));)ot=_e[at=(at+1)%_e.length];return it.reverse().join(et)}}function formatNumerals(_e){return function(et){return et.replace(/[0-9]/g,function(rt){return _e[+rt]})}}var re$1=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(_e){if(!(et=re$1.exec(_e)))throw new Error("invalid format: "+_e);var et;return new FormatSpecifier({fill:et[1],align:et[2],sign:et[3],symbol:et[4],zero:et[5],width:et[6],comma:et[7],precision:et[8]&&et[8].slice(1),trim:et[9],type:et[10]})}formatSpecifier.prototype=FormatSpecifier.prototype;function FormatSpecifier(_e){this.fill=_e.fill===void 0?" ":_e.fill+"",this.align=_e.align===void 0?">":_e.align+"",this.sign=_e.sign===void 0?"-":_e.sign+"",this.symbol=_e.symbol===void 0?"":_e.symbol+"",this.zero=!!_e.zero,this.width=_e.width===void 0?void 0:+_e.width,this.comma=!!_e.comma,this.precision=_e.precision===void 0?void 0:+_e.precision,this.trim=!!_e.trim,this.type=_e.type===void 0?"":_e.type+""}FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function formatTrim(_e){e:for(var et=_e.length,rt=1,nt=-1,st;rt<et;++rt)switch(_e[rt]){case".":nt=st=rt;break;case"0":nt===0&&(nt=rt),st=rt;break;default:if(!+_e[rt])break e;nt>0&&(nt=0);break}return nt>0?_e.slice(0,nt)+_e.slice(st+1):_e}var prefixExponent;function formatPrefixAuto(_e,et){var rt=formatDecimalParts(_e,et);if(!rt)return prefixExponent=void 0,_e.toPrecision(et);var nt=rt[0],st=rt[1],it=st-(prefixExponent=Math.max(-8,Math.min(8,Math.floor(st/3)))*3)+1,at=nt.length;return it===at?nt:it>at?nt+new Array(it-at+1).join("0"):it>0?nt.slice(0,it)+"."+nt.slice(it):"0."+new Array(1-it).join("0")+formatDecimalParts(_e,Math.max(0,et+it-1))[0]}function formatRounded(_e,et){var rt=formatDecimalParts(_e,et);if(!rt)return _e+"";var nt=rt[0],st=rt[1];return st<0?"0."+new Array(-st).join("0")+nt:nt.length>st+1?nt.slice(0,st+1)+"."+nt.slice(st+1):nt+new Array(st-nt.length+2).join("0")}const formatTypes={"%":(_e,et)=>(_e*100).toFixed(et),b:_e=>Math.round(_e).toString(2),c:_e=>_e+"",d:formatDecimal,e:(_e,et)=>_e.toExponential(et),f:(_e,et)=>_e.toFixed(et),g:(_e,et)=>_e.toPrecision(et),o:_e=>Math.round(_e).toString(8),p:(_e,et)=>formatRounded(_e*100,et),r:formatRounded,s:formatPrefixAuto,X:_e=>Math.round(_e).toString(16).toUpperCase(),x:_e=>Math.round(_e).toString(16)};function identity$1(_e){return _e}var map=Array.prototype.map,prefixes=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function formatLocale$1(_e){var et=_e.grouping===void 0||_e.thousands===void 0?identity$1:formatGroup(map.call(_e.grouping,Number),_e.thousands+""),rt=_e.currency===void 0?"":_e.currency[0]+"",nt=_e.currency===void 0?"":_e.currency[1]+"",st=_e.decimal===void 0?".":_e.decimal+"",it=_e.numerals===void 0?identity$1:formatNumerals(map.call(_e.numerals,String)),at=_e.percent===void 0?"%":_e.percent+"",ot=_e.minus===void 0?"":_e.minus+"",lt=_e.nan===void 0?"NaN":_e.nan+"";function ct(dt,pt){dt=formatSpecifier(dt);var mt=dt.fill,xt=dt.align,yt=dt.sign,vt=dt.symbol,gt=dt.zero,Et=dt.width,jt=dt.comma,kt=dt.precision,Rt=dt.trim,St=dt.type;St==="n"?(jt=!0,St="g"):formatTypes[St]||(kt===void 0&&(kt=12),Rt=!0,St="g"),(gt||mt==="0"&&xt==="=")&&(gt=!0,mt="0",xt="=");var _t=(pt&&pt.prefix!==void 0?pt.prefix:"")+(vt==="$"?rt:vt==="#"&&/[boxX]/.test(St)?"0"+St.toLowerCase():""),Nt=(vt==="$"?nt:/[%p]/.test(St)?at:"")+(pt&&pt.suffix!==void 0?pt.suffix:""),Lt=formatTypes[St],$t=/[defgprs%]/.test(St);kt=kt===void 0?6:/[gprs]/.test(St)?Math.max(1,Math.min(21,kt)):Math.max(0,Math.min(20,kt));function Ft(Tt){var Bt=_t,Wt=Nt,qt,Ot,Dt;if(St==="c")Wt=Lt(Tt)+Wt,Tt="";else{Tt=+Tt;var Pt=Tt<0||1/Tt<0;if(Tt=isNaN(Tt)?lt:Lt(Math.abs(Tt),kt),Rt&&(Tt=formatTrim(Tt)),Pt&&+Tt==0&&yt!=="+"&&(Pt=!1),Bt=(Pt?yt==="("?yt:ot:yt==="-"||yt==="("?"":yt)+Bt,Wt=(St==="s"&&!isNaN(Tt)&&prefixExponent!==void 0?prefixes[8+prefixExponent/3]:"")+Wt+(Pt&&yt==="("?")":""),$t){for(qt=-1,Ot=Tt.length;++qt<Ot;)if(Dt=Tt.charCodeAt(qt),48>Dt||Dt>57){Wt=(Dt===46?st+Tt.slice(qt+1):Tt.slice(qt))+Wt,Tt=Tt.slice(0,qt);break}}}jt&&!gt&&(Tt=et(Tt,1/0));var It=Bt.length+Tt.length+Wt.length,At=It<Et?new Array(Et-It+1).join(mt):"";switch(jt&&gt&&(Tt=et(At+Tt,At.length?Et-Wt.length:1/0),At=""),xt){case"<":Tt=Bt+Tt+Wt+At;break;case"=":Tt=Bt+At+Tt+Wt;break;case"^":Tt=At.slice(0,It=At.length>>1)+Bt+Tt+Wt+At.slice(It);break;default:Tt=At+Bt+Tt+Wt;break}return it(Tt)}return Ft.toString=function(){return dt+""},Ft}function ut(dt,pt){var mt=Math.max(-8,Math.min(8,Math.floor(exponent(pt)/3)))*3,xt=Math.pow(10,-mt),yt=ct((dt=formatSpecifier(dt),dt.type="f",dt),{suffix:prefixes[8+mt/3]});return function(vt){return yt(xt*vt)}}return{format:ct,formatPrefix:ut}}var locale$1,format,formatPrefix;defaultLocale$1({thousands:",",grouping:[3],currency:["$",""]});function defaultLocale$1(_e){return locale$1=formatLocale$1(_e),format=locale$1.format,formatPrefix=locale$1.formatPrefix,locale$1}function precisionFixed(_e){return Math.max(0,-exponent(Math.abs(_e)))}function precisionPrefix(_e,et){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(exponent(et)/3)))*3-exponent(Math.abs(_e)))}function precisionRound(_e,et){return _e=Math.abs(_e),et=Math.abs(et)-_e,Math.max(0,exponent(et)-exponent(_e))+1}function tickFormat(_e,et,rt,nt){var st=tickStep(_e,et,rt),it;switch(nt=formatSpecifier(nt??",f"),nt.type){case"s":{var at=Math.max(Math.abs(_e),Math.abs(et));return nt.precision==null&&!isNaN(it=precisionPrefix(st,at))&&(nt.precision=it),formatPrefix(nt,at)}case"":case"e":case"g":case"p":case"r":{nt.precision==null&&!isNaN(it=precisionRound(st,Math.max(Math.abs(_e),Math.abs(et))))&&(nt.precision=it-(nt.type==="e"));break}case"f":case"%":{nt.precision==null&&!isNaN(it=precisionFixed(st))&&(nt.precision=it-(nt.type==="%")*2);break}}return format(nt)}function linearish(_e){var et=_e.domain;return _e.ticks=function(rt){var nt=et();return ticks(nt[0],nt[nt.length-1],rt??10)},_e.tickFormat=function(rt,nt){var st=et();return tickFormat(st[0],st[st.length-1],rt??10,nt)},_e.nice=function(rt){rt==null&&(rt=10);var nt=et(),st=0,it=nt.length-1,at=nt[st],ot=nt[it],lt,ct,ut=10;for(ot<at&&(ct=at,at=ot,ot=ct,ct=st,st=it,it=ct);ut-- >0;){if(ct=tickIncrement(at,ot,rt),ct===lt)return nt[st]=at,nt[it]=ot,et(nt);if(ct>0)at=Math.floor(at/ct)*ct,ot=Math.ceil(ot/ct)*ct;else if(ct<0)at=Math.ceil(at*ct)/ct,ot=Math.floor(ot*ct)/ct;else break;lt=ct}return _e},_e}function linear(){var _e=continuous();return _e.copy=function(){return copy$2(_e,linear())},initRange.apply(_e,arguments),linearish(_e)}function identity(_e){var et;function rt(nt){return nt==null||isNaN(nt=+nt)?et:nt}return rt.invert=rt,rt.domain=rt.range=function(nt){return arguments.length?(_e=Array.from(nt,number$1),rt):_e.slice()},rt.unknown=function(nt){return arguments.length?(et=nt,rt):et},rt.copy=function(){return identity(_e).unknown(et)},_e=arguments.length?Array.from(_e,number$1):[0,1],linearish(rt)}function nice(_e,et){_e=_e.slice();var rt=0,nt=_e.length-1,st=_e[rt],it=_e[nt],at;return it<st&&(at=rt,rt=nt,nt=at,at=st,st=it,it=at),_e[rt]=et.floor(st),_e[nt]=et.ceil(it),_e}function transformLog(_e){return Math.log(_e)}function transformExp(_e){return Math.exp(_e)}function transformLogn(_e){return-Math.log(-_e)}function transformExpn(_e){return-Math.exp(-_e)}function pow10(_e){return isFinite(_e)?+("1e"+_e):_e<0?0:_e}function powp(_e){return _e===10?pow10:_e===Math.E?Math.exp:et=>Math.pow(_e,et)}function logp(_e){return _e===Math.E?Math.log:_e===10&&Math.log10||_e===2&&Math.log2||(_e=Math.log(_e),et=>Math.log(et)/_e)}function reflect(_e){return(et,rt)=>-_e(-et,rt)}function loggish(_e){const et=_e(transformLog,transformExp),rt=et.domain;let nt=10,st,it;function at(){return st=logp(nt),it=powp(nt),rt()[0]<0?(st=reflect(st),it=reflect(it),_e(transformLogn,transformExpn)):_e(transformLog,transformExp),et}return et.base=function(ot){return arguments.length?(nt=+ot,at()):nt},et.domain=function(ot){return arguments.length?(rt(ot),at()):rt()},et.ticks=ot=>{const lt=rt();let ct=lt[0],ut=lt[lt.length-1];const dt=ut<ct;dt&&([ct,ut]=[ut,ct]);let pt=st(ct),mt=st(ut),xt,yt;const vt=ot==null?10:+ot;let gt=[];if(!(nt%1)&&mt-pt<vt){if(pt=Math.floor(pt),mt=Math.ceil(mt),ct>0){for(;pt<=mt;++pt)for(xt=1;xt<nt;++xt)if(yt=pt<0?xt/it(-pt):xt*it(pt),!(yt<ct)){if(yt>ut)break;gt.push(yt)}}else for(;pt<=mt;++pt)for(xt=nt-1;xt>=1;--xt)if(yt=pt>0?xt/it(-pt):xt*it(pt),!(yt<ct)){if(yt>ut)break;gt.push(yt)}gt.length*2<vt&&(gt=ticks(ct,ut,vt))}else gt=ticks(pt,mt,Math.min(mt-pt,vt)).map(it);return dt?gt.reverse():gt},et.tickFormat=(ot,lt)=>{if(ot==null&&(ot=10),lt==null&&(lt=nt===10?"s":","),typeof lt!="function"&&(!(nt%1)&&(lt=formatSpecifier(lt)).precision==null&&(lt.trim=!0),lt=format(lt)),ot===1/0)return lt;const ct=Math.max(1,nt*ot/et.ticks().length);return ut=>{let dt=ut/it(Math.round(st(ut)));return dt*nt<nt-.5&&(dt*=nt),dt<=ct?lt(ut):""}},et.nice=()=>rt(nice(rt(),{floor:ot=>it(Math.floor(st(ot))),ceil:ot=>it(Math.ceil(st(ot)))})),et}function log(){const _e=loggish(transformer$2()).domain([1,10]);return _e.copy=()=>copy$2(_e,log()).base(_e.base()),initRange.apply(_e,arguments),_e}function transformSymlog(_e){return function(et){return Math.sign(et)*Math.log1p(Math.abs(et/_e))}}function transformSymexp(_e){return function(et){return Math.sign(et)*Math.expm1(Math.abs(et))*_e}}function symlogish(_e){var et=1,rt=_e(transformSymlog(et),transformSymexp(et));return rt.constant=function(nt){return arguments.length?_e(transformSymlog(et=+nt),transformSymexp(et)):et},linearish(rt)}function symlog(){var _e=symlogish(transformer$2());return _e.copy=function(){return copy$2(_e,symlog()).constant(_e.constant())},initRange.apply(_e,arguments)}function transformPow(_e){return function(et){return et<0?-Math.pow(-et,_e):Math.pow(et,_e)}}function transformSqrt(_e){return _e<0?-Math.sqrt(-_e):Math.sqrt(_e)}function transformSquare(_e){return _e<0?-_e*_e:_e*_e}function powish(_e){var et=_e(identity$2,identity$2),rt=1;function nt(){return rt===1?_e(identity$2,identity$2):rt===.5?_e(transformSqrt,transformSquare):_e(transformPow(rt),transformPow(1/rt))}return et.exponent=function(st){return arguments.length?(rt=+st,nt()):rt},linearish(et)}function pow(){var _e=powish(transformer$2());return _e.copy=function(){return copy$2(_e,pow()).exponent(_e.exponent())},initRange.apply(_e,arguments),_e}function sqrt(){return pow.apply(null,arguments).exponent(.5)}function square(_e){return Math.sign(_e)*_e*_e}function unsquare(_e){return Math.sign(_e)*Math.sqrt(Math.abs(_e))}function radial(){var _e=continuous(),et=[0,1],rt=!1,nt;function st(it){var at=unsquare(_e(it));return isNaN(at)?nt:rt?Math.round(at):at}return st.invert=function(it){return _e.invert(square(it))},st.domain=function(it){return arguments.length?(_e.domain(it),st):_e.domain()},st.range=function(it){return arguments.length?(_e.range((et=Array.from(it,number$1)).map(square)),st):et.slice()},st.rangeRound=function(it){return st.range(it).round(!0)},st.round=function(it){return arguments.length?(rt=!!it,st):rt},st.clamp=function(it){return arguments.length?(_e.clamp(it),st):_e.clamp()},st.unknown=function(it){return arguments.length?(nt=it,st):nt},st.copy=function(){return radial(_e.domain(),et).round(rt).clamp(_e.clamp()).unknown(nt)},initRange.apply(st,arguments),linearish(st)}function quantile(){var _e=[],et=[],rt=[],nt;function st(){var at=0,ot=Math.max(1,et.length);for(rt=new Array(ot-1);++at<ot;)rt[at-1]=quantileSorted(_e,at/ot);return it}function it(at){return at==null||isNaN(at=+at)?nt:et[bisectRight(rt,at)]}return it.invertExtent=function(at){var ot=et.indexOf(at);return ot<0?[NaN,NaN]:[ot>0?rt[ot-1]:_e[0],ot<rt.length?rt[ot]:_e[_e.length-1]]},it.domain=function(at){if(!arguments.length)return _e.slice();_e=[];for(let ot of at)ot!=null&&!isNaN(ot=+ot)&&_e.push(ot);return _e.sort(ascending),st()},it.range=function(at){return arguments.length?(et=Array.from(at),st()):et.slice()},it.unknown=function(at){return arguments.length?(nt=at,it):nt},it.quantiles=function(){return rt.slice()},it.copy=function(){return quantile().domain(_e).range(et).unknown(nt)},initRange.apply(it,arguments)}function quantize(){var _e=0,et=1,rt=1,nt=[.5],st=[0,1],it;function at(lt){return lt!=null&&lt<=lt?st[bisectRight(nt,lt,0,rt)]:it}function ot(){var lt=-1;for(nt=new Array(rt);++lt<rt;)nt[lt]=((lt+1)*et-(lt-rt)*_e)/(rt+1);return at}return at.domain=function(lt){return arguments.length?([_e,et]=lt,_e=+_e,et=+et,ot()):[_e,et]},at.range=function(lt){return arguments.length?(rt=(st=Array.from(lt)).length-1,ot()):st.slice()},at.invertExtent=function(lt){var ct=st.indexOf(lt);return ct<0?[NaN,NaN]:ct<1?[_e,nt[0]]:ct>=rt?[nt[rt-1],et]:[nt[ct-1],nt[ct]]},at.unknown=function(lt){return arguments.length&&(it=lt),at},at.thresholds=function(){return nt.slice()},at.copy=function(){return quantize().domain([_e,et]).range(st).unknown(it)},initRange.apply(linearish(at),arguments)}function threshold(){var _e=[.5],et=[0,1],rt,nt=1;function st(it){return it!=null&&it<=it?et[bisectRight(_e,it,0,nt)]:rt}return st.domain=function(it){return arguments.length?(_e=Array.from(it),nt=Math.min(_e.length,et.length-1),st):_e.slice()},st.range=function(it){return arguments.length?(et=Array.from(it),nt=Math.min(_e.length,et.length-1),st):et.slice()},st.invertExtent=function(it){var at=et.indexOf(it);return[_e[at-1],_e[at]]},st.unknown=function(it){return arguments.length?(rt=it,st):rt},st.copy=function(){return threshold().domain(_e).range(et).unknown(rt)},initRange.apply(st,arguments)}const t0=new Date,t1=new Date;function timeInterval(_e,et,rt,nt){function st(it){return _e(it=arguments.length===0?new Date:new Date(+it)),it}return st.floor=it=>(_e(it=new Date(+it)),it),st.ceil=it=>(_e(it=new Date(it-1)),et(it,1),_e(it),it),st.round=it=>{const at=st(it),ot=st.ceil(it);return it-at<ot-it?at:ot},st.offset=(it,at)=>(et(it=new Date(+it),at==null?1:Math.floor(at)),it),st.range=(it,at,ot)=>{const lt=[];if(it=st.ceil(it),ot=ot==null?1:Math.floor(ot),!(it<at)||!(ot>0))return lt;let ct;do lt.push(ct=new Date(+it)),et(it,ot),_e(it);while(ct<it&&it<at);return lt},st.filter=it=>timeInterval(at=>{if(at>=at)for(;_e(at),!it(at);)at.setTime(at-1)},(at,ot)=>{if(at>=at)if(ot<0)for(;++ot<=0;)for(;et(at,-1),!it(at););else for(;--ot>=0;)for(;et(at,1),!it(at););}),rt&&(st.count=(it,at)=>(t0.setTime(+it),t1.setTime(+at),_e(t0),_e(t1),Math.floor(rt(t0,t1))),st.every=it=>(it=Math.floor(it),!isFinite(it)||!(it>0)?null:it>1?st.filter(nt?at=>nt(at)%it===0:at=>st.count(0,at)%it===0):st)),st}const millisecond=timeInterval(()=>{},(_e,et)=>{_e.setTime(+_e+et)},(_e,et)=>et-_e);millisecond.every=_e=>(_e=Math.floor(_e),!isFinite(_e)||!(_e>0)?null:_e>1?timeInterval(et=>{et.setTime(Math.floor(et/_e)*_e)},(et,rt)=>{et.setTime(+et+rt*_e)},(et,rt)=>(rt-et)/_e):millisecond);millisecond.range;const durationSecond=1e3,durationMinute=durationSecond*60,durationHour=durationMinute*60,durationDay=durationHour*24,durationWeek=durationDay*7,durationMonth=durationDay*30,durationYear=durationDay*365,second=timeInterval(_e=>{_e.setTime(_e-_e.getMilliseconds())},(_e,et)=>{_e.setTime(+_e+et*durationSecond)},(_e,et)=>(et-_e)/durationSecond,_e=>_e.getUTCSeconds());second.range;const timeMinute=timeInterval(_e=>{_e.setTime(_e-_e.getMilliseconds()-_e.getSeconds()*durationSecond)},(_e,et)=>{_e.setTime(+_e+et*durationMinute)},(_e,et)=>(et-_e)/durationMinute,_e=>_e.getMinutes());timeMinute.range;const utcMinute=timeInterval(_e=>{_e.setUTCSeconds(0,0)},(_e,et)=>{_e.setTime(+_e+et*durationMinute)},(_e,et)=>(et-_e)/durationMinute,_e=>_e.getUTCMinutes());utcMinute.range;const timeHour=timeInterval(_e=>{_e.setTime(_e-_e.getMilliseconds()-_e.getSeconds()*durationSecond-_e.getMinutes()*durationMinute)},(_e,et)=>{_e.setTime(+_e+et*durationHour)},(_e,et)=>(et-_e)/durationHour,_e=>_e.getHours());timeHour.range;const utcHour=timeInterval(_e=>{_e.setUTCMinutes(0,0,0)},(_e,et)=>{_e.setTime(+_e+et*durationHour)},(_e,et)=>(et-_e)/durationHour,_e=>_e.getUTCHours());utcHour.range;const timeDay=timeInterval(_e=>_e.setHours(0,0,0,0),(_e,et)=>_e.setDate(_e.getDate()+et),(_e,et)=>(et-_e-(et.getTimezoneOffset()-_e.getTimezoneOffset())*durationMinute)/durationDay,_e=>_e.getDate()-1);timeDay.range;const utcDay=timeInterval(_e=>{_e.setUTCHours(0,0,0,0)},(_e,et)=>{_e.setUTCDate(_e.getUTCDate()+et)},(_e,et)=>(et-_e)/durationDay,_e=>_e.getUTCDate()-1);utcDay.range;const unixDay=timeInterval(_e=>{_e.setUTCHours(0,0,0,0)},(_e,et)=>{_e.setUTCDate(_e.getUTCDate()+et)},(_e,et)=>(et-_e)/durationDay,_e=>Math.floor(_e/durationDay));unixDay.range;function timeWeekday(_e){return timeInterval(et=>{et.setDate(et.getDate()-(et.getDay()+7-_e)%7),et.setHours(0,0,0,0)},(et,rt)=>{et.setDate(et.getDate()+rt*7)},(et,rt)=>(rt-et-(rt.getTimezoneOffset()-et.getTimezoneOffset())*durationMinute)/durationWeek)}const timeSunday=timeWeekday(0),timeMonday=timeWeekday(1),timeTuesday=timeWeekday(2),timeWednesday=timeWeekday(3),timeThursday=timeWeekday(4),timeFriday=timeWeekday(5),timeSaturday=timeWeekday(6);timeSunday.range;timeMonday.range;timeTuesday.range;timeWednesday.range;timeThursday.range;timeFriday.range;timeSaturday.range;function utcWeekday(_e){return timeInterval(et=>{et.setUTCDate(et.getUTCDate()-(et.getUTCDay()+7-_e)%7),et.setUTCHours(0,0,0,0)},(et,rt)=>{et.setUTCDate(et.getUTCDate()+rt*7)},(et,rt)=>(rt-et)/durationWeek)}const utcSunday=utcWeekday(0),utcMonday=utcWeekday(1),utcTuesday=utcWeekday(2),utcWednesday=utcWeekday(3),utcThursday=utcWeekday(4),utcFriday=utcWeekday(5),utcSaturday=utcWeekday(6);utcSunday.range;utcMonday.range;utcTuesday.range;utcWednesday.range;utcThursday.range;utcFriday.range;utcSaturday.range;const timeMonth=timeInterval(_e=>{_e.setDate(1),_e.setHours(0,0,0,0)},(_e,et)=>{_e.setMonth(_e.getMonth()+et)},(_e,et)=>et.getMonth()-_e.getMonth()+(et.getFullYear()-_e.getFullYear())*12,_e=>_e.getMonth());timeMonth.range;const utcMonth=timeInterval(_e=>{_e.setUTCDate(1),_e.setUTCHours(0,0,0,0)},(_e,et)=>{_e.setUTCMonth(_e.getUTCMonth()+et)},(_e,et)=>et.getUTCMonth()-_e.getUTCMonth()+(et.getUTCFullYear()-_e.getUTCFullYear())*12,_e=>_e.getUTCMonth());utcMonth.range;const timeYear=timeInterval(_e=>{_e.setMonth(0,1),_e.setHours(0,0,0,0)},(_e,et)=>{_e.setFullYear(_e.getFullYear()+et)},(_e,et)=>et.getFullYear()-_e.getFullYear(),_e=>_e.getFullYear());timeYear.every=_e=>!isFinite(_e=Math.floor(_e))||!(_e>0)?null:timeInterval(et=>{et.setFullYear(Math.floor(et.getFullYear()/_e)*_e),et.setMonth(0,1),et.setHours(0,0,0,0)},(et,rt)=>{et.setFullYear(et.getFullYear()+rt*_e)});timeYear.range;const utcYear=timeInterval(_e=>{_e.setUTCMonth(0,1),_e.setUTCHours(0,0,0,0)},(_e,et)=>{_e.setUTCFullYear(_e.getUTCFullYear()+et)},(_e,et)=>et.getUTCFullYear()-_e.getUTCFullYear(),_e=>_e.getUTCFullYear());utcYear.every=_e=>!isFinite(_e=Math.floor(_e))||!(_e>0)?null:timeInterval(et=>{et.setUTCFullYear(Math.floor(et.getUTCFullYear()/_e)*_e),et.setUTCMonth(0,1),et.setUTCHours(0,0,0,0)},(et,rt)=>{et.setUTCFullYear(et.getUTCFullYear()+rt*_e)});utcYear.range;function ticker(_e,et,rt,nt,st,it){const at=[[second,1,durationSecond],[second,5,5*durationSecond],[second,15,15*durationSecond],[second,30,30*durationSecond],[it,1,durationMinute],[it,5,5*durationMinute],[it,15,15*durationMinute],[it,30,30*durationMinute],[st,1,durationHour],[st,3,3*durationHour],[st,6,6*durationHour],[st,12,12*durationHour],[nt,1,durationDay],[nt,2,2*durationDay],[rt,1,durationWeek],[et,1,durationMonth],[et,3,3*durationMonth],[_e,1,durationYear]];function ot(ct,ut,dt){const pt=ut<ct;pt&&([ct,ut]=[ut,ct]);const mt=dt&&typeof dt.range=="function"?dt:lt(ct,ut,dt),xt=mt?mt.range(ct,+ut+1):[];return pt?xt.reverse():xt}function lt(ct,ut,dt){const pt=Math.abs(ut-ct)/dt,mt=bisector(([,,vt])=>vt).right(at,pt);if(mt===at.length)return _e.every(tickStep(ct/durationYear,ut/durationYear,dt));if(mt===0)return millisecond.every(Math.max(tickStep(ct,ut,dt),1));const[xt,yt]=at[pt/at[mt-1][2]<at[mt][2]/pt?mt-1:mt];return xt.every(yt)}return[ot,lt]}const[utcTicks,utcTickInterval]=ticker(utcYear,utcMonth,utcSunday,unixDay,utcHour,utcMinute),[timeTicks,timeTickInterval]=ticker(timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute);function localDate(_e){if(0<=_e.y&&_e.y<100){var et=new Date(-1,_e.m,_e.d,_e.H,_e.M,_e.S,_e.L);return et.setFullYear(_e.y),et}return new Date(_e.y,_e.m,_e.d,_e.H,_e.M,_e.S,_e.L)}function utcDate(_e){if(0<=_e.y&&_e.y<100){var et=new Date(Date.UTC(-1,_e.m,_e.d,_e.H,_e.M,_e.S,_e.L));return et.setUTCFullYear(_e.y),et}return new Date(Date.UTC(_e.y,_e.m,_e.d,_e.H,_e.M,_e.S,_e.L))}function newDate(_e,et,rt){return{y:_e,m:et,d:rt,H:0,M:0,S:0,L:0}}function formatLocale(_e){var et=_e.dateTime,rt=_e.date,nt=_e.time,st=_e.periods,it=_e.days,at=_e.shortDays,ot=_e.months,lt=_e.shortMonths,ct=formatRe(st),ut=formatLookup(st),dt=formatRe(it),pt=formatLookup(it),mt=formatRe(at),xt=formatLookup(at),yt=formatRe(ot),vt=formatLookup(ot),gt=formatRe(lt),Et=formatLookup(lt),jt={a:Dt,A:Pt,b:It,B:At,c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,g:formatYearISO,G:formatFullYearISO,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:Ht,q:Gt,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:formatYear,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},kt={a:Vt,A:Jt,b:rr,B:ar,c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,g:formatUTCYearISO,G:formatUTCFullYearISO,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:mr,q:Er,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},Rt={a:$t,A:Ft,b:Tt,B:Bt,c:Wt,d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,g:parseYear,G:parseFullYear,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:Lt,q:parseQuarter,Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:qt,X:Ot,y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};jt.x=St(rt,jt),jt.X=St(nt,jt),jt.c=St(et,jt),kt.x=St(rt,kt),kt.X=St(nt,kt),kt.c=St(et,kt);function St(or,yr){return function(vr){var Zt=[],pr=-1,lr=0,wr=or.length,Rr,Tr,Nr;for(vr instanceof Date||(vr=new Date(+vr));++pr<wr;)or.charCodeAt(pr)===37&&(Zt.push(or.slice(lr,pr)),(Tr=pads[Rr=or.charAt(++pr)])!=null?Rr=or.charAt(++pr):Tr=Rr==="e"?" ":"0",(Nr=yr[Rr])&&(Rr=Nr(vr,Tr)),Zt.push(Rr),lr=pr+1);return Zt.push(or.slice(lr,pr)),Zt.join("")}}function _t(or,yr){return function(vr){var Zt=newDate(1900,void 0,1),pr=Nt(Zt,or,vr+="",0),lr,wr;if(pr!=vr.length)return null;if("Q"in Zt)return new Date(Zt.Q);if("s"in Zt)return new Date(Zt.s*1e3+("L"in Zt?Zt.L:0));if(yr&&!("Z"in Zt)&&(Zt.Z=0),"p"in Zt&&(Zt.H=Zt.H%12+Zt.p*12),Zt.m===void 0&&(Zt.m="q"in Zt?Zt.q:0),"V"in Zt){if(Zt.V<1||Zt.V>53)return null;"w"in Zt||(Zt.w=1),"Z"in Zt?(lr=utcDate(newDate(Zt.y,0,1)),wr=lr.getUTCDay(),lr=wr>4||wr===0?utcMonday.ceil(lr):utcMonday(lr),lr=utcDay.offset(lr,(Zt.V-1)*7),Zt.y=lr.getUTCFullYear(),Zt.m=lr.getUTCMonth(),Zt.d=lr.getUTCDate()+(Zt.w+6)%7):(lr=localDate(newDate(Zt.y,0,1)),wr=lr.getDay(),lr=wr>4||wr===0?timeMonday.ceil(lr):timeMonday(lr),lr=timeDay.offset(lr,(Zt.V-1)*7),Zt.y=lr.getFullYear(),Zt.m=lr.getMonth(),Zt.d=lr.getDate()+(Zt.w+6)%7)}else("W"in Zt||"U"in Zt)&&("w"in Zt||(Zt.w="u"in Zt?Zt.u%7:"W"in Zt?1:0),wr="Z"in Zt?utcDate(newDate(Zt.y,0,1)).getUTCDay():localDate(newDate(Zt.y,0,1)).getDay(),Zt.m=0,Zt.d="W"in Zt?(Zt.w+6)%7+Zt.W*7-(wr+5)%7:Zt.w+Zt.U*7-(wr+6)%7);return"Z"in Zt?(Zt.H+=Zt.Z/100|0,Zt.M+=Zt.Z%100,utcDate(Zt)):localDate(Zt)}}function Nt(or,yr,vr,Zt){for(var pr=0,lr=yr.length,wr=vr.length,Rr,Tr;pr<lr;){if(Zt>=wr)return-1;if(Rr=yr.charCodeAt(pr++),Rr===37){if(Rr=yr.charAt(pr++),Tr=Rt[Rr in pads?yr.charAt(pr++):Rr],!Tr||(Zt=Tr(or,vr,Zt))<0)return-1}else if(Rr!=vr.charCodeAt(Zt++))return-1}return Zt}function Lt(or,yr,vr){var Zt=ct.exec(yr.slice(vr));return Zt?(or.p=ut.get(Zt[0].toLowerCase()),vr+Zt[0].length):-1}function $t(or,yr,vr){var Zt=mt.exec(yr.slice(vr));return Zt?(or.w=xt.get(Zt[0].toLowerCase()),vr+Zt[0].length):-1}function Ft(or,yr,vr){var Zt=dt.exec(yr.slice(vr));return Zt?(or.w=pt.get(Zt[0].toLowerCase()),vr+Zt[0].length):-1}function Tt(or,yr,vr){var Zt=gt.exec(yr.slice(vr));return Zt?(or.m=Et.get(Zt[0].toLowerCase()),vr+Zt[0].length):-1}function Bt(or,yr,vr){var Zt=yt.exec(yr.slice(vr));return Zt?(or.m=vt.get(Zt[0].toLowerCase()),vr+Zt[0].length):-1}function Wt(or,yr,vr){return Nt(or,et,yr,vr)}function qt(or,yr,vr){return Nt(or,rt,yr,vr)}function Ot(or,yr,vr){return Nt(or,nt,yr,vr)}function Dt(or){return at[or.getDay()]}function Pt(or){return it[or.getDay()]}function It(or){return lt[or.getMonth()]}function At(or){return ot[or.getMonth()]}function Ht(or){return st[+(or.getHours()>=12)]}function Gt(or){return 1+~~(or.getMonth()/3)}function Vt(or){return at[or.getUTCDay()]}function Jt(or){return it[or.getUTCDay()]}function rr(or){return lt[or.getUTCMonth()]}function ar(or){return ot[or.getUTCMonth()]}function mr(or){return st[+(or.getUTCHours()>=12)]}function Er(or){return 1+~~(or.getUTCMonth()/3)}return{format:function(or){var yr=St(or+="",jt);return yr.toString=function(){return or},yr},parse:function(or){var yr=_t(or+="",!1);return yr.toString=function(){return or},yr},utcFormat:function(or){var yr=St(or+="",kt);return yr.toString=function(){return or},yr},utcParse:function(or){var yr=_t(or+="",!0);return yr.toString=function(){return or},yr}}}var pads={"-":"",_:" ",0:"0"},numberRe=/^\s*\d+/,percentRe=/^%/,requoteRe=/[\\^$*+?|[\]().{}]/g;function pad(_e,et,rt){var nt=_e<0?"-":"",st=(nt?-_e:_e)+"",it=st.length;return nt+(it<rt?new Array(rt-it+1).join(et)+st:st)}function requote(_e){return _e.replace(requoteRe,"\\$&")}function formatRe(_e){return new RegExp("^(?:"+_e.map(requote).join("|")+")","i")}function formatLookup(_e){return new Map(_e.map((et,rt)=>[et.toLowerCase(),rt]))}function parseWeekdayNumberSunday(_e,et,rt){var nt=numberRe.exec(et.slice(rt,rt+1));return nt?(_e.w=+nt[0],rt+nt[0].length):-1}function parseWeekdayNumberMonday(_e,et,rt){var nt=numberRe.exec(et.slice(rt,rt+1));return nt?(_e.u=+nt[0],rt+nt[0].length):-1}function parseWeekNumberSunday(_e,et,rt){var nt=numberRe.exec(et.slice(rt,rt+2));return nt?(_e.U=+nt[0],rt+nt[0].length):-1}function parseWeekNumberISO(_e,et,rt){var nt=numberRe.exec(et.slice(rt,rt+2));return nt?(_e.V=+nt[0],rt+nt[0].length):-1}function parseWeekNumberMonday(_e,et,rt){var nt=numberRe.exec(et.slice(rt,rt+2));return nt?(_e.W=+nt[0],rt+nt[0].length):-1}function parseFullYear(_e,et,rt){var nt=numberRe.exec(et.slice(rt,rt+4));return nt?(_e.y=+nt[0],rt+nt[0].length):-1}function parseYear(_e,et,rt){var nt=numberRe.exec(et.slice(rt,rt+2));return nt?(_e.y=+nt[0]+(+nt[0]>68?1900:2e3),rt+nt[0].length):-1}function parseZone(_e,et,rt){var nt=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(et.slice(rt,rt+6));return nt?(_e.Z=nt[1]?0:-(nt[2]+(nt[3]||"00")),rt+nt[0].length):-1}function parseQuarter(_e,et,rt){var nt=numberRe.exec(et.slice(rt,rt+1));return nt?(_e.q=nt[0]*3-3,rt+nt[0].length):-1}function parseMonthNumber(_e,et,rt){var nt=numberRe.exec(et.slice(rt,rt+2));return nt?(_e.m=nt[0]-1,rt+nt[0].length):-1}function parseDayOfMonth(_e,et,rt){var nt=numberRe.exec(et.slice(rt,rt+2));return nt?(_e.d=+nt[0],rt+nt[0].length):-1}function parseDayOfYear(_e,et,rt){var nt=numberRe.exec(et.slice(rt,rt+3));return nt?(_e.m=0,_e.d=+nt[0],rt+nt[0].length):-1}function parseHour24(_e,et,rt){var nt=numberRe.exec(et.slice(rt,rt+2));return nt?(_e.H=+nt[0],rt+nt[0].length):-1}function parseMinutes(_e,et,rt){var nt=numberRe.exec(et.slice(rt,rt+2));return nt?(_e.M=+nt[0],rt+nt[0].length):-1}function parseSeconds(_e,et,rt){var nt=numberRe.exec(et.slice(rt,rt+2));return nt?(_e.S=+nt[0],rt+nt[0].length):-1}function parseMilliseconds(_e,et,rt){var nt=numberRe.exec(et.slice(rt,rt+3));return nt?(_e.L=+nt[0],rt+nt[0].length):-1}function parseMicroseconds(_e,et,rt){var nt=numberRe.exec(et.slice(rt,rt+6));return nt?(_e.L=Math.floor(nt[0]/1e3),rt+nt[0].length):-1}function parseLiteralPercent(_e,et,rt){var nt=percentRe.exec(et.slice(rt,rt+1));return nt?rt+nt[0].length:-1}function parseUnixTimestamp(_e,et,rt){var nt=numberRe.exec(et.slice(rt));return nt?(_e.Q=+nt[0],rt+nt[0].length):-1}function parseUnixTimestampSeconds(_e,et,rt){var nt=numberRe.exec(et.slice(rt));return nt?(_e.s=+nt[0],rt+nt[0].length):-1}function formatDayOfMonth(_e,et){return pad(_e.getDate(),et,2)}function formatHour24(_e,et){return pad(_e.getHours(),et,2)}function formatHour12(_e,et){return pad(_e.getHours()%12||12,et,2)}function formatDayOfYear(_e,et){return pad(1+timeDay.count(timeYear(_e),_e),et,3)}function formatMilliseconds(_e,et){return pad(_e.getMilliseconds(),et,3)}function formatMicroseconds(_e,et){return formatMilliseconds(_e,et)+"000"}function formatMonthNumber(_e,et){return pad(_e.getMonth()+1,et,2)}function formatMinutes(_e,et){return pad(_e.getMinutes(),et,2)}function formatSeconds(_e,et){return pad(_e.getSeconds(),et,2)}function formatWeekdayNumberMonday(_e){var et=_e.getDay();return et===0?7:et}function formatWeekNumberSunday(_e,et){return pad(timeSunday.count(timeYear(_e)-1,_e),et,2)}function dISO(_e){var et=_e.getDay();return et>=4||et===0?timeThursday(_e):timeThursday.ceil(_e)}function formatWeekNumberISO(_e,et){return _e=dISO(_e),pad(timeThursday.count(timeYear(_e),_e)+(timeYear(_e).getDay()===4),et,2)}function formatWeekdayNumberSunday(_e){return _e.getDay()}function formatWeekNumberMonday(_e,et){return pad(timeMonday.count(timeYear(_e)-1,_e),et,2)}function formatYear(_e,et){return pad(_e.getFullYear()%100,et,2)}function formatYearISO(_e,et){return _e=dISO(_e),pad(_e.getFullYear()%100,et,2)}function formatFullYear(_e,et){return pad(_e.getFullYear()%1e4,et,4)}function formatFullYearISO(_e,et){var rt=_e.getDay();return _e=rt>=4||rt===0?timeThursday(_e):timeThursday.ceil(_e),pad(_e.getFullYear()%1e4,et,4)}function formatZone(_e){var et=_e.getTimezoneOffset();return(et>0?"-":(et*=-1,"+"))+pad(et/60|0,"0",2)+pad(et%60,"0",2)}function formatUTCDayOfMonth(_e,et){return pad(_e.getUTCDate(),et,2)}function formatUTCHour24(_e,et){return pad(_e.getUTCHours(),et,2)}function formatUTCHour12(_e,et){return pad(_e.getUTCHours()%12||12,et,2)}function formatUTCDayOfYear(_e,et){return pad(1+utcDay.count(utcYear(_e),_e),et,3)}function formatUTCMilliseconds(_e,et){return pad(_e.getUTCMilliseconds(),et,3)}function formatUTCMicroseconds(_e,et){return formatUTCMilliseconds(_e,et)+"000"}function formatUTCMonthNumber(_e,et){return pad(_e.getUTCMonth()+1,et,2)}function formatUTCMinutes(_e,et){return pad(_e.getUTCMinutes(),et,2)}function formatUTCSeconds(_e,et){return pad(_e.getUTCSeconds(),et,2)}function formatUTCWeekdayNumberMonday(_e){var et=_e.getUTCDay();return et===0?7:et}function formatUTCWeekNumberSunday(_e,et){return pad(utcSunday.count(utcYear(_e)-1,_e),et,2)}function UTCdISO(_e){var et=_e.getUTCDay();return et>=4||et===0?utcThursday(_e):utcThursday.ceil(_e)}function formatUTCWeekNumberISO(_e,et){return _e=UTCdISO(_e),pad(utcThursday.count(utcYear(_e),_e)+(utcYear(_e).getUTCDay()===4),et,2)}function formatUTCWeekdayNumberSunday(_e){return _e.getUTCDay()}function formatUTCWeekNumberMonday(_e,et){return pad(utcMonday.count(utcYear(_e)-1,_e),et,2)}function formatUTCYear(_e,et){return pad(_e.getUTCFullYear()%100,et,2)}function formatUTCYearISO(_e,et){return _e=UTCdISO(_e),pad(_e.getUTCFullYear()%100,et,2)}function formatUTCFullYear(_e,et){return pad(_e.getUTCFullYear()%1e4,et,4)}function formatUTCFullYearISO(_e,et){var rt=_e.getUTCDay();return _e=rt>=4||rt===0?utcThursday(_e):utcThursday.ceil(_e),pad(_e.getUTCFullYear()%1e4,et,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(_e){return+_e}function formatUnixTimestampSeconds(_e){return Math.floor(+_e/1e3)}var locale,timeFormat,utcFormat;defaultLocale({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function defaultLocale(_e){return locale=formatLocale(_e),timeFormat=locale.format,locale.parse,utcFormat=locale.utcFormat,locale.utcParse,locale}function date(_e){return new Date(_e)}function number(_e){return _e instanceof Date?+_e:+new Date(+_e)}function calendar(_e,et,rt,nt,st,it,at,ot,lt,ct){var ut=continuous(),dt=ut.invert,pt=ut.domain,mt=ct(".%L"),xt=ct(":%S"),yt=ct("%I:%M"),vt=ct("%I %p"),gt=ct("%a %d"),Et=ct("%b %d"),jt=ct("%B"),kt=ct("%Y");function Rt(St){return(lt(St)<St?mt:ot(St)<St?xt:at(St)<St?yt:it(St)<St?vt:nt(St)<St?st(St)<St?gt:Et:rt(St)<St?jt:kt)(St)}return ut.invert=function(St){return new Date(dt(St))},ut.domain=function(St){return arguments.length?pt(Array.from(St,number)):pt().map(date)},ut.ticks=function(St){var _t=pt();return _e(_t[0],_t[_t.length-1],St??10)},ut.tickFormat=function(St,_t){return _t==null?Rt:ct(_t)},ut.nice=function(St){var _t=pt();return(!St||typeof St.range!="function")&&(St=et(_t[0],_t[_t.length-1],St??10)),St?pt(nice(_t,St)):ut},ut.copy=function(){return copy$2(ut,calendar(_e,et,rt,nt,st,it,at,ot,lt,ct))},ut}function time(){return initRange.apply(calendar(timeTicks,timeTickInterval,timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute,second,timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function utcTime(){return initRange.apply(calendar(utcTicks,utcTickInterval,utcYear,utcMonth,utcSunday,utcDay,utcHour,utcMinute,second,utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function transformer$1(){var _e=0,et=1,rt,nt,st,it,at=identity$2,ot=!1,lt;function ct(dt){return dt==null||isNaN(dt=+dt)?lt:at(st===0?.5:(dt=(it(dt)-rt)*st,ot?Math.max(0,Math.min(1,dt)):dt))}ct.domain=function(dt){return arguments.length?([_e,et]=dt,rt=it(_e=+_e),nt=it(et=+et),st=rt===nt?0:1/(nt-rt),ct):[_e,et]},ct.clamp=function(dt){return arguments.length?(ot=!!dt,ct):ot},ct.interpolator=function(dt){return arguments.length?(at=dt,ct):at};function ut(dt){return function(pt){var mt,xt;return arguments.length?([mt,xt]=pt,at=dt(mt,xt),ct):[at(0),at(1)]}}return ct.range=ut(interpolate),ct.rangeRound=ut(interpolateRound),ct.unknown=function(dt){return arguments.length?(lt=dt,ct):lt},function(dt){return it=dt,rt=dt(_e),nt=dt(et),st=rt===nt?0:1/(nt-rt),ct}}function copy$1(_e,et){return et.domain(_e.domain()).interpolator(_e.interpolator()).clamp(_e.clamp()).unknown(_e.unknown())}function sequential(){var _e=linearish(transformer$1()(identity$2));return _e.copy=function(){return copy$1(_e,sequential())},initInterpolator.apply(_e,arguments)}function sequentialLog(){var _e=loggish(transformer$1()).domain([1,10]);return _e.copy=function(){return copy$1(_e,sequentialLog()).base(_e.base())},initInterpolator.apply(_e,arguments)}function sequentialSymlog(){var _e=symlogish(transformer$1());return _e.copy=function(){return copy$1(_e,sequentialSymlog()).constant(_e.constant())},initInterpolator.apply(_e,arguments)}function sequentialPow(){var _e=powish(transformer$1());return _e.copy=function(){return copy$1(_e,sequentialPow()).exponent(_e.exponent())},initInterpolator.apply(_e,arguments)}function sequentialSqrt(){return sequentialPow.apply(null,arguments).exponent(.5)}function sequentialQuantile(){var _e=[],et=identity$2;function rt(nt){if(nt!=null&&!isNaN(nt=+nt))return et((bisectRight(_e,nt,1)-1)/(_e.length-1))}return rt.domain=function(nt){if(!arguments.length)return _e.slice();_e=[];for(let st of nt)st!=null&&!isNaN(st=+st)&&_e.push(st);return _e.sort(ascending),rt},rt.interpolator=function(nt){return arguments.length?(et=nt,rt):et},rt.range=function(){return _e.map((nt,st)=>et(st/(_e.length-1)))},rt.quantiles=function(nt){return Array.from({length:nt+1},(st,it)=>quantile$1(_e,it/nt))},rt.copy=function(){return sequentialQuantile(et).domain(_e)},initInterpolator.apply(rt,arguments)}function transformer(){var _e=0,et=.5,rt=1,nt=1,st,it,at,ot,lt,ct=identity$2,ut,dt=!1,pt;function mt(yt){return isNaN(yt=+yt)?pt:(yt=.5+((yt=+ut(yt))-it)*(nt*yt<nt*it?ot:lt),ct(dt?Math.max(0,Math.min(1,yt)):yt))}mt.domain=function(yt){return arguments.length?([_e,et,rt]=yt,st=ut(_e=+_e),it=ut(et=+et),at=ut(rt=+rt),ot=st===it?0:.5/(it-st),lt=it===at?0:.5/(at-it),nt=it<st?-1:1,mt):[_e,et,rt]},mt.clamp=function(yt){return arguments.length?(dt=!!yt,mt):dt},mt.interpolator=function(yt){return arguments.length?(ct=yt,mt):ct};function xt(yt){return function(vt){var gt,Et,jt;return arguments.length?([gt,Et,jt]=vt,ct=piecewise(yt,[gt,Et,jt]),mt):[ct(0),ct(.5),ct(1)]}}return mt.range=xt(interpolate),mt.rangeRound=xt(interpolateRound),mt.unknown=function(yt){return arguments.length?(pt=yt,mt):pt},function(yt){return ut=yt,st=yt(_e),it=yt(et),at=yt(rt),ot=st===it?0:.5/(it-st),lt=it===at?0:.5/(at-it),nt=it<st?-1:1,mt}}function diverging(){var _e=linearish(transformer()(identity$2));return _e.copy=function(){return copy$1(_e,diverging())},initInterpolator.apply(_e,arguments)}function divergingLog(){var _e=loggish(transformer()).domain([.1,1,10]);return _e.copy=function(){return copy$1(_e,divergingLog()).base(_e.base())},initInterpolator.apply(_e,arguments)}function divergingSymlog(){var _e=symlogish(transformer());return _e.copy=function(){return copy$1(_e,divergingSymlog()).constant(_e.constant())},initInterpolator.apply(_e,arguments)}function divergingPow(){var _e=powish(transformer());return _e.copy=function(){return copy$1(_e,divergingPow()).exponent(_e.exponent())},initInterpolator.apply(_e,arguments)}function divergingSqrt(){return divergingPow.apply(null,arguments).exponent(.5)}const d3Scales=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:band,scaleDiverging:diverging,scaleDivergingLog:divergingLog,scaleDivergingPow:divergingPow,scaleDivergingSqrt:divergingSqrt,scaleDivergingSymlog:divergingSymlog,scaleIdentity:identity,scaleImplicit:implicit,scaleLinear:linear,scaleLog:log,scaleOrdinal:ordinal,scalePoint:point,scalePow:pow,scaleQuantile:quantile,scaleQuantize:quantize,scaleRadial:radial,scaleSequential:sequential,scaleSequentialLog:sequentialLog,scaleSequentialPow:sequentialPow,scaleSequentialQuantile:sequentialQuantile,scaleSequentialSqrt:sequentialSqrt,scaleSequentialSymlog:sequentialSymlog,scaleSqrt:sqrt,scaleSymlog:symlog,scaleThreshold:threshold,scaleTime:time,scaleUtc:utcTime,tickFormat},Symbol.toStringTag,{value:"Module"}));var selectChartDataWithIndexes=_e=>_e.chartData,selectChartDataAndAlwaysIgnoreIndexes=createSelector([selectChartDataWithIndexes],_e=>{var et=_e.chartData!=null?_e.chartData.length-1:0;return{chartData:_e.chartData,computedData:_e.computedData,dataEndIndex:et,dataStartIndex:0}}),selectChartDataWithIndexesIfNotInPanoramaPosition4=(_e,et,rt,nt)=>nt?selectChartDataAndAlwaysIgnoreIndexes(_e):selectChartDataWithIndexes(_e),selectChartDataWithIndexesIfNotInPanoramaPosition3=(_e,et,rt)=>rt?selectChartDataAndAlwaysIgnoreIndexes(_e):selectChartDataWithIndexes(_e);function isWellFormedNumberDomain(_e){if(Array.isArray(_e)&&_e.length===2){var[et,rt]=_e;if(isWellBehavedNumber(et)&&isWellBehavedNumber(rt))return!0}return!1}function extendDomain(_e,et,rt){return rt?_e:[Math.min(_e[0],et[0]),Math.max(_e[1],et[1])]}function numericalDomainSpecifiedWithoutRequiringData(_e,et){if(et&&typeof _e!="function"&&Array.isArray(_e)&&_e.length===2){var[rt,nt]=_e,st,it;if(isWellBehavedNumber(rt))st=rt;else if(typeof rt=="function")return;if(isWellBehavedNumber(nt))it=nt;else if(typeof nt=="function")return;var at=[st,it];if(isWellFormedNumberDomain(at))return at}}function parseNumericalUserDomain(_e,et,rt){if(!(!rt&&et==null)){if(typeof _e=="function"&&et!=null)try{var nt=_e(et,rt);if(isWellFormedNumberDomain(nt))return extendDomain(nt,et,rt)}catch{}if(Array.isArray(_e)&&_e.length===2){var[st,it]=_e,at,ot;if(st==="auto")et!=null&&(at=Math.min(...et));else if(isNumber$1(st))at=st;else if(typeof st=="function")try{et!=null&&(at=st(et==null?void 0:et[0]))}catch{}else if(typeof st=="string"&&MIN_VALUE_REG.test(st)){var lt=MIN_VALUE_REG.exec(st);if(lt==null||lt[1]==null||et==null)at=void 0;else{var ct=+lt[1];at=et[0]-ct}}else at=et==null?void 0:et[0];if(it==="auto")et!=null&&(ot=Math.max(...et));else if(isNumber$1(it))ot=it;else if(typeof it=="function")try{et!=null&&(ot=it(et==null?void 0:et[1]))}catch{}else if(typeof it=="string"&&MAX_VALUE_REG.test(it)){var ut=MAX_VALUE_REG.exec(it);if(ut==null||ut[1]==null||et==null)ot=void 0;else{var dt=+ut[1];ot=et[1]+dt}}else ot=et==null?void 0:et[1];var pt=[at,ot];if(isWellFormedNumberDomain(pt))return et==null?pt:extendDomain(pt,et,rt)}}}var MAX_DIGITS=1e9,defaults$1={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Decimal,external=!0,decimalError="[DecimalError] ",invalidArgument=decimalError+"Invalid argument: ",exponentOutOfRange=decimalError+"Exponent out of range: ",mathfloor=Math.floor,mathpow=Math.pow,isDecimal=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ONE,BASE=1e7,LOG_BASE=7,MAX_SAFE_INTEGER=9007199254740991,MAX_E=mathfloor(MAX_SAFE_INTEGER/LOG_BASE),P$2={};P$2.absoluteValue=P$2.abs=function(){var _e=new this.constructor(this);return _e.s&&(_e.s=1),_e};P$2.comparedTo=P$2.cmp=function(_e){var et,rt,nt,st,it=this;if(_e=new it.constructor(_e),it.s!==_e.s)return it.s||-_e.s;if(it.e!==_e.e)return it.e>_e.e^it.s<0?1:-1;for(nt=it.d.length,st=_e.d.length,et=0,rt=nt<st?nt:st;et<rt;++et)if(it.d[et]!==_e.d[et])return it.d[et]>_e.d[et]^it.s<0?1:-1;return nt===st?0:nt>st^it.s<0?1:-1};P$2.decimalPlaces=P$2.dp=function(){var _e=this,et=_e.d.length-1,rt=(et-_e.e)*LOG_BASE;if(et=_e.d[et],et)for(;et%10==0;et/=10)rt--;return rt<0?0:rt};P$2.dividedBy=P$2.div=function(_e){return divide(this,new this.constructor(_e))};P$2.dividedToIntegerBy=P$2.idiv=function(_e){var et=this,rt=et.constructor;return round(divide(et,new rt(_e),0,1),rt.precision)};P$2.equals=P$2.eq=function(_e){return!this.cmp(_e)};P$2.exponent=function(){return getBase10Exponent(this)};P$2.greaterThan=P$2.gt=function(_e){return this.cmp(_e)>0};P$2.greaterThanOrEqualTo=P$2.gte=function(_e){return this.cmp(_e)>=0};P$2.isInteger=P$2.isint=function(){return this.e>this.d.length-2};P$2.isNegative=P$2.isneg=function(){return this.s<0};P$2.isPositive=P$2.ispos=function(){return this.s>0};P$2.isZero=function(){return this.s===0};P$2.lessThan=P$2.lt=function(_e){return this.cmp(_e)<0};P$2.lessThanOrEqualTo=P$2.lte=function(_e){return this.cmp(_e)<1};P$2.logarithm=P$2.log=function(_e){var et,rt=this,nt=rt.constructor,st=nt.precision,it=st+5;if(_e===void 0)_e=new nt(10);else if(_e=new nt(_e),_e.s<1||_e.eq(ONE))throw Error(decimalError+"NaN");if(rt.s<1)throw Error(decimalError+(rt.s?"NaN":"-Infinity"));return rt.eq(ONE)?new nt(0):(external=!1,et=divide(ln(rt,it),ln(_e,it),it),external=!0,round(et,st))};P$2.minus=P$2.sub=function(_e){var et=this;return _e=new et.constructor(_e),et.s==_e.s?subtract(et,_e):add(et,(_e.s=-_e.s,_e))};P$2.modulo=P$2.mod=function(_e){var et,rt=this,nt=rt.constructor,st=nt.precision;if(_e=new nt(_e),!_e.s)throw Error(decimalError+"NaN");return rt.s?(external=!1,et=divide(rt,_e,0,1).times(_e),external=!0,rt.minus(et)):round(new nt(rt),st)};P$2.naturalExponential=P$2.exp=function(){return exp(this)};P$2.naturalLogarithm=P$2.ln=function(){return ln(this)};P$2.negated=P$2.neg=function(){var _e=new this.constructor(this);return _e.s=-_e.s||0,_e};P$2.plus=P$2.add=function(_e){var et=this;return _e=new et.constructor(_e),et.s==_e.s?add(et,_e):subtract(et,(_e.s=-_e.s,_e))};P$2.precision=P$2.sd=function(_e){var et,rt,nt,st=this;if(_e!==void 0&&_e!==!!_e&&_e!==1&&_e!==0)throw Error(invalidArgument+_e);if(et=getBase10Exponent(st)+1,nt=st.d.length-1,rt=nt*LOG_BASE+1,nt=st.d[nt],nt){for(;nt%10==0;nt/=10)rt--;for(nt=st.d[0];nt>=10;nt/=10)rt++}return _e&&et>rt?et:rt};P$2.squareRoot=P$2.sqrt=function(){var _e,et,rt,nt,st,it,at,ot=this,lt=ot.constructor;if(ot.s<1){if(!ot.s)return new lt(0);throw Error(decimalError+"NaN")}for(_e=getBase10Exponent(ot),external=!1,st=Math.sqrt(+ot),st==0||st==1/0?(et=digitsToString(ot.d),(et.length+_e)%2==0&&(et+="0"),st=Math.sqrt(et),_e=mathfloor((_e+1)/2)-(_e<0||_e%2),st==1/0?et="5e"+_e:(et=st.toExponential(),et=et.slice(0,et.indexOf("e")+1)+_e),nt=new lt(et)):nt=new lt(st.toString()),rt=lt.precision,st=at=rt+3;;)if(it=nt,nt=it.plus(divide(ot,it,at+2)).times(.5),digitsToString(it.d).slice(0,at)===(et=digitsToString(nt.d)).slice(0,at)){if(et=et.slice(at-3,at+1),st==at&&et=="4999"){if(round(it,rt+1,0),it.times(it).eq(ot)){nt=it;break}}else if(et!="9999")break;at+=4}return external=!0,round(nt,rt)};P$2.times=P$2.mul=function(_e){var et,rt,nt,st,it,at,ot,lt,ct,ut=this,dt=ut.constructor,pt=ut.d,mt=(_e=new dt(_e)).d;if(!ut.s||!_e.s)return new dt(0);for(_e.s*=ut.s,rt=ut.e+_e.e,lt=pt.length,ct=mt.length,lt<ct&&(it=pt,pt=mt,mt=it,at=lt,lt=ct,ct=at),it=[],at=lt+ct,nt=at;nt--;)it.push(0);for(nt=ct;--nt>=0;){for(et=0,st=lt+nt;st>nt;)ot=it[st]+mt[nt]*pt[st-nt-1]+et,it[st--]=ot%BASE|0,et=ot/BASE|0;it[st]=(it[st]+et)%BASE|0}for(;!it[--at];)it.pop();return et?++rt:it.shift(),_e.d=it,_e.e=rt,external?round(_e,dt.precision):_e};P$2.toDecimalPlaces=P$2.todp=function(_e,et){var rt=this,nt=rt.constructor;return rt=new nt(rt),_e===void 0?rt:(checkInt32(_e,0,MAX_DIGITS),et===void 0?et=nt.rounding:checkInt32(et,0,8),round(rt,_e+getBase10Exponent(rt)+1,et))};P$2.toExponential=function(_e,et){var rt,nt=this,st=nt.constructor;return _e===void 0?rt=toString$1(nt,!0):(checkInt32(_e,0,MAX_DIGITS),et===void 0?et=st.rounding:checkInt32(et,0,8),nt=round(new st(nt),_e+1,et),rt=toString$1(nt,!0,_e+1)),rt};P$2.toFixed=function(_e,et){var rt,nt,st=this,it=st.constructor;return _e===void 0?toString$1(st):(checkInt32(_e,0,MAX_DIGITS),et===void 0?et=it.rounding:checkInt32(et,0,8),nt=round(new it(st),_e+getBase10Exponent(st)+1,et),rt=toString$1(nt.abs(),!1,_e+getBase10Exponent(nt)+1),st.isneg()&&!st.isZero()?"-"+rt:rt)};P$2.toInteger=P$2.toint=function(){var _e=this,et=_e.constructor;return round(new et(_e),getBase10Exponent(_e)+1,et.rounding)};P$2.toNumber=function(){return+this};P$2.toPower=P$2.pow=function(_e){var et,rt,nt,st,it,at,ot=this,lt=ot.constructor,ct=12,ut=+(_e=new lt(_e));if(!_e.s)return new lt(ONE);if(ot=new lt(ot),!ot.s){if(_e.s<1)throw Error(decimalError+"Infinity");return ot}if(ot.eq(ONE))return ot;if(nt=lt.precision,_e.eq(ONE))return round(ot,nt);if(et=_e.e,rt=_e.d.length-1,at=et>=rt,it=ot.s,at){if((rt=ut<0?-ut:ut)<=MAX_SAFE_INTEGER){for(st=new lt(ONE),et=Math.ceil(nt/LOG_BASE+4),external=!1;rt%2&&(st=st.times(ot),truncate(st.d,et)),rt=mathfloor(rt/2),rt!==0;)ot=ot.times(ot),truncate(ot.d,et);return external=!0,_e.s<0?new lt(ONE).div(st):round(st,nt)}}else if(it<0)throw Error(decimalError+"NaN");return it=it<0&&_e.d[Math.max(et,rt)]&1?-1:1,ot.s=1,external=!1,st=_e.times(ln(ot,nt+ct)),external=!0,st=exp(st),st.s=it,st};P$2.toPrecision=function(_e,et){var rt,nt,st=this,it=st.constructor;return _e===void 0?(rt=getBase10Exponent(st),nt=toString$1(st,rt<=it.toExpNeg||rt>=it.toExpPos)):(checkInt32(_e,1,MAX_DIGITS),et===void 0?et=it.rounding:checkInt32(et,0,8),st=round(new it(st),_e,et),rt=getBase10Exponent(st),nt=toString$1(st,_e<=rt||rt<=it.toExpNeg,_e)),nt};P$2.toSignificantDigits=P$2.tosd=function(_e,et){var rt=this,nt=rt.constructor;return _e===void 0?(_e=nt.precision,et=nt.rounding):(checkInt32(_e,1,MAX_DIGITS),et===void 0?et=nt.rounding:checkInt32(et,0,8)),round(new nt(rt),_e,et)};P$2.toString=P$2.valueOf=P$2.val=P$2.toJSON=P$2[Symbol.for("nodejs.util.inspect.custom")]=function(){var _e=this,et=getBase10Exponent(_e),rt=_e.constructor;return toString$1(_e,et<=rt.toExpNeg||et>=rt.toExpPos)};function add(_e,et){var rt,nt,st,it,at,ot,lt,ct,ut=_e.constructor,dt=ut.precision;if(!_e.s||!et.s)return et.s||(et=new ut(_e)),external?round(et,dt):et;if(lt=_e.d,ct=et.d,at=_e.e,st=et.e,lt=lt.slice(),it=at-st,it){for(it<0?(nt=lt,it=-it,ot=ct.length):(nt=ct,st=at,ot=lt.length),at=Math.ceil(dt/LOG_BASE),ot=at>ot?at+1:ot+1,it>ot&&(it=ot,nt.length=1),nt.reverse();it--;)nt.push(0);nt.reverse()}for(ot=lt.length,it=ct.length,ot-it<0&&(it=ot,nt=ct,ct=lt,lt=nt),rt=0;it;)rt=(lt[--it]=lt[it]+ct[it]+rt)/BASE|0,lt[it]%=BASE;for(rt&&(lt.unshift(rt),++st),ot=lt.length;lt[--ot]==0;)lt.pop();return et.d=lt,et.e=st,external?round(et,dt):et}function checkInt32(_e,et,rt){if(_e!==~~_e||_e<et||_e>rt)throw Error(invalidArgument+_e)}function digitsToString(_e){var et,rt,nt,st=_e.length-1,it="",at=_e[0];if(st>0){for(it+=at,et=1;et<st;et++)nt=_e[et]+"",rt=LOG_BASE-nt.length,rt&&(it+=getZeroString(rt)),it+=nt;at=_e[et],nt=at+"",rt=LOG_BASE-nt.length,rt&&(it+=getZeroString(rt))}else if(at===0)return"0";for(;at%10===0;)at/=10;return it+at}var divide=function(){function _e(nt,st){var it,at=0,ot=nt.length;for(nt=nt.slice();ot--;)it=nt[ot]*st+at,nt[ot]=it%BASE|0,at=it/BASE|0;return at&&nt.unshift(at),nt}function et(nt,st,it,at){var ot,lt;if(it!=at)lt=it>at?1:-1;else for(ot=lt=0;ot<it;ot++)if(nt[ot]!=st[ot]){lt=nt[ot]>st[ot]?1:-1;break}return lt}function rt(nt,st,it){for(var at=0;it--;)nt[it]-=at,at=nt[it]<st[it]?1:0,nt[it]=at*BASE+nt[it]-st[it];for(;!nt[0]&&nt.length>1;)nt.shift()}return function(nt,st,it,at){var ot,lt,ct,ut,dt,pt,mt,xt,yt,vt,gt,Et,jt,kt,Rt,St,_t,Nt,Lt=nt.constructor,$t=nt.s==st.s?1:-1,Ft=nt.d,Tt=st.d;if(!nt.s)return new Lt(nt);if(!st.s)throw Error(decimalError+"Division by zero");for(lt=nt.e-st.e,_t=Tt.length,Rt=Ft.length,mt=new Lt($t),xt=mt.d=[],ct=0;Tt[ct]==(Ft[ct]||0);)++ct;if(Tt[ct]>(Ft[ct]||0)&&--lt,it==null?Et=it=Lt.precision:at?Et=it+(getBase10Exponent(nt)-getBase10Exponent(st))+1:Et=it,Et<0)return new Lt(0);if(Et=Et/LOG_BASE+2|0,ct=0,_t==1)for(ut=0,Tt=Tt[0],Et++;(ct<Rt||ut)&&Et--;ct++)jt=ut*BASE+(Ft[ct]||0),xt[ct]=jt/Tt|0,ut=jt%Tt|0;else{for(ut=BASE/(Tt[0]+1)|0,ut>1&&(Tt=_e(Tt,ut),Ft=_e(Ft,ut),_t=Tt.length,Rt=Ft.length),kt=_t,yt=Ft.slice(0,_t),vt=yt.length;vt<_t;)yt[vt++]=0;Nt=Tt.slice(),Nt.unshift(0),St=Tt[0],Tt[1]>=BASE/2&&++St;do ut=0,ot=et(Tt,yt,_t,vt),ot<0?(gt=yt[0],_t!=vt&&(gt=gt*BASE+(yt[1]||0)),ut=gt/St|0,ut>1?(ut>=BASE&&(ut=BASE-1),dt=_e(Tt,ut),pt=dt.length,vt=yt.length,ot=et(dt,yt,pt,vt),ot==1&&(ut--,rt(dt,_t<pt?Nt:Tt,pt))):(ut==0&&(ot=ut=1),dt=Tt.slice()),pt=dt.length,pt<vt&&dt.unshift(0),rt(yt,dt,vt),ot==-1&&(vt=yt.length,ot=et(Tt,yt,_t,vt),ot<1&&(ut++,rt(yt,_t<vt?Nt:Tt,vt))),vt=yt.length):ot===0&&(ut++,yt=[0]),xt[ct++]=ut,ot&&yt[0]?yt[vt++]=Ft[kt]||0:(yt=[Ft[kt]],vt=1);while((kt++<Rt||yt[0]!==void 0)&&Et--)}return xt[0]||xt.shift(),mt.e=lt,round(mt,at?it+getBase10Exponent(mt)+1:it)}}();function exp(_e,et){var rt,nt,st,it,at,ot,lt=0,ct=0,ut=_e.constructor,dt=ut.precision;if(getBase10Exponent(_e)>16)throw Error(exponentOutOfRange+getBase10Exponent(_e));if(!_e.s)return new ut(ONE);for(external=!1,ot=dt,at=new ut(.03125);_e.abs().gte(.1);)_e=_e.times(at),ct+=5;for(nt=Math.log(mathpow(2,ct))/Math.LN10*2+5|0,ot+=nt,rt=st=it=new ut(ONE),ut.precision=ot;;){if(st=round(st.times(_e),ot),rt=rt.times(++lt),at=it.plus(divide(st,rt,ot)),digitsToString(at.d).slice(0,ot)===digitsToString(it.d).slice(0,ot)){for(;ct--;)it=round(it.times(it),ot);return ut.precision=dt,et==null?(external=!0,round(it,dt)):it}it=at}}function getBase10Exponent(_e){for(var et=_e.e*LOG_BASE,rt=_e.d[0];rt>=10;rt/=10)et++;return et}function getLn10(_e,et,rt){if(et>_e.LN10.sd())throw external=!0,rt&&(_e.precision=rt),Error(decimalError+"LN10 precision limit exceeded");return round(new _e(_e.LN10),et)}function getZeroString(_e){for(var et="";_e--;)et+="0";return et}function ln(_e,et){var rt,nt,st,it,at,ot,lt,ct,ut,dt=1,pt=10,mt=_e,xt=mt.d,yt=mt.constructor,vt=yt.precision;if(mt.s<1)throw Error(decimalError+(mt.s?"NaN":"-Infinity"));if(mt.eq(ONE))return new yt(0);if(et==null?(external=!1,ct=vt):ct=et,mt.eq(10))return et==null&&(external=!0),getLn10(yt,ct);if(ct+=pt,yt.precision=ct,rt=digitsToString(xt),nt=rt.charAt(0),it=getBase10Exponent(mt),Math.abs(it)<15e14){for(;nt<7&&nt!=1||nt==1&&rt.charAt(1)>3;)mt=mt.times(_e),rt=digitsToString(mt.d),nt=rt.charAt(0),dt++;it=getBase10Exponent(mt),nt>1?(mt=new yt("0."+rt),it++):mt=new yt(nt+"."+rt.slice(1))}else return lt=getLn10(yt,ct+2,vt).times(it+""),mt=ln(new yt(nt+"."+rt.slice(1)),ct-pt).plus(lt),yt.precision=vt,et==null?(external=!0,round(mt,vt)):mt;for(ot=at=mt=divide(mt.minus(ONE),mt.plus(ONE),ct),ut=round(mt.times(mt),ct),st=3;;){if(at=round(at.times(ut),ct),lt=ot.plus(divide(at,new yt(st),ct)),digitsToString(lt.d).slice(0,ct)===digitsToString(ot.d).slice(0,ct))return ot=ot.times(2),it!==0&&(ot=ot.plus(getLn10(yt,ct+2,vt).times(it+""))),ot=divide(ot,new yt(dt),ct),yt.precision=vt,et==null?(external=!0,round(ot,vt)):ot;ot=lt,st+=2}}function parseDecimal(_e,et){var rt,nt,st;for((rt=et.indexOf("."))>-1&&(et=et.replace(".","")),(nt=et.search(/e/i))>0?(rt<0&&(rt=nt),rt+=+et.slice(nt+1),et=et.substring(0,nt)):rt<0&&(rt=et.length),nt=0;et.charCodeAt(nt)===48;)++nt;for(st=et.length;et.charCodeAt(st-1)===48;)--st;if(et=et.slice(nt,st),et){if(st-=nt,rt=rt-nt-1,_e.e=mathfloor(rt/LOG_BASE),_e.d=[],nt=(rt+1)%LOG_BASE,rt<0&&(nt+=LOG_BASE),nt<st){for(nt&&_e.d.push(+et.slice(0,nt)),st-=LOG_BASE;nt<st;)_e.d.push(+et.slice(nt,nt+=LOG_BASE));et=et.slice(nt),nt=LOG_BASE-et.length}else nt-=st;for(;nt--;)et+="0";if(_e.d.push(+et),external&&(_e.e>MAX_E||_e.e<-MAX_E))throw Error(exponentOutOfRange+rt)}else _e.s=0,_e.e=0,_e.d=[0];return _e}function round(_e,et,rt){var nt,st,it,at,ot,lt,ct,ut,dt=_e.d;for(at=1,it=dt[0];it>=10;it/=10)at++;if(nt=et-at,nt<0)nt+=LOG_BASE,st=et,ct=dt[ut=0];else{if(ut=Math.ceil((nt+1)/LOG_BASE),it=dt.length,ut>=it)return _e;for(ct=it=dt[ut],at=1;it>=10;it/=10)at++;nt%=LOG_BASE,st=nt-LOG_BASE+at}if(rt!==void 0&&(it=mathpow(10,at-st-1),ot=ct/it%10|0,lt=et<0||dt[ut+1]!==void 0||ct%it,lt=rt<4?(ot||lt)&&(rt==0||rt==(_e.s<0?3:2)):ot>5||ot==5&&(rt==4||lt||rt==6&&(nt>0?st>0?ct/mathpow(10,at-st):0:dt[ut-1])%10&1||rt==(_e.s<0?8:7))),et<1||!dt[0])return lt?(it=getBase10Exponent(_e),dt.length=1,et=et-it-1,dt[0]=mathpow(10,(LOG_BASE-et%LOG_BASE)%LOG_BASE),_e.e=mathfloor(-et/LOG_BASE)||0):(dt.length=1,dt[0]=_e.e=_e.s=0),_e;if(nt==0?(dt.length=ut,it=1,ut--):(dt.length=ut+1,it=mathpow(10,LOG_BASE-nt),dt[ut]=st>0?(ct/mathpow(10,at-st)%mathpow(10,st)|0)*it:0),lt)for(;;)if(ut==0){(dt[0]+=it)==BASE&&(dt[0]=1,++_e.e);break}else{if(dt[ut]+=it,dt[ut]!=BASE)break;dt[ut--]=0,it=1}for(nt=dt.length;dt[--nt]===0;)dt.pop();if(external&&(_e.e>MAX_E||_e.e<-MAX_E))throw Error(exponentOutOfRange+getBase10Exponent(_e));return _e}function subtract(_e,et){var rt,nt,st,it,at,ot,lt,ct,ut,dt,pt=_e.constructor,mt=pt.precision;if(!_e.s||!et.s)return et.s?et.s=-et.s:et=new pt(_e),external?round(et,mt):et;if(lt=_e.d,dt=et.d,nt=et.e,ct=_e.e,lt=lt.slice(),at=ct-nt,at){for(ut=at<0,ut?(rt=lt,at=-at,ot=dt.length):(rt=dt,nt=ct,ot=lt.length),st=Math.max(Math.ceil(mt/LOG_BASE),ot)+2,at>st&&(at=st,rt.length=1),rt.reverse(),st=at;st--;)rt.push(0);rt.reverse()}else{for(st=lt.length,ot=dt.length,ut=st<ot,ut&&(ot=st),st=0;st<ot;st++)if(lt[st]!=dt[st]){ut=lt[st]<dt[st];break}at=0}for(ut&&(rt=lt,lt=dt,dt=rt,et.s=-et.s),ot=lt.length,st=dt.length-ot;st>0;--st)lt[ot++]=0;for(st=dt.length;st>at;){if(lt[--st]<dt[st]){for(it=st;it&&lt[--it]===0;)lt[it]=BASE-1;--lt[it],lt[st]+=BASE}lt[st]-=dt[st]}for(;lt[--ot]===0;)lt.pop();for(;lt[0]===0;lt.shift())--nt;return lt[0]?(et.d=lt,et.e=nt,external?round(et,mt):et):new pt(0)}function toString$1(_e,et,rt){var nt,st=getBase10Exponent(_e),it=digitsToString(_e.d),at=it.length;return et?(rt&&(nt=rt-at)>0?it=it.charAt(0)+"."+it.slice(1)+getZeroString(nt):at>1&&(it=it.charAt(0)+"."+it.slice(1)),it=it+(st<0?"e":"e+")+st):st<0?(it="0."+getZeroString(-st-1)+it,rt&&(nt=rt-at)>0&&(it+=getZeroString(nt))):st>=at?(it+=getZeroString(st+1-at),rt&&(nt=rt-st-1)>0&&(it=it+"."+getZeroString(nt))):((nt=st+1)<at&&(it=it.slice(0,nt)+"."+it.slice(nt)),rt&&(nt=rt-at)>0&&(st+1===at&&(it+="."),it+=getZeroString(nt))),_e.s<0?"-"+it:it}function truncate(_e,et){if(_e.length>et)return _e.length=et,!0}function clone(_e){var et,rt,nt;function st(it){var at=this;if(!(at instanceof st))return new st(it);if(at.constructor=st,it instanceof st){at.s=it.s,at.e=it.e,at.d=(it=it.d)?it.slice():it;return}if(typeof it=="number"){if(it*0!==0)throw Error(invalidArgument+it);if(it>0)at.s=1;else if(it<0)it=-it,at.s=-1;else{at.s=0,at.e=0,at.d=[0];return}if(it===~~it&&it<1e7){at.e=0,at.d=[it];return}return parseDecimal(at,it.toString())}else if(typeof it!="string")throw Error(invalidArgument+it);if(it.charCodeAt(0)===45?(it=it.slice(1),at.s=-1):at.s=1,isDecimal.test(it))parseDecimal(at,it);else throw Error(invalidArgument+it)}if(st.prototype=P$2,st.ROUND_UP=0,st.ROUND_DOWN=1,st.ROUND_CEIL=2,st.ROUND_FLOOR=3,st.ROUND_HALF_UP=4,st.ROUND_HALF_DOWN=5,st.ROUND_HALF_EVEN=6,st.ROUND_HALF_CEIL=7,st.ROUND_HALF_FLOOR=8,st.clone=clone,st.config=st.set=config,_e===void 0&&(_e={}),_e)for(nt=["precision","rounding","toExpNeg","toExpPos","LN10"],et=0;et<nt.length;)_e.hasOwnProperty(rt=nt[et++])||(_e[rt]=this[rt]);return st.config(_e),st}function config(_e){if(!_e||typeof _e!="object")throw Error(decimalError+"Object expected");var et,rt,nt,st=["precision",1,MAX_DIGITS,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(et=0;et<st.length;et+=3)if((nt=_e[rt=st[et]])!==void 0)if(mathfloor(nt)===nt&&nt>=st[et+1]&&nt<=st[et+2])this[rt]=nt;else throw Error(invalidArgument+rt+": "+nt);if((nt=_e[rt="LN10"])!==void 0)if(nt==Math.LN10)this[rt]=new this(nt);else throw Error(invalidArgument+rt+": "+nt);return this}var Decimal=clone(defaults$1);ONE=new Decimal(1);const Decimal$1=Decimal;function getDigitCount(_e){var et;return _e===0?et=1:et=Math.floor(new Decimal$1(_e).abs().log(10).toNumber())+1,et}function rangeStep(_e,et,rt){for(var nt=new Decimal$1(_e),st=0,it=[];nt.lt(et)&&st<1e5;)it.push(nt.toNumber()),nt=nt.add(rt),st++;return it}var getValidInterval=_e=>{var[et,rt]=_e,[nt,st]=[et,rt];return et>rt&&([nt,st]=[rt,et]),[nt,st]},getFormatStep=(_e,et,rt)=>{if(_e.lte(0))return new Decimal$1(0);var nt=getDigitCount(_e.toNumber()),st=new Decimal$1(10).pow(nt),it=_e.div(st),at=nt!==1?.05:.1,ot=new Decimal$1(Math.ceil(it.div(at).toNumber())).add(rt).mul(at),lt=ot.mul(st);return et?new Decimal$1(lt.toNumber()):new Decimal$1(Math.ceil(lt.toNumber()))},getTickOfSingleValue=(_e,et,rt)=>{var nt=new Decimal$1(1),st=new Decimal$1(_e);if(!st.isint()&&rt){var it=Math.abs(_e);it<1?(nt=new Decimal$1(10).pow(getDigitCount(_e)-1),st=new Decimal$1(Math.floor(st.div(nt).toNumber())).mul(nt)):it>1&&(st=new Decimal$1(Math.floor(_e)))}else _e===0?st=new Decimal$1(Math.floor((et-1)/2)):rt||(st=new Decimal$1(Math.floor(_e)));for(var at=Math.floor((et-1)/2),ot=[],lt=0;lt<et;lt++)ot.push(st.add(new Decimal$1(lt-at).mul(nt)).toNumber());return ot},_calculateStep=function(et,rt,nt,st){var it=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((rt-et)/(nt-1)))return{step:new Decimal$1(0),tickMin:new Decimal$1(0),tickMax:new Decimal$1(0)};var at=getFormatStep(new Decimal$1(rt).sub(et).div(nt-1),st,it),ot;et<=0&&rt>=0?ot=new Decimal$1(0):(ot=new Decimal$1(et).add(rt).div(2),ot=ot.sub(new Decimal$1(ot).mod(at)));var lt=Math.ceil(ot.sub(et).div(at).toNumber()),ct=Math.ceil(new Decimal$1(rt).sub(ot).div(at).toNumber()),ut=lt+ct+1;return ut>nt?_calculateStep(et,rt,nt,st,it+1):(ut<nt&&(ct=rt>0?ct+(nt-ut):ct,lt=rt>0?lt:lt+(nt-ut)),{step:at,tickMin:ot.sub(new Decimal$1(lt).mul(at)),tickMax:ot.add(new Decimal$1(ct).mul(at))})},getNiceTickValues=function(et){var[rt,nt]=et,st=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,it=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,at=Math.max(st,2),[ot,lt]=getValidInterval([rt,nt]);if(ot===-1/0||lt===1/0){var ct=lt===1/0?[ot,...Array(st-1).fill(1/0)]:[...Array(st-1).fill(-1/0),lt];return rt>nt?ct.reverse():ct}if(ot===lt)return getTickOfSingleValue(ot,st,it);var{step:ut,tickMin:dt,tickMax:pt}=_calculateStep(ot,lt,at,it,0),mt=rangeStep(dt,pt.add(new Decimal$1(.1).mul(ut)),ut);return rt>nt?mt.reverse():mt},getTickValuesFixedDomain=function(et,rt){var[nt,st]=et,it=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[at,ot]=getValidInterval([nt,st]);if(at===-1/0||ot===1/0)return[nt,st];if(at===ot)return[at];var lt=Math.max(rt,2),ct=getFormatStep(new Decimal$1(ot).sub(at).div(lt-1),it,0),ut=[...rangeStep(new Decimal$1(at),new Decimal$1(ot),ct),ot];return it===!1&&(ut=ut.map(dt=>Math.round(dt))),nt>st?ut.reverse():ut},selectRootMaxBarSize=_e=>_e.rootProps.maxBarSize,selectBarGap=_e=>_e.rootProps.barGap,selectBarCategoryGap=_e=>_e.rootProps.barCategoryGap,selectRootBarSize=_e=>_e.rootProps.barSize,selectStackOffsetType=_e=>_e.rootProps.stackOffset,selectReverseStackOrder=_e=>_e.rootProps.reverseStackOrder,selectChartName=_e=>_e.options.chartName,selectSyncId=_e=>_e.rootProps.syncId,selectSyncMethod=_e=>_e.rootProps.syncMethod,selectEventEmitter=_e=>_e.options.eventEmitter,selectChartBaseValue=_e=>_e.rootProps.baseValue,DefaultZIndexes={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},defaultPolarAngleAxisProps={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},defaultPolarRadiusAxisProps={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},combineAxisRangeWithReverse=(_e,et)=>{if(!(!_e||!et))return _e!=null&&_e.reversed?[et[1],et[0]]:et};function getAxisTypeBasedOnLayout(_e,et,rt){if(rt!=="auto")return rt;if(_e!=null)return isCategoricalAxis(_e,et)?"category":"number"}function ownKeys$u(_e,et){var rt=Object.keys(_e);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);et&&(nt=nt.filter(function(st){return Object.getOwnPropertyDescriptor(_e,st).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$t(_e){for(var et=1;et<arguments.length;et++){var rt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$u(Object(rt),!0).forEach(function(nt){_defineProperty$w(_e,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(rt)):ownKeys$u(Object(rt)).forEach(function(nt){Object.defineProperty(_e,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return _e}function _defineProperty$w(_e,et,rt){return(et=_toPropertyKey$w(et))in _e?Object.defineProperty(_e,et,{value:rt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=rt,_e}function _toPropertyKey$w(_e){var et=_toPrimitive$w(_e,"string");return typeof et=="symbol"?et:et+""}function _toPrimitive$w(_e,et){if(typeof _e!="object"||!_e)return _e;var rt=_e[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(_e,et);if(typeof nt!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(_e)}var implicitAngleAxis={allowDataOverflow:defaultPolarAngleAxisProps.allowDataOverflow,allowDecimals:defaultPolarAngleAxisProps.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:defaultPolarAngleAxisProps.angleAxisId,includeHidden:!1,name:void 0,reversed:defaultPolarAngleAxisProps.reversed,scale:defaultPolarAngleAxisProps.scale,tick:defaultPolarAngleAxisProps.tick,tickCount:void 0,ticks:void 0,type:defaultPolarAngleAxisProps.type,unit:void 0},implicitRadiusAxis={allowDataOverflow:defaultPolarRadiusAxisProps.allowDataOverflow,allowDecimals:defaultPolarRadiusAxisProps.allowDecimals,allowDuplicatedCategory:defaultPolarRadiusAxisProps.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:defaultPolarRadiusAxisProps.radiusAxisId,includeHidden:defaultPolarRadiusAxisProps.includeHidden,name:void 0,reversed:defaultPolarRadiusAxisProps.reversed,scale:defaultPolarRadiusAxisProps.scale,tick:defaultPolarRadiusAxisProps.tick,tickCount:defaultPolarRadiusAxisProps.tickCount,ticks:void 0,type:defaultPolarRadiusAxisProps.type,unit:void 0},selectAngleAxisNoDefaults=(_e,et)=>{if(et!=null)return _e.polarAxis.angleAxis[et]},selectAngleAxis=createSelector([selectAngleAxisNoDefaults,selectPolarChartLayout],(_e,et)=>{var rt;if(_e!=null)return _e;var nt=(rt=getAxisTypeBasedOnLayout(et,"angleAxis",implicitAngleAxis.type))!==null&&rt!==void 0?rt:"category";return _objectSpread$t(_objectSpread$t({},implicitAngleAxis),{},{type:nt})}),selectRadiusAxisNoDefaults=(_e,et)=>_e.polarAxis.radiusAxis[et],selectRadiusAxis=createSelector([selectRadiusAxisNoDefaults,selectPolarChartLayout],(_e,et)=>{var rt;if(_e!=null)return _e;var nt=(rt=getAxisTypeBasedOnLayout(et,"radiusAxis",implicitRadiusAxis.type))!==null&&rt!==void 0?rt:"category";return _objectSpread$t(_objectSpread$t({},implicitRadiusAxis),{},{type:nt})}),selectPolarOptions=_e=>_e.polarOptions,selectMaxRadius=createSelector([selectChartWidth,selectChartHeight,selectChartOffsetInternal],getMaxRadius),selectInnerRadius=createSelector([selectPolarOptions,selectMaxRadius],(_e,et)=>{if(_e!=null)return getPercentValue(_e.innerRadius,et,0)}),selectOuterRadius=createSelector([selectPolarOptions,selectMaxRadius],(_e,et)=>{if(_e!=null)return getPercentValue(_e.outerRadius,et,et*.8)}),combineAngleAxisRange=_e=>{if(_e==null)return[0,0];var{startAngle:et,endAngle:rt}=_e;return[et,rt]},selectAngleAxisRange=createSelector([selectPolarOptions],combineAngleAxisRange);createSelector([selectAngleAxis,selectAngleAxisRange],combineAxisRangeWithReverse);var selectRadiusAxisRange=createSelector([selectMaxRadius,selectInnerRadius,selectOuterRadius],(_e,et,rt)=>{if(!(_e==null||et==null||rt==null))return[et,rt]});createSelector([selectRadiusAxis,selectRadiusAxisRange],combineAxisRangeWithReverse);var selectPolarViewBox=createSelector([selectChartLayout,selectPolarOptions,selectInnerRadius,selectOuterRadius,selectChartWidth,selectChartHeight],(_e,et,rt,nt,st,it)=>{if(!(_e!=="centric"&&_e!=="radial"||et==null||rt==null||nt==null)){var{cx:at,cy:ot,startAngle:lt,endAngle:ct}=et;return{cx:getPercentValue(at,st,st/2),cy:getPercentValue(ot,it,it/2),innerRadius:rt,outerRadius:nt,startAngle:lt,endAngle:ct,clockWise:!1}}}),pickAxisType=(_e,et)=>et,pickAxisId=(_e,et,rt)=>rt;function getStackSeriesIdentifier(_e){return _e==null?void 0:_e.id}function combineDisplayedStackedData(_e,et,rt){var{chartData:nt=[]}=et,{allowDuplicatedCategory:st,dataKey:it}=rt,at=new Map;return _e.forEach(ot=>{var lt,ct=(lt=ot.data)!==null&&lt!==void 0?lt:nt;if(!(ct==null||ct.length===0)){var ut=getStackSeriesIdentifier(ot);ct.forEach((dt,pt)=>{var mt=it==null||st?pt:String(getValueByDataKey(dt,it,null)),xt=getValueByDataKey(dt,ot.dataKey,0),yt;at.has(mt)?yt=at.get(mt):yt={},Object.assign(yt,{[ut]:xt}),at.set(mt,yt)})}}),Array.from(at.values())}function isStacked(_e){return"stackId"in _e&&_e.stackId!=null&&_e.dataKey!=null}var numberDomainEqualityCheck=(_e,et)=>_e===et?!0:_e==null||et==null?!1:_e[0]===et[0]&&_e[1]===et[1];function emptyArraysAreEqualCheck(_e,et){return Array.isArray(_e)&&Array.isArray(et)&&_e.length===0&&et.length===0?!0:_e===et}function arrayContentsAreEqualCheck(_e,et){if(_e.length===et.length){for(var rt=0;rt<_e.length;rt++)if(_e[rt]!==et[rt])return!1;return!0}return!1}var selectTooltipAxisType=_e=>{var et=selectChartLayout(_e);return et==="horizontal"?"xAxis":et==="vertical"?"yAxis":et==="centric"?"angleAxis":"radiusAxis"},selectTooltipAxisId=_e=>_e.tooltip.settings.axisId;function getD3ScaleFromType(_e){if(_e in d3Scales)return d3Scales[_e]();var et="scale".concat(upperFirst(_e));if(et in d3Scales)return d3Scales[et]()}function d3ScaleToRechartsScale(_e){var et=_e.ticks,rt=_e.bandwidth,nt=_e.range(),st=[Math.min(...nt),Math.max(...nt)];return{domain:()=>_e.domain(),range:function(it){function at(){return it.apply(this,arguments)}return at.toString=function(){return it.toString()},at}(()=>st),rangeMin:()=>st[0],rangeMax:()=>st[1],isInRange(it){var at=st[0],ot=st[1];return at<=ot?it>=at&&it<=ot:it>=ot&&it<=at},bandwidth:rt?()=>rt.call(_e):void 0,ticks:et?it=>et.call(_e,it):void 0,map:(it,at)=>{var ot=_e(it);if(ot!=null){if(_e.bandwidth&&at!==null&&at!==void 0&&at.position){var lt=_e.bandwidth();switch(at.position){case"middle":ot+=lt/2;break;case"end":ot+=lt;break}}return ot}}}}function rechartsScaleFactory(_e,et,rt){if(typeof _e=="function")return d3ScaleToRechartsScale(_e.copy().domain(et).range(rt));if(_e!=null){var nt=getD3ScaleFromType(_e);if(nt!=null)return nt.domain(et).range(rt),d3ScaleToRechartsScale(nt)}}var combineCheckedDomain=(_e,et)=>{if(et!=null)switch(_e){case"linear":{if(!isWellFormedNumberDomain(et)){for(var rt,nt,st=0;st<et.length;st++){var it=et[st];isWellBehavedNumber(it)&&((rt===void 0||it<rt)&&(rt=it),(nt===void 0||it>nt)&&(nt=it))}return rt!==void 0&&nt!==void 0?[rt,nt]:void 0}return et}default:return et}};function ownKeys$t(_e,et){var rt=Object.keys(_e);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);et&&(nt=nt.filter(function(st){return Object.getOwnPropertyDescriptor(_e,st).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$s(_e){for(var et=1;et<arguments.length;et++){var rt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$t(Object(rt),!0).forEach(function(nt){_defineProperty$v(_e,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(rt)):ownKeys$t(Object(rt)).forEach(function(nt){Object.defineProperty(_e,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return _e}function _defineProperty$v(_e,et,rt){return(et=_toPropertyKey$v(et))in _e?Object.defineProperty(_e,et,{value:rt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=rt,_e}function _toPropertyKey$v(_e){var et=_toPrimitive$v(_e,"string");return typeof et=="symbol"?et:et+""}function _toPrimitive$v(_e,et){if(typeof _e!="object"||!_e)return _e;var rt=_e[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(_e,et);if(typeof nt!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(_e)}var defaultNumericDomain=[0,"auto"],implicitXAxis={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},selectXAxisSettingsNoDefaults=(_e,et)=>_e.cartesianAxis.xAxis[et],selectXAxisSettings=(_e,et)=>{var rt=selectXAxisSettingsNoDefaults(_e,et);return rt??implicitXAxis},implicitYAxis={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:defaultNumericDomain,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:DEFAULT_Y_AXIS_WIDTH},selectYAxisSettingsNoDefaults=(_e,et)=>_e.cartesianAxis.yAxis[et],selectYAxisSettings=(_e,et)=>{var rt=selectYAxisSettingsNoDefaults(_e,et);return rt??implicitYAxis},implicitZAxis={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},selectZAxisSettings=(_e,et)=>{var rt=_e.cartesianAxis.zAxis[et];return rt??implicitZAxis},selectBaseAxis=(_e,et,rt)=>{switch(et){case"xAxis":return selectXAxisSettings(_e,rt);case"yAxis":return selectYAxisSettings(_e,rt);case"zAxis":return selectZAxisSettings(_e,rt);case"angleAxis":return selectAngleAxis(_e,rt);case"radiusAxis":return selectRadiusAxis(_e,rt);default:throw new Error("Unexpected axis type: ".concat(et))}},selectCartesianAxisSettings=(_e,et,rt)=>{switch(et){case"xAxis":return selectXAxisSettings(_e,rt);case"yAxis":return selectYAxisSettings(_e,rt);default:throw new Error("Unexpected axis type: ".concat(et))}},selectRenderableAxisSettings=(_e,et,rt)=>{switch(et){case"xAxis":return selectXAxisSettings(_e,rt);case"yAxis":return selectYAxisSettings(_e,rt);case"angleAxis":return selectAngleAxis(_e,rt);case"radiusAxis":return selectRadiusAxis(_e,rt);default:throw new Error("Unexpected axis type: ".concat(et))}},selectHasBar=_e=>_e.graphicalItems.cartesianItems.some(et=>et.type==="bar")||_e.graphicalItems.polarItems.some(et=>et.type==="radialBar");function itemAxisPredicate(_e,et){return rt=>{switch(_e){case"xAxis":return"xAxisId"in rt&&rt.xAxisId===et;case"yAxis":return"yAxisId"in rt&&rt.yAxisId===et;case"zAxis":return"zAxisId"in rt&&rt.zAxisId===et;case"angleAxis":return"angleAxisId"in rt&&rt.angleAxisId===et;case"radiusAxis":return"radiusAxisId"in rt&&rt.radiusAxisId===et;default:return!1}}}var selectUnfilteredCartesianItems=_e=>_e.graphicalItems.cartesianItems,selectAxisPredicate$1=createSelector([pickAxisType,pickAxisId],itemAxisPredicate),combineGraphicalItemsSettings=(_e,et,rt)=>_e.filter(rt).filter(nt=>(et==null?void 0:et.includeHidden)===!0?!0:!nt.hide),selectCartesianItemsSettings=createSelector([selectUnfilteredCartesianItems,selectBaseAxis,selectAxisPredicate$1],combineGraphicalItemsSettings,{memoizeOptions:{resultEqualityCheck:emptyArraysAreEqualCheck}}),selectStackedCartesianItemsSettings=createSelector([selectCartesianItemsSettings],_e=>_e.filter(et=>et.type==="area"||et.type==="bar").filter(isStacked)),filterGraphicalNotStackedItems=_e=>_e.filter(et=>!("stackId"in et)||et.stackId===void 0),selectCartesianItemsSettingsExceptStacked=createSelector([selectCartesianItemsSettings],filterGraphicalNotStackedItems),combineGraphicalItemsData=_e=>_e.map(et=>et.data).filter(Boolean).flat(1),selectCartesianGraphicalItemsData=createSelector([selectCartesianItemsSettings],combineGraphicalItemsData,{memoizeOptions:{resultEqualityCheck:emptyArraysAreEqualCheck}}),combineDisplayedData=(_e,et)=>{var{chartData:rt=[],dataStartIndex:nt,dataEndIndex:st}=et;return _e.length>0?_e:rt.slice(nt,st+1)},selectDisplayedData$1=createSelector([selectCartesianGraphicalItemsData,selectChartDataWithIndexesIfNotInPanoramaPosition4],combineDisplayedData),combineAppliedValues=(_e,et,rt)=>(et==null?void 0:et.dataKey)!=null?_e.map(nt=>({value:getValueByDataKey(nt,et.dataKey)})):rt.length>0?rt.map(nt=>nt.dataKey).flatMap(nt=>_e.map(st=>({value:getValueByDataKey(st,nt)}))):_e.map(nt=>({value:nt})),selectAllAppliedValues=createSelector([selectDisplayedData$1,selectBaseAxis,selectCartesianItemsSettings],combineAppliedValues);function isErrorBarRelevantForAxisType(_e,et){switch(_e){case"xAxis":return et.direction==="x";case"yAxis":return et.direction==="y";default:return!1}}function makeNumber(_e){if(isNumOrStr(_e)||_e instanceof Date){var et=Number(_e);if(isWellBehavedNumber(et))return et}}function makeDomain(_e){if(Array.isArray(_e)){var et=[makeNumber(_e[0]),makeNumber(_e[1])];return isWellFormedNumberDomain(et)?et:void 0}var rt=makeNumber(_e);if(rt!=null)return[rt,rt]}function onlyAllowNumbers(_e){return _e.map(makeNumber).filter(isNotNil)}function getErrorDomainByDataKey(_e,et,rt){return!rt||typeof et!="number"||isNan(et)?[]:rt.length?onlyAllowNumbers(rt.flatMap(nt=>{var st=getValueByDataKey(_e,nt.dataKey),it,at;if(Array.isArray(st)?[it,at]=st:it=at=st,!(!isWellBehavedNumber(it)||!isWellBehavedNumber(at)))return[et-it,et+at]})):[]}var selectTooltipAxis=_e=>{var et=selectTooltipAxisType(_e),rt=selectTooltipAxisId(_e);return selectRenderableAxisSettings(_e,et,rt)},selectTooltipAxisDataKey=createSelector([selectTooltipAxis],_e=>_e==null?void 0:_e.dataKey),selectDisplayedStackedData=createSelector([selectStackedCartesianItemsSettings,selectChartDataWithIndexesIfNotInPanoramaPosition4,selectTooltipAxis],combineDisplayedStackedData),combineStackGroups=(_e,et,rt,nt)=>{var st={},it=et.reduce((at,ot)=>{if(ot.stackId==null)return at;var lt=at[ot.stackId];return lt==null&&(lt=[]),lt.push(ot),at[ot.stackId]=lt,at},st);return Object.fromEntries(Object.entries(it).map(at=>{var[ot,lt]=at,ct=nt?[...lt].reverse():lt,ut=ct.map(getStackSeriesIdentifier);return[ot,{stackedData:getStackedData(_e,ut,rt),graphicalItems:ct}]}))},selectStackGroups=createSelector([selectDisplayedStackedData,selectStackedCartesianItemsSettings,selectStackOffsetType,selectReverseStackOrder],combineStackGroups),combineDomainOfStackGroups=(_e,et,rt,nt)=>{var{dataStartIndex:st,dataEndIndex:it}=et;if(nt==null&&rt!=="zAxis"){var at=getDomainOfStackGroups(_e,st,it);if(!(at!=null&&at[0]===0&&at[1]===0))return at}},selectAllowsDataOverflow=createSelector([selectBaseAxis],_e=>_e.allowDataOverflow),getDomainDefinition=_e=>{var et;if(_e==null||!("domain"in _e))return defaultNumericDomain;if(_e.domain!=null)return _e.domain;if("ticks"in _e&&_e.ticks!=null){if(_e.type==="number"){var rt=onlyAllowNumbers(_e.ticks);return[Math.min(...rt),Math.max(...rt)]}if(_e.type==="category")return _e.ticks.map(String)}return(et=_e==null?void 0:_e.domain)!==null&&et!==void 0?et:defaultNumericDomain},selectDomainDefinition=createSelector([selectBaseAxis],getDomainDefinition),selectDomainFromUserPreference=createSelector([selectDomainDefinition,selectAllowsDataOverflow],numericalDomainSpecifiedWithoutRequiringData),selectDomainOfStackGroups=createSelector([selectStackGroups,selectChartDataWithIndexes,pickAxisType,selectDomainFromUserPreference],combineDomainOfStackGroups,{memoizeOptions:{resultEqualityCheck:numberDomainEqualityCheck}}),selectAllErrorBarSettings=_e=>_e.errorBars,combineRelevantErrorBarSettings=(_e,et,rt)=>_e.flatMap(nt=>et[nt.id]).filter(Boolean).filter(nt=>isErrorBarRelevantForAxisType(rt,nt)),mergeDomains=function(){for(var et=arguments.length,rt=new Array(et),nt=0;nt<et;nt++)rt[nt]=arguments[nt];var st=rt.filter(Boolean);if(st.length!==0){var it=st.flat(),at=Math.min(...it),ot=Math.max(...it);return[at,ot]}},combineDomainOfAllAppliedNumericalValuesIncludingErrorValues=(_e,et,rt,nt,st)=>{var it,at;if(rt.length>0&&_e.forEach(ot=>{rt.forEach(lt=>{var ct,ut,dt=(ct=nt[lt.id])===null||ct===void 0?void 0:ct.filter(gt=>isErrorBarRelevantForAxisType(st,gt)),pt=getValueByDataKey(ot,(ut=et.dataKey)!==null&&ut!==void 0?ut:lt.dataKey),mt=getErrorDomainByDataKey(ot,pt,dt);if(mt.length>=2){var xt=Math.min(...mt),yt=Math.max(...mt);(it==null||xt<it)&&(it=xt),(at==null||yt>at)&&(at=yt)}var vt=makeDomain(pt);vt!=null&&(it=it==null?vt[0]:Math.min(it,vt[0]),at=at==null?vt[1]:Math.max(at,vt[1]))})}),(et==null?void 0:et.dataKey)!=null&&_e.forEach(ot=>{var lt=makeDomain(getValueByDataKey(ot,et.dataKey));lt!=null&&(it=it==null?lt[0]:Math.min(it,lt[0]),at=at==null?lt[1]:Math.max(at,lt[1]))}),isWellBehavedNumber(it)&&isWellBehavedNumber(at))return[it,at]},selectDomainOfAllAppliedNumericalValuesIncludingErrorValues$1=createSelector([selectDisplayedData$1,selectBaseAxis,selectCartesianItemsSettingsExceptStacked,selectAllErrorBarSettings,pickAxisType],combineDomainOfAllAppliedNumericalValuesIncludingErrorValues,{memoizeOptions:{resultEqualityCheck:numberDomainEqualityCheck}});function onlyAllowNumbersAndStringsAndDates(_e){var{value:et}=_e;if(isNumOrStr(et)||et instanceof Date)return et}var computeDomainOfTypeCategory=(_e,et,rt)=>{var nt=_e.map(onlyAllowNumbersAndStringsAndDates).filter(st=>st!=null);return rt&&(et.dataKey==null||et.allowDuplicatedCategory&&hasDuplicate(nt))?range$2(0,_e.length):et.allowDuplicatedCategory?nt:Array.from(new Set(nt))},selectReferenceDots=_e=>_e.referenceElements.dots,filterReferenceElements=(_e,et,rt)=>_e.filter(nt=>nt.ifOverflow==="extendDomain").filter(nt=>et==="xAxis"?nt.xAxisId===rt:nt.yAxisId===rt),selectReferenceDotsByAxis=createSelector([selectReferenceDots,pickAxisType,pickAxisId],filterReferenceElements),selectReferenceAreas=_e=>_e.referenceElements.areas,selectReferenceAreasByAxis=createSelector([selectReferenceAreas,pickAxisType,pickAxisId],filterReferenceElements),selectReferenceLines=_e=>_e.referenceElements.lines,selectReferenceLinesByAxis=createSelector([selectReferenceLines,pickAxisType,pickAxisId],filterReferenceElements),combineDotsDomain=(_e,et)=>{if(_e!=null){var rt=onlyAllowNumbers(_e.map(nt=>et==="xAxis"?nt.x:nt.y));if(rt.length!==0)return[Math.min(...rt),Math.max(...rt)]}},selectReferenceDotsDomain=createSelector(selectReferenceDotsByAxis,pickAxisType,combineDotsDomain),combineAreasDomain=(_e,et)=>{if(_e!=null){var rt=onlyAllowNumbers(_e.flatMap(nt=>[et==="xAxis"?nt.x1:nt.y1,et==="xAxis"?nt.x2:nt.y2]));if(rt.length!==0)return[Math.min(...rt),Math.max(...rt)]}},selectReferenceAreasDomain=createSelector([selectReferenceAreasByAxis,pickAxisType],combineAreasDomain);function extractXCoordinates(_e){var et;if(_e.x!=null)return onlyAllowNumbers([_e.x]);var rt=(et=_e.segment)===null||et===void 0?void 0:et.map(nt=>nt.x);return rt==null||rt.length===0?[]:onlyAllowNumbers(rt)}function extractYCoordinates(_e){var et;if(_e.y!=null)return onlyAllowNumbers([_e.y]);var rt=(et=_e.segment)===null||et===void 0?void 0:et.map(nt=>nt.y);return rt==null||rt.length===0?[]:onlyAllowNumbers(rt)}var combineLinesDomain=(_e,et)=>{if(_e!=null){var rt=_e.flatMap(nt=>et==="xAxis"?extractXCoordinates(nt):extractYCoordinates(nt));if(rt.length!==0)return[Math.min(...rt),Math.max(...rt)]}},selectReferenceLinesDomain=createSelector([selectReferenceLinesByAxis,pickAxisType],combineLinesDomain),selectReferenceElementsDomain=createSelector(selectReferenceDotsDomain,selectReferenceLinesDomain,selectReferenceAreasDomain,(_e,et,rt)=>mergeDomains(_e,rt,et)),combineNumericalDomain=(_e,et,rt,nt,st,it,at,ot)=>{if(rt!=null)return rt;var lt=at==="vertical"&&ot==="xAxis"||at==="horizontal"&&ot==="yAxis",ct=lt?mergeDomains(nt,it,st):mergeDomains(it,st);return parseNumericalUserDomain(et,ct,_e.allowDataOverflow)},selectNumericalDomain=createSelector([selectBaseAxis,selectDomainDefinition,selectDomainFromUserPreference,selectDomainOfStackGroups,selectDomainOfAllAppliedNumericalValuesIncludingErrorValues$1,selectReferenceElementsDomain,selectChartLayout,pickAxisType],combineNumericalDomain,{memoizeOptions:{resultEqualityCheck:numberDomainEqualityCheck}}),expandDomain=[0,1],combineAxisDomain=(_e,et,rt,nt,st,it,at)=>{if(!((_e==null||rt==null||rt.length===0)&&at===void 0)){var{dataKey:ot,type:lt}=_e,ct=isCategoricalAxis(et,it);if(ct&&ot==null){var ut;return range$2(0,(ut=rt==null?void 0:rt.length)!==null&&ut!==void 0?ut:0)}return lt==="category"?computeDomainOfTypeCategory(nt,_e,ct):st==="expand"?expandDomain:at}},selectAxisDomain=createSelector([selectBaseAxis,selectChartLayout,selectDisplayedData$1,selectAllAppliedValues,selectStackOffsetType,pickAxisType,selectNumericalDomain],combineAxisDomain);function isSupportedScaleName(_e){return _e in d3Scales}var combineRealScaleType=(_e,et,rt)=>{if(_e!=null){var{scale:nt,type:st}=_e;if(nt==="auto")return st==="category"&&rt&&(rt.indexOf("LineChart")>=0||rt.indexOf("AreaChart")>=0||rt.indexOf("ComposedChart")>=0&&!et)?"point":st==="category"?"band":"linear";if(typeof nt=="string"){var it="scale".concat(upperFirst(nt));return isSupportedScaleName(it)?it:"point"}}},selectRealScaleType=createSelector([selectBaseAxis,selectHasBar,selectChartName],combineRealScaleType);function combineScaleFunction(_e,et,rt,nt){if(!(rt==null||nt==null))return typeof _e.scale=="function"?rechartsScaleFactory(_e.scale,rt,nt):rechartsScaleFactory(et,rt,nt)}var combineNiceTicks=(_e,et,rt)=>{var nt=getDomainDefinition(et);if(!(rt!=="auto"&&rt!=="linear")){if(et!=null&&et.tickCount&&Array.isArray(nt)&&(nt[0]==="auto"||nt[1]==="auto")&&isWellFormedNumberDomain(_e))return getNiceTickValues(_e,et.tickCount,et.allowDecimals);if(et!=null&&et.tickCount&&et.type==="number"&&isWellFormedNumberDomain(_e))return getTickValuesFixedDomain(_e,et.tickCount,et.allowDecimals)}},selectNiceTicks=createSelector([selectAxisDomain,selectRenderableAxisSettings,selectRealScaleType],combineNiceTicks),combineAxisDomainWithNiceTicks=(_e,et,rt,nt)=>{if(nt!=="angleAxis"&&(_e==null?void 0:_e.type)==="number"&&isWellFormedNumberDomain(et)&&Array.isArray(rt)&&rt.length>0){var st,it,at=et[0],ot=(st=rt[0])!==null&&st!==void 0?st:0,lt=et[1],ct=(it=rt[rt.length-1])!==null&&it!==void 0?it:0;return[Math.min(at,ot),Math.max(lt,ct)]}return et},selectAxisDomainIncludingNiceTicks=createSelector([selectBaseAxis,selectAxisDomain,selectNiceTicks,pickAxisType],combineAxisDomainWithNiceTicks),selectSmallestDistanceBetweenValues=createSelector(selectAllAppliedValues,selectBaseAxis,(_e,et)=>{if(!(!et||et.type!=="number")){var rt=1/0,nt=Array.from(onlyAllowNumbers(_e.map(dt=>dt.value))).sort((dt,pt)=>dt-pt),st=nt[0],it=nt[nt.length-1];if(st==null||it==null)return 1/0;var at=it-st;if(at===0)return 1/0;for(var ot=0;ot<nt.length-1;ot++){var lt=nt[ot],ct=nt[ot+1];if(!(lt==null||ct==null)){var ut=ct-lt;rt=Math.min(rt,ut)}}return rt/at}}),selectCalculatedPadding=createSelector(selectSmallestDistanceBetweenValues,selectChartLayout,selectBarCategoryGap,selectChartOffsetInternal,(_e,et,rt,nt,st)=>st,(_e,et,rt,nt,st)=>{if(!isWellBehavedNumber(_e))return 0;var it=et==="vertical"?nt.height:nt.width;if(st==="gap")return _e*it/2;if(st==="no-gap"){var at=getPercentValue(rt,_e*it),ot=_e*it/2;return ot-at-(ot-at)/it*at}return 0}),selectCalculatedXAxisPadding=(_e,et,rt)=>{var nt=selectXAxisSettings(_e,et);return nt==null||typeof nt.padding!="string"?0:selectCalculatedPadding(_e,"xAxis",et,rt,nt.padding)},selectCalculatedYAxisPadding=(_e,et,rt)=>{var nt=selectYAxisSettings(_e,et);return nt==null||typeof nt.padding!="string"?0:selectCalculatedPadding(_e,"yAxis",et,rt,nt.padding)},selectXAxisPadding=createSelector(selectXAxisSettings,selectCalculatedXAxisPadding,(_e,et)=>{var rt,nt;if(_e==null)return{left:0,right:0};var{padding:st}=_e;return typeof st=="string"?{left:et,right:et}:{left:((rt=st.left)!==null&&rt!==void 0?rt:0)+et,right:((nt=st.right)!==null&&nt!==void 0?nt:0)+et}}),selectYAxisPadding=createSelector(selectYAxisSettings,selectCalculatedYAxisPadding,(_e,et)=>{var rt,nt;if(_e==null)return{top:0,bottom:0};var{padding:st}=_e;return typeof st=="string"?{top:et,bottom:et}:{top:((rt=st.top)!==null&&rt!==void 0?rt:0)+et,bottom:((nt=st.bottom)!==null&&nt!==void 0?nt:0)+et}}),combineXAxisRange=createSelector([selectChartOffsetInternal,selectXAxisPadding,selectBrushDimensions,selectBrushSettings,(_e,et,rt)=>rt],(_e,et,rt,nt,st)=>{var{padding:it}=nt;return st?[it.left,rt.width-it.right]:[_e.left+et.left,_e.left+_e.width-et.right]}),combineYAxisRange=createSelector([selectChartOffsetInternal,selectChartLayout,selectYAxisPadding,selectBrushDimensions,selectBrushSettings,(_e,et,rt)=>rt],(_e,et,rt,nt,st,it)=>{var{padding:at}=st;return it?[nt.height-at.bottom,at.top]:et==="horizontal"?[_e.top+_e.height-rt.bottom,_e.top+rt.top]:[_e.top+rt.top,_e.top+_e.height-rt.bottom]}),selectAxisRange=(_e,et,rt,nt)=>{var st;switch(et){case"xAxis":return combineXAxisRange(_e,rt,nt);case"yAxis":return combineYAxisRange(_e,rt,nt);case"zAxis":return(st=selectZAxisSettings(_e,rt))===null||st===void 0?void 0:st.range;case"angleAxis":return selectAngleAxisRange(_e);case"radiusAxis":return selectRadiusAxisRange(_e,rt);default:return}},selectAxisRangeWithReverse=createSelector([selectBaseAxis,selectAxisRange],combineAxisRangeWithReverse),selectCheckedAxisDomain=createSelector([selectRealScaleType,selectAxisDomainIncludingNiceTicks],combineCheckedDomain),selectAxisScale=createSelector([selectBaseAxis,selectRealScaleType,selectCheckedAxisDomain,selectAxisRangeWithReverse],combineScaleFunction);createSelector([selectCartesianItemsSettings,selectAllErrorBarSettings,pickAxisType],combineRelevantErrorBarSettings);function compareIds(_e,et){return _e.id<et.id?-1:_e.id>et.id?1:0}var pickAxisOrientation=(_e,et)=>et,pickMirror=(_e,et,rt)=>rt,selectAllXAxesWithOffsetType=createSelector(selectAllXAxes,pickAxisOrientation,pickMirror,(_e,et,rt)=>_e.filter(nt=>nt.orientation===et).filter(nt=>nt.mirror===rt).sort(compareIds)),selectAllYAxesWithOffsetType=createSelector(selectAllYAxes,pickAxisOrientation,pickMirror,(_e,et,rt)=>_e.filter(nt=>nt.orientation===et).filter(nt=>nt.mirror===rt).sort(compareIds)),getXAxisSize=(_e,et)=>({width:_e.width,height:et.height}),getYAxisSize=(_e,et)=>{var rt=typeof et.width=="number"?et.width:DEFAULT_Y_AXIS_WIDTH;return{width:rt,height:_e.height}},selectXAxisSize=createSelector(selectChartOffsetInternal,selectXAxisSettings,getXAxisSize),combineXAxisPositionStartingPoint=(_e,et,rt)=>{switch(et){case"top":return _e.top;case"bottom":return rt-_e.bottom;default:return 0}},combineYAxisPositionStartingPoint=(_e,et,rt)=>{switch(et){case"left":return _e.left;case"right":return rt-_e.right;default:return 0}},selectAllXAxesOffsetSteps=createSelector(selectChartHeight,selectChartOffsetInternal,selectAllXAxesWithOffsetType,pickAxisOrientation,pickMirror,(_e,et,rt,nt,st)=>{var it={},at;return rt.forEach(ot=>{var lt=getXAxisSize(et,ot);at==null&&(at=combineXAxisPositionStartingPoint(et,nt,_e));var ct=nt==="top"&&!st||nt==="bottom"&&st;it[ot.id]=at-Number(ct)*lt.height,at+=(ct?-1:1)*lt.height}),it}),selectAllYAxesOffsetSteps=createSelector(selectChartWidth,selectChartOffsetInternal,selectAllYAxesWithOffsetType,pickAxisOrientation,pickMirror,(_e,et,rt,nt,st)=>{var it={},at;return rt.forEach(ot=>{var lt=getYAxisSize(et,ot);at==null&&(at=combineYAxisPositionStartingPoint(et,nt,_e));var ct=nt==="left"&&!st||nt==="right"&&st;it[ot.id]=at-Number(ct)*lt.width,at+=(ct?-1:1)*lt.width}),it}),selectXAxisOffsetSteps=(_e,et)=>{var rt=selectXAxisSettings(_e,et);if(rt!=null)return selectAllXAxesOffsetSteps(_e,rt.orientation,rt.mirror)},selectXAxisPosition=createSelector([selectChartOffsetInternal,selectXAxisSettings,selectXAxisOffsetSteps,(_e,et)=>et],(_e,et,rt,nt)=>{if(et!=null){var st=rt==null?void 0:rt[nt];return st==null?{x:_e.left,y:0}:{x:_e.left,y:st}}}),selectYAxisOffsetSteps=(_e,et)=>{var rt=selectYAxisSettings(_e,et);if(rt!=null)return selectAllYAxesOffsetSteps(_e,rt.orientation,rt.mirror)},selectYAxisPosition=createSelector([selectChartOffsetInternal,selectYAxisSettings,selectYAxisOffsetSteps,(_e,et)=>et],(_e,et,rt,nt)=>{if(et!=null){var st=rt==null?void 0:rt[nt];return st==null?{x:0,y:_e.top}:{x:st,y:_e.top}}}),selectYAxisSize=createSelector(selectChartOffsetInternal,selectYAxisSettings,(_e,et)=>{var rt=typeof et.width=="number"?et.width:DEFAULT_Y_AXIS_WIDTH;return{width:rt,height:_e.height}}),selectCartesianAxisSize=(_e,et,rt)=>{switch(et){case"xAxis":return selectXAxisSize(_e,rt).width;case"yAxis":return selectYAxisSize(_e,rt).height;default:return}},combineDuplicateDomain=(_e,et,rt,nt)=>{if(rt!=null){var{allowDuplicatedCategory:st,type:it,dataKey:at}=rt,ot=isCategoricalAxis(_e,nt),lt=et.map(ct=>ct.value);if(at&&ot&&it==="category"&&st&&hasDuplicate(lt))return lt}},selectDuplicateDomain=createSelector([selectChartLayout,selectAllAppliedValues,selectBaseAxis,pickAxisType],combineDuplicateDomain),combineCategoricalDomain=(_e,et,rt,nt)=>{if(!(rt==null||rt.dataKey==null)){var{type:st,scale:it}=rt,at=isCategoricalAxis(_e,nt);if(at&&(st==="number"||it!=="auto"))return et.map(ot=>ot.value)}},selectCategoricalDomain=createSelector([selectChartLayout,selectAllAppliedValues,selectRenderableAxisSettings,pickAxisType],combineCategoricalDomain),selectAxisPropsNeededForCartesianGridTicksGenerator=createSelector([selectChartLayout,selectCartesianAxisSettings,selectRealScaleType,selectAxisScale,selectDuplicateDomain,selectCategoricalDomain,selectAxisRange,selectNiceTicks,pickAxisType],(_e,et,rt,nt,st,it,at,ot,lt)=>{if(et!=null){var ct=isCategoricalAxis(_e,lt);return{angle:et.angle,interval:et.interval,minTickGap:et.minTickGap,orientation:et.orientation,tick:et.tick,tickCount:et.tickCount,tickFormatter:et.tickFormatter,ticks:et.ticks,type:et.type,unit:et.unit,axisType:lt,categoricalDomain:it,duplicateDomain:st,isCategorical:ct,niceTicks:ot,range:at,realScaleType:rt,scale:nt}}}),combineAxisTicks=(_e,et,rt,nt,st,it,at,ot,lt)=>{if(!(et==null||nt==null)){var ct=isCategoricalAxis(_e,lt),{type:ut,ticks:dt,tickCount:pt}=et,mt=rt==="scaleBand"&&typeof nt.bandwidth=="function"?nt.bandwidth()/2:2,xt=ut==="category"&&nt.bandwidth?nt.bandwidth()/mt:0;xt=lt==="angleAxis"&&it!=null&&it.length>=2?mathSign(it[0]-it[1])*2*xt:xt;var yt=dt||st;return yt?yt.map((vt,gt)=>{var Et=at?at.indexOf(vt):vt,jt=nt.map(Et);return isWellBehavedNumber(jt)?{index:gt,coordinate:jt+xt,value:vt,offset:xt}:null}).filter(isNotNil):ct&&ot?ot.map((vt,gt)=>{var Et=nt.map(vt);return isWellBehavedNumber(Et)?{coordinate:Et+xt,value:vt,index:gt,offset:xt}:null}).filter(isNotNil):nt.ticks?nt.ticks(pt).map((vt,gt)=>{var Et=nt.map(vt);return isWellBehavedNumber(Et)?{coordinate:Et+xt,value:vt,index:gt,offset:xt}:null}).filter(isNotNil):nt.domain().map((vt,gt)=>{var Et=nt.map(vt);return isWellBehavedNumber(Et)?{coordinate:Et+xt,value:at?at[vt]:vt,index:gt,offset:xt}:null}).filter(isNotNil)}},selectTicksOfAxis=createSelector([selectChartLayout,selectRenderableAxisSettings,selectRealScaleType,selectAxisScale,selectNiceTicks,selectAxisRange,selectDuplicateDomain,selectCategoricalDomain,pickAxisType],combineAxisTicks),combineGraphicalItemTicks=(_e,et,rt,nt,st,it,at)=>{if(!(et==null||rt==null||nt==null||nt[0]===nt[1])){var ot=isCategoricalAxis(_e,at),{tickCount:lt}=et,ct=0;return ct=at==="angleAxis"&&(nt==null?void 0:nt.length)>=2?mathSign(nt[0]-nt[1])*2*ct:ct,ot&&it?it.map((ut,dt)=>{var pt=rt.map(ut);return isWellBehavedNumber(pt)?{coordinate:pt+ct,value:ut,index:dt,offset:ct}:null}).filter(isNotNil):rt.ticks?rt.ticks(lt).map((ut,dt)=>{var pt=rt.map(ut);return isWellBehavedNumber(pt)?{coordinate:pt+ct,value:ut,index:dt,offset:ct}:null}).filter(isNotNil):rt.domain().map((ut,dt)=>{var pt=rt.map(ut);return isWellBehavedNumber(pt)?{coordinate:pt+ct,value:st?st[ut]:ut,index:dt,offset:ct}:null}).filter(isNotNil)}},selectTicksOfGraphicalItem=createSelector([selectChartLayout,selectRenderableAxisSettings,selectAxisScale,selectAxisRange,selectDuplicateDomain,selectCategoricalDomain,pickAxisType],combineGraphicalItemTicks),selectAxisWithScale=createSelector(selectBaseAxis,selectAxisScale,(_e,et)=>{if(!(_e==null||et==null))return _objectSpread$s(_objectSpread$s({},_e),{},{scale:et})}),selectZAxisScale=createSelector([selectBaseAxis,selectRealScaleType,selectAxisDomain,selectAxisRangeWithReverse],combineScaleFunction);createSelector((_e,et,rt)=>selectZAxisSettings(_e,rt),selectZAxisScale,(_e,et)=>{if(!(_e==null||et==null))return _objectSpread$s(_objectSpread$s({},_e),{},{scale:et})});var selectChartDirection=createSelector([selectChartLayout,selectAllXAxes,selectAllYAxes],(_e,et,rt)=>{switch(_e){case"horizontal":return et.some(nt=>nt.reversed)?"right-to-left":"left-to-right";case"vertical":return rt.some(nt=>nt.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),selectDefaultTooltipEventType=_e=>_e.options.defaultTooltipEventType,selectValidateTooltipEventTypes=_e=>_e.options.validateTooltipEventTypes;function combineTooltipEventType(_e,et,rt){if(_e==null)return et;var nt=_e?"axis":"item";return rt==null?et:rt.includes(nt)?nt:et}function selectTooltipEventType$1(_e,et){var rt=selectDefaultTooltipEventType(_e),nt=selectValidateTooltipEventTypes(_e);return combineTooltipEventType(et,rt,nt)}function useTooltipEventType(_e){return useAppSelector(et=>selectTooltipEventType$1(et,_e))}var combineActiveLabel=(_e,et)=>{var rt,nt=Number(et);if(!(isNan(nt)||et==null))return nt>=0?_e==null||(rt=_e[nt])===null||rt===void 0?void 0:rt.value:void 0},selectTooltipSettings=_e=>_e.tooltip.settings,noInteraction={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},initialState$a={itemInteraction:{click:noInteraction,hover:noInteraction},axisInteraction:{click:noInteraction,hover:noInteraction},keyboardInteraction:noInteraction,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},tooltipSlice=createSlice({name:"tooltip",initialState:initialState$a,reducers:{addTooltipEntrySettings:{reducer(_e,et){_e.tooltipItemPayloads.push(et.payload)},prepare:prepareAutoBatched()},replaceTooltipEntrySettings:{reducer(_e,et){var{prev:rt,next:nt}=et.payload,st=current$1(_e).tooltipItemPayloads.indexOf(rt);st>-1&&(_e.tooltipItemPayloads[st]=nt)},prepare:prepareAutoBatched()},removeTooltipEntrySettings:{reducer(_e,et){var rt=current$1(_e).tooltipItemPayloads.indexOf(et.payload);rt>-1&&_e.tooltipItemPayloads.splice(rt,1)},prepare:prepareAutoBatched()},setTooltipSettingsState(_e,et){_e.settings=et.payload},setActiveMouseOverItemIndex(_e,et){_e.syncInteraction.active=!1,_e.keyboardInteraction.active=!1,_e.itemInteraction.hover.active=!0,_e.itemInteraction.hover.index=et.payload.activeIndex,_e.itemInteraction.hover.dataKey=et.payload.activeDataKey,_e.itemInteraction.hover.graphicalItemId=et.payload.activeGraphicalItemId,_e.itemInteraction.hover.coordinate=et.payload.activeCoordinate},mouseLeaveChart(_e){_e.itemInteraction.hover.active=!1,_e.axisInteraction.hover.active=!1},mouseLeaveItem(_e){_e.itemInteraction.hover.active=!1},setActiveClickItemIndex(_e,et){_e.syncInteraction.active=!1,_e.itemInteraction.click.active=!0,_e.keyboardInteraction.active=!1,_e.itemInteraction.click.index=et.payload.activeIndex,_e.itemInteraction.click.dataKey=et.payload.activeDataKey,_e.itemInteraction.click.graphicalItemId=et.payload.activeGraphicalItemId,_e.itemInteraction.click.coordinate=et.payload.activeCoordinate},setMouseOverAxisIndex(_e,et){_e.syncInteraction.active=!1,_e.axisInteraction.hover.active=!0,_e.keyboardInteraction.active=!1,_e.axisInteraction.hover.index=et.payload.activeIndex,_e.axisInteraction.hover.dataKey=et.payload.activeDataKey,_e.axisInteraction.hover.coordinate=et.payload.activeCoordinate},setMouseClickAxisIndex(_e,et){_e.syncInteraction.active=!1,_e.keyboardInteraction.active=!1,_e.axisInteraction.click.active=!0,_e.axisInteraction.click.index=et.payload.activeIndex,_e.axisInteraction.click.dataKey=et.payload.activeDataKey,_e.axisInteraction.click.coordinate=et.payload.activeCoordinate},setSyncInteraction(_e,et){_e.syncInteraction=et.payload},setKeyboardInteraction(_e,et){_e.keyboardInteraction.active=et.payload.active,_e.keyboardInteraction.index=et.payload.activeIndex,_e.keyboardInteraction.coordinate=et.payload.activeCoordinate}}}),{addTooltipEntrySettings,replaceTooltipEntrySettings,removeTooltipEntrySettings,setTooltipSettingsState,setActiveMouseOverItemIndex,mouseLeaveItem,mouseLeaveChart,setActiveClickItemIndex,setMouseOverAxisIndex,setMouseClickAxisIndex,setSyncInteraction,setKeyboardInteraction}=tooltipSlice.actions,tooltipReducer=tooltipSlice.reducer;function ownKeys$s(_e,et){var rt=Object.keys(_e);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);et&&(nt=nt.filter(function(st){return Object.getOwnPropertyDescriptor(_e,st).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$r(_e){for(var et=1;et<arguments.length;et++){var rt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$s(Object(rt),!0).forEach(function(nt){_defineProperty$u(_e,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(rt)):ownKeys$s(Object(rt)).forEach(function(nt){Object.defineProperty(_e,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return _e}function _defineProperty$u(_e,et,rt){return(et=_toPropertyKey$u(et))in _e?Object.defineProperty(_e,et,{value:rt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=rt,_e}function _toPropertyKey$u(_e){var et=_toPrimitive$u(_e,"string");return typeof et=="symbol"?et:et+""}function _toPrimitive$u(_e,et){if(typeof _e!="object"||!_e)return _e;var rt=_e[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(_e,et);if(typeof nt!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(_e)}function chooseAppropriateMouseInteraction(_e,et,rt){return et==="axis"?rt==="click"?_e.axisInteraction.click:_e.axisInteraction.hover:rt==="click"?_e.itemInteraction.click:_e.itemInteraction.hover}function hasBeenActivePreviously(_e){return _e.index!=null}var combineTooltipInteractionState=(_e,et,rt,nt)=>{if(et==null)return noInteraction;var st=chooseAppropriateMouseInteraction(_e,et,rt);if(st==null)return noInteraction;if(st.active)return st;if(_e.keyboardInteraction.active)return _e.keyboardInteraction;if(_e.syncInteraction.active&&_e.syncInteraction.index!=null)return _e.syncInteraction;var it=_e.settings.active===!0;if(hasBeenActivePreviously(st)){if(it)return _objectSpread$r(_objectSpread$r({},st),{},{active:!0})}else if(nt!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:nt,graphicalItemId:void 0};return _objectSpread$r(_objectSpread$r({},noInteraction),{},{coordinate:st.coordinate})};function toFiniteNumber(_e){if(typeof _e=="number")return Number.isFinite(_e)?_e:void 0;if(_e instanceof Date){var et=_e.valueOf();return Number.isFinite(et)?et:void 0}var rt=Number(_e);return Number.isFinite(rt)?rt:void 0}function isValueWithinNumberDomain(_e,et){var rt=toFiniteNumber(_e),nt=et[0],st=et[1];if(rt===void 0)return!1;var it=Math.min(nt,st),at=Math.max(nt,st);return rt>=it&&rt<=at}function isValueWithinDomain(_e,et,rt){if(rt==null||et==null)return!0;var nt=getValueByDataKey(_e,et);return nt==null||!isWellFormedNumberDomain(rt)?!0:isValueWithinNumberDomain(nt,rt)}var combineActiveTooltipIndex=(_e,et,rt,nt)=>{var st=_e==null?void 0:_e.index;if(st==null)return null;var it=Number(st);if(!isWellBehavedNumber(it))return st;var at=0,ot=1/0;et.length>0&&(ot=et.length-1);var lt=Math.max(at,Math.min(it,ot)),ct=et[lt];return ct==null||isValueWithinDomain(ct,rt,nt)?String(lt):null},combineCoordinateForDefaultIndex=(_e,et,rt,nt,st,it,at)=>{if(it!=null){var ot=at[0],lt=ot==null?void 0:ot.getPosition(it);if(lt!=null)return lt;var ct=st==null?void 0:st[Number(it)];if(ct)switch(rt){case"horizontal":return{x:ct.coordinate,y:(nt.top+et)/2};default:return{x:(nt.left+_e)/2,y:ct.coordinate}}}},combineTooltipPayloadConfigurations=(_e,et,rt,nt)=>{if(et==="axis")return _e.tooltipItemPayloads;if(_e.tooltipItemPayloads.length===0)return[];var st;if(rt==="hover"?st=_e.itemInteraction.hover.graphicalItemId:st=_e.itemInteraction.click.graphicalItemId,st==null&&nt!=null){var it=_e.tooltipItemPayloads[0];return it!=null?[it]:[]}return _e.tooltipItemPayloads.filter(at=>{var ot;return((ot=at.settings)===null||ot===void 0?void 0:ot.graphicalItemId)===st})},selectTooltipPayloadSearcher=_e=>_e.options.tooltipPayloadSearcher,selectTooltipState=_e=>_e.tooltip;function ownKeys$r(_e,et){var rt=Object.keys(_e);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);et&&(nt=nt.filter(function(st){return Object.getOwnPropertyDescriptor(_e,st).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$q(_e){for(var et=1;et<arguments.length;et++){var rt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$r(Object(rt),!0).forEach(function(nt){_defineProperty$t(_e,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(rt)):ownKeys$r(Object(rt)).forEach(function(nt){Object.defineProperty(_e,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return _e}function _defineProperty$t(_e,et,rt){return(et=_toPropertyKey$t(et))in _e?Object.defineProperty(_e,et,{value:rt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=rt,_e}function _toPropertyKey$t(_e){var et=_toPrimitive$t(_e,"string");return typeof et=="symbol"?et:et+""}function _toPrimitive$t(_e,et){if(typeof _e!="object"||!_e)return _e;var rt=_e[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(_e,et);if(typeof nt!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(_e)}function selectFinalData(_e,et){return _e??et}var combineTooltipPayload=(_e,et,rt,nt,st,it,at)=>{if(!(et==null||it==null)){var{chartData:ot,computedData:lt,dataStartIndex:ct,dataEndIndex:ut}=rt,dt=[];return _e.reduce((pt,mt)=>{var xt,{dataDefinedOnItem:yt,settings:vt}=mt,gt=selectFinalData(yt,ot),Et=Array.isArray(gt)?getSliced(gt,ct,ut):gt,jt=(xt=vt==null?void 0:vt.dataKey)!==null&&xt!==void 0?xt:nt,kt=vt==null?void 0:vt.nameKey,Rt;if(nt&&Array.isArray(Et)&&!Array.isArray(Et[0])&&at==="axis"?Rt=findEntryInArray(Et,nt,st):Rt=it(Et,et,lt,kt),Array.isArray(Rt))Rt.forEach(_t=>{var Nt=_objectSpread$q(_objectSpread$q({},vt),{},{name:_t.name,unit:_t.unit,color:void 0,fill:void 0});pt.push(getTooltipEntry({tooltipEntrySettings:Nt,dataKey:_t.dataKey,payload:_t.payload,value:getValueByDataKey(_t.payload,_t.dataKey),name:_t.name}))});else{var St;pt.push(getTooltipEntry({tooltipEntrySettings:vt,dataKey:jt,payload:Rt,value:getValueByDataKey(Rt,jt),name:(St=getValueByDataKey(Rt,kt))!==null&&St!==void 0?St:vt==null?void 0:vt.name}))}return pt},dt)}},selectTooltipAxisRealScaleType=createSelector([selectTooltipAxis,selectHasBar,selectChartName],combineRealScaleType),selectAllUnfilteredGraphicalItems=createSelector([_e=>_e.graphicalItems.cartesianItems,_e=>_e.graphicalItems.polarItems],(_e,et)=>[..._e,...et]),selectTooltipAxisPredicate=createSelector([selectTooltipAxisType,selectTooltipAxisId],itemAxisPredicate),selectAllGraphicalItemsSettings=createSelector([selectAllUnfilteredGraphicalItems,selectTooltipAxis,selectTooltipAxisPredicate],combineGraphicalItemsSettings,{memoizeOptions:{resultEqualityCheck:emptyArraysAreEqualCheck}}),selectAllStackedGraphicalItemsSettings=createSelector([selectAllGraphicalItemsSettings],_e=>_e.filter(isStacked)),selectTooltipGraphicalItemsData=createSelector([selectAllGraphicalItemsSettings],combineGraphicalItemsData,{memoizeOptions:{resultEqualityCheck:emptyArraysAreEqualCheck}}),selectTooltipDisplayedData=createSelector([selectTooltipGraphicalItemsData,selectChartDataWithIndexes],combineDisplayedData),selectTooltipStackedData=createSelector([selectAllStackedGraphicalItemsSettings,selectChartDataWithIndexes,selectTooltipAxis],combineDisplayedStackedData),selectAllTooltipAppliedValues=createSelector([selectTooltipDisplayedData,selectTooltipAxis,selectAllGraphicalItemsSettings],combineAppliedValues),selectTooltipAxisDomainDefinition=createSelector([selectTooltipAxis],getDomainDefinition),selectTooltipDataOverflow=createSelector([selectTooltipAxis],_e=>_e.allowDataOverflow),selectTooltipDomainFromUserPreferences=createSelector([selectTooltipAxisDomainDefinition,selectTooltipDataOverflow],numericalDomainSpecifiedWithoutRequiringData),selectAllStackedGraphicalItems=createSelector([selectAllGraphicalItemsSettings],_e=>_e.filter(isStacked)),selectTooltipStackGroups=createSelector([selectTooltipStackedData,selectAllStackedGraphicalItems,selectStackOffsetType,selectReverseStackOrder],combineStackGroups),selectTooltipDomainOfStackGroups=createSelector([selectTooltipStackGroups,selectChartDataWithIndexes,selectTooltipAxisType,selectTooltipDomainFromUserPreferences],combineDomainOfStackGroups),selectTooltipItemsSettingsExceptStacked=createSelector([selectAllGraphicalItemsSettings],filterGraphicalNotStackedItems),selectDomainOfAllAppliedNumericalValuesIncludingErrorValues=createSelector([selectTooltipDisplayedData,selectTooltipAxis,selectTooltipItemsSettingsExceptStacked,selectAllErrorBarSettings,selectTooltipAxisType],combineDomainOfAllAppliedNumericalValuesIncludingErrorValues,{memoizeOptions:{resultEqualityCheck:numberDomainEqualityCheck}}),selectReferenceDotsByTooltipAxis=createSelector([selectReferenceDots,selectTooltipAxisType,selectTooltipAxisId],filterReferenceElements),selectTooltipReferenceDotsDomain=createSelector([selectReferenceDotsByTooltipAxis,selectTooltipAxisType],combineDotsDomain),selectReferenceAreasByTooltipAxis=createSelector([selectReferenceAreas,selectTooltipAxisType,selectTooltipAxisId],filterReferenceElements),selectTooltipReferenceAreasDomain=createSelector([selectReferenceAreasByTooltipAxis,selectTooltipAxisType],combineAreasDomain),selectReferenceLinesByTooltipAxis=createSelector([selectReferenceLines,selectTooltipAxisType,selectTooltipAxisId],filterReferenceElements),selectTooltipReferenceLinesDomain=createSelector([selectReferenceLinesByTooltipAxis,selectTooltipAxisType],combineLinesDomain),selectTooltipReferenceElementsDomain=createSelector([selectTooltipReferenceDotsDomain,selectTooltipReferenceLinesDomain,selectTooltipReferenceAreasDomain],mergeDomains),selectTooltipNumericalDomain=createSelector([selectTooltipAxis,selectTooltipAxisDomainDefinition,selectTooltipDomainFromUserPreferences,selectTooltipDomainOfStackGroups,selectDomainOfAllAppliedNumericalValuesIncludingErrorValues,selectTooltipReferenceElementsDomain,selectChartLayout,selectTooltipAxisType],combineNumericalDomain),selectTooltipAxisDomain=createSelector([selectTooltipAxis,selectChartLayout,selectTooltipDisplayedData,selectAllTooltipAppliedValues,selectStackOffsetType,selectTooltipAxisType,selectTooltipNumericalDomain],combineAxisDomain),selectTooltipNiceTicks=createSelector([selectTooltipAxisDomain,selectTooltipAxis,selectTooltipAxisRealScaleType],combineNiceTicks),selectTooltipAxisDomainIncludingNiceTicks=createSelector([selectTooltipAxis,selectTooltipAxisDomain,selectTooltipNiceTicks,selectTooltipAxisType],combineAxisDomainWithNiceTicks),selectTooltipAxisRange=_e=>{var et=selectTooltipAxisType(_e),rt=selectTooltipAxisId(_e),nt=!1;return selectAxisRange(_e,et,rt,nt)},selectTooltipAxisRangeWithReverse=createSelector([selectTooltipAxis,selectTooltipAxisRange],combineAxisRangeWithReverse),selectTooltipAxisScale=createSelector([selectTooltipAxis,selectTooltipAxisRealScaleType,selectTooltipAxisDomainIncludingNiceTicks,selectTooltipAxisRangeWithReverse],combineScaleFunction),selectTooltipDuplicateDomain=createSelector([selectChartLayout,selectAllTooltipAppliedValues,selectTooltipAxis,selectTooltipAxisType],combineDuplicateDomain),selectTooltipCategoricalDomain=createSelector([selectChartLayout,selectAllTooltipAppliedValues,selectTooltipAxis,selectTooltipAxisType],combineCategoricalDomain),combineTicksOfTooltipAxis=(_e,et,rt,nt,st,it,at,ot)=>{if(et){var{type:lt}=et,ct=isCategoricalAxis(_e,ot);if(nt){var ut=rt==="scaleBand"&&nt.bandwidth?nt.bandwidth()/2:2,dt=lt==="category"&&nt.bandwidth?nt.bandwidth()/ut:0;return dt=ot==="angleAxis"&&st!=null&&(st==null?void 0:st.length)>=2?mathSign(st[0]-st[1])*2*dt:dt,ct&&at?at.map((pt,mt)=>{var xt=nt.map(pt);return isWellBehavedNumber(xt)?{coordinate:xt+dt,value:pt,index:mt,offset:dt}:null}).filter(isNotNil):nt.domain().map((pt,mt)=>{var xt=nt.map(pt);return isWellBehavedNumber(xt)?{coordinate:xt+dt,value:it?it[pt]:pt,index:mt,offset:dt}:null}).filter(isNotNil)}}},selectTooltipAxisTicks=createSelector([selectChartLayout,selectTooltipAxis,selectTooltipAxisRealScaleType,selectTooltipAxisScale,selectTooltipAxisRange,selectTooltipDuplicateDomain,selectTooltipCategoricalDomain,selectTooltipAxisType],combineTicksOfTooltipAxis),selectTooltipEventType=createSelector([selectDefaultTooltipEventType,selectValidateTooltipEventTypes,selectTooltipSettings],(_e,et,rt)=>combineTooltipEventType(rt.shared,_e,et)),selectTooltipTrigger=_e=>_e.tooltip.settings.trigger,selectDefaultIndex=_e=>_e.tooltip.settings.defaultIndex,selectTooltipInteractionState$1=createSelector([selectTooltipState,selectTooltipEventType,selectTooltipTrigger,selectDefaultIndex],combineTooltipInteractionState),selectActiveTooltipIndex=createSelector([selectTooltipInteractionState$1,selectTooltipDisplayedData,selectTooltipAxisDataKey,selectTooltipAxisDomain],combineActiveTooltipIndex),selectActiveLabel$1=createSelector([selectTooltipAxisTicks,selectActiveTooltipIndex],combineActiveLabel),selectActiveTooltipDataKey=createSelector([selectTooltipInteractionState$1],_e=>{if(_e)return _e.dataKey}),selectActiveTooltipGraphicalItemId=createSelector([selectTooltipInteractionState$1],_e=>{if(_e)return _e.graphicalItemId}),selectTooltipPayloadConfigurations$1=createSelector([selectTooltipState,selectTooltipEventType,selectTooltipTrigger,selectDefaultIndex],combineTooltipPayloadConfigurations),selectTooltipCoordinateForDefaultIndex=createSelector([selectChartWidth,selectChartHeight,selectChartLayout,selectChartOffsetInternal,selectTooltipAxisTicks,selectDefaultIndex,selectTooltipPayloadConfigurations$1],combineCoordinateForDefaultIndex),selectActiveTooltipCoordinate=createSelector([selectTooltipInteractionState$1,selectTooltipCoordinateForDefaultIndex],(_e,et)=>_e!=null&&_e.coordinate?_e.coordinate:et),selectIsTooltipActive$1=createSelector([selectTooltipInteractionState$1],_e=>{var et;return(et=_e==null?void 0:_e.active)!==null&&et!==void 0?et:!1}),selectActiveTooltipPayload=createSelector([selectTooltipPayloadConfigurations$1,selectActiveTooltipIndex,selectChartDataWithIndexes,selectTooltipAxisDataKey,selectActiveLabel$1,selectTooltipPayloadSearcher,selectTooltipEventType],combineTooltipPayload),selectActiveTooltipDataPoints=createSelector([selectActiveTooltipPayload],_e=>{if(_e!=null){var et=_e.map(rt=>rt.payload).filter(rt=>rt!=null);return Array.from(new Set(et))}});function ownKeys$q(_e,et){var rt=Object.keys(_e);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);et&&(nt=nt.filter(function(st){return Object.getOwnPropertyDescriptor(_e,st).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$p(_e){for(var et=1;et<arguments.length;et++){var rt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$q(Object(rt),!0).forEach(function(nt){_defineProperty$s(_e,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(rt)):ownKeys$q(Object(rt)).forEach(function(nt){Object.defineProperty(_e,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return _e}function _defineProperty$s(_e,et,rt){return(et=_toPropertyKey$s(et))in _e?Object.defineProperty(_e,et,{value:rt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=rt,_e}function _toPropertyKey$s(_e){var et=_toPrimitive$s(_e,"string");return typeof et=="symbol"?et:et+""}function _toPrimitive$s(_e,et){if(typeof _e!="object"||!_e)return _e;var rt=_e[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(_e,et);if(typeof nt!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(_e)}var useTooltipAxis=()=>useAppSelector(selectTooltipAxis),useTooltipAxisBandSize=()=>{var _e=useTooltipAxis(),et=useAppSelector(selectTooltipAxisTicks),rt=useAppSelector(selectTooltipAxisScale);return getBandSizeOfAxis(!_e||!rt?void 0:_objectSpread$p(_objectSpread$p({},_e),{},{scale:rt}),et)};function ownKeys$p(_e,et){var rt=Object.keys(_e);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);et&&(nt=nt.filter(function(st){return Object.getOwnPropertyDescriptor(_e,st).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$o(_e){for(var et=1;et<arguments.length;et++){var rt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$p(Object(rt),!0).forEach(function(nt){_defineProperty$r(_e,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(rt)):ownKeys$p(Object(rt)).forEach(function(nt){Object.defineProperty(_e,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return _e}function _defineProperty$r(_e,et,rt){return(et=_toPropertyKey$r(et))in _e?Object.defineProperty(_e,et,{value:rt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=rt,_e}function _toPropertyKey$r(_e){var et=_toPrimitive$r(_e,"string");return typeof et=="symbol"?et:et+""}function _toPrimitive$r(_e,et){if(typeof _e!="object"||!_e)return _e;var rt=_e[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(_e,et);if(typeof nt!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(_e)}var getActiveCartesianCoordinate=(_e,et,rt,nt)=>{var st=et.find(it=>it&&it.index===rt);if(st){if(_e==="horizontal")return{x:st.coordinate,y:nt.chartY};if(_e==="vertical")return{x:nt.chartX,y:st.coordinate}}return{x:0,y:0}},getActivePolarCoordinate=(_e,et,rt,nt)=>{var st=et.find(ct=>ct&&ct.index===rt);if(st){if(_e==="centric"){var it=st.coordinate,{radius:at}=nt;return _objectSpread$o(_objectSpread$o(_objectSpread$o({},nt),polarToCartesian(nt.cx,nt.cy,at,it)),{},{angle:it,radius:at})}var ot=st.coordinate,{angle:lt}=nt;return _objectSpread$o(_objectSpread$o(_objectSpread$o({},nt),polarToCartesian(nt.cx,nt.cy,ot,lt)),{},{angle:lt,radius:ot})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function isInCartesianRange(_e,et){var{chartX:rt,chartY:nt}=_e;return rt>=et.left&&rt<=et.left+et.width&&nt>=et.top&&nt<=et.top+et.height}var calculateActiveTickIndex=(_e,et,rt,nt,st)=>{var it,at=(it=et==null?void 0:et.length)!==null&&it!==void 0?it:0;if(at<=1||_e==null)return 0;if(nt==="angleAxis"&&st!=null&&Math.abs(Math.abs(st[1]-st[0])-360)<=1e-6)for(var ot=0;ot<at;ot++){var lt,ct,ut,dt,pt,mt=ot>0?(lt=rt[ot-1])===null||lt===void 0?void 0:lt.coordinate:(ct=rt[at-1])===null||ct===void 0?void 0:ct.coordinate,xt=(ut=rt[ot])===null||ut===void 0?void 0:ut.coordinate,yt=ot>=at-1?(dt=rt[0])===null||dt===void 0?void 0:dt.coordinate:(pt=rt[ot+1])===null||pt===void 0?void 0:pt.coordinate,vt=void 0;if(!(mt==null||xt==null||yt==null))if(mathSign(xt-mt)!==mathSign(yt-xt)){var gt=[];if(mathSign(yt-xt)===mathSign(st[1]-st[0])){vt=yt;var Et=xt+st[1]-st[0];gt[0]=Math.min(Et,(Et+mt)/2),gt[1]=Math.max(Et,(Et+mt)/2)}else{vt=mt;var jt=yt+st[1]-st[0];gt[0]=Math.min(xt,(jt+xt)/2),gt[1]=Math.max(xt,(jt+xt)/2)}var kt=[Math.min(xt,(vt+xt)/2),Math.max(xt,(vt+xt)/2)];if(_e>kt[0]&&_e<=kt[1]||_e>=gt[0]&&_e<=gt[1]){var Rt;return(Rt=rt[ot])===null||Rt===void 0?void 0:Rt.index}}else{var St=Math.min(mt,yt),_t=Math.max(mt,yt);if(_e>(St+xt)/2&&_e<=(_t+xt)/2){var Nt;return(Nt=rt[ot])===null||Nt===void 0?void 0:Nt.index}}}else if(et)for(var Lt=0;Lt<at;Lt++){var $t=et[Lt];if($t!=null){var Ft=et[Lt+1],Tt=et[Lt-1];if(Lt===0&&Ft!=null&&_e<=($t.coordinate+Ft.coordinate)/2||Lt===at-1&&Tt!=null&&_e>($t.coordinate+Tt.coordinate)/2||Lt>0&&Lt<at-1&&Tt!=null&&Ft!=null&&_e>($t.coordinate+Tt.coordinate)/2&&_e<=($t.coordinate+Ft.coordinate)/2)return $t.index}}return-1},useChartName=()=>useAppSelector(selectChartName),pickTooltipEventType=(_e,et)=>et,pickTrigger=(_e,et,rt)=>rt,pickDefaultIndex=(_e,et,rt,nt)=>nt,selectOrderedTooltipTicks=createSelector(selectTooltipAxisTicks,_e=>sortBy$1(_e,et=>et.coordinate)),selectTooltipInteractionState=createSelector([selectTooltipState,pickTooltipEventType,pickTrigger,pickDefaultIndex],combineTooltipInteractionState),selectActiveIndex=createSelector([selectTooltipInteractionState,selectTooltipDisplayedData,selectTooltipAxisDataKey,selectTooltipAxisDomain],combineActiveTooltipIndex),selectTooltipDataKey=(_e,et,rt)=>{if(et!=null){var nt=selectTooltipState(_e);return et==="axis"?rt==="hover"?nt.axisInteraction.hover.dataKey:nt.axisInteraction.click.dataKey:rt==="hover"?nt.itemInteraction.hover.dataKey:nt.itemInteraction.click.dataKey}},selectTooltipPayloadConfigurations=createSelector([selectTooltipState,pickTooltipEventType,pickTrigger,pickDefaultIndex],combineTooltipPayloadConfigurations),selectCoordinateForDefaultIndex=createSelector([selectChartWidth,selectChartHeight,selectChartLayout,selectChartOffsetInternal,selectTooltipAxisTicks,pickDefaultIndex,selectTooltipPayloadConfigurations],combineCoordinateForDefaultIndex),selectActiveCoordinate=createSelector([selectTooltipInteractionState,selectCoordinateForDefaultIndex],(_e,et)=>{var rt;return(rt=_e.coordinate)!==null&&rt!==void 0?rt:et}),selectActiveLabel=createSelector([selectTooltipAxisTicks,selectActiveIndex],combineActiveLabel),selectTooltipPayload=createSelector([selectTooltipPayloadConfigurations,selectActiveIndex,selectChartDataWithIndexes,selectTooltipAxisDataKey,selectActiveLabel,selectTooltipPayloadSearcher,pickTooltipEventType],combineTooltipPayload),selectIsTooltipActive=createSelector([selectTooltipInteractionState,selectActiveIndex],(_e,et)=>({isActive:_e.active&&et!=null,activeIndex:et})),combineActiveCartesianProps=(_e,et,rt,nt,st,it,at)=>{if(!(!_e||!rt||!nt||!st)&&isInCartesianRange(_e,at)){var ot=calculateCartesianTooltipPos(_e,et),lt=calculateActiveTickIndex(ot,it,st,rt,nt),ct=getActiveCartesianCoordinate(et,st,lt,_e);return{activeIndex:String(lt),activeCoordinate:ct}}},combineActivePolarProps=(_e,et,rt,nt,st,it,at)=>{if(!(!_e||!nt||!st||!it||!rt)){var ot=inRangeOfSector(_e,rt);if(ot){var lt=calculatePolarTooltipPos(ot,et),ct=calculateActiveTickIndex(lt,at,it,nt,st),ut=getActivePolarCoordinate(et,it,ct,ot);return{activeIndex:String(ct),activeCoordinate:ut}}}},combineActiveProps=(_e,et,rt,nt,st,it,at,ot)=>{if(!(!_e||!et||!nt||!st||!it))return et==="horizontal"||et==="vertical"?combineActiveCartesianProps(_e,et,nt,st,it,at,ot):combineActivePolarProps(_e,et,rt,nt,st,it,at)},selectZIndexPortalElement=createSelector(_e=>_e.zIndex.zIndexMap,(_e,et)=>et,(_e,et,rt)=>rt,(_e,et,rt)=>{if(et!=null){var nt=_e[et];if(nt!=null)return rt?nt.panoramaElement:nt.element}}),selectAllRegisteredZIndexes=createSelector(_e=>_e.zIndex.zIndexMap,_e=>{var et=Object.keys(_e).map(nt=>parseInt(nt,10)).concat(Object.values(DefaultZIndexes)),rt=Array.from(new Set(et));return rt.sort((nt,st)=>nt-st)},{memoizeOptions:{resultEqualityCheck:arrayContentsAreEqualCheck}});function ownKeys$o(_e,et){var rt=Object.keys(_e);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);et&&(nt=nt.filter(function(st){return Object.getOwnPropertyDescriptor(_e,st).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$n(_e){for(var et=1;et<arguments.length;et++){var rt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$o(Object(rt),!0).forEach(function(nt){_defineProperty$q(_e,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(rt)):ownKeys$o(Object(rt)).forEach(function(nt){Object.defineProperty(_e,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return _e}function _defineProperty$q(_e,et,rt){return(et=_toPropertyKey$q(et))in _e?Object.defineProperty(_e,et,{value:rt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=rt,_e}function _toPropertyKey$q(_e){var et=_toPrimitive$q(_e,"string");return typeof et=="symbol"?et:et+""}function _toPrimitive$q(_e,et){if(typeof _e!="object"||!_e)return _e;var rt=_e[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(_e,et);if(typeof nt!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(_e)}var seed={},initialState$9={zIndexMap:Object.values(DefaultZIndexes).reduce((_e,et)=>_objectSpread$n(_objectSpread$n({},_e),{},{[et]:{element:void 0,panoramaElement:void 0,consumers:0}}),seed)},defaultZIndexSet=new Set(Object.values(DefaultZIndexes));function isDefaultZIndex(_e){return defaultZIndexSet.has(_e)}var zIndexSlice=createSlice({name:"zIndex",initialState:initialState$9,reducers:{registerZIndexPortal:{reducer:(_e,et)=>{var{zIndex:rt}=et.payload;_e.zIndexMap[rt]?_e.zIndexMap[rt].consumers+=1:_e.zIndexMap[rt]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:prepareAutoBatched()},unregisterZIndexPortal:{reducer:(_e,et)=>{var{zIndex:rt}=et.payload;_e.zIndexMap[rt]&&(_e.zIndexMap[rt].consumers-=1,_e.zIndexMap[rt].consumers<=0&&!isDefaultZIndex(rt)&&delete _e.zIndexMap[rt])},prepare:prepareAutoBatched()},registerZIndexPortalElement:{reducer:(_e,et)=>{var{zIndex:rt,element:nt,isPanorama:st}=et.payload;_e.zIndexMap[rt]?st?_e.zIndexMap[rt].panoramaElement=nt:_e.zIndexMap[rt].element=nt:_e.zIndexMap[rt]={consumers:0,element:st?void 0:nt,panoramaElement:st?nt:void 0}},prepare:prepareAutoBatched()},unregisterZIndexPortalElement:{reducer:(_e,et)=>{var{zIndex:rt}=et.payload;_e.zIndexMap[rt]&&(et.payload.isPanorama?_e.zIndexMap[rt].panoramaElement=void 0:_e.zIndexMap[rt].element=void 0)},prepare:prepareAutoBatched()}}}),{registerZIndexPortal,unregisterZIndexPortal,registerZIndexPortalElement,unregisterZIndexPortalElement}=zIndexSlice.actions,zIndexReducer=zIndexSlice.reducer;function ZIndexLayer(_e){var{zIndex:et,children:rt}=_e,nt=useIsInChartContext(),st=nt&&et!==void 0&&et!==0,it=useIsPanorama(),at=useAppDispatch();reactExports.useLayoutEffect(()=>st?(at(registerZIndexPortal({zIndex:et})),()=>{at(unregisterZIndexPortal({zIndex:et}))}):noop$3,[at,et,st]);var ot=useAppSelector(lt=>selectZIndexPortalElement(lt,et,it));return st?ot?reactDomExports.createPortal(rt,ot):null:rt}function _extends$j(){return _extends$j=Object.assign?Object.assign.bind():function(_e){for(var et=1;et<arguments.length;et++){var rt=arguments[et];for(var nt in rt)({}).hasOwnProperty.call(rt,nt)&&(_e[nt]=rt[nt])}return _e},_extends$j.apply(null,arguments)}function ownKeys$n(_e,et){var rt=Object.keys(_e);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);et&&(nt=nt.filter(function(st){return Object.getOwnPropertyDescriptor(_e,st).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$m(_e){for(var et=1;et<arguments.length;et++){var rt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$n(Object(rt),!0).forEach(function(nt){_defineProperty$p(_e,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(rt)):ownKeys$n(Object(rt)).forEach(function(nt){Object.defineProperty(_e,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return _e}function _defineProperty$p(_e,et,rt){return(et=_toPropertyKey$p(et))in _e?Object.defineProperty(_e,et,{value:rt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=rt,_e}function _toPropertyKey$p(_e){var et=_toPrimitive$p(_e,"string");return typeof et=="symbol"?et:et+""}function _toPrimitive$p(_e,et){if(typeof _e!="object"||!_e)return _e;var rt=_e[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(_e,et);if(typeof nt!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(_e)}function RenderCursor(_e){var{cursor:et,cursorComp:rt,cursorProps:nt}=_e;return reactExports.isValidElement(et)?reactExports.cloneElement(et,nt):reactExports.createElement(rt,nt)}function CursorInternal(_e){var et,{coordinate:rt,payload:nt,index:st,offset:it,tooltipAxisBandSize:at,layout:ot,cursor:lt,tooltipEventType:ct,chartName:ut}=_e,dt=rt,pt=nt,mt=st;if(!lt||!dt||ut!=="ScatterChart"&&ct!=="axis")return null;var xt,yt,vt;if(ut==="ScatterChart")xt=dt,yt=Cross,vt=DefaultZIndexes.cursorLine;else if(ut==="BarChart")xt=getCursorRectangle(ot,dt,it,at),yt=Rectangle,vt=DefaultZIndexes.cursorRectangle;else if(ot==="radial"&&isPolarCoordinate(dt)){var{cx:gt,cy:Et,radius:jt,startAngle:kt,endAngle:Rt}=getRadialCursorPoints(dt);xt={cx:gt,cy:Et,startAngle:kt,endAngle:Rt,innerRadius:jt,outerRadius:jt},yt=Sector,vt=DefaultZIndexes.cursorLine}else xt={points:getCursorPoints(ot,dt,it)},yt=Curve,vt=DefaultZIndexes.cursorLine;var St=typeof lt=="object"&&"className"in lt?lt.className:void 0,_t=_objectSpread$m(_objectSpread$m(_objectSpread$m(_objectSpread$m({stroke:"#ccc",pointerEvents:"none"},it),xt),svgPropertiesNoEventsFromUnknown(lt)),{},{payload:pt,payloadIndex:mt,className:clsx("recharts-tooltip-cursor",St)});return reactExports.createElement(ZIndexLayer,{zIndex:(et=_e.zIndex)!==null&&et!==void 0?et:vt},reactExports.createElement(RenderCursor,{cursor:lt,cursorComp:yt,cursorProps:_t}))}function Cursor(_e){var et=useTooltipAxisBandSize(),rt=useOffsetInternal(),nt=useChartLayout(),st=useChartName();return et==null||rt==null||nt==null||st==null?null:reactExports.createElement(CursorInternal,_extends$j({},_e,{offset:rt,layout:nt,tooltipAxisBandSize:et,chartName:st}))}var TooltipPortalContext=reactExports.createContext(null),useTooltipPortal=()=>reactExports.useContext(TooltipPortalContext),eventemitter3={exports:{}};(function(_e){var et=Object.prototype.hasOwnProperty,rt="~";function nt(){}Object.create&&(nt.prototype=Object.create(null),new nt().__proto__||(rt=!1));function st(lt,ct,ut){this.fn=lt,this.context=ct,this.once=ut||!1}function it(lt,ct,ut,dt,pt){if(typeof ut!="function")throw new TypeError("The listener must be a function");var mt=new st(ut,dt||lt,pt),xt=rt?rt+ct:ct;return lt._events[xt]?lt._events[xt].fn?lt._events[xt]=[lt._events[xt],mt]:lt._events[xt].push(mt):(lt._events[xt]=mt,lt._eventsCount++),lt}function at(lt,ct){--lt._eventsCount===0?lt._events=new nt:delete lt._events[ct]}function ot(){this._events=new nt,this._eventsCount=0}ot.prototype.eventNames=function(){var ct=[],ut,dt;if(this._eventsCount===0)return ct;for(dt in ut=this._events)et.call(ut,dt)&&ct.push(rt?dt.slice(1):dt);return Object.getOwnPropertySymbols?ct.concat(Object.getOwnPropertySymbols(ut)):ct},ot.prototype.listeners=function(ct){var ut=rt?rt+ct:ct,dt=this._events[ut];if(!dt)return[];if(dt.fn)return[dt.fn];for(var pt=0,mt=dt.length,xt=new Array(mt);pt<mt;pt++)xt[pt]=dt[pt].fn;return xt},ot.prototype.listenerCount=function(ct){var ut=rt?rt+ct:ct,dt=this._events[ut];return dt?dt.fn?1:dt.length:0},ot.prototype.emit=function(ct,ut,dt,pt,mt,xt){var yt=rt?rt+ct:ct;if(!this._events[yt])return!1;var vt=this._events[yt],gt=arguments.length,Et,jt;if(vt.fn){switch(vt.once&&this.removeListener(ct,vt.fn,void 0,!0),gt){case 1:return vt.fn.call(vt.context),!0;case 2:return vt.fn.call(vt.context,ut),!0;case 3:return vt.fn.call(vt.context,ut,dt),!0;case 4:return vt.fn.call(vt.context,ut,dt,pt),!0;case 5:return vt.fn.call(vt.context,ut,dt,pt,mt),!0;case 6:return vt.fn.call(vt.context,ut,dt,pt,mt,xt),!0}for(jt=1,Et=new Array(gt-1);jt<gt;jt++)Et[jt-1]=arguments[jt];vt.fn.apply(vt.context,Et)}else{var kt=vt.length,Rt;for(jt=0;jt<kt;jt++)switch(vt[jt].once&&this.removeListener(ct,vt[jt].fn,void 0,!0),gt){case 1:vt[jt].fn.call(vt[jt].context);break;case 2:vt[jt].fn.call(vt[jt].context,ut);break;case 3:vt[jt].fn.call(vt[jt].context,ut,dt);break;case 4:vt[jt].fn.call(vt[jt].context,ut,dt,pt);break;default:if(!Et)for(Rt=1,Et=new Array(gt-1);Rt<gt;Rt++)Et[Rt-1]=arguments[Rt];vt[jt].fn.apply(vt[jt].context,Et)}}return!0},ot.prototype.on=function(ct,ut,dt){return it(this,ct,ut,dt,!1)},ot.prototype.once=function(ct,ut,dt){return it(this,ct,ut,dt,!0)},ot.prototype.removeListener=function(ct,ut,dt,pt){var mt=rt?rt+ct:ct;if(!this._events[mt])return this;if(!ut)return at(this,mt),this;var xt=this._events[mt];if(xt.fn)xt.fn===ut&&(!pt||xt.once)&&(!dt||xt.context===dt)&&at(this,mt);else{for(var yt=0,vt=[],gt=xt.length;yt<gt;yt++)(xt[yt].fn!==ut||pt&&!xt[yt].once||dt&&xt[yt].context!==dt)&&vt.push(xt[yt]);vt.length?this._events[mt]=vt.length===1?vt[0]:vt:at(this,mt)}return this},ot.prototype.removeAllListeners=function(ct){var ut;return ct?(ut=rt?rt+ct:ct,this._events[ut]&&at(this,ut)):(this._events=new nt,this._eventsCount=0),this},ot.prototype.off=ot.prototype.removeListener,ot.prototype.addListener=ot.prototype.on,ot.prefixed=rt,ot.EventEmitter=ot,_e.exports=ot})(eventemitter3);var eventemitter3Exports=eventemitter3.exports;const EventEmitter$1=getDefaultExportFromCjs(eventemitter3Exports);var eventCenter=new EventEmitter$1,TOOLTIP_SYNC_EVENT="recharts.syncEvent.tooltip",BRUSH_SYNC_EVENT="recharts.syncEvent.brush",arrayTooltipSearcher=(_e,et)=>{if(et&&Array.isArray(_e)){var rt=Number.parseInt(et,10);if(!isNan(rt))return _e[rt]}},initialState$8={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},optionsSlice=createSlice({name:"options",initialState:initialState$8,reducers:{createEventEmitter:_e=>{_e.eventEmitter==null&&(_e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),optionsReducer=optionsSlice.reducer,{createEventEmitter}=optionsSlice.actions;function selectSynchronisedTooltipState(_e){return _e.tooltip.syncInteraction}var initialChartDataState={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},chartDataSlice=createSlice({name:"chartData",initialState:initialChartDataState,reducers:{setChartData(_e,et){if(_e.chartData=et.payload,et.payload==null){_e.dataStartIndex=0,_e.dataEndIndex=0;return}et.payload.length>0&&_e.dataEndIndex!==et.payload.length-1&&(_e.dataEndIndex=et.payload.length-1)},setComputedData(_e,et){_e.computedData=et.payload},setDataStartEndIndexes(_e,et){var{startIndex:rt,endIndex:nt}=et.payload;rt!=null&&(_e.dataStartIndex=rt),nt!=null&&(_e.dataEndIndex=nt)}}}),{setChartData,setDataStartEndIndexes,setComputedData}=chartDataSlice.actions,chartDataReducer=chartDataSlice.reducer,_excluded$k=["x","y"];function ownKeys$m(_e,et){var rt=Object.keys(_e);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);et&&(nt=nt.filter(function(st){return Object.getOwnPropertyDescriptor(_e,st).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$l(_e){for(var et=1;et<arguments.length;et++){var rt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$m(Object(rt),!0).forEach(function(nt){_defineProperty$o(_e,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(rt)):ownKeys$m(Object(rt)).forEach(function(nt){Object.defineProperty(_e,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return _e}function _defineProperty$o(_e,et,rt){return(et=_toPropertyKey$o(et))in _e?Object.defineProperty(_e,et,{value:rt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=rt,_e}function _toPropertyKey$o(_e){var et=_toPrimitive$o(_e,"string");return typeof et=="symbol"?et:et+""}function _toPrimitive$o(_e,et){if(typeof _e!="object"||!_e)return _e;var rt=_e[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(_e,et);if(typeof nt!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(_e)}function _objectWithoutProperties$j(_e,et){if(_e==null)return{};var rt,nt,st=_objectWithoutPropertiesLoose$j(_e,et);if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(_e);for(nt=0;nt<it.length;nt++)rt=it[nt],et.indexOf(rt)===-1&&{}.propertyIsEnumerable.call(_e,rt)&&(st[rt]=_e[rt])}return st}function _objectWithoutPropertiesLoose$j(_e,et){if(_e==null)return{};var rt={};for(var nt in _e)if({}.hasOwnProperty.call(_e,nt)){if(et.indexOf(nt)!==-1)continue;rt[nt]=_e[nt]}return rt}function useTooltipSyncEventsListener(){var _e=useAppSelector(selectSyncId),et=useAppSelector(selectEventEmitter),rt=useAppDispatch(),nt=useAppSelector(selectSyncMethod),st=useAppSelector(selectTooltipAxisTicks),it=useChartLayout(),at=useViewBox(),ot=useAppSelector(lt=>lt.rootProps.className);reactExports.useEffect(()=>{if(_e==null)return noop$3;var lt=(ct,ut,dt)=>{if(et!==dt&&_e===ct){if(nt==="index"){var pt;if(at&&ut!==null&&ut!==void 0&&(pt=ut.payload)!==null&&pt!==void 0&&pt.coordinate&&ut.payload.sourceViewBox){var mt=ut.payload.coordinate,{x:xt,y:yt}=mt,vt=_objectWithoutProperties$j(mt,_excluded$k),{x:gt,y:Et,width:jt,height:kt}=ut.payload.sourceViewBox,Rt=_objectSpread$l(_objectSpread$l({},vt),{},{x:at.x+(jt?(xt-gt)/jt:0)*at.width,y:at.y+(kt?(yt-Et)/kt:0)*at.height});rt(_objectSpread$l(_objectSpread$l({},ut),{},{payload:_objectSpread$l(_objectSpread$l({},ut.payload),{},{coordinate:Rt})}))}else rt(ut);return}if(st!=null){var St;if(typeof nt=="function"){var _t={activeTooltipIndex:ut.payload.index==null?void 0:Number(ut.payload.index),isTooltipActive:ut.payload.active,activeIndex:ut.payload.index==null?void 0:Number(ut.payload.index),activeLabel:ut.payload.label,activeDataKey:ut.payload.dataKey,activeCoordinate:ut.payload.coordinate},Nt=nt(st,_t);St=st[Nt]}else nt==="value"&&(St=st.find(Ot=>String(Ot.value)===ut.payload.label));var{coordinate:Lt}=ut.payload;if(St==null||ut.payload.active===!1||Lt==null||at==null){rt(setSyncInteraction({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:$t,y:Ft}=Lt,Tt=Math.min($t,at.x+at.width),Bt=Math.min(Ft,at.y+at.height),Wt={x:it==="horizontal"?St.coordinate:Tt,y:it==="horizontal"?Bt:St.coordinate},qt=setSyncInteraction({active:ut.payload.active,coordinate:Wt,dataKey:ut.payload.dataKey,index:String(St.index),label:ut.payload.label,sourceViewBox:ut.payload.sourceViewBox,graphicalItemId:ut.payload.graphicalItemId});rt(qt)}}};return eventCenter.on(TOOLTIP_SYNC_EVENT,lt),()=>{eventCenter.off(TOOLTIP_SYNC_EVENT,lt)}},[ot,rt,et,_e,nt,st,it,at])}function useBrushSyncEventsListener(){var _e=useAppSelector(selectSyncId),et=useAppSelector(selectEventEmitter),rt=useAppDispatch();reactExports.useEffect(()=>{if(_e==null)return noop$3;var nt=(st,it,at)=>{et!==at&&_e===st&&rt(setDataStartEndIndexes(it))};return eventCenter.on(BRUSH_SYNC_EVENT,nt),()=>{eventCenter.off(BRUSH_SYNC_EVENT,nt)}},[rt,et,_e])}function useSynchronisedEventsFromOtherCharts(){var _e=useAppDispatch();reactExports.useEffect(()=>{_e(createEventEmitter())},[_e]),useTooltipSyncEventsListener(),useBrushSyncEventsListener()}function useTooltipChartSynchronisation(_e,et,rt,nt,st,it){var at=useAppSelector(mt=>selectTooltipDataKey(mt,_e,et)),ot=useAppSelector(selectEventEmitter),lt=useAppSelector(selectSyncId),ct=useAppSelector(selectSyncMethod),ut=useAppSelector(selectSynchronisedTooltipState),dt=ut==null?void 0:ut.active,pt=useViewBox();reactExports.useEffect(()=>{if(!dt&&lt!=null&&ot!=null){var mt=setSyncInteraction({active:it,coordinate:rt,dataKey:at,index:st,label:typeof nt=="number"?String(nt):nt,sourceViewBox:pt,graphicalItemId:void 0});eventCenter.emit(TOOLTIP_SYNC_EVENT,lt,mt,ot)}},[dt,rt,at,st,nt,ot,lt,ct,it,pt])}function ownKeys$l(_e,et){var rt=Object.keys(_e);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);et&&(nt=nt.filter(function(st){return Object.getOwnPropertyDescriptor(_e,st).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$k(_e){for(var et=1;et<arguments.length;et++){var rt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$l(Object(rt),!0).forEach(function(nt){_defineProperty$n(_e,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(rt)):ownKeys$l(Object(rt)).forEach(function(nt){Object.defineProperty(_e,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return _e}function _defineProperty$n(_e,et,rt){return(et=_toPropertyKey$n(et))in _e?Object.defineProperty(_e,et,{value:rt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=rt,_e}function _toPropertyKey$n(_e){var et=_toPrimitive$n(_e,"string");return typeof et=="symbol"?et:et+""}function _toPrimitive$n(_e,et){if(typeof _e!="object"||!_e)return _e;var rt=_e[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(_e,et);if(typeof nt!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(_e)}function defaultUniqBy(_e){return _e.dataKey}function renderContent(_e,et){return reactExports.isValidElement(_e)?reactExports.cloneElement(_e,et):typeof _e=="function"?reactExports.createElement(_e,et):reactExports.createElement(DefaultTooltipContent,et)}var emptyPayload=[],defaultTooltipProps={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Tooltip(_e){var et,rt,nt=resolveDefaultProps(_e,defaultTooltipProps),{active:st,allowEscapeViewBox:it,animationDuration:at,animationEasing:ot,content:lt,filterNull:ct,isAnimationActive:ut,offset:dt,payloadUniqBy:pt,position:mt,reverseDirection:xt,useTranslate3d:yt,wrapperStyle:vt,cursor:gt,shared:Et,trigger:jt,defaultIndex:kt,portal:Rt,axisId:St}=nt,_t=useAppDispatch(),Nt=typeof kt=="number"?String(kt):kt;reactExports.useEffect(()=>{_t(setTooltipSettingsState({shared:Et,trigger:jt,axisId:St,active:st,defaultIndex:Nt}))},[_t,Et,jt,St,st,Nt]);var Lt=useViewBox(),$t=useAccessibilityLayer(),Ft=useTooltipEventType(Et),{activeIndex:Tt,isActive:Bt}=(et=useAppSelector(mr=>selectIsTooltipActive(mr,Ft,jt,Nt)))!==null&&et!==void 0?et:{},Wt=useAppSelector(mr=>selectTooltipPayload(mr,Ft,jt,Nt)),qt=useAppSelector(mr=>selectActiveLabel(mr,Ft,jt,Nt)),Ot=useAppSelector(mr=>selectActiveCoordinate(mr,Ft,jt,Nt)),Dt=Wt,Pt=useTooltipPortal(),It=(rt=st??Bt)!==null&&rt!==void 0?rt:!1,[At,Ht]=useElementOffset([Dt,It]),Gt=Ft==="axis"?qt:void 0;useTooltipChartSynchronisation(Ft,jt,Ot,Gt,Tt,It);var Vt=Rt??Pt;if(Vt==null||Lt==null||Ft==null)return null;var Jt=Dt??emptyPayload;It||(Jt=emptyPayload),ct&&Jt.length&&(Jt=getUniqPayload(Jt.filter(mr=>mr.value!=null&&(mr.hide!==!0||nt.includeHidden)),pt,defaultUniqBy));var rr=Jt.length>0,ar=reactExports.createElement(TooltipBoundingBox,{allowEscapeViewBox:it,animationDuration:at,animationEasing:ot,isAnimationActive:ut,active:It,coordinate:Ot,hasPayload:rr,offset:dt,position:mt,reverseDirection:xt,useTranslate3d:yt,viewBox:Lt,wrapperStyle:vt,lastBoundingBox:At,innerRef:Ht,hasPortalFromProps:!!Rt},renderContent(lt,_objectSpread$k(_objectSpread$k({},nt),{},{payload:Jt,label:Gt,active:It,activeIndex:Tt,coordinate:Ot,accessibilityLayer:$t})));return reactExports.createElement(reactExports.Fragment,null,reactDomExports.createPortal(ar,Vt),It&&reactExports.createElement(Cursor,{cursor:gt,tooltipEventType:Ft,coordinate:Ot,payload:Jt,index:Tt}))}var Cell=_e=>null;Cell.displayName="Cell";function _defineProperty$m(_e,et,rt){return(et=_toPropertyKey$m(et))in _e?Object.defineProperty(_e,et,{value:rt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=rt,_e}function _toPropertyKey$m(_e){var et=_toPrimitive$m(_e,"string");return typeof et=="symbol"?et:et+""}function _toPrimitive$m(_e,et){if(typeof _e!="object"||!_e)return _e;var rt=_e[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(_e,et);if(typeof nt!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(_e)}class LRUCache{constructor(et){_defineProperty$m(this,"cache",new Map),this.maxSize=et}get(et){var rt=this.cache.get(et);return rt!==void 0&&(this.cache.delete(et),this.cache.set(et,rt)),rt}set(et,rt){if(this.cache.has(et))this.cache.delete(et);else if(this.cache.size>=this.maxSize){var nt=this.cache.keys().next().value;nt!=null&&this.cache.delete(nt)}this.cache.set(et,rt)}clear(){this.cache.clear()}size(){return this.cache.size}}function ownKeys$k(_e,et){var rt=Object.keys(_e);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);et&&(nt=nt.filter(function(st){return Object.getOwnPropertyDescriptor(_e,st).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$j(_e){for(var et=1;et<arguments.length;et++){var rt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$k(Object(rt),!0).forEach(function(nt){_defineProperty$l(_e,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(rt)):ownKeys$k(Object(rt)).forEach(function(nt){Object.defineProperty(_e,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return _e}function _defineProperty$l(_e,et,rt){return(et=_toPropertyKey$l(et))in _e?Object.defineProperty(_e,et,{value:rt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=rt,_e}function _toPropertyKey$l(_e){var et=_toPrimitive$l(_e,"string");return typeof et=="symbol"?et:et+""}function _toPrimitive$l(_e,et){if(typeof _e!="object"||!_e)return _e;var rt=_e[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(_e,et);if(typeof nt!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(_e)}var defaultConfig={cacheSize:2e3,enableCache:!0},currentConfig=_objectSpread$j({},defaultConfig),stringCache=new LRUCache(currentConfig.cacheSize),SPAN_STYLE={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},MEASUREMENT_SPAN_ID="recharts_measurement_span";function createCacheKey(_e,et){var rt=et.fontSize||"",nt=et.fontFamily||"",st=et.fontWeight||"",it=et.fontStyle||"",at=et.letterSpacing||"",ot=et.textTransform||"";return"".concat(_e,"|").concat(rt,"|").concat(nt,"|").concat(st,"|").concat(it,"|").concat(at,"|").concat(ot)}var measureTextWithDOM=(_e,et)=>{try{var rt=document.getElementById(MEASUREMENT_SPAN_ID);rt||(rt=document.createElement("span"),rt.setAttribute("id",MEASUREMENT_SPAN_ID),rt.setAttribute("aria-hidden","true"),document.body.appendChild(rt)),Object.assign(rt.style,SPAN_STYLE,et),rt.textContent="".concat(_e);var nt=rt.getBoundingClientRect();return{width:nt.width,height:nt.height}}catch{return{width:0,height:0}}},getStringSize=function(et){var rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(et==null||Global.isSsr)return{width:0,height:0};if(!currentConfig.enableCache)return measureTextWithDOM(et,rt);var nt=createCacheKey(et,rt),st=stringCache.get(nt);if(st)return st;var it=measureTextWithDOM(et,rt);return stringCache.set(nt,it),it},_DecimalCSS;function _defineProperty$k(_e,et,rt){return(et=_toPropertyKey$k(et))in _e?Object.defineProperty(_e,et,{value:rt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=rt,_e}function _toPropertyKey$k(_e){var et=_toPrimitive$k(_e,"string");return typeof et=="symbol"?et:et+""}function _toPrimitive$k(_e,et){if(typeof _e!="object"||!_e)return _e;var rt=_e[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(_e,et);if(typeof nt!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(_e)}var MULTIPLY_OR_DIVIDE_REGEX=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ADD_OR_SUBTRACT_REGEX=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,CSS_LENGTH_UNIT_REGEX=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,NUM_SPLIT_REGEX=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,CONVERSION_RATES={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},FIXED_CSS_LENGTH_UNITS=["cm","mm","pt","pc","in","Q","px"];function isSupportedUnit(_e){return FIXED_CSS_LENGTH_UNITS.includes(_e)}var STR_NAN="NaN";function convertToPx(_e,et){return _e*CONVERSION_RATES[et]}class DecimalCSS{static parse(et){var rt,[,nt,st]=(rt=NUM_SPLIT_REGEX.exec(et))!==null&&rt!==void 0?rt:[];return nt==null?DecimalCSS.NaN:new DecimalCSS(parseFloat(nt),st??"")}constructor(et,rt){this.num=et,this.unit=rt,this.num=et,this.unit=rt,isNan(et)&&(this.unit=""),rt!==""&&!CSS_LENGTH_UNIT_REGEX.test(rt)&&(this.num=NaN,this.unit=""),isSupportedUnit(rt)&&(this.num=convertToPx(et,rt),this.unit="px")}add(et){return this.unit!==et.unit?new DecimalCSS(NaN,""):new DecimalCSS(this.num+et.num,this.unit)}subtract(et){return this.unit!==et.unit?new DecimalCSS(NaN,""):new DecimalCSS(this.num-et.num,this.unit)}multiply(et){return this.unit!==""&&et.unit!==""&&this.unit!==et.unit?new DecimalCSS(NaN,""):new DecimalCSS(this.num*et.num,this.unit||et.unit)}divide(et){return this.unit!==""&&et.unit!==""&&this.unit!==et.unit?new DecimalCSS(NaN,""):new DecimalCSS(this.num/et.num,this.unit||et.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return isNan(this.num)}}_DecimalCSS=DecimalCSS;_defineProperty$k(DecimalCSS,"NaN",new _DecimalCSS(NaN,""));function calculateArithmetic(_e){if(_e==null||_e.includes(STR_NAN))return STR_NAN;for(var et=_e;et.includes("*")||et.includes("/");){var rt,[,nt,st,it]=(rt=MULTIPLY_OR_DIVIDE_REGEX.exec(et))!==null&&rt!==void 0?rt:[],at=DecimalCSS.parse(nt??""),ot=DecimalCSS.parse(it??""),lt=st==="*"?at.multiply(ot):at.divide(ot);if(lt.isNaN())return STR_NAN;et=et.replace(MULTIPLY_OR_DIVIDE_REGEX,lt.toString())}for(;et.includes("+")||/.-\d+(?:\.\d+)?/.test(et);){var ct,[,ut,dt,pt]=(ct=ADD_OR_SUBTRACT_REGEX.exec(et))!==null&&ct!==void 0?ct:[],mt=DecimalCSS.parse(ut??""),xt=DecimalCSS.parse(pt??""),yt=dt==="+"?mt.add(xt):mt.subtract(xt);if(yt.isNaN())return STR_NAN;et=et.replace(ADD_OR_SUBTRACT_REGEX,yt.toString())}return et}var PARENTHESES_REGEX=/\(([^()]*)\)/;function calculateParentheses(_e){for(var et=_e,rt;(rt=PARENTHESES_REGEX.exec(et))!=null;){var[,nt]=rt;et=et.replace(PARENTHESES_REGEX,calculateArithmetic(nt))}return et}function evaluateExpression(_e){var et=_e.replace(/\s+/g,"");return et=calculateParentheses(et),et=calculateArithmetic(et),et}function safeEvaluateExpression(_e){try{return evaluateExpression(_e)}catch{return STR_NAN}}function reduceCSSCalc(_e){var et=safeEvaluateExpression(_e.slice(5,-1));return et===STR_NAN?"":et}var _excluded$j=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],_excluded2$9=["dx","dy","angle","className","breakAll"];function _extends$i(){return _extends$i=Object.assign?Object.assign.bind():function(_e){for(var et=1;et<arguments.length;et++){var rt=arguments[et];for(var nt in rt)({}).hasOwnProperty.call(rt,nt)&&(_e[nt]=rt[nt])}return _e},_extends$i.apply(null,arguments)}function _objectWithoutProperties$i(_e,et){if(_e==null)return{};var rt,nt,st=_objectWithoutPropertiesLoose$i(_e,et);if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(_e);for(nt=0;nt<it.length;nt++)rt=it[nt],et.indexOf(rt)===-1&&{}.propertyIsEnumerable.call(_e,rt)&&(st[rt]=_e[rt])}return st}function _objectWithoutPropertiesLoose$i(_e,et){if(_e==null)return{};var rt={};for(var nt in _e)if({}.hasOwnProperty.call(_e,nt)){if(et.indexOf(nt)!==-1)continue;rt[nt]=_e[nt]}return rt}var BREAKING_SPACES=/[ \f\n\r\t\v\u2028\u2029]+/,calculateWordWidths=_e=>{var{children:et,breakAll:rt,style:nt}=_e;try{var st=[];isNullish(et)||(rt?st=et.toString().split(""):st=et.toString().split(BREAKING_SPACES));var it=st.map(ot=>({word:ot,width:getStringSize(ot,nt).width})),at=rt?0:getStringSize("",nt).width;return{wordsWithComputedWidth:it,spaceWidth:at}}catch{return null}};function isValidTextAnchor(_e){return _e==="start"||_e==="middle"||_e==="end"||_e==="inherit"}var calculate=(_e,et,rt,nt)=>_e.reduce((st,it)=>{var{word:at,width:ot}=it,lt=st[st.length-1];if(lt&&ot!=null&&(et==null||nt||lt.width+ot+rt<Number(et)))lt.words.push(at),lt.width+=ot+rt;else{var ct={words:[at],width:ot};st.push(ct)}return st},[]),findLongestLine=_e=>_e.reduce((et,rt)=>et.width>rt.width?et:rt),suffix="",checkOverflow=(_e,et,rt,nt,st,it,at,ot)=>{var lt=_e.slice(0,et),ct=calculateWordWidths({breakAll:rt,style:nt,children:lt+suffix});if(!ct)return[!1,[]];var ut=calculate(ct.wordsWithComputedWidth,it,at,ot),dt=ut.length>st||findLongestLine(ut).width>Number(it);return[dt,ut]},calculateWordsByLines=(_e,et,rt,nt,st)=>{var{maxLines:it,children:at,style:ot,breakAll:lt}=_e,ct=isNumber$1(it),ut=String(at),dt=calculate(et,nt,rt,st);if(!ct||st)return dt;var pt=dt.length>it||findLongestLine(dt).width>Number(nt);if(!pt)return dt;for(var mt=0,xt=ut.length-1,yt=0,vt;mt<=xt&&yt<=ut.length-1;){var gt=Math.floor((mt+xt)/2),Et=gt-1,[jt,kt]=checkOverflow(ut,Et,lt,ot,it,nt,rt,st),[Rt]=checkOverflow(ut,gt,lt,ot,it,nt,rt,st);if(!jt&&!Rt&&(mt=gt+1),jt&&Rt&&(xt=gt-1),!jt&&Rt){vt=kt;break}yt++}return vt||dt},getWordsWithoutCalculate=_e=>{var et=isNullish(_e)?[]:_e.toString().split(BREAKING_SPACES);return[{words:et,width:void 0}]},getWordsByLines=_e=>{var{width:et,scaleToFit:rt,children:nt,style:st,breakAll:it,maxLines:at}=_e;if((et||rt)&&!Global.isSsr){var ot,lt,ct=calculateWordWidths({breakAll:it,children:nt,style:st});if(ct){var{wordsWithComputedWidth:ut,spaceWidth:dt}=ct;ot=ut,lt=dt}else return getWordsWithoutCalculate(nt);return calculateWordsByLines({breakAll:it,children:nt,maxLines:at,style:st},ot,lt,et,!!rt)}return getWordsWithoutCalculate(nt)},DEFAULT_FILL="#808080",textDefaultProps={angle:0,breakAll:!1,capHeight:"0.71em",fill:DEFAULT_FILL,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Text$2=reactExports.forwardRef((_e,et)=>{var rt=resolveDefaultProps(_e,textDefaultProps),{x:nt,y:st,lineHeight:it,capHeight:at,fill:ot,scaleToFit:lt,textAnchor:ct,verticalAnchor:ut}=rt,dt=_objectWithoutProperties$i(rt,_excluded$j),pt=reactExports.useMemo(()=>getWordsByLines({breakAll:dt.breakAll,children:dt.children,maxLines:dt.maxLines,scaleToFit:lt,style:dt.style,width:dt.width}),[dt.breakAll,dt.children,dt.maxLines,lt,dt.style,dt.width]),{dx:mt,dy:xt,angle:yt,className:vt,breakAll:gt}=dt,Et=_objectWithoutProperties$i(dt,_excluded2$9);if(!isNumOrStr(nt)||!isNumOrStr(st)||pt.length===0)return null;var jt=Number(nt)+(isNumber$1(mt)?mt:0),kt=Number(st)+(isNumber$1(xt)?xt:0);if(!isWellBehavedNumber(jt)||!isWellBehavedNumber(kt))return null;var Rt;switch(ut){case"start":Rt=reduceCSSCalc("calc(".concat(at,")"));break;case"middle":Rt=reduceCSSCalc("calc(".concat((pt.length-1)/2," * -").concat(it," + (").concat(at," / 2))"));break;default:Rt=reduceCSSCalc("calc(".concat(pt.length-1," * -").concat(it,")"));break}var St=[],_t=pt[0];if(lt&&_t!=null){var Nt=_t.width,{width:Lt}=dt;St.push("scale(".concat(isNumber$1(Lt)&&isNumber$1(Nt)?Lt/Nt:1,")"))}return yt&&St.push("rotate(".concat(yt,", ").concat(jt,", ").concat(kt,")")),St.length&&(Et.transform=St.join(" ")),reactExports.createElement("text",_extends$i({},svgPropertiesAndEvents(Et),{ref:et,x:jt,y:kt,className:clsx("recharts-text",vt),textAnchor:ct,fill:ot.includes("url")?DEFAULT_FILL:ot}),pt.map(($t,Ft)=>{var Tt=$t.words.join(gt?"":" ");return reactExports.createElement("tspan",{x:jt,dy:Ft===0?Rt:it,key:"".concat(Tt,"-").concat(Ft)},Tt)}))});Text$2.displayName="Text";function ownKeys$j(_e,et){var rt=Object.keys(_e);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);et&&(nt=nt.filter(function(st){return Object.getOwnPropertyDescriptor(_e,st).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$i(_e){for(var et=1;et<arguments.length;et++){var rt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$j(Object(rt),!0).forEach(function(nt){_defineProperty$j(_e,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(rt)):ownKeys$j(Object(rt)).forEach(function(nt){Object.defineProperty(_e,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return _e}function _defineProperty$j(_e,et,rt){return(et=_toPropertyKey$j(et))in _e?Object.defineProperty(_e,et,{value:rt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=rt,_e}function _toPropertyKey$j(_e){var et=_toPrimitive$j(_e,"string");return typeof et=="symbol"?et:et+""}function _toPrimitive$j(_e,et){if(typeof _e!="object"||!_e)return _e;var rt=_e[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(_e,et);if(typeof nt!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(_e)}var getCartesianPosition=_e=>{var{viewBox:et,position:rt,offset:nt=0,parentViewBox:st}=_e,{x:it,y:at,height:ot,upperWidth:lt,lowerWidth:ct}=cartesianViewBoxToTrapezoid(et),ut=it,dt=it+(lt-ct)/2,pt=(ut+dt)/2,mt=(lt+ct)/2,xt=ut+lt/2,yt=ot>=0?1:-1,vt=yt*nt,gt=yt>0?"end":"start",Et=yt>0?"start":"end",jt=lt>=0?1:-1,kt=jt*nt,Rt=jt>0?"end":"start",St=jt>0?"start":"end",_t=st;if(rt==="top"){var Nt={x:ut+lt/2,y:at-vt,horizontalAnchor:"middle",verticalAnchor:gt};return _t&&(Nt.height=Math.max(at-_t.y,0),Nt.width=lt),Nt}if(rt==="bottom"){var Lt={x:dt+ct/2,y:at+ot+vt,horizontalAnchor:"middle",verticalAnchor:Et};return _t&&(Lt.height=Math.max(_t.y+_t.height-(at+ot),0),Lt.width=ct),Lt}if(rt==="left"){var $t={x:pt-kt,y:at+ot/2,horizontalAnchor:Rt,verticalAnchor:"middle"};return _t&&($t.width=Math.max($t.x-_t.x,0),$t.height=ot),$t}if(rt==="right"){var Ft={x:pt+mt+kt,y:at+ot/2,horizontalAnchor:St,verticalAnchor:"middle"};return _t&&(Ft.width=Math.max(_t.x+_t.width-Ft.x,0),Ft.height=ot),Ft}var Tt=_t?{width:mt,height:ot}:{};return rt==="insideLeft"?_objectSpread$i({x:pt+kt,y:at+ot/2,horizontalAnchor:St,verticalAnchor:"middle"},Tt):rt==="insideRight"?_objectSpread$i({x:pt+mt-kt,y:at+ot/2,horizontalAnchor:Rt,verticalAnchor:"middle"},Tt):rt==="insideTop"?_objectSpread$i({x:ut+lt/2,y:at+vt,horizontalAnchor:"middle",verticalAnchor:Et},Tt):rt==="insideBottom"?_objectSpread$i({x:dt+ct/2,y:at+ot-vt,horizontalAnchor:"middle",verticalAnchor:gt},Tt):rt==="insideTopLeft"?_objectSpread$i({x:ut+kt,y:at+vt,horizontalAnchor:St,verticalAnchor:Et},Tt):rt==="insideTopRight"?_objectSpread$i({x:ut+lt-kt,y:at+vt,horizontalAnchor:Rt,verticalAnchor:Et},Tt):rt==="insideBottomLeft"?_objectSpread$i({x:dt+kt,y:at+ot-vt,horizontalAnchor:St,verticalAnchor:gt},Tt):rt==="insideBottomRight"?_objectSpread$i({x:dt+ct-kt,y:at+ot-vt,horizontalAnchor:Rt,verticalAnchor:gt},Tt):rt&&typeof rt=="object"&&(isNumber$1(rt.x)||isPercent(rt.x))&&(isNumber$1(rt.y)||isPercent(rt.y))?_objectSpread$i({x:it+getPercentValue(rt.x,mt),y:at+getPercentValue(rt.y,ot),horizontalAnchor:"end",verticalAnchor:"end"},Tt):_objectSpread$i({x:xt,y:at+ot/2,horizontalAnchor:"middle",verticalAnchor:"middle"},Tt)},_excluded$i=["labelRef"],_excluded2$8=["content"];function _objectWithoutProperties$h(_e,et){if(_e==null)return{};var rt,nt,st=_objectWithoutPropertiesLoose$h(_e,et);if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(_e);for(nt=0;nt<it.length;nt++)rt=it[nt],et.indexOf(rt)===-1&&{}.propertyIsEnumerable.call(_e,rt)&&(st[rt]=_e[rt])}return st}function _objectWithoutPropertiesLoose$h(_e,et){if(_e==null)return{};var rt={};for(var nt in _e)if({}.hasOwnProperty.call(_e,nt)){if(et.indexOf(nt)!==-1)continue;rt[nt]=_e[nt]}return rt}function ownKeys$i(_e,et){var rt=Object.keys(_e);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);et&&(nt=nt.filter(function(st){return Object.getOwnPropertyDescriptor(_e,st).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$h(_e){for(var et=1;et<arguments.length;et++){var rt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$i(Object(rt),!0).forEach(function(nt){_defineProperty$i(_e,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(rt)):ownKeys$i(Object(rt)).forEach(function(nt){Object.defineProperty(_e,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return _e}function _defineProperty$i(_e,et,rt){return(et=_toPropertyKey$i(et))in _e?Object.defineProperty(_e,et,{value:rt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=rt,_e}function _toPropertyKey$i(_e){var et=_toPrimitive$i(_e,"string");return typeof et=="symbol"?et:et+""}function _toPrimitive$i(_e,et){if(typeof _e!="object"||!_e)return _e;var rt=_e[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(_e,et);if(typeof nt!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(_e)}function _extends$h(){return _extends$h=Object.assign?Object.assign.bind():function(_e){for(var et=1;et<arguments.length;et++){var rt=arguments[et];for(var nt in rt)({}).hasOwnProperty.call(rt,nt)&&(_e[nt]=rt[nt])}return _e},_extends$h.apply(null,arguments)}var CartesianLabelContext=reactExports.createContext(null),CartesianLabelContextProvider=_e=>{var{x:et,y:rt,upperWidth:nt,lowerWidth:st,width:it,height:at,children:ot}=_e,lt=reactExports.useMemo(()=>({x:et,y:rt,upperWidth:nt,lowerWidth:st,width:it,height:at}),[et,rt,nt,st,it,at]);return reactExports.createElement(CartesianLabelContext.Provider,{value:lt},ot)},useCartesianLabelContext=()=>{var _e=reactExports.useContext(CartesianLabelContext),et=useViewBox();return _e||(et?cartesianViewBoxToTrapezoid(et):void 0)},PolarLabelContext=reactExports.createContext(null),usePolarLabelContext=()=>{var _e=reactExports.useContext(PolarLabelContext),et=useAppSelector(selectPolarViewBox);return _e||et},getLabel=_e=>{var{value:et,formatter:rt}=_e,nt=isNullish(_e.children)?et:_e.children;return typeof rt=="function"?rt(nt):nt},isLabelContentAFunction=_e=>_e!=null&&typeof _e=="function",getDeltaAngle=(_e,et)=>{var rt=mathSign(et-_e),nt=Math.min(Math.abs(et-_e),360);return rt*nt},renderRadialLabel=(_e,et,rt,nt,st)=>{var{offset:it,className:at}=_e,{cx:ot,cy:lt,innerRadius:ct,outerRadius:ut,startAngle:dt,endAngle:pt,clockWise:mt}=st,xt=(ct+ut)/2,yt=getDeltaAngle(dt,pt),vt=yt>=0?1:-1,gt,Et;switch(et){case"insideStart":gt=dt+vt*it,Et=mt;break;case"insideEnd":gt=pt-vt*it,Et=!mt;break;case"end":gt=pt+vt*it,Et=mt;break;default:throw new Error("Unsupported position ".concat(et))}Et=yt<=0?Et:!Et;var jt=polarToCartesian(ot,lt,xt,gt),kt=polarToCartesian(ot,lt,xt,gt+(Et?1:-1)*359),Rt="M".concat(jt.x,",").concat(jt.y,`
    A`).concat(xt,",").concat(xt,",0,1,").concat(Et?0:1,`,
    `).concat(kt.x,",").concat(kt.y),St=isNullish(_e.id)?uniqueId("recharts-radial-line-"):_e.id;return reactExports.createElement("text",_extends$h({},nt,{dominantBaseline:"central",className:clsx("recharts-radial-bar-label",at)}),reactExports.createElement("defs",null,reactExports.createElement("path",{id:St,d:Rt})),reactExports.createElement("textPath",{xlinkHref:"#".concat(St)},rt))},getAttrsOfPolarLabel=(_e,et,rt)=>{var{cx:nt,cy:st,innerRadius:it,outerRadius:at,startAngle:ot,endAngle:lt}=_e,ct=(ot+lt)/2;if(rt==="outside"){var{x:ut,y:dt}=polarToCartesian(nt,st,at+et,ct);return{x:ut,y:dt,textAnchor:ut>=nt?"start":"end",verticalAnchor:"middle"}}if(rt==="center")return{x:nt,y:st,textAnchor:"middle",verticalAnchor:"middle"};if(rt==="centerTop")return{x:nt,y:st,textAnchor:"middle",verticalAnchor:"start"};if(rt==="centerBottom")return{x:nt,y:st,textAnchor:"middle",verticalAnchor:"end"};var pt=(it+at)/2,{x:mt,y:xt}=polarToCartesian(nt,st,pt,ct);return{x:mt,y:xt,textAnchor:"middle",verticalAnchor:"middle"}},isPolar=_e=>_e!=null&&"cx"in _e&&isNumber$1(_e.cx),defaultLabelProps={angle:0,offset:5,zIndex:DefaultZIndexes.label,position:"middle",textBreakAll:!1};function polarViewBoxToTrapezoid(_e){if(!isPolar(_e))return _e;var{cx:et,cy:rt,outerRadius:nt}=_e,st=nt*2;return{x:et-nt,y:rt-nt,width:st,upperWidth:st,lowerWidth:st,height:st}}function Label(_e){var et=resolveDefaultProps(_e,defaultLabelProps),{viewBox:rt,parentViewBox:nt,position:st,value:it,children:at,content:ot,className:lt="",textBreakAll:ct,labelRef:ut}=et,dt=usePolarLabelContext(),pt=useCartesianLabelContext(),mt=st==="center"?pt:dt??pt,xt,yt,vt;rt==null?xt=mt:isPolar(rt)?xt=rt:xt=cartesianViewBoxToTrapezoid(rt);var gt=polarViewBoxToTrapezoid(xt);if(!xt||isNullish(it)&&isNullish(at)&&!reactExports.isValidElement(ot)&&typeof ot!="function")return null;var Et=_objectSpread$h(_objectSpread$h({},et),{},{viewBox:xt});if(reactExports.isValidElement(ot)){var{labelRef:jt}=Et,kt=_objectWithoutProperties$h(Et,_excluded$i);return reactExports.cloneElement(ot,kt)}if(typeof ot=="function"){var{content:Rt}=Et,St=_objectWithoutProperties$h(Et,_excluded2$8);if(yt=reactExports.createElement(ot,St),reactExports.isValidElement(yt))return yt}else yt=getLabel(et);var _t=svgPropertiesAndEvents(et);if(isPolar(xt)){if(st==="insideStart"||st==="insideEnd"||st==="end")return renderRadialLabel(et,st,yt,_t,xt);vt=getAttrsOfPolarLabel(xt,et.offset,et.position)}else{if(!gt)return null;var Nt=getCartesianPosition({viewBox:gt,position:st,offset:et.offset,parentViewBox:isPolar(nt)?void 0:nt});vt=_objectSpread$h(_objectSpread$h({x:Nt.x,y:Nt.y,textAnchor:Nt.horizontalAnchor,verticalAnchor:Nt.verticalAnchor},Nt.width!==void 0?{width:Nt.width}:{}),Nt.height!==void 0?{height:Nt.height}:{})}return reactExports.createElement(ZIndexLayer,{zIndex:et.zIndex},reactExports.createElement(Text$2,_extends$h({ref:ut,className:clsx("recharts-label",lt)},_t,vt,{textAnchor:isValidTextAnchor(_t.textAnchor)?_t.textAnchor:vt.textAnchor,breakAll:ct}),yt))}Label.displayName="Label";var parseLabel=(_e,et,rt)=>{if(!_e)return null;var nt={viewBox:et,labelRef:rt};return _e===!0?reactExports.createElement(Label,_extends$h({key:"label-implicit"},nt)):isNumOrStr(_e)?reactExports.createElement(Label,_extends$h({key:"label-implicit",value:_e},nt)):reactExports.isValidElement(_e)?_e.type===Label?reactExports.cloneElement(_e,_objectSpread$h({key:"label-implicit"},nt)):reactExports.createElement(Label,_extends$h({key:"label-implicit",content:_e},nt)):isLabelContentAFunction(_e)?reactExports.createElement(Label,_extends$h({key:"label-implicit",content:_e},nt)):_e&&typeof _e=="object"?reactExports.createElement(Label,_extends$h({},_e,{key:"label-implicit"},nt)):null};function CartesianLabelFromLabelProp(_e){var{label:et,labelRef:rt}=_e,nt=useCartesianLabelContext();return parseLabel(et,nt,rt)||null}var last$3={},last$2={};(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});function et(rt){return rt[rt.length-1]}_e.last=et})(last$2);var toArray$1={};(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});function et(rt){return Array.isArray(rt)?rt:Array.from(rt)}_e.toArray=et})(toArray$1);(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});const et=last$2,rt=toArray$1,nt=isArrayLike;function st(it){if(nt.isArrayLike(it))return et.last(rt.toArray(it))}_e.last=st})(last$3);var last=last$3.last;const last$1=getDefaultExportFromCjs(last);var _excluded$h=["valueAccessor"],_excluded2$7=["dataKey","clockWise","id","textBreakAll","zIndex"];function _extends$g(){return _extends$g=Object.assign?Object.assign.bind():function(_e){for(var et=1;et<arguments.length;et++){var rt=arguments[et];for(var nt in rt)({}).hasOwnProperty.call(rt,nt)&&(_e[nt]=rt[nt])}return _e},_extends$g.apply(null,arguments)}function _objectWithoutProperties$g(_e,et){if(_e==null)return{};var rt,nt,st=_objectWithoutPropertiesLoose$g(_e,et);if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(_e);for(nt=0;nt<it.length;nt++)rt=it[nt],et.indexOf(rt)===-1&&{}.propertyIsEnumerable.call(_e,rt)&&(st[rt]=_e[rt])}return st}function _objectWithoutPropertiesLoose$g(_e,et){if(_e==null)return{};var rt={};for(var nt in _e)if({}.hasOwnProperty.call(_e,nt)){if(et.indexOf(nt)!==-1)continue;rt[nt]=_e[nt]}return rt}var defaultAccessor=_e=>Array.isArray(_e.value)?last$1(_e.value):_e.value,CartesianLabelListContext=reactExports.createContext(void 0),CartesianLabelListContextProvider=CartesianLabelListContext.Provider,PolarLabelListContext=reactExports.createContext(void 0),PolarLabelListContextProvider=PolarLabelListContext.Provider;function useCartesianLabelListContext(){return reactExports.useContext(CartesianLabelListContext)}function usePolarLabelListContext(){return reactExports.useContext(PolarLabelListContext)}function LabelList(_e){var{valueAccessor:et=defaultAccessor}=_e,rt=_objectWithoutProperties$g(_e,_excluded$h),{dataKey:nt,clockWise:st,id:it,textBreakAll:at,zIndex:ot}=rt,lt=_objectWithoutProperties$g(rt,_excluded2$7),ct=useCartesianLabelListContext(),ut=usePolarLabelListContext(),dt=ct||ut;return!dt||!dt.length?null:reactExports.createElement(ZIndexLayer,{zIndex:ot??DefaultZIndexes.label},reactExports.createElement(Layer,{className:"recharts-label-list"},dt.map((pt,mt)=>{var xt,yt=isNullish(nt)?et(pt,mt):getValueByDataKey(pt.payload,nt),vt=isNullish(it)?{}:{id:"".concat(it,"-").concat(mt)};return reactExports.createElement(Label,_extends$g({key:"label-".concat(mt)},svgPropertiesAndEvents(pt),lt,vt,{fill:(xt=rt.fill)!==null&&xt!==void 0?xt:pt.fill,parentViewBox:pt.parentViewBox,value:yt,textBreakAll:at,viewBox:pt.viewBox,index:mt,zIndex:0}))})))}LabelList.displayName="LabelList";function LabelListFromLabelProp(_e){var{label:et}=_e;return et?et===!0?reactExports.createElement(LabelList,{key:"labelList-implicit"}):reactExports.isValidElement(et)||isLabelContentAFunction(et)?reactExports.createElement(LabelList,{key:"labelList-implicit",content:et}):typeof et=="object"?reactExports.createElement(LabelList,_extends$g({key:"labelList-implicit"},et,{type:String(et.type)})):null:null}function _extends$f(){return _extends$f=Object.assign?Object.assign.bind():function(_e){for(var et=1;et<arguments.length;et++){var rt=arguments[et];for(var nt in rt)({}).hasOwnProperty.call(rt,nt)&&(_e[nt]=rt[nt])}return _e},_extends$f.apply(null,arguments)}var Dot=_e=>{var{cx:et,cy:rt,r:nt,className:st}=_e,it=clsx("recharts-dot",st);return isNumber$1(et)&&isNumber$1(rt)&&isNumber$1(nt)?reactExports.createElement("circle",_extends$f({},svgPropertiesNoEvents(_e),adaptEventHandlers(_e),{className:it,cx:et,cy:rt,r:nt})):null},selectUnfilteredPolarItems=_e=>_e.graphicalItems.polarItems,selectAxisPredicate=createSelector([pickAxisType,pickAxisId],itemAxisPredicate),selectPolarItemsSettings=createSelector([selectUnfilteredPolarItems,selectBaseAxis,selectAxisPredicate],combineGraphicalItemsSettings),selectPolarGraphicalItemsData=createSelector([selectPolarItemsSettings],combineGraphicalItemsData),selectPolarDisplayedData=createSelector([selectPolarGraphicalItemsData,selectChartDataAndAlwaysIgnoreIndexes],combineDisplayedData),selectPolarAppliedValues=createSelector([selectPolarDisplayedData,selectBaseAxis,selectPolarItemsSettings],combineAppliedValues);createSelector([selectPolarDisplayedData,selectBaseAxis,selectPolarItemsSettings],(_e,et,rt)=>rt.length>0?_e.flatMap(nt=>rt.flatMap(st=>{var it,at=getValueByDataKey(nt,(it=et.dataKey)!==null&&it!==void 0?it:st.dataKey);return{value:at,errorDomain:[]}})).filter(Boolean):(et==null?void 0:et.dataKey)!=null?_e.map(nt=>({value:getValueByDataKey(nt,et.dataKey),errorDomain:[]})):_e.map(nt=>({value:nt,errorDomain:[]})));var unsupportedInPolarChart=()=>{},selectDomainOfAllPolarAppliedNumericalValues=createSelector([selectPolarDisplayedData,selectBaseAxis,selectPolarItemsSettings,selectAllErrorBarSettings,pickAxisType],combineDomainOfAllAppliedNumericalValuesIncludingErrorValues),selectPolarNumericalDomain=createSelector([selectBaseAxis,selectDomainDefinition,selectDomainFromUserPreference,unsupportedInPolarChart,selectDomainOfAllPolarAppliedNumericalValues,unsupportedInPolarChart,selectChartLayout,pickAxisType],combineNumericalDomain),selectPolarAxisDomain=createSelector([selectBaseAxis,selectChartLayout,selectPolarDisplayedData,selectPolarAppliedValues,selectStackOffsetType,pickAxisType,selectPolarNumericalDomain],combineAxisDomain),selectPolarNiceTicks=createSelector([selectPolarAxisDomain,selectRenderableAxisSettings,selectRealScaleType],combineNiceTicks),selectPolarAxisDomainIncludingNiceTicks=createSelector([selectBaseAxis,selectPolarAxisDomain,selectPolarNiceTicks,pickAxisType],combineAxisDomainWithNiceTicks);createSelector([selectRealScaleType,selectPolarAxisDomainIncludingNiceTicks],combineCheckedDomain);var initialState$7={radiusAxis:{},angleAxis:{}},polarAxisSlice=createSlice({name:"polarAxis",initialState:initialState$7,reducers:{addRadiusAxis(_e,et){_e.radiusAxis[et.payload.id]=et.payload},removeRadiusAxis(_e,et){delete _e.radiusAxis[et.payload.id]},addAngleAxis(_e,et){_e.angleAxis[et.payload.id]=et.payload},removeAngleAxis(_e,et){delete _e.angleAxis[et.payload.id]}}}),{addRadiusAxis,removeRadiusAxis,addAngleAxis,removeAngleAxis}=polarAxisSlice.actions,polarAxisReducer=polarAxisSlice.reducer;function getClassNameFromUnknown(_e){return _e&&typeof _e=="object"&&"className"in _e&&typeof _e.className=="string"?_e.className:""}function ownKeys$h(_e,et){var rt=Object.keys(_e);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);et&&(nt=nt.filter(function(st){return Object.getOwnPropertyDescriptor(_e,st).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$g(_e){for(var et=1;et<arguments.length;et++){var rt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$h(Object(rt),!0).forEach(function(nt){_defineProperty$h(_e,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(rt)):ownKeys$h(Object(rt)).forEach(function(nt){Object.defineProperty(_e,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return _e}function _defineProperty$h(_e,et,rt){return(et=_toPropertyKey$h(et))in _e?Object.defineProperty(_e,et,{value:rt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=rt,_e}function _toPropertyKey$h(_e){var et=_toPrimitive$h(_e,"string");return typeof et=="symbol"?et:et+""}function _toPrimitive$h(_e,et){if(typeof _e!="object"||!_e)return _e;var rt=_e[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(_e,et);if(typeof nt!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(_e)}var pickId=(_e,et)=>et,selectSynchronisedPieSettings=createSelector([selectUnfilteredPolarItems,pickId],(_e,et)=>_e.filter(rt=>rt.type==="pie").find(rt=>rt.id===et)),emptyArray=[],pickCells$1=(_e,et,rt)=>(rt==null?void 0:rt.length)===0?emptyArray:rt,selectDisplayedData=createSelector([selectChartDataAndAlwaysIgnoreIndexes,selectSynchronisedPieSettings,pickCells$1],(_e,et,rt)=>{var{chartData:nt}=_e;if(et!=null){var st;if((et==null?void 0:et.data)!=null&&et.data.length>0?st=et.data:st=nt,(!st||!st.length)&&rt!=null&&(st=rt.map(it=>_objectSpread$g(_objectSpread$g({},et.presentationProps),it.props))),st!=null)return st}}),selectPieLegend=createSelector([selectDisplayedData,selectSynchronisedPieSettings,pickCells$1],(_e,et,rt)=>{if(!(_e==null||et==null))return _e.map((nt,st)=>{var it,at=getValueByDataKey(nt,et.nameKey,et.name),ot;return rt!=null&&(it=rt[st])!==null&&it!==void 0&&(it=it.props)!==null&&it!==void 0&&it.fill?ot=rt[st].props.fill:typeof nt=="object"&&nt!=null&&"fill"in nt?ot=nt.fill:ot=et.fill,{value:getTooltipNameProp(at,et.dataKey),color:ot,payload:nt,type:et.legendType}})}),selectPieSectors=createSelector([selectDisplayedData,selectSynchronisedPieSettings,pickCells$1,selectChartOffsetInternal],(_e,et,rt,nt)=>{if(!(et==null||_e==null))return computePieSectors({offset:nt,pieSettings:et,displayedData:_e,cells:rt})}),reactIs={exports:{}},reactIs_production_min={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b$2=Symbol.for("react.element"),c$6=Symbol.for("react.portal"),d$4=Symbol.for("react.fragment"),e$4=Symbol.for("react.strict_mode"),f$7=Symbol.for("react.profiler"),g$1=Symbol.for("react.provider"),h$6=Symbol.for("react.context"),k$2=Symbol.for("react.server_context"),l$5=Symbol.for("react.forward_ref"),m$4=Symbol.for("react.suspense"),n$7=Symbol.for("react.suspense_list"),p$4=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),t$5=Symbol.for("react.offscreen"),u$8;u$8=Symbol.for("react.module.reference");function v$3(_e){if(typeof _e=="object"&&_e!==null){var et=_e.$$typeof;switch(et){case b$2:switch(_e=_e.type,_e){case d$4:case f$7:case e$4:case m$4:case n$7:return _e;default:switch(_e=_e&&_e.$$typeof,_e){case k$2:case h$6:case l$5:case q:case p$4:case g$1:return _e;default:return et}}case c$6:return et}}}reactIs_production_min.ContextConsumer=h$6;reactIs_production_min.ContextProvider=g$1;reactIs_production_min.Element=b$2;reactIs_production_min.ForwardRef=l$5;reactIs_production_min.Fragment=d$4;reactIs_production_min.Lazy=q;reactIs_production_min.Memo=p$4;reactIs_production_min.Portal=c$6;reactIs_production_min.Profiler=f$7;reactIs_production_min.StrictMode=e$4;reactIs_production_min.Suspense=m$4;reactIs_production_min.SuspenseList=n$7;reactIs_production_min.isAsyncMode=function(){return!1};reactIs_production_min.isConcurrentMode=function(){return!1};reactIs_production_min.isContextConsumer=function(_e){return v$3(_e)===h$6};reactIs_production_min.isContextProvider=function(_e){return v$3(_e)===g$1};reactIs_production_min.isElement=function(_e){return typeof _e=="object"&&_e!==null&&_e.$$typeof===b$2};reactIs_production_min.isForwardRef=function(_e){return v$3(_e)===l$5};reactIs_production_min.isFragment=function(_e){return v$3(_e)===d$4};reactIs_production_min.isLazy=function(_e){return v$3(_e)===q};reactIs_production_min.isMemo=function(_e){return v$3(_e)===p$4};reactIs_production_min.isPortal=function(_e){return v$3(_e)===c$6};reactIs_production_min.isProfiler=function(_e){return v$3(_e)===f$7};reactIs_production_min.isStrictMode=function(_e){return v$3(_e)===e$4};reactIs_production_min.isSuspense=function(_e){return v$3(_e)===m$4};reactIs_production_min.isSuspenseList=function(_e){return v$3(_e)===n$7};reactIs_production_min.isValidElementType=function(_e){return typeof _e=="string"||typeof _e=="function"||_e===d$4||_e===f$7||_e===e$4||_e===m$4||_e===n$7||_e===t$5||typeof _e=="object"&&_e!==null&&(_e.$$typeof===q||_e.$$typeof===p$4||_e.$$typeof===g$1||_e.$$typeof===h$6||_e.$$typeof===l$5||_e.$$typeof===u$8||_e.getModuleId!==void 0)};reactIs_production_min.typeOf=v$3;reactIs.exports=reactIs_production_min;var reactIsExports=reactIs.exports,getDisplayName=_e=>typeof _e=="string"?_e:_e?_e.displayName||_e.name||"Component":"",lastChildren=null,lastResult=null,toArray=_e=>{if(_e===lastChildren&&Array.isArray(lastResult))return lastResult;var et=[];return reactExports.Children.forEach(_e,rt=>{isNullish(rt)||(reactIsExports.isFragment(rt)?et=et.concat(toArray(rt.props.children)):et.push(rt))}),lastResult=et,lastChildren=_e,et};function findAllByType(_e,et){var rt=[],nt=[];return Array.isArray(et)?nt=et.map(st=>getDisplayName(st)):nt=[getDisplayName(et)],toArray(_e).forEach(st=>{var it=get$3(st,"type.displayName")||get$3(st,"type.name");it&&nt.indexOf(it)!==-1&&rt.push(st)}),rt}var isClipDot=_e=>_e&&typeof _e=="object"&&"clipDot"in _e?!!_e.clipDot:!0,isPlainObject$4={};(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});function et(rt){var st;if(typeof rt!="object"||rt==null)return!1;if(Object.getPrototypeOf(rt)===null)return!0;if(Object.prototype.toString.call(rt)!=="[object Object]"){const it=rt[Symbol.toStringTag];return it==null||!((st=Object.getOwnPropertyDescriptor(rt,Symbol.toStringTag))!=null&&st.writable)?!1:rt.toString()===`[object ${it}]`}let nt=rt;for(;Object.getPrototypeOf(nt)!==null;)nt=Object.getPrototypeOf(nt);return Object.getPrototypeOf(rt)===nt}_e.isPlainObject=et})(isPlainObject$4);var isPlainObject$2=isPlainObject$4.isPlainObject;const isPlainObject$3=getDefaultExportFromCjs(isPlainObject$2);var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5;function ownKeys$g(_e,et){var rt=Object.keys(_e);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);et&&(nt=nt.filter(function(st){return Object.getOwnPropertyDescriptor(_e,st).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$f(_e){for(var et=1;et<arguments.length;et++){var rt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$g(Object(rt),!0).forEach(function(nt){_defineProperty$g(_e,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(rt)):ownKeys$g(Object(rt)).forEach(function(nt){Object.defineProperty(_e,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return _e}function _defineProperty$g(_e,et,rt){return(et=_toPropertyKey$g(et))in _e?Object.defineProperty(_e,et,{value:rt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=rt,_e}function _toPropertyKey$g(_e){var et=_toPrimitive$g(_e,"string");return typeof et=="symbol"?et:et+""}function _toPrimitive$g(_e,et){if(typeof _e!="object"||!_e)return _e;var rt=_e[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(_e,et);if(typeof nt!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(_e)}function _extends$e(){return _extends$e=Object.assign?Object.assign.bind():function(_e){for(var et=1;et<arguments.length;et++){var rt=arguments[et];for(var nt in rt)({}).hasOwnProperty.call(rt,nt)&&(_e[nt]=rt[nt])}return _e},_extends$e.apply(null,arguments)}function _taggedTemplateLiteral(_e,et){return et||(et=_e.slice(0)),Object.freeze(Object.defineProperties(_e,{raw:{value:Object.freeze(et)}}))}var getTrapezoidPath=(_e,et,rt,nt,st)=>{var it=rt-nt,at;return at=roundTemplateLiteral(_templateObject||(_templateObject=_taggedTemplateLiteral(["M ",",",""])),_e,et),at+=roundTemplateLiteral(_templateObject2||(_templateObject2=_taggedTemplateLiteral(["L ",",",""])),_e+rt,et),at+=roundTemplateLiteral(_templateObject3||(_templateObject3=_taggedTemplateLiteral(["L ",",",""])),_e+rt-it/2,et+st),at+=roundTemplateLiteral(_templateObject4||(_templateObject4=_taggedTemplateLiteral(["L ",",",""])),_e+rt-it/2-nt,et+st),at+=roundTemplateLiteral(_templateObject5||(_templateObject5=_taggedTemplateLiteral(["L ",","," Z"])),_e,et),at},defaultTrapezoidProps={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Trapezoid=_e=>{var et=resolveDefaultProps(_e,defaultTrapezoidProps),{x:rt,y:nt,upperWidth:st,lowerWidth:it,height:at,className:ot}=et,{animationEasing:lt,animationDuration:ct,animationBegin:ut,isUpdateAnimationActive:dt}=et,pt=reactExports.useRef(null),[mt,xt]=reactExports.useState(-1),yt=reactExports.useRef(st),vt=reactExports.useRef(it),gt=reactExports.useRef(at),Et=reactExports.useRef(rt),jt=reactExports.useRef(nt),kt=useAnimationId(_e,"trapezoid-");if(reactExports.useEffect(()=>{if(pt.current&&pt.current.getTotalLength)try{var Wt=pt.current.getTotalLength();Wt&&xt(Wt)}catch{}},[]),rt!==+rt||nt!==+nt||st!==+st||it!==+it||at!==+at||st===0&&it===0||at===0)return null;var Rt=clsx("recharts-trapezoid",ot);if(!dt)return reactExports.createElement("g",null,reactExports.createElement("path",_extends$e({},svgPropertiesAndEvents(et),{className:Rt,d:getTrapezoidPath(rt,nt,st,it,at)})));var St=yt.current,_t=vt.current,Nt=gt.current,Lt=Et.current,$t=jt.current,Ft="0px ".concat(mt===-1?1:mt,"px"),Tt="".concat(mt,"px 0px"),Bt=getTransitionVal(["strokeDasharray"],ct,lt);return reactExports.createElement(JavascriptAnimate,{animationId:kt,key:kt,canBegin:mt>0,duration:ct,easing:lt,isActive:dt,begin:ut},Wt=>{var qt=interpolate$1(St,st,Wt),Ot=interpolate$1(_t,it,Wt),Dt=interpolate$1(Nt,at,Wt),Pt=interpolate$1(Lt,rt,Wt),It=interpolate$1($t,nt,Wt);pt.current&&(yt.current=qt,vt.current=Ot,gt.current=Dt,Et.current=Pt,jt.current=It);var At=Wt>0?{transition:Bt,strokeDasharray:Tt}:{strokeDasharray:Ft};return reactExports.createElement("path",_extends$e({},svgPropertiesAndEvents(et),{className:Rt,d:getTrapezoidPath(Pt,It,qt,Ot,Dt),ref:pt,style:_objectSpread$f(_objectSpread$f({},At),et.style)}))})},_excluded$g=["option","shapeType","activeClassName"];function _objectWithoutProperties$f(_e,et){if(_e==null)return{};var rt,nt,st=_objectWithoutPropertiesLoose$f(_e,et);if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(_e);for(nt=0;nt<it.length;nt++)rt=it[nt],et.indexOf(rt)===-1&&{}.propertyIsEnumerable.call(_e,rt)&&(st[rt]=_e[rt])}return st}function _objectWithoutPropertiesLoose$f(_e,et){if(_e==null)return{};var rt={};for(var nt in _e)if({}.hasOwnProperty.call(_e,nt)){if(et.indexOf(nt)!==-1)continue;rt[nt]=_e[nt]}return rt}function ownKeys$f(_e,et){var rt=Object.keys(_e);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);et&&(nt=nt.filter(function(st){return Object.getOwnPropertyDescriptor(_e,st).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$e(_e){for(var et=1;et<arguments.length;et++){var rt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$f(Object(rt),!0).forEach(function(nt){_defineProperty$f(_e,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(rt)):ownKeys$f(Object(rt)).forEach(function(nt){Object.defineProperty(_e,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return _e}function _defineProperty$f(_e,et,rt){return(et=_toPropertyKey$f(et))in _e?Object.defineProperty(_e,et,{value:rt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=rt,_e}function _toPropertyKey$f(_e){var et=_toPrimitive$f(_e,"string");return typeof et=="symbol"?et:et+""}function _toPrimitive$f(_e,et){if(typeof _e!="object"||!_e)return _e;var rt=_e[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(_e,et);if(typeof nt!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(_e)}function defaultPropTransformer(_e,et){return _objectSpread$e(_objectSpread$e({},et),_e)}function isSymbolsProps(_e,et){return _e==="symbols"}function ShapeSelector(_e){var{shapeType:et,elementProps:rt}=_e;switch(et){case"rectangle":return reactExports.createElement(Rectangle,rt);case"trapezoid":return reactExports.createElement(Trapezoid,rt);case"sector":return reactExports.createElement(Sector,rt);case"symbols":if(isSymbolsProps(et))return reactExports.createElement(Symbols,rt);break;case"curve":return reactExports.createElement(Curve,rt);default:return null}}function getPropsFromShapeOption(_e){return reactExports.isValidElement(_e)?_e.props:_e}function Shape(_e){var{option:et,shapeType:rt,activeClassName:nt="recharts-active-shape"}=_e,st=_objectWithoutProperties$f(_e,_excluded$g),it;if(reactExports.isValidElement(et))it=reactExports.cloneElement(et,_objectSpread$e(_objectSpread$e({},st),getPropsFromShapeOption(et)));else if(typeof et=="function")it=et(st,st.index);else if(isPlainObject$3(et)&&typeof et!="boolean"){var at=defaultPropTransformer(et,st);it=reactExports.createElement(ShapeSelector,{shapeType:rt,elementProps:at})}else{var ot=st;it=reactExports.createElement(ShapeSelector,{shapeType:rt,elementProps:ot})}return st.isActive?reactExports.createElement(Layer,{className:nt},it):it}var useMouseEnterItemDispatch=(_e,et,rt)=>{var nt=useAppDispatch();return(st,it)=>at=>{_e==null||_e(st,it,at),nt(setActiveMouseOverItemIndex({activeIndex:String(it),activeDataKey:et,activeCoordinate:st.tooltipPosition,activeGraphicalItemId:rt}))}},useMouseLeaveItemDispatch=_e=>{var et=useAppDispatch();return(rt,nt)=>st=>{_e==null||_e(rt,nt,st),et(mouseLeaveItem())}},useMouseClickItemDispatch=(_e,et,rt)=>{var nt=useAppDispatch();return(st,it)=>at=>{_e==null||_e(st,it,at),nt(setActiveClickItemIndex({activeIndex:String(it),activeDataKey:et,activeCoordinate:st.tooltipPosition,activeGraphicalItemId:rt}))}};function SetTooltipEntrySettings(_e){var{tooltipEntrySettings:et}=_e,rt=useAppDispatch(),nt=useIsPanorama(),st=reactExports.useRef(null);return reactExports.useLayoutEffect(()=>{nt||(st.current===null?rt(addTooltipEntrySettings(et)):st.current!==et&&rt(replaceTooltipEntrySettings({prev:st.current,next:et})),st.current=et)},[et,rt,nt]),reactExports.useLayoutEffect(()=>()=>{st.current&&(rt(removeTooltipEntrySettings(st.current)),st.current=null)},[rt]),null}function SetLegendPayload(_e){var{legendPayload:et}=_e,rt=useAppDispatch(),nt=useIsPanorama(),st=reactExports.useRef(null);return reactExports.useLayoutEffect(()=>{nt||(st.current===null?rt(addLegendPayload(et)):st.current!==et&&rt(replaceLegendPayload({prev:st.current,next:et})),st.current=et)},[rt,nt,et]),reactExports.useLayoutEffect(()=>()=>{st.current&&(rt(removeLegendPayload(st.current)),st.current=null)},[rt]),null}function SetPolarLegendPayload(_e){var{legendPayload:et}=_e,rt=useAppDispatch(),nt=useAppSelector(selectChartLayout),st=reactExports.useRef(null);return reactExports.useLayoutEffect(()=>{nt!=="centric"&&nt!=="radial"||(st.current===null?rt(addLegendPayload(et)):st.current!==et&&rt(replaceLegendPayload({prev:st.current,next:et})),st.current=et)},[rt,nt,et]),reactExports.useLayoutEffect(()=>()=>{st.current&&(rt(removeLegendPayload(st.current)),st.current=null)},[rt]),null}var _ref,useIdFallback=()=>{var[_e]=reactExports.useState(()=>uniqueId("uid-"));return _e},useId=(_ref=t$7.useId)!==null&&_ref!==void 0?_ref:useIdFallback;function useUniqueId(_e,et){var rt=useId();return et||(_e?"".concat(_e,"-").concat(rt):rt)}var GraphicalItemIdContext=reactExports.createContext(void 0),RegisterGraphicalItemId=_e=>{var{id:et,type:rt,children:nt}=_e,st=useUniqueId("recharts-".concat(rt),et);return reactExports.createElement(GraphicalItemIdContext.Provider,{value:st},nt(st))},initialState$6={cartesianItems:[],polarItems:[]},graphicalItemsSlice=createSlice({name:"graphicalItems",initialState:initialState$6,reducers:{addCartesianGraphicalItem:{reducer(_e,et){_e.cartesianItems.push(et.payload)},prepare:prepareAutoBatched()},replaceCartesianGraphicalItem:{reducer(_e,et){var{prev:rt,next:nt}=et.payload,st=current$1(_e).cartesianItems.indexOf(rt);st>-1&&(_e.cartesianItems[st]=nt)},prepare:prepareAutoBatched()},removeCartesianGraphicalItem:{reducer(_e,et){var rt=current$1(_e).cartesianItems.indexOf(et.payload);rt>-1&&_e.cartesianItems.splice(rt,1)},prepare:prepareAutoBatched()},addPolarGraphicalItem:{reducer(_e,et){_e.polarItems.push(et.payload)},prepare:prepareAutoBatched()},removePolarGraphicalItem:{reducer(_e,et){var rt=current$1(_e).polarItems.indexOf(et.payload);rt>-1&&_e.polarItems.splice(rt,1)},prepare:prepareAutoBatched()}}}),{addCartesianGraphicalItem,replaceCartesianGraphicalItem,removeCartesianGraphicalItem,addPolarGraphicalItem,removePolarGraphicalItem}=graphicalItemsSlice.actions,graphicalItemsReducer=graphicalItemsSlice.reducer,SetCartesianGraphicalItemImpl=_e=>{var et=useAppDispatch(),rt=reactExports.useRef(null);return reactExports.useLayoutEffect(()=>{rt.current===null?et(addCartesianGraphicalItem(_e)):rt.current!==_e&&et(replaceCartesianGraphicalItem({prev:rt.current,next:_e})),rt.current=_e},[et,_e]),reactExports.useLayoutEffect(()=>()=>{rt.current&&(et(removeCartesianGraphicalItem(rt.current)),rt.current=null)},[et]),null},SetCartesianGraphicalItem=reactExports.memo(SetCartesianGraphicalItemImpl);function SetPolarGraphicalItem(_e){var et=useAppDispatch();return reactExports.useLayoutEffect(()=>(et(addPolarGraphicalItem(_e)),()=>{et(removePolarGraphicalItem(_e))}),[et,_e]),null}var _excluded$f=["key"],_excluded2$6=["onMouseEnter","onClick","onMouseLeave"],_excluded3$4=["id"],_excluded4$2=["id"];function ownKeys$e(_e,et){var rt=Object.keys(_e);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);et&&(nt=nt.filter(function(st){return Object.getOwnPropertyDescriptor(_e,st).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$d(_e){for(var et=1;et<arguments.length;et++){var rt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$e(Object(rt),!0).forEach(function(nt){_defineProperty$e(_e,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(rt)):ownKeys$e(Object(rt)).forEach(function(nt){Object.defineProperty(_e,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return _e}function _defineProperty$e(_e,et,rt){return(et=_toPropertyKey$e(et))in _e?Object.defineProperty(_e,et,{value:rt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=rt,_e}function _toPropertyKey$e(_e){var et=_toPrimitive$e(_e,"string");return typeof et=="symbol"?et:et+""}function _toPrimitive$e(_e,et){if(typeof _e!="object"||!_e)return _e;var rt=_e[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(_e,et);if(typeof nt!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(_e)}function _extends$d(){return _extends$d=Object.assign?Object.assign.bind():function(_e){for(var et=1;et<arguments.length;et++){var rt=arguments[et];for(var nt in rt)({}).hasOwnProperty.call(rt,nt)&&(_e[nt]=rt[nt])}return _e},_extends$d.apply(null,arguments)}function _objectWithoutProperties$e(_e,et){if(_e==null)return{};var rt,nt,st=_objectWithoutPropertiesLoose$e(_e,et);if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(_e);for(nt=0;nt<it.length;nt++)rt=it[nt],et.indexOf(rt)===-1&&{}.propertyIsEnumerable.call(_e,rt)&&(st[rt]=_e[rt])}return st}function _objectWithoutPropertiesLoose$e(_e,et){if(_e==null)return{};var rt={};for(var nt in _e)if({}.hasOwnProperty.call(_e,nt)){if(et.indexOf(nt)!==-1)continue;rt[nt]=_e[nt]}return rt}function SetPiePayloadLegend(_e){var et=reactExports.useMemo(()=>findAllByType(_e.children,Cell),[_e.children]),rt=useAppSelector(nt=>selectPieLegend(nt,_e.id,et));return rt==null?null:reactExports.createElement(SetPolarLegendPayload,{legendPayload:rt})}var SetPieTooltipEntrySettings=reactExports.memo(_e=>{var{dataKey:et,nameKey:rt,sectors:nt,stroke:st,strokeWidth:it,fill:at,name:ot,hide:lt,tooltipType:ct,id:ut}=_e,dt={dataDefinedOnItem:nt.map(pt=>pt.tooltipPayload),getPosition:pt=>{var mt;return(mt=nt[Number(pt)])===null||mt===void 0?void 0:mt.tooltipPosition},settings:{stroke:st,strokeWidth:it,fill:at,dataKey:et,nameKey:rt,name:getTooltipNameProp(ot,et),hide:lt,type:ct,color:at,unit:"",graphicalItemId:ut}};return reactExports.createElement(SetTooltipEntrySettings,{tooltipEntrySettings:dt})}),getTextAnchor=(_e,et)=>_e>et?"start":_e<et?"end":"middle",getOuterRadius=(_e,et,rt)=>getPercentValue(typeof et=="function"?et(_e):et,rt,rt*.8),parseCoordinateOfPie=(_e,et,rt)=>{var{top:nt,left:st,width:it,height:at}=et,ot=getMaxRadius(it,at),lt=st+getPercentValue(_e.cx,it,it/2),ct=nt+getPercentValue(_e.cy,at,at/2),ut=getPercentValue(_e.innerRadius,ot,0),dt=getOuterRadius(rt,_e.outerRadius,ot),pt=_e.maxRadius||Math.sqrt(it*it+at*at)/2;return{cx:lt,cy:ct,innerRadius:ut,outerRadius:dt,maxRadius:pt}},parseDeltaAngle=(_e,et)=>{var rt=mathSign(et-_e),nt=Math.min(Math.abs(et-_e),360);return rt*nt},renderLabelLineItem=(_e,et)=>{if(reactExports.isValidElement(_e))return reactExports.cloneElement(_e,et);if(typeof _e=="function")return _e(et);var rt=clsx("recharts-pie-label-line",typeof _e!="boolean"?_e.className:""),{key:nt}=et,st=_objectWithoutProperties$e(et,_excluded$f);return reactExports.createElement(Curve,_extends$d({},st,{type:"linear",className:rt}))},renderLabelItem=(_e,et,rt)=>{if(reactExports.isValidElement(_e))return reactExports.cloneElement(_e,et);var nt=rt;if(typeof _e=="function"&&(nt=_e(et),reactExports.isValidElement(nt)))return nt;var st=clsx("recharts-pie-label-text",getClassNameFromUnknown(_e));return reactExports.createElement(Text$2,_extends$d({},et,{alignmentBaseline:"middle",className:st}),nt)};function PieLabels(_e){var{sectors:et,props:rt,showLabels:nt}=_e,{label:st,labelLine:it,dataKey:at}=rt;if(!nt||!st||!et)return null;var ot=svgPropertiesNoEvents(rt),lt=svgPropertiesNoEventsFromUnknown(st),ct=svgPropertiesNoEventsFromUnknown(it),ut=typeof st=="object"&&"offsetRadius"in st&&typeof st.offsetRadius=="number"&&st.offsetRadius||20,dt=et.map((pt,mt)=>{var xt=(pt.startAngle+pt.endAngle)/2,yt=polarToCartesian(pt.cx,pt.cy,pt.outerRadius+ut,xt),vt=_objectSpread$d(_objectSpread$d(_objectSpread$d(_objectSpread$d({},ot),pt),{},{stroke:"none"},lt),{},{index:mt,textAnchor:getTextAnchor(yt.x,pt.cx)},yt),gt=_objectSpread$d(_objectSpread$d(_objectSpread$d(_objectSpread$d({},ot),pt),{},{fill:"none",stroke:pt.fill},ct),{},{index:mt,points:[polarToCartesian(pt.cx,pt.cy,pt.outerRadius,xt),yt],key:"line"});return reactExports.createElement(ZIndexLayer,{zIndex:DefaultZIndexes.label,key:"label-".concat(pt.startAngle,"-").concat(pt.endAngle,"-").concat(pt.midAngle,"-").concat(mt)},reactExports.createElement(Layer,null,it&&renderLabelLineItem(it,gt),renderLabelItem(st,vt,getValueByDataKey(pt,at))))});return reactExports.createElement(Layer,{className:"recharts-pie-labels"},dt)}function PieLabelList(_e){var{sectors:et,props:rt,showLabels:nt}=_e,{label:st}=rt;return typeof st=="object"&&st!=null&&"position"in st?reactExports.createElement(LabelListFromLabelProp,{label:st}):reactExports.createElement(PieLabels,{sectors:et,props:rt,showLabels:nt})}function PieSectors(_e){var{sectors:et,activeShape:rt,inactiveShape:nt,allOtherPieProps:st,shape:it,id:at}=_e,ot=useAppSelector(selectActiveTooltipIndex),lt=useAppSelector(selectActiveTooltipDataKey),ct=useAppSelector(selectActiveTooltipGraphicalItemId),{onMouseEnter:ut,onClick:dt,onMouseLeave:pt}=st,mt=_objectWithoutProperties$e(st,_excluded2$6),xt=useMouseEnterItemDispatch(ut,st.dataKey,at),yt=useMouseLeaveItemDispatch(pt),vt=useMouseClickItemDispatch(dt,st.dataKey,at);return et==null||et.length===0?null:reactExports.createElement(reactExports.Fragment,null,et.map((gt,Et)=>{if((gt==null?void 0:gt.startAngle)===0&&(gt==null?void 0:gt.endAngle)===0&&et.length!==1)return null;var jt=ct==null||ct===at,kt=String(Et)===ot&&(lt==null||st.dataKey===lt)&&jt,Rt=ot?nt:null,St=rt&&kt?rt:Rt,_t=_objectSpread$d(_objectSpread$d({},gt),{},{stroke:gt.stroke,tabIndex:-1,[DATA_ITEM_INDEX_ATTRIBUTE_NAME]:Et,[DATA_ITEM_GRAPHICAL_ITEM_ID_ATTRIBUTE_NAME]:at});return reactExports.createElement(Layer,_extends$d({key:"sector-".concat(gt==null?void 0:gt.startAngle,"-").concat(gt==null?void 0:gt.endAngle,"-").concat(gt.midAngle,"-").concat(Et),tabIndex:-1,className:"recharts-pie-sector"},adaptEventsOfChild(mt,gt,Et),{onMouseEnter:xt(gt,Et),onMouseLeave:yt(gt,Et),onClick:vt(gt,Et)}),reactExports.createElement(Shape,_extends$d({option:it??St,index:Et,shapeType:"sector",isActive:kt},_t)))}))}function computePieSectors(_e){var et,{pieSettings:rt,displayedData:nt,cells:st,offset:it}=_e,{cornerRadius:at,startAngle:ot,endAngle:lt,dataKey:ct,nameKey:ut,tooltipType:dt}=rt,pt=Math.abs(rt.minAngle),mt=parseDeltaAngle(ot,lt),xt=Math.abs(mt),yt=nt.length<=1?0:(et=rt.paddingAngle)!==null&&et!==void 0?et:0,vt=nt.filter(St=>getValueByDataKey(St,ct,0)!==0).length,gt=(xt>=360?vt:vt-1)*yt,Et=xt-vt*pt-gt,jt=nt.reduce((St,_t)=>{var Nt=getValueByDataKey(_t,ct,0);return St+(isNumber$1(Nt)?Nt:0)},0),kt;if(jt>0){var Rt;kt=nt.map((St,_t)=>{var Nt=getValueByDataKey(St,ct,0),Lt=getValueByDataKey(St,ut,_t),$t=parseCoordinateOfPie(rt,it,St),Ft=(isNumber$1(Nt)?Nt:0)/jt,Tt,Bt=_objectSpread$d(_objectSpread$d({},St),st&&st[_t]&&st[_t].props);_t?Tt=Rt.endAngle+mathSign(mt)*yt*(Nt!==0?1:0):Tt=ot;var Wt=Tt+mathSign(mt)*((Nt!==0?pt:0)+Ft*Et),qt=(Tt+Wt)/2,Ot=($t.innerRadius+$t.outerRadius)/2,Dt=[{name:Lt,value:Nt,payload:Bt,dataKey:ct,type:dt,graphicalItemId:rt.id}],Pt=polarToCartesian($t.cx,$t.cy,Ot,qt);return Rt=_objectSpread$d(_objectSpread$d(_objectSpread$d(_objectSpread$d({},rt.presentationProps),{},{percent:Ft,cornerRadius:typeof at=="string"?parseFloat(at):at,name:Lt,tooltipPayload:Dt,midAngle:qt,middleRadius:Ot,tooltipPosition:Pt},Bt),$t),{},{value:Nt,dataKey:ct,startAngle:Tt,endAngle:Wt,payload:Bt,paddingAngle:mathSign(mt)*yt}),Rt})}return kt}function PieLabelListProvider(_e){var{showLabels:et,sectors:rt,children:nt}=_e,st=reactExports.useMemo(()=>!et||!rt?[]:rt.map(it=>({value:it.value,payload:it.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:it.cx,cy:it.cy,innerRadius:it.innerRadius,outerRadius:it.outerRadius,startAngle:it.startAngle,endAngle:it.endAngle,clockWise:!1},fill:it.fill})),[rt,et]);return reactExports.createElement(PolarLabelListContextProvider,{value:et?st:void 0},nt)}function SectorsWithAnimation(_e){var{props:et,previousSectorsRef:rt,id:nt}=_e,{sectors:st,isAnimationActive:it,animationBegin:at,animationDuration:ot,animationEasing:lt,activeShape:ct,inactiveShape:ut,onAnimationStart:dt,onAnimationEnd:pt}=et,mt=useAnimationId(et,"recharts-pie-"),xt=rt.current,[yt,vt]=reactExports.useState(!1),gt=reactExports.useCallback(()=>{typeof pt=="function"&&pt(),vt(!1)},[pt]),Et=reactExports.useCallback(()=>{typeof dt=="function"&&dt(),vt(!0)},[dt]);return reactExports.createElement(PieLabelListProvider,{showLabels:!yt,sectors:st},reactExports.createElement(JavascriptAnimate,{animationId:mt,begin:at,duration:ot,isActive:it,easing:lt,onAnimationStart:Et,onAnimationEnd:gt,key:mt},jt=>{var kt,Rt=[],St=st&&st[0],_t=(kt=St==null?void 0:St.startAngle)!==null&&kt!==void 0?kt:0;return st==null||st.forEach((Nt,Lt)=>{var $t=xt&&xt[Lt],Ft=Lt>0?get$3(Nt,"paddingAngle",0):0;if($t){var Tt=interpolate$1($t.endAngle-$t.startAngle,Nt.endAngle-Nt.startAngle,jt),Bt=_objectSpread$d(_objectSpread$d({},Nt),{},{startAngle:_t+Ft,endAngle:_t+Tt+Ft});Rt.push(Bt),_t=Bt.endAngle}else{var{endAngle:Wt,startAngle:qt}=Nt,Ot=interpolate$1(0,Wt-qt,jt),Dt=_objectSpread$d(_objectSpread$d({},Nt),{},{startAngle:_t+Ft,endAngle:_t+Ot+Ft});Rt.push(Dt),_t=Dt.endAngle}}),rt.current=Rt,reactExports.createElement(Layer,null,reactExports.createElement(PieSectors,{sectors:Rt,activeShape:ct,inactiveShape:ut,allOtherPieProps:et,shape:et.shape,id:nt}))}),reactExports.createElement(PieLabelList,{showLabels:!yt,sectors:st,props:et}),et.children)}var defaultPieProps={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:DefaultZIndexes.area};function PieImpl(_e){var{id:et}=_e,rt=_objectWithoutProperties$e(_e,_excluded3$4),{hide:nt,className:st,rootTabIndex:it}=_e,at=reactExports.useMemo(()=>findAllByType(_e.children,Cell),[_e.children]),ot=useAppSelector(ut=>selectPieSectors(ut,et,at)),lt=reactExports.useRef(null),ct=clsx("recharts-pie",st);return nt||ot==null?(lt.current=null,reactExports.createElement(Layer,{tabIndex:it,className:ct})):reactExports.createElement(ZIndexLayer,{zIndex:_e.zIndex},reactExports.createElement(SetPieTooltipEntrySettings,{dataKey:_e.dataKey,nameKey:_e.nameKey,sectors:ot,stroke:_e.stroke,strokeWidth:_e.strokeWidth,fill:_e.fill,name:_e.name,hide:_e.hide,tooltipType:_e.tooltipType,id:et}),reactExports.createElement(Layer,{tabIndex:it,className:ct},reactExports.createElement(SectorsWithAnimation,{props:_objectSpread$d(_objectSpread$d({},rt),{},{sectors:ot}),previousSectorsRef:lt,id:et})))}function Pie(_e){var et=resolveDefaultProps(_e,defaultPieProps),{id:rt}=et,nt=_objectWithoutProperties$e(et,_excluded4$2),st=svgPropertiesNoEvents(nt);return reactExports.createElement(RegisterGraphicalItemId,{id:rt,type:"pie"},it=>reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(SetPolarGraphicalItem,{type:"pie",id:it,data:nt.data,dataKey:nt.dataKey,hide:nt.hide,angleAxisId:0,radiusAxisId:0,name:nt.name,nameKey:nt.nameKey,tooltipType:nt.tooltipType,legendType:nt.legendType,fill:nt.fill,cx:nt.cx,cy:nt.cy,startAngle:nt.startAngle,endAngle:nt.endAngle,paddingAngle:nt.paddingAngle,minAngle:nt.minAngle,innerRadius:nt.innerRadius,outerRadius:nt.outerRadius,cornerRadius:nt.cornerRadius,presentationProps:st,maxRadius:et.maxRadius}),reactExports.createElement(SetPiePayloadLegend,_extends$d({},nt,{id:it})),reactExports.createElement(PieImpl,_extends$d({},nt,{id:it}))))}Pie.displayName="Pie";var _excluded$e=["points"];function ownKeys$d(_e,et){var rt=Object.keys(_e);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);et&&(nt=nt.filter(function(st){return Object.getOwnPropertyDescriptor(_e,st).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$c(_e){for(var et=1;et<arguments.length;et++){var rt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$d(Object(rt),!0).forEach(function(nt){_defineProperty$d(_e,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(rt)):ownKeys$d(Object(rt)).forEach(function(nt){Object.defineProperty(_e,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return _e}function _defineProperty$d(_e,et,rt){return(et=_toPropertyKey$d(et))in _e?Object.defineProperty(_e,et,{value:rt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=rt,_e}function _toPropertyKey$d(_e){var et=_toPrimitive$d(_e,"string");return typeof et=="symbol"?et:et+""}function _toPrimitive$d(_e,et){if(typeof _e!="object"||!_e)return _e;var rt=_e[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(_e,et);if(typeof nt!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(_e)}function _extends$c(){return _extends$c=Object.assign?Object.assign.bind():function(_e){for(var et=1;et<arguments.length;et++){var rt=arguments[et];for(var nt in rt)({}).hasOwnProperty.call(rt,nt)&&(_e[nt]=rt[nt])}return _e},_extends$c.apply(null,arguments)}function _objectWithoutProperties$d(_e,et){if(_e==null)return{};var rt,nt,st=_objectWithoutPropertiesLoose$d(_e,et);if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(_e);for(nt=0;nt<it.length;nt++)rt=it[nt],et.indexOf(rt)===-1&&{}.propertyIsEnumerable.call(_e,rt)&&(st[rt]=_e[rt])}return st}function _objectWithoutPropertiesLoose$d(_e,et){if(_e==null)return{};var rt={};for(var nt in _e)if({}.hasOwnProperty.call(_e,nt)){if(et.indexOf(nt)!==-1)continue;rt[nt]=_e[nt]}return rt}function DotItem(_e){var{option:et,dotProps:rt,className:nt}=_e;if(reactExports.isValidElement(et))return reactExports.cloneElement(et,rt);if(typeof et=="function")return et(rt);var st=clsx(nt,typeof et!="boolean"?et.className:""),it=rt??{},{points:at}=it,ot=_objectWithoutProperties$d(it,_excluded$e);return reactExports.createElement(Dot,_extends$c({},ot,{className:st}))}function shouldRenderDots(_e,et){return _e==null?!1:et?!0:_e.length===1}function Dots(_e){var{points:et,dot:rt,className:nt,dotClassName:st,dataKey:it,baseProps:at,needClip:ot,clipPathId:lt,zIndex:ct=DefaultZIndexes.scatter}=_e;if(!shouldRenderDots(et,rt))return null;var ut=isClipDot(rt),dt=svgPropertiesAndEventsFromUnknown(rt),pt=et.map((xt,yt)=>{var vt,gt,Et=_objectSpread$c(_objectSpread$c(_objectSpread$c({r:3},at),dt),{},{index:yt,cx:(vt=xt.x)!==null&&vt!==void 0?vt:void 0,cy:(gt=xt.y)!==null&&gt!==void 0?gt:void 0,dataKey:it,value:xt.value,payload:xt.payload,points:et});return reactExports.createElement(DotItem,{key:"dot-".concat(yt),option:rt,dotProps:Et,className:st})}),mt={};return ot&&lt!=null&&(mt.clipPath="url(#clipPath-".concat(ut?"":"dots-").concat(lt,")")),reactExports.createElement(ZIndexLayer,{zIndex:ct},reactExports.createElement(Layer,_extends$c({className:nt},mt),pt))}function ownKeys$c(_e,et){var rt=Object.keys(_e);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);et&&(nt=nt.filter(function(st){return Object.getOwnPropertyDescriptor(_e,st).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$b(_e){for(var et=1;et<arguments.length;et++){var rt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$c(Object(rt),!0).forEach(function(nt){_defineProperty$c(_e,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(rt)):ownKeys$c(Object(rt)).forEach(function(nt){Object.defineProperty(_e,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return _e}function _defineProperty$c(_e,et,rt){return(et=_toPropertyKey$c(et))in _e?Object.defineProperty(_e,et,{value:rt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=rt,_e}function _toPropertyKey$c(_e){var et=_toPrimitive$c(_e,"string");return typeof et=="symbol"?et:et+""}function _toPrimitive$c(_e,et){if(typeof _e!="object"||!_e)return _e;var rt=_e[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(_e,et);if(typeof nt!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(_e)}var defaultAxisId=0,initialState$5={xAxis:{},yAxis:{},zAxis:{}},cartesianAxisSlice=createSlice({name:"cartesianAxis",initialState:initialState$5,reducers:{addXAxis:{reducer(_e,et){_e.xAxis[et.payload.id]=et.payload},prepare:prepareAutoBatched()},replaceXAxis:{reducer(_e,et){var{prev:rt,next:nt}=et.payload;_e.xAxis[rt.id]!==void 0&&(rt.id!==nt.id&&delete _e.xAxis[rt.id],_e.xAxis[nt.id]=nt)},prepare:prepareAutoBatched()},removeXAxis:{reducer(_e,et){delete _e.xAxis[et.payload.id]},prepare:prepareAutoBatched()},addYAxis:{reducer(_e,et){_e.yAxis[et.payload.id]=et.payload},prepare:prepareAutoBatched()},replaceYAxis:{reducer(_e,et){var{prev:rt,next:nt}=et.payload;_e.yAxis[rt.id]!==void 0&&(rt.id!==nt.id&&delete _e.yAxis[rt.id],_e.yAxis[nt.id]=nt)},prepare:prepareAutoBatched()},removeYAxis:{reducer(_e,et){delete _e.yAxis[et.payload.id]},prepare:prepareAutoBatched()},addZAxis:{reducer(_e,et){_e.zAxis[et.payload.id]=et.payload},prepare:prepareAutoBatched()},replaceZAxis:{reducer(_e,et){var{prev:rt,next:nt}=et.payload;_e.zAxis[rt.id]!==void 0&&(rt.id!==nt.id&&delete _e.zAxis[rt.id],_e.zAxis[nt.id]=nt)},prepare:prepareAutoBatched()},removeZAxis:{reducer(_e,et){delete _e.zAxis[et.payload.id]},prepare:prepareAutoBatched()},updateYAxisWidth(_e,et){var{id:rt,width:nt}=et.payload,st=_e.yAxis[rt];if(st){var it,at=st.widthHistory||[];if(at.length===3&&at[0]===at[2]&&nt===at[1]&&nt!==st.width&&Math.abs(nt-((it=at[0])!==null&&it!==void 0?it:0))<=1)return;var ot=[...at,nt].slice(-3);_e.yAxis[rt]=_objectSpread$b(_objectSpread$b({},st),{},{width:nt,widthHistory:ot})}}}}),{addXAxis,replaceXAxis,removeXAxis,addYAxis,replaceYAxis,removeYAxis,addZAxis,replaceZAxis,removeZAxis,updateYAxisWidth}=cartesianAxisSlice.actions,cartesianAxisReducer=cartesianAxisSlice.reducer,selectChartOffset=createSelector([selectChartOffsetInternal],_e=>({top:_e.top,bottom:_e.bottom,left:_e.left,right:_e.right})),selectPlotArea=createSelector([selectChartOffset,selectChartWidth,selectChartHeight],(_e,et,rt)=>{if(!(!_e||et==null||rt==null))return{x:_e.left,y:_e.top,width:Math.max(0,et-_e.left-_e.right),height:Math.max(0,rt-_e.top-_e.bottom)}}),usePlotArea=()=>useAppSelector(selectPlotArea),useActiveTooltipDataPoints=()=>useAppSelector(selectActiveTooltipDataPoints);function ownKeys$b(_e,et){var rt=Object.keys(_e);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);et&&(nt=nt.filter(function(st){return Object.getOwnPropertyDescriptor(_e,st).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$a(_e){for(var et=1;et<arguments.length;et++){var rt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$b(Object(rt),!0).forEach(function(nt){_defineProperty$b(_e,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(rt)):ownKeys$b(Object(rt)).forEach(function(nt){Object.defineProperty(_e,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return _e}function _defineProperty$b(_e,et,rt){return(et=_toPropertyKey$b(et))in _e?Object.defineProperty(_e,et,{value:rt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=rt,_e}function _toPropertyKey$b(_e){var et=_toPrimitive$b(_e,"string");return typeof et=="symbol"?et:et+""}function _toPrimitive$b(_e,et){if(typeof _e!="object"||!_e)return _e;var rt=_e[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(_e,et);if(typeof nt!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(_e)}var ActivePoint=_e=>{var{point:et,childIndex:rt,mainColor:nt,activeDot:st,dataKey:it,clipPath:at}=_e;if(st===!1||et.x==null||et.y==null)return null;var ot={index:rt,dataKey:it,cx:et.x,cy:et.y,r:4,fill:nt??"none",strokeWidth:2,stroke:"#fff",payload:et.payload,value:et.value},lt=_objectSpread$a(_objectSpread$a(_objectSpread$a({},ot),svgPropertiesNoEventsFromUnknown(st)),adaptEventHandlers(st)),ct;return reactExports.isValidElement(st)?ct=reactExports.cloneElement(st,lt):typeof st=="function"?ct=st(lt):ct=reactExports.createElement(Dot,lt),reactExports.createElement(Layer,{className:"recharts-active-dot",clipPath:at},ct)};function ActivePoints(_e){var{points:et,mainColor:rt,activeDot:nt,itemDataKey:st,clipPath:it,zIndex:at=DefaultZIndexes.activeDot}=_e,ot=useAppSelector(selectActiveTooltipIndex),lt=useActiveTooltipDataPoints();if(et==null||lt==null)return null;var ct=et.find(ut=>lt.includes(ut.payload));return isNullish(ct)?null:reactExports.createElement(ZIndexLayer,{zIndex:at},reactExports.createElement(ActivePoint,{point:ct,childIndex:Number(ot),mainColor:rt,dataKey:st,activeDot:nt,clipPath:it}))}var getBarSize=(_e,et,rt)=>{var nt=rt??_e;if(!isNullish(nt))return getPercentValue(nt,et,0)},combineBarSizeList=(_e,et,rt)=>{var nt={},st=_e.filter(isStacked),it=_e.filter(ct=>ct.stackId==null),at=st.reduce((ct,ut)=>{var dt=ct[ut.stackId];return dt==null&&(dt=[]),dt.push(ut),ct[ut.stackId]=dt,ct},nt),ot=Object.entries(at).map(ct=>{var ut,[dt,pt]=ct,mt=pt.map(yt=>yt.dataKey),xt=getBarSize(et,rt,(ut=pt[0])===null||ut===void 0?void 0:ut.barSize);return{stackId:dt,dataKeys:mt,barSize:xt}}),lt=it.map(ct=>{var ut=[ct.dataKey].filter(pt=>pt!=null),dt=getBarSize(et,rt,ct.barSize);return{stackId:void 0,dataKeys:ut,barSize:dt}});return[...ot,...lt]};function ownKeys$a(_e,et){var rt=Object.keys(_e);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);et&&(nt=nt.filter(function(st){return Object.getOwnPropertyDescriptor(_e,st).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$9(_e){for(var et=1;et<arguments.length;et++){var rt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$a(Object(rt),!0).forEach(function(nt){_defineProperty$a(_e,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(rt)):ownKeys$a(Object(rt)).forEach(function(nt){Object.defineProperty(_e,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return _e}function _defineProperty$a(_e,et,rt){return(et=_toPropertyKey$a(et))in _e?Object.defineProperty(_e,et,{value:rt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=rt,_e}function _toPropertyKey$a(_e){var et=_toPrimitive$a(_e,"string");return typeof et=="symbol"?et:et+""}function _toPrimitive$a(_e,et){if(typeof _e!="object"||!_e)return _e;var rt=_e[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(_e,et);if(typeof nt!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(_e)}function getBarPositions(_e,et,rt,nt,st){var it,at=nt.length;if(!(at<1)){var ot=getPercentValue(_e,rt,0,!0),lt,ct=[];if(isWellBehavedNumber((it=nt[0])===null||it===void 0?void 0:it.barSize)){var ut=!1,dt=rt/at,pt=nt.reduce((Et,jt)=>Et+(jt.barSize||0),0);pt+=(at-1)*ot,pt>=rt&&(pt-=(at-1)*ot,ot=0),pt>=rt&&dt>0&&(ut=!0,dt*=.9,pt=at*dt);var mt=(rt-pt)/2>>0,xt={offset:mt-ot,size:0};lt=nt.reduce((Et,jt)=>{var kt,Rt={stackId:jt.stackId,dataKeys:jt.dataKeys,position:{offset:xt.offset+xt.size+ot,size:ut?dt:(kt=jt.barSize)!==null&&kt!==void 0?kt:0}},St=[...Et,Rt];return xt=Rt.position,St},ct)}else{var yt=getPercentValue(et,rt,0,!0);rt-2*yt-(at-1)*ot<=0&&(ot=0);var vt=(rt-2*yt-(at-1)*ot)/at;vt>1&&(vt>>=0);var gt=isWellBehavedNumber(st)?Math.min(vt,st):vt;lt=nt.reduce((Et,jt,kt)=>[...Et,{stackId:jt.stackId,dataKeys:jt.dataKeys,position:{offset:yt+(vt+ot)*kt+(vt-gt)/2,size:gt}}],ct)}return lt}}var combineAllBarPositions=(_e,et,rt,nt,st,it,at)=>{var ot=isNullish(at)?et:at,lt=getBarPositions(rt,nt,st!==it?st:it,_e,ot);return st!==it&&lt!=null&&(lt=lt.map(ct=>_objectSpread$9(_objectSpread$9({},ct),{},{position:_objectSpread$9(_objectSpread$9({},ct.position),{},{offset:ct.position.offset-st/2})}))),lt},combineStackedData=(_e,et)=>{var rt=getStackSeriesIdentifier(et);if(!(!_e||rt==null||et==null)){var{stackId:nt}=et;if(nt!=null){var st=_e[nt];if(st){var{stackedData:it}=st;if(it)return it.find(at=>at.key===rt)}}}},combineBarPosition=(_e,et)=>{if(!(_e==null||et==null)){var rt=_e.find(nt=>nt.stackId===et.stackId&&et.dataKey!=null&&nt.dataKeys.includes(et.dataKey));if(rt!=null)return rt.position}};function getZIndexFromUnknown(_e,et){return _e&&typeof _e=="object"&&"zIndex"in _e&&typeof _e.zIndex=="number"&&isWellBehavedNumber(_e.zIndex)?_e.zIndex:et}var ChartDataContextProvider=_e=>{var{chartData:et}=_e,rt=useAppDispatch(),nt=useIsPanorama();return reactExports.useEffect(()=>nt?()=>{}:(rt(setChartData(et)),()=>{rt(setChartData(void 0))}),[et,rt,nt]),null},initialState$4={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},brushSlice=createSlice({name:"brush",initialState:initialState$4,reducers:{setBrushSettings(_e,et){return et.payload==null?initialState$4:et.payload}}}),{setBrushSettings}=brushSlice.actions,brushReducer=brushSlice.reducer;function normalizeAngle(_e){return(_e%180+180)%180}var getAngledRectangleWidth=function(et){var{width:rt,height:nt}=et,st=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,it=normalizeAngle(st),at=it*Math.PI/180,ot=Math.atan(nt/rt),lt=at>ot&&at<Math.PI-ot?nt/Math.sin(at):rt/Math.cos(at);return Math.abs(lt)},initialState$3={dots:[],areas:[],lines:[]},referenceElementsSlice=createSlice({name:"referenceElements",initialState:initialState$3,reducers:{addDot:(_e,et)=>{_e.dots.push(et.payload)},removeDot:(_e,et)=>{var rt=current$1(_e).dots.findIndex(nt=>nt===et.payload);rt!==-1&&_e.dots.splice(rt,1)},addArea:(_e,et)=>{_e.areas.push(et.payload)},removeArea:(_e,et)=>{var rt=current$1(_e).areas.findIndex(nt=>nt===et.payload);rt!==-1&&_e.areas.splice(rt,1)},addLine:(_e,et)=>{_e.lines.push(et.payload)},removeLine:(_e,et)=>{var rt=current$1(_e).lines.findIndex(nt=>nt===et.payload);rt!==-1&&_e.lines.splice(rt,1)}}}),{addDot,removeDot,addArea,removeArea,addLine,removeLine}=referenceElementsSlice.actions,referenceElementsReducer=referenceElementsSlice.reducer,ClipPathIdContext=reactExports.createContext(void 0),ClipPathProvider=_e=>{var{children:et}=_e,[rt]=reactExports.useState("".concat(uniqueId("recharts"),"-clip")),nt=usePlotArea();if(nt==null)return null;var{x:st,y:it,width:at,height:ot}=nt;return reactExports.createElement(ClipPathIdContext.Provider,{value:rt},reactExports.createElement("defs",null,reactExports.createElement("clipPath",{id:rt},reactExports.createElement("rect",{x:st,y:it,height:ot,width:at}))),et)};function getEveryNth(_e,et){if(et<1)return[];if(et===1)return _e;for(var rt=[],nt=0;nt<_e.length;nt+=et){var st=_e[nt];st!==void 0&&rt.push(st)}return rt}function getAngledTickWidth(_e,et,rt){var nt={width:_e.width+et.width,height:_e.height+et.height};return getAngledRectangleWidth(nt,rt)}function getTickBoundaries(_e,et,rt){var nt=rt==="width",{x:st,y:it,width:at,height:ot}=_e;return et===1?{start:nt?st:it,end:nt?st+at:it+ot}:{start:nt?st+at:it+ot,end:nt?st:it}}function isVisible(_e,et,rt,nt,st){if(_e*et<_e*nt||_e*et>_e*st)return!1;var it=rt();return _e*(et-_e*it/2-nt)>=0&&_e*(et+_e*it/2-st)<=0}function getNumberIntervalTicks(_e,et){return getEveryNth(_e,et+1)}function getEquidistantTicks(_e,et,rt,nt,st){for(var it=(nt||[]).slice(),{start:at,end:ot}=et,lt=0,ct=1,ut=at,dt=function(){var xt=nt==null?void 0:nt[lt];if(xt===void 0)return{v:getEveryNth(nt,ct)};var yt=lt,vt,gt=()=>(vt===void 0&&(vt=rt(xt,yt)),vt),Et=xt.coordinate,jt=lt===0||isVisible(_e,Et,gt,ut,ot);jt||(lt=0,ut=at,ct+=1),jt&&(ut=Et+_e*(gt()/2+st),lt+=ct)},pt;ct<=it.length;)if(pt=dt(),pt)return pt.v;return[]}function getEquidistantPreserveEndTicks(_e,et,rt,nt,st){var it=(nt||[]).slice(),at=it.length;if(at===0)return[];for(var{start:ot,end:lt}=et,ct=1;ct<=at;ct++){for(var ut=(at-1)%ct,dt=ot,pt=!0,mt=function(){var kt=nt[yt];if(kt==null)return 0;var Rt=yt,St,_t=()=>(St===void 0&&(St=rt(kt,Rt)),St),Nt=kt.coordinate,Lt=yt===ut||isVisible(_e,Nt,_t,dt,lt);if(!Lt)return pt=!1,1;Lt&&(dt=Nt+_e*(_t()/2+st))},xt,yt=ut;yt<at&&(xt=mt(),!(xt!==0&&xt===1));yt+=ct);if(pt){for(var vt=[],gt=ut;gt<at;gt+=ct){var Et=nt[gt];Et!=null&&vt.push(Et)}return vt}}return[]}function ownKeys$9(_e,et){var rt=Object.keys(_e);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);et&&(nt=nt.filter(function(st){return Object.getOwnPropertyDescriptor(_e,st).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$8(_e){for(var et=1;et<arguments.length;et++){var rt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$9(Object(rt),!0).forEach(function(nt){_defineProperty$9(_e,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(rt)):ownKeys$9(Object(rt)).forEach(function(nt){Object.defineProperty(_e,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return _e}function _defineProperty$9(_e,et,rt){return(et=_toPropertyKey$9(et))in _e?Object.defineProperty(_e,et,{value:rt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=rt,_e}function _toPropertyKey$9(_e){var et=_toPrimitive$9(_e,"string");return typeof et=="symbol"?et:et+""}function _toPrimitive$9(_e,et){if(typeof _e!="object"||!_e)return _e;var rt=_e[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(_e,et);if(typeof nt!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(_e)}function getTicksEnd(_e,et,rt,nt,st){for(var it=(nt||[]).slice(),at=it.length,{start:ot}=et,{end:lt}=et,ct=function(pt){var mt=it[pt];if(mt==null)return 1;var xt=mt,yt,vt=()=>(yt===void 0&&(yt=rt(mt,pt)),yt);if(pt===at-1){var gt=_e*(xt.coordinate+_e*vt()/2-lt);it[pt]=xt=_objectSpread$8(_objectSpread$8({},xt),{},{tickCoord:gt>0?xt.coordinate-gt*_e:xt.coordinate})}else it[pt]=xt=_objectSpread$8(_objectSpread$8({},xt),{},{tickCoord:xt.coordinate});if(xt.tickCoord!=null){var Et=isVisible(_e,xt.tickCoord,vt,ot,lt);Et&&(lt=xt.tickCoord-_e*(vt()/2+st),it[pt]=_objectSpread$8(_objectSpread$8({},xt),{},{isShow:!0}))}},ut=at-1;ut>=0;ut--)ct(ut);return it}function getTicksStart(_e,et,rt,nt,st,it){var at=(nt||[]).slice(),ot=at.length,{start:lt,end:ct}=et;if(it){var ut=nt[ot-1];if(ut!=null){var dt=rt(ut,ot-1),pt=_e*(ut.coordinate+_e*dt/2-ct);if(at[ot-1]=ut=_objectSpread$8(_objectSpread$8({},ut),{},{tickCoord:pt>0?ut.coordinate-pt*_e:ut.coordinate}),ut.tickCoord!=null){var mt=isVisible(_e,ut.tickCoord,()=>dt,lt,ct);mt&&(ct=ut.tickCoord-_e*(dt/2+st),at[ot-1]=_objectSpread$8(_objectSpread$8({},ut),{},{isShow:!0}))}}}for(var xt=it?ot-1:ot,yt=function(Et){var jt=at[Et];if(jt==null)return 1;var kt=jt,Rt,St=()=>(Rt===void 0&&(Rt=rt(jt,Et)),Rt);if(Et===0){var _t=_e*(kt.coordinate-_e*St()/2-lt);at[Et]=kt=_objectSpread$8(_objectSpread$8({},kt),{},{tickCoord:_t<0?kt.coordinate-_t*_e:kt.coordinate})}else at[Et]=kt=_objectSpread$8(_objectSpread$8({},kt),{},{tickCoord:kt.coordinate});if(kt.tickCoord!=null){var Nt=isVisible(_e,kt.tickCoord,St,lt,ct);Nt&&(lt=kt.tickCoord+_e*(St()/2+st),at[Et]=_objectSpread$8(_objectSpread$8({},kt),{},{isShow:!0}))}},vt=0;vt<xt;vt++)yt(vt);return at}function getTicks(_e,et,rt){var{tick:nt,ticks:st,viewBox:it,minTickGap:at,orientation:ot,interval:lt,tickFormatter:ct,unit:ut,angle:dt}=_e;if(!st||!st.length||!nt)return[];if(isNumber$1(lt)||Global.isSsr){var pt;return(pt=getNumberIntervalTicks(st,isNumber$1(lt)?lt:0))!==null&&pt!==void 0?pt:[]}var mt=[],xt=ot==="top"||ot==="bottom"?"width":"height",yt=ut&&xt==="width"?getStringSize(ut,{fontSize:et,letterSpacing:rt}):{width:0,height:0},vt=(Rt,St)=>{var _t=typeof ct=="function"?ct(Rt.value,St):Rt.value;return xt==="width"?getAngledTickWidth(getStringSize(_t,{fontSize:et,letterSpacing:rt}),yt,dt):getStringSize(_t,{fontSize:et,letterSpacing:rt})[xt]},gt=st[0],Et=st[1],jt=st.length>=2&&gt!=null&&Et!=null?mathSign(Et.coordinate-gt.coordinate):1,kt=getTickBoundaries(it,jt,xt);return lt==="equidistantPreserveStart"?getEquidistantTicks(jt,kt,vt,st,at):lt==="equidistantPreserveEnd"?getEquidistantPreserveEndTicks(jt,kt,vt,st,at):(lt==="preserveStart"||lt==="preserveStartEnd"?mt=getTicksStart(jt,kt,vt,st,at,lt==="preserveStartEnd"):mt=getTicksEnd(jt,kt,vt,st,at),mt.filter(Rt=>Rt.isShow))}var getCalculatedYAxisWidth=_e=>{var{ticks:et,label:rt,labelGapWithTick:nt=5,tickSize:st=0,tickMargin:it=0}=_e,at=0;if(et){Array.from(et).forEach(ut=>{if(ut){var dt=ut.getBoundingClientRect();dt.width>at&&(at=dt.width)}});var ot=rt?rt.getBoundingClientRect().width:0,lt=st+it,ct=at+lt+ot+(rt?nt:0);return Math.round(ct)}return 0},_excluded$d=["axisLine","width","height","className","hide","ticks","axisType"];function _objectWithoutProperties$c(_e,et){if(_e==null)return{};var rt,nt,st=_objectWithoutPropertiesLoose$c(_e,et);if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(_e);for(nt=0;nt<it.length;nt++)rt=it[nt],et.indexOf(rt)===-1&&{}.propertyIsEnumerable.call(_e,rt)&&(st[rt]=_e[rt])}return st}function _objectWithoutPropertiesLoose$c(_e,et){if(_e==null)return{};var rt={};for(var nt in _e)if({}.hasOwnProperty.call(_e,nt)){if(et.indexOf(nt)!==-1)continue;rt[nt]=_e[nt]}return rt}function _extends$b(){return _extends$b=Object.assign?Object.assign.bind():function(_e){for(var et=1;et<arguments.length;et++){var rt=arguments[et];for(var nt in rt)({}).hasOwnProperty.call(rt,nt)&&(_e[nt]=rt[nt])}return _e},_extends$b.apply(null,arguments)}function ownKeys$8(_e,et){var rt=Object.keys(_e);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);et&&(nt=nt.filter(function(st){return Object.getOwnPropertyDescriptor(_e,st).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$7(_e){for(var et=1;et<arguments.length;et++){var rt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$8(Object(rt),!0).forEach(function(nt){_defineProperty$8(_e,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(rt)):ownKeys$8(Object(rt)).forEach(function(nt){Object.defineProperty(_e,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return _e}function _defineProperty$8(_e,et,rt){return(et=_toPropertyKey$8(et))in _e?Object.defineProperty(_e,et,{value:rt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=rt,_e}function _toPropertyKey$8(_e){var et=_toPrimitive$8(_e,"string");return typeof et=="symbol"?et:et+""}function _toPrimitive$8(_e,et){if(typeof _e!="object"||!_e)return _e;var rt=_e[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(_e,et);if(typeof nt!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(_e)}var defaultCartesianAxisProps={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:DefaultZIndexes.axis};function AxisLine(_e){var{x:et,y:rt,width:nt,height:st,orientation:it,mirror:at,axisLine:ot,otherSvgProps:lt}=_e;if(!ot)return null;var ct=_objectSpread$7(_objectSpread$7(_objectSpread$7({},lt),svgPropertiesNoEvents(ot)),{},{fill:"none"});if(it==="top"||it==="bottom"){var ut=+(it==="top"&&!at||it==="bottom"&&at);ct=_objectSpread$7(_objectSpread$7({},ct),{},{x1:et,y1:rt+ut*st,x2:et+nt,y2:rt+ut*st})}else{var dt=+(it==="left"&&!at||it==="right"&&at);ct=_objectSpread$7(_objectSpread$7({},ct),{},{x1:et+dt*nt,y1:rt,x2:et+dt*nt,y2:rt+st})}return reactExports.createElement("line",_extends$b({},ct,{className:clsx("recharts-cartesian-axis-line",get$3(ot,"className"))}))}function getTickLineCoord(_e,et,rt,nt,st,it,at,ot,lt){var ct,ut,dt,pt,mt,xt,yt=ot?-1:1,vt=_e.tickSize||at,gt=isNumber$1(_e.tickCoord)?_e.tickCoord:_e.coordinate;switch(it){case"top":ct=ut=_e.coordinate,pt=rt+ +!ot*st,dt=pt-yt*vt,xt=dt-yt*lt,mt=gt;break;case"left":dt=pt=_e.coordinate,ut=et+ +!ot*nt,ct=ut-yt*vt,mt=ct-yt*lt,xt=gt;break;case"right":dt=pt=_e.coordinate,ut=et+ +ot*nt,ct=ut+yt*vt,mt=ct+yt*lt,xt=gt;break;default:ct=ut=_e.coordinate,pt=rt+ +ot*st,dt=pt+yt*vt,xt=dt+yt*lt,mt=gt;break}return{line:{x1:ct,y1:dt,x2:ut,y2:pt},tick:{x:mt,y:xt}}}function getTickTextAnchor(_e,et){switch(_e){case"left":return et?"start":"end";case"right":return et?"end":"start";default:return"middle"}}function getTickVerticalAnchor(_e,et){switch(_e){case"left":case"right":return"middle";case"top":return et?"start":"end";default:return et?"end":"start"}}function TickItem(_e){var{option:et,tickProps:rt,value:nt}=_e,st,it=clsx(rt.className,"recharts-cartesian-axis-tick-value");if(reactExports.isValidElement(et))st=reactExports.cloneElement(et,_objectSpread$7(_objectSpread$7({},rt),{},{className:it}));else if(typeof et=="function")st=et(_objectSpread$7(_objectSpread$7({},rt),{},{className:it}));else{var at="recharts-cartesian-axis-tick-value";typeof et!="boolean"&&(at=clsx(at,getClassNameFromUnknown(et))),st=reactExports.createElement(Text$2,_extends$b({},rt,{className:at}),nt)}return st}var Ticks=reactExports.forwardRef((_e,et)=>{var{ticks:rt=[],tick:nt,tickLine:st,stroke:it,tickFormatter:at,unit:ot,padding:lt,tickTextProps:ct,orientation:ut,mirror:dt,x:pt,y:mt,width:xt,height:yt,tickSize:vt,tickMargin:gt,fontSize:Et,letterSpacing:jt,getTicksConfig:kt,events:Rt,axisType:St}=_e,_t=getTicks(_objectSpread$7(_objectSpread$7({},kt),{},{ticks:rt}),Et,jt),Nt=getTickTextAnchor(ut,dt),Lt=getTickVerticalAnchor(ut,dt),$t=svgPropertiesNoEvents(kt),Ft=svgPropertiesNoEventsFromUnknown(nt),Tt={};typeof st=="object"&&(Tt=st);var Bt=_objectSpread$7(_objectSpread$7({},$t),{},{fill:"none"},Tt),Wt=_t.map(Dt=>_objectSpread$7({entry:Dt},getTickLineCoord(Dt,pt,mt,xt,yt,ut,vt,dt,gt))),qt=Wt.map(Dt=>{var{entry:Pt,line:It}=Dt;return reactExports.createElement(Layer,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(Pt.value,"-").concat(Pt.coordinate,"-").concat(Pt.tickCoord)},st&&reactExports.createElement("line",_extends$b({},Bt,It,{className:clsx("recharts-cartesian-axis-tick-line",get$3(st,"className"))})))}),Ot=Wt.map((Dt,Pt)=>{var It,At,{entry:Ht,tick:Gt}=Dt,Vt=_objectSpread$7(_objectSpread$7(_objectSpread$7(_objectSpread$7({verticalAnchor:Lt},$t),{},{textAnchor:Nt,stroke:"none",fill:it},Gt),{},{index:Pt,payload:Ht,visibleTicksCount:_t.length,tickFormatter:at,padding:lt},ct),{},{angle:(It=(At=ct==null?void 0:ct.angle)!==null&&At!==void 0?At:$t.angle)!==null&&It!==void 0?It:0}),Jt=_objectSpread$7(_objectSpread$7({},Vt),Ft);return reactExports.createElement(Layer,_extends$b({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(Ht.value,"-").concat(Ht.coordinate,"-").concat(Ht.tickCoord)},adaptEventsOfChild(Rt,Ht,Pt)),nt&&reactExports.createElement(TickItem,{option:nt,tickProps:Jt,value:"".concat(typeof at=="function"?at(Ht.value,Pt):Ht.value).concat(ot||"")}))});return reactExports.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(St,"-ticks")},Ot.length>0&&reactExports.createElement(ZIndexLayer,{zIndex:DefaultZIndexes.label},reactExports.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(St,"-tick-labels"),ref:et},Ot)),qt.length>0&&reactExports.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(St,"-tick-lines")},qt))}),CartesianAxisComponent=reactExports.forwardRef((_e,et)=>{var{axisLine:rt,width:nt,height:st,className:it,hide:at,ticks:ot,axisType:lt}=_e,ct=_objectWithoutProperties$c(_e,_excluded$d),[ut,dt]=reactExports.useState(""),[pt,mt]=reactExports.useState(""),xt=reactExports.useRef(null);reactExports.useImperativeHandle(et,()=>({getCalculatedWidth:()=>{var vt;return getCalculatedYAxisWidth({ticks:xt.current,label:(vt=_e.labelRef)===null||vt===void 0?void 0:vt.current,labelGapWithTick:5,tickSize:_e.tickSize,tickMargin:_e.tickMargin})}}));var yt=reactExports.useCallback(vt=>{if(vt){var gt=vt.getElementsByClassName("recharts-cartesian-axis-tick-value");xt.current=gt;var Et=gt[0];if(Et){var jt=window.getComputedStyle(Et),kt=jt.fontSize,Rt=jt.letterSpacing;(kt!==ut||Rt!==pt)&&(dt(kt),mt(Rt))}}},[ut,pt]);return at||nt!=null&&nt<=0||st!=null&&st<=0?null:reactExports.createElement(ZIndexLayer,{zIndex:_e.zIndex},reactExports.createElement(Layer,{className:clsx("recharts-cartesian-axis",it)},reactExports.createElement(AxisLine,{x:_e.x,y:_e.y,width:nt,height:st,orientation:_e.orientation,mirror:_e.mirror,axisLine:rt,otherSvgProps:svgPropertiesNoEvents(_e)}),reactExports.createElement(Ticks,{ref:yt,axisType:lt,events:ct,fontSize:ut,getTicksConfig:_e,height:_e.height,letterSpacing:pt,mirror:_e.mirror,orientation:_e.orientation,padding:_e.padding,stroke:_e.stroke,tick:_e.tick,tickFormatter:_e.tickFormatter,tickLine:_e.tickLine,tickMargin:_e.tickMargin,tickSize:_e.tickSize,tickTextProps:_e.tickTextProps,ticks:ot,unit:_e.unit,width:_e.width,x:_e.x,y:_e.y}),reactExports.createElement(CartesianLabelContextProvider,{x:_e.x,y:_e.y,width:_e.width,height:_e.height,lowerWidth:_e.width,upperWidth:_e.width},reactExports.createElement(CartesianLabelFromLabelProp,{label:_e.label,labelRef:_e.labelRef}),_e.children)))}),CartesianAxis=reactExports.forwardRef((_e,et)=>{var rt=resolveDefaultProps(_e,defaultCartesianAxisProps);return reactExports.createElement(CartesianAxisComponent,_extends$b({},rt,{ref:et}))});CartesianAxis.displayName="CartesianAxis";var _excluded$c=["x1","y1","x2","y2","key"],_excluded2$5=["offset"],_excluded3$3=["xAxisId","yAxisId"],_excluded4$1=["xAxisId","yAxisId"];function ownKeys$7(_e,et){var rt=Object.keys(_e);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);et&&(nt=nt.filter(function(st){return Object.getOwnPropertyDescriptor(_e,st).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$6(_e){for(var et=1;et<arguments.length;et++){var rt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$7(Object(rt),!0).forEach(function(nt){_defineProperty$7(_e,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(rt)):ownKeys$7(Object(rt)).forEach(function(nt){Object.defineProperty(_e,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return _e}function _defineProperty$7(_e,et,rt){return(et=_toPropertyKey$7(et))in _e?Object.defineProperty(_e,et,{value:rt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=rt,_e}function _toPropertyKey$7(_e){var et=_toPrimitive$7(_e,"string");return typeof et=="symbol"?et:et+""}function _toPrimitive$7(_e,et){if(typeof _e!="object"||!_e)return _e;var rt=_e[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(_e,et);if(typeof nt!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(_e)}function _extends$a(){return _extends$a=Object.assign?Object.assign.bind():function(_e){for(var et=1;et<arguments.length;et++){var rt=arguments[et];for(var nt in rt)({}).hasOwnProperty.call(rt,nt)&&(_e[nt]=rt[nt])}return _e},_extends$a.apply(null,arguments)}function _objectWithoutProperties$b(_e,et){if(_e==null)return{};var rt,nt,st=_objectWithoutPropertiesLoose$b(_e,et);if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(_e);for(nt=0;nt<it.length;nt++)rt=it[nt],et.indexOf(rt)===-1&&{}.propertyIsEnumerable.call(_e,rt)&&(st[rt]=_e[rt])}return st}function _objectWithoutPropertiesLoose$b(_e,et){if(_e==null)return{};var rt={};for(var nt in _e)if({}.hasOwnProperty.call(_e,nt)){if(et.indexOf(nt)!==-1)continue;rt[nt]=_e[nt]}return rt}var Background=_e=>{var{fill:et}=_e;if(!et||et==="none")return null;var{fillOpacity:rt,x:nt,y:st,width:it,height:at,ry:ot}=_e;return reactExports.createElement("rect",{x:nt,y:st,ry:ot,width:it,height:at,stroke:"none",fill:et,fillOpacity:rt,className:"recharts-cartesian-grid-bg"})};function LineItem(_e){var{option:et,lineItemProps:rt}=_e,nt;if(reactExports.isValidElement(et))nt=reactExports.cloneElement(et,rt);else if(typeof et=="function")nt=et(rt);else{var st,{x1:it,y1:at,x2:ot,y2:lt,key:ct}=rt,ut=_objectWithoutProperties$b(rt,_excluded$c),dt=(st=svgPropertiesNoEvents(ut))!==null&&st!==void 0?st:{},{offset:pt}=dt,mt=_objectWithoutProperties$b(dt,_excluded2$5);nt=reactExports.createElement("line",_extends$a({},mt,{x1:it,y1:at,x2:ot,y2:lt,fill:"none",key:ct}))}return nt}function HorizontalGridLines(_e){var{x:et,width:rt,horizontal:nt=!0,horizontalPoints:st}=_e;if(!nt||!st||!st.length)return null;var{xAxisId:it,yAxisId:at}=_e,ot=_objectWithoutProperties$b(_e,_excluded3$3),lt=st.map((ct,ut)=>{var dt=_objectSpread$6(_objectSpread$6({},ot),{},{x1:et,y1:ct,x2:et+rt,y2:ct,key:"line-".concat(ut),index:ut});return reactExports.createElement(LineItem,{key:"line-".concat(ut),option:nt,lineItemProps:dt})});return reactExports.createElement("g",{className:"recharts-cartesian-grid-horizontal"},lt)}function VerticalGridLines(_e){var{y:et,height:rt,vertical:nt=!0,verticalPoints:st}=_e;if(!nt||!st||!st.length)return null;var{xAxisId:it,yAxisId:at}=_e,ot=_objectWithoutProperties$b(_e,_excluded4$1),lt=st.map((ct,ut)=>{var dt=_objectSpread$6(_objectSpread$6({},ot),{},{x1:ct,y1:et,x2:ct,y2:et+rt,key:"line-".concat(ut),index:ut});return reactExports.createElement(LineItem,{option:nt,lineItemProps:dt,key:"line-".concat(ut)})});return reactExports.createElement("g",{className:"recharts-cartesian-grid-vertical"},lt)}function HorizontalStripes(_e){var{horizontalFill:et,fillOpacity:rt,x:nt,y:st,width:it,height:at,horizontalPoints:ot,horizontal:lt=!0}=_e;if(!lt||!et||!et.length||ot==null)return null;var ct=ot.map(dt=>Math.round(dt+st-st)).sort((dt,pt)=>dt-pt);st!==ct[0]&&ct.unshift(0);var ut=ct.map((dt,pt)=>{var mt=ct[pt+1],xt=mt==null,yt=xt?st+at-dt:mt-dt;if(yt<=0)return null;var vt=pt%et.length;return reactExports.createElement("rect",{key:"react-".concat(pt),y:dt,x:nt,height:yt,width:it,stroke:"none",fill:et[vt],fillOpacity:rt,className:"recharts-cartesian-grid-bg"})});return reactExports.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},ut)}function VerticalStripes(_e){var{vertical:et=!0,verticalFill:rt,fillOpacity:nt,x:st,y:it,width:at,height:ot,verticalPoints:lt}=_e;if(!et||!rt||!rt.length)return null;var ct=lt.map(dt=>Math.round(dt+st-st)).sort((dt,pt)=>dt-pt);st!==ct[0]&&ct.unshift(0);var ut=ct.map((dt,pt)=>{var mt=ct[pt+1],xt=mt==null,yt=xt?st+at-dt:mt-dt;if(yt<=0)return null;var vt=pt%rt.length;return reactExports.createElement("rect",{key:"react-".concat(pt),x:dt,y:it,width:yt,height:ot,stroke:"none",fill:rt[vt],fillOpacity:nt,className:"recharts-cartesian-grid-bg"})});return reactExports.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},ut)}var defaultVerticalCoordinatesGenerator=(_e,et)=>{var{xAxis:rt,width:nt,height:st,offset:it}=_e;return getCoordinatesOfGrid(getTicks(_objectSpread$6(_objectSpread$6(_objectSpread$6({},defaultCartesianAxisProps),rt),{},{ticks:getTicksOfAxis(rt),viewBox:{x:0,y:0,width:nt,height:st}})),it.left,it.left+it.width,et)},defaultHorizontalCoordinatesGenerator=(_e,et)=>{var{yAxis:rt,width:nt,height:st,offset:it}=_e;return getCoordinatesOfGrid(getTicks(_objectSpread$6(_objectSpread$6(_objectSpread$6({},defaultCartesianAxisProps),rt),{},{ticks:getTicksOfAxis(rt),viewBox:{x:0,y:0,width:nt,height:st}})),it.top,it.top+it.height,et)},defaultCartesianGridProps={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:DefaultZIndexes.grid};function CartesianGrid(_e){var et=useChartWidth(),rt=useChartHeight(),nt=useOffsetInternal(),st=_objectSpread$6(_objectSpread$6({},resolveDefaultProps(_e,defaultCartesianGridProps)),{},{x:isNumber$1(_e.x)?_e.x:nt.left,y:isNumber$1(_e.y)?_e.y:nt.top,width:isNumber$1(_e.width)?_e.width:nt.width,height:isNumber$1(_e.height)?_e.height:nt.height}),{xAxisId:it,yAxisId:at,x:ot,y:lt,width:ct,height:ut,syncWithTicks:dt,horizontalValues:pt,verticalValues:mt}=st,xt=useIsPanorama(),yt=useAppSelector(Lt=>selectAxisPropsNeededForCartesianGridTicksGenerator(Lt,"xAxis",it,xt)),vt=useAppSelector(Lt=>selectAxisPropsNeededForCartesianGridTicksGenerator(Lt,"yAxis",at,xt));if(!isPositiveNumber(ct)||!isPositiveNumber(ut)||!isNumber$1(ot)||!isNumber$1(lt))return null;var gt=st.verticalCoordinatesGenerator||defaultVerticalCoordinatesGenerator,Et=st.horizontalCoordinatesGenerator||defaultHorizontalCoordinatesGenerator,{horizontalPoints:jt,verticalPoints:kt}=st;if((!jt||!jt.length)&&typeof Et=="function"){var Rt=pt&&pt.length,St=Et({yAxis:vt?_objectSpread$6(_objectSpread$6({},vt),{},{ticks:Rt?pt:vt.ticks}):void 0,width:et??ct,height:rt??ut,offset:nt},Rt?!0:dt);warn$1(Array.isArray(St),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof St,"]")),Array.isArray(St)&&(jt=St)}if((!kt||!kt.length)&&typeof gt=="function"){var _t=mt&&mt.length,Nt=gt({xAxis:yt?_objectSpread$6(_objectSpread$6({},yt),{},{ticks:_t?mt:yt.ticks}):void 0,width:et??ct,height:rt??ut,offset:nt},_t?!0:dt);warn$1(Array.isArray(Nt),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof Nt,"]")),Array.isArray(Nt)&&(kt=Nt)}return reactExports.createElement(ZIndexLayer,{zIndex:st.zIndex},reactExports.createElement("g",{className:"recharts-cartesian-grid"},reactExports.createElement(Background,{fill:st.fill,fillOpacity:st.fillOpacity,x:st.x,y:st.y,width:st.width,height:st.height,ry:st.ry}),reactExports.createElement(HorizontalStripes,_extends$a({},st,{horizontalPoints:jt})),reactExports.createElement(VerticalStripes,_extends$a({},st,{verticalPoints:kt})),reactExports.createElement(HorizontalGridLines,_extends$a({},st,{offset:nt,horizontalPoints:jt,xAxis:yt,yAxis:vt})),reactExports.createElement(VerticalGridLines,_extends$a({},st,{offset:nt,verticalPoints:kt,xAxis:yt,yAxis:vt}))))}CartesianGrid.displayName="CartesianGrid";var initialState$2={},errorBarSlice=createSlice({name:"errorBars",initialState:initialState$2,reducers:{addErrorBar:(_e,et)=>{var{itemId:rt,errorBar:nt}=et.payload;_e[rt]||(_e[rt]=[]),_e[rt].push(nt)},replaceErrorBar:(_e,et)=>{var{itemId:rt,prev:nt,next:st}=et.payload;_e[rt]&&(_e[rt]=_e[rt].map(it=>it.dataKey===nt.dataKey&&it.direction===nt.direction?st:it))},removeErrorBar:(_e,et)=>{var{itemId:rt,errorBar:nt}=et.payload;_e[rt]&&(_e[rt]=_e[rt].filter(st=>st.dataKey!==nt.dataKey||st.direction!==nt.direction))}}}),{addErrorBar,replaceErrorBar,removeErrorBar}=errorBarSlice.actions,errorBarReducer=errorBarSlice.reducer,_excluded$b=["children"];function _objectWithoutProperties$a(_e,et){if(_e==null)return{};var rt,nt,st=_objectWithoutPropertiesLoose$a(_e,et);if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(_e);for(nt=0;nt<it.length;nt++)rt=it[nt],et.indexOf(rt)===-1&&{}.propertyIsEnumerable.call(_e,rt)&&(st[rt]=_e[rt])}return st}function _objectWithoutPropertiesLoose$a(_e,et){if(_e==null)return{};var rt={};for(var nt in _e)if({}.hasOwnProperty.call(_e,nt)){if(et.indexOf(nt)!==-1)continue;rt[nt]=_e[nt]}return rt}var initialContextState={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},ErrorBarContext=reactExports.createContext(initialContextState);function SetErrorBarContext(_e){var{children:et}=_e,rt=_objectWithoutProperties$a(_e,_excluded$b);return reactExports.createElement(ErrorBarContext.Provider,{value:rt},et)}function useNeedsClip(_e,et){var rt,nt,st=useAppSelector(ct=>selectXAxisSettings(ct,_e)),it=useAppSelector(ct=>selectYAxisSettings(ct,et)),at=(rt=st==null?void 0:st.allowDataOverflow)!==null&&rt!==void 0?rt:implicitXAxis.allowDataOverflow,ot=(nt=it==null?void 0:it.allowDataOverflow)!==null&&nt!==void 0?nt:implicitYAxis.allowDataOverflow,lt=at||ot;return{needClip:lt,needClipX:at,needClipY:ot}}function GraphicalItemClipPath(_e){var{xAxisId:et,yAxisId:rt,clipPathId:nt}=_e,st=usePlotArea(),{needClipX:it,needClipY:at,needClip:ot}=useNeedsClip(et,rt);if(!ot||!st)return null;var{x:lt,y:ct,width:ut,height:dt}=st;return reactExports.createElement("clipPath",{id:"clipPath-".concat(nt)},reactExports.createElement("rect",{x:it?lt:lt-ut/2,y:at?ct:ct-dt/2,width:it?ut:ut*2,height:at?dt:dt*2}))}function getRadiusAndStrokeWidthFromDot(_e){var et=svgPropertiesNoEventsFromUnknown(_e),rt=3,nt=2;if(et!=null){var{r:st,strokeWidth:it}=et,at=Number(st),ot=Number(it);return(Number.isNaN(at)||at<0)&&(at=rt),(Number.isNaN(ot)||ot<0)&&(ot=nt),{r:at,strokeWidth:ot}}return{r:rt,strokeWidth:nt}}var withSelector={exports:{}},useSyncExternalStoreWithSelector_production={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var React=reactExports;function is$1(_e,et){return _e===et&&(_e!==0||1/_e===1/et)||_e!==_e&&et!==et}var objectIs=typeof Object.is=="function"?Object.is:is$1,useSyncExternalStore=React.useSyncExternalStore,useRef=React.useRef,useEffect=React.useEffect,useMemo=React.useMemo,useDebugValue=React.useDebugValue;useSyncExternalStoreWithSelector_production.useSyncExternalStoreWithSelector=function(_e,et,rt,nt,st){var it=useRef(null);if(it.current===null){var at={hasValue:!1,value:null};it.current=at}else at=it.current;it=useMemo(function(){function lt(mt){if(!ct){if(ct=!0,ut=mt,mt=nt(mt),st!==void 0&&at.hasValue){var xt=at.value;if(st(xt,mt))return dt=xt}return dt=mt}if(xt=dt,objectIs(ut,mt))return xt;var yt=nt(mt);return st!==void 0&&st(xt,yt)?(ut=mt,xt):(ut=mt,dt=yt)}var ct=!1,ut,dt,pt=rt===void 0?null:rt;return[function(){return lt(et())},pt===null?void 0:function(){return lt(pt())}]},[et,rt,nt,st]);var ot=useSyncExternalStore(_e,it[0],it[1]);return useEffect(function(){at.hasValue=!0,at.value=ot},[ot]),useDebugValue(ot),ot};withSelector.exports=useSyncExternalStoreWithSelector_production;var withSelectorExports=withSelector.exports;function defaultNoopBatch(_e){_e()}function createListenerCollection(){let _e=null,et=null;return{clear(){_e=null,et=null},notify(){defaultNoopBatch(()=>{let rt=_e;for(;rt;)rt.callback(),rt=rt.next})},get(){const rt=[];let nt=_e;for(;nt;)rt.push(nt),nt=nt.next;return rt},subscribe(rt){let nt=!0;const st=et={callback:rt,next:null,prev:et};return st.prev?st.prev.next=st:_e=st,function(){!nt||_e===null||(nt=!1,st.next?st.next.prev=st.prev:et=st.prev,st.prev?st.prev.next=st.next:_e=st.next)}}}}var nullListeners={notify(){},get:()=>[]};function createSubscription(_e,et){let rt,nt=nullListeners,st=0,it=!1;function at(yt){ut();const vt=nt.subscribe(yt);let gt=!1;return()=>{gt||(gt=!0,vt(),dt())}}function ot(){nt.notify()}function lt(){xt.onStateChange&&xt.onStateChange()}function ct(){return it}function ut(){st++,rt||(rt=_e.subscribe(lt),nt=createListenerCollection())}function dt(){st--,rt&&st===0&&(rt(),rt=void 0,nt.clear(),nt=nullListeners)}function pt(){it||(it=!0,ut())}function mt(){it&&(it=!1,dt())}const xt={addNestedSub:at,notifyNestedSubs:ot,handleChangeWrapper:lt,isSubscribed:ct,trySubscribe:pt,tryUnsubscribe:mt,getListeners:()=>nt};return xt}var canUseDOM=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",isDOM=canUseDOM(),isRunningInReactNative=()=>typeof navigator<"u"&&navigator.product==="ReactNative",isReactNative=isRunningInReactNative(),getUseIsomorphicLayoutEffect=()=>isDOM||isReactNative?reactExports.useLayoutEffect:reactExports.useEffect,useIsomorphicLayoutEffect$2=getUseIsomorphicLayoutEffect();function is(_e,et){return _e===et?_e!==0||et!==0||1/_e===1/et:_e!==_e&&et!==et}function shallowEqual(_e,et){if(is(_e,et))return!0;if(typeof _e!="object"||_e===null||typeof et!="object"||et===null)return!1;const rt=Object.keys(_e),nt=Object.keys(et);if(rt.length!==nt.length)return!1;for(let st=0;st<rt.length;st++)if(!Object.prototype.hasOwnProperty.call(et,rt[st])||!is(_e[rt[st]],et[rt[st]]))return!1;return!0}var ContextKey=Symbol.for("react-redux-context"),gT=typeof globalThis<"u"?globalThis:{};function getContext(){if(!reactExports.createContext)return{};const _e=gT[ContextKey]??(gT[ContextKey]=new Map);let et=_e.get(reactExports.createContext);return et||(et=reactExports.createContext(null),_e.set(reactExports.createContext,et)),et}var ReactReduxContext=getContext();function Provider(_e){const{children:et,context:rt,serverState:nt,store:st}=_e,it=reactExports.useMemo(()=>{const lt=createSubscription(st);return{store:st,subscription:lt,getServerState:nt?()=>nt:void 0}},[st,nt]),at=reactExports.useMemo(()=>st.getState(),[st]);useIsomorphicLayoutEffect$2(()=>{const{subscription:lt}=it;return lt.onStateChange=lt.notifyNestedSubs,lt.trySubscribe(),at!==st.getState()&&lt.notifyNestedSubs(),()=>{lt.tryUnsubscribe(),lt.onStateChange=void 0}},[it,at]);const ot=rt||ReactReduxContext;return reactExports.createElement(ot.Provider,{value:it},et)}var Provider_default=Provider,propsToShallowCompare=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function sameValueZero(_e,et){return _e==null&&et==null?!0:typeof _e=="number"&&typeof et=="number"?_e===et||_e!==_e&&et!==et:_e===et}function propsAreEqual(_e,et){var rt=new Set([...Object.keys(_e),...Object.keys(et)]);for(var nt of rt)if(propsToShallowCompare.has(nt)){if(_e[nt]==null&&et[nt]==null)continue;if(!shallowEqual(_e[nt],et[nt]))return!1}else if(!sameValueZero(_e[nt],et[nt]))return!1;return!0}function selectXAxisIdFromGraphicalItemId(_e,et){var rt,nt;return(rt=(nt=_e.graphicalItems.cartesianItems.find(st=>st.id===et))===null||nt===void 0?void 0:nt.xAxisId)!==null&&rt!==void 0?rt:defaultAxisId}function selectYAxisIdFromGraphicalItemId(_e,et){var rt,nt;return(rt=(nt=_e.graphicalItems.cartesianItems.find(st=>st.id===et))===null||nt===void 0?void 0:nt.yAxisId)!==null&&rt!==void 0?rt:defaultAxisId}var selectXAxisWithScale$1=(_e,et,rt)=>selectAxisWithScale(_e,"xAxis",selectXAxisIdFromGraphicalItemId(_e,et),rt),selectXAxisTicks$1=(_e,et,rt)=>selectTicksOfGraphicalItem(_e,"xAxis",selectXAxisIdFromGraphicalItemId(_e,et),rt),selectYAxisWithScale$1=(_e,et,rt)=>selectAxisWithScale(_e,"yAxis",selectYAxisIdFromGraphicalItemId(_e,et),rt),selectYAxisTicks$1=(_e,et,rt)=>selectTicksOfGraphicalItem(_e,"yAxis",selectYAxisIdFromGraphicalItemId(_e,et),rt),selectBandSize=createSelector([selectChartLayout,selectXAxisWithScale$1,selectYAxisWithScale$1,selectXAxisTicks$1,selectYAxisTicks$1],(_e,et,rt,nt,st)=>isCategoricalAxis(_e,"xAxis")?getBandSizeOfAxis(et,nt,!1):getBandSizeOfAxis(rt,st,!1)),pickAreaId=(_e,et)=>et,selectSynchronisedAreaSettings=createSelector([selectUnfilteredCartesianItems,pickAreaId],(_e,et)=>_e.filter(rt=>rt.type==="area").find(rt=>rt.id===et)),selectNumericalAxisType=_e=>{var et=selectChartLayout(_e),rt=isCategoricalAxis(et,"xAxis");return rt?"yAxis":"xAxis"},selectNumericalAxisIdFromGraphicalItemId=(_e,et)=>{var rt=selectNumericalAxisType(_e);return rt==="yAxis"?selectYAxisIdFromGraphicalItemId(_e,et):selectXAxisIdFromGraphicalItemId(_e,et)},selectNumericalAxisStackGroups=(_e,et,rt)=>selectStackGroups(_e,selectNumericalAxisType(_e),selectNumericalAxisIdFromGraphicalItemId(_e,et),rt),selectGraphicalItemStackedData=createSelector([selectSynchronisedAreaSettings,selectNumericalAxisStackGroups],(_e,et)=>{var rt;if(!(_e==null||et==null)){var{stackId:nt}=_e,st=getStackSeriesIdentifier(_e);if(!(nt==null||st==null)){var it=(rt=et[nt])===null||rt===void 0?void 0:rt.stackedData,at=it==null?void 0:it.find(ot=>ot.key===st);if(at!=null)return at.map(ot=>[ot[0],ot[1]])}}}),selectArea=createSelector([selectChartLayout,selectXAxisWithScale$1,selectYAxisWithScale$1,selectXAxisTicks$1,selectYAxisTicks$1,selectGraphicalItemStackedData,selectChartDataWithIndexesIfNotInPanoramaPosition3,selectBandSize,selectSynchronisedAreaSettings,selectChartBaseValue],(_e,et,rt,nt,st,it,at,ot,lt,ct)=>{var{chartData:ut,dataStartIndex:dt,dataEndIndex:pt}=at;if(!(lt==null||_e!=="horizontal"&&_e!=="vertical"||et==null||rt==null||nt==null||st==null||nt.length===0||st.length===0||ot==null)){var{data:mt}=lt,xt;if(mt&&mt.length>0?xt=mt:xt=ut==null?void 0:ut.slice(dt,pt+1),xt!=null)return computeArea({layout:_e,xAxis:et,yAxis:rt,xAxisTicks:nt,yAxisTicks:st,dataStartIndex:dt,areaSettings:lt,stackedData:it,displayedData:xt,chartBaseValue:ct,bandSize:ot})}}),_excluded$a=["id"],_excluded2$4=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function _extends$9(){return _extends$9=Object.assign?Object.assign.bind():function(_e){for(var et=1;et<arguments.length;et++){var rt=arguments[et];for(var nt in rt)({}).hasOwnProperty.call(rt,nt)&&(_e[nt]=rt[nt])}return _e},_extends$9.apply(null,arguments)}function _objectWithoutProperties$9(_e,et){if(_e==null)return{};var rt,nt,st=_objectWithoutPropertiesLoose$9(_e,et);if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(_e);for(nt=0;nt<it.length;nt++)rt=it[nt],et.indexOf(rt)===-1&&{}.propertyIsEnumerable.call(_e,rt)&&(st[rt]=_e[rt])}return st}function _objectWithoutPropertiesLoose$9(_e,et){if(_e==null)return{};var rt={};for(var nt in _e)if({}.hasOwnProperty.call(_e,nt)){if(et.indexOf(nt)!==-1)continue;rt[nt]=_e[nt]}return rt}function ownKeys$6(_e,et){var rt=Object.keys(_e);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);et&&(nt=nt.filter(function(st){return Object.getOwnPropertyDescriptor(_e,st).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$5(_e){for(var et=1;et<arguments.length;et++){var rt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$6(Object(rt),!0).forEach(function(nt){_defineProperty$6(_e,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(rt)):ownKeys$6(Object(rt)).forEach(function(nt){Object.defineProperty(_e,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return _e}function _defineProperty$6(_e,et,rt){return(et=_toPropertyKey$6(et))in _e?Object.defineProperty(_e,et,{value:rt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=rt,_e}function _toPropertyKey$6(_e){var et=_toPrimitive$6(_e,"string");return typeof et=="symbol"?et:et+""}function _toPrimitive$6(_e,et){if(typeof _e!="object"||!_e)return _e;var rt=_e[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(_e,et);if(typeof nt!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(_e)}function getLegendItemColor(_e,et){return _e&&_e!=="none"?_e:et}var computeLegendPayloadFromAreaData=_e=>{var{dataKey:et,name:rt,stroke:nt,fill:st,legendType:it,hide:at}=_e;return[{inactive:at,dataKey:et,type:it,color:getLegendItemColor(nt,st),value:getTooltipNameProp(rt,et),payload:_e}]},SetAreaTooltipEntrySettings=reactExports.memo(_e=>{var{dataKey:et,data:rt,stroke:nt,strokeWidth:st,fill:it,name:at,hide:ot,unit:lt,tooltipType:ct,id:ut}=_e,dt={dataDefinedOnItem:rt,getPosition:noop$3,settings:{stroke:nt,strokeWidth:st,fill:it,dataKey:et,nameKey:void 0,name:getTooltipNameProp(at,et),hide:ot,type:ct,color:getLegendItemColor(nt,it),unit:lt,graphicalItemId:ut}};return reactExports.createElement(SetTooltipEntrySettings,{tooltipEntrySettings:dt})});function AreaDotsWrapper(_e){var{clipPathId:et,points:rt,props:nt}=_e,{needClip:st,dot:it,dataKey:at}=nt,ot=svgPropertiesNoEvents(nt);return reactExports.createElement(Dots,{points:rt,dot:it,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:at,baseProps:ot,needClip:st,clipPathId:et})}function AreaLabelListProvider(_e){var{showLabels:et,children:rt,points:nt}=_e,st=nt.map(it=>{var at,ot,lt={x:(at=it.x)!==null&&at!==void 0?at:0,y:(ot=it.y)!==null&&ot!==void 0?ot:0,width:0,lowerWidth:0,upperWidth:0,height:0};return _objectSpread$5(_objectSpread$5({},lt),{},{value:it.value,payload:it.payload,parentViewBox:void 0,viewBox:lt,fill:void 0})});return reactExports.createElement(CartesianLabelListContextProvider,{value:et?st:void 0},rt)}function StaticArea(_e){var{points:et,baseLine:rt,needClip:nt,clipPathId:st,props:it}=_e,{layout:at,type:ot,stroke:lt,connectNulls:ct,isRange:ut}=it,{id:dt}=it,pt=_objectWithoutProperties$9(it,_excluded$a),mt=svgPropertiesNoEvents(pt),xt=svgPropertiesAndEvents(pt);return reactExports.createElement(reactExports.Fragment,null,(et==null?void 0:et.length)>1&&reactExports.createElement(Layer,{clipPath:nt?"url(#clipPath-".concat(st,")"):void 0},reactExports.createElement(Curve,_extends$9({},xt,{id:dt,points:et,connectNulls:ct,type:ot,baseLine:rt,layout:at,stroke:"none",className:"recharts-area-area"})),lt!=="none"&&reactExports.createElement(Curve,_extends$9({},mt,{className:"recharts-area-curve",layout:at,type:ot,connectNulls:ct,fill:"none",points:et})),lt!=="none"&&ut&&reactExports.createElement(Curve,_extends$9({},mt,{className:"recharts-area-curve",layout:at,type:ot,connectNulls:ct,fill:"none",points:rt}))),reactExports.createElement(AreaDotsWrapper,{points:et,props:pt,clipPathId:st}))}function VerticalRect(_e){var et,rt,{alpha:nt,baseLine:st,points:it,strokeWidth:at}=_e,ot=(et=it[0])===null||et===void 0?void 0:et.y,lt=(rt=it[it.length-1])===null||rt===void 0?void 0:rt.y;if(!isWellBehavedNumber(ot)||!isWellBehavedNumber(lt))return null;var ct=nt*Math.abs(ot-lt),ut=Math.max(...it.map(dt=>dt.x||0));return isNumber$1(st)?ut=Math.max(st,ut):st&&Array.isArray(st)&&st.length&&(ut=Math.max(...st.map(dt=>dt.x||0),ut)),isNumber$1(ut)?reactExports.createElement("rect",{x:0,y:ot<lt?ot:ot-ct,width:ut+(at?parseInt("".concat(at),10):1),height:Math.floor(ct)}):null}function HorizontalRect(_e){var et,rt,{alpha:nt,baseLine:st,points:it,strokeWidth:at}=_e,ot=(et=it[0])===null||et===void 0?void 0:et.x,lt=(rt=it[it.length-1])===null||rt===void 0?void 0:rt.x;if(!isWellBehavedNumber(ot)||!isWellBehavedNumber(lt))return null;var ct=nt*Math.abs(ot-lt),ut=Math.max(...it.map(dt=>dt.y||0));return isNumber$1(st)?ut=Math.max(st,ut):st&&Array.isArray(st)&&st.length&&(ut=Math.max(...st.map(dt=>dt.y||0),ut)),isNumber$1(ut)?reactExports.createElement("rect",{x:ot<lt?ot:ot-ct,y:0,width:ct,height:Math.floor(ut+(at?parseInt("".concat(at),10):1))}):null}function ClipRect(_e){var{alpha:et,layout:rt,points:nt,baseLine:st,strokeWidth:it}=_e;return rt==="vertical"?reactExports.createElement(VerticalRect,{alpha:et,points:nt,baseLine:st,strokeWidth:it}):reactExports.createElement(HorizontalRect,{alpha:et,points:nt,baseLine:st,strokeWidth:it})}function AreaWithAnimation(_e){var{needClip:et,clipPathId:rt,props:nt,previousPointsRef:st,previousBaselineRef:it}=_e,{points:at,baseLine:ot,isAnimationActive:lt,animationBegin:ct,animationDuration:ut,animationEasing:dt,onAnimationStart:pt,onAnimationEnd:mt}=nt,xt=reactExports.useMemo(()=>({points:at,baseLine:ot}),[at,ot]),yt=useAnimationId(xt,"recharts-area-"),vt=useCartesianChartLayout(),[gt,Et]=reactExports.useState(!1),jt=!gt,kt=reactExports.useCallback(()=>{typeof mt=="function"&&mt(),Et(!1)},[mt]),Rt=reactExports.useCallback(()=>{typeof pt=="function"&&pt(),Et(!0)},[pt]);if(vt==null)return null;var St=st.current,_t=it.current;return reactExports.createElement(AreaLabelListProvider,{showLabels:jt,points:at},nt.children,reactExports.createElement(JavascriptAnimate,{animationId:yt,begin:ct,duration:ut,isActive:lt,easing:dt,onAnimationEnd:kt,onAnimationStart:Rt,key:yt},Nt=>{if(St){var Lt=St.length/at.length,$t=Nt===1?at:at.map((Tt,Bt)=>{var Wt=Math.floor(Bt*Lt);if(St[Wt]){var qt=St[Wt];return _objectSpread$5(_objectSpread$5({},Tt),{},{x:interpolate$1(qt.x,Tt.x,Nt),y:interpolate$1(qt.y,Tt.y,Nt)})}return Tt}),Ft;return isNumber$1(ot)?Ft=interpolate$1(_t,ot,Nt):isNullish(ot)||isNan(ot)?Ft=interpolate$1(_t,0,Nt):Ft=ot.map((Tt,Bt)=>{var Wt=Math.floor(Bt*Lt);if(Array.isArray(_t)&&_t[Wt]){var qt=_t[Wt];return _objectSpread$5(_objectSpread$5({},Tt),{},{x:interpolate$1(qt.x,Tt.x,Nt),y:interpolate$1(qt.y,Tt.y,Nt)})}return Tt}),Nt>0&&(st.current=$t,it.current=Ft),reactExports.createElement(StaticArea,{points:$t,baseLine:Ft,needClip:et,clipPathId:rt,props:nt})}return Nt>0&&(st.current=at,it.current=ot),reactExports.createElement(Layer,null,lt&&reactExports.createElement("defs",null,reactExports.createElement("clipPath",{id:"animationClipPath-".concat(rt)},reactExports.createElement(ClipRect,{alpha:Nt,points:at,baseLine:ot,layout:vt,strokeWidth:nt.strokeWidth}))),reactExports.createElement(Layer,{clipPath:"url(#animationClipPath-".concat(rt,")")},reactExports.createElement(StaticArea,{points:at,baseLine:ot,needClip:et,clipPathId:rt,props:nt})))}),reactExports.createElement(LabelListFromLabelProp,{label:nt.label}))}function RenderArea(_e){var{needClip:et,clipPathId:rt,props:nt}=_e,st=reactExports.useRef(null),it=reactExports.useRef();return reactExports.createElement(AreaWithAnimation,{needClip:et,clipPathId:rt,props:nt,previousPointsRef:st,previousBaselineRef:it})}class AreaWithState extends reactExports.PureComponent{render(){var{hide:et,dot:rt,points:nt,className:st,top:it,left:at,needClip:ot,xAxisId:lt,yAxisId:ct,width:ut,height:dt,id:pt,baseLine:mt,zIndex:xt}=this.props;if(et)return null;var yt=clsx("recharts-area",st),vt=pt,{r:gt,strokeWidth:Et}=getRadiusAndStrokeWidthFromDot(rt),jt=isClipDot(rt),kt=gt*2+Et,Rt=ot?"url(#clipPath-".concat(jt?"":"dots-").concat(vt,")"):void 0;return reactExports.createElement(ZIndexLayer,{zIndex:xt},reactExports.createElement(Layer,{className:yt},ot&&reactExports.createElement("defs",null,reactExports.createElement(GraphicalItemClipPath,{clipPathId:vt,xAxisId:lt,yAxisId:ct}),!jt&&reactExports.createElement("clipPath",{id:"clipPath-dots-".concat(vt)},reactExports.createElement("rect",{x:at-kt/2,y:it-kt/2,width:ut+kt,height:dt+kt}))),reactExports.createElement(RenderArea,{needClip:ot,clipPathId:vt,props:this.props})),reactExports.createElement(ActivePoints,{points:nt,mainColor:getLegendItemColor(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:Rt}),this.props.isRange&&Array.isArray(mt)&&reactExports.createElement(ActivePoints,{points:mt,mainColor:getLegendItemColor(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:Rt}))}}var defaultAreaProps={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:DefaultZIndexes.area};function AreaImpl(_e){var et,rt=resolveDefaultProps(_e,defaultAreaProps),{activeDot:nt,animationBegin:st,animationDuration:it,animationEasing:at,connectNulls:ot,dot:lt,fill:ct,fillOpacity:ut,hide:dt,isAnimationActive:pt,legendType:mt,stroke:xt,xAxisId:yt,yAxisId:vt}=rt,gt=_objectWithoutProperties$9(rt,_excluded2$4),Et=useChartLayout(),jt=useChartName(),{needClip:kt}=useNeedsClip(yt,vt),Rt=useIsPanorama(),{points:St,isRange:_t,baseLine:Nt}=(et=useAppSelector(Wt=>selectArea(Wt,_e.id,Rt)))!==null&&et!==void 0?et:{},Lt=usePlotArea();if(Et!=="horizontal"&&Et!=="vertical"||Lt==null||jt!=="AreaChart"&&jt!=="ComposedChart")return null;var{height:$t,width:Ft,x:Tt,y:Bt}=Lt;return!St||!St.length?null:reactExports.createElement(AreaWithState,_extends$9({},gt,{activeDot:nt,animationBegin:st,animationDuration:it,animationEasing:at,baseLine:Nt,connectNulls:ot,dot:lt,fill:ct,fillOpacity:ut,height:$t,hide:dt,layout:Et,isAnimationActive:pt==="auto"?!Global.isSsr:pt,isRange:_t,legendType:mt,needClip:kt,points:St,stroke:xt,width:Ft,left:Tt,top:Bt,xAxisId:yt,yAxisId:vt}))}var getBaseValue=(_e,et,rt,nt,st)=>{var it=rt??et;if(isNumber$1(it))return it;var at=_e==="horizontal"?st:nt,ot=at.scale.domain();if(at.type==="number"){var lt=Math.max(ot[0],ot[1]),ct=Math.min(ot[0],ot[1]);return it==="dataMin"?ct:it==="dataMax"||lt<0?lt:Math.max(Math.min(ot[0],ot[1]),0)}return it==="dataMin"?ot[0]:it==="dataMax"?ot[1]:ot[0]};function computeArea(_e){var{areaSettings:{connectNulls:et,baseValue:rt,dataKey:nt},stackedData:st,layout:it,chartBaseValue:at,xAxis:ot,yAxis:lt,displayedData:ct,dataStartIndex:ut,xAxisTicks:dt,yAxisTicks:pt,bandSize:mt}=_e,xt=st&&st.length,yt=getBaseValue(it,at,rt,ot,lt),vt=it==="horizontal",gt=!1,Et=ct.map((kt,Rt)=>{var St,_t,Nt,Lt;if(xt)Lt=st[ut+Rt];else{var $t=getValueByDataKey(kt,nt);Array.isArray($t)?(Lt=$t,gt=!0):Lt=[yt,$t]}var Ft=(St=(_t=Lt)===null||_t===void 0?void 0:_t[1])!==null&&St!==void 0?St:null,Tt=Ft==null||xt&&!et&&getValueByDataKey(kt,nt)==null;if(vt){var Bt;return{x:getCateCoordinateOfLine({axis:ot,ticks:dt,bandSize:mt,entry:kt,index:Rt}),y:Tt?null:(Bt=lt.scale.map(Ft))!==null&&Bt!==void 0?Bt:null,value:Lt,payload:kt}}return{x:Tt?null:(Nt=ot.scale.map(Ft))!==null&&Nt!==void 0?Nt:null,y:getCateCoordinateOfLine({axis:lt,ticks:pt,bandSize:mt,entry:kt,index:Rt}),value:Lt,payload:kt}}),jt;return xt||gt?jt=Et.map(kt=>{var Rt,St=Array.isArray(kt.value)?kt.value[0]:null;if(vt){var _t;return{x:kt.x,y:St!=null&&kt.y!=null&&(_t=lt.scale.map(St))!==null&&_t!==void 0?_t:null,payload:kt.payload}}return{x:St!=null&&(Rt=ot.scale.map(St))!==null&&Rt!==void 0?Rt:null,y:kt.y,payload:kt.payload}}):jt=vt?lt.scale.map(yt):ot.scale.map(yt),{points:Et,baseLine:jt??0,isRange:gt}}function AreaFn(_e){var et=resolveDefaultProps(_e,defaultAreaProps),rt=useIsPanorama();return reactExports.createElement(RegisterGraphicalItemId,{id:et.id,type:"area"},nt=>reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(SetLegendPayload,{legendPayload:computeLegendPayloadFromAreaData(et)}),reactExports.createElement(SetAreaTooltipEntrySettings,{dataKey:et.dataKey,data:et.data,stroke:et.stroke,strokeWidth:et.strokeWidth,fill:et.fill,name:et.name,hide:et.hide,unit:et.unit,tooltipType:et.tooltipType,id:nt}),reactExports.createElement(SetCartesianGraphicalItem,{type:"area",id:nt,data:et.data,dataKey:et.dataKey,xAxisId:et.xAxisId,yAxisId:et.yAxisId,zAxisId:0,stackId:getNormalizedStackId(et.stackId),hide:et.hide,barSize:void 0,baseValue:et.baseValue,isPanorama:rt,connectNulls:et.connectNulls}),reactExports.createElement(AreaImpl,_extends$9({},et,{id:nt}))))}var Area=reactExports.memo(AreaFn,propsAreEqual);Area.displayName="Area";var prefix="Invariant failed";function invariant(_e,et){throw new Error(prefix)}function _extends$8(){return _extends$8=Object.assign?Object.assign.bind():function(_e){for(var et=1;et<arguments.length;et++){var rt=arguments[et];for(var nt in rt)({}).hasOwnProperty.call(rt,nt)&&(_e[nt]=rt[nt])}return _e},_extends$8.apply(null,arguments)}function BarRectangle(_e){return reactExports.createElement(Shape,_extends$8({shapeType:"rectangle",activeClassName:"recharts-active-bar"},_e))}var minPointSizeCallback=function(et){var rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(nt,st)=>{if(isNumber$1(et))return et;var it=isNumber$1(nt)||isNullish(nt);return it?et(nt,st):(it||invariant(),rt)}},pickIsPanorama=(_e,et,rt)=>rt,pickBarId=(_e,et)=>et,selectSynchronisedBarSettings=createSelector([selectUnfilteredCartesianItems,pickBarId],(_e,et)=>_e.filter(rt=>rt.type==="bar").find(rt=>rt.id===et)),selectMaxBarSize=createSelector([selectSynchronisedBarSettings],_e=>_e==null?void 0:_e.maxBarSize),pickCells=(_e,et,rt,nt)=>nt,selectAllVisibleBars=createSelector([selectChartLayout,selectUnfilteredCartesianItems,selectXAxisIdFromGraphicalItemId,selectYAxisIdFromGraphicalItemId,pickIsPanorama],(_e,et,rt,nt,st)=>et.filter(it=>_e==="horizontal"?it.xAxisId===rt:it.yAxisId===nt).filter(it=>it.isPanorama===st).filter(it=>it.hide===!1).filter(it=>it.type==="bar")),selectBarStackGroups=(_e,et,rt)=>{var nt=selectChartLayout(_e),st=selectXAxisIdFromGraphicalItemId(_e,et),it=selectYAxisIdFromGraphicalItemId(_e,et);if(!(st==null||it==null))return nt==="horizontal"?selectStackGroups(_e,"yAxis",it,rt):selectStackGroups(_e,"xAxis",st,rt)},selectBarCartesianAxisSize=(_e,et)=>{var rt=selectChartLayout(_e),nt=selectXAxisIdFromGraphicalItemId(_e,et),st=selectYAxisIdFromGraphicalItemId(_e,et);if(!(nt==null||st==null))return rt==="horizontal"?selectCartesianAxisSize(_e,"xAxis",nt):selectCartesianAxisSize(_e,"yAxis",st)},selectBarSizeList=createSelector([selectAllVisibleBars,selectRootBarSize,selectBarCartesianAxisSize],combineBarSizeList),selectBarBandSize=(_e,et,rt)=>{var nt,st,it=selectSynchronisedBarSettings(_e,et);if(it==null)return 0;var at=selectXAxisIdFromGraphicalItemId(_e,et),ot=selectYAxisIdFromGraphicalItemId(_e,et);if(at==null||ot==null)return 0;var lt=selectChartLayout(_e),ct=selectRootMaxBarSize(_e),{maxBarSize:ut}=it,dt=isNullish(ut)?ct:ut,pt,mt;return lt==="horizontal"?(pt=selectAxisWithScale(_e,"xAxis",at,rt),mt=selectTicksOfGraphicalItem(_e,"xAxis",at,rt)):(pt=selectAxisWithScale(_e,"yAxis",ot,rt),mt=selectTicksOfGraphicalItem(_e,"yAxis",ot,rt)),(nt=(st=getBandSizeOfAxis(pt,mt,!0))!==null&&st!==void 0?st:dt)!==null&&nt!==void 0?nt:0},selectAxisBandSize=(_e,et,rt)=>{var nt=selectChartLayout(_e),st=selectXAxisIdFromGraphicalItemId(_e,et),it=selectYAxisIdFromGraphicalItemId(_e,et);if(!(st==null||it==null)){var at,ot;return nt==="horizontal"?(at=selectAxisWithScale(_e,"xAxis",st,rt),ot=selectTicksOfGraphicalItem(_e,"xAxis",st,rt)):(at=selectAxisWithScale(_e,"yAxis",it,rt),ot=selectTicksOfGraphicalItem(_e,"yAxis",it,rt)),getBandSizeOfAxis(at,ot)}},selectAllBarPositions=createSelector([selectBarSizeList,selectRootMaxBarSize,selectBarGap,selectBarCategoryGap,selectBarBandSize,selectAxisBandSize,selectMaxBarSize],combineAllBarPositions),selectXAxisWithScale=(_e,et,rt)=>{var nt=selectXAxisIdFromGraphicalItemId(_e,et);if(nt!=null)return selectAxisWithScale(_e,"xAxis",nt,rt)},selectYAxisWithScale=(_e,et,rt)=>{var nt=selectYAxisIdFromGraphicalItemId(_e,et);if(nt!=null)return selectAxisWithScale(_e,"yAxis",nt,rt)},selectXAxisTicks=(_e,et,rt)=>{var nt=selectXAxisIdFromGraphicalItemId(_e,et);if(nt!=null)return selectTicksOfGraphicalItem(_e,"xAxis",nt,rt)},selectYAxisTicks=(_e,et,rt)=>{var nt=selectYAxisIdFromGraphicalItemId(_e,et);if(nt!=null)return selectTicksOfGraphicalItem(_e,"yAxis",nt,rt)},selectBarPosition=createSelector([selectAllBarPositions,selectSynchronisedBarSettings],combineBarPosition),selectStackedDataOfItem=createSelector([selectBarStackGroups,selectSynchronisedBarSettings],combineStackedData),selectBarRectangles=createSelector([selectChartOffsetInternal,selectAxisViewBox,selectXAxisWithScale,selectYAxisWithScale,selectXAxisTicks,selectYAxisTicks,selectBarPosition,selectChartLayout,selectChartDataWithIndexesIfNotInPanoramaPosition3,selectAxisBandSize,selectStackedDataOfItem,selectSynchronisedBarSettings,pickCells],(_e,et,rt,nt,st,it,at,ot,lt,ct,ut,dt,pt)=>{var{chartData:mt,dataStartIndex:xt,dataEndIndex:yt}=lt;if(!(dt==null||at==null||et==null||ot!=="horizontal"&&ot!=="vertical"||rt==null||nt==null||st==null||it==null||ct==null)){var{data:vt}=dt,gt;if(vt!=null&&vt.length>0?gt=vt:gt=mt==null?void 0:mt.slice(xt,yt+1),gt!=null)return computeBarRectangles({layout:ot,barSettings:dt,pos:at,parentViewBox:et,bandSize:ct,xAxis:rt,yAxis:nt,xAxisTicks:st,yAxisTicks:it,stackedData:ut,displayedData:gt,offset:_e,cells:pt,dataStartIndex:xt})}}),_excluded$9=["index"];function _extends$7(){return _extends$7=Object.assign?Object.assign.bind():function(_e){for(var et=1;et<arguments.length;et++){var rt=arguments[et];for(var nt in rt)({}).hasOwnProperty.call(rt,nt)&&(_e[nt]=rt[nt])}return _e},_extends$7.apply(null,arguments)}function _objectWithoutProperties$8(_e,et){if(_e==null)return{};var rt,nt,st=_objectWithoutPropertiesLoose$8(_e,et);if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(_e);for(nt=0;nt<it.length;nt++)rt=it[nt],et.indexOf(rt)===-1&&{}.propertyIsEnumerable.call(_e,rt)&&(st[rt]=_e[rt])}return st}function _objectWithoutPropertiesLoose$8(_e,et){if(_e==null)return{};var rt={};for(var nt in _e)if({}.hasOwnProperty.call(_e,nt)){if(et.indexOf(nt)!==-1)continue;rt[nt]=_e[nt]}return rt}var BarStackContext=reactExports.createContext(void 0),useStackId=_e=>{var et=reactExports.useContext(BarStackContext);if(et!=null)return et.stackId;if(_e!=null)return getNormalizedStackId(_e)},getClipPathId=(_e,et)=>"recharts-bar-stack-clip-path-".concat(_e,"-").concat(et),useBarStackClipPathUrl=_e=>{var et=reactExports.useContext(BarStackContext);if(et!=null){var{stackId:rt}=et;return"url(#".concat(getClipPathId(rt,_e),")")}},BarStackClipLayer=_e=>{var{index:et}=_e,rt=_objectWithoutProperties$8(_e,_excluded$9),nt=useBarStackClipPathUrl(et);return reactExports.createElement(Layer,_extends$7({className:"recharts-bar-stack-layer",clipPath:nt},rt))},_excluded$8=["onMouseEnter","onMouseLeave","onClick"],_excluded2$3=["value","background","tooltipPosition"],_excluded3$2=["id"],_excluded4=["onMouseEnter","onClick","onMouseLeave"];function _extends$6(){return _extends$6=Object.assign?Object.assign.bind():function(_e){for(var et=1;et<arguments.length;et++){var rt=arguments[et];for(var nt in rt)({}).hasOwnProperty.call(rt,nt)&&(_e[nt]=rt[nt])}return _e},_extends$6.apply(null,arguments)}function ownKeys$5(_e,et){var rt=Object.keys(_e);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);et&&(nt=nt.filter(function(st){return Object.getOwnPropertyDescriptor(_e,st).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$4(_e){for(var et=1;et<arguments.length;et++){var rt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$5(Object(rt),!0).forEach(function(nt){_defineProperty$5(_e,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(rt)):ownKeys$5(Object(rt)).forEach(function(nt){Object.defineProperty(_e,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return _e}function _defineProperty$5(_e,et,rt){return(et=_toPropertyKey$5(et))in _e?Object.defineProperty(_e,et,{value:rt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=rt,_e}function _toPropertyKey$5(_e){var et=_toPrimitive$5(_e,"string");return typeof et=="symbol"?et:et+""}function _toPrimitive$5(_e,et){if(typeof _e!="object"||!_e)return _e;var rt=_e[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(_e,et);if(typeof nt!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(_e)}function _objectWithoutProperties$7(_e,et){if(_e==null)return{};var rt,nt,st=_objectWithoutPropertiesLoose$7(_e,et);if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(_e);for(nt=0;nt<it.length;nt++)rt=it[nt],et.indexOf(rt)===-1&&{}.propertyIsEnumerable.call(_e,rt)&&(st[rt]=_e[rt])}return st}function _objectWithoutPropertiesLoose$7(_e,et){if(_e==null)return{};var rt={};for(var nt in _e)if({}.hasOwnProperty.call(_e,nt)){if(et.indexOf(nt)!==-1)continue;rt[nt]=_e[nt]}return rt}var computeLegendPayloadFromBarData=_e=>{var{dataKey:et,name:rt,fill:nt,legendType:st,hide:it}=_e;return[{inactive:it,dataKey:et,type:st,color:nt,value:getTooltipNameProp(rt,et),payload:_e}]},SetBarTooltipEntrySettings=reactExports.memo(_e=>{var{dataKey:et,stroke:rt,strokeWidth:nt,fill:st,name:it,hide:at,unit:ot,tooltipType:lt,id:ct}=_e,ut={dataDefinedOnItem:void 0,getPosition:noop$3,settings:{stroke:rt,strokeWidth:nt,fill:st,dataKey:et,nameKey:void 0,name:getTooltipNameProp(it,et),hide:at,type:lt,color:st,unit:ot,graphicalItemId:ct}};return reactExports.createElement(SetTooltipEntrySettings,{tooltipEntrySettings:ut})});function BarBackground(_e){var et=useAppSelector(selectActiveTooltipIndex),{data:rt,dataKey:nt,background:st,allOtherBarProps:it}=_e,{onMouseEnter:at,onMouseLeave:ot,onClick:lt}=it,ct=_objectWithoutProperties$7(it,_excluded$8),ut=useMouseEnterItemDispatch(at,nt,it.id),dt=useMouseLeaveItemDispatch(ot),pt=useMouseClickItemDispatch(lt,nt,it.id);if(!st||rt==null)return null;var mt=svgPropertiesNoEventsFromUnknown(st);return reactExports.createElement(ZIndexLayer,{zIndex:getZIndexFromUnknown(st,DefaultZIndexes.barBackground)},rt.map((xt,yt)=>{var{value:vt,background:gt,tooltipPosition:Et}=xt,jt=_objectWithoutProperties$7(xt,_excluded2$3);if(!gt)return null;var kt=ut(xt,yt),Rt=dt(xt,yt),St=pt(xt,yt),_t=_objectSpread$4(_objectSpread$4(_objectSpread$4(_objectSpread$4(_objectSpread$4({option:st,isActive:String(yt)===et},jt),{},{fill:"#eee"},gt),mt),adaptEventsOfChild(ct,xt,yt)),{},{onMouseEnter:kt,onMouseLeave:Rt,onClick:St,dataKey:nt,index:yt,className:"recharts-bar-background-rectangle"});return reactExports.createElement(BarRectangle,_extends$6({key:"background-bar-".concat(yt)},_t))}))}function BarLabelListProvider(_e){var{showLabels:et,children:rt,rects:nt}=_e,st=nt==null?void 0:nt.map(it=>{var at={x:it.x,y:it.y,width:it.width,lowerWidth:it.width,upperWidth:it.width,height:it.height};return _objectSpread$4(_objectSpread$4({},at),{},{value:it.value,payload:it.payload,parentViewBox:it.parentViewBox,viewBox:at,fill:it.fill})});return reactExports.createElement(CartesianLabelListContextProvider,{value:et?st:void 0},rt)}function BarRectangleWithActiveState(_e){var{shape:et,activeBar:rt,baseProps:nt,entry:st,index:it,dataKey:at}=_e,ot=useAppSelector(selectActiveTooltipIndex),lt=useAppSelector(selectActiveTooltipDataKey),ct=rt&&String(it)===ot&&(lt==null||at===lt),ut=ct?rt:et;return ct?reactExports.createElement(ZIndexLayer,{zIndex:DefaultZIndexes.activeBar},reactExports.createElement(BarStackClipLayer,{index:it},reactExports.createElement(BarRectangle,_extends$6({},nt,{name:String(nt.name)},st,{isActive:ct,option:ut,index:it,dataKey:at})))):reactExports.createElement(BarRectangle,_extends$6({},nt,{name:String(nt.name)},st,{isActive:ct,option:ut,index:it,dataKey:at}))}function BarRectangleNeverActive(_e){var{shape:et,baseProps:rt,entry:nt,index:st,dataKey:it}=_e;return reactExports.createElement(BarRectangle,_extends$6({},rt,{name:String(rt.name)},nt,{isActive:!1,option:et,index:st,dataKey:it}))}function BarRectangles(_e){var et,{data:rt,props:nt}=_e,st=(et=svgPropertiesNoEvents(nt))!==null&&et!==void 0?et:{},{id:it}=st,at=_objectWithoutProperties$7(st,_excluded3$2),{shape:ot,dataKey:lt,activeBar:ct}=nt,{onMouseEnter:ut,onClick:dt,onMouseLeave:pt}=nt,mt=_objectWithoutProperties$7(nt,_excluded4),xt=useMouseEnterItemDispatch(ut,lt,it),yt=useMouseLeaveItemDispatch(pt),vt=useMouseClickItemDispatch(dt,lt,it);return rt?reactExports.createElement(reactExports.Fragment,null,rt.map((gt,Et)=>reactExports.createElement(BarStackClipLayer,_extends$6({index:Et,key:"rectangle-".concat(gt==null?void 0:gt.x,"-").concat(gt==null?void 0:gt.y,"-").concat(gt==null?void 0:gt.value,"-").concat(Et),className:"recharts-bar-rectangle"},adaptEventsOfChild(mt,gt,Et),{onMouseEnter:xt(gt,Et),onMouseLeave:yt(gt,Et),onClick:vt(gt,Et)}),ct?reactExports.createElement(BarRectangleWithActiveState,{shape:ot,activeBar:ct,baseProps:at,entry:gt,index:Et,dataKey:lt}):reactExports.createElement(BarRectangleNeverActive,{shape:ot,baseProps:at,entry:gt,index:Et,dataKey:lt})))):null}function RectanglesWithAnimation(_e){var{props:et,previousRectanglesRef:rt}=_e,{data:nt,layout:st,isAnimationActive:it,animationBegin:at,animationDuration:ot,animationEasing:lt,onAnimationEnd:ct,onAnimationStart:ut}=et,dt=rt.current,pt=useAnimationId(et,"recharts-bar-"),[mt,xt]=reactExports.useState(!1),yt=!mt,vt=reactExports.useCallback(()=>{typeof ct=="function"&&ct(),xt(!1)},[ct]),gt=reactExports.useCallback(()=>{typeof ut=="function"&&ut(),xt(!0)},[ut]);return reactExports.createElement(BarLabelListProvider,{showLabels:yt,rects:nt},reactExports.createElement(JavascriptAnimate,{animationId:pt,begin:at,duration:ot,isActive:it,easing:lt,onAnimationEnd:vt,onAnimationStart:gt,key:pt},Et=>{var jt=Et===1?nt:nt==null?void 0:nt.map((kt,Rt)=>{var St=dt&&dt[Rt];if(St)return _objectSpread$4(_objectSpread$4({},kt),{},{x:interpolate$1(St.x,kt.x,Et),y:interpolate$1(St.y,kt.y,Et),width:interpolate$1(St.width,kt.width,Et),height:interpolate$1(St.height,kt.height,Et)});if(st==="horizontal"){var _t=interpolate$1(0,kt.height,Et),Nt=interpolate$1(kt.stackedBarStart,kt.y,Et);return _objectSpread$4(_objectSpread$4({},kt),{},{y:Nt,height:_t})}var Lt=interpolate$1(0,kt.width,Et),$t=interpolate$1(kt.stackedBarStart,kt.x,Et);return _objectSpread$4(_objectSpread$4({},kt),{},{width:Lt,x:$t})});return Et>0&&(rt.current=jt??null),jt==null?null:reactExports.createElement(Layer,null,reactExports.createElement(BarRectangles,{props:et,data:jt}))}),reactExports.createElement(LabelListFromLabelProp,{label:et.label}),et.children)}function RenderRectangles(_e){var et=reactExports.useRef(null);return reactExports.createElement(RectanglesWithAnimation,{previousRectanglesRef:et,props:_e})}var defaultMinPointSize=0,errorBarDataPointFormatter=(_e,et)=>{var rt=Array.isArray(_e.value)?_e.value[1]:_e.value;return{x:_e.x,y:_e.y,value:rt,errorVal:getValueByDataKey(_e,et)}};class BarWithState extends reactExports.PureComponent{render(){var{hide:et,data:rt,dataKey:nt,className:st,xAxisId:it,yAxisId:at,needClip:ot,background:lt,id:ct}=this.props;if(et||rt==null)return null;var ut=clsx("recharts-bar",st),dt=ct;return reactExports.createElement(Layer,{className:ut,id:ct},ot&&reactExports.createElement("defs",null,reactExports.createElement(GraphicalItemClipPath,{clipPathId:dt,xAxisId:it,yAxisId:at})),reactExports.createElement(Layer,{className:"recharts-bar-rectangles",clipPath:ot?"url(#clipPath-".concat(dt,")"):void 0},reactExports.createElement(BarBackground,{data:rt,dataKey:nt,background:lt,allOtherBarProps:this.props}),reactExports.createElement(RenderRectangles,this.props)))}}var defaultBarProps={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:defaultMinPointSize,xAxisId:0,yAxisId:0,zIndex:DefaultZIndexes.bar};function BarImpl(_e){var{xAxisId:et,yAxisId:rt,hide:nt,legendType:st,minPointSize:it,activeBar:at,animationBegin:ot,animationDuration:lt,animationEasing:ct,isAnimationActive:ut}=_e,{needClip:dt}=useNeedsClip(et,rt),pt=useChartLayout(),mt=useIsPanorama(),xt=findAllByType(_e.children,Cell),yt=useAppSelector(Et=>selectBarRectangles(Et,_e.id,mt,xt));if(pt!=="vertical"&&pt!=="horizontal")return null;var vt,gt=yt==null?void 0:yt[0];return gt==null||gt.height==null||gt.width==null?vt=0:vt=pt==="vertical"?gt.height/2:gt.width/2,reactExports.createElement(SetErrorBarContext,{xAxisId:et,yAxisId:rt,data:yt,dataPointFormatter:errorBarDataPointFormatter,errorBarOffset:vt},reactExports.createElement(BarWithState,_extends$6({},_e,{layout:pt,needClip:dt,data:yt,xAxisId:et,yAxisId:rt,hide:nt,legendType:st,minPointSize:it,activeBar:at,animationBegin:ot,animationDuration:lt,animationEasing:ct,isAnimationActive:ut})))}function computeBarRectangles(_e){var{layout:et,barSettings:{dataKey:rt,minPointSize:nt},pos:st,bandSize:it,xAxis:at,yAxis:ot,xAxisTicks:lt,yAxisTicks:ct,stackedData:ut,displayedData:dt,offset:pt,cells:mt,parentViewBox:xt,dataStartIndex:yt}=_e,vt=et==="horizontal"?ot:at,gt=ut?vt.scale.domain():null,Et=getBaseValueOfBar({numericAxis:vt}),jt=vt.scale.map(Et);return dt.map((kt,Rt)=>{var St,_t,Nt,Lt,$t,Ft;if(ut){var Tt=ut[Rt+yt];if(Tt==null)return null;St=truncateByDomain(Tt,gt)}else St=getValueByDataKey(kt,rt),Array.isArray(St)||(St=[Et,St]);var Bt=minPointSizeCallback(nt,defaultMinPointSize)(St[1],Rt);if(et==="horizontal"){var Wt,qt=ot.scale.map(St[0]),Ot=ot.scale.map(St[1]);if(qt==null||Ot==null)return null;_t=getCateCoordinateOfBar({axis:at,ticks:lt,bandSize:it,offset:st.offset,entry:kt,index:Rt}),Nt=(Wt=Ot??qt)!==null&&Wt!==void 0?Wt:void 0,Lt=st.size;var Dt=qt-Ot;if($t=isNan(Dt)?0:Dt,Ft={x:_t,y:pt.top,width:Lt,height:pt.height},Math.abs(Bt)>0&&Math.abs($t)<Math.abs(Bt)){var Pt=mathSign($t||Bt)*(Math.abs(Bt)-Math.abs($t));Nt-=Pt,$t+=Pt}}else{var It=at.scale.map(St[0]),At=at.scale.map(St[1]);if(It==null||At==null)return null;if(_t=It,Nt=getCateCoordinateOfBar({axis:ot,ticks:ct,bandSize:it,offset:st.offset,entry:kt,index:Rt}),Lt=At-It,$t=st.size,Ft={x:pt.left,y:Nt,width:pt.width,height:$t},Math.abs(Bt)>0&&Math.abs(Lt)<Math.abs(Bt)){var Ht=mathSign(Lt||Bt)*(Math.abs(Bt)-Math.abs(Lt));Lt+=Ht}}if(_t==null||Nt==null||Lt==null||$t==null)return null;var Gt=_objectSpread$4(_objectSpread$4({},kt),{},{stackedBarStart:jt,x:_t,y:Nt,width:Lt,height:$t,value:ut?St:St[1],payload:kt,background:Ft,tooltipPosition:{x:_t+Lt/2,y:Nt+$t/2},parentViewBox:xt},mt&&mt[Rt]&&mt[Rt].props);return Gt}).filter(Boolean)}function BarFn(_e){var et=resolveDefaultProps(_e,defaultBarProps),rt=useStackId(et.stackId),nt=useIsPanorama();return reactExports.createElement(RegisterGraphicalItemId,{id:et.id,type:"bar"},st=>reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(SetLegendPayload,{legendPayload:computeLegendPayloadFromBarData(et)}),reactExports.createElement(SetBarTooltipEntrySettings,{dataKey:et.dataKey,stroke:et.stroke,strokeWidth:et.strokeWidth,fill:et.fill,name:et.name,hide:et.hide,unit:et.unit,tooltipType:et.tooltipType,id:st}),reactExports.createElement(SetCartesianGraphicalItem,{type:"bar",id:st,data:void 0,xAxisId:et.xAxisId,yAxisId:et.yAxisId,zAxisId:0,dataKey:et.dataKey,stackId:rt,hide:et.hide,barSize:et.barSize,minPointSize:et.minPointSize,maxBarSize:et.maxBarSize,isPanorama:nt}),reactExports.createElement(ZIndexLayer,{zIndex:et.zIndex},reactExports.createElement(BarImpl,_extends$6({},et,{id:st})))))}var Bar=reactExports.memo(BarFn,propsAreEqual);Bar.displayName="Bar";var _excluded$7=["domain","range"],_excluded2$2=["domain","range"];function _objectWithoutProperties$6(_e,et){if(_e==null)return{};var rt,nt,st=_objectWithoutPropertiesLoose$6(_e,et);if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(_e);for(nt=0;nt<it.length;nt++)rt=it[nt],et.indexOf(rt)===-1&&{}.propertyIsEnumerable.call(_e,rt)&&(st[rt]=_e[rt])}return st}function _objectWithoutPropertiesLoose$6(_e,et){if(_e==null)return{};var rt={};for(var nt in _e)if({}.hasOwnProperty.call(_e,nt)){if(et.indexOf(nt)!==-1)continue;rt[nt]=_e[nt]}return rt}function shortArraysAreEqual(_e,et){return _e===et?!0:Array.isArray(_e)&&_e.length===2&&Array.isArray(et)&&et.length===2?_e[0]===et[0]&&_e[1]===et[1]:!1}function axisPropsAreEqual(_e,et){if(_e===et)return!0;var{domain:rt,range:nt}=_e,st=_objectWithoutProperties$6(_e,_excluded$7),{domain:it,range:at}=et,ot=_objectWithoutProperties$6(et,_excluded2$2);return!shortArraysAreEqual(rt,it)||!shortArraysAreEqual(nt,at)?!1:propsAreEqual(st,ot)}var _excluded$6=["type"],_excluded2$1=["dangerouslySetInnerHTML","ticks","scale"],_excluded3$1=["id","scale"];function _extends$5(){return _extends$5=Object.assign?Object.assign.bind():function(_e){for(var et=1;et<arguments.length;et++){var rt=arguments[et];for(var nt in rt)({}).hasOwnProperty.call(rt,nt)&&(_e[nt]=rt[nt])}return _e},_extends$5.apply(null,arguments)}function ownKeys$4(_e,et){var rt=Object.keys(_e);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);et&&(nt=nt.filter(function(st){return Object.getOwnPropertyDescriptor(_e,st).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$3(_e){for(var et=1;et<arguments.length;et++){var rt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$4(Object(rt),!0).forEach(function(nt){_defineProperty$4(_e,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(rt)):ownKeys$4(Object(rt)).forEach(function(nt){Object.defineProperty(_e,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return _e}function _defineProperty$4(_e,et,rt){return(et=_toPropertyKey$4(et))in _e?Object.defineProperty(_e,et,{value:rt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=rt,_e}function _toPropertyKey$4(_e){var et=_toPrimitive$4(_e,"string");return typeof et=="symbol"?et:et+""}function _toPrimitive$4(_e,et){if(typeof _e!="object"||!_e)return _e;var rt=_e[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(_e,et);if(typeof nt!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(_e)}function _objectWithoutProperties$5(_e,et){if(_e==null)return{};var rt,nt,st=_objectWithoutPropertiesLoose$5(_e,et);if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(_e);for(nt=0;nt<it.length;nt++)rt=it[nt],et.indexOf(rt)===-1&&{}.propertyIsEnumerable.call(_e,rt)&&(st[rt]=_e[rt])}return st}function _objectWithoutPropertiesLoose$5(_e,et){if(_e==null)return{};var rt={};for(var nt in _e)if({}.hasOwnProperty.call(_e,nt)){if(et.indexOf(nt)!==-1)continue;rt[nt]=_e[nt]}return rt}function SetXAxisSettings(_e){var et=useAppDispatch(),rt=reactExports.useRef(null),nt=useCartesianChartLayout(),{type:st}=_e,it=_objectWithoutProperties$5(_e,_excluded$6),at=getAxisTypeBasedOnLayout(nt,"xAxis",st),ot=reactExports.useMemo(()=>{if(at!=null)return _objectSpread$3(_objectSpread$3({},it),{},{type:at})},[it,at]);return reactExports.useLayoutEffect(()=>{ot!=null&&(rt.current===null?et(addXAxis(ot)):rt.current!==ot&&et(replaceXAxis({prev:rt.current,next:ot})),rt.current=ot)},[ot,et]),reactExports.useLayoutEffect(()=>()=>{rt.current&&(et(removeXAxis(rt.current)),rt.current=null)},[et]),null}var XAxisImpl=_e=>{var{xAxisId:et,className:rt}=_e,nt=useAppSelector(selectAxisViewBox),st=useIsPanorama(),it="xAxis",at=useAppSelector(gt=>selectTicksOfAxis(gt,it,et,st)),ot=useAppSelector(gt=>selectXAxisSize(gt,et)),lt=useAppSelector(gt=>selectXAxisPosition(gt,et)),ct=useAppSelector(gt=>selectXAxisSettingsNoDefaults(gt,et));if(ot==null||lt==null||ct==null)return null;var{dangerouslySetInnerHTML:ut,ticks:dt,scale:pt}=_e,mt=_objectWithoutProperties$5(_e,_excluded2$1),{id:xt,scale:yt}=ct,vt=_objectWithoutProperties$5(ct,_excluded3$1);return reactExports.createElement(CartesianAxis,_extends$5({},mt,vt,{x:lt.x,y:lt.y,width:ot.width,height:ot.height,className:clsx("recharts-".concat(it," ").concat(it),rt),viewBox:nt,ticks:at,axisType:it}))},xAxisDefaultProps={allowDataOverflow:implicitXAxis.allowDataOverflow,allowDecimals:implicitXAxis.allowDecimals,allowDuplicatedCategory:implicitXAxis.allowDuplicatedCategory,angle:implicitXAxis.angle,axisLine:defaultCartesianAxisProps.axisLine,height:implicitXAxis.height,hide:!1,includeHidden:implicitXAxis.includeHidden,interval:implicitXAxis.interval,label:!1,minTickGap:implicitXAxis.minTickGap,mirror:implicitXAxis.mirror,orientation:implicitXAxis.orientation,padding:implicitXAxis.padding,reversed:implicitXAxis.reversed,scale:implicitXAxis.scale,tick:implicitXAxis.tick,tickCount:implicitXAxis.tickCount,tickLine:defaultCartesianAxisProps.tickLine,tickSize:defaultCartesianAxisProps.tickSize,type:implicitXAxis.type,xAxisId:0},XAxisSettingsDispatcher=_e=>{var et=resolveDefaultProps(_e,xAxisDefaultProps);return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(SetXAxisSettings,{allowDataOverflow:et.allowDataOverflow,allowDecimals:et.allowDecimals,allowDuplicatedCategory:et.allowDuplicatedCategory,angle:et.angle,dataKey:et.dataKey,domain:et.domain,height:et.height,hide:et.hide,id:et.xAxisId,includeHidden:et.includeHidden,interval:et.interval,minTickGap:et.minTickGap,mirror:et.mirror,name:et.name,orientation:et.orientation,padding:et.padding,reversed:et.reversed,scale:et.scale,tick:et.tick,tickCount:et.tickCount,tickFormatter:et.tickFormatter,ticks:et.ticks,type:et.type,unit:et.unit}),reactExports.createElement(XAxisImpl,et))},XAxis=reactExports.memo(XAxisSettingsDispatcher,axisPropsAreEqual);XAxis.displayName="XAxis";var _excluded$5=["type"],_excluded2=["dangerouslySetInnerHTML","ticks","scale"],_excluded3=["id","scale"];function _extends$4(){return _extends$4=Object.assign?Object.assign.bind():function(_e){for(var et=1;et<arguments.length;et++){var rt=arguments[et];for(var nt in rt)({}).hasOwnProperty.call(rt,nt)&&(_e[nt]=rt[nt])}return _e},_extends$4.apply(null,arguments)}function ownKeys$3(_e,et){var rt=Object.keys(_e);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);et&&(nt=nt.filter(function(st){return Object.getOwnPropertyDescriptor(_e,st).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$2(_e){for(var et=1;et<arguments.length;et++){var rt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$3(Object(rt),!0).forEach(function(nt){_defineProperty$3(_e,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(rt)):ownKeys$3(Object(rt)).forEach(function(nt){Object.defineProperty(_e,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return _e}function _defineProperty$3(_e,et,rt){return(et=_toPropertyKey$3(et))in _e?Object.defineProperty(_e,et,{value:rt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=rt,_e}function _toPropertyKey$3(_e){var et=_toPrimitive$3(_e,"string");return typeof et=="symbol"?et:et+""}function _toPrimitive$3(_e,et){if(typeof _e!="object"||!_e)return _e;var rt=_e[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(_e,et);if(typeof nt!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(_e)}function _objectWithoutProperties$4(_e,et){if(_e==null)return{};var rt,nt,st=_objectWithoutPropertiesLoose$4(_e,et);if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(_e);for(nt=0;nt<it.length;nt++)rt=it[nt],et.indexOf(rt)===-1&&{}.propertyIsEnumerable.call(_e,rt)&&(st[rt]=_e[rt])}return st}function _objectWithoutPropertiesLoose$4(_e,et){if(_e==null)return{};var rt={};for(var nt in _e)if({}.hasOwnProperty.call(_e,nt)){if(et.indexOf(nt)!==-1)continue;rt[nt]=_e[nt]}return rt}function SetYAxisSettings(_e){var et=useAppDispatch(),rt=reactExports.useRef(null),nt=useCartesianChartLayout(),{type:st}=_e,it=_objectWithoutProperties$4(_e,_excluded$5),at=getAxisTypeBasedOnLayout(nt,"yAxis",st),ot=reactExports.useMemo(()=>{if(at!=null)return _objectSpread$2(_objectSpread$2({},it),{},{type:at})},[at,it]);return reactExports.useLayoutEffect(()=>{ot!=null&&(rt.current===null?et(addYAxis(ot)):rt.current!==ot&&et(replaceYAxis({prev:rt.current,next:ot})),rt.current=ot)},[ot,et]),reactExports.useLayoutEffect(()=>()=>{rt.current&&(et(removeYAxis(rt.current)),rt.current=null)},[et]),null}function YAxisImpl(_e){var{yAxisId:et,className:rt,width:nt,label:st}=_e,it=reactExports.useRef(null),at=reactExports.useRef(null),ot=useAppSelector(selectAxisViewBox),lt=useIsPanorama(),ct=useAppDispatch(),ut="yAxis",dt=useAppSelector(St=>selectYAxisSize(St,et)),pt=useAppSelector(St=>selectYAxisPosition(St,et)),mt=useAppSelector(St=>selectTicksOfAxis(St,ut,et,lt)),xt=useAppSelector(St=>selectYAxisSettingsNoDefaults(St,et));if(reactExports.useLayoutEffect(()=>{if(!(nt!=="auto"||!dt||isLabelContentAFunction(st)||reactExports.isValidElement(st)||xt==null)){var St=it.current;if(St){var _t=St.getCalculatedWidth();Math.round(dt.width)!==Math.round(_t)&&ct(updateYAxisWidth({id:et,width:_t}))}}},[mt,dt,ct,st,et,nt,xt]),dt==null||pt==null||xt==null)return null;var{dangerouslySetInnerHTML:yt,ticks:vt,scale:gt}=_e,Et=_objectWithoutProperties$4(_e,_excluded2),{id:jt,scale:kt}=xt,Rt=_objectWithoutProperties$4(xt,_excluded3);return reactExports.createElement(CartesianAxis,_extends$4({},Et,Rt,{ref:it,labelRef:at,x:pt.x,y:pt.y,tickTextProps:nt==="auto"?{width:void 0}:{width:nt},width:dt.width,height:dt.height,className:clsx("recharts-".concat(ut," ").concat(ut),rt),viewBox:ot,ticks:mt,axisType:ut}))}var yAxisDefaultProps={allowDataOverflow:implicitYAxis.allowDataOverflow,allowDecimals:implicitYAxis.allowDecimals,allowDuplicatedCategory:implicitYAxis.allowDuplicatedCategory,angle:implicitYAxis.angle,axisLine:defaultCartesianAxisProps.axisLine,hide:!1,includeHidden:implicitYAxis.includeHidden,interval:implicitYAxis.interval,label:!1,minTickGap:implicitYAxis.minTickGap,mirror:implicitYAxis.mirror,orientation:implicitYAxis.orientation,padding:implicitYAxis.padding,reversed:implicitYAxis.reversed,scale:implicitYAxis.scale,tick:implicitYAxis.tick,tickCount:implicitYAxis.tickCount,tickLine:defaultCartesianAxisProps.tickLine,tickSize:defaultCartesianAxisProps.tickSize,type:implicitYAxis.type,width:implicitYAxis.width,yAxisId:0},YAxisSettingsDispatcher=_e=>{var et=resolveDefaultProps(_e,yAxisDefaultProps);return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(SetYAxisSettings,{interval:et.interval,id:et.yAxisId,scale:et.scale,type:et.type,domain:et.domain,allowDataOverflow:et.allowDataOverflow,dataKey:et.dataKey,allowDuplicatedCategory:et.allowDuplicatedCategory,allowDecimals:et.allowDecimals,tickCount:et.tickCount,padding:et.padding,includeHidden:et.includeHidden,reversed:et.reversed,ticks:et.ticks,width:et.width,orientation:et.orientation,mirror:et.mirror,hide:et.hide,unit:et.unit,name:et.name,angle:et.angle,minTickGap:et.minTickGap,tick:et.tick,tickFormatter:et.tickFormatter}),reactExports.createElement(YAxisImpl,et))},YAxis=reactExports.memo(YAxisSettingsDispatcher,axisPropsAreEqual);YAxis.displayName="YAxis";var pickChartPointer=(_e,et)=>et,selectActivePropsFromChartPointer=createSelector([pickChartPointer,selectChartLayout,selectPolarViewBox,selectTooltipAxisType,selectTooltipAxisRangeWithReverse,selectTooltipAxisTicks,selectOrderedTooltipTicks,selectChartOffsetInternal],combineActiveProps),getChartPointer=_e=>{var et=_e.currentTarget.getBoundingClientRect(),rt=et.width/_e.currentTarget.offsetWidth,nt=et.height/_e.currentTarget.offsetHeight;return{chartX:Math.round((_e.clientX-et.left)/rt),chartY:Math.round((_e.clientY-et.top)/nt)}},mouseClickAction=createAction("mouseClick"),mouseClickMiddleware=createListenerMiddleware();mouseClickMiddleware.startListening({actionCreator:mouseClickAction,effect:(_e,et)=>{var rt=_e.payload,nt=selectActivePropsFromChartPointer(et.getState(),getChartPointer(rt));(nt==null?void 0:nt.activeIndex)!=null&&et.dispatch(setMouseClickAxisIndex({activeIndex:nt.activeIndex,activeDataKey:void 0,activeCoordinate:nt.activeCoordinate}))}});var mouseMoveAction=createAction("mouseMove"),mouseMoveMiddleware=createListenerMiddleware(),rafId=null;mouseMoveMiddleware.startListening({actionCreator:mouseMoveAction,effect:(_e,et)=>{var rt=_e.payload;rafId!==null&&cancelAnimationFrame(rafId);var nt=getChartPointer(rt);rafId=requestAnimationFrame(()=>{var st=et.getState(),it=selectTooltipEventType$1(st,st.tooltip.settings.shared);if(it==="axis"){var at=selectActivePropsFromChartPointer(st,nt);(at==null?void 0:at.activeIndex)!=null?et.dispatch(setMouseOverAxisIndex({activeIndex:at.activeIndex,activeDataKey:void 0,activeCoordinate:at.activeCoordinate})):et.dispatch(mouseLeaveChart())}rafId=null})}});function reduxDevtoolsJsonStringifyReplacer(_e,et){return et instanceof HTMLElement?"HTMLElement <".concat(et.tagName,' class="').concat(et.className,'">'):et===window?"global.window":_e==="children"&&typeof et=="object"&&et!==null?"<<CHILDREN>>":et}var initialState$1={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},rootPropsSlice=createSlice({name:"rootProps",initialState:initialState$1,reducers:{updateOptions:(_e,et)=>{var rt;_e.accessibilityLayer=et.payload.accessibilityLayer,_e.barCategoryGap=et.payload.barCategoryGap,_e.barGap=(rt=et.payload.barGap)!==null&&rt!==void 0?rt:initialState$1.barGap,_e.barSize=et.payload.barSize,_e.maxBarSize=et.payload.maxBarSize,_e.stackOffset=et.payload.stackOffset,_e.syncId=et.payload.syncId,_e.syncMethod=et.payload.syncMethod,_e.className=et.payload.className,_e.baseValue=et.payload.baseValue,_e.reverseStackOrder=et.payload.reverseStackOrder}}}),rootPropsReducer=rootPropsSlice.reducer,{updateOptions}=rootPropsSlice.actions,initialState=null,reducers={updatePolarOptions:(_e,et)=>et.payload},polarOptionsSlice=createSlice({name:"polarOptions",initialState,reducers}),{updatePolarOptions}=polarOptionsSlice.actions,polarOptionsReducer=polarOptionsSlice.reducer,keyDownAction=createAction("keyDown"),focusAction=createAction("focus"),keyboardEventsMiddleware=createListenerMiddleware();keyboardEventsMiddleware.startListening({actionCreator:keyDownAction,effect:(_e,et)=>{var rt=et.getState(),nt=rt.rootProps.accessibilityLayer!==!1;if(nt){var{keyboardInteraction:st}=rt.tooltip,it=_e.payload;if(!(it!=="ArrowRight"&&it!=="ArrowLeft"&&it!=="Enter")){var at=combineActiveTooltipIndex(st,selectTooltipDisplayedData(rt),selectTooltipAxisDataKey(rt),selectTooltipAxisDomain(rt)),ot=at==null?-1:Number(at);if(!(!Number.isFinite(ot)||ot<0)){var lt=selectTooltipAxisTicks(rt);if(it==="Enter"){var ct=selectCoordinateForDefaultIndex(rt,"axis","hover",String(st.index));et.dispatch(setKeyboardInteraction({active:!st.active,activeIndex:st.index,activeCoordinate:ct}));return}var ut=selectChartDirection(rt),dt=ut==="left-to-right"?1:-1,pt=it==="ArrowRight"?1:-1,mt=ot+pt*dt;if(!(lt==null||mt>=lt.length||mt<0)){var xt=selectCoordinateForDefaultIndex(rt,"axis","hover",String(mt));et.dispatch(setKeyboardInteraction({active:!0,activeIndex:mt.toString(),activeCoordinate:xt}))}}}}}});keyboardEventsMiddleware.startListening({actionCreator:focusAction,effect:(_e,et)=>{var rt=et.getState(),nt=rt.rootProps.accessibilityLayer!==!1;if(nt){var{keyboardInteraction:st}=rt.tooltip;if(!st.active&&st.index==null){var it="0",at=selectCoordinateForDefaultIndex(rt,"axis","hover",String(it));et.dispatch(setKeyboardInteraction({active:!0,activeIndex:it,activeCoordinate:at}))}}}});var externalEventAction=createAction("externalEvent"),externalEventsMiddleware=createListenerMiddleware(),rafIdMap=new Map;externalEventsMiddleware.startListening({actionCreator:externalEventAction,effect:(_e,et)=>{var{handler:rt,reactEvent:nt}=_e.payload;if(rt!=null){nt.persist();var st=nt.type,it=rafIdMap.get(st);it!==void 0&&cancelAnimationFrame(it);var at=requestAnimationFrame(()=>{try{var ot=et.getState(),lt={activeCoordinate:selectActiveTooltipCoordinate(ot),activeDataKey:selectActiveTooltipDataKey(ot),activeIndex:selectActiveTooltipIndex(ot),activeLabel:selectActiveLabel$1(ot),activeTooltipIndex:selectActiveTooltipIndex(ot),isTooltipActive:selectIsTooltipActive$1(ot)};rt(lt,nt)}finally{rafIdMap.delete(st)}});rafIdMap.set(st,at)}}});var selectAllTooltipPayloadConfiguration=createSelector([selectTooltipState],_e=>_e.tooltipItemPayloads),selectTooltipCoordinate=createSelector([selectAllTooltipPayloadConfiguration,(_e,et)=>et,(_e,et,rt)=>rt],(_e,et,rt)=>{if(et!=null){var nt=_e.find(it=>it.settings.graphicalItemId===rt);if(nt!=null){var{getPosition:st}=nt;if(st!=null)return st(et)}}}),touchEventAction=createAction("touchMove"),touchEventMiddleware=createListenerMiddleware();touchEventMiddleware.startListening({actionCreator:touchEventAction,effect:(_e,et)=>{var rt=_e.payload;if(!(rt.touches==null||rt.touches.length===0)){var nt=et.getState(),st=selectTooltipEventType$1(nt,nt.tooltip.settings.shared);if(st==="axis"){var it=rt.touches[0];if(it==null)return;var at=selectActivePropsFromChartPointer(nt,getChartPointer({clientX:it.clientX,clientY:it.clientY,currentTarget:rt.currentTarget}));(at==null?void 0:at.activeIndex)!=null&&et.dispatch(setMouseOverAxisIndex({activeIndex:at.activeIndex,activeDataKey:void 0,activeCoordinate:at.activeCoordinate}))}else if(st==="item"){var ot,lt=rt.touches[0];if(document.elementFromPoint==null||lt==null)return;var ct=document.elementFromPoint(lt.clientX,lt.clientY);if(!ct||!ct.getAttribute)return;var ut=ct.getAttribute(DATA_ITEM_INDEX_ATTRIBUTE_NAME),dt=(ot=ct.getAttribute(DATA_ITEM_GRAPHICAL_ITEM_ID_ATTRIBUTE_NAME))!==null&&ot!==void 0?ot:void 0,pt=selectAllGraphicalItemsSettings(nt).find(yt=>yt.id===dt);if(ut==null||pt==null||dt==null)return;var{dataKey:mt}=pt,xt=selectTooltipCoordinate(nt,ut,dt);et.dispatch(setActiveMouseOverItemIndex({activeDataKey:mt,activeIndex:ut,activeCoordinate:xt,activeGraphicalItemId:dt}))}}}});var rootReducer=combineReducers({brush:brushReducer,cartesianAxis:cartesianAxisReducer,chartData:chartDataReducer,errorBars:errorBarReducer,graphicalItems:graphicalItemsReducer,layout:chartLayoutReducer,legend:legendReducer,options:optionsReducer,polarAxis:polarAxisReducer,polarOptions:polarOptionsReducer,referenceElements:referenceElementsReducer,rootProps:rootPropsReducer,tooltip:tooltipReducer,zIndex:zIndexReducer}),createRechartsStore=function(et){var rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return configureStore({reducer:rootReducer,preloadedState:et,middleware:nt=>{var st;return nt({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((st="es6")!==null&&st!==void 0?st:"")}).concat([mouseClickMiddleware.middleware,mouseMoveMiddleware.middleware,keyboardEventsMiddleware.middleware,externalEventsMiddleware.middleware,touchEventMiddleware.middleware])},enhancers:nt=>{var st=nt;return typeof nt=="function"&&(st=nt()),st.concat(autoBatchEnhancer({type:"raf"}))},devTools:{serialize:{replacer:reduxDevtoolsJsonStringifyReplacer},name:"recharts-".concat(rt)}})};function RechartsStoreProvider(_e){var{preloadedState:et,children:rt,reduxStoreName:nt}=_e,st=useIsPanorama(),it=reactExports.useRef(null);if(st)return rt;it.current==null&&(it.current=createRechartsStore(et,nt));var at=RechartsReduxContext;return reactExports.createElement(Provider_default,{context:at,store:it.current},rt)}function ReportMainChartPropsImpl(_e){var{layout:et,margin:rt}=_e,nt=useAppDispatch(),st=useIsPanorama();return reactExports.useEffect(()=>{st||(nt(setLayout(et)),nt(setMargin(rt)))},[nt,st,et,rt]),null}var ReportMainChartProps=reactExports.memo(ReportMainChartPropsImpl,propsAreEqual);function ReportChartProps(_e){var et=useAppDispatch();return reactExports.useEffect(()=>{et(updateOptions(_e))},[et,_e]),null}function ZIndexSvgPortal(_e){var{zIndex:et,isPanorama:rt}=_e,nt=reactExports.useRef(null),st=useAppDispatch();return reactExports.useLayoutEffect(()=>(nt.current&&st(registerZIndexPortalElement({zIndex:et,element:nt.current,isPanorama:rt})),()=>{st(unregisterZIndexPortalElement({zIndex:et,isPanorama:rt}))}),[st,et,rt]),reactExports.createElement("g",{tabIndex:-1,ref:nt})}function AllZIndexPortals(_e){var{children:et,isPanorama:rt}=_e,nt=useAppSelector(selectAllRegisteredZIndexes);if(!nt||nt.length===0)return et;var st=nt.filter(at=>at<0),it=nt.filter(at=>at>0);return reactExports.createElement(reactExports.Fragment,null,st.map(at=>reactExports.createElement(ZIndexSvgPortal,{key:at,zIndex:at,isPanorama:rt})),et,it.map(at=>reactExports.createElement(ZIndexSvgPortal,{key:at,zIndex:at,isPanorama:rt})))}var _excluded$4=["children"];function _objectWithoutProperties$3(_e,et){if(_e==null)return{};var rt,nt,st=_objectWithoutPropertiesLoose$3(_e,et);if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(_e);for(nt=0;nt<it.length;nt++)rt=it[nt],et.indexOf(rt)===-1&&{}.propertyIsEnumerable.call(_e,rt)&&(st[rt]=_e[rt])}return st}function _objectWithoutPropertiesLoose$3(_e,et){if(_e==null)return{};var rt={};for(var nt in _e)if({}.hasOwnProperty.call(_e,nt)){if(et.indexOf(nt)!==-1)continue;rt[nt]=_e[nt]}return rt}function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(_e){for(var et=1;et<arguments.length;et++){var rt=arguments[et];for(var nt in rt)({}).hasOwnProperty.call(rt,nt)&&(_e[nt]=rt[nt])}return _e},_extends$3.apply(null,arguments)}var FULL_WIDTH_AND_HEIGHT={width:"100%",height:"100%",display:"block"},MainChartSurface=reactExports.forwardRef((_e,et)=>{var rt=useChartWidth(),nt=useChartHeight(),st=useAccessibilityLayer();if(!isPositiveNumber(rt)||!isPositiveNumber(nt))return null;var{children:it,otherAttributes:at,title:ot,desc:lt}=_e,ct,ut;return at!=null&&(typeof at.tabIndex=="number"?ct=at.tabIndex:ct=st?0:void 0,typeof at.role=="string"?ut=at.role:ut=st?"application":void 0),reactExports.createElement(Surface,_extends$3({},at,{title:ot,desc:lt,role:ut,tabIndex:ct,width:rt,height:nt,style:FULL_WIDTH_AND_HEIGHT,ref:et}),it)}),BrushPanoramaSurface=_e=>{var{children:et}=_e,rt=useAppSelector(selectBrushDimensions);if(!rt)return null;var{width:nt,height:st,y:it,x:at}=rt;return reactExports.createElement(Surface,{width:nt,height:st,x:at,y:it},et)},RootSurface=reactExports.forwardRef((_e,et)=>{var{children:rt}=_e,nt=_objectWithoutProperties$3(_e,_excluded$4),st=useIsPanorama();return st?reactExports.createElement(BrushPanoramaSurface,null,reactExports.createElement(AllZIndexPortals,{isPanorama:!0},rt)):reactExports.createElement(MainChartSurface,_extends$3({ref:et},nt),reactExports.createElement(AllZIndexPortals,{isPanorama:!1},rt))});function useReportScale(){var _e=useAppDispatch(),[et,rt]=reactExports.useState(null),nt=useAppSelector(selectContainerScale);return reactExports.useEffect(()=>{if(et!=null){var st=et.getBoundingClientRect(),it=st.width/et.offsetWidth;isWellBehavedNumber(it)&&it!==nt&&_e(setScale(it))}},[et,_e,nt]),rt}function ownKeys$2(_e,et){var rt=Object.keys(_e);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);et&&(nt=nt.filter(function(st){return Object.getOwnPropertyDescriptor(_e,st).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$1(_e){for(var et=1;et<arguments.length;et++){var rt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$2(Object(rt),!0).forEach(function(nt){_defineProperty$2(_e,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(rt)):ownKeys$2(Object(rt)).forEach(function(nt){Object.defineProperty(_e,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return _e}function _defineProperty$2(_e,et,rt){return(et=_toPropertyKey$2(et))in _e?Object.defineProperty(_e,et,{value:rt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=rt,_e}function _toPropertyKey$2(_e){var et=_toPrimitive$2(_e,"string");return typeof et=="symbol"?et:et+""}function _toPrimitive$2(_e,et){if(typeof _e!="object"||!_e)return _e;var rt=_e[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(_e,et);if(typeof nt!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(_e)}function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(_e){for(var et=1;et<arguments.length;et++){var rt=arguments[et];for(var nt in rt)({}).hasOwnProperty.call(rt,nt)&&(_e[nt]=rt[nt])}return _e},_extends$2.apply(null,arguments)}var EventSynchronizer=()=>(useSynchronisedEventsFromOtherCharts(),null);function getNumberOrZero(_e){if(typeof _e=="number")return _e;if(typeof _e=="string"){var et=parseFloat(_e);if(!Number.isNaN(et))return et}return 0}var ResponsiveDiv=reactExports.forwardRef((_e,et)=>{var rt,nt,st=reactExports.useRef(null),[it,at]=reactExports.useState({containerWidth:getNumberOrZero((rt=_e.style)===null||rt===void 0?void 0:rt.width),containerHeight:getNumberOrZero((nt=_e.style)===null||nt===void 0?void 0:nt.height)}),ot=reactExports.useCallback((ct,ut)=>{at(dt=>{var pt=Math.round(ct),mt=Math.round(ut);return dt.containerWidth===pt&&dt.containerHeight===mt?dt:{containerWidth:pt,containerHeight:mt}})},[]),lt=reactExports.useCallback(ct=>{if(typeof et=="function"&&et(ct),ct!=null&&typeof ResizeObserver<"u"){var{width:ut,height:dt}=ct.getBoundingClientRect();ot(ut,dt);var pt=xt=>{var yt=xt[0];if(yt!=null){var{width:vt,height:gt}=yt.contentRect;ot(vt,gt)}},mt=new ResizeObserver(pt);mt.observe(ct),st.current=mt}},[et,ot]);return reactExports.useEffect(()=>()=>{var ct=st.current;ct!=null&&ct.disconnect()},[ot]),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(ReportChartSize,{width:it.containerWidth,height:it.containerHeight}),reactExports.createElement("div",_extends$2({ref:lt},_e)))}),ReadSizeOnceDiv=reactExports.forwardRef((_e,et)=>{var{width:rt,height:nt}=_e,[st,it]=reactExports.useState({containerWidth:getNumberOrZero(rt),containerHeight:getNumberOrZero(nt)}),at=reactExports.useCallback((lt,ct)=>{it(ut=>{var dt=Math.round(lt),pt=Math.round(ct);return ut.containerWidth===dt&&ut.containerHeight===pt?ut:{containerWidth:dt,containerHeight:pt}})},[]),ot=reactExports.useCallback(lt=>{if(typeof et=="function"&&et(lt),lt!=null){var{width:ct,height:ut}=lt.getBoundingClientRect();at(ct,ut)}},[et,at]);return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(ReportChartSize,{width:st.containerWidth,height:st.containerHeight}),reactExports.createElement("div",_extends$2({ref:ot},_e)))}),StaticDiv=reactExports.forwardRef((_e,et)=>{var{width:rt,height:nt}=_e;return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(ReportChartSize,{width:rt,height:nt}),reactExports.createElement("div",_extends$2({ref:et},_e)))}),NonResponsiveDiv=reactExports.forwardRef((_e,et)=>{var{width:rt,height:nt}=_e;return typeof rt=="string"||typeof nt=="string"?reactExports.createElement(ReadSizeOnceDiv,_extends$2({},_e,{ref:et})):typeof rt=="number"&&typeof nt=="number"?reactExports.createElement(StaticDiv,_extends$2({},_e,{width:rt,height:nt,ref:et})):reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(ReportChartSize,{width:rt,height:nt}),reactExports.createElement("div",_extends$2({ref:et},_e)))});function getWrapperDivComponent(_e){return _e?ResponsiveDiv:NonResponsiveDiv}var RechartsWrapper=reactExports.forwardRef((_e,et)=>{var{children:rt,className:nt,height:st,onClick:it,onContextMenu:at,onDoubleClick:ot,onMouseDown:lt,onMouseEnter:ct,onMouseLeave:ut,onMouseMove:dt,onMouseUp:pt,onTouchEnd:mt,onTouchMove:xt,onTouchStart:yt,style:vt,width:gt,responsive:Et,dispatchTouchEvents:jt=!0}=_e,kt=reactExports.useRef(null),Rt=useAppDispatch(),[St,_t]=reactExports.useState(null),[Nt,Lt]=reactExports.useState(null),$t=useReportScale(),Ft=useResponsiveContainerContext(),Tt=(Ft==null?void 0:Ft.width)>0?Ft.width:gt,Bt=(Ft==null?void 0:Ft.height)>0?Ft.height:st,Wt=reactExports.useCallback(or=>{$t(or),typeof et=="function"&&et(or),_t(or),Lt(or),or!=null&&(kt.current=or)},[$t,et,_t,Lt]),qt=reactExports.useCallback(or=>{Rt(mouseClickAction(or)),Rt(externalEventAction({handler:it,reactEvent:or}))},[Rt,it]),Ot=reactExports.useCallback(or=>{Rt(mouseMoveAction(or)),Rt(externalEventAction({handler:ct,reactEvent:or}))},[Rt,ct]),Dt=reactExports.useCallback(or=>{Rt(mouseLeaveChart()),Rt(externalEventAction({handler:ut,reactEvent:or}))},[Rt,ut]),Pt=reactExports.useCallback(or=>{Rt(mouseMoveAction(or)),Rt(externalEventAction({handler:dt,reactEvent:or}))},[Rt,dt]),It=reactExports.useCallback(()=>{Rt(focusAction())},[Rt]),At=reactExports.useCallback(or=>{Rt(keyDownAction(or.key))},[Rt]),Ht=reactExports.useCallback(or=>{Rt(externalEventAction({handler:at,reactEvent:or}))},[Rt,at]),Gt=reactExports.useCallback(or=>{Rt(externalEventAction({handler:ot,reactEvent:or}))},[Rt,ot]),Vt=reactExports.useCallback(or=>{Rt(externalEventAction({handler:lt,reactEvent:or}))},[Rt,lt]),Jt=reactExports.useCallback(or=>{Rt(externalEventAction({handler:pt,reactEvent:or}))},[Rt,pt]),rr=reactExports.useCallback(or=>{Rt(externalEventAction({handler:yt,reactEvent:or}))},[Rt,yt]),ar=reactExports.useCallback(or=>{jt&&Rt(touchEventAction(or)),Rt(externalEventAction({handler:xt,reactEvent:or}))},[Rt,jt,xt]),mr=reactExports.useCallback(or=>{Rt(externalEventAction({handler:mt,reactEvent:or}))},[Rt,mt]),Er=getWrapperDivComponent(Et);return reactExports.createElement(TooltipPortalContext.Provider,{value:St},reactExports.createElement(LegendPortalContext.Provider,{value:Nt},reactExports.createElement(Er,{width:Tt??(vt==null?void 0:vt.width),height:Bt??(vt==null?void 0:vt.height),className:clsx("recharts-wrapper",nt),style:_objectSpread$1({position:"relative",cursor:"default",width:Tt,height:Bt},vt),onClick:qt,onContextMenu:Ht,onDoubleClick:Gt,onFocus:It,onKeyDown:At,onMouseDown:Vt,onMouseEnter:Ot,onMouseLeave:Dt,onMouseMove:Pt,onMouseUp:Jt,onTouchEnd:mr,onTouchMove:ar,onTouchStart:rr,ref:Wt},reactExports.createElement(EventSynchronizer,null),rt)))}),_excluded$3=["width","height","responsive","children","className","style","compact","title","desc"];function _objectWithoutProperties$2(_e,et){if(_e==null)return{};var rt,nt,st=_objectWithoutPropertiesLoose$2(_e,et);if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(_e);for(nt=0;nt<it.length;nt++)rt=it[nt],et.indexOf(rt)===-1&&{}.propertyIsEnumerable.call(_e,rt)&&(st[rt]=_e[rt])}return st}function _objectWithoutPropertiesLoose$2(_e,et){if(_e==null)return{};var rt={};for(var nt in _e)if({}.hasOwnProperty.call(_e,nt)){if(et.indexOf(nt)!==-1)continue;rt[nt]=_e[nt]}return rt}var CategoricalChart=reactExports.forwardRef((_e,et)=>{var{width:rt,height:nt,responsive:st,children:it,className:at,style:ot,compact:lt,title:ct,desc:ut}=_e,dt=_objectWithoutProperties$2(_e,_excluded$3),pt=svgPropertiesNoEvents(dt);return lt?reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(ReportChartSize,{width:rt,height:nt}),reactExports.createElement(RootSurface,{otherAttributes:pt,title:ct,desc:ut},it)):reactExports.createElement(RechartsWrapper,{className:at,style:ot,width:rt,height:nt,responsive:st??!1,onClick:_e.onClick,onMouseLeave:_e.onMouseLeave,onMouseEnter:_e.onMouseEnter,onMouseMove:_e.onMouseMove,onMouseDown:_e.onMouseDown,onMouseUp:_e.onMouseUp,onContextMenu:_e.onContextMenu,onDoubleClick:_e.onDoubleClick,onTouchStart:_e.onTouchStart,onTouchMove:_e.onTouchMove,onTouchEnd:_e.onTouchEnd},reactExports.createElement(RootSurface,{otherAttributes:pt,title:ct,desc:ut,ref:et},reactExports.createElement(ClipPathProvider,null,it)))});function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(_e){for(var et=1;et<arguments.length;et++){var rt=arguments[et];for(var nt in rt)({}).hasOwnProperty.call(rt,nt)&&(_e[nt]=rt[nt])}return _e},_extends$1.apply(null,arguments)}var defaultMargin$1={top:5,right:5,bottom:5,left:5},defaultCartesianChartProps={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:defaultMargin$1,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},CartesianChart=reactExports.forwardRef(function(et,rt){var nt,st=resolveDefaultProps(et.categoricalChartProps,defaultCartesianChartProps),{chartName:it,defaultTooltipEventType:at,validateTooltipEventTypes:ot,tooltipPayloadSearcher:lt,categoricalChartProps:ct}=et,ut={chartName:it,defaultTooltipEventType:at,validateTooltipEventTypes:ot,tooltipPayloadSearcher:lt,eventEmitter:void 0};return reactExports.createElement(RechartsStoreProvider,{preloadedState:{options:ut},reduxStoreName:(nt=ct.id)!==null&&nt!==void 0?nt:it},reactExports.createElement(ChartDataContextProvider,{chartData:ct.data}),reactExports.createElement(ReportMainChartProps,{layout:st.layout,margin:st.margin}),reactExports.createElement(ReportChartProps,{baseValue:st.baseValue,accessibilityLayer:st.accessibilityLayer,barCategoryGap:st.barCategoryGap,maxBarSize:st.maxBarSize,stackOffset:st.stackOffset,barGap:st.barGap,barSize:st.barSize,syncId:st.syncId,syncMethod:st.syncMethod,className:st.className,reverseStackOrder:st.reverseStackOrder}),reactExports.createElement(CategoricalChart,_extends$1({},st,{ref:rt})))}),allowedTooltipTypes$2=["axis","item"],BarChart=reactExports.forwardRef((_e,et)=>reactExports.createElement(CartesianChart,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:allowedTooltipTypes$2,tooltipPayloadSearcher:arrayTooltipSearcher,categoricalChartProps:_e,ref:et}));function ReportPolarOptions(_e){var et=useAppDispatch();return reactExports.useEffect(()=>{et(updatePolarOptions(_e))},[et,_e]),null}var _excluded$2=["layout"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(_e){for(var et=1;et<arguments.length;et++){var rt=arguments[et];for(var nt in rt)({}).hasOwnProperty.call(rt,nt)&&(_e[nt]=rt[nt])}return _e},_extends.apply(null,arguments)}function _objectWithoutProperties$1(_e,et){if(_e==null)return{};var rt,nt,st=_objectWithoutPropertiesLoose$1(_e,et);if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(_e);for(nt=0;nt<it.length;nt++)rt=it[nt],et.indexOf(rt)===-1&&{}.propertyIsEnumerable.call(_e,rt)&&(st[rt]=_e[rt])}return st}function _objectWithoutPropertiesLoose$1(_e,et){if(_e==null)return{};var rt={};for(var nt in _e)if({}.hasOwnProperty.call(_e,nt)){if(et.indexOf(nt)!==-1)continue;rt[nt]=_e[nt]}return rt}var defaultMargin={top:5,right:5,bottom:5,left:5},defaultPolarChartProps={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:defaultMargin,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},PolarChart=reactExports.forwardRef(function(et,rt){var nt,st=resolveDefaultProps(et.categoricalChartProps,defaultPolarChartProps),{layout:it}=st,at=_objectWithoutProperties$1(st,_excluded$2),{chartName:ot,defaultTooltipEventType:lt,validateTooltipEventTypes:ct,tooltipPayloadSearcher:ut}=et,dt={chartName:ot,defaultTooltipEventType:lt,validateTooltipEventTypes:ct,tooltipPayloadSearcher:ut,eventEmitter:void 0};return reactExports.createElement(RechartsStoreProvider,{preloadedState:{options:dt},reduxStoreName:(nt=st.id)!==null&&nt!==void 0?nt:ot},reactExports.createElement(ChartDataContextProvider,{chartData:st.data}),reactExports.createElement(ReportMainChartProps,{layout:it,margin:st.margin}),reactExports.createElement(ReportChartProps,{baseValue:void 0,accessibilityLayer:st.accessibilityLayer,barCategoryGap:st.barCategoryGap,maxBarSize:st.maxBarSize,stackOffset:st.stackOffset,barGap:st.barGap,barSize:st.barSize,syncId:st.syncId,syncMethod:st.syncMethod,className:st.className,reverseStackOrder:st.reverseStackOrder}),reactExports.createElement(ReportPolarOptions,{cx:st.cx,cy:st.cy,startAngle:st.startAngle,endAngle:st.endAngle,innerRadius:st.innerRadius,outerRadius:st.outerRadius}),reactExports.createElement(CategoricalChart,_extends({},at,{ref:rt})))});function ownKeys$1(_e,et){var rt=Object.keys(_e);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);et&&(nt=nt.filter(function(st){return Object.getOwnPropertyDescriptor(_e,st).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread(_e){for(var et=1;et<arguments.length;et++){var rt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$1(Object(rt),!0).forEach(function(nt){_defineProperty$1(_e,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(rt)):ownKeys$1(Object(rt)).forEach(function(nt){Object.defineProperty(_e,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return _e}function _defineProperty$1(_e,et,rt){return(et=_toPropertyKey$1(et))in _e?Object.defineProperty(_e,et,{value:rt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=rt,_e}function _toPropertyKey$1(_e){var et=_toPrimitive$1(_e,"string");return typeof et=="symbol"?et:et+""}function _toPrimitive$1(_e,et){if(typeof _e!="object"||!_e)return _e;var rt=_e[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(_e,et);if(typeof nt!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(_e)}var allowedTooltipTypes$1=["item"],defaultPieChartProps=_objectSpread(_objectSpread({},defaultPolarChartProps),{},{layout:"centric",startAngle:0,endAngle:360}),PieChart=reactExports.forwardRef((_e,et)=>{var rt=resolveDefaultProps(_e,defaultPieChartProps);return reactExports.createElement(PolarChart,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:allowedTooltipTypes$1,tooltipPayloadSearcher:arrayTooltipSearcher,categoricalChartProps:rt,ref:et})}),allowedTooltipTypes=["axis"],AreaChart=reactExports.forwardRef((_e,et)=>reactExports.createElement(CartesianChart,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:allowedTooltipTypes,tooltipPayloadSearcher:arrayTooltipSearcher,categoricalChartProps:_e,ref:et})),lottie$1={exports:{}};(function(module,exports$1){typeof document<"u"&&typeof navigator<"u"&&function(_e,et){module.exports=et()}(commonjsGlobal,function(){var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(et){_useWebWorker=!!et},getWebWorker=function(){return _useWebWorker},setLocationHref=function(et){locationHref=et},getLocationHref=function(){return locationHref};function createTag(_e){return document.createElement(_e)}function extendPrototype(_e,et){var rt,nt=_e.length,st;for(rt=0;rt<nt;rt+=1){st=_e[rt].prototype;for(var it in st)Object.prototype.hasOwnProperty.call(st,it)&&(et.prototype[it]=st[it])}}function getDescriptor(_e,et){return Object.getOwnPropertyDescriptor(_e,et)}function createProxyFunction(_e){function et(){}return et.prototype=_e,et}var audioControllerFactory=function(){function _e(et){this.audios=[],this.audioFactory=et,this._volume=1,this._isMuted=!1}return _e.prototype={addAudio:function(rt){this.audios.push(rt)},pause:function(){var rt,nt=this.audios.length;for(rt=0;rt<nt;rt+=1)this.audios[rt].pause()},resume:function(){var rt,nt=this.audios.length;for(rt=0;rt<nt;rt+=1)this.audios[rt].resume()},setRate:function(rt){var nt,st=this.audios.length;for(nt=0;nt<st;nt+=1)this.audios[nt].setRate(rt)},createAudio:function(rt){return this.audioFactory?this.audioFactory(rt):window.Howl?new window.Howl({src:[rt]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(rt){this.audioFactory=rt},setVolume:function(rt){this._volume=rt,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var rt,nt=this.audios.length;for(rt=0;rt<nt;rt+=1)this.audios[rt].volume(this._volume*(this._isMuted?0:1))}},function(){return new _e}}(),createTypedArray=function(){function _e(rt,nt){var st=0,it=[],at;switch(rt){case"int16":case"uint8c":at=1;break;default:at=1.1;break}for(st=0;st<nt;st+=1)it.push(at);return it}function et(rt,nt){return rt==="float32"?new Float32Array(nt):rt==="int16"?new Int16Array(nt):rt==="uint8c"?new Uint8ClampedArray(nt):_e(rt,nt)}return typeof Uint8ClampedArray=="function"&&typeof Float32Array=="function"?et:_e}();function createSizedArray(_e){return Array.apply(null,{length:_e})}function _typeof$6(_e){"@babel/helpers - typeof";return _typeof$6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(et){return typeof et}:function(et){return et&&typeof Symbol=="function"&&et.constructor===Symbol&&et!==Symbol.prototype?"symbol":typeof et},_typeof$6(_e)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};(function(){var _e=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],et,rt=_e.length;for(et=0;et<rt;et+=1)BMMath[_e[et]]=Math[_e[et]]})(),BMMath.random=Math.random,BMMath.abs=function(_e){var et=_typeof$6(_e);if(et==="object"&&_e.length){var rt=createSizedArray(_e.length),nt,st=_e.length;for(nt=0;nt<st;nt+=1)rt[nt]=Math.abs(_e[nt]);return rt}return Math.abs(_e)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function styleDiv(_e){_e.style.position="absolute",_e.style.top=0,_e.style.left=0,_e.style.display="block",_e.style.transformOrigin="0 0",_e.style.webkitTransformOrigin="0 0",_e.style.backfaceVisibility="visible",_e.style.webkitBackfaceVisibility="visible",_e.style.transformStyle="preserve-3d",_e.style.webkitTransformStyle="preserve-3d",_e.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(_e,et,rt,nt){this.type=_e,this.currentTime=et,this.totalTime=rt,this.direction=nt<0?-1:1}function BMCompleteEvent(_e,et){this.type=_e,this.direction=et<0?-1:1}function BMCompleteLoopEvent(_e,et,rt,nt){this.type=_e,this.currentLoop=rt,this.totalLoops=et,this.direction=nt<0?-1:1}function BMSegmentStartEvent(_e,et,rt){this.type=_e,this.firstFrame=et,this.totalFrames=rt}function BMDestroyEvent(_e,et){this.type=_e,this.target=et}function BMRenderFrameErrorEvent(_e,et){this.type="renderFrameError",this.nativeError=_e,this.currentTime=et}function BMConfigErrorEvent(_e){this.type="configError",this.nativeError=_e}var createElementID=function(){var _e=0;return function(){return _e+=1,idPrefix$1+"__lottie_element_"+_e}}();function HSVtoRGB(_e,et,rt){var nt,st,it,at,ot,lt,ct,ut;switch(at=Math.floor(_e*6),ot=_e*6-at,lt=rt*(1-et),ct=rt*(1-ot*et),ut=rt*(1-(1-ot)*et),at%6){case 0:nt=rt,st=ut,it=lt;break;case 1:nt=ct,st=rt,it=lt;break;case 2:nt=lt,st=rt,it=ut;break;case 3:nt=lt,st=ct,it=rt;break;case 4:nt=ut,st=lt,it=rt;break;case 5:nt=rt,st=lt,it=ct;break}return[nt,st,it]}function RGBtoHSV(_e,et,rt){var nt=Math.max(_e,et,rt),st=Math.min(_e,et,rt),it=nt-st,at,ot=nt===0?0:it/nt,lt=nt/255;switch(nt){case st:at=0;break;case _e:at=et-rt+it*(et<rt?6:0),at/=6*it;break;case et:at=rt-_e+it*2,at/=6*it;break;case rt:at=_e-et+it*4,at/=6*it;break}return[at,ot,lt]}function addSaturationToRGB(_e,et){var rt=RGBtoHSV(_e[0]*255,_e[1]*255,_e[2]*255);return rt[1]+=et,rt[1]>1?rt[1]=1:rt[1]<=0&&(rt[1]=0),HSVtoRGB(rt[0],rt[1],rt[2])}function addBrightnessToRGB(_e,et){var rt=RGBtoHSV(_e[0]*255,_e[1]*255,_e[2]*255);return rt[2]+=et,rt[2]>1?rt[2]=1:rt[2]<0&&(rt[2]=0),HSVtoRGB(rt[0],rt[1],rt[2])}function addHueToRGB(_e,et){var rt=RGBtoHSV(_e[0]*255,_e[1]*255,_e[2]*255);return rt[0]+=et/360,rt[0]>1?rt[0]-=1:rt[0]<0&&(rt[0]+=1),HSVtoRGB(rt[0],rt[1],rt[2])}var rgbToHex=function(){var _e=[],et,rt;for(et=0;et<256;et+=1)rt=et.toString(16),_e[et]=rt.length===1?"0"+rt:rt;return function(nt,st,it){return nt<0&&(nt=0),st<0&&(st=0),it<0&&(it=0),"#"+_e[nt]+_e[st]+_e[it]}}(),setSubframeEnabled=function(et){subframeEnabled=!!et},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(et){expressionsPlugin=et},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(et){expressionsInterfaces=et},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(et){defaultCurveSegments=et},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(et){idPrefix$1=et};function createNS(_e){return document.createElementNS(svgNS,_e)}function _typeof$5(_e){"@babel/helpers - typeof";return _typeof$5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(et){return typeof et}:function(et){return et&&typeof Symbol=="function"&&et.constructor===Symbol&&et!==Symbol.prototype?"symbol":typeof et},_typeof$5(_e)}var dataManager=function(){var _e=1,et=[],rt,nt,st={onmessage:function(){},postMessage:function(mt){rt({data:mt})}},it={postMessage:function(mt){st.onmessage({data:mt})}};function at(pt){if(window.Worker&&window.Blob&&getWebWorker()){var mt=new Blob(["var _workerSelf = self; self.onmessage = ",pt.toString()],{type:"text/javascript"}),xt=URL.createObjectURL(mt);return new Worker(xt)}return rt=pt,st}function ot(){nt||(nt=at(function(mt){function xt(){function vt(qt,Ot){var Dt,Pt,It=qt.length,At,Ht,Gt,Vt;for(Pt=0;Pt<It;Pt+=1)if(Dt=qt[Pt],"ks"in Dt&&!Dt.completed){if(Dt.completed=!0,Dt.hasMask){var Jt=Dt.masksProperties;for(Ht=Jt.length,At=0;At<Ht;At+=1)if(Jt[At].pt.k.i)Rt(Jt[At].pt.k);else for(Vt=Jt[At].pt.k.length,Gt=0;Gt<Vt;Gt+=1)Jt[At].pt.k[Gt].s&&Rt(Jt[At].pt.k[Gt].s[0]),Jt[At].pt.k[Gt].e&&Rt(Jt[At].pt.k[Gt].e[0])}Dt.ty===0?(Dt.layers=jt(Dt.refId,Ot),vt(Dt.layers,Ot)):Dt.ty===4?kt(Dt.shapes):Dt.ty===5&&Bt(Dt)}}function gt(qt,Ot){if(qt){var Dt=0,Pt=qt.length;for(Dt=0;Dt<Pt;Dt+=1)qt[Dt].t===1&&(qt[Dt].data.layers=jt(qt[Dt].data.refId,Ot),vt(qt[Dt].data.layers,Ot))}}function Et(qt,Ot){for(var Dt=0,Pt=Ot.length;Dt<Pt;){if(Ot[Dt].id===qt)return Ot[Dt];Dt+=1}return null}function jt(qt,Ot){var Dt=Et(qt,Ot);return Dt?Dt.layers.__used?JSON.parse(JSON.stringify(Dt.layers)):(Dt.layers.__used=!0,Dt.layers):null}function kt(qt){var Ot,Dt=qt.length,Pt,It;for(Ot=Dt-1;Ot>=0;Ot-=1)if(qt[Ot].ty==="sh")if(qt[Ot].ks.k.i)Rt(qt[Ot].ks.k);else for(It=qt[Ot].ks.k.length,Pt=0;Pt<It;Pt+=1)qt[Ot].ks.k[Pt].s&&Rt(qt[Ot].ks.k[Pt].s[0]),qt[Ot].ks.k[Pt].e&&Rt(qt[Ot].ks.k[Pt].e[0]);else qt[Ot].ty==="gr"&&kt(qt[Ot].it)}function Rt(qt){var Ot,Dt=qt.i.length;for(Ot=0;Ot<Dt;Ot+=1)qt.i[Ot][0]+=qt.v[Ot][0],qt.i[Ot][1]+=qt.v[Ot][1],qt.o[Ot][0]+=qt.v[Ot][0],qt.o[Ot][1]+=qt.v[Ot][1]}function St(qt,Ot){var Dt=Ot?Ot.split("."):[100,100,100];return qt[0]>Dt[0]?!0:Dt[0]>qt[0]?!1:qt[1]>Dt[1]?!0:Dt[1]>qt[1]?!1:qt[2]>Dt[2]?!0:Dt[2]>qt[2]?!1:null}var _t=function(){var qt=[4,4,14];function Ot(Pt){var It=Pt.t.d;Pt.t.d={k:[{s:It,t:0}]}}function Dt(Pt){var It,At=Pt.length;for(It=0;It<At;It+=1)Pt[It].ty===5&&Ot(Pt[It])}return function(Pt){if(St(qt,Pt.v)&&(Dt(Pt.layers),Pt.assets)){var It,At=Pt.assets.length;for(It=0;It<At;It+=1)Pt.assets[It].layers&&Dt(Pt.assets[It].layers)}}}(),Nt=function(){var qt=[4,7,99];return function(Ot){if(Ot.chars&&!St(qt,Ot.v)){var Dt,Pt=Ot.chars.length;for(Dt=0;Dt<Pt;Dt+=1){var It=Ot.chars[Dt];It.data&&It.data.shapes&&(kt(It.data.shapes),It.data.ip=0,It.data.op=99999,It.data.st=0,It.data.sr=1,It.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},Ot.chars[Dt].t||(It.data.shapes.push({ty:"no"}),It.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}}(),Lt=function(){var qt=[5,7,15];function Ot(Pt){var It=Pt.t.p;typeof It.a=="number"&&(It.a={a:0,k:It.a}),typeof It.p=="number"&&(It.p={a:0,k:It.p}),typeof It.r=="number"&&(It.r={a:0,k:It.r})}function Dt(Pt){var It,At=Pt.length;for(It=0;It<At;It+=1)Pt[It].ty===5&&Ot(Pt[It])}return function(Pt){if(St(qt,Pt.v)&&(Dt(Pt.layers),Pt.assets)){var It,At=Pt.assets.length;for(It=0;It<At;It+=1)Pt.assets[It].layers&&Dt(Pt.assets[It].layers)}}}(),$t=function(){var qt=[4,1,9];function Ot(Pt){var It,At=Pt.length,Ht,Gt;for(It=0;It<At;It+=1)if(Pt[It].ty==="gr")Ot(Pt[It].it);else if(Pt[It].ty==="fl"||Pt[It].ty==="st")if(Pt[It].c.k&&Pt[It].c.k[0].i)for(Gt=Pt[It].c.k.length,Ht=0;Ht<Gt;Ht+=1)Pt[It].c.k[Ht].s&&(Pt[It].c.k[Ht].s[0]/=255,Pt[It].c.k[Ht].s[1]/=255,Pt[It].c.k[Ht].s[2]/=255,Pt[It].c.k[Ht].s[3]/=255),Pt[It].c.k[Ht].e&&(Pt[It].c.k[Ht].e[0]/=255,Pt[It].c.k[Ht].e[1]/=255,Pt[It].c.k[Ht].e[2]/=255,Pt[It].c.k[Ht].e[3]/=255);else Pt[It].c.k[0]/=255,Pt[It].c.k[1]/=255,Pt[It].c.k[2]/=255,Pt[It].c.k[3]/=255}function Dt(Pt){var It,At=Pt.length;for(It=0;It<At;It+=1)Pt[It].ty===4&&Ot(Pt[It].shapes)}return function(Pt){if(St(qt,Pt.v)&&(Dt(Pt.layers),Pt.assets)){var It,At=Pt.assets.length;for(It=0;It<At;It+=1)Pt.assets[It].layers&&Dt(Pt.assets[It].layers)}}}(),Ft=function(){var qt=[4,4,18];function Ot(Pt){var It,At=Pt.length,Ht,Gt;for(It=At-1;It>=0;It-=1)if(Pt[It].ty==="sh")if(Pt[It].ks.k.i)Pt[It].ks.k.c=Pt[It].closed;else for(Gt=Pt[It].ks.k.length,Ht=0;Ht<Gt;Ht+=1)Pt[It].ks.k[Ht].s&&(Pt[It].ks.k[Ht].s[0].c=Pt[It].closed),Pt[It].ks.k[Ht].e&&(Pt[It].ks.k[Ht].e[0].c=Pt[It].closed);else Pt[It].ty==="gr"&&Ot(Pt[It].it)}function Dt(Pt){var It,At,Ht=Pt.length,Gt,Vt,Jt,rr;for(At=0;At<Ht;At+=1){if(It=Pt[At],It.hasMask){var ar=It.masksProperties;for(Vt=ar.length,Gt=0;Gt<Vt;Gt+=1)if(ar[Gt].pt.k.i)ar[Gt].pt.k.c=ar[Gt].cl;else for(rr=ar[Gt].pt.k.length,Jt=0;Jt<rr;Jt+=1)ar[Gt].pt.k[Jt].s&&(ar[Gt].pt.k[Jt].s[0].c=ar[Gt].cl),ar[Gt].pt.k[Jt].e&&(ar[Gt].pt.k[Jt].e[0].c=ar[Gt].cl)}It.ty===4&&Ot(It.shapes)}}return function(Pt){if(St(qt,Pt.v)&&(Dt(Pt.layers),Pt.assets)){var It,At=Pt.assets.length;for(It=0;It<At;It+=1)Pt.assets[It].layers&&Dt(Pt.assets[It].layers)}}}();function Tt(qt){qt.__complete||($t(qt),_t(qt),Nt(qt),Lt(qt),Ft(qt),vt(qt.layers,qt.assets),gt(qt.chars,qt.assets),qt.__complete=!0)}function Bt(qt){qt.t.a.length===0&&"m"in qt.t.p}var Wt={};return Wt.completeData=Tt,Wt.checkColors=$t,Wt.checkChars=Nt,Wt.checkPathProperties=Lt,Wt.checkShapes=Ft,Wt.completeLayers=vt,Wt}if(it.dataManager||(it.dataManager=xt()),it.assetLoader||(it.assetLoader=function(){function vt(Et){var jt=Et.getResponseHeader("content-type");return jt&&Et.responseType==="json"&&jt.indexOf("json")!==-1||Et.response&&_typeof$5(Et.response)==="object"?Et.response:Et.response&&typeof Et.response=="string"?JSON.parse(Et.response):Et.responseText?JSON.parse(Et.responseText):null}function gt(Et,jt,kt,Rt){var St,_t=new XMLHttpRequest;try{_t.responseType="json"}catch{}_t.onreadystatechange=function(){if(_t.readyState===4)if(_t.status===200)St=vt(_t),kt(St);else try{St=vt(_t),kt(St)}catch(Nt){Rt&&Rt(Nt)}};try{_t.open(["G","E","T"].join(""),Et,!0)}catch{_t.open(["G","E","T"].join(""),jt+"/"+Et,!0)}_t.send()}return{load:gt}}()),mt.data.type==="loadAnimation")it.assetLoader.load(mt.data.path,mt.data.fullPath,function(vt){it.dataManager.completeData(vt),it.postMessage({id:mt.data.id,payload:vt,status:"success"})},function(){it.postMessage({id:mt.data.id,status:"error"})});else if(mt.data.type==="complete"){var yt=mt.data.animation;it.dataManager.completeData(yt),it.postMessage({id:mt.data.id,payload:yt,status:"success"})}else mt.data.type==="loadData"&&it.assetLoader.load(mt.data.path,mt.data.fullPath,function(vt){it.postMessage({id:mt.data.id,payload:vt,status:"success"})},function(){it.postMessage({id:mt.data.id,status:"error"})})}),nt.onmessage=function(pt){var mt=pt.data,xt=mt.id,yt=et[xt];et[xt]=null,mt.status==="success"?yt.onComplete(mt.payload):yt.onError&&yt.onError()})}function lt(pt,mt){_e+=1;var xt="processId_"+_e;return et[xt]={onComplete:pt,onError:mt},xt}function ct(pt,mt,xt){ot();var yt=lt(mt,xt);nt.postMessage({type:"loadAnimation",path:pt,fullPath:window.location.origin+window.location.pathname,id:yt})}function ut(pt,mt,xt){ot();var yt=lt(mt,xt);nt.postMessage({type:"loadData",path:pt,fullPath:window.location.origin+window.location.pathname,id:yt})}function dt(pt,mt,xt){ot();var yt=lt(mt,xt);nt.postMessage({type:"complete",animation:pt,id:yt})}return{loadAnimation:ct,loadData:ut,completeAnimation:dt}}(),ImagePreloader=function(){var _e=function(){var gt=createTag("canvas");gt.width=1,gt.height=1;var Et=gt.getContext("2d");return Et.fillStyle="rgba(0,0,0,0)",Et.fillRect(0,0,1,1),gt}();function et(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function rt(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function nt(gt,Et,jt){var kt="";if(gt.e)kt=gt.p;else if(Et){var Rt=gt.p;Rt.indexOf("images/")!==-1&&(Rt=Rt.split("/")[1]),kt=Et+Rt}else kt=jt,kt+=gt.u?gt.u:"",kt+=gt.p;return kt}function st(gt){var Et=0,jt=setInterval((function(){var kt=gt.getBBox();(kt.width||Et>500)&&(this._imageLoaded(),clearInterval(jt)),Et+=1}).bind(this),50)}function it(gt){var Et=nt(gt,this.assetsPath,this.path),jt=createNS("image");isSafari?this.testImageLoaded(jt):jt.addEventListener("load",this._imageLoaded,!1),jt.addEventListener("error",(function(){kt.img=_e,this._imageLoaded()}).bind(this),!1),jt.setAttributeNS("http://www.w3.org/1999/xlink","href",Et),this._elementHelper.append?this._elementHelper.append(jt):this._elementHelper.appendChild(jt);var kt={img:jt,assetData:gt};return kt}function at(gt){var Et=nt(gt,this.assetsPath,this.path),jt=createTag("img");jt.crossOrigin="anonymous",jt.addEventListener("load",this._imageLoaded,!1),jt.addEventListener("error",(function(){kt.img=_e,this._imageLoaded()}).bind(this),!1),jt.src=Et;var kt={img:jt,assetData:gt};return kt}function ot(gt){var Et={assetData:gt},jt=nt(gt,this.assetsPath,this.path);return dataManager.loadData(jt,(function(kt){Et.img=kt,this._footageLoaded()}).bind(this),(function(){Et.img={},this._footageLoaded()}).bind(this)),Et}function lt(gt,Et){this.imagesLoadedCb=Et;var jt,kt=gt.length;for(jt=0;jt<kt;jt+=1)gt[jt].layers||(!gt[jt].t||gt[jt].t==="seq"?(this.totalImages+=1,this.images.push(this._createImageData(gt[jt]))):gt[jt].t===3&&(this.totalFootages+=1,this.images.push(this.createFootageData(gt[jt]))))}function ct(gt){this.path=gt||""}function ut(gt){this.assetsPath=gt||""}function dt(gt){for(var Et=0,jt=this.images.length;Et<jt;){if(this.images[Et].assetData===gt)return this.images[Et].img;Et+=1}return null}function pt(){this.imagesLoadedCb=null,this.images.length=0}function mt(){return this.totalImages===this.loadedAssets}function xt(){return this.totalFootages===this.loadedFootagesCount}function yt(gt,Et){gt==="svg"?(this._elementHelper=Et,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}function vt(){this._imageLoaded=et.bind(this),this._footageLoaded=rt.bind(this),this.testImageLoaded=st.bind(this),this.createFootageData=ot.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return vt.prototype={loadAssets:lt,setAssetsPath:ut,setPath:ct,loadedImages:mt,loadedFootages:xt,destroy:pt,getAsset:dt,createImgData:at,createImageData:it,imageLoaded:et,footageLoaded:rt,setCacheType:yt},vt}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(et,rt){if(this._cbs[et])for(var nt=this._cbs[et],st=0;st<nt.length;st+=1)nt[st](rt)},addEventListener:function(et,rt){return this._cbs[et]||(this._cbs[et]=[]),this._cbs[et].push(rt),(function(){this.removeEventListener(et,rt)}).bind(this)},removeEventListener:function(et,rt){if(!rt)this._cbs[et]=null;else if(this._cbs[et]){for(var nt=0,st=this._cbs[et].length;nt<st;)this._cbs[et][nt]===rt&&(this._cbs[et].splice(nt,1),nt-=1,st-=1),nt+=1;this._cbs[et].length||(this._cbs[et]=null)}}};var markerParser=function(){function _e(et){for(var rt=et.split(`\r
`),nt={},st,it=0,at=0;at<rt.length;at+=1)st=rt[at].split(":"),st.length===2&&(nt[st[0]]=st[1].trim(),it+=1);if(it===0)throw new Error;return nt}return function(et){for(var rt=[],nt=0;nt<et.length;nt+=1){var st=et[nt],it={time:st.tm,duration:st.dr};try{it.payload=JSON.parse(et[nt].cm)}catch{try{it.payload=_e(et[nt].cm)}catch{it.payload={name:et[nt].cm}}}rt.push(it)}return rt}}(),ProjectInterface=function(){function _e(et){this.compositions.push(et)}return function(){function et(rt){for(var nt=0,st=this.compositions.length;nt<st;){if(this.compositions[nt].data&&this.compositions[nt].data.nm===rt)return this.compositions[nt].prepareFrame&&this.compositions[nt].data.xt&&this.compositions[nt].prepareFrame(this.currentFrame),this.compositions[nt].compInterface;nt+=1}return null}return et.compositions=[],et.currentFrame=0,et.registerComposition=_e,et}}(),renderers={},registerRenderer=function(et,rt){renderers[et]=rt};function getRenderer(_e){return renderers[_e]}function getRegisteredRenderer(){if(renderers.canvas)return"canvas";for(var _e in renderers)if(renderers[_e])return _e;return""}function _typeof$4(_e){"@babel/helpers - typeof";return _typeof$4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(et){return typeof et}:function(et){return et&&typeof Symbol=="function"&&et.constructor===Symbol&&et!==Symbol.prototype?"symbol":typeof et},_typeof$4(_e)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0),this.expressionsPlugin=getExpressionsPlugin()};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(_e){(_e.wrapper||_e.container)&&(this.wrapper=_e.wrapper||_e.container);var et="svg";_e.animType?et=_e.animType:_e.renderer&&(et=_e.renderer);var rt=getRenderer(et);this.renderer=new rt(this,_e.rendererSettings),this.imagePreloader.setCacheType(et,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=et,_e.loop===""||_e.loop===null||_e.loop===void 0||_e.loop===!0?this.loop=!0:_e.loop===!1?this.loop=!1:this.loop=parseInt(_e.loop,10),this.autoplay="autoplay"in _e?_e.autoplay:!0,this.name=_e.name?_e.name:"",this.autoloadSegments=Object.prototype.hasOwnProperty.call(_e,"autoloadSegments")?_e.autoloadSegments:!0,this.assetsPath=_e.assetsPath,this.initialSegment=_e.initialSegment,_e.audioFactory&&this.audioController.setAudioFactory(_e.audioFactory),_e.animationData?this.setupAnimation(_e.animationData):_e.path&&(_e.path.lastIndexOf("\\")!==-1?this.path=_e.path.substr(0,_e.path.lastIndexOf("\\")+1):this.path=_e.path.substr(0,_e.path.lastIndexOf("/")+1),this.fileName=_e.path.substr(_e.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(_e.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(_e){dataManager.completeAnimation(_e,this.configAnimation)},AnimationItem.prototype.setData=function(_e,et){et&&_typeof$4(et)!=="object"&&(et=JSON.parse(et));var rt={wrapper:_e,animationData:et},nt=_e.attributes;rt.path=nt.getNamedItem("data-animation-path")?nt.getNamedItem("data-animation-path").value:nt.getNamedItem("data-bm-path")?nt.getNamedItem("data-bm-path").value:nt.getNamedItem("bm-path")?nt.getNamedItem("bm-path").value:"",rt.animType=nt.getNamedItem("data-anim-type")?nt.getNamedItem("data-anim-type").value:nt.getNamedItem("data-bm-type")?nt.getNamedItem("data-bm-type").value:nt.getNamedItem("bm-type")?nt.getNamedItem("bm-type").value:nt.getNamedItem("data-bm-renderer")?nt.getNamedItem("data-bm-renderer").value:nt.getNamedItem("bm-renderer")?nt.getNamedItem("bm-renderer").value:getRegisteredRenderer()||"canvas";var st=nt.getNamedItem("data-anim-loop")?nt.getNamedItem("data-anim-loop").value:nt.getNamedItem("data-bm-loop")?nt.getNamedItem("data-bm-loop").value:nt.getNamedItem("bm-loop")?nt.getNamedItem("bm-loop").value:"";st==="false"?rt.loop=!1:st==="true"?rt.loop=!0:st!==""&&(rt.loop=parseInt(st,10));var it=nt.getNamedItem("data-anim-autoplay")?nt.getNamedItem("data-anim-autoplay").value:nt.getNamedItem("data-bm-autoplay")?nt.getNamedItem("data-bm-autoplay").value:nt.getNamedItem("bm-autoplay")?nt.getNamedItem("bm-autoplay").value:!0;rt.autoplay=it!=="false",rt.name=nt.getNamedItem("data-name")?nt.getNamedItem("data-name").value:nt.getNamedItem("data-bm-name")?nt.getNamedItem("data-bm-name").value:nt.getNamedItem("bm-name")?nt.getNamedItem("bm-name").value:"";var at=nt.getNamedItem("data-anim-prerender")?nt.getNamedItem("data-anim-prerender").value:nt.getNamedItem("data-bm-prerender")?nt.getNamedItem("data-bm-prerender").value:nt.getNamedItem("bm-prerender")?nt.getNamedItem("bm-prerender").value:"";at==="false"&&(rt.prerender=!1),rt.path?this.setParams(rt):this.trigger("destroy")},AnimationItem.prototype.includeLayers=function(_e){_e.op>this.animationData.op&&(this.animationData.op=_e.op,this.totalFrames=Math.floor(_e.op-this.animationData.ip));var et=this.animationData.layers,rt,nt=et.length,st=_e.layers,it,at=st.length;for(it=0;it<at;it+=1)for(rt=0;rt<nt;){if(et[rt].id===st[it].id){et[rt]=st[it];break}rt+=1}if((_e.chars||_e.fonts)&&(this.renderer.globalData.fontManager.addChars(_e.chars),this.renderer.globalData.fontManager.addFonts(_e.fonts,this.renderer.globalData.defs)),_e.assets)for(nt=_e.assets.length,rt=0;rt<nt;rt+=1)this.animationData.assets.push(_e.assets[rt]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(_e){this.animationData=_e;var et=getExpressionsPlugin();et&&et.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var _e=this.animationData.segments;if(!_e||_e.length===0||!this.autoloadSegments){this.trigger("data_ready"),this.timeCompleted=this.totalFrames;return}var et=_e.shift();this.timeCompleted=et.time*this.frameRate;var rt=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(rt,this.includeLayers.bind(this),(function(){this.trigger("data_failed")}).bind(this))},AnimationItem.prototype.loadSegments=function(){var _e=this.animationData.segments;_e||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(_e){if(this.renderer)try{this.animationData=_e,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(_e),_e.assets||(_e.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(_e.assets),this.markers=markerParser(_e.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(et){this.triggerConfigError(et)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var _e=getExpressionsPlugin();_e&&_e.initExpressions(this),this.renderer.initItems(),setTimeout((function(){this.trigger("DOMLoaded")}).bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(_e,et){var rt=typeof _e=="number"?_e:void 0,nt=typeof et=="number"?et:void 0;this.renderer.updateContainerSize(rt,nt)},AnimationItem.prototype.setSubframe=function(_e){this.isSubframeEnabled=!!_e},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!(this.isLoaded===!1||!this.renderer))try{this.expressionsPlugin&&this.expressionsPlugin.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(_e){this.triggerRenderFrameError(_e)}},AnimationItem.prototype.play=function(_e){_e&&this.name!==_e||this.isPaused===!0&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(_e){_e&&this.name!==_e||this.isPaused===!1&&(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(_e){_e&&this.name!==_e||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(_e){_e&&this.name!==_e||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(_e){for(var et,rt=0;rt<this.markers.length;rt+=1)if(et=this.markers[rt],et.payload&&et.payload.name===_e)return et;return null},AnimationItem.prototype.goToAndStop=function(_e,et,rt){if(!(rt&&this.name!==rt)){var nt=Number(_e);if(isNaN(nt)){var st=this.getMarkerData(_e);st&&this.goToAndStop(st.time,!0)}else et?this.setCurrentRawFrameValue(_e):this.setCurrentRawFrameValue(_e*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(_e,et,rt){if(!(rt&&this.name!==rt)){var nt=Number(_e);if(isNaN(nt)){var st=this.getMarkerData(_e);st&&(st.duration?this.playSegments([st.time,st.time+st.duration],!0):this.goToAndStop(st.time,!0))}else this.goToAndStop(nt,et,rt);this.play()}},AnimationItem.prototype.advanceTime=function(_e){if(!(this.isPaused===!0||this.isLoaded===!1)){var et=this.currentRawFrame+_e*this.frameModifier,rt=!1;et>=this.totalFrames-1&&this.frameModifier>0?!this.loop||this.playCount===this.loop?this.checkSegments(et>this.totalFrames?et%this.totalFrames:0)||(rt=!0,et=this.totalFrames-1):et>=this.totalFrames?(this.playCount+=1,this.checkSegments(et%this.totalFrames)||(this.setCurrentRawFrameValue(et%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(et):et<0?this.checkSegments(et%this.totalFrames)||(this.loop&&!(this.playCount--<=0&&this.loop!==!0)?(this.setCurrentRawFrameValue(this.totalFrames+et%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0):(rt=!0,et=0)):this.setCurrentRawFrameValue(et),rt&&(this.setCurrentRawFrameValue(et),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(_e,et){this.playCount=0,_e[1]<_e[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=_e[0]-_e[1],this.timeCompleted=this.totalFrames,this.firstFrame=_e[1],this.setCurrentRawFrameValue(this.totalFrames-.001-et)):_e[1]>_e[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=_e[1]-_e[0],this.timeCompleted=this.totalFrames,this.firstFrame=_e[0],this.setCurrentRawFrameValue(.001+et)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(_e,et){var rt=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<_e?rt=_e:this.currentRawFrame+this.firstFrame>et&&(rt=et-_e)),this.firstFrame=_e,this.totalFrames=et-_e,this.timeCompleted=this.totalFrames,rt!==-1&&this.goToAndStop(rt,!0)},AnimationItem.prototype.playSegments=function(_e,et){if(et&&(this.segments.length=0),_typeof$4(_e[0])==="object"){var rt,nt=_e.length;for(rt=0;rt<nt;rt+=1)this.segments.push(_e[rt])}else this.segments.push(_e);this.segments.length&&et&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(_e){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),_e&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(_e){return this.segments.length?(this.adjustSegment(this.segments.shift(),_e),!0):!1},AnimationItem.prototype.destroy=function(_e){_e&&this.name!==_e||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.expressionsPlugin=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(_e){this.currentRawFrame=_e,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(_e){this.playSpeed=_e,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(_e){this.playDirection=_e<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(_e){this.loop=_e},AnimationItem.prototype.setVolume=function(_e,et){et&&this.name!==et||this.audioController.setVolume(_e)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(_e){_e&&this.name!==_e||this.audioController.mute()},AnimationItem.prototype.unmute=function(_e){_e&&this.name!==_e||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(_e){var et="";if(_e.e)et=_e.p;else if(this.assetsPath){var rt=_e.p;rt.indexOf("images/")!==-1&&(rt=rt.split("/")[1]),et=this.assetsPath+rt}else et=this.path,et+=_e.u?_e.u:"",et+=_e.p;return et},AnimationItem.prototype.getAssetData=function(_e){for(var et=0,rt=this.assets.length;et<rt;){if(_e===this.assets[et].id)return this.assets[et];et+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(_e){return _e?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(_e,et,rt){try{var nt=this.renderer.getElementByPath(_e);nt.updateDocumentData(et,rt)}catch{}},AnimationItem.prototype.trigger=function(_e){if(this._cbs&&this._cbs[_e])switch(_e){case"enterFrame":this.triggerEvent(_e,new BMEnterFrameEvent(_e,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(_e,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(_e,new BMCompleteLoopEvent(_e,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(_e,new BMCompleteEvent(_e,this.frameMult));break;case"segmentStart":this.triggerEvent(_e,new BMSegmentStartEvent(_e,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(_e,new BMDestroyEvent(_e,this));break;default:this.triggerEvent(_e)}_e==="enterFrame"&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(_e,this.currentFrame,this.totalFrames,this.frameMult)),_e==="loopComplete"&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(_e,this.loop,this.playCount,this.frameMult)),_e==="complete"&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(_e,this.frameMult)),_e==="segmentStart"&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(_e,this.firstFrame,this.totalFrames)),_e==="destroy"&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(_e,this))},AnimationItem.prototype.triggerRenderFrameError=function(_e){var et=new BMRenderFrameErrorEvent(_e,this.currentFrame);this.triggerEvent("error",et),this.onError&&this.onError.call(this,et)},AnimationItem.prototype.triggerConfigError=function(_e){var et=new BMConfigErrorEvent(_e,this.currentFrame);this.triggerEvent("error",et),this.onError&&this.onError.call(this,et)};var animationManager=function(){var _e={},et=[],rt=0,nt=0,st=0,it=!0,at=!1;function ot(Ot){for(var Dt=0,Pt=Ot.target;Dt<nt;)et[Dt].animation===Pt&&(et.splice(Dt,1),Dt-=1,nt-=1,Pt.isPaused||dt()),Dt+=1}function lt(Ot,Dt){if(!Ot)return null;for(var Pt=0;Pt<nt;){if(et[Pt].elem===Ot&&et[Pt].elem!==null)return et[Pt].animation;Pt+=1}var It=new AnimationItem;return pt(It,Ot),It.setData(Ot,Dt),It}function ct(){var Ot,Dt=et.length,Pt=[];for(Ot=0;Ot<Dt;Ot+=1)Pt.push(et[Ot].animation);return Pt}function ut(){st+=1,$t()}function dt(){st-=1}function pt(Ot,Dt){Ot.addEventListener("destroy",ot),Ot.addEventListener("_active",ut),Ot.addEventListener("_idle",dt),et.push({elem:Dt,animation:Ot}),nt+=1}function mt(Ot){var Dt=new AnimationItem;return pt(Dt,null),Dt.setParams(Ot),Dt}function xt(Ot,Dt){var Pt;for(Pt=0;Pt<nt;Pt+=1)et[Pt].animation.setSpeed(Ot,Dt)}function yt(Ot,Dt){var Pt;for(Pt=0;Pt<nt;Pt+=1)et[Pt].animation.setDirection(Ot,Dt)}function vt(Ot){var Dt;for(Dt=0;Dt<nt;Dt+=1)et[Dt].animation.play(Ot)}function gt(Ot){var Dt=Ot-rt,Pt;for(Pt=0;Pt<nt;Pt+=1)et[Pt].animation.advanceTime(Dt);rt=Ot,st&&!at?window.requestAnimationFrame(gt):it=!0}function Et(Ot){rt=Ot,window.requestAnimationFrame(gt)}function jt(Ot){var Dt;for(Dt=0;Dt<nt;Dt+=1)et[Dt].animation.pause(Ot)}function kt(Ot,Dt,Pt){var It;for(It=0;It<nt;It+=1)et[It].animation.goToAndStop(Ot,Dt,Pt)}function Rt(Ot){var Dt;for(Dt=0;Dt<nt;Dt+=1)et[Dt].animation.stop(Ot)}function St(Ot){var Dt;for(Dt=0;Dt<nt;Dt+=1)et[Dt].animation.togglePause(Ot)}function _t(Ot){var Dt;for(Dt=nt-1;Dt>=0;Dt-=1)et[Dt].animation.destroy(Ot)}function Nt(Ot,Dt,Pt){var It=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),At,Ht=It.length;for(At=0;At<Ht;At+=1)Pt&&It[At].setAttribute("data-bm-type",Pt),lt(It[At],Ot);if(Dt&&Ht===0){Pt||(Pt="svg");var Gt=document.getElementsByTagName("body")[0];Gt.innerText="";var Vt=createTag("div");Vt.style.width="100%",Vt.style.height="100%",Vt.setAttribute("data-bm-type",Pt),Gt.appendChild(Vt),lt(Vt,Ot)}}function Lt(){var Ot;for(Ot=0;Ot<nt;Ot+=1)et[Ot].animation.resize()}function $t(){!at&&st&&it&&(window.requestAnimationFrame(Et),it=!1)}function Ft(){at=!0}function Tt(){at=!1,$t()}function Bt(Ot,Dt){var Pt;for(Pt=0;Pt<nt;Pt+=1)et[Pt].animation.setVolume(Ot,Dt)}function Wt(Ot){var Dt;for(Dt=0;Dt<nt;Dt+=1)et[Dt].animation.mute(Ot)}function qt(Ot){var Dt;for(Dt=0;Dt<nt;Dt+=1)et[Dt].animation.unmute(Ot)}return _e.registerAnimation=lt,_e.loadAnimation=mt,_e.setSpeed=xt,_e.setDirection=yt,_e.play=vt,_e.pause=jt,_e.stop=Rt,_e.togglePause=St,_e.searchAnimations=Nt,_e.resize=Lt,_e.goToAndStop=kt,_e.destroy=_t,_e.freeze=Ft,_e.unfreeze=Tt,_e.setVolume=Bt,_e.mute=Wt,_e.unmute=qt,_e.getRegisteredAnimations=ct,_e}(),BezierFactory=function(){var _e={};_e.getBezierEasing=rt;var et={};function rt(Et,jt,kt,Rt,St){var _t=St||("bez_"+Et+"_"+jt+"_"+kt+"_"+Rt).replace(/\./g,"p");if(et[_t])return et[_t];var Nt=new gt([Et,jt,kt,Rt]);return et[_t]=Nt,Nt}var nt=4,st=.001,it=1e-7,at=10,ot=11,lt=1/(ot-1),ct=typeof Float32Array=="function";function ut(Et,jt){return 1-3*jt+3*Et}function dt(Et,jt){return 3*jt-6*Et}function pt(Et){return 3*Et}function mt(Et,jt,kt){return((ut(jt,kt)*Et+dt(jt,kt))*Et+pt(jt))*Et}function xt(Et,jt,kt){return 3*ut(jt,kt)*Et*Et+2*dt(jt,kt)*Et+pt(jt)}function yt(Et,jt,kt,Rt,St){var _t,Nt,Lt=0;do Nt=jt+(kt-jt)/2,_t=mt(Nt,Rt,St)-Et,_t>0?kt=Nt:jt=Nt;while(Math.abs(_t)>it&&++Lt<at);return Nt}function vt(Et,jt,kt,Rt){for(var St=0;St<nt;++St){var _t=xt(jt,kt,Rt);if(_t===0)return jt;var Nt=mt(jt,kt,Rt)-Et;jt-=Nt/_t}return jt}function gt(Et){this._p=Et,this._mSampleValues=ct?new Float32Array(ot):new Array(ot),this._precomputed=!1,this.get=this.get.bind(this)}return gt.prototype={get:function(jt){var kt=this._p[0],Rt=this._p[1],St=this._p[2],_t=this._p[3];return this._precomputed||this._precompute(),kt===Rt&&St===_t?jt:jt===0?0:jt===1?1:mt(this._getTForX(jt),Rt,_t)},_precompute:function(){var jt=this._p[0],kt=this._p[1],Rt=this._p[2],St=this._p[3];this._precomputed=!0,(jt!==kt||Rt!==St)&&this._calcSampleValues()},_calcSampleValues:function(){for(var jt=this._p[0],kt=this._p[2],Rt=0;Rt<ot;++Rt)this._mSampleValues[Rt]=mt(Rt*lt,jt,kt)},_getTForX:function(jt){for(var kt=this._p[0],Rt=this._p[2],St=this._mSampleValues,_t=0,Nt=1,Lt=ot-1;Nt!==Lt&&St[Nt]<=jt;++Nt)_t+=lt;--Nt;var $t=(jt-St[Nt])/(St[Nt+1]-St[Nt]),Ft=_t+$t*lt,Tt=xt(Ft,kt,Rt);return Tt>=st?vt(jt,Ft,kt,Rt):Tt===0?Ft:yt(jt,_t,_t+lt,kt,Rt)}},_e}(),pooling=function(){function _e(et){return et.concat(createSizedArray(et.length))}return{double:_e}}(),poolFactory=function(){return function(_e,et,rt){var nt=0,st=_e,it=createSizedArray(st),at={newElement:ot,release:lt};function ot(){var ct;return nt?(nt-=1,ct=it[nt]):ct=et(),ct}function lt(ct){nt===st&&(it=pooling.double(it),st*=2),rt&&rt(ct),it[nt]=ct,nt+=1}return at}}(),bezierLengthPool=function(){function _e(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}return poolFactory(8,_e)}(),segmentsLengthPool=function(){function _e(){return{lengths:[],totalLength:0}}function et(rt){var nt,st=rt.lengths.length;for(nt=0;nt<st;nt+=1)bezierLengthPool.release(rt.lengths[nt]);rt.lengths.length=0}return poolFactory(8,_e,et)}();function bezFunction(){var _e=Math;function et(pt,mt,xt,yt,vt,gt){var Et=pt*yt+mt*vt+xt*gt-vt*yt-gt*pt-xt*mt;return Et>-.001&&Et<.001}function rt(pt,mt,xt,yt,vt,gt,Et,jt,kt){if(xt===0&&gt===0&&kt===0)return et(pt,mt,yt,vt,Et,jt);var Rt=_e.sqrt(_e.pow(yt-pt,2)+_e.pow(vt-mt,2)+_e.pow(gt-xt,2)),St=_e.sqrt(_e.pow(Et-pt,2)+_e.pow(jt-mt,2)+_e.pow(kt-xt,2)),_t=_e.sqrt(_e.pow(Et-yt,2)+_e.pow(jt-vt,2)+_e.pow(kt-gt,2)),Nt;return Rt>St?Rt>_t?Nt=Rt-St-_t:Nt=_t-St-Rt:_t>St?Nt=_t-St-Rt:Nt=St-Rt-_t,Nt>-1e-4&&Nt<1e-4}var nt=function(){return function(pt,mt,xt,yt){var vt=getDefaultCurveSegments(),gt,Et,jt,kt,Rt,St=0,_t,Nt=[],Lt=[],$t=bezierLengthPool.newElement();for(jt=xt.length,gt=0;gt<vt;gt+=1){for(Rt=gt/(vt-1),_t=0,Et=0;Et<jt;Et+=1)kt=bmPow(1-Rt,3)*pt[Et]+3*bmPow(1-Rt,2)*Rt*xt[Et]+3*(1-Rt)*bmPow(Rt,2)*yt[Et]+bmPow(Rt,3)*mt[Et],Nt[Et]=kt,Lt[Et]!==null&&(_t+=bmPow(Nt[Et]-Lt[Et],2)),Lt[Et]=Nt[Et];_t&&(_t=bmSqrt(_t),St+=_t),$t.percents[gt]=Rt,$t.lengths[gt]=St}return $t.addedLength=St,$t}}();function st(pt){var mt=segmentsLengthPool.newElement(),xt=pt.c,yt=pt.v,vt=pt.o,gt=pt.i,Et,jt=pt._length,kt=mt.lengths,Rt=0;for(Et=0;Et<jt-1;Et+=1)kt[Et]=nt(yt[Et],yt[Et+1],vt[Et],gt[Et+1]),Rt+=kt[Et].addedLength;return xt&&jt&&(kt[Et]=nt(yt[Et],yt[0],vt[Et],gt[0]),Rt+=kt[Et].addedLength),mt.totalLength=Rt,mt}function it(pt){this.segmentLength=0,this.points=new Array(pt)}function at(pt,mt){this.partialLength=pt,this.point=mt}var ot=function(){var pt={};return function(mt,xt,yt,vt){var gt=(mt[0]+"_"+mt[1]+"_"+xt[0]+"_"+xt[1]+"_"+yt[0]+"_"+yt[1]+"_"+vt[0]+"_"+vt[1]).replace(/\./g,"p");if(!pt[gt]){var Et=getDefaultCurveSegments(),jt,kt,Rt,St,_t,Nt=0,Lt,$t,Ft=null;mt.length===2&&(mt[0]!==xt[0]||mt[1]!==xt[1])&&et(mt[0],mt[1],xt[0],xt[1],mt[0]+yt[0],mt[1]+yt[1])&&et(mt[0],mt[1],xt[0],xt[1],xt[0]+vt[0],xt[1]+vt[1])&&(Et=2);var Tt=new it(Et);for(Rt=yt.length,jt=0;jt<Et;jt+=1){for($t=createSizedArray(Rt),_t=jt/(Et-1),Lt=0,kt=0;kt<Rt;kt+=1)St=bmPow(1-_t,3)*mt[kt]+3*bmPow(1-_t,2)*_t*(mt[kt]+yt[kt])+3*(1-_t)*bmPow(_t,2)*(xt[kt]+vt[kt])+bmPow(_t,3)*xt[kt],$t[kt]=St,Ft!==null&&(Lt+=bmPow($t[kt]-Ft[kt],2));Lt=bmSqrt(Lt),Nt+=Lt,Tt.points[jt]=new at(Lt,$t),Ft=$t}Tt.segmentLength=Nt,pt[gt]=Tt}return pt[gt]}}();function lt(pt,mt){var xt=mt.percents,yt=mt.lengths,vt=xt.length,gt=bmFloor((vt-1)*pt),Et=pt*mt.addedLength,jt=0;if(gt===vt-1||gt===0||Et===yt[gt])return xt[gt];for(var kt=yt[gt]>Et?-1:1,Rt=!0;Rt;)if(yt[gt]<=Et&&yt[gt+1]>Et?(jt=(Et-yt[gt])/(yt[gt+1]-yt[gt]),Rt=!1):gt+=kt,gt<0||gt>=vt-1){if(gt===vt-1)return xt[gt];Rt=!1}return xt[gt]+(xt[gt+1]-xt[gt])*jt}function ct(pt,mt,xt,yt,vt,gt){var Et=lt(vt,gt),jt=1-Et,kt=_e.round((jt*jt*jt*pt[0]+(Et*jt*jt+jt*Et*jt+jt*jt*Et)*xt[0]+(Et*Et*jt+jt*Et*Et+Et*jt*Et)*yt[0]+Et*Et*Et*mt[0])*1e3)/1e3,Rt=_e.round((jt*jt*jt*pt[1]+(Et*jt*jt+jt*Et*jt+jt*jt*Et)*xt[1]+(Et*Et*jt+jt*Et*Et+Et*jt*Et)*yt[1]+Et*Et*Et*mt[1])*1e3)/1e3;return[kt,Rt]}var ut=createTypedArray("float32",8);function dt(pt,mt,xt,yt,vt,gt,Et){vt<0?vt=0:vt>1&&(vt=1);var jt=lt(vt,Et);gt=gt>1?1:gt;var kt=lt(gt,Et),Rt,St=pt.length,_t=1-jt,Nt=1-kt,Lt=_t*_t*_t,$t=jt*_t*_t*3,Ft=jt*jt*_t*3,Tt=jt*jt*jt,Bt=_t*_t*Nt,Wt=jt*_t*Nt+_t*jt*Nt+_t*_t*kt,qt=jt*jt*Nt+_t*jt*kt+jt*_t*kt,Ot=jt*jt*kt,Dt=_t*Nt*Nt,Pt=jt*Nt*Nt+_t*kt*Nt+_t*Nt*kt,It=jt*kt*Nt+_t*kt*kt+jt*Nt*kt,At=jt*kt*kt,Ht=Nt*Nt*Nt,Gt=kt*Nt*Nt+Nt*kt*Nt+Nt*Nt*kt,Vt=kt*kt*Nt+Nt*kt*kt+kt*Nt*kt,Jt=kt*kt*kt;for(Rt=0;Rt<St;Rt+=1)ut[Rt*4]=_e.round((Lt*pt[Rt]+$t*xt[Rt]+Ft*yt[Rt]+Tt*mt[Rt])*1e3)/1e3,ut[Rt*4+1]=_e.round((Bt*pt[Rt]+Wt*xt[Rt]+qt*yt[Rt]+Ot*mt[Rt])*1e3)/1e3,ut[Rt*4+2]=_e.round((Dt*pt[Rt]+Pt*xt[Rt]+It*yt[Rt]+At*mt[Rt])*1e3)/1e3,ut[Rt*4+3]=_e.round((Ht*pt[Rt]+Gt*xt[Rt]+Vt*yt[Rt]+Jt*mt[Rt])*1e3)/1e3;return ut}return{getSegmentsLength:st,getNewSegment:dt,getPointInSegment:ct,buildBezierData:ot,pointOnLine2D:et,pointOnLine3D:rt}}var bez=bezFunction(),initFrame=initialDefaultFrame,mathAbs=Math.abs;function interpolateValue(_e,et){var rt=this.offsetTime,nt;this.propType==="multidimensional"&&(nt=createTypedArray("float32",this.pv.length));for(var st=et.lastIndex,it=st,at=this.keyframes.length-1,ot=!0,lt,ct,ut;ot;){if(lt=this.keyframes[it],ct=this.keyframes[it+1],it===at-1&&_e>=ct.t-rt){lt.h&&(lt=ct),st=0;break}if(ct.t-rt>_e){st=it;break}it<at-1?it+=1:(st=0,ot=!1)}ut=this.keyframesMetadata[it]||{};var dt,pt,mt,xt,yt,vt,gt=ct.t-rt,Et=lt.t-rt,jt;if(lt.to){ut.bezierData||(ut.bezierData=bez.buildBezierData(lt.s,ct.s||lt.e,lt.to,lt.ti));var kt=ut.bezierData;if(_e>=gt||_e<Et){var Rt=_e>=gt?kt.points.length-1:0;for(pt=kt.points[Rt].point.length,dt=0;dt<pt;dt+=1)nt[dt]=kt.points[Rt].point[dt]}else{ut.__fnct?vt=ut.__fnct:(vt=BezierFactory.getBezierEasing(lt.o.x,lt.o.y,lt.i.x,lt.i.y,lt.n).get,ut.__fnct=vt),mt=vt((_e-Et)/(gt-Et));var St=kt.segmentLength*mt,_t,Nt=et.lastFrame<_e&&et._lastKeyframeIndex===it?et._lastAddedLength:0;for(yt=et.lastFrame<_e&&et._lastKeyframeIndex===it?et._lastPoint:0,ot=!0,xt=kt.points.length;ot;){if(Nt+=kt.points[yt].partialLength,St===0||mt===0||yt===kt.points.length-1){for(pt=kt.points[yt].point.length,dt=0;dt<pt;dt+=1)nt[dt]=kt.points[yt].point[dt];break}else if(St>=Nt&&St<Nt+kt.points[yt+1].partialLength){for(_t=(St-Nt)/kt.points[yt+1].partialLength,pt=kt.points[yt].point.length,dt=0;dt<pt;dt+=1)nt[dt]=kt.points[yt].point[dt]+(kt.points[yt+1].point[dt]-kt.points[yt].point[dt])*_t;break}yt<xt-1?yt+=1:ot=!1}et._lastPoint=yt,et._lastAddedLength=Nt-kt.points[yt].partialLength,et._lastKeyframeIndex=it}}else{var Lt,$t,Ft,Tt,Bt;if(at=lt.s.length,jt=ct.s||lt.e,this.sh&&lt.h!==1)if(_e>=gt)nt[0]=jt[0],nt[1]=jt[1],nt[2]=jt[2];else if(_e<=Et)nt[0]=lt.s[0],nt[1]=lt.s[1],nt[2]=lt.s[2];else{var Wt=createQuaternion(lt.s),qt=createQuaternion(jt),Ot=(_e-Et)/(gt-Et);quaternionToEuler(nt,slerp(Wt,qt,Ot))}else for(it=0;it<at;it+=1)lt.h!==1&&(_e>=gt?mt=1:_e<Et?mt=0:(lt.o.x.constructor===Array?(ut.__fnct||(ut.__fnct=[]),ut.__fnct[it]?vt=ut.__fnct[it]:(Lt=lt.o.x[it]===void 0?lt.o.x[0]:lt.o.x[it],$t=lt.o.y[it]===void 0?lt.o.y[0]:lt.o.y[it],Ft=lt.i.x[it]===void 0?lt.i.x[0]:lt.i.x[it],Tt=lt.i.y[it]===void 0?lt.i.y[0]:lt.i.y[it],vt=BezierFactory.getBezierEasing(Lt,$t,Ft,Tt).get,ut.__fnct[it]=vt)):ut.__fnct?vt=ut.__fnct:(Lt=lt.o.x,$t=lt.o.y,Ft=lt.i.x,Tt=lt.i.y,vt=BezierFactory.getBezierEasing(Lt,$t,Ft,Tt).get,lt.keyframeMetadata=vt),mt=vt((_e-Et)/(gt-Et)))),jt=ct.s||lt.e,Bt=lt.h===1?lt.s[it]:lt.s[it]+(jt[it]-lt.s[it])*mt,this.propType==="multidimensional"?nt[it]=Bt:nt=Bt}return et.lastIndex=st,nt}function slerp(_e,et,rt){var nt=[],st=_e[0],it=_e[1],at=_e[2],ot=_e[3],lt=et[0],ct=et[1],ut=et[2],dt=et[3],pt,mt,xt,yt,vt;return mt=st*lt+it*ct+at*ut+ot*dt,mt<0&&(mt=-mt,lt=-lt,ct=-ct,ut=-ut,dt=-dt),1-mt>1e-6?(pt=Math.acos(mt),xt=Math.sin(pt),yt=Math.sin((1-rt)*pt)/xt,vt=Math.sin(rt*pt)/xt):(yt=1-rt,vt=rt),nt[0]=yt*st+vt*lt,nt[1]=yt*it+vt*ct,nt[2]=yt*at+vt*ut,nt[3]=yt*ot+vt*dt,nt}function quaternionToEuler(_e,et){var rt=et[0],nt=et[1],st=et[2],it=et[3],at=Math.atan2(2*nt*it-2*rt*st,1-2*nt*nt-2*st*st),ot=Math.asin(2*rt*nt+2*st*it),lt=Math.atan2(2*rt*it-2*nt*st,1-2*rt*rt-2*st*st);_e[0]=at/degToRads,_e[1]=ot/degToRads,_e[2]=lt/degToRads}function createQuaternion(_e){var et=_e[0]*degToRads,rt=_e[1]*degToRads,nt=_e[2]*degToRads,st=Math.cos(et/2),it=Math.cos(rt/2),at=Math.cos(nt/2),ot=Math.sin(et/2),lt=Math.sin(rt/2),ct=Math.sin(nt/2),ut=st*it*at-ot*lt*ct,dt=ot*lt*at+st*it*ct,pt=ot*it*at+st*lt*ct,mt=st*lt*at-ot*it*ct;return[dt,pt,mt,ut]}function getValueAtCurrentTime(){var _e=this.comp.renderedFrame-this.offsetTime,et=this.keyframes[0].t-this.offsetTime,rt=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(_e===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=rt&&_e>=rt||this._caching.lastFrame<et&&_e<et))){this._caching.lastFrame>=_e&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var nt=this.interpolateValue(_e,this._caching);this.pv=nt}return this._caching.lastFrame=_e,this.pv}function setVValue(_e){var et;if(this.propType==="unidimensional")et=_e*this.mult,mathAbs(this.v-et)>1e-5&&(this.v=et,this._mdf=!0);else for(var rt=0,nt=this.v.length;rt<nt;)et=_e[rt]*this.mult,mathAbs(this.v[rt]-et)>1e-5&&(this.v[rt]=et,this._mdf=!0),rt+=1}function processEffectsSequence(){if(!(this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)){if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=this._isFirstFrame;var _e,et=this.effectsSequence.length,rt=this.kf?this.pv:this.data.k;for(_e=0;_e<et;_e+=1)rt=this.effectsSequence[_e](rt);this.setVValue(rt),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function addEffect(_e){this.effectsSequence.push(_e),this.container.addDynamicProperty(this)}function ValueProperty(_e,et,rt,nt){this.propType="unidimensional",this.mult=rt||1,this.data=et,this.v=rt?et.k*rt:et.k,this.pv=et.k,this._mdf=!1,this.elem=_e,this.container=nt,this.comp=_e.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function MultiDimensionalProperty(_e,et,rt,nt){this.propType="multidimensional",this.mult=rt||1,this.data=et,this._mdf=!1,this.elem=_e,this.container=nt,this.comp=_e.comp,this.k=!1,this.kf=!1,this.frameId=-1;var st,it=et.k.length;for(this.v=createTypedArray("float32",it),this.pv=createTypedArray("float32",it),this.vel=createTypedArray("float32",it),st=0;st<it;st+=1)this.v[st]=et.k[st]*this.mult,this.pv[st]=et.k[st];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function KeyframedValueProperty(_e,et,rt,nt){this.propType="unidimensional",this.keyframes=et.k,this.keyframesMetadata=[],this.offsetTime=_e.data.st,this.frameId=-1,this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=et,this.mult=rt||1,this.elem=_e,this.container=nt,this.comp=_e.comp,this.v=initFrame,this.pv=initFrame,this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.addEffect=addEffect}function KeyframedMultidimensionalProperty(_e,et,rt,nt){this.propType="multidimensional";var st,it=et.k.length,at,ot,lt,ct;for(st=0;st<it-1;st+=1)et.k[st].to&&et.k[st].s&&et.k[st+1]&&et.k[st+1].s&&(at=et.k[st].s,ot=et.k[st+1].s,lt=et.k[st].to,ct=et.k[st].ti,(at.length===2&&!(at[0]===ot[0]&&at[1]===ot[1])&&bez.pointOnLine2D(at[0],at[1],ot[0],ot[1],at[0]+lt[0],at[1]+lt[1])&&bez.pointOnLine2D(at[0],at[1],ot[0],ot[1],ot[0]+ct[0],ot[1]+ct[1])||at.length===3&&!(at[0]===ot[0]&&at[1]===ot[1]&&at[2]===ot[2])&&bez.pointOnLine3D(at[0],at[1],at[2],ot[0],ot[1],ot[2],at[0]+lt[0],at[1]+lt[1],at[2]+lt[2])&&bez.pointOnLine3D(at[0],at[1],at[2],ot[0],ot[1],ot[2],ot[0]+ct[0],ot[1]+ct[1],ot[2]+ct[2]))&&(et.k[st].to=null,et.k[st].ti=null),at[0]===ot[0]&&at[1]===ot[1]&&lt[0]===0&&lt[1]===0&&ct[0]===0&&ct[1]===0&&(at.length===2||at[2]===ot[2]&&lt[2]===0&&ct[2]===0)&&(et.k[st].to=null,et.k[st].ti=null));this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.data=et,this.keyframes=et.k,this.keyframesMetadata=[],this.offsetTime=_e.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=rt||1,this.elem=_e,this.container=nt,this.comp=_e.comp,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.frameId=-1;var ut=et.k[0].s.length;for(this.v=createTypedArray("float32",ut),this.pv=createTypedArray("float32",ut),st=0;st<ut;st+=1)this.v[st]=initFrame,this.pv[st]=initFrame;this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray("float32",ut)},this.addEffect=addEffect}var PropertyFactory=function(){function _e(rt,nt,st,it,at){nt.sid&&(nt=rt.globalData.slotManager.getProp(nt));var ot;if(!nt.k.length)ot=new ValueProperty(rt,nt,it,at);else if(typeof nt.k[0]=="number")ot=new MultiDimensionalProperty(rt,nt,it,at);else switch(st){case 0:ot=new KeyframedValueProperty(rt,nt,it,at);break;case 1:ot=new KeyframedMultidimensionalProperty(rt,nt,it,at);break}return ot.effectsSequence.length&&at.addDynamicProperty(ot),ot}var et={getProp:_e};return et}();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(et){this.dynamicProperties.indexOf(et)===-1&&(this.dynamicProperties.push(et),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var et,rt=this.dynamicProperties.length;for(et=0;et<rt;et+=1)this.dynamicProperties[et].getValue(),this.dynamicProperties[et]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(et){this.container=et,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=function(){function _e(){return createTypedArray("float32",2)}return poolFactory(8,_e)}();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(_e,et){this.c=_e,this.setLength(et);for(var rt=0;rt<et;)this.v[rt]=pointPool.newElement(),this.o[rt]=pointPool.newElement(),this.i[rt]=pointPool.newElement(),rt+=1},ShapePath.prototype.setLength=function(_e){for(;this._maxLength<_e;)this.doubleArrayLength();this._length=_e},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(_e,et,rt,nt,st){var it;switch(this._length=Math.max(this._length,nt+1),this._length>=this._maxLength&&this.doubleArrayLength(),rt){case"v":it=this.v;break;case"i":it=this.i;break;case"o":it=this.o;break;default:it=[];break}(!it[nt]||it[nt]&&!st)&&(it[nt]=pointPool.newElement()),it[nt][0]=_e,it[nt][1]=et},ShapePath.prototype.setTripleAt=function(_e,et,rt,nt,st,it,at,ot){this.setXYAt(_e,et,"v",at,ot),this.setXYAt(rt,nt,"o",at,ot),this.setXYAt(st,it,"i",at,ot)},ShapePath.prototype.reverse=function(){var _e=new ShapePath;_e.setPathData(this.c,this._length);var et=this.v,rt=this.o,nt=this.i,st=0;this.c&&(_e.setTripleAt(et[0][0],et[0][1],nt[0][0],nt[0][1],rt[0][0],rt[0][1],0,!1),st=1);var it=this._length-1,at=this._length,ot;for(ot=st;ot<at;ot+=1)_e.setTripleAt(et[it][0],et[it][1],nt[it][0],nt[it][1],rt[it][0],rt[it][1],ot,!1),it-=1;return _e},ShapePath.prototype.length=function(){return this._length};var shapePool=function(){function _e(){return new ShapePath}function et(st){var it=st._length,at;for(at=0;at<it;at+=1)pointPool.release(st.v[at]),pointPool.release(st.i[at]),pointPool.release(st.o[at]),st.v[at]=null,st.i[at]=null,st.o[at]=null;st._length=0,st.c=!1}function rt(st){var it=nt.newElement(),at,ot=st._length===void 0?st.v.length:st._length;for(it.setLength(ot),it.c=st.c,at=0;at<ot;at+=1)it.setTripleAt(st.v[at][0],st.v[at][1],st.o[at][0],st.o[at][1],st.i[at][0],st.i[at][1],at);return it}var nt=poolFactory(4,_e,et);return nt.clone=rt,nt}();function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(_e){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=_e,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var _e;for(_e=0;_e<this._length;_e+=1)shapePool.release(this.shapes[_e]);this._length=0};var shapeCollectionPool=function(){var _e={newShapeCollection:st,release:it},et=0,rt=4,nt=createSizedArray(rt);function st(){var at;return et?(et-=1,at=nt[et]):at=new ShapeCollection,at}function it(at){var ot,lt=at._length;for(ot=0;ot<lt;ot+=1)shapePool.release(at.shapes[ot]);at._length=0,et===rt&&(nt=pooling.double(nt),rt*=2),nt[et]=at,et+=1}return _e}(),ShapePropertyFactory=function(){var _e=-999999;function et(gt,Et,jt){var kt=jt.lastIndex,Rt,St,_t,Nt,Lt,$t,Ft,Tt,Bt,Wt=this.keyframes;if(gt<Wt[0].t-this.offsetTime)Rt=Wt[0].s[0],_t=!0,kt=0;else if(gt>=Wt[Wt.length-1].t-this.offsetTime)Rt=Wt[Wt.length-1].s?Wt[Wt.length-1].s[0]:Wt[Wt.length-2].e[0],_t=!0;else{for(var qt=kt,Ot=Wt.length-1,Dt=!0,Pt,It,At;Dt&&(Pt=Wt[qt],It=Wt[qt+1],!(It.t-this.offsetTime>gt));)qt<Ot-1?qt+=1:Dt=!1;if(At=this.keyframesMetadata[qt]||{},_t=Pt.h===1,kt=qt,!_t){if(gt>=It.t-this.offsetTime)Tt=1;else if(gt<Pt.t-this.offsetTime)Tt=0;else{var Ht;At.__fnct?Ht=At.__fnct:(Ht=BezierFactory.getBezierEasing(Pt.o.x,Pt.o.y,Pt.i.x,Pt.i.y).get,At.__fnct=Ht),Tt=Ht((gt-(Pt.t-this.offsetTime))/(It.t-this.offsetTime-(Pt.t-this.offsetTime)))}St=It.s?It.s[0]:Pt.e[0]}Rt=Pt.s[0]}for($t=Et._length,Ft=Rt.i[0].length,jt.lastIndex=kt,Nt=0;Nt<$t;Nt+=1)for(Lt=0;Lt<Ft;Lt+=1)Bt=_t?Rt.i[Nt][Lt]:Rt.i[Nt][Lt]+(St.i[Nt][Lt]-Rt.i[Nt][Lt])*Tt,Et.i[Nt][Lt]=Bt,Bt=_t?Rt.o[Nt][Lt]:Rt.o[Nt][Lt]+(St.o[Nt][Lt]-Rt.o[Nt][Lt])*Tt,Et.o[Nt][Lt]=Bt,Bt=_t?Rt.v[Nt][Lt]:Rt.v[Nt][Lt]+(St.v[Nt][Lt]-Rt.v[Nt][Lt])*Tt,Et.v[Nt][Lt]=Bt}function rt(){var gt=this.comp.renderedFrame-this.offsetTime,Et=this.keyframes[0].t-this.offsetTime,jt=this.keyframes[this.keyframes.length-1].t-this.offsetTime,kt=this._caching.lastFrame;return kt!==_e&&(kt<Et&&gt<Et||kt>jt&&gt>jt)||(this._caching.lastIndex=kt<gt?this._caching.lastIndex:0,this.interpolateShape(gt,this.pv,this._caching)),this._caching.lastFrame=gt,this.pv}function nt(){this.paths=this.localShapeCollection}function st(gt,Et){if(gt._length!==Et._length||gt.c!==Et.c)return!1;var jt,kt=gt._length;for(jt=0;jt<kt;jt+=1)if(gt.v[jt][0]!==Et.v[jt][0]||gt.v[jt][1]!==Et.v[jt][1]||gt.o[jt][0]!==Et.o[jt][0]||gt.o[jt][1]!==Et.o[jt][1]||gt.i[jt][0]!==Et.i[jt][0]||gt.i[jt][1]!==Et.i[jt][1])return!1;return!0}function it(gt){st(this.v,gt)||(this.v=shapePool.clone(gt),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function at(){if(this.elem.globalData.frameId!==this.frameId){if(!this.effectsSequence.length){this._mdf=!1;return}if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=!1;var gt;this.kf?gt=this.pv:this.data.ks?gt=this.data.ks.k:gt=this.data.pt.k;var Et,jt=this.effectsSequence.length;for(Et=0;Et<jt;Et+=1)gt=this.effectsSequence[Et](gt);this.setVValue(gt),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function ot(gt,Et,jt){this.propType="shape",this.comp=gt.comp,this.container=gt,this.elem=gt,this.data=Et,this.k=!1,this.kf=!1,this._mdf=!1;var kt=jt===3?Et.pt.k:Et.ks.k;this.v=shapePool.clone(kt),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=nt,this.effectsSequence=[]}function lt(gt){this.effectsSequence.push(gt),this.container.addDynamicProperty(this)}ot.prototype.interpolateShape=et,ot.prototype.getValue=at,ot.prototype.setVValue=it,ot.prototype.addEffect=lt;function ct(gt,Et,jt){this.propType="shape",this.comp=gt.comp,this.elem=gt,this.container=gt,this.offsetTime=gt.data.st,this.keyframes=jt===3?Et.pt.k:Et.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var kt=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,kt),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=_e,this.reset=nt,this._caching={lastFrame:_e,lastIndex:0},this.effectsSequence=[rt.bind(this)]}ct.prototype.getValue=at,ct.prototype.interpolateShape=et,ct.prototype.setVValue=it,ct.prototype.addEffect=lt;var ut=function(){var gt=roundCorner;function Et(jt,kt){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=kt.d,this.elem=jt,this.comp=jt.comp,this.frameId=-1,this.initDynamicPropertyContainer(jt),this.p=PropertyFactory.getProp(jt,kt.p,1,0,this),this.s=PropertyFactory.getProp(jt,kt.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return Et.prototype={reset:nt,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var kt=this.p.v[0],Rt=this.p.v[1],St=this.s.v[0]/2,_t=this.s.v[1]/2,Nt=this.d!==3,Lt=this.v;Lt.v[0][0]=kt,Lt.v[0][1]=Rt-_t,Lt.v[1][0]=Nt?kt+St:kt-St,Lt.v[1][1]=Rt,Lt.v[2][0]=kt,Lt.v[2][1]=Rt+_t,Lt.v[3][0]=Nt?kt-St:kt+St,Lt.v[3][1]=Rt,Lt.i[0][0]=Nt?kt-St*gt:kt+St*gt,Lt.i[0][1]=Rt-_t,Lt.i[1][0]=Nt?kt+St:kt-St,Lt.i[1][1]=Rt-_t*gt,Lt.i[2][0]=Nt?kt+St*gt:kt-St*gt,Lt.i[2][1]=Rt+_t,Lt.i[3][0]=Nt?kt-St:kt+St,Lt.i[3][1]=Rt+_t*gt,Lt.o[0][0]=Nt?kt+St*gt:kt-St*gt,Lt.o[0][1]=Rt-_t,Lt.o[1][0]=Nt?kt+St:kt-St,Lt.o[1][1]=Rt+_t*gt,Lt.o[2][0]=Nt?kt-St*gt:kt+St*gt,Lt.o[2][1]=Rt+_t,Lt.o[3][0]=Nt?kt-St:kt+St,Lt.o[3][1]=Rt-_t*gt}},extendPrototype([DynamicPropertyContainer],Et),Et}(),dt=function(){function gt(Et,jt){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=Et,this.comp=Et.comp,this.data=jt,this.frameId=-1,this.d=jt.d,this.initDynamicPropertyContainer(Et),jt.sy===1?(this.ir=PropertyFactory.getProp(Et,jt.ir,0,0,this),this.is=PropertyFactory.getProp(Et,jt.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(Et,jt.pt,0,0,this),this.p=PropertyFactory.getProp(Et,jt.p,1,0,this),this.r=PropertyFactory.getProp(Et,jt.r,0,degToRads,this),this.or=PropertyFactory.getProp(Et,jt.or,0,0,this),this.os=PropertyFactory.getProp(Et,jt.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return gt.prototype={reset:nt,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var jt=Math.floor(this.pt.v)*2,kt=Math.PI*2/jt,Rt=!0,St=this.or.v,_t=this.ir.v,Nt=this.os.v,Lt=this.is.v,$t=2*Math.PI*St/(jt*2),Ft=2*Math.PI*_t/(jt*2),Tt,Bt,Wt,qt,Ot=-Math.PI/2;Ot+=this.r.v;var Dt=this.data.d===3?-1:1;for(this.v._length=0,Tt=0;Tt<jt;Tt+=1){Bt=Rt?St:_t,Wt=Rt?Nt:Lt,qt=Rt?$t:Ft;var Pt=Bt*Math.cos(Ot),It=Bt*Math.sin(Ot),At=Pt===0&&It===0?0:It/Math.sqrt(Pt*Pt+It*It),Ht=Pt===0&&It===0?0:-Pt/Math.sqrt(Pt*Pt+It*It);Pt+=+this.p.v[0],It+=+this.p.v[1],this.v.setTripleAt(Pt,It,Pt-At*qt*Wt*Dt,It-Ht*qt*Wt*Dt,Pt+At*qt*Wt*Dt,It+Ht*qt*Wt*Dt,Tt,!0),Rt=!Rt,Ot+=kt*Dt}},convertPolygonToPath:function(){var jt=Math.floor(this.pt.v),kt=Math.PI*2/jt,Rt=this.or.v,St=this.os.v,_t=2*Math.PI*Rt/(jt*4),Nt,Lt=-Math.PI*.5,$t=this.data.d===3?-1:1;for(Lt+=this.r.v,this.v._length=0,Nt=0;Nt<jt;Nt+=1){var Ft=Rt*Math.cos(Lt),Tt=Rt*Math.sin(Lt),Bt=Ft===0&&Tt===0?0:Tt/Math.sqrt(Ft*Ft+Tt*Tt),Wt=Ft===0&&Tt===0?0:-Ft/Math.sqrt(Ft*Ft+Tt*Tt);Ft+=+this.p.v[0],Tt+=+this.p.v[1],this.v.setTripleAt(Ft,Tt,Ft-Bt*_t*St*$t,Tt-Wt*_t*St*$t,Ft+Bt*_t*St*$t,Tt+Wt*_t*St*$t,Nt,!0),Lt+=kt*$t}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],gt),gt}(),pt=function(){function gt(Et,jt){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=Et,this.comp=Et.comp,this.frameId=-1,this.d=jt.d,this.initDynamicPropertyContainer(Et),this.p=PropertyFactory.getProp(Et,jt.p,1,0,this),this.s=PropertyFactory.getProp(Et,jt.s,1,0,this),this.r=PropertyFactory.getProp(Et,jt.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return gt.prototype={convertRectToPath:function(){var jt=this.p.v[0],kt=this.p.v[1],Rt=this.s.v[0]/2,St=this.s.v[1]/2,_t=bmMin(Rt,St,this.r.v),Nt=_t*(1-roundCorner);this.v._length=0,this.d===2||this.d===1?(this.v.setTripleAt(jt+Rt,kt-St+_t,jt+Rt,kt-St+_t,jt+Rt,kt-St+Nt,0,!0),this.v.setTripleAt(jt+Rt,kt+St-_t,jt+Rt,kt+St-Nt,jt+Rt,kt+St-_t,1,!0),_t!==0?(this.v.setTripleAt(jt+Rt-_t,kt+St,jt+Rt-_t,kt+St,jt+Rt-Nt,kt+St,2,!0),this.v.setTripleAt(jt-Rt+_t,kt+St,jt-Rt+Nt,kt+St,jt-Rt+_t,kt+St,3,!0),this.v.setTripleAt(jt-Rt,kt+St-_t,jt-Rt,kt+St-_t,jt-Rt,kt+St-Nt,4,!0),this.v.setTripleAt(jt-Rt,kt-St+_t,jt-Rt,kt-St+Nt,jt-Rt,kt-St+_t,5,!0),this.v.setTripleAt(jt-Rt+_t,kt-St,jt-Rt+_t,kt-St,jt-Rt+Nt,kt-St,6,!0),this.v.setTripleAt(jt+Rt-_t,kt-St,jt+Rt-Nt,kt-St,jt+Rt-_t,kt-St,7,!0)):(this.v.setTripleAt(jt-Rt,kt+St,jt-Rt+Nt,kt+St,jt-Rt,kt+St,2),this.v.setTripleAt(jt-Rt,kt-St,jt-Rt,kt-St+Nt,jt-Rt,kt-St,3))):(this.v.setTripleAt(jt+Rt,kt-St+_t,jt+Rt,kt-St+Nt,jt+Rt,kt-St+_t,0,!0),_t!==0?(this.v.setTripleAt(jt+Rt-_t,kt-St,jt+Rt-_t,kt-St,jt+Rt-Nt,kt-St,1,!0),this.v.setTripleAt(jt-Rt+_t,kt-St,jt-Rt+Nt,kt-St,jt-Rt+_t,kt-St,2,!0),this.v.setTripleAt(jt-Rt,kt-St+_t,jt-Rt,kt-St+_t,jt-Rt,kt-St+Nt,3,!0),this.v.setTripleAt(jt-Rt,kt+St-_t,jt-Rt,kt+St-Nt,jt-Rt,kt+St-_t,4,!0),this.v.setTripleAt(jt-Rt+_t,kt+St,jt-Rt+_t,kt+St,jt-Rt+Nt,kt+St,5,!0),this.v.setTripleAt(jt+Rt-_t,kt+St,jt+Rt-Nt,kt+St,jt+Rt-_t,kt+St,6,!0),this.v.setTripleAt(jt+Rt,kt+St-_t,jt+Rt,kt+St-_t,jt+Rt,kt+St-Nt,7,!0)):(this.v.setTripleAt(jt-Rt,kt-St,jt-Rt+Nt,kt-St,jt-Rt,kt-St,1,!0),this.v.setTripleAt(jt-Rt,kt+St,jt-Rt,kt+St-Nt,jt-Rt,kt+St,2,!0),this.v.setTripleAt(jt+Rt,kt+St,jt+Rt-Nt,kt+St,jt+Rt,kt+St,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:nt},extendPrototype([DynamicPropertyContainer],gt),gt}();function mt(gt,Et,jt){var kt;if(jt===3||jt===4){var Rt=jt===3?Et.pt:Et.ks,St=Rt.k;St.length?kt=new ct(gt,Et,jt):kt=new ot(gt,Et,jt)}else jt===5?kt=new pt(gt,Et):jt===6?kt=new ut(gt,Et):jt===7&&(kt=new dt(gt,Et));return kt.k&&gt.addDynamicProperty(kt),kt}function xt(){return ot}function yt(){return ct}var vt={};return vt.getShapeProp=mt,vt.getConstructorFunction=xt,vt.getKeyframedConstructorFunction=yt,vt}();/*!
 Transformation Matrix v2.0
 (c) Epistemex 2014-2015
 www.epistemex.com
 By Ken Fyrstenberg
 Contributions by leeoniya.
 License: MIT, header required.
 */var Matrix=function(){var _e=Math.cos,et=Math.sin,rt=Math.tan,nt=Math.round;function st(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function it(Pt){if(Pt===0)return this;var It=_e(Pt),At=et(Pt);return this._t(It,-At,0,0,At,It,0,0,0,0,1,0,0,0,0,1)}function at(Pt){if(Pt===0)return this;var It=_e(Pt),At=et(Pt);return this._t(1,0,0,0,0,It,-At,0,0,At,It,0,0,0,0,1)}function ot(Pt){if(Pt===0)return this;var It=_e(Pt),At=et(Pt);return this._t(It,0,At,0,0,1,0,0,-At,0,It,0,0,0,0,1)}function lt(Pt){if(Pt===0)return this;var It=_e(Pt),At=et(Pt);return this._t(It,-At,0,0,At,It,0,0,0,0,1,0,0,0,0,1)}function ct(Pt,It){return this._t(1,It,Pt,1,0,0)}function ut(Pt,It){return this.shear(rt(Pt),rt(It))}function dt(Pt,It){var At=_e(It),Ht=et(It);return this._t(At,Ht,0,0,-Ht,At,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,rt(Pt),1,0,0,0,0,1,0,0,0,0,1)._t(At,-Ht,0,0,Ht,At,0,0,0,0,1,0,0,0,0,1)}function pt(Pt,It,At){return!At&&At!==0&&(At=1),Pt===1&&It===1&&At===1?this:this._t(Pt,0,0,0,0,It,0,0,0,0,At,0,0,0,0,1)}function mt(Pt,It,At,Ht,Gt,Vt,Jt,rr,ar,mr,Er,or,yr,vr,Zt,pr){return this.props[0]=Pt,this.props[1]=It,this.props[2]=At,this.props[3]=Ht,this.props[4]=Gt,this.props[5]=Vt,this.props[6]=Jt,this.props[7]=rr,this.props[8]=ar,this.props[9]=mr,this.props[10]=Er,this.props[11]=or,this.props[12]=yr,this.props[13]=vr,this.props[14]=Zt,this.props[15]=pr,this}function xt(Pt,It,At){return At=At||0,Pt!==0||It!==0||At!==0?this._t(1,0,0,0,0,1,0,0,0,0,1,0,Pt,It,At,1):this}function yt(Pt,It,At,Ht,Gt,Vt,Jt,rr,ar,mr,Er,or,yr,vr,Zt,pr){var lr=this.props;if(Pt===1&&It===0&&At===0&&Ht===0&&Gt===0&&Vt===1&&Jt===0&&rr===0&&ar===0&&mr===0&&Er===1&&or===0)return lr[12]=lr[12]*Pt+lr[15]*yr,lr[13]=lr[13]*Vt+lr[15]*vr,lr[14]=lr[14]*Er+lr[15]*Zt,lr[15]*=pr,this._identityCalculated=!1,this;var wr=lr[0],Rr=lr[1],Tr=lr[2],Nr=lr[3],Mr=lr[4],Dr=lr[5],Kt=lr[6],Qt=lr[7],ir=lr[8],dr=lr[9],ur=lr[10],Xt=lr[11],nr=lr[12],hr=lr[13],xr=lr[14],jr=lr[15];return lr[0]=wr*Pt+Rr*Gt+Tr*ar+Nr*yr,lr[1]=wr*It+Rr*Vt+Tr*mr+Nr*vr,lr[2]=wr*At+Rr*Jt+Tr*Er+Nr*Zt,lr[3]=wr*Ht+Rr*rr+Tr*or+Nr*pr,lr[4]=Mr*Pt+Dr*Gt+Kt*ar+Qt*yr,lr[5]=Mr*It+Dr*Vt+Kt*mr+Qt*vr,lr[6]=Mr*At+Dr*Jt+Kt*Er+Qt*Zt,lr[7]=Mr*Ht+Dr*rr+Kt*or+Qt*pr,lr[8]=ir*Pt+dr*Gt+ur*ar+Xt*yr,lr[9]=ir*It+dr*Vt+ur*mr+Xt*vr,lr[10]=ir*At+dr*Jt+ur*Er+Xt*Zt,lr[11]=ir*Ht+dr*rr+ur*or+Xt*pr,lr[12]=nr*Pt+hr*Gt+xr*ar+jr*yr,lr[13]=nr*It+hr*Vt+xr*mr+jr*vr,lr[14]=nr*At+hr*Jt+xr*Er+jr*Zt,lr[15]=nr*Ht+hr*rr+xr*or+jr*pr,this._identityCalculated=!1,this}function vt(Pt){var It=Pt.props;return this.transform(It[0],It[1],It[2],It[3],It[4],It[5],It[6],It[7],It[8],It[9],It[10],It[11],It[12],It[13],It[14],It[15])}function gt(){return this._identityCalculated||(this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0),this._identity}function Et(Pt){for(var It=0;It<16;){if(Pt.props[It]!==this.props[It])return!1;It+=1}return!0}function jt(Pt){var It;for(It=0;It<16;It+=1)Pt.props[It]=this.props[It];return Pt}function kt(Pt){var It;for(It=0;It<16;It+=1)this.props[It]=Pt[It]}function Rt(Pt,It,At){return{x:Pt*this.props[0]+It*this.props[4]+At*this.props[8]+this.props[12],y:Pt*this.props[1]+It*this.props[5]+At*this.props[9]+this.props[13],z:Pt*this.props[2]+It*this.props[6]+At*this.props[10]+this.props[14]}}function St(Pt,It,At){return Pt*this.props[0]+It*this.props[4]+At*this.props[8]+this.props[12]}function _t(Pt,It,At){return Pt*this.props[1]+It*this.props[5]+At*this.props[9]+this.props[13]}function Nt(Pt,It,At){return Pt*this.props[2]+It*this.props[6]+At*this.props[10]+this.props[14]}function Lt(){var Pt=this.props[0]*this.props[5]-this.props[1]*this.props[4],It=this.props[5]/Pt,At=-this.props[1]/Pt,Ht=-this.props[4]/Pt,Gt=this.props[0]/Pt,Vt=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/Pt,Jt=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/Pt,rr=new Matrix;return rr.props[0]=It,rr.props[1]=At,rr.props[4]=Ht,rr.props[5]=Gt,rr.props[12]=Vt,rr.props[13]=Jt,rr}function $t(Pt){var It=this.getInverseMatrix();return It.applyToPointArray(Pt[0],Pt[1],Pt[2]||0)}function Ft(Pt){var It,At=Pt.length,Ht=[];for(It=0;It<At;It+=1)Ht[It]=$t(Pt[It]);return Ht}function Tt(Pt,It,At){var Ht=createTypedArray("float32",6);if(this.isIdentity())Ht[0]=Pt[0],Ht[1]=Pt[1],Ht[2]=It[0],Ht[3]=It[1],Ht[4]=At[0],Ht[5]=At[1];else{var Gt=this.props[0],Vt=this.props[1],Jt=this.props[4],rr=this.props[5],ar=this.props[12],mr=this.props[13];Ht[0]=Pt[0]*Gt+Pt[1]*Jt+ar,Ht[1]=Pt[0]*Vt+Pt[1]*rr+mr,Ht[2]=It[0]*Gt+It[1]*Jt+ar,Ht[3]=It[0]*Vt+It[1]*rr+mr,Ht[4]=At[0]*Gt+At[1]*Jt+ar,Ht[5]=At[0]*Vt+At[1]*rr+mr}return Ht}function Bt(Pt,It,At){var Ht;return this.isIdentity()?Ht=[Pt,It,At]:Ht=[Pt*this.props[0]+It*this.props[4]+At*this.props[8]+this.props[12],Pt*this.props[1]+It*this.props[5]+At*this.props[9]+this.props[13],Pt*this.props[2]+It*this.props[6]+At*this.props[10]+this.props[14]],Ht}function Wt(Pt,It){if(this.isIdentity())return Pt+","+It;var At=this.props;return Math.round((Pt*At[0]+It*At[4]+At[12])*100)/100+","+Math.round((Pt*At[1]+It*At[5]+At[13])*100)/100}function qt(){for(var Pt=0,It=this.props,At="matrix3d(",Ht=1e4;Pt<16;)At+=nt(It[Pt]*Ht)/Ht,At+=Pt===15?")":",",Pt+=1;return At}function Ot(Pt){var It=1e4;return Pt<1e-6&&Pt>0||Pt>-1e-6&&Pt<0?nt(Pt*It)/It:Pt}function Dt(){var Pt=this.props,It=Ot(Pt[0]),At=Ot(Pt[1]),Ht=Ot(Pt[4]),Gt=Ot(Pt[5]),Vt=Ot(Pt[12]),Jt=Ot(Pt[13]);return"matrix("+It+","+At+","+Ht+","+Gt+","+Vt+","+Jt+")"}return function(){this.reset=st,this.rotate=it,this.rotateX=at,this.rotateY=ot,this.rotateZ=lt,this.skew=ut,this.skewFromAxis=dt,this.shear=ct,this.scale=pt,this.setTransform=mt,this.translate=xt,this.transform=yt,this.multiply=vt,this.applyToPoint=Rt,this.applyToX=St,this.applyToY=_t,this.applyToZ=Nt,this.applyToPointArray=Bt,this.applyToTriplePoints=Tt,this.applyToPointStringified=Wt,this.toCSS=qt,this.to2dCSS=Dt,this.clone=jt,this.cloneFromProps=kt,this.equals=Et,this.inversePoints=Ft,this.inversePoint=$t,this.getInverseMatrix=Lt,this._t=this.transform,this.isIdentity=gt,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(_e){"@babel/helpers - typeof";return _typeof$3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(et){return typeof et}:function(et){return et&&typeof Symbol=="function"&&et.constructor===Symbol&&et!==Symbol.prototype?"symbol":typeof et},_typeof$3(_e)}var lottie={};function setLocation(_e){setLocationHref(_e)}function searchAnimations(){animationManager.searchAnimations()}function setSubframeRendering(_e){setSubframeEnabled(_e)}function setPrefix(_e){setIdPrefix(_e)}function loadAnimation(_e){return animationManager.loadAnimation(_e)}function setQuality(_e){if(typeof _e=="string")switch(_e){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10);break}else!isNaN(_e)&&_e>1&&setDefaultCurveSegments(_e)}function inBrowser(){return typeof navigator<"u"}function installPlugin(_e,et){_e==="expressions"&&setExpressionsPlugin(et)}function getFactory(_e){switch(_e){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.13.0";function checkReady(){document.readyState==="complete"&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(_e){for(var et=queryString.split("&"),rt=0;rt<et.length;rt+=1){var nt=et[rt].split("=");if(decodeURIComponent(nt[0])==_e)return decodeURIComponent(nt[1])}return null}var queryString="";{var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{_typeof$3(exports$1)!=="object"&&(window.bodymovin=lottie)}catch(_e){}var ShapeModifiers=function(){var _e={},et={};_e.registerModifier=rt,_e.getModifier=nt;function rt(st,it){et[st]||(et[st]=it)}function nt(st,it,at){return new et[st](it,at)}return _e}();function ShapeModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(_e){if(!this.closed){_e.sh.container.addDynamicProperty(_e.sh);var et={shape:_e.sh,data:_e,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(et),this.addShapeToModifier(et),this._isAnimated&&_e.setAsAnimated()}},ShapeModifier.prototype.init=function(_e,et){this.shapes=[],this.elem=_e,this.initDynamicPropertyContainer(_e),this.initModifierProperties(_e,et),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier);function TrimModifier(){}extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(_e,et){this.s=PropertyFactory.getProp(_e,et.s,0,.01,this),this.e=PropertyFactory.getProp(_e,et.e,0,.01,this),this.o=PropertyFactory.getProp(_e,et.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=et.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(_e){_e.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(_e,et,rt,nt,st){var it=[];et<=1?it.push({s:_e,e:et}):_e>=1?it.push({s:_e-1,e:et-1}):(it.push({s:_e,e:1}),it.push({s:0,e:et-1}));var at=[],ot,lt=it.length,ct;for(ot=0;ot<lt;ot+=1)if(ct=it[ot],!(ct.e*st<nt||ct.s*st>nt+rt)){var ut,dt;ct.s*st<=nt?ut=0:ut=(ct.s*st-nt)/rt,ct.e*st>=nt+rt?dt=1:dt=(ct.e*st-nt)/rt,at.push([ut,dt])}return at.length||at.push([0,0]),at},TrimModifier.prototype.releasePathsData=function(_e){var et,rt=_e.length;for(et=0;et<rt;et+=1)segmentsLengthPool.release(_e[et]);return _e.length=0,_e},TrimModifier.prototype.processShapes=function(_e){var et,rt;if(this._mdf||_e){var nt=this.o.v%360/360;if(nt<0&&(nt+=1),this.s.v>1?et=1+nt:this.s.v<0?et=0+nt:et=this.s.v+nt,this.e.v>1?rt=1+nt:this.e.v<0?rt=0+nt:rt=this.e.v+nt,et>rt){var st=et;et=rt,rt=st}et=Math.round(et*1e4)*1e-4,rt=Math.round(rt*1e4)*1e-4,this.sValue=et,this.eValue=rt}else et=this.sValue,rt=this.eValue;var it,at,ot=this.shapes.length,lt,ct,ut,dt,pt,mt=0;if(rt===et)for(at=0;at<ot;at+=1)this.shapes[at].localShapeCollection.releaseShapes(),this.shapes[at].shape._mdf=!0,this.shapes[at].shape.paths=this.shapes[at].localShapeCollection,this._mdf&&(this.shapes[at].pathsData.length=0);else if(rt===1&&et===0||rt===0&&et===1){if(this._mdf)for(at=0;at<ot;at+=1)this.shapes[at].pathsData.length=0,this.shapes[at].shape._mdf=!0}else{var xt=[],yt,vt;for(at=0;at<ot;at+=1)if(yt=this.shapes[at],!yt.shape._mdf&&!this._mdf&&!_e&&this.m!==2)yt.shape.paths=yt.localShapeCollection;else{if(it=yt.shape.paths,ct=it._length,pt=0,!yt.shape._mdf&&yt.pathsData.length)pt=yt.totalShapeLength;else{for(ut=this.releasePathsData(yt.pathsData),lt=0;lt<ct;lt+=1)dt=bez.getSegmentsLength(it.shapes[lt]),ut.push(dt),pt+=dt.totalLength;yt.totalShapeLength=pt,yt.pathsData=ut}mt+=pt,yt.shape._mdf=!0}var gt=et,Et=rt,jt=0,kt;for(at=ot-1;at>=0;at-=1)if(yt=this.shapes[at],yt.shape._mdf){for(vt=yt.localShapeCollection,vt.releaseShapes(),this.m===2&&ot>1?(kt=this.calculateShapeEdges(et,rt,yt.totalShapeLength,jt,mt),jt+=yt.totalShapeLength):kt=[[gt,Et]],ct=kt.length,lt=0;lt<ct;lt+=1){gt=kt[lt][0],Et=kt[lt][1],xt.length=0,Et<=1?xt.push({s:yt.totalShapeLength*gt,e:yt.totalShapeLength*Et}):gt>=1?xt.push({s:yt.totalShapeLength*(gt-1),e:yt.totalShapeLength*(Et-1)}):(xt.push({s:yt.totalShapeLength*gt,e:yt.totalShapeLength}),xt.push({s:0,e:yt.totalShapeLength*(Et-1)}));var Rt=this.addShapes(yt,xt[0]);if(xt[0].s!==xt[0].e){if(xt.length>1){var St=yt.shape.paths.shapes[yt.shape.paths._length-1];if(St.c){var _t=Rt.pop();this.addPaths(Rt,vt),Rt=this.addShapes(yt,xt[1],_t)}else this.addPaths(Rt,vt),Rt=this.addShapes(yt,xt[1])}this.addPaths(Rt,vt)}}yt.shape.paths=vt}}},TrimModifier.prototype.addPaths=function(_e,et){var rt,nt=_e.length;for(rt=0;rt<nt;rt+=1)et.addShape(_e[rt])},TrimModifier.prototype.addSegment=function(_e,et,rt,nt,st,it,at){st.setXYAt(et[0],et[1],"o",it),st.setXYAt(rt[0],rt[1],"i",it+1),at&&st.setXYAt(_e[0],_e[1],"v",it),st.setXYAt(nt[0],nt[1],"v",it+1)},TrimModifier.prototype.addSegmentFromArray=function(_e,et,rt,nt){et.setXYAt(_e[1],_e[5],"o",rt),et.setXYAt(_e[2],_e[6],"i",rt+1),nt&&et.setXYAt(_e[0],_e[4],"v",rt),et.setXYAt(_e[3],_e[7],"v",rt+1)},TrimModifier.prototype.addShapes=function(_e,et,rt){var nt=_e.pathsData,st=_e.shape.paths.shapes,it,at=_e.shape.paths._length,ot,lt,ct=0,ut,dt,pt,mt,xt=[],yt,vt=!0;for(rt?(dt=rt._length,yt=rt._length):(rt=shapePool.newElement(),dt=0,yt=0),xt.push(rt),it=0;it<at;it+=1){for(pt=nt[it].lengths,rt.c=st[it].c,lt=st[it].c?pt.length:pt.length+1,ot=1;ot<lt;ot+=1)if(ut=pt[ot-1],ct+ut.addedLength<et.s)ct+=ut.addedLength,rt.c=!1;else if(ct>et.e){rt.c=!1;break}else et.s<=ct&&et.e>=ct+ut.addedLength?(this.addSegment(st[it].v[ot-1],st[it].o[ot-1],st[it].i[ot],st[it].v[ot],rt,dt,vt),vt=!1):(mt=bez.getNewSegment(st[it].v[ot-1],st[it].v[ot],st[it].o[ot-1],st[it].i[ot],(et.s-ct)/ut.addedLength,(et.e-ct)/ut.addedLength,pt[ot-1]),this.addSegmentFromArray(mt,rt,dt,vt),vt=!1,rt.c=!1),ct+=ut.addedLength,dt+=1;if(st[it].c&&pt.length){if(ut=pt[ot-1],ct<=et.e){var gt=pt[ot-1].addedLength;et.s<=ct&&et.e>=ct+gt?(this.addSegment(st[it].v[ot-1],st[it].o[ot-1],st[it].i[0],st[it].v[0],rt,dt,vt),vt=!1):(mt=bez.getNewSegment(st[it].v[ot-1],st[it].v[0],st[it].o[ot-1],st[it].i[0],(et.s-ct)/gt,(et.e-ct)/gt,pt[ot-1]),this.addSegmentFromArray(mt,rt,dt,vt),vt=!1,rt.c=!1)}else rt.c=!1;ct+=ut.addedLength,dt+=1}if(rt._length&&(rt.setXYAt(rt.v[yt][0],rt.v[yt][1],"i",yt),rt.setXYAt(rt.v[rt._length-1][0],rt.v[rt._length-1][1],"o",rt._length-1)),ct>et.e)break;it<at-1&&(rt=shapePool.newElement(),vt=!0,xt.push(rt),dt=0)}return xt};function PuckerAndBloatModifier(){}extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(_e,et){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(_e,et.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(_e,et){var rt=et/100,nt=[0,0],st=_e._length,it=0;for(it=0;it<st;it+=1)nt[0]+=_e.v[it][0],nt[1]+=_e.v[it][1];nt[0]/=st,nt[1]/=st;var at=shapePool.newElement();at.c=_e.c;var ot,lt,ct,ut,dt,pt;for(it=0;it<st;it+=1)ot=_e.v[it][0]+(nt[0]-_e.v[it][0])*rt,lt=_e.v[it][1]+(nt[1]-_e.v[it][1])*rt,ct=_e.o[it][0]+(nt[0]-_e.o[it][0])*-rt,ut=_e.o[it][1]+(nt[1]-_e.o[it][1])*-rt,dt=_e.i[it][0]+(nt[0]-_e.i[it][0])*-rt,pt=_e.i[it][1]+(nt[1]-_e.i[it][1])*-rt,at.setTripleAt(ot,lt,ct,ut,dt,pt,it);return at},PuckerAndBloatModifier.prototype.processShapes=function(_e){var et,rt,nt=this.shapes.length,st,it,at=this.amount.v;if(at!==0){var ot,lt;for(rt=0;rt<nt;rt+=1){if(ot=this.shapes[rt],lt=ot.localShapeCollection,!(!ot.shape._mdf&&!this._mdf&&!_e))for(lt.releaseShapes(),ot.shape._mdf=!0,et=ot.shape.paths.shapes,it=ot.shape.paths._length,st=0;st<it;st+=1)lt.addShape(this.processPath(et[st],at));ot.shape.paths=ot.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var _e=[0,0];function et(lt){var ct=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||ct,this.a&&lt.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&lt.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&lt.skewFromAxis(-this.sk.v,this.sa.v),this.r?lt.rotate(-this.r.v):lt.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?lt.translate(this.px.v,this.py.v,-this.pz.v):lt.translate(this.px.v,this.py.v,0):lt.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}function rt(lt){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||lt){var ct;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var ut,dt;if(ct=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(ut=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/ct,0),dt=this.p.getValueAtTime(this.p.keyframes[0].t/ct,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(ut=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/ct,0),dt=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/ct,0)):(ut=this.p.pv,dt=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/ct,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){ut=[],dt=[];var pt=this.px,mt=this.py;pt._caching.lastFrame+pt.offsetTime<=pt.keyframes[0].t?(ut[0]=pt.getValueAtTime((pt.keyframes[0].t+.01)/ct,0),ut[1]=mt.getValueAtTime((mt.keyframes[0].t+.01)/ct,0),dt[0]=pt.getValueAtTime(pt.keyframes[0].t/ct,0),dt[1]=mt.getValueAtTime(mt.keyframes[0].t/ct,0)):pt._caching.lastFrame+pt.offsetTime>=pt.keyframes[pt.keyframes.length-1].t?(ut[0]=pt.getValueAtTime(pt.keyframes[pt.keyframes.length-1].t/ct,0),ut[1]=mt.getValueAtTime(mt.keyframes[mt.keyframes.length-1].t/ct,0),dt[0]=pt.getValueAtTime((pt.keyframes[pt.keyframes.length-1].t-.01)/ct,0),dt[1]=mt.getValueAtTime((mt.keyframes[mt.keyframes.length-1].t-.01)/ct,0)):(ut=[pt.pv,mt.pv],dt[0]=pt.getValueAtTime((pt._caching.lastFrame+pt.offsetTime-.01)/ct,pt.offsetTime),dt[1]=mt.getValueAtTime((mt._caching.lastFrame+mt.offsetTime-.01)/ct,mt.offsetTime))}else dt=_e,ut=dt;this.v.rotate(-Math.atan2(ut[1]-dt[1],ut[0]-dt[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}}function nt(){if(this.appliedTransformations=0,this.pre.reset(),!this.a.effectsSequence.length)this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1;else return;if(!this.s.effectsSequence.length)this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2;else return;if(this.sk)if(!this.sk.effectsSequence.length&&!this.sa.effectsSequence.length)this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3;else return;this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):!this.rz.effectsSequence.length&&!this.ry.effectsSequence.length&&!this.rx.effectsSequence.length&&!this.or.effectsSequence.length&&(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}function st(){}function it(lt){this._addDynamicProperty(lt),this.elem.addDynamicProperty(lt),this._isDirty=!0}function at(lt,ct,ut){if(this.elem=lt,this.frameId=-1,this.propType="transform",this.data=ct,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(ut||lt),ct.p&&ct.p.s?(this.px=PropertyFactory.getProp(lt,ct.p.x,0,0,this),this.py=PropertyFactory.getProp(lt,ct.p.y,0,0,this),ct.p.z&&(this.pz=PropertyFactory.getProp(lt,ct.p.z,0,0,this))):this.p=PropertyFactory.getProp(lt,ct.p||{k:[0,0,0]},1,0,this),ct.rx){if(this.rx=PropertyFactory.getProp(lt,ct.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(lt,ct.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(lt,ct.rz,0,degToRads,this),ct.or.k[0].ti){var dt,pt=ct.or.k.length;for(dt=0;dt<pt;dt+=1)ct.or.k[dt].to=null,ct.or.k[dt].ti=null}this.or=PropertyFactory.getProp(lt,ct.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(lt,ct.r||{k:0},0,degToRads,this);ct.sk&&(this.sk=PropertyFactory.getProp(lt,ct.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(lt,ct.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(lt,ct.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(lt,ct.s||{k:[100,100,100]},1,.01,this),ct.o?this.o=PropertyFactory.getProp(lt,ct.o,0,.01,lt):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}at.prototype={applyToMatrix:et,getValue:rt,precalculateMatrix:nt,autoOrient:st},extendPrototype([DynamicPropertyContainer],at),at.prototype.addDynamicProperty=it,at.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty;function ot(lt,ct,ut){return new at(lt,ct,ut)}return{getTransformProperty:ot}}();function RepeaterModifier(){}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(_e,et){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(_e,et.c,0,null,this),this.o=PropertyFactory.getProp(_e,et.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(_e,et.tr,this),this.so=PropertyFactory.getProp(_e,et.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(_e,et.tr.eo,0,.01,this),this.data=et,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(_e,et,rt,nt,st,it){var at=it?-1:1,ot=nt.s.v[0]+(1-nt.s.v[0])*(1-st),lt=nt.s.v[1]+(1-nt.s.v[1])*(1-st);_e.translate(nt.p.v[0]*at*st,nt.p.v[1]*at*st,nt.p.v[2]),et.translate(-nt.a.v[0],-nt.a.v[1],nt.a.v[2]),et.rotate(-nt.r.v*at*st),et.translate(nt.a.v[0],nt.a.v[1],nt.a.v[2]),rt.translate(-nt.a.v[0],-nt.a.v[1],nt.a.v[2]),rt.scale(it?1/ot:ot,it?1/lt:lt),rt.translate(nt.a.v[0],nt.a.v[1],nt.a.v[2])},RepeaterModifier.prototype.init=function(_e,et,rt,nt){for(this.elem=_e,this.arr=et,this.pos=rt,this.elemsData=nt,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(_e),this.initModifierProperties(_e,et[rt]);rt>0;)rt-=1,this._elements.unshift(et[rt]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(_e){var et,rt=_e.length;for(et=0;et<rt;et+=1)_e[et]._processed=!1,_e[et].ty==="gr"&&this.resetElements(_e[et].it)},RepeaterModifier.prototype.cloneElements=function(_e){var et=JSON.parse(JSON.stringify(_e));return this.resetElements(et),et},RepeaterModifier.prototype.changeGroupRender=function(_e,et){var rt,nt=_e.length;for(rt=0;rt<nt;rt+=1)_e[rt]._render=et,_e[rt].ty==="gr"&&this.changeGroupRender(_e[rt].it,et)},RepeaterModifier.prototype.processShapes=function(_e){var et,rt,nt,st,it,at=!1;if(this._mdf||_e){var ot=Math.ceil(this.c.v);if(this._groups.length<ot){for(;this._groups.length<ot;){var lt={it:this.cloneElements(this._elements),ty:"gr"};lt.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,lt),this._groups.splice(0,0,lt),this._currentCopies+=1}this.elem.reloadShapes(),at=!0}it=0;var ct;for(nt=0;nt<=this._groups.length-1;nt+=1){if(ct=it<ot,this._groups[nt]._render=ct,this.changeGroupRender(this._groups[nt].it,ct),!ct){var ut=this.elemsData[nt].it,dt=ut[ut.length-1];dt.transform.op.v!==0?(dt.transform.op._mdf=!0,dt.transform.op.v=0):dt.transform.op._mdf=!1}it+=1}this._currentCopies=ot;var pt=this.o.v,mt=pt%1,xt=pt>0?Math.floor(pt):Math.ceil(pt),yt=this.pMatrix.props,vt=this.rMatrix.props,gt=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var Et=0;if(pt>0){for(;Et<xt;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),Et+=1;mt&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,mt,!1),Et+=mt)}else if(pt<0){for(;Et>xt;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),Et-=1;mt&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-mt,!0),Et-=mt)}nt=this.data.m===1?0:this._currentCopies-1,st=this.data.m===1?1:-1,it=this._currentCopies;for(var jt,kt;it;){if(et=this.elemsData[nt].it,rt=et[et.length-1].transform.mProps.v.props,kt=rt.length,et[et.length-1].transform.mProps._mdf=!0,et[et.length-1].transform.op._mdf=!0,et[et.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(nt/(this._currentCopies-1)),Et!==0){for((nt!==0&&st===1||nt!==this._currentCopies-1&&st===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(vt[0],vt[1],vt[2],vt[3],vt[4],vt[5],vt[6],vt[7],vt[8],vt[9],vt[10],vt[11],vt[12],vt[13],vt[14],vt[15]),this.matrix.transform(gt[0],gt[1],gt[2],gt[3],gt[4],gt[5],gt[6],gt[7],gt[8],gt[9],gt[10],gt[11],gt[12],gt[13],gt[14],gt[15]),this.matrix.transform(yt[0],yt[1],yt[2],yt[3],yt[4],yt[5],yt[6],yt[7],yt[8],yt[9],yt[10],yt[11],yt[12],yt[13],yt[14],yt[15]),jt=0;jt<kt;jt+=1)rt[jt]=this.matrix.props[jt];this.matrix.reset()}else for(this.matrix.reset(),jt=0;jt<kt;jt+=1)rt[jt]=this.matrix.props[jt];Et+=1,it-=1,nt+=st}}else for(it=this._currentCopies,nt=0,st=1;it;)et=this.elemsData[nt].it,rt=et[et.length-1].transform.mProps.v.props,et[et.length-1].transform.mProps._mdf=!1,et[et.length-1].transform.op._mdf=!1,it-=1,nt+=st;return at},RepeaterModifier.prototype.addShape=function(){};function RoundCornersModifier(){}extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(_e,et){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(_e,et.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(_e,et){var rt=shapePool.newElement();rt.c=_e.c;var nt,st=_e._length,it,at,ot,lt,ct,ut,dt=0,pt,mt,xt,yt,vt,gt;for(nt=0;nt<st;nt+=1)it=_e.v[nt],ot=_e.o[nt],at=_e.i[nt],it[0]===ot[0]&&it[1]===ot[1]&&it[0]===at[0]&&it[1]===at[1]?(nt===0||nt===st-1)&&!_e.c?(rt.setTripleAt(it[0],it[1],ot[0],ot[1],at[0],at[1],dt),dt+=1):(nt===0?lt=_e.v[st-1]:lt=_e.v[nt-1],ct=Math.sqrt(Math.pow(it[0]-lt[0],2)+Math.pow(it[1]-lt[1],2)),ut=ct?Math.min(ct/2,et)/ct:0,vt=it[0]+(lt[0]-it[0])*ut,pt=vt,gt=it[1]-(it[1]-lt[1])*ut,mt=gt,xt=pt-(pt-it[0])*roundCorner,yt=mt-(mt-it[1])*roundCorner,rt.setTripleAt(pt,mt,xt,yt,vt,gt,dt),dt+=1,nt===st-1?lt=_e.v[0]:lt=_e.v[nt+1],ct=Math.sqrt(Math.pow(it[0]-lt[0],2)+Math.pow(it[1]-lt[1],2)),ut=ct?Math.min(ct/2,et)/ct:0,xt=it[0]+(lt[0]-it[0])*ut,pt=xt,yt=it[1]+(lt[1]-it[1])*ut,mt=yt,vt=pt-(pt-it[0])*roundCorner,gt=mt-(mt-it[1])*roundCorner,rt.setTripleAt(pt,mt,xt,yt,vt,gt,dt),dt+=1):(rt.setTripleAt(_e.v[nt][0],_e.v[nt][1],_e.o[nt][0],_e.o[nt][1],_e.i[nt][0],_e.i[nt][1],dt),dt+=1);return rt},RoundCornersModifier.prototype.processShapes=function(_e){var et,rt,nt=this.shapes.length,st,it,at=this.rd.v;if(at!==0){var ot,lt;for(rt=0;rt<nt;rt+=1){if(ot=this.shapes[rt],lt=ot.localShapeCollection,!(!ot.shape._mdf&&!this._mdf&&!_e))for(lt.releaseShapes(),ot.shape._mdf=!0,et=ot.shape.paths.shapes,it=ot.shape.paths._length,st=0;st<it;st+=1)lt.addShape(this.processPath(et[st],at));ot.shape.paths=ot.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function floatEqual(_e,et){return Math.abs(_e-et)*1e5<=Math.min(Math.abs(_e),Math.abs(et))}function floatZero(_e){return Math.abs(_e)<=1e-5}function lerp(_e,et,rt){return _e*(1-rt)+et*rt}function lerpPoint(_e,et,rt){return[lerp(_e[0],et[0],rt),lerp(_e[1],et[1],rt)]}function quadRoots(_e,et,rt){if(_e===0)return[];var nt=et*et-4*_e*rt;if(nt<0)return[];var st=-et/(2*_e);if(nt===0)return[st];var it=Math.sqrt(nt)/(2*_e);return[st-it,st+it]}function polynomialCoefficients(_e,et,rt,nt){return[-_e+3*et-3*rt+nt,3*_e-6*et+3*rt,-3*_e+3*et,_e]}function singlePoint(_e){return new PolynomialBezier(_e,_e,_e,_e,!1)}function PolynomialBezier(_e,et,rt,nt,st){st&&pointEqual(_e,et)&&(et=lerpPoint(_e,nt,1/3)),st&&pointEqual(rt,nt)&&(rt=lerpPoint(_e,nt,2/3));var it=polynomialCoefficients(_e[0],et[0],rt[0],nt[0]),at=polynomialCoefficients(_e[1],et[1],rt[1],nt[1]);this.a=[it[0],at[0]],this.b=[it[1],at[1]],this.c=[it[2],at[2]],this.d=[it[3],at[3]],this.points=[_e,et,rt,nt]}PolynomialBezier.prototype.point=function(_e){return[((this.a[0]*_e+this.b[0])*_e+this.c[0])*_e+this.d[0],((this.a[1]*_e+this.b[1])*_e+this.c[1])*_e+this.d[1]]},PolynomialBezier.prototype.derivative=function(_e){return[(3*_e*this.a[0]+2*this.b[0])*_e+this.c[0],(3*_e*this.a[1]+2*this.b[1])*_e+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(_e){var et=this.derivative(_e);return Math.atan2(et[1],et[0])},PolynomialBezier.prototype.normalAngle=function(_e){var et=this.derivative(_e);return Math.atan2(et[0],et[1])},PolynomialBezier.prototype.inflectionPoints=function(){var _e=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(_e))return[];var et=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/_e,rt=et*et-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/_e;if(rt<0)return[];var nt=Math.sqrt(rt);return floatZero(nt)?nt>0&&nt<1?[et]:[]:[et-nt,et+nt].filter(function(st){return st>0&&st<1})},PolynomialBezier.prototype.split=function(_e){if(_e<=0)return[singlePoint(this.points[0]),this];if(_e>=1)return[this,singlePoint(this.points[this.points.length-1])];var et=lerpPoint(this.points[0],this.points[1],_e),rt=lerpPoint(this.points[1],this.points[2],_e),nt=lerpPoint(this.points[2],this.points[3],_e),st=lerpPoint(et,rt,_e),it=lerpPoint(rt,nt,_e),at=lerpPoint(st,it,_e);return[new PolynomialBezier(this.points[0],et,st,at,!0),new PolynomialBezier(at,it,nt,this.points[3],!0)]};function extrema(_e,et){var rt=_e.points[0][et],nt=_e.points[_e.points.length-1][et];if(rt>nt){var st=nt;nt=rt,rt=st}for(var it=quadRoots(3*_e.a[et],2*_e.b[et],_e.c[et]),at=0;at<it.length;at+=1)if(it[at]>0&&it[at]<1){var ot=_e.point(it[at])[et];ot<rt?rt=ot:ot>nt&&(nt=ot)}return{min:rt,max:nt}}PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var _e=this.bounds();return{left:_e.x.min,right:_e.x.max,top:_e.y.min,bottom:_e.y.max,width:_e.x.max-_e.x.min,height:_e.y.max-_e.y.min,cx:(_e.x.max+_e.x.min)/2,cy:(_e.y.max+_e.y.min)/2}};function intersectData(_e,et,rt){var nt=_e.boundingBox();return{cx:nt.cx,cy:nt.cy,width:nt.width,height:nt.height,bez:_e,t:(et+rt)/2,t1:et,t2:rt}}function splitData(_e){var et=_e.bez.split(.5);return[intersectData(et[0],_e.t1,_e.t),intersectData(et[1],_e.t,_e.t2)]}function boxIntersect(_e,et){return Math.abs(_e.cx-et.cx)*2<_e.width+et.width&&Math.abs(_e.cy-et.cy)*2<_e.height+et.height}function intersectsImpl(_e,et,rt,nt,st,it){if(boxIntersect(_e,et)){if(rt>=it||_e.width<=nt&&_e.height<=nt&&et.width<=nt&&et.height<=nt){st.push([_e.t,et.t]);return}var at=splitData(_e),ot=splitData(et);intersectsImpl(at[0],ot[0],rt+1,nt,st,it),intersectsImpl(at[0],ot[1],rt+1,nt,st,it),intersectsImpl(at[1],ot[0],rt+1,nt,st,it),intersectsImpl(at[1],ot[1],rt+1,nt,st,it)}}PolynomialBezier.prototype.intersections=function(_e,et,rt){et===void 0&&(et=2),rt===void 0&&(rt=7);var nt=[];return intersectsImpl(intersectData(this,0,1),intersectData(_e,0,1),0,et,nt,rt),nt},PolynomialBezier.shapeSegment=function(_e,et){var rt=(et+1)%_e.length();return new PolynomialBezier(_e.v[et],_e.o[et],_e.i[rt],_e.v[rt],!0)},PolynomialBezier.shapeSegmentInverted=function(_e,et){var rt=(et+1)%_e.length();return new PolynomialBezier(_e.v[rt],_e.i[rt],_e.o[et],_e.v[et],!0)};function crossProduct(_e,et){return[_e[1]*et[2]-_e[2]*et[1],_e[2]*et[0]-_e[0]*et[2],_e[0]*et[1]-_e[1]*et[0]]}function lineIntersection(_e,et,rt,nt){var st=[_e[0],_e[1],1],it=[et[0],et[1],1],at=[rt[0],rt[1],1],ot=[nt[0],nt[1],1],lt=crossProduct(crossProduct(st,it),crossProduct(at,ot));return floatZero(lt[2])?null:[lt[0]/lt[2],lt[1]/lt[2]]}function polarOffset(_e,et,rt){return[_e[0]+Math.cos(et)*rt,_e[1]-Math.sin(et)*rt]}function pointDistance(_e,et){return Math.hypot(_e[0]-et[0],_e[1]-et[1])}function pointEqual(_e,et){return floatEqual(_e[0],et[0])&&floatEqual(_e[1],et[1])}function ZigZagModifier(){}extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(_e,et){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(_e,et.s,0,null,this),this.frequency=PropertyFactory.getProp(_e,et.r,0,null,this),this.pointsType=PropertyFactory.getProp(_e,et.pt,0,null,this),this._isAnimated=this.amplitude.effectsSequence.length!==0||this.frequency.effectsSequence.length!==0||this.pointsType.effectsSequence.length!==0};function setPoint(_e,et,rt,nt,st,it,at){var ot=rt-Math.PI/2,lt=rt+Math.PI/2,ct=et[0]+Math.cos(rt)*nt*st,ut=et[1]-Math.sin(rt)*nt*st;_e.setTripleAt(ct,ut,ct+Math.cos(ot)*it,ut-Math.sin(ot)*it,ct+Math.cos(lt)*at,ut-Math.sin(lt)*at,_e.length())}function getPerpendicularVector(_e,et){var rt=[et[0]-_e[0],et[1]-_e[1]],nt=-Math.PI*.5,st=[Math.cos(nt)*rt[0]-Math.sin(nt)*rt[1],Math.sin(nt)*rt[0]+Math.cos(nt)*rt[1]];return st}function getProjectingAngle(_e,et){var rt=et===0?_e.length()-1:et-1,nt=(et+1)%_e.length(),st=_e.v[rt],it=_e.v[nt],at=getPerpendicularVector(st,it);return Math.atan2(0,1)-Math.atan2(at[1],at[0])}function zigZagCorner(_e,et,rt,nt,st,it,at){var ot=getProjectingAngle(et,rt),lt=et.v[rt%et._length],ct=et.v[rt===0?et._length-1:rt-1],ut=et.v[(rt+1)%et._length],dt=it===2?Math.sqrt(Math.pow(lt[0]-ct[0],2)+Math.pow(lt[1]-ct[1],2)):0,pt=it===2?Math.sqrt(Math.pow(lt[0]-ut[0],2)+Math.pow(lt[1]-ut[1],2)):0;setPoint(_e,et.v[rt%et._length],ot,at,nt,pt/((st+1)*2),dt/((st+1)*2))}function zigZagSegment(_e,et,rt,nt,st,it){for(var at=0;at<nt;at+=1){var ot=(at+1)/(nt+1),lt=st===2?Math.sqrt(Math.pow(et.points[3][0]-et.points[0][0],2)+Math.pow(et.points[3][1]-et.points[0][1],2)):0,ct=et.normalAngle(ot),ut=et.point(ot);setPoint(_e,ut,ct,it,rt,lt/((nt+1)*2),lt/((nt+1)*2)),it=-it}return it}ZigZagModifier.prototype.processPath=function(_e,et,rt,nt){var st=_e._length,it=shapePool.newElement();if(it.c=_e.c,_e.c||(st-=1),st===0)return it;var at=-1,ot=PolynomialBezier.shapeSegment(_e,0);zigZagCorner(it,_e,0,et,rt,nt,at);for(var lt=0;lt<st;lt+=1)at=zigZagSegment(it,ot,et,rt,nt,-at),lt===st-1&&!_e.c?ot=null:ot=PolynomialBezier.shapeSegment(_e,(lt+1)%st),zigZagCorner(it,_e,lt+1,et,rt,nt,at);return it},ZigZagModifier.prototype.processShapes=function(_e){var et,rt,nt=this.shapes.length,st,it,at=this.amplitude.v,ot=Math.max(0,Math.round(this.frequency.v)),lt=this.pointsType.v;if(at!==0){var ct,ut;for(rt=0;rt<nt;rt+=1){if(ct=this.shapes[rt],ut=ct.localShapeCollection,!(!ct.shape._mdf&&!this._mdf&&!_e))for(ut.releaseShapes(),ct.shape._mdf=!0,et=ct.shape.paths.shapes,it=ct.shape.paths._length,st=0;st<it;st+=1)ut.addShape(this.processPath(et[st],at,ot,lt));ct.shape.paths=ct.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function linearOffset(_e,et,rt){var nt=Math.atan2(et[0]-_e[0],et[1]-_e[1]);return[polarOffset(_e,nt,rt),polarOffset(et,nt,rt)]}function offsetSegment(_e,et){var rt,nt,st,it,at,ot,lt;lt=linearOffset(_e.points[0],_e.points[1],et),rt=lt[0],nt=lt[1],lt=linearOffset(_e.points[1],_e.points[2],et),st=lt[0],it=lt[1],lt=linearOffset(_e.points[2],_e.points[3],et),at=lt[0],ot=lt[1];var ct=lineIntersection(rt,nt,st,it);ct===null&&(ct=nt);var ut=lineIntersection(at,ot,st,it);return ut===null&&(ut=at),new PolynomialBezier(rt,ct,ut,ot)}function joinLines(_e,et,rt,nt,st){var it=et.points[3],at=rt.points[0];if(nt===3||pointEqual(it,at))return it;if(nt===2){var ot=-et.tangentAngle(1),lt=-rt.tangentAngle(0)+Math.PI,ct=lineIntersection(it,polarOffset(it,ot+Math.PI/2,100),at,polarOffset(at,ot+Math.PI/2,100)),ut=ct?pointDistance(ct,it):pointDistance(it,at)/2,dt=polarOffset(it,ot,2*ut*roundCorner);return _e.setXYAt(dt[0],dt[1],"o",_e.length()-1),dt=polarOffset(at,lt,2*ut*roundCorner),_e.setTripleAt(at[0],at[1],at[0],at[1],dt[0],dt[1],_e.length()),at}var pt=pointEqual(it,et.points[2])?et.points[0]:et.points[2],mt=pointEqual(at,rt.points[1])?rt.points[3]:rt.points[1],xt=lineIntersection(pt,it,at,mt);return xt&&pointDistance(xt,it)<st?(_e.setTripleAt(xt[0],xt[1],xt[0],xt[1],xt[0],xt[1],_e.length()),xt):it}function getIntersection(_e,et){var rt=_e.intersections(et);return rt.length&&floatEqual(rt[0][0],1)&&rt.shift(),rt.length?rt[0]:null}function pruneSegmentIntersection(_e,et){var rt=_e.slice(),nt=et.slice(),st=getIntersection(_e[_e.length-1],et[0]);return st&&(rt[_e.length-1]=_e[_e.length-1].split(st[0])[0],nt[0]=et[0].split(st[1])[1]),_e.length>1&&et.length>1&&(st=getIntersection(_e[0],et[et.length-1]),st)?[[_e[0].split(st[0])[0]],[et[et.length-1].split(st[1])[1]]]:[rt,nt]}function pruneIntersections(_e){for(var et,rt=1;rt<_e.length;rt+=1)et=pruneSegmentIntersection(_e[rt-1],_e[rt]),_e[rt-1]=et[0],_e[rt]=et[1];return _e.length>1&&(et=pruneSegmentIntersection(_e[_e.length-1],_e[0]),_e[_e.length-1]=et[0],_e[0]=et[1]),_e}function offsetSegmentSplit(_e,et){var rt=_e.inflectionPoints(),nt,st,it,at;if(rt.length===0)return[offsetSegment(_e,et)];if(rt.length===1||floatEqual(rt[1],1))return it=_e.split(rt[0]),nt=it[0],st=it[1],[offsetSegment(nt,et),offsetSegment(st,et)];it=_e.split(rt[0]),nt=it[0];var ot=(rt[1]-rt[0])/(1-rt[0]);return it=it[1].split(ot),at=it[0],st=it[1],[offsetSegment(nt,et),offsetSegment(at,et),offsetSegment(st,et)]}function OffsetPathModifier(){}extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(_e,et){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(_e,et.a,0,null,this),this.miterLimit=PropertyFactory.getProp(_e,et.ml,0,null,this),this.lineJoin=et.lj,this._isAnimated=this.amount.effectsSequence.length!==0},OffsetPathModifier.prototype.processPath=function(_e,et,rt,nt){var st=shapePool.newElement();st.c=_e.c;var it=_e.length();_e.c||(it-=1);var at,ot,lt,ct=[];for(at=0;at<it;at+=1)lt=PolynomialBezier.shapeSegment(_e,at),ct.push(offsetSegmentSplit(lt,et));if(!_e.c)for(at=it-1;at>=0;at-=1)lt=PolynomialBezier.shapeSegmentInverted(_e,at),ct.push(offsetSegmentSplit(lt,et));ct=pruneIntersections(ct);var ut=null,dt=null;for(at=0;at<ct.length;at+=1){var pt=ct[at];for(dt&&(ut=joinLines(st,dt,pt[0],rt,nt)),dt=pt[pt.length-1],ot=0;ot<pt.length;ot+=1)lt=pt[ot],ut&&pointEqual(lt.points[0],ut)?st.setXYAt(lt.points[1][0],lt.points[1][1],"o",st.length()-1):st.setTripleAt(lt.points[0][0],lt.points[0][1],lt.points[1][0],lt.points[1][1],lt.points[0][0],lt.points[0][1],st.length()),st.setTripleAt(lt.points[3][0],lt.points[3][1],lt.points[3][0],lt.points[3][1],lt.points[2][0],lt.points[2][1],st.length()),ut=lt.points[3]}return ct.length&&joinLines(st,dt,ct[0][0],rt,nt),st},OffsetPathModifier.prototype.processShapes=function(_e){var et,rt,nt=this.shapes.length,st,it,at=this.amount.v,ot=this.miterLimit.v,lt=this.lineJoin;if(at!==0){var ct,ut;for(rt=0;rt<nt;rt+=1){if(ct=this.shapes[rt],ut=ct.localShapeCollection,!(!ct.shape._mdf&&!this._mdf&&!_e))for(ut.releaseShapes(),ct.shape._mdf=!0,et=ct.shape.paths.shapes,it=ct.shape.paths._length,st=0;st<it;st+=1)ut.addShape(this.processPath(et[st],at,lt,ot));ct.shape.paths=ct.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function getFontProperties(_e){for(var et=_e.fStyle?_e.fStyle.split(" "):[],rt="normal",nt="normal",st=et.length,it,at=0;at<st;at+=1)switch(it=et[at].toLowerCase(),it){case"italic":nt="italic";break;case"bold":rt="700";break;case"black":rt="900";break;case"medium":rt="500";break;case"regular":case"normal":rt="400";break;case"light":case"thin":rt="200";break}return{style:nt,weight:_e.fWeight||rt}}var FontManager=function(){var _e=5e3,et={w:0,size:0,shapes:[],data:{shapes:[]}},rt=[];rt=rt.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var nt=127988,st=917631,it=917601,at=917626,ot=65039,lt=8205,ct=127462,ut=127487,dt=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"];function pt(Ot){var Dt=Ot.split(","),Pt,It=Dt.length,At=[];for(Pt=0;Pt<It;Pt+=1)Dt[Pt]!=="sans-serif"&&Dt[Pt]!=="monospace"&&At.push(Dt[Pt]);return At.join(",")}function mt(Ot,Dt){var Pt=createTag("span");Pt.setAttribute("aria-hidden",!0),Pt.style.fontFamily=Dt;var It=createTag("span");It.innerText="giItT1WQy@!-/#",Pt.style.position="absolute",Pt.style.left="-10000px",Pt.style.top="-10000px",Pt.style.fontSize="300px",Pt.style.fontVariant="normal",Pt.style.fontStyle="normal",Pt.style.fontWeight="normal",Pt.style.letterSpacing="0",Pt.appendChild(It),document.body.appendChild(Pt);var At=It.offsetWidth;return It.style.fontFamily=pt(Ot)+", "+Dt,{node:It,w:At,parent:Pt}}function xt(){var Ot,Dt=this.fonts.length,Pt,It,At=Dt;for(Ot=0;Ot<Dt;Ot+=1)this.fonts[Ot].loaded?At-=1:this.fonts[Ot].fOrigin==="n"||this.fonts[Ot].origin===0?this.fonts[Ot].loaded=!0:(Pt=this.fonts[Ot].monoCase.node,It=this.fonts[Ot].monoCase.w,Pt.offsetWidth!==It?(At-=1,this.fonts[Ot].loaded=!0):(Pt=this.fonts[Ot].sansCase.node,It=this.fonts[Ot].sansCase.w,Pt.offsetWidth!==It&&(At-=1,this.fonts[Ot].loaded=!0)),this.fonts[Ot].loaded&&(this.fonts[Ot].sansCase.parent.parentNode.removeChild(this.fonts[Ot].sansCase.parent),this.fonts[Ot].monoCase.parent.parentNode.removeChild(this.fonts[Ot].monoCase.parent)));At!==0&&Date.now()-this.initTime<_e?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)}function yt(Ot,Dt){var Pt=document.body&&Dt?"svg":"canvas",It,At=getFontProperties(Ot);if(Pt==="svg"){var Ht=createNS("text");Ht.style.fontSize="100px",Ht.setAttribute("font-family",Ot.fFamily),Ht.setAttribute("font-style",At.style),Ht.setAttribute("font-weight",At.weight),Ht.textContent="1",Ot.fClass?(Ht.style.fontFamily="inherit",Ht.setAttribute("class",Ot.fClass)):Ht.style.fontFamily=Ot.fFamily,Dt.appendChild(Ht),It=Ht}else{var Gt=new OffscreenCanvas(500,500).getContext("2d");Gt.font=At.style+" "+At.weight+" 100px "+Ot.fFamily,It=Gt}function Vt(Jt){return Pt==="svg"?(It.textContent=Jt,It.getComputedTextLength()):It.measureText(Jt).width}return{measureText:Vt}}function vt(Ot,Dt){if(!Ot){this.isLoaded=!0;return}if(this.chars){this.isLoaded=!0,this.fonts=Ot.list;return}if(!document.body){this.isLoaded=!0,Ot.list.forEach(function(Er){Er.helper=yt(Er),Er.cache={}}),this.fonts=Ot.list;return}var Pt=Ot.list,It,At=Pt.length,Ht=At;for(It=0;It<At;It+=1){var Gt=!0,Vt,Jt;if(Pt[It].loaded=!1,Pt[It].monoCase=mt(Pt[It].fFamily,"monospace"),Pt[It].sansCase=mt(Pt[It].fFamily,"sans-serif"),!Pt[It].fPath)Pt[It].loaded=!0,Ht-=1;else if(Pt[It].fOrigin==="p"||Pt[It].origin===3){if(Vt=document.querySelectorAll('style[f-forigin="p"][f-family="'+Pt[It].fFamily+'"], style[f-origin="3"][f-family="'+Pt[It].fFamily+'"]'),Vt.length>0&&(Gt=!1),Gt){var rr=createTag("style");rr.setAttribute("f-forigin",Pt[It].fOrigin),rr.setAttribute("f-origin",Pt[It].origin),rr.setAttribute("f-family",Pt[It].fFamily),rr.type="text/css",rr.innerText="@font-face {font-family: "+Pt[It].fFamily+"; font-style: normal; src: url('"+Pt[It].fPath+"');}",Dt.appendChild(rr)}}else if(Pt[It].fOrigin==="g"||Pt[It].origin===1){for(Vt=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),Jt=0;Jt<Vt.length;Jt+=1)Vt[Jt].href.indexOf(Pt[It].fPath)!==-1&&(Gt=!1);if(Gt){var ar=createTag("link");ar.setAttribute("f-forigin",Pt[It].fOrigin),ar.setAttribute("f-origin",Pt[It].origin),ar.type="text/css",ar.rel="stylesheet",ar.href=Pt[It].fPath,document.body.appendChild(ar)}}else if(Pt[It].fOrigin==="t"||Pt[It].origin===2){for(Vt=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),Jt=0;Jt<Vt.length;Jt+=1)Pt[It].fPath===Vt[Jt].src&&(Gt=!1);if(Gt){var mr=createTag("link");mr.setAttribute("f-forigin",Pt[It].fOrigin),mr.setAttribute("f-origin",Pt[It].origin),mr.setAttribute("rel","stylesheet"),mr.setAttribute("href",Pt[It].fPath),Dt.appendChild(mr)}}Pt[It].helper=yt(Pt[It],Dt),Pt[It].cache={},this.fonts.push(Pt[It])}Ht===0?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}function gt(Ot){if(Ot){this.chars||(this.chars=[]);var Dt,Pt=Ot.length,It,At=this.chars.length,Ht;for(Dt=0;Dt<Pt;Dt+=1){for(It=0,Ht=!1;It<At;)this.chars[It].style===Ot[Dt].style&&this.chars[It].fFamily===Ot[Dt].fFamily&&this.chars[It].ch===Ot[Dt].ch&&(Ht=!0),It+=1;Ht||(this.chars.push(Ot[Dt]),At+=1)}}}function Et(Ot,Dt,Pt){for(var It=0,At=this.chars.length;It<At;){if(this.chars[It].ch===Ot&&this.chars[It].style===Dt&&this.chars[It].fFamily===Pt)return this.chars[It];It+=1}return(typeof Ot=="string"&&Ot.charCodeAt(0)!==13||!Ot)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",Ot,Dt,Pt)),et}function jt(Ot,Dt,Pt){var It=this.getFontByName(Dt),At=Ot;if(!It.cache[At]){var Ht=It.helper;if(Ot===" "){var Gt=Ht.measureText("|"+Ot+"|"),Vt=Ht.measureText("||");It.cache[At]=(Gt-Vt)/100}else It.cache[At]=Ht.measureText(Ot)/100}return It.cache[At]*Pt}function kt(Ot){for(var Dt=0,Pt=this.fonts.length;Dt<Pt;){if(this.fonts[Dt].fName===Ot)return this.fonts[Dt];Dt+=1}return this.fonts[0]}function Rt(Ot){var Dt=0,Pt=Ot.charCodeAt(0);if(Pt>=55296&&Pt<=56319){var It=Ot.charCodeAt(1);It>=56320&&It<=57343&&(Dt=(Pt-55296)*1024+It-56320+65536)}return Dt}function St(Ot,Dt){var Pt=Ot.toString(16)+Dt.toString(16);return dt.indexOf(Pt)!==-1}function _t(Ot){return Ot===lt}function Nt(Ot){return Ot===ot}function Lt(Ot){var Dt=Rt(Ot);return Dt>=ct&&Dt<=ut}function $t(Ot){return Lt(Ot.substr(0,2))&&Lt(Ot.substr(2,2))}function Ft(Ot){return rt.indexOf(Ot)!==-1}function Tt(Ot,Dt){var Pt=Rt(Ot.substr(Dt,2));if(Pt!==nt)return!1;var It=0;for(Dt+=2;It<5;){if(Pt=Rt(Ot.substr(Dt,2)),Pt<it||Pt>at)return!1;It+=1,Dt+=2}return Rt(Ot.substr(Dt,2))===st}function Bt(){this.isLoaded=!0}var Wt=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};Wt.isModifier=St,Wt.isZeroWidthJoiner=_t,Wt.isFlagEmoji=$t,Wt.isRegionalCode=Lt,Wt.isCombinedCharacter=Ft,Wt.isRegionalFlag=Tt,Wt.isVariationSelector=Nt,Wt.BLACK_FLAG_CODE_POINT=nt;var qt={addChars:gt,addFonts:vt,getCharData:Et,getFontByName:kt,measureText:jt,checkLoadedFonts:xt,setIsLoaded:Bt};return Wt.prototype=qt,Wt}();function SlotManager(_e){this.animationData=_e}SlotManager.prototype.getProp=function(_e){return this.animationData.slots&&this.animationData.slots[_e.sid]?Object.assign(_e,this.animationData.slots[_e.sid].p):_e};function slotFactory(_e){return new SlotManager(_e)}function RenderableElement(){}RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(et){this.renderableComponents.indexOf(et)===-1&&this.renderableComponents.push(et)},removeRenderableComponent:function(et){this.renderableComponents.indexOf(et)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf(et),1)},prepareRenderableFrame:function(et){this.checkLayerLimits(et)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(et){this.data.ip-this.data.st<=et&&this.data.op-this.data.st>et?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var et,rt=this.renderableComponents.length;for(et=0;et<rt;et+=1)this.renderableComponents[et].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return this.data.ty===5?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=function(){var _e={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(et){return _e[et]||""}}();function SliderEffect(_e,et,rt){this.p=PropertyFactory.getProp(et,_e.v,0,0,rt)}function AngleEffect(_e,et,rt){this.p=PropertyFactory.getProp(et,_e.v,0,0,rt)}function ColorEffect(_e,et,rt){this.p=PropertyFactory.getProp(et,_e.v,1,0,rt)}function PointEffect(_e,et,rt){this.p=PropertyFactory.getProp(et,_e.v,1,0,rt)}function LayerIndexEffect(_e,et,rt){this.p=PropertyFactory.getProp(et,_e.v,0,0,rt)}function MaskIndexEffect(_e,et,rt){this.p=PropertyFactory.getProp(et,_e.v,0,0,rt)}function CheckboxEffect(_e,et,rt){this.p=PropertyFactory.getProp(et,_e.v,0,0,rt)}function NoValueEffect(){this.p={}}function EffectsManager(_e,et){var rt=_e.ef||[];this.effectElements=[];var nt,st=rt.length,it;for(nt=0;nt<st;nt+=1)it=new GroupEffect(rt[nt],et),this.effectElements.push(it)}function GroupEffect(_e,et){this.init(_e,et)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(_e,et){this.data=_e,this.effectElements=[],this.initDynamicPropertyContainer(et);var rt,nt=this.data.ef.length,st,it=this.data.ef;for(rt=0;rt<nt;rt+=1){switch(st=null,it[rt].ty){case 0:st=new SliderEffect(it[rt],et,this);break;case 1:st=new AngleEffect(it[rt],et,this);break;case 2:st=new ColorEffect(it[rt],et,this);break;case 3:st=new PointEffect(it[rt],et,this);break;case 4:case 7:st=new CheckboxEffect(it[rt],et,this);break;case 10:st=new LayerIndexEffect(it[rt],et,this);break;case 11:st=new MaskIndexEffect(it[rt],et,this);break;case 5:st=new EffectsManager(it[rt],et);break;default:st=new NoValueEffect(it[rt]);break}st&&this.effectElements.push(st)}};function BaseElement(){}BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var et=0,rt=this.data.masksProperties.length;et<rt;){if(this.data.masksProperties[et].mode!=="n"&&this.data.masksProperties[et].cl!==!1)return!0;et+=1}return!1},initExpressions:function(){var et=getExpressionInterfaces();if(et){var rt=et("layer"),nt=et("effects"),st=et("shape"),it=et("text"),at=et("comp");this.layerInterface=rt(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var ot=nt.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(ot),this.data.ty===0||this.data.xt?this.compInterface=at(this):this.data.ty===4?(this.layerInterface.shapeInterface=st(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):this.data.ty===5&&(this.layerInterface.textInterface=it(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var et=getBlendMode(this.data.bm),rt=this.baseElement||this.layerElement;rt.style["mix-blend-mode"]=et},initBaseData:function(et,rt,nt){this.globalData=rt,this.comp=nt,this.data=et,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}};function FrameElement(){}FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(et,rt){var nt,st=this.dynamicProperties.length;for(nt=0;nt<st;nt+=1)(rt||this._isParent&&this.dynamicProperties[nt].propType==="transform")&&(this.dynamicProperties[nt].getValue(),this.dynamicProperties[nt]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(et){this.dynamicProperties.indexOf(et)===-1&&this.dynamicProperties.push(et)}};function FootageElement(_e,et,rt){this.initFrame(),this.initRenderable(),this.assetData=et.getAssetData(_e.refId),this.footageData=et.imageLoader.getAsset(this.assetData),this.initBaseData(_e,et,rt)}FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var _e=getExpressionInterfaces();if(_e){var et=_e("footage");this.layerInterface=et(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData};function AudioElement(_e,et,rt){this.initFrame(),this.initRenderable(),this.assetData=et.getAssetData(_e.refId),this.initBaseData(_e,et,rt),this._isPlaying=!1,this._canPlay=!1;var nt=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(nt),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=_e.tm?PropertyFactory.getProp(this,_e.tm,0,et.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,_e.au&&_e.au.lv?_e.au.lv:{k:[100]},1,.01,this)}AudioElement.prototype.prepareFrame=function(_e){if(this.prepareRenderableFrame(_e,!0),this.prepareProperties(_e,!0),this.tm._placeholder)this._currentTime=_e/this.data.sr;else{var et=this.tm.v;this._currentTime=et}this._volume=this.lv.v[0];var rt=this._volume*this._volumeMultiplier;this._previousVolume!==rt&&(this._previousVolume=rt,this.audio.volume(rt))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(_e){this.audio.rate(_e)},AudioElement.prototype.volume=function(_e){this._volumeMultiplier=_e,this._previousVolume=_e*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){};function BaseRenderer(){}BaseRenderer.prototype.checkLayers=function(_e){var et,rt=this.layers.length,nt;for(this.completeLayers=!0,et=rt-1;et>=0;et-=1)this.elements[et]||(nt=this.layers[et],nt.ip-nt.st<=_e-this.layers[et].st&&nt.op-nt.st>_e-this.layers[et].st&&this.buildItem(et)),this.completeLayers=this.elements[et]?this.completeLayers:!1;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(_e){switch(_e.ty){case 2:return this.createImage(_e);case 0:return this.createComp(_e);case 1:return this.createSolid(_e);case 3:return this.createNull(_e);case 4:return this.createShape(_e);case 5:return this.createText(_e);case 6:return this.createAudio(_e);case 13:return this.createCamera(_e);case 15:return this.createFootage(_e);default:return this.createNull(_e)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(_e){return new AudioElement(_e,this.globalData,this)},BaseRenderer.prototype.createFootage=function(_e){return new FootageElement(_e,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var _e,et=this.layers.length;for(_e=0;_e<et;_e+=1)this.buildItem(_e);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(_e){this.completeLayers=!1;var et,rt=_e.length,nt,st=this.layers.length;for(et=0;et<rt;et+=1)for(nt=0;nt<st;){if(this.layers[nt].id===_e[et].id){this.layers[nt]=_e[et];break}nt+=1}},BaseRenderer.prototype.setProjectInterface=function(_e){this.globalData.projectInterface=_e},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(_e,et,rt){for(var nt=this.elements,st=this.layers,it=0,at=st.length;it<at;)st[it].ind==et&&(!nt[it]||nt[it]===!0?(this.buildItem(it),this.addPendingElement(_e)):(rt.push(nt[it]),nt[it].setAsParent(),st[it].parent!==void 0?this.buildElementParenting(_e,st[it].parent,rt):_e.setHierarchy(rt))),it+=1},BaseRenderer.prototype.addPendingElement=function(_e){this.pendingElements.push(_e)},BaseRenderer.prototype.searchExtraCompositions=function(_e){var et,rt=_e.length;for(et=0;et<rt;et+=1)if(_e[et].xt){var nt=this.createComp(_e[et]);nt.initExpressions(),this.globalData.projectInterface.registerComposition(nt)}},BaseRenderer.prototype.getElementById=function(_e){var et,rt=this.elements.length;for(et=0;et<rt;et+=1)if(this.elements[et].data.ind===_e)return this.elements[et];return null},BaseRenderer.prototype.getElementByPath=function(_e){var et=_e.shift(),rt;if(typeof et=="number")rt=this.elements[et];else{var nt,st=this.elements.length;for(nt=0;nt<st;nt+=1)if(this.elements[nt].data.nm===et){rt=this.elements[nt];break}}return _e.length===0?rt:rt.getElementByPath(_e)},BaseRenderer.prototype.setupGlobalData=function(_e,et){this.globalData.fontManager=new FontManager,this.globalData.slotManager=slotFactory(_e),this.globalData.fontManager.addChars(_e.chars),this.globalData.fontManager.addFonts(_e.fonts,et),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=_e.fr,this.globalData.nm=_e.nm,this.globalData.compSize={w:_e.w,h:_e.h}};var effectTypes={TRANSFORM_EFFECT:"transformEFfect"};function TransformElement(){}TransformElement.prototype={initTransform:function(){var et=new Matrix;this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_localMatMdf:!1,_opMdf:!1,mat:et,localMat:et,localOpacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var et,rt=this.finalTransform.mat,nt=0,st=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;nt<st;){if(this.hierarchy[nt].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}nt+=1}if(this.finalTransform._matMdf)for(et=this.finalTransform.mProp.v.props,rt.cloneFromProps(et),nt=0;nt<st;nt+=1)rt.multiply(this.hierarchy[nt].finalTransform.mProp.v)}(!this.localTransforms||this.finalTransform._matMdf)&&(this.finalTransform._localMatMdf=this.finalTransform._matMdf),this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v)},renderLocalTransform:function(){if(this.localTransforms){var et=0,rt=this.localTransforms.length;if(this.finalTransform._localMatMdf=this.finalTransform._matMdf,!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)for(;et<rt;)this.localTransforms[et]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[et]._opMdf&&!this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v,this.finalTransform._opMdf=!0),et+=1;if(this.finalTransform._localMatMdf){var nt=this.finalTransform.localMat;for(this.localTransforms[0].matrix.clone(nt),et=1;et<rt;et+=1){var st=this.localTransforms[et].matrix;nt.multiply(st)}nt.multiply(this.finalTransform.mat)}if(this.finalTransform._opMdf){var it=this.finalTransform.localOpacity;for(et=0;et<rt;et+=1)it*=this.localTransforms[et].opacity*.01;this.finalTransform.localOpacity=it}}},searchEffectTransforms:function(){if(this.renderableEffectsManager){var et=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);if(et.length){this.localTransforms=[],this.finalTransform.localMat=new Matrix;var rt=0,nt=et.length;for(rt=0;rt<nt;rt+=1)this.localTransforms.push(et[rt])}}},globalToLocal:function(et){var rt=[];rt.push(this.finalTransform);for(var nt=!0,st=this.comp;nt;)st.finalTransform?(st.data.hasMask&&rt.splice(0,0,st.finalTransform),st=st.comp):nt=!1;var it,at=rt.length,ot;for(it=0;it<at;it+=1)ot=rt[it].mat.applyToPointArray(0,0,0),et=[et[0]-ot[0],et[1]-ot[1],0];return et},mHelper:new Matrix};function MaskElement(_e,et,rt){this.data=_e,this.element=et,this.globalData=rt,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var nt=this.globalData.defs,st,it=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(it),this.solidPath="";var at,ot=this.masksProperties,lt=0,ct=[],ut,dt,pt=createElementID(),mt,xt,yt,vt,gt="clipPath",Et="clip-path";for(st=0;st<it;st+=1)if((ot[st].mode!=="a"&&ot[st].mode!=="n"||ot[st].inv||ot[st].o.k!==100||ot[st].o.x)&&(gt="mask",Et="mask"),(ot[st].mode==="s"||ot[st].mode==="i")&&lt===0?(mt=createNS("rect"),mt.setAttribute("fill","#ffffff"),mt.setAttribute("width",this.element.comp.data.w||0),mt.setAttribute("height",this.element.comp.data.h||0),ct.push(mt)):mt=null,at=createNS("path"),ot[st].mode==="n")this.viewData[st]={op:PropertyFactory.getProp(this.element,ot[st].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,ot[st],3),elem:at,lastPath:""},nt.appendChild(at);else{lt+=1,at.setAttribute("fill",ot[st].mode==="s"?"#000000":"#ffffff"),at.setAttribute("clip-rule","nonzero");var jt;if(ot[st].x.k!==0?(gt="mask",Et="mask",vt=PropertyFactory.getProp(this.element,ot[st].x,0,null,this.element),jt=createElementID(),xt=createNS("filter"),xt.setAttribute("id",jt),yt=createNS("feMorphology"),yt.setAttribute("operator","erode"),yt.setAttribute("in","SourceGraphic"),yt.setAttribute("radius","0"),xt.appendChild(yt),nt.appendChild(xt),at.setAttribute("stroke",ot[st].mode==="s"?"#000000":"#ffffff")):(yt=null,vt=null),this.storedData[st]={elem:at,x:vt,expan:yt,lastPath:"",lastOperator:"",filterId:jt,lastRadius:0},ot[st].mode==="i"){dt=ct.length;var kt=createNS("g");for(ut=0;ut<dt;ut+=1)kt.appendChild(ct[ut]);var Rt=createNS("mask");Rt.setAttribute("mask-type","alpha"),Rt.setAttribute("id",pt+"_"+lt),Rt.appendChild(at),nt.appendChild(Rt),kt.setAttribute("mask","url("+getLocationHref()+"#"+pt+"_"+lt+")"),ct.length=0,ct.push(kt)}else ct.push(at);ot[st].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[st]={elem:at,lastPath:"",op:PropertyFactory.getProp(this.element,ot[st].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,ot[st],3),invRect:mt},this.viewData[st].prop.k||this.drawPath(ot[st],this.viewData[st].prop.v,this.viewData[st])}for(this.maskElement=createNS(gt),it=ct.length,st=0;st<it;st+=1)this.maskElement.appendChild(ct[st]);lt>0&&(this.maskElement.setAttribute("id",pt),this.element.maskedElement.setAttribute(Et,"url("+getLocationHref()+"#"+pt+")"),nt.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}MaskElement.prototype.getMaskProperty=function(_e){return this.viewData[_e].prop},MaskElement.prototype.renderFrame=function(_e){var et=this.element.finalTransform.mat,rt,nt=this.masksProperties.length;for(rt=0;rt<nt;rt+=1)if((this.viewData[rt].prop._mdf||_e)&&this.drawPath(this.masksProperties[rt],this.viewData[rt].prop.v,this.viewData[rt]),(this.viewData[rt].op._mdf||_e)&&this.viewData[rt].elem.setAttribute("fill-opacity",this.viewData[rt].op.v),this.masksProperties[rt].mode!=="n"&&(this.viewData[rt].invRect&&(this.element.finalTransform.mProp._mdf||_e)&&this.viewData[rt].invRect.setAttribute("transform",et.getInverseMatrix().to2dCSS()),this.storedData[rt].x&&(this.storedData[rt].x._mdf||_e))){var st=this.storedData[rt].expan;this.storedData[rt].x.v<0?(this.storedData[rt].lastOperator!=="erode"&&(this.storedData[rt].lastOperator="erode",this.storedData[rt].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[rt].filterId+")")),st.setAttribute("radius",-this.storedData[rt].x.v)):(this.storedData[rt].lastOperator!=="dilate"&&(this.storedData[rt].lastOperator="dilate",this.storedData[rt].elem.setAttribute("filter",null)),this.storedData[rt].elem.setAttribute("stroke-width",this.storedData[rt].x.v*2))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var _e="M0,0 ";return _e+=" h"+this.globalData.compSize.w,_e+=" v"+this.globalData.compSize.h,_e+=" h-"+this.globalData.compSize.w,_e+=" v-"+this.globalData.compSize.h+" ",_e},MaskElement.prototype.drawPath=function(_e,et,rt){var nt=" M"+et.v[0][0]+","+et.v[0][1],st,it;for(it=et._length,st=1;st<it;st+=1)nt+=" C"+et.o[st-1][0]+","+et.o[st-1][1]+" "+et.i[st][0]+","+et.i[st][1]+" "+et.v[st][0]+","+et.v[st][1];if(et.c&&it>1&&(nt+=" C"+et.o[st-1][0]+","+et.o[st-1][1]+" "+et.i[0][0]+","+et.i[0][1]+" "+et.v[0][0]+","+et.v[0][1]),rt.lastPath!==nt){var at="";rt.elem&&(et.c&&(at=_e.inv?this.solidPath+nt:nt),rt.elem.setAttribute("d",at)),rt.lastPath=nt}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var _e={};_e.createFilter=et,_e.createAlphaToLuminanceFilter=rt;function et(nt,st){var it=createNS("filter");return it.setAttribute("id",nt),st!==!0&&(it.setAttribute("filterUnits","objectBoundingBox"),it.setAttribute("x","0%"),it.setAttribute("y","0%"),it.setAttribute("width","100%"),it.setAttribute("height","100%")),it}function rt(){var nt=createNS("feColorMatrix");return nt.setAttribute("type","matrix"),nt.setAttribute("color-interpolation-filters","sRGB"),nt.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),nt}return _e}(),featureSupport=function(){var _e={maskType:!0,svgLumaHidden:!0,offscreenCanvas:typeof OffscreenCanvas<"u"};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(_e.maskType=!1),/firefox/i.test(navigator.userAgent)&&(_e.svgLumaHidden=!1),_e}(),registeredEffects$1={},idPrefix="filter_result_";function SVGEffects(_e){var et,rt="SourceGraphic",nt=_e.data.ef?_e.data.ef.length:0,st=createElementID(),it=filtersFactory.createFilter(st,!0),at=0;this.filters=[];var ot;for(et=0;et<nt;et+=1){ot=null;var lt=_e.data.ef[et].ty;if(registeredEffects$1[lt]){var ct=registeredEffects$1[lt].effect;ot=new ct(it,_e.effectsManager.effectElements[et],_e,idPrefix+at,rt),rt=idPrefix+at,registeredEffects$1[lt].countsAsEffect&&(at+=1)}ot&&this.filters.push(ot)}at&&(_e.globalData.defs.appendChild(it),_e.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+st+")")),this.filters.length&&_e.addRenderableComponent(this)}SVGEffects.prototype.renderFrame=function(_e){var et,rt=this.filters.length;for(et=0;et<rt;et+=1)this.filters[et].renderFrame(_e)},SVGEffects.prototype.getEffects=function(_e){var et,rt=this.filters.length,nt=[];for(et=0;et<rt;et+=1)this.filters[et].type===_e&&nt.push(this.filters[et]);return nt};function registerEffect$1(_e,et,rt){registeredEffects$1[_e]={effect:et,countsAsEffect:rt}}function SVGBaseElement(){}SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var et=null;if(this.data.td){this.matteMasks={};var rt=createNS("g");rt.setAttribute("id",this.layerId),rt.appendChild(this.layerElement),et=rt,this.globalData.defs.appendChild(rt)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),et=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.ty===0&&!this.data.hd){var nt=createNS("clipPath"),st=createNS("path");st.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var it=createElementID();if(nt.setAttribute("id",it),nt.appendChild(st),this.globalData.defs.appendChild(nt),this.checkMasks()){var at=createNS("g");at.setAttribute("clip-path","url("+getLocationHref()+"#"+it+")"),at.appendChild(this.layerElement),this.transformedElement=at,et?et.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+it+")")}this.data.bm!==0&&this.setBlendMode()},renderElement:function(){this.finalTransform._localMatMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.localOpacity)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this),this.searchEffectTransforms()},getMatte:function(et){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[et]){var rt=this.layerId+"_"+et,nt,st,it,at;if(et===1||et===3){var ot=createNS("mask");ot.setAttribute("id",rt),ot.setAttribute("mask-type",et===3?"luminance":"alpha"),it=createNS("use"),it.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),ot.appendChild(it),this.globalData.defs.appendChild(ot),!featureSupport.maskType&&et===1&&(ot.setAttribute("mask-type","luminance"),nt=createElementID(),st=filtersFactory.createFilter(nt),this.globalData.defs.appendChild(st),st.appendChild(filtersFactory.createAlphaToLuminanceFilter()),at=createNS("g"),at.appendChild(it),ot.appendChild(at),at.setAttribute("filter","url("+getLocationHref()+"#"+nt+")"))}else if(et===2){var lt=createNS("mask");lt.setAttribute("id",rt),lt.setAttribute("mask-type","alpha");var ct=createNS("g");lt.appendChild(ct),nt=createElementID(),st=filtersFactory.createFilter(nt);var ut=createNS("feComponentTransfer");ut.setAttribute("in","SourceGraphic"),st.appendChild(ut);var dt=createNS("feFuncA");dt.setAttribute("type","table"),dt.setAttribute("tableValues","1.0 0.0"),ut.appendChild(dt),this.globalData.defs.appendChild(st);var pt=createNS("rect");pt.setAttribute("width",this.comp.data.w),pt.setAttribute("height",this.comp.data.h),pt.setAttribute("x","0"),pt.setAttribute("y","0"),pt.setAttribute("fill","#ffffff"),pt.setAttribute("opacity","0"),ct.setAttribute("filter","url("+getLocationHref()+"#"+nt+")"),ct.appendChild(pt),it=createNS("use"),it.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),ct.appendChild(it),featureSupport.maskType||(lt.setAttribute("mask-type","luminance"),st.appendChild(filtersFactory.createAlphaToLuminanceFilter()),at=createNS("g"),ct.appendChild(pt),at.appendChild(this.layerElement),ct.appendChild(at)),this.globalData.defs.appendChild(lt)}this.matteMasks[et]=rt}return this.matteMasks[et]},setMatte:function(et){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+et+")")}};function HierarchyElement(){}HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(et){this.hierarchy=et},setAsParent:function(){this._isParent=!0},checkParenting:function(){this.data.parent!==void 0&&this.comp.buildElementParenting(this,this.data.parent,[])}};function RenderableDOMElement(){}(function(){var _e={initElement:function(rt,nt,st){this.initFrame(),this.initBaseData(rt,nt,st),this.initTransform(rt,nt,st),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){if(!this.hidden&&(!this.isInRange||this.isTransparent)){var rt=this.baseElement||this.layerElement;rt.style.display="none",this.hidden=!0}},show:function(){if(this.isInRange&&!this.isTransparent){if(!this.data.hd){var rt=this.baseElement||this.layerElement;rt.style.display="block"}this.hidden=!1,this._isFirstFrame=!0}},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(rt){this._mdf=!1,this.prepareRenderableFrame(rt),this.prepareProperties(rt,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}};extendPrototype([RenderableElement,createProxyFunction(_e)],RenderableDOMElement)})();function IImageElement(_e,et,rt){this.assetData=et.getAssetData(_e.refId),this.assetData&&this.assetData.sid&&(this.assetData=et.slotManager.getProp(this.assetData)),this.initElement(_e,et,rt),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var _e=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",_e),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect};function ProcessedElement(_e,et){this.elem=_e,this.pos=et}function IShapeElement(){}IShapeElement.prototype={addShapeToModifiers:function(et){var rt,nt=this.shapeModifiers.length;for(rt=0;rt<nt;rt+=1)this.shapeModifiers[rt].addShape(et)},isShapeInAnimatedModifiers:function(et){for(var rt=0,nt=this.shapeModifiers.length;rt<nt;)if(this.shapeModifiers[rt].isAnimatedWithShape(et))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var et,rt=this.shapes.length;for(et=0;et<rt;et+=1)this.shapes[et].sh.reset();rt=this.shapeModifiers.length;var nt;for(et=rt-1;et>=0&&(nt=this.shapeModifiers[et].processShapes(this._isFirstFrame),!nt);et-=1);}},searchProcessedElement:function(et){for(var rt=this.processedElements,nt=0,st=rt.length;nt<st;){if(rt[nt].elem===et)return rt[nt].pos;nt+=1}return 0},addProcessedElement:function(et,rt){for(var nt=this.processedElements,st=nt.length;st;)if(st-=1,nt[st].elem===et){nt[st].pos=rt;return}nt.push(new ProcessedElement(et,rt))},prepareFrame:function(et){this.prepareRenderableFrame(et),this.prepareProperties(et,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(_e,et,rt){this.caches=[],this.styles=[],this.transformers=_e,this.lStr="",this.sh=rt,this.lvl=et,this._isAnimated=!!rt.k;for(var nt=0,st=_e.length;nt<st;){if(_e[nt].mProps.dynamicProperties.length){this._isAnimated=!0;break}nt+=1}}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0};function SVGStyleData(_e,et){this.data=_e,this.type=_e.ty,this.d="",this.lvl=et,this._mdf=!1,this.closed=_e.hd===!0,this.pElem=createNS("path"),this.msElem=null}SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1};function DashProperty(_e,et,rt,nt){this.elem=_e,this.frameId=-1,this.dataProps=createSizedArray(et.length),this.renderer=rt,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",et.length?et.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(nt);var st,it=et.length||0,at;for(st=0;st<it;st+=1)at=PropertyFactory.getProp(_e,et[st].v,0,0,this),this.k=at.k||this.k,this.dataProps[st]={n:et[st].n,p:at};this.k||this.getValue(!0),this._isAnimated=this.k}DashProperty.prototype.getValue=function(_e){if(!(this.elem.globalData.frameId===this.frameId&&!_e)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||_e,this._mdf)){var et=0,rt=this.dataProps.length;for(this.renderer==="svg"&&(this.dashStr=""),et=0;et<rt;et+=1)this.dataProps[et].n!=="o"?this.renderer==="svg"?this.dashStr+=" "+this.dataProps[et].p.v:this.dashArray[et]=this.dataProps[et].p.v:this.dashoffset[0]=this.dataProps[et].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty);function SVGStrokeStyleData(_e,et,rt){this.initDynamicPropertyContainer(_e),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(_e,et.o,0,.01,this),this.w=PropertyFactory.getProp(_e,et.w,0,null,this),this.d=new DashProperty(_e,et.d||{},"svg",this),this.c=PropertyFactory.getProp(_e,et.c,1,255,this),this.style=rt,this._isAnimated=!!this._isAnimated}extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData);function SVGFillStyleData(_e,et,rt){this.initDynamicPropertyContainer(_e),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(_e,et.o,0,.01,this),this.c=PropertyFactory.getProp(_e,et.c,1,255,this),this.style=rt}extendPrototype([DynamicPropertyContainer],SVGFillStyleData);function SVGNoStyleData(_e,et,rt){this.initDynamicPropertyContainer(_e),this.getValue=this.iterateDynamicProperties,this.style=rt}extendPrototype([DynamicPropertyContainer],SVGNoStyleData);function GradientProperty(_e,et,rt){this.data=et,this.c=createTypedArray("uint8c",et.p*4);var nt=et.k.k[0].s?et.k.k[0].s.length-et.p*4:et.k.k.length-et.p*4;this.o=createTypedArray("float32",nt),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=nt,this.initDynamicPropertyContainer(rt),this.prop=PropertyFactory.getProp(_e,et.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}GradientProperty.prototype.comparePoints=function(_e,et){for(var rt=0,nt=this.o.length/2,st;rt<nt;){if(st=Math.abs(_e[rt*4]-_e[et*4+rt*2]),st>.01)return!1;rt+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!==this.c.length/4)return!1;if(this.data.k.k[0].s)for(var _e=0,et=this.data.k.k.length;_e<et;){if(!this.comparePoints(this.data.k.k[_e].s,this.data.p))return!1;_e+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(_e){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||_e){var et,rt=this.data.p*4,nt,st;for(et=0;et<rt;et+=1)nt=et%4===0?100:255,st=Math.round(this.prop.v[et]*nt),this.c[et]!==st&&(this.c[et]=st,this._cmdf=!_e);if(this.o.length)for(rt=this.prop.v.length,et=this.data.p*4;et<rt;et+=1)nt=et%2===0?100:1,st=et%2===0?Math.round(this.prop.v[et]*100):this.prop.v[et],this.o[et-this.data.p*4]!==st&&(this.o[et-this.data.p*4]=st,this._omdf=!_e);this._mdf=!_e}},extendPrototype([DynamicPropertyContainer],GradientProperty);function SVGGradientFillStyleData(_e,et,rt){this.initDynamicPropertyContainer(_e),this.getValue=this.iterateDynamicProperties,this.initGradientData(_e,et,rt)}SVGGradientFillStyleData.prototype.initGradientData=function(_e,et,rt){this.o=PropertyFactory.getProp(_e,et.o,0,.01,this),this.s=PropertyFactory.getProp(_e,et.s,1,null,this),this.e=PropertyFactory.getProp(_e,et.e,1,null,this),this.h=PropertyFactory.getProp(_e,et.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(_e,et.a||{k:0},0,degToRads,this),this.g=new GradientProperty(_e,et.g,this),this.style=rt,this.stops=[],this.setGradientData(rt.pElem,et),this.setGradientOpacity(et,rt),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(_e,et){var rt=createElementID(),nt=createNS(et.t===1?"linearGradient":"radialGradient");nt.setAttribute("id",rt),nt.setAttribute("spreadMethod","pad"),nt.setAttribute("gradientUnits","userSpaceOnUse");var st=[],it,at,ot;for(ot=et.g.p*4,at=0;at<ot;at+=4)it=createNS("stop"),nt.appendChild(it),st.push(it);_e.setAttribute(et.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+rt+")"),this.gf=nt,this.cst=st},SVGGradientFillStyleData.prototype.setGradientOpacity=function(_e,et){if(this.g._hasOpacity&&!this.g._collapsable){var rt,nt,st,it=createNS("mask"),at=createNS("path");it.appendChild(at);var ot=createElementID(),lt=createElementID();it.setAttribute("id",lt);var ct=createNS(_e.t===1?"linearGradient":"radialGradient");ct.setAttribute("id",ot),ct.setAttribute("spreadMethod","pad"),ct.setAttribute("gradientUnits","userSpaceOnUse"),st=_e.g.k.k[0].s?_e.g.k.k[0].s.length:_e.g.k.k.length;var ut=this.stops;for(nt=_e.g.p*4;nt<st;nt+=2)rt=createNS("stop"),rt.setAttribute("stop-color","rgb(255,255,255)"),ct.appendChild(rt),ut.push(rt);at.setAttribute(_e.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+ot+")"),_e.ty==="gs"&&(at.setAttribute("stroke-linecap",lineCapEnum[_e.lc||2]),at.setAttribute("stroke-linejoin",lineJoinEnum[_e.lj||2]),_e.lj===1&&at.setAttribute("stroke-miterlimit",_e.ml)),this.of=ct,this.ms=it,this.ost=ut,this.maskId=lt,et.msElem=at}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData);function SVGGradientStrokeStyleData(_e,et,rt){this.initDynamicPropertyContainer(_e),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(_e,et.w,0,null,this),this.d=new DashProperty(_e,et.d||{},"svg",this),this.initGradientData(_e,et,rt),this._isAnimated=!!this._isAnimated}extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(_e,et,rt){this.transform={mProps:_e,op:et,container:rt},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}var buildShapeString=function(et,rt,nt,st){if(rt===0)return"";var it=et.o,at=et.i,ot=et.v,lt,ct=" M"+st.applyToPointStringified(ot[0][0],ot[0][1]);for(lt=1;lt<rt;lt+=1)ct+=" C"+st.applyToPointStringified(it[lt-1][0],it[lt-1][1])+" "+st.applyToPointStringified(at[lt][0],at[lt][1])+" "+st.applyToPointStringified(ot[lt][0],ot[lt][1]);return nt&&rt&&(ct+=" C"+st.applyToPointStringified(it[lt-1][0],it[lt-1][1])+" "+st.applyToPointStringified(at[0][0],at[0][1])+" "+st.applyToPointStringified(ot[0][0],ot[0][1]),ct+="z"),ct},SVGElementsRenderer=function(){var _e=new Matrix,et=new Matrix,rt={createRenderFunction:nt};function nt(dt){switch(dt.ty){case"fl":return ot;case"gf":return ct;case"gs":return lt;case"st":return ut;case"sh":case"el":case"rc":case"sr":return at;case"tr":return st;case"no":return it;default:return null}}function st(dt,pt,mt){(mt||pt.transform.op._mdf)&&pt.transform.container.setAttribute("opacity",pt.transform.op.v),(mt||pt.transform.mProps._mdf)&&pt.transform.container.setAttribute("transform",pt.transform.mProps.v.to2dCSS())}function it(){}function at(dt,pt,mt){var xt,yt,vt,gt,Et,jt,kt=pt.styles.length,Rt=pt.lvl,St,_t,Nt,Lt;for(jt=0;jt<kt;jt+=1){if(gt=pt.sh._mdf||mt,pt.styles[jt].lvl<Rt){for(_t=et.reset(),Nt=Rt-pt.styles[jt].lvl,Lt=pt.transformers.length-1;!gt&&Nt>0;)gt=pt.transformers[Lt].mProps._mdf||gt,Nt-=1,Lt-=1;if(gt)for(Nt=Rt-pt.styles[jt].lvl,Lt=pt.transformers.length-1;Nt>0;)_t.multiply(pt.transformers[Lt].mProps.v),Nt-=1,Lt-=1}else _t=_e;if(St=pt.sh.paths,yt=St._length,gt){for(vt="",xt=0;xt<yt;xt+=1)Et=St.shapes[xt],Et&&Et._length&&(vt+=buildShapeString(Et,Et._length,Et.c,_t));pt.caches[jt]=vt}else vt=pt.caches[jt];pt.styles[jt].d+=dt.hd===!0?"":vt,pt.styles[jt]._mdf=gt||pt.styles[jt]._mdf}}function ot(dt,pt,mt){var xt=pt.style;(pt.c._mdf||mt)&&xt.pElem.setAttribute("fill","rgb("+bmFloor(pt.c.v[0])+","+bmFloor(pt.c.v[1])+","+bmFloor(pt.c.v[2])+")"),(pt.o._mdf||mt)&&xt.pElem.setAttribute("fill-opacity",pt.o.v)}function lt(dt,pt,mt){ct(dt,pt,mt),ut(dt,pt,mt)}function ct(dt,pt,mt){var xt=pt.gf,yt=pt.g._hasOpacity,vt=pt.s.v,gt=pt.e.v;if(pt.o._mdf||mt){var Et=dt.ty==="gf"?"fill-opacity":"stroke-opacity";pt.style.pElem.setAttribute(Et,pt.o.v)}if(pt.s._mdf||mt){var jt=dt.t===1?"x1":"cx",kt=jt==="x1"?"y1":"cy";xt.setAttribute(jt,vt[0]),xt.setAttribute(kt,vt[1]),yt&&!pt.g._collapsable&&(pt.of.setAttribute(jt,vt[0]),pt.of.setAttribute(kt,vt[1]))}var Rt,St,_t,Nt;if(pt.g._cmdf||mt){Rt=pt.cst;var Lt=pt.g.c;for(_t=Rt.length,St=0;St<_t;St+=1)Nt=Rt[St],Nt.setAttribute("offset",Lt[St*4]+"%"),Nt.setAttribute("stop-color","rgb("+Lt[St*4+1]+","+Lt[St*4+2]+","+Lt[St*4+3]+")")}if(yt&&(pt.g._omdf||mt)){var $t=pt.g.o;for(pt.g._collapsable?Rt=pt.cst:Rt=pt.ost,_t=Rt.length,St=0;St<_t;St+=1)Nt=Rt[St],pt.g._collapsable||Nt.setAttribute("offset",$t[St*2]+"%"),Nt.setAttribute("stop-opacity",$t[St*2+1])}if(dt.t===1)(pt.e._mdf||mt)&&(xt.setAttribute("x2",gt[0]),xt.setAttribute("y2",gt[1]),yt&&!pt.g._collapsable&&(pt.of.setAttribute("x2",gt[0]),pt.of.setAttribute("y2",gt[1])));else{var Ft;if((pt.s._mdf||pt.e._mdf||mt)&&(Ft=Math.sqrt(Math.pow(vt[0]-gt[0],2)+Math.pow(vt[1]-gt[1],2)),xt.setAttribute("r",Ft),yt&&!pt.g._collapsable&&pt.of.setAttribute("r",Ft)),pt.s._mdf||pt.e._mdf||pt.h._mdf||pt.a._mdf||mt){Ft||(Ft=Math.sqrt(Math.pow(vt[0]-gt[0],2)+Math.pow(vt[1]-gt[1],2)));var Tt=Math.atan2(gt[1]-vt[1],gt[0]-vt[0]),Bt=pt.h.v;Bt>=1?Bt=.99:Bt<=-1&&(Bt=-.99);var Wt=Ft*Bt,qt=Math.cos(Tt+pt.a.v)*Wt+vt[0],Ot=Math.sin(Tt+pt.a.v)*Wt+vt[1];xt.setAttribute("fx",qt),xt.setAttribute("fy",Ot),yt&&!pt.g._collapsable&&(pt.of.setAttribute("fx",qt),pt.of.setAttribute("fy",Ot))}}}function ut(dt,pt,mt){var xt=pt.style,yt=pt.d;yt&&(yt._mdf||mt)&&yt.dashStr&&(xt.pElem.setAttribute("stroke-dasharray",yt.dashStr),xt.pElem.setAttribute("stroke-dashoffset",yt.dashoffset[0])),pt.c&&(pt.c._mdf||mt)&&xt.pElem.setAttribute("stroke","rgb("+bmFloor(pt.c.v[0])+","+bmFloor(pt.c.v[1])+","+bmFloor(pt.c.v[2])+")"),(pt.o._mdf||mt)&&xt.pElem.setAttribute("stroke-opacity",pt.o.v),(pt.w._mdf||mt)&&(xt.pElem.setAttribute("stroke-width",pt.w.v),xt.msElem&&xt.msElem.setAttribute("stroke-width",pt.w.v))}return rt}();function SVGShapeElement(_e,et,rt){this.shapes=[],this.shapesData=_e.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(_e,et,rt),this.prevViewData=[]}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var _e,et=this.shapes.length,rt,nt,st=this.stylesList.length,it,at=[],ot=!1;for(nt=0;nt<st;nt+=1){for(it=this.stylesList[nt],ot=!1,at.length=0,_e=0;_e<et;_e+=1)rt=this.shapes[_e],rt.styles.indexOf(it)!==-1&&(at.push(rt),ot=rt._isAnimated||ot);at.length>1&&ot&&this.setShapesAsAnimated(at)}},SVGShapeElement.prototype.setShapesAsAnimated=function(_e){var et,rt=_e.length;for(et=0;et<rt;et+=1)_e[et].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(_e,et){var rt,nt=new SVGStyleData(_e,et),st=nt.pElem;if(_e.ty==="st")rt=new SVGStrokeStyleData(this,_e,nt);else if(_e.ty==="fl")rt=new SVGFillStyleData(this,_e,nt);else if(_e.ty==="gf"||_e.ty==="gs"){var it=_e.ty==="gf"?SVGGradientFillStyleData:SVGGradientStrokeStyleData;rt=new it(this,_e,nt),this.globalData.defs.appendChild(rt.gf),rt.maskId&&(this.globalData.defs.appendChild(rt.ms),this.globalData.defs.appendChild(rt.of),st.setAttribute("mask","url("+getLocationHref()+"#"+rt.maskId+")"))}else _e.ty==="no"&&(rt=new SVGNoStyleData(this,_e,nt));return(_e.ty==="st"||_e.ty==="gs")&&(st.setAttribute("stroke-linecap",lineCapEnum[_e.lc||2]),st.setAttribute("stroke-linejoin",lineJoinEnum[_e.lj||2]),st.setAttribute("fill-opacity","0"),_e.lj===1&&st.setAttribute("stroke-miterlimit",_e.ml)),_e.r===2&&st.setAttribute("fill-rule","evenodd"),_e.ln&&st.setAttribute("id",_e.ln),_e.cl&&st.setAttribute("class",_e.cl),_e.bm&&(st.style["mix-blend-mode"]=getBlendMode(_e.bm)),this.stylesList.push(nt),this.addToAnimatedContents(_e,rt),rt},SVGShapeElement.prototype.createGroupElement=function(_e){var et=new ShapeGroupData;return _e.ln&&et.gr.setAttribute("id",_e.ln),_e.cl&&et.gr.setAttribute("class",_e.cl),_e.bm&&(et.gr.style["mix-blend-mode"]=getBlendMode(_e.bm)),et},SVGShapeElement.prototype.createTransformElement=function(_e,et){var rt=TransformPropertyFactory.getTransformProperty(this,_e,this),nt=new SVGTransformData(rt,rt.o,et);return this.addToAnimatedContents(_e,nt),nt},SVGShapeElement.prototype.createShapeElement=function(_e,et,rt){var nt=4;_e.ty==="rc"?nt=5:_e.ty==="el"?nt=6:_e.ty==="sr"&&(nt=7);var st=ShapePropertyFactory.getShapeProp(this,_e,nt,this),it=new SVGShapeData(et,rt,st);return this.shapes.push(it),this.addShapeToModifiers(it),this.addToAnimatedContents(_e,it),it},SVGShapeElement.prototype.addToAnimatedContents=function(_e,et){for(var rt=0,nt=this.animatedContents.length;rt<nt;){if(this.animatedContents[rt].element===et)return;rt+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(_e),element:et,data:_e})},SVGShapeElement.prototype.setElementStyles=function(_e){var et=_e.styles,rt,nt=this.stylesList.length;for(rt=0;rt<nt;rt+=1)et.indexOf(this.stylesList[rt])===-1&&!this.stylesList[rt].closed&&et.push(this.stylesList[rt])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var _e,et=this.itemsData.length;for(_e=0;_e<et;_e+=1)this.prevViewData[_e]=this.itemsData[_e];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),et=this.dynamicProperties.length,_e=0;_e<et;_e+=1)this.dynamicProperties[_e].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(_e,et,rt,nt,st,it,at){var ot=[].concat(it),lt,ct=_e.length-1,ut,dt,pt=[],mt=[],xt,yt,vt;for(lt=ct;lt>=0;lt-=1){if(vt=this.searchProcessedElement(_e[lt]),vt?et[lt]=rt[vt-1]:_e[lt]._render=at,_e[lt].ty==="fl"||_e[lt].ty==="st"||_e[lt].ty==="gf"||_e[lt].ty==="gs"||_e[lt].ty==="no")vt?et[lt].style.closed=_e[lt].hd:et[lt]=this.createStyleElement(_e[lt],st),_e[lt]._render&&et[lt].style.pElem.parentNode!==nt&&nt.appendChild(et[lt].style.pElem),pt.push(et[lt].style);else if(_e[lt].ty==="gr"){if(!vt)et[lt]=this.createGroupElement(_e[lt]);else for(dt=et[lt].it.length,ut=0;ut<dt;ut+=1)et[lt].prevViewData[ut]=et[lt].it[ut];this.searchShapes(_e[lt].it,et[lt].it,et[lt].prevViewData,et[lt].gr,st+1,ot,at),_e[lt]._render&&et[lt].gr.parentNode!==nt&&nt.appendChild(et[lt].gr)}else _e[lt].ty==="tr"?(vt||(et[lt]=this.createTransformElement(_e[lt],nt)),xt=et[lt].transform,ot.push(xt)):_e[lt].ty==="sh"||_e[lt].ty==="rc"||_e[lt].ty==="el"||_e[lt].ty==="sr"?(vt||(et[lt]=this.createShapeElement(_e[lt],ot,st)),this.setElementStyles(et[lt])):_e[lt].ty==="tm"||_e[lt].ty==="rd"||_e[lt].ty==="ms"||_e[lt].ty==="pb"||_e[lt].ty==="zz"||_e[lt].ty==="op"?(vt?(yt=et[lt],yt.closed=!1):(yt=ShapeModifiers.getModifier(_e[lt].ty),yt.init(this,_e[lt]),et[lt]=yt,this.shapeModifiers.push(yt)),mt.push(yt)):_e[lt].ty==="rp"&&(vt?(yt=et[lt],yt.closed=!0):(yt=ShapeModifiers.getModifier(_e[lt].ty),et[lt]=yt,yt.init(this,_e,lt,et),this.shapeModifiers.push(yt),at=!1),mt.push(yt));this.addProcessedElement(_e[lt],lt+1)}for(ct=pt.length,lt=0;lt<ct;lt+=1)pt[lt].closed=!0;for(ct=mt.length,lt=0;lt<ct;lt+=1)mt[lt].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var _e,et=this.stylesList.length;for(_e=0;_e<et;_e+=1)this.stylesList[_e].reset();for(this.renderShape(),_e=0;_e<et;_e+=1)(this.stylesList[_e]._mdf||this._isFirstFrame)&&(this.stylesList[_e].msElem&&(this.stylesList[_e].msElem.setAttribute("d",this.stylesList[_e].d),this.stylesList[_e].d="M0 0"+this.stylesList[_e].d),this.stylesList[_e].pElem.setAttribute("d",this.stylesList[_e].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var _e,et=this.animatedContents.length,rt;for(_e=0;_e<et;_e+=1)rt=this.animatedContents[_e],(this._isFirstFrame||rt.element._isAnimated)&&rt.data!==!0&&rt.fn(rt.data,rt.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null};function LetterProps(_e,et,rt,nt,st,it){this.o=_e,this.sw=et,this.sc=rt,this.fc=nt,this.m=st,this.p=it,this._mdf={o:!0,sw:!!et,sc:!!rt,fc:!!nt,m:!0,p:!0}}LetterProps.prototype.update=function(_e,et,rt,nt,st,it){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var at=!1;return this.o!==_e&&(this.o=_e,this._mdf.o=!0,at=!0),this.sw!==et&&(this.sw=et,this._mdf.sw=!0,at=!0),this.sc!==rt&&(this.sc=rt,this._mdf.sc=!0,at=!0),this.fc!==nt&&(this.fc=nt,this._mdf.fc=!0,at=!0),this.m!==st&&(this.m=st,this._mdf.m=!0,at=!0),it.length&&(this.p[0]!==it[0]||this.p[1]!==it[1]||this.p[4]!==it[4]||this.p[5]!==it[5]||this.p[12]!==it[12]||this.p[13]!==it[13])&&(this.p=it,this._mdf.p=!0,at=!0),at};function TextProperty(_e,et){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,et.d&&et.d.sid&&(et.d=_e.globalData.slotManager.getProp(et.d)),this.data=et,this.elem=_e,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(_e,et){for(var rt in et)Object.prototype.hasOwnProperty.call(et,rt)&&(_e[rt]=et[rt]);return _e},TextProperty.prototype.setCurrentData=function(_e){_e.__complete||this.completeTextData(_e),this.currentData=_e,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(_e){this.effectsSequence.push(_e),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(_e){if(!((this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)&&!_e)){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var et=this.currentData,rt=this.keysIndex;if(this.lock){this.setCurrentData(this.currentData);return}this.lock=!0,this._mdf=!1;var nt,st=this.effectsSequence.length,it=_e||this.data.d.k[this.keysIndex].s;for(nt=0;nt<st;nt+=1)rt!==this.keysIndex?it=this.effectsSequence[nt](it,it.t):it=this.effectsSequence[nt](this.currentData,it.t);et!==it&&this.setCurrentData(it),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}},TextProperty.prototype.getKeyframeValue=function(){for(var _e=this.data.d.k,et=this.elem.comp.renderedFrame,rt=0,nt=_e.length;rt<=nt-1&&!(rt===nt-1||_e[rt+1].t>et);)rt+=1;return this.keysIndex!==rt&&(this.keysIndex=rt),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(_e){for(var et=[],rt=0,nt=_e.length,st,it,at=!1,ot=!1,lt="";rt<nt;)at=ot,ot=!1,st=_e.charCodeAt(rt),lt=_e.charAt(rt),FontManager.isCombinedCharacter(st)?at=!0:st>=55296&&st<=56319?FontManager.isRegionalFlag(_e,rt)?lt=_e.substr(rt,14):(it=_e.charCodeAt(rt+1),it>=56320&&it<=57343&&(FontManager.isModifier(st,it)?(lt=_e.substr(rt,2),at=!0):FontManager.isFlagEmoji(_e.substr(rt,4))?lt=_e.substr(rt,4):lt=_e.substr(rt,2))):st>56319?(it=_e.charCodeAt(rt+1),FontManager.isVariationSelector(st)&&(at=!0)):FontManager.isZeroWidthJoiner(st)&&(at=!0,ot=!0),at?(et[et.length-1]+=lt,at=!1):et.push(lt),rt+=lt.length;return et},TextProperty.prototype.completeTextData=function(_e){_e.__complete=!0;var et=this.elem.globalData.fontManager,rt=this.data,nt=[],st,it,at,ot=0,lt,ct=rt.m.g,ut=0,dt=0,pt=0,mt=[],xt=0,yt=0,vt,gt,Et=et.getFontByName(_e.f),jt,kt=0,Rt=getFontProperties(Et);_e.fWeight=Rt.weight,_e.fStyle=Rt.style,_e.finalSize=_e.s,_e.finalText=this.buildFinalText(_e.t),it=_e.finalText.length,_e.finalLineHeight=_e.lh;var St=_e.tr/1e3*_e.finalSize,_t;if(_e.sz)for(var Nt=!0,Lt=_e.sz[0],$t=_e.sz[1],Ft,Tt;Nt;){Tt=this.buildFinalText(_e.t),Ft=0,xt=0,it=Tt.length,St=_e.tr/1e3*_e.finalSize;var Bt=-1;for(st=0;st<it;st+=1)_t=Tt[st].charCodeAt(0),at=!1,Tt[st]===" "?Bt=st:(_t===13||_t===3)&&(xt=0,at=!0,Ft+=_e.finalLineHeight||_e.finalSize*1.2),et.chars?(jt=et.getCharData(Tt[st],Et.fStyle,Et.fFamily),kt=at?0:jt.w*_e.finalSize/100):kt=et.measureText(Tt[st],_e.f,_e.finalSize),xt+kt>Lt&&Tt[st]!==" "?(Bt===-1?it+=1:st=Bt,Ft+=_e.finalLineHeight||_e.finalSize*1.2,Tt.splice(st,Bt===st?1:0,"\r"),Bt=-1,xt=0):(xt+=kt,xt+=St);Ft+=Et.ascent*_e.finalSize/100,this.canResize&&_e.finalSize>this.minimumFontSize&&$t<Ft?(_e.finalSize-=1,_e.finalLineHeight=_e.finalSize*_e.lh/_e.s):(_e.finalText=Tt,it=_e.finalText.length,Nt=!1)}xt=-St,kt=0;var Wt=0,qt;for(st=0;st<it;st+=1)if(at=!1,qt=_e.finalText[st],_t=qt.charCodeAt(0),_t===13||_t===3?(Wt=0,mt.push(xt),yt=xt>yt?xt:yt,xt=-2*St,lt="",at=!0,pt+=1):lt=qt,et.chars?(jt=et.getCharData(qt,Et.fStyle,et.getFontByName(_e.f).fFamily),kt=at?0:jt.w*_e.finalSize/100):kt=et.measureText(lt,_e.f,_e.finalSize),qt===" "?Wt+=kt+St:(xt+=kt+St+Wt,Wt=0),nt.push({l:kt,an:kt,add:ut,n:at,anIndexes:[],val:lt,line:pt,animatorJustifyOffset:0}),ct==2){if(ut+=kt,lt===""||lt===" "||st===it-1){for((lt===""||lt===" ")&&(ut-=kt);dt<=st;)nt[dt].an=ut,nt[dt].ind=ot,nt[dt].extra=kt,dt+=1;ot+=1,ut=0}}else if(ct==3){if(ut+=kt,lt===""||st===it-1){for(lt===""&&(ut-=kt);dt<=st;)nt[dt].an=ut,nt[dt].ind=ot,nt[dt].extra=kt,dt+=1;ut=0,ot+=1}}else nt[ot].ind=ot,nt[ot].extra=0,ot+=1;if(_e.l=nt,yt=xt>yt?xt:yt,mt.push(xt),_e.sz)_e.boxWidth=_e.sz[0],_e.justifyOffset=0;else switch(_e.boxWidth=yt,_e.j){case 1:_e.justifyOffset=-_e.boxWidth;break;case 2:_e.justifyOffset=-_e.boxWidth/2;break;default:_e.justifyOffset=0}_e.lineWidths=mt;var Ot=rt.a,Dt,Pt;gt=Ot.length;var It,At,Ht=[];for(vt=0;vt<gt;vt+=1){for(Dt=Ot[vt],Dt.a.sc&&(_e.strokeColorAnim=!0),Dt.a.sw&&(_e.strokeWidthAnim=!0),(Dt.a.fc||Dt.a.fh||Dt.a.fs||Dt.a.fb)&&(_e.fillColorAnim=!0),At=0,It=Dt.s.b,st=0;st<it;st+=1)Pt=nt[st],Pt.anIndexes[vt]=At,(It==1&&Pt.val!==""||It==2&&Pt.val!==""&&Pt.val!==" "||It==3&&(Pt.n||Pt.val==" "||st==it-1)||It==4&&(Pt.n||st==it-1))&&(Dt.s.rn===1&&Ht.push(At),At+=1);rt.a[vt].s.totalChars=At;var Gt=-1,Vt;if(Dt.s.rn===1)for(st=0;st<it;st+=1)Pt=nt[st],Gt!=Pt.anIndexes[vt]&&(Gt=Pt.anIndexes[vt],Vt=Ht.splice(Math.floor(Math.random()*Ht.length),1)[0]),Pt.anIndexes[vt]=Vt}_e.yOffset=_e.finalLineHeight||_e.finalSize*1.2,_e.ls=_e.ls||0,_e.ascent=Et.ascent*_e.finalSize/100},TextProperty.prototype.updateDocumentData=function(_e,et){et=et===void 0?this.keysIndex:et;var rt=this.copyData({},this.data.d.k[et].s);rt=this.copyData(rt,_e),this.data.d.k[et].s=rt,this.recalculate(et),this.setCurrentData(rt),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(_e){var et=this.data.d.k[_e].s;et.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(et)},TextProperty.prototype.canResizeFont=function(_e){this.canResize=_e,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(_e){this.minimumFontSize=Math.floor(_e)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var _e=Math.max,et=Math.min,rt=Math.floor;function nt(it,at){this._currentTextLength=-1,this.k=!1,this.data=at,this.elem=it,this.comp=it.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(it),this.s=PropertyFactory.getProp(it,at.s||{k:0},0,0,this),"e"in at?this.e=PropertyFactory.getProp(it,at.e,0,0,this):this.e={v:100},this.o=PropertyFactory.getProp(it,at.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(it,at.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(it,at.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(it,at.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(it,at.a,0,.01,this),this.dynamicProperties.length||this.getValue()}nt.prototype={getMult:function(at){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var ot=0,lt=0,ct=1,ut=1;this.ne.v>0?ot=this.ne.v/100:lt=-this.ne.v/100,this.xe.v>0?ct=1-this.xe.v/100:ut=1+this.xe.v/100;var dt=BezierFactory.getBezierEasing(ot,lt,ct,ut).get,pt=0,mt=this.finalS,xt=this.finalE,yt=this.data.sh;if(yt===2)xt===mt?pt=at>=xt?1:0:pt=_e(0,et(.5/(xt-mt)+(at-mt)/(xt-mt),1)),pt=dt(pt);else if(yt===3)xt===mt?pt=at>=xt?0:1:pt=1-_e(0,et(.5/(xt-mt)+(at-mt)/(xt-mt),1)),pt=dt(pt);else if(yt===4)xt===mt?pt=0:(pt=_e(0,et(.5/(xt-mt)+(at-mt)/(xt-mt),1)),pt<.5?pt*=2:pt=1-2*(pt-.5)),pt=dt(pt);else if(yt===5){if(xt===mt)pt=0;else{var vt=xt-mt;at=et(_e(0,at+.5-mt),xt-mt);var gt=-vt/2+at,Et=vt/2;pt=Math.sqrt(1-gt*gt/(Et*Et))}pt=dt(pt)}else yt===6?(xt===mt?pt=0:(at=et(_e(0,at+.5-mt),xt-mt),pt=(1+Math.cos(Math.PI+Math.PI*2*at/(xt-mt)))/2),pt=dt(pt)):(at>=rt(mt)&&(at-mt<0?pt=_e(0,et(et(xt,1)-(mt-at),1)):pt=_e(0,et(xt-at,1))),pt=dt(pt));if(this.sm.v!==100){var jt=this.sm.v*.01;jt===0&&(jt=1e-8);var kt=.5-jt*.5;pt<kt?pt=0:(pt=(pt-kt)/jt,pt>1&&(pt=1))}return pt*this.a.v},getValue:function(at){this.iterateDynamicProperties(),this._mdf=at||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,at&&this.data.r===2&&(this.e.v=this._currentTextLength);var ot=this.data.r===2?1:100/this.data.totalChars,lt=this.o.v/ot,ct=this.s.v/ot+lt,ut=this.e.v/ot+lt;if(ct>ut){var dt=ct;ct=ut,ut=dt}this.finalS=ct,this.finalE=ut}},extendPrototype([DynamicPropertyContainer],nt);function st(it,at,ot){return new nt(it,at)}return{getTextSelectorProp:st}}();function TextAnimatorDataProperty(_e,et,rt){var nt={propType:!1},st=PropertyFactory.getProp,it=et.a;this.a={r:it.r?st(_e,it.r,0,degToRads,rt):nt,rx:it.rx?st(_e,it.rx,0,degToRads,rt):nt,ry:it.ry?st(_e,it.ry,0,degToRads,rt):nt,sk:it.sk?st(_e,it.sk,0,degToRads,rt):nt,sa:it.sa?st(_e,it.sa,0,degToRads,rt):nt,s:it.s?st(_e,it.s,1,.01,rt):nt,a:it.a?st(_e,it.a,1,0,rt):nt,o:it.o?st(_e,it.o,0,.01,rt):nt,p:it.p?st(_e,it.p,1,0,rt):nt,sw:it.sw?st(_e,it.sw,0,0,rt):nt,sc:it.sc?st(_e,it.sc,1,0,rt):nt,fc:it.fc?st(_e,it.fc,1,0,rt):nt,fh:it.fh?st(_e,it.fh,0,0,rt):nt,fs:it.fs?st(_e,it.fs,0,.01,rt):nt,fb:it.fb?st(_e,it.fb,0,.01,rt):nt,t:it.t?st(_e,it.t,0,0,rt):nt},this.s=TextSelectorProp.getTextSelectorProp(_e,et.s,rt),this.s.t=et.s.t}function TextAnimatorProperty(_e,et,rt){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=_e,this._renderType=et,this._elem=rt,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(rt)}TextAnimatorProperty.prototype.searchProperties=function(){var _e,et=this._textData.a.length,rt,nt=PropertyFactory.getProp;for(_e=0;_e<et;_e+=1)rt=this._textData.a[_e],this._animatorsData[_e]=new TextAnimatorDataProperty(this._elem,rt,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:nt(this._elem,this._textData.p.a,0,0,this),f:nt(this._elem,this._textData.p.f,0,0,this),l:nt(this._elem,this._textData.p.l,0,0,this),r:nt(this._elem,this._textData.p.r,0,0,this),p:nt(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=nt(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(_e,et){if(this.lettersChangedFlag=et,!(!this._mdf&&!this._isFirstFrame&&!et&&(!this._hasMaskedPath||!this._pathData.m._mdf))){this._isFirstFrame=!1;var rt=this._moreOptions.alignment.v,nt=this._animatorsData,st=this._textData,it=this.mHelper,at=this._renderType,ot=this.renderedLetters.length,lt,ct,ut,dt,pt=_e.l,mt,xt,yt,vt,gt,Et,jt,kt,Rt,St,_t,Nt,Lt,$t,Ft;if(this._hasMaskedPath){if(Ft=this._pathData.m,!this._pathData.n||this._pathData._mdf){var Tt=Ft.v;this._pathData.r.v&&(Tt=Tt.reverse()),mt={tLength:0,segments:[]},dt=Tt._length-1;var Bt;for(Nt=0,ut=0;ut<dt;ut+=1)Bt=bez.buildBezierData(Tt.v[ut],Tt.v[ut+1],[Tt.o[ut][0]-Tt.v[ut][0],Tt.o[ut][1]-Tt.v[ut][1]],[Tt.i[ut+1][0]-Tt.v[ut+1][0],Tt.i[ut+1][1]-Tt.v[ut+1][1]]),mt.tLength+=Bt.segmentLength,mt.segments.push(Bt),Nt+=Bt.segmentLength;ut=dt,Ft.v.c&&(Bt=bez.buildBezierData(Tt.v[ut],Tt.v[0],[Tt.o[ut][0]-Tt.v[ut][0],Tt.o[ut][1]-Tt.v[ut][1]],[Tt.i[0][0]-Tt.v[0][0],Tt.i[0][1]-Tt.v[0][1]]),mt.tLength+=Bt.segmentLength,mt.segments.push(Bt),Nt+=Bt.segmentLength),this._pathData.pi=mt}if(mt=this._pathData.pi,xt=this._pathData.f.v,jt=0,Et=1,vt=0,gt=!0,St=mt.segments,xt<0&&Ft.v.c)for(mt.tLength<Math.abs(xt)&&(xt=-Math.abs(xt)%mt.tLength),jt=St.length-1,Rt=St[jt].points,Et=Rt.length-1;xt<0;)xt+=Rt[Et].partialLength,Et-=1,Et<0&&(jt-=1,Rt=St[jt].points,Et=Rt.length-1);Rt=St[jt].points,kt=Rt[Et-1],yt=Rt[Et],_t=yt.partialLength}dt=pt.length,lt=0,ct=0;var Wt=_e.finalSize*1.2*.714,qt=!0,Ot,Dt,Pt,It,At;It=nt.length;var Ht,Gt=-1,Vt,Jt,rr,ar=xt,mr=jt,Er=Et,or=-1,yr,vr,Zt,pr,lr,wr,Rr,Tr,Nr="",Mr=this.defaultPropsArray,Dr;if(_e.j===2||_e.j===1){var Kt=0,Qt=0,ir=_e.j===2?-.5:-1,dr=0,ur=!0;for(ut=0;ut<dt;ut+=1)if(pt[ut].n){for(Kt&&(Kt+=Qt);dr<ut;)pt[dr].animatorJustifyOffset=Kt,dr+=1;Kt=0,ur=!0}else{for(Pt=0;Pt<It;Pt+=1)Ot=nt[Pt].a,Ot.t.propType&&(ur&&_e.j===2&&(Qt+=Ot.t.v*ir),Dt=nt[Pt].s,Ht=Dt.getMult(pt[ut].anIndexes[Pt],st.a[Pt].s.totalChars),Ht.length?Kt+=Ot.t.v*Ht[0]*ir:Kt+=Ot.t.v*Ht*ir);ur=!1}for(Kt&&(Kt+=Qt);dr<ut;)pt[dr].animatorJustifyOffset=Kt,dr+=1}for(ut=0;ut<dt;ut+=1){if(it.reset(),yr=1,pt[ut].n)lt=0,ct+=_e.yOffset,ct+=qt?1:0,xt=ar,qt=!1,this._hasMaskedPath&&(jt=mr,Et=Er,Rt=St[jt].points,kt=Rt[Et-1],yt=Rt[Et],_t=yt.partialLength,vt=0),Nr="",Tr="",wr="",Dr="",Mr=this.defaultPropsArray;else{if(this._hasMaskedPath){if(or!==pt[ut].line){switch(_e.j){case 1:xt+=Nt-_e.lineWidths[pt[ut].line];break;case 2:xt+=(Nt-_e.lineWidths[pt[ut].line])/2;break}or=pt[ut].line}Gt!==pt[ut].ind&&(pt[Gt]&&(xt+=pt[Gt].extra),xt+=pt[ut].an/2,Gt=pt[ut].ind),xt+=rt[0]*pt[ut].an*.005;var Xt=0;for(Pt=0;Pt<It;Pt+=1)Ot=nt[Pt].a,Ot.p.propType&&(Dt=nt[Pt].s,Ht=Dt.getMult(pt[ut].anIndexes[Pt],st.a[Pt].s.totalChars),Ht.length?Xt+=Ot.p.v[0]*Ht[0]:Xt+=Ot.p.v[0]*Ht),Ot.a.propType&&(Dt=nt[Pt].s,Ht=Dt.getMult(pt[ut].anIndexes[Pt],st.a[Pt].s.totalChars),Ht.length?Xt+=Ot.a.v[0]*Ht[0]:Xt+=Ot.a.v[0]*Ht);for(gt=!0,this._pathData.a.v&&(xt=pt[0].an*.5+(Nt-this._pathData.f.v-pt[0].an*.5-pt[pt.length-1].an*.5)*Gt/(dt-1),xt+=this._pathData.f.v);gt;)vt+_t>=xt+Xt||!Rt?(Lt=(xt+Xt-vt)/yt.partialLength,Jt=kt.point[0]+(yt.point[0]-kt.point[0])*Lt,rr=kt.point[1]+(yt.point[1]-kt.point[1])*Lt,it.translate(-rt[0]*pt[ut].an*.005,-(rt[1]*Wt)*.01),gt=!1):Rt&&(vt+=yt.partialLength,Et+=1,Et>=Rt.length&&(Et=0,jt+=1,St[jt]?Rt=St[jt].points:Ft.v.c?(Et=0,jt=0,Rt=St[jt].points):(vt-=yt.partialLength,Rt=null)),Rt&&(kt=yt,yt=Rt[Et],_t=yt.partialLength));Vt=pt[ut].an/2-pt[ut].add,it.translate(-Vt,0,0)}else Vt=pt[ut].an/2-pt[ut].add,it.translate(-Vt,0,0),it.translate(-rt[0]*pt[ut].an*.005,-rt[1]*Wt*.01,0);for(Pt=0;Pt<It;Pt+=1)Ot=nt[Pt].a,Ot.t.propType&&(Dt=nt[Pt].s,Ht=Dt.getMult(pt[ut].anIndexes[Pt],st.a[Pt].s.totalChars),(lt!==0||_e.j!==0)&&(this._hasMaskedPath?Ht.length?xt+=Ot.t.v*Ht[0]:xt+=Ot.t.v*Ht:Ht.length?lt+=Ot.t.v*Ht[0]:lt+=Ot.t.v*Ht));for(_e.strokeWidthAnim&&(Zt=_e.sw||0),_e.strokeColorAnim&&(_e.sc?vr=[_e.sc[0],_e.sc[1],_e.sc[2]]:vr=[0,0,0]),_e.fillColorAnim&&_e.fc&&(pr=[_e.fc[0],_e.fc[1],_e.fc[2]]),Pt=0;Pt<It;Pt+=1)Ot=nt[Pt].a,Ot.a.propType&&(Dt=nt[Pt].s,Ht=Dt.getMult(pt[ut].anIndexes[Pt],st.a[Pt].s.totalChars),Ht.length?it.translate(-Ot.a.v[0]*Ht[0],-Ot.a.v[1]*Ht[1],Ot.a.v[2]*Ht[2]):it.translate(-Ot.a.v[0]*Ht,-Ot.a.v[1]*Ht,Ot.a.v[2]*Ht));for(Pt=0;Pt<It;Pt+=1)Ot=nt[Pt].a,Ot.s.propType&&(Dt=nt[Pt].s,Ht=Dt.getMult(pt[ut].anIndexes[Pt],st.a[Pt].s.totalChars),Ht.length?it.scale(1+(Ot.s.v[0]-1)*Ht[0],1+(Ot.s.v[1]-1)*Ht[1],1):it.scale(1+(Ot.s.v[0]-1)*Ht,1+(Ot.s.v[1]-1)*Ht,1));for(Pt=0;Pt<It;Pt+=1){if(Ot=nt[Pt].a,Dt=nt[Pt].s,Ht=Dt.getMult(pt[ut].anIndexes[Pt],st.a[Pt].s.totalChars),Ot.sk.propType&&(Ht.length?it.skewFromAxis(-Ot.sk.v*Ht[0],Ot.sa.v*Ht[1]):it.skewFromAxis(-Ot.sk.v*Ht,Ot.sa.v*Ht)),Ot.r.propType&&(Ht.length?it.rotateZ(-Ot.r.v*Ht[2]):it.rotateZ(-Ot.r.v*Ht)),Ot.ry.propType&&(Ht.length?it.rotateY(Ot.ry.v*Ht[1]):it.rotateY(Ot.ry.v*Ht)),Ot.rx.propType&&(Ht.length?it.rotateX(Ot.rx.v*Ht[0]):it.rotateX(Ot.rx.v*Ht)),Ot.o.propType&&(Ht.length?yr+=(Ot.o.v*Ht[0]-yr)*Ht[0]:yr+=(Ot.o.v*Ht-yr)*Ht),_e.strokeWidthAnim&&Ot.sw.propType&&(Ht.length?Zt+=Ot.sw.v*Ht[0]:Zt+=Ot.sw.v*Ht),_e.strokeColorAnim&&Ot.sc.propType)for(lr=0;lr<3;lr+=1)Ht.length?vr[lr]+=(Ot.sc.v[lr]-vr[lr])*Ht[0]:vr[lr]+=(Ot.sc.v[lr]-vr[lr])*Ht;if(_e.fillColorAnim&&_e.fc){if(Ot.fc.propType)for(lr=0;lr<3;lr+=1)Ht.length?pr[lr]+=(Ot.fc.v[lr]-pr[lr])*Ht[0]:pr[lr]+=(Ot.fc.v[lr]-pr[lr])*Ht;Ot.fh.propType&&(Ht.length?pr=addHueToRGB(pr,Ot.fh.v*Ht[0]):pr=addHueToRGB(pr,Ot.fh.v*Ht)),Ot.fs.propType&&(Ht.length?pr=addSaturationToRGB(pr,Ot.fs.v*Ht[0]):pr=addSaturationToRGB(pr,Ot.fs.v*Ht)),Ot.fb.propType&&(Ht.length?pr=addBrightnessToRGB(pr,Ot.fb.v*Ht[0]):pr=addBrightnessToRGB(pr,Ot.fb.v*Ht))}}for(Pt=0;Pt<It;Pt+=1)Ot=nt[Pt].a,Ot.p.propType&&(Dt=nt[Pt].s,Ht=Dt.getMult(pt[ut].anIndexes[Pt],st.a[Pt].s.totalChars),this._hasMaskedPath?Ht.length?it.translate(0,Ot.p.v[1]*Ht[0],-Ot.p.v[2]*Ht[1]):it.translate(0,Ot.p.v[1]*Ht,-Ot.p.v[2]*Ht):Ht.length?it.translate(Ot.p.v[0]*Ht[0],Ot.p.v[1]*Ht[1],-Ot.p.v[2]*Ht[2]):it.translate(Ot.p.v[0]*Ht,Ot.p.v[1]*Ht,-Ot.p.v[2]*Ht));if(_e.strokeWidthAnim&&(wr=Zt<0?0:Zt),_e.strokeColorAnim&&(Rr="rgb("+Math.round(vr[0]*255)+","+Math.round(vr[1]*255)+","+Math.round(vr[2]*255)+")"),_e.fillColorAnim&&_e.fc&&(Tr="rgb("+Math.round(pr[0]*255)+","+Math.round(pr[1]*255)+","+Math.round(pr[2]*255)+")"),this._hasMaskedPath){if(it.translate(0,-_e.ls),it.translate(0,rt[1]*Wt*.01+ct,0),this._pathData.p.v){$t=(yt.point[1]-kt.point[1])/(yt.point[0]-kt.point[0]);var nr=Math.atan($t)*180/Math.PI;yt.point[0]<kt.point[0]&&(nr+=180),it.rotate(-nr*Math.PI/180)}it.translate(Jt,rr,0),xt-=rt[0]*pt[ut].an*.005,pt[ut+1]&&Gt!==pt[ut+1].ind&&(xt+=pt[ut].an/2,xt+=_e.tr*.001*_e.finalSize)}else{switch(it.translate(lt,ct,0),_e.ps&&it.translate(_e.ps[0],_e.ps[1]+_e.ascent,0),_e.j){case 1:it.translate(pt[ut].animatorJustifyOffset+_e.justifyOffset+(_e.boxWidth-_e.lineWidths[pt[ut].line]),0,0);break;case 2:it.translate(pt[ut].animatorJustifyOffset+_e.justifyOffset+(_e.boxWidth-_e.lineWidths[pt[ut].line])/2,0,0);break}it.translate(0,-_e.ls),it.translate(Vt,0,0),it.translate(rt[0]*pt[ut].an*.005,rt[1]*Wt*.01,0),lt+=pt[ut].l+_e.tr*.001*_e.finalSize}at==="html"?Nr=it.toCSS():at==="svg"?Nr=it.to2dCSS():Mr=[it.props[0],it.props[1],it.props[2],it.props[3],it.props[4],it.props[5],it.props[6],it.props[7],it.props[8],it.props[9],it.props[10],it.props[11],it.props[12],it.props[13],it.props[14],it.props[15]],Dr=yr}ot<=ut?(At=new LetterProps(Dr,wr,Rr,Tr,Nr,Mr),this.renderedLetters.push(At),ot+=1,this.lettersChangedFlag=!0):(At=this.renderedLetters[ut],this.lettersChangedFlag=At.update(Dr,wr,Rr,Tr,Nr,Mr)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty);function ITextElement(){}ITextElement.prototype.initElement=function(_e,et,rt){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(_e,et,rt),this.textProperty=new TextProperty(this,_e.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(_e.t,this.renderType,this),this.initTransform(_e,et,rt),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(_e){this._mdf=!1,this.prepareRenderableFrame(_e),this.prepareProperties(_e,this.isInRange)},ITextElement.prototype.createPathShape=function(_e,et){var rt,nt=et.length,st,it="";for(rt=0;rt<nt;rt+=1)et[rt].ty==="sh"&&(st=et[rt].ks.k,it+=buildShapeString(st,st.i.length,!0,_e));return it},ITextElement.prototype.updateDocumentData=function(_e,et){this.textProperty.updateDocumentData(_e,et)},ITextElement.prototype.canResizeFont=function(_e){this.textProperty.canResizeFont(_e)},ITextElement.prototype.setMinimumFontSize=function(_e){this.textProperty.setMinimumFontSize(_e)},ITextElement.prototype.applyTextPropertiesToMatrix=function(_e,et,rt,nt,st){switch(_e.ps&&et.translate(_e.ps[0],_e.ps[1]+_e.ascent,0),et.translate(0,-_e.ls,0),_e.j){case 1:et.translate(_e.justifyOffset+(_e.boxWidth-_e.lineWidths[rt]),0,0);break;case 2:et.translate(_e.justifyOffset+(_e.boxWidth-_e.lineWidths[rt])/2,0,0);break}et.translate(nt,st,0)},ITextElement.prototype.buildColor=function(_e){return"rgb("+Math.round(_e[0]*255)+","+Math.round(_e[1]*255)+","+Math.round(_e[2]*255)+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},ITextElement.prototype.validateText=function(){(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)};var emptyShapeData={shapes:[]};function SVGTextLottieElement(_e,et,rt){this.textSpans=[],this.renderType="svg",this.initElement(_e,et,rt)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(_e){for(var et=0,rt=_e.length,nt=[],st="";et<rt;)_e[et]==="\r"||_e[et]===""?(nt.push(st),st=""):st+=_e[et],et+=1;return nt.push(st),nt},SVGTextLottieElement.prototype.buildShapeData=function(_e,et){if(_e.shapes&&_e.shapes.length){var rt=_e.shapes[0];if(rt.it){var nt=rt.it[rt.it.length-1];nt.s&&(nt.s.k[0]=et,nt.s.k[1]=et)}}return _e},SVGTextLottieElement.prototype.buildNewText=function(){this.addDynamicProperty(this);var _e,et,rt=this.textProperty.currentData;this.renderedLetters=createSizedArray(rt?rt.l.length:0),rt.fc?this.layerElement.setAttribute("fill",this.buildColor(rt.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),rt.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(rt.sc)),this.layerElement.setAttribute("stroke-width",rt.sw)),this.layerElement.setAttribute("font-size",rt.finalSize);var nt=this.globalData.fontManager.getFontByName(rt.f);if(nt.fClass)this.layerElement.setAttribute("class",nt.fClass);else{this.layerElement.setAttribute("font-family",nt.fFamily);var st=rt.fWeight,it=rt.fStyle;this.layerElement.setAttribute("font-style",it),this.layerElement.setAttribute("font-weight",st)}this.layerElement.setAttribute("aria-label",rt.t);var at=rt.l||[],ot=!!this.globalData.fontManager.chars;et=at.length;var lt,ct=this.mHelper,ut="",dt=this.data.singleShape,pt=0,mt=0,xt=!0,yt=rt.tr*.001*rt.finalSize;if(dt&&!ot&&!rt.sz){var vt=this.textContainer,gt="start";switch(rt.j){case 1:gt="end";break;case 2:gt="middle";break;default:gt="start";break}vt.setAttribute("text-anchor",gt),vt.setAttribute("letter-spacing",yt);var Et=this.buildTextContents(rt.finalText);for(et=Et.length,mt=rt.ps?rt.ps[1]+rt.ascent:0,_e=0;_e<et;_e+=1)lt=this.textSpans[_e].span||createNS("tspan"),lt.textContent=Et[_e],lt.setAttribute("x",0),lt.setAttribute("y",mt),lt.style.display="inherit",vt.appendChild(lt),this.textSpans[_e]||(this.textSpans[_e]={span:null,glyph:null}),this.textSpans[_e].span=lt,mt+=rt.finalLineHeight;this.layerElement.appendChild(vt)}else{var jt=this.textSpans.length,kt;for(_e=0;_e<et;_e+=1){if(this.textSpans[_e]||(this.textSpans[_e]={span:null,childSpan:null,glyph:null}),!ot||!dt||_e===0){if(lt=jt>_e?this.textSpans[_e].span:createNS(ot?"g":"text"),jt<=_e){if(lt.setAttribute("stroke-linecap","butt"),lt.setAttribute("stroke-linejoin","round"),lt.setAttribute("stroke-miterlimit","4"),this.textSpans[_e].span=lt,ot){var Rt=createNS("g");lt.appendChild(Rt),this.textSpans[_e].childSpan=Rt}this.textSpans[_e].span=lt,this.layerElement.appendChild(lt)}lt.style.display="inherit"}if(ct.reset(),dt&&(at[_e].n&&(pt=-yt,mt+=rt.yOffset,mt+=xt?1:0,xt=!1),this.applyTextPropertiesToMatrix(rt,ct,at[_e].line,pt,mt),pt+=at[_e].l||0,pt+=yt),ot){kt=this.globalData.fontManager.getCharData(rt.finalText[_e],nt.fStyle,this.globalData.fontManager.getFontByName(rt.f).fFamily);var St;if(kt.t===1)St=new SVGCompElement(kt.data,this.globalData,this);else{var _t=emptyShapeData;kt.data&&kt.data.shapes&&(_t=this.buildShapeData(kt.data,rt.finalSize)),St=new SVGShapeElement(_t,this.globalData,this)}if(this.textSpans[_e].glyph){var Nt=this.textSpans[_e].glyph;this.textSpans[_e].childSpan.removeChild(Nt.layerElement),Nt.destroy()}this.textSpans[_e].glyph=St,St._debug=!0,St.prepareFrame(0),St.renderFrame(),this.textSpans[_e].childSpan.appendChild(St.layerElement),kt.t===1&&this.textSpans[_e].childSpan.setAttribute("transform","scale("+rt.finalSize/100+","+rt.finalSize/100+")")}else dt&&lt.setAttribute("transform","translate("+ct.props[12]+","+ct.props[13]+")"),lt.textContent=at[_e].val,lt.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}dt&&lt&&lt.setAttribute("d",ut)}for(;_e<this.textSpans.length;)this.textSpans[_e].span.style.display="none",_e+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var _e=this.layerElement.getBBox();this.bbox={top:_e.y,left:_e.x,width:_e.width,height:_e.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var _e,et=this.textSpans.length,rt;for(this.renderedFrame=this.comp.renderedFrame,_e=0;_e<et;_e+=1)rt=this.textSpans[_e].glyph,rt&&(rt.prepareFrame(this.comp.renderedFrame-this.data.st),rt._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if(this.validateText(),(!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var _e,et,rt=this.textAnimator.renderedLetters,nt=this.textProperty.currentData.l;et=nt.length;var st,it,at;for(_e=0;_e<et;_e+=1)nt[_e].n||(st=rt[_e],it=this.textSpans[_e].span,at=this.textSpans[_e].glyph,at&&at.renderFrame(),st._mdf.m&&it.setAttribute("transform",st.m),st._mdf.o&&it.setAttribute("opacity",st.o),st._mdf.sw&&it.setAttribute("stroke-width",st.sw),st._mdf.sc&&it.setAttribute("stroke",st.sc),st._mdf.fc&&it.setAttribute("fill",st.fc))}};function ISolidElement(_e,et,rt){this.initElement(_e,et,rt)}extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var _e=createNS("rect");_e.setAttribute("width",this.data.sw),_e.setAttribute("height",this.data.sh),_e.setAttribute("fill",this.data.sc),this.layerElement.appendChild(_e)};function NullElement(_e,et,rt){this.initFrame(),this.initBaseData(_e,et,rt),this.initFrame(),this.initTransform(_e,et,rt),this.initHierarchy()}NullElement.prototype.prepareFrame=function(_e){this.prepareProperties(_e,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement);function SVGRendererBase(){}extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(_e){return new NullElement(_e,this.globalData,this)},SVGRendererBase.prototype.createShape=function(_e){return new SVGShapeElement(_e,this.globalData,this)},SVGRendererBase.prototype.createText=function(_e){return new SVGTextLottieElement(_e,this.globalData,this)},SVGRendererBase.prototype.createImage=function(_e){return new IImageElement(_e,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(_e){return new ISolidElement(_e,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(_e){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+_e.w+" "+_e.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",_e.w),this.svgElement.setAttribute("height",_e.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),this.renderConfig.focusable!==void 0&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var et=this.globalData.defs;this.setupGlobalData(_e,et),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=_e;var rt=createNS("clipPath"),nt=createNS("rect");nt.setAttribute("width",_e.w),nt.setAttribute("height",_e.h),nt.setAttribute("x",0),nt.setAttribute("y",0);var st=createElementID();rt.setAttribute("id",st),rt.appendChild(nt),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+st+")"),et.appendChild(rt),this.layers=_e.layers,this.elements=createSizedArray(_e.layers.length)},SVGRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var _e,et=this.layers?this.layers.length:0;for(_e=0;_e<et;_e+=1)this.elements[_e]&&this.elements[_e].destroy&&this.elements[_e].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(_e){var et=0,rt=this.layers.length;for(et=0;et<rt;et+=1)if(this.layers[et].ind===_e)return et;return-1},SVGRendererBase.prototype.buildItem=function(_e){var et=this.elements;if(!(et[_e]||this.layers[_e].ty===99)){et[_e]=!0;var rt=this.createItem(this.layers[_e]);if(et[_e]=rt,getExpressionsPlugin()&&(this.layers[_e].ty===0&&this.globalData.projectInterface.registerComposition(rt),rt.initExpressions()),this.appendElementInPos(rt,_e),this.layers[_e].tt){var nt="tp"in this.layers[_e]?this.findIndexByInd(this.layers[_e].tp):_e-1;if(nt===-1)return;if(!this.elements[nt]||this.elements[nt]===!0)this.buildItem(nt),this.addPendingElement(rt);else{var st=et[nt],it=st.getMatte(this.layers[_e].tt);rt.setMatte(it)}}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var _e=this.pendingElements.pop();if(_e.checkParenting(),_e.data.tt)for(var et=0,rt=this.elements.length;et<rt;){if(this.elements[et]===_e){var nt="tp"in _e.data?this.findIndexByInd(_e.data.tp):et-1,st=this.elements[nt],it=st.getMatte(this.layers[et].tt);_e.setMatte(it);break}et+=1}}},SVGRendererBase.prototype.renderFrame=function(_e){if(!(this.renderedFrame===_e||this.destroyed)){_e===null?_e=this.renderedFrame:this.renderedFrame=_e,this.globalData.frameNum=_e,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=_e,this.globalData._mdf=!1;var et,rt=this.layers.length;for(this.completeLayers||this.checkLayers(_e),et=rt-1;et>=0;et-=1)(this.completeLayers||this.elements[et])&&this.elements[et].prepareFrame(_e-this.layers[et].st);if(this.globalData._mdf)for(et=0;et<rt;et+=1)(this.completeLayers||this.elements[et])&&this.elements[et].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(_e,et){var rt=_e.getBaseElement();if(rt){for(var nt=0,st;nt<et;)this.elements[nt]&&this.elements[nt]!==!0&&this.elements[nt].getBaseElement()&&(st=this.elements[nt].getBaseElement()),nt+=1;st?this.layerElement.insertBefore(rt,st):this.layerElement.appendChild(rt)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"};function ICompElement(){}extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(_e,et,rt){this.initFrame(),this.initBaseData(_e,et,rt),this.initTransform(_e,et,rt),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),(this.data.xt||!et.progressiveLoad)&&this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(_e){if(this._mdf=!1,this.prepareRenderableFrame(_e),this.prepareProperties(_e,this.isInRange),!(!this.isInRange&&!this.data.xt)){if(this.tm._placeholder)this.renderedFrame=_e/this.data.sr;else{var et=this.tm.v;et===this.data.op&&(et=this.data.op-1),this.renderedFrame=et}var rt,nt=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),rt=nt-1;rt>=0;rt-=1)(this.completeLayers||this.elements[rt])&&(this.elements[rt].prepareFrame(this.renderedFrame-this.layers[rt].st),this.elements[rt]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var _e,et=this.layers.length;for(_e=0;_e<et;_e+=1)(this.completeLayers||this.elements[_e])&&this.elements[_e].renderFrame()},ICompElement.prototype.setElements=function(_e){this.elements=_e},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var _e,et=this.layers.length;for(_e=0;_e<et;_e+=1)this.elements[_e]&&this.elements[_e].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()};function SVGCompElement(_e,et,rt){this.layers=_e.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(_e,et,rt),this.tm=_e.tm?PropertyFactory.getProp(this,_e.tm,0,et.frameRate,this):{_placeholder:!0}}extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(_e){return new SVGCompElement(_e,this.globalData,this)};function SVGRenderer(_e,et){this.animationItem=_e,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var rt="";if(et&&et.title){var nt=createNS("title"),st=createElementID();nt.setAttribute("id",st),nt.textContent=et.title,this.svgElement.appendChild(nt),rt+=st}if(et&&et.description){var it=createNS("desc"),at=createElementID();it.setAttribute("id",at),it.textContent=et.description,this.svgElement.appendChild(it),rt+=" "+at}rt&&this.svgElement.setAttribute("aria-labelledby",rt);var ot=createNS("defs");this.svgElement.appendChild(ot);var lt=createNS("g");this.svgElement.appendChild(lt),this.layerElement=lt,this.renderConfig={preserveAspectRatio:et&&et.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:et&&et.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:et&&et.contentVisibility||"visible",progressiveLoad:et&&et.progressiveLoad||!1,hideOnTransparent:!(et&&et.hideOnTransparent===!1),viewBoxOnly:et&&et.viewBoxOnly||!1,viewBoxSize:et&&et.viewBoxSize||!1,className:et&&et.className||"",id:et&&et.id||"",focusable:et&&et.focusable,filterSize:{width:et&&et.filterSize&&et.filterSize.width||"100%",height:et&&et.filterSize&&et.filterSize.height||"100%",x:et&&et.filterSize&&et.filterSize.x||"0%",y:et&&et.filterSize&&et.filterSize.y||"0%"},width:et&&et.width,height:et&&et.height,runExpressions:!et||et.runExpressions===void 0||et.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:ot,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(_e){return new SVGCompElement(_e,this.globalData,this)};function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}ShapeTransformManager.prototype={addTransformSequence:function(et){var rt,nt=et.length,st="_";for(rt=0;rt<nt;rt+=1)st+=et[rt].transform.key+"_";var it=this.sequences[st];return it||(it={transforms:[].concat(et),finalTransform:new Matrix,_mdf:!1},this.sequences[st]=it,this.sequenceList.push(it)),it},processSequence:function(et,rt){for(var nt=0,st=et.transforms.length,it=rt;nt<st&&!rt;){if(et.transforms[nt].transform.mProps._mdf){it=!0;break}nt+=1}if(it)for(et.finalTransform.reset(),nt=st-1;nt>=0;nt-=1)et.finalTransform.multiply(et.transforms[nt].transform.mProps.v);et._mdf=it},processSequences:function(et){var rt,nt=this.sequenceList.length;for(rt=0;rt<nt;rt+=1)this.processSequence(this.sequenceList[rt],et)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var et="__lottie_element_luma_buffer",rt=null,nt=null,st=null;function it(){var lt=createNS("svg"),ct=createNS("filter"),ut=createNS("feColorMatrix");return ct.setAttribute("id",et),ut.setAttribute("type","matrix"),ut.setAttribute("color-interpolation-filters","sRGB"),ut.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),ct.appendChild(ut),lt.appendChild(ct),lt.setAttribute("id",et+"_svg"),featureSupport.svgLumaHidden&&(lt.style.display="none"),lt}function at(){rt||(st=it(),document.body.appendChild(st),rt=createTag("canvas"),nt=rt.getContext("2d"),nt.filter="url(#"+et+")",nt.fillStyle="rgba(0,0,0,0)",nt.fillRect(0,0,1,1))}function ot(lt){return rt||at(),rt.width=lt.width,rt.height=lt.height,nt.filter="url(#"+et+")",rt}return{load:at,get:ot}};function createCanvas(_e,et){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(_e,et);var rt=createTag("canvas");return rt.width=_e,rt.height=et,rt}var assetLoader=function(){return{loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas}}(),registeredEffects={};function CVEffects(_e){var et,rt=_e.data.ef?_e.data.ef.length:0;this.filters=[];var nt;for(et=0;et<rt;et+=1){nt=null;var st=_e.data.ef[et].ty;if(registeredEffects[st]){var it=registeredEffects[st].effect;nt=new it(_e.effectsManager.effectElements[et],_e)}nt&&this.filters.push(nt)}this.filters.length&&_e.addRenderableComponent(this)}CVEffects.prototype.renderFrame=function(_e){var et,rt=this.filters.length;for(et=0;et<rt;et+=1)this.filters[et].renderFrame(_e)},CVEffects.prototype.getEffects=function(_e){var et,rt=this.filters.length,nt=[];for(et=0;et<rt;et+=1)this.filters[et].type===_e&&nt.push(this.filters[et]);return nt};function registerEffect(_e,et){registeredEffects[_e]={effect:et}}function CVMaskElement(_e,et){this.data=_e,this.element=et,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var rt,nt=this.masksProperties.length,st=!1;for(rt=0;rt<nt;rt+=1)this.masksProperties[rt].mode!=="n"&&(st=!0),this.viewData[rt]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[rt],3);this.hasMasks=st,st&&this.element.addRenderableComponent(this)}CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var _e=this.element.finalTransform.mat,et=this.element.canvasContext,rt,nt=this.masksProperties.length,st,it,at;for(et.beginPath(),rt=0;rt<nt;rt+=1)if(this.masksProperties[rt].mode!=="n"){this.masksProperties[rt].inv&&(et.moveTo(0,0),et.lineTo(this.element.globalData.compSize.w,0),et.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),et.lineTo(0,this.element.globalData.compSize.h),et.lineTo(0,0)),at=this.viewData[rt].v,st=_e.applyToPointArray(at.v[0][0],at.v[0][1],0),et.moveTo(st[0],st[1]);var ot,lt=at._length;for(ot=1;ot<lt;ot+=1)it=_e.applyToTriplePoints(at.o[ot-1],at.i[ot],at.v[ot]),et.bezierCurveTo(it[0],it[1],it[2],it[3],it[4],it[5]);it=_e.applyToTriplePoints(at.o[ot-1],at.i[0],at.v[0]),et.bezierCurveTo(it[0],it[1],it[2],it[3],it[4],it[5])}this.element.globalData.renderer.save(!0),et.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};function CVBaseElement(){}var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var et=this.globalData.canvasContext,rt=assetLoader.createCanvas(et.canvas.width,et.canvas.height);this.buffers.push(rt);var nt=assetLoader.createCanvas(et.canvas.width,et.canvas.height);this.buffers.push(nt),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects(this),this.searchEffectTransforms()},createContent:function(){},setBlendMode:function(){var et=this.globalData;if(et.blendMode!==this.data.bm){et.blendMode=this.data.bm;var rt=getBlendMode(this.data.bm);et.canvasContext.globalCompositeOperation=rt}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this),this.transformEffects=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT)},hideElement:function(){!this.hidden&&(!this.isInRange||this.isTransparent)&&(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(et){et.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var et=this.buffers[0],rt=et.getContext("2d");this.clearCanvas(rt),rt.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var et=this.buffers[1],rt=et.getContext("2d");this.clearCanvas(rt),rt.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform);var nt=this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1);if(nt.renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var st=assetLoader.getLumaCanvas(this.canvasContext.canvas),it=st.getContext("2d");it.drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(st,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(et,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(et){if(!(this.hidden||this.data.hd)&&!(this.data.td===1&&!et)){this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.setBlendMode();var rt=this.data.ty===0;this.prepareLayer(),this.globalData.renderer.save(rt),this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity),this.renderInnerContent(),this.globalData.renderer.restore(rt),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement;function CVShapeData(_e,et,rt,nt){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var st=4;et.ty==="rc"?st=5:et.ty==="el"?st=6:et.ty==="sr"&&(st=7),this.sh=ShapePropertyFactory.getShapeProp(_e,et,st,_e);var it,at=rt.length,ot;for(it=0;it<at;it+=1)rt[it].closed||(ot={transforms:nt.addTransformSequence(rt[it].transforms),trNodes:[]},this.styledShapes.push(ot),rt[it].elements.push(ot))}CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated;function CVShapeElement(_e,et,rt){this.shapes=[],this.shapesData=_e.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(_e,et,rt)}extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(_e,et){var rt={data:_e,type:_e.ty,preTransforms:this.transformsManager.addTransformSequence(et),transforms:[],elements:[],closed:_e.hd===!0},nt={};if(_e.ty==="fl"||_e.ty==="st"?(nt.c=PropertyFactory.getProp(this,_e.c,1,255,this),nt.c.k||(rt.co="rgb("+bmFloor(nt.c.v[0])+","+bmFloor(nt.c.v[1])+","+bmFloor(nt.c.v[2])+")")):(_e.ty==="gf"||_e.ty==="gs")&&(nt.s=PropertyFactory.getProp(this,_e.s,1,null,this),nt.e=PropertyFactory.getProp(this,_e.e,1,null,this),nt.h=PropertyFactory.getProp(this,_e.h||{k:0},0,.01,this),nt.a=PropertyFactory.getProp(this,_e.a||{k:0},0,degToRads,this),nt.g=new GradientProperty(this,_e.g,this)),nt.o=PropertyFactory.getProp(this,_e.o,0,.01,this),_e.ty==="st"||_e.ty==="gs"){if(rt.lc=lineCapEnum[_e.lc||2],rt.lj=lineJoinEnum[_e.lj||2],_e.lj==1&&(rt.ml=_e.ml),nt.w=PropertyFactory.getProp(this,_e.w,0,null,this),nt.w.k||(rt.wi=nt.w.v),_e.d){var st=new DashProperty(this,_e.d,"canvas",this);nt.d=st,nt.d.k||(rt.da=nt.d.dashArray,rt.do=nt.d.dashoffset[0])}}else rt.r=_e.r===2?"evenodd":"nonzero";return this.stylesList.push(rt),nt.style=rt,nt},CVShapeElement.prototype.createGroupElement=function(){var _e={it:[],prevViewData:[]};return _e},CVShapeElement.prototype.createTransformElement=function(_e){var et={transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,_e.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,_e,this)}};return et},CVShapeElement.prototype.createShapeElement=function(_e){var et=new CVShapeData(this,_e,this.stylesList,this.transformsManager);return this.shapes.push(et),this.addShapeToModifiers(et),et},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var _e,et=this.itemsData.length;for(_e=0;_e<et;_e+=1)this.prevViewData[_e]=this.itemsData[_e];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),et=this.dynamicProperties.length,_e=0;_e<et;_e+=1)this.dynamicProperties[_e].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(_e){var et,rt=this.stylesList.length;for(et=0;et<rt;et+=1)this.stylesList[et].closed||this.stylesList[et].transforms.push(_e)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var _e,et=this.stylesList.length;for(_e=0;_e<et;_e+=1)this.stylesList[_e].closed||this.stylesList[_e].transforms.pop()},CVShapeElement.prototype.closeStyles=function(_e){var et,rt=_e.length;for(et=0;et<rt;et+=1)_e[et].closed=!0},CVShapeElement.prototype.searchShapes=function(_e,et,rt,nt,st){var it,at=_e.length-1,ot,lt,ct=[],ut=[],dt,pt,mt,xt=[].concat(st);for(it=at;it>=0;it-=1){if(dt=this.searchProcessedElement(_e[it]),dt?et[it]=rt[dt-1]:_e[it]._shouldRender=nt,_e[it].ty==="fl"||_e[it].ty==="st"||_e[it].ty==="gf"||_e[it].ty==="gs")dt?et[it].style.closed=!1:et[it]=this.createStyleElement(_e[it],xt),ct.push(et[it].style);else if(_e[it].ty==="gr"){if(!dt)et[it]=this.createGroupElement(_e[it]);else for(lt=et[it].it.length,ot=0;ot<lt;ot+=1)et[it].prevViewData[ot]=et[it].it[ot];this.searchShapes(_e[it].it,et[it].it,et[it].prevViewData,nt,xt)}else _e[it].ty==="tr"?(dt||(mt=this.createTransformElement(_e[it]),et[it]=mt),xt.push(et[it]),this.addTransformToStyleList(et[it])):_e[it].ty==="sh"||_e[it].ty==="rc"||_e[it].ty==="el"||_e[it].ty==="sr"?dt||(et[it]=this.createShapeElement(_e[it])):_e[it].ty==="tm"||_e[it].ty==="rd"||_e[it].ty==="pb"||_e[it].ty==="zz"||_e[it].ty==="op"?(dt?(pt=et[it],pt.closed=!1):(pt=ShapeModifiers.getModifier(_e[it].ty),pt.init(this,_e[it]),et[it]=pt,this.shapeModifiers.push(pt)),ut.push(pt)):_e[it].ty==="rp"&&(dt?(pt=et[it],pt.closed=!0):(pt=ShapeModifiers.getModifier(_e[it].ty),et[it]=pt,pt.init(this,_e,it,et),this.shapeModifiers.push(pt),nt=!1),ut.push(pt));this.addProcessedElement(_e[it],it+1)}for(this.removeTransformFromStyleList(),this.closeStyles(ct),at=ut.length,it=0;it<at;it+=1)ut[it].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(_e,et){(_e._opMdf||et.op._mdf||this._isFirstFrame)&&(et.opacity=_e.opacity,et.opacity*=et.op.v,et._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var _e,et=this.stylesList.length,rt,nt,st,it,at,ot,lt=this.globalData.renderer,ct=this.globalData.canvasContext,ut,dt;for(_e=0;_e<et;_e+=1)if(dt=this.stylesList[_e],ut=dt.type,!((ut==="st"||ut==="gs")&&dt.wi===0||!dt.data._shouldRender||dt.coOp===0||this.globalData.currentGlobalAlpha===0)){for(lt.save(),at=dt.elements,ut==="st"||ut==="gs"?(lt.ctxStrokeStyle(ut==="st"?dt.co:dt.grd),lt.ctxLineWidth(dt.wi),lt.ctxLineCap(dt.lc),lt.ctxLineJoin(dt.lj),lt.ctxMiterLimit(dt.ml||0)):lt.ctxFillStyle(ut==="fl"?dt.co:dt.grd),lt.ctxOpacity(dt.coOp),ut!=="st"&&ut!=="gs"&&ct.beginPath(),lt.ctxTransform(dt.preTransforms.finalTransform.props),nt=at.length,rt=0;rt<nt;rt+=1){for((ut==="st"||ut==="gs")&&(ct.beginPath(),dt.da&&(ct.setLineDash(dt.da),ct.lineDashOffset=dt.do)),ot=at[rt].trNodes,it=ot.length,st=0;st<it;st+=1)ot[st].t==="m"?ct.moveTo(ot[st].p[0],ot[st].p[1]):ot[st].t==="c"?ct.bezierCurveTo(ot[st].pts[0],ot[st].pts[1],ot[st].pts[2],ot[st].pts[3],ot[st].pts[4],ot[st].pts[5]):ct.closePath();(ut==="st"||ut==="gs")&&(lt.ctxStroke(),dt.da&&ct.setLineDash(this.dashResetter))}ut!=="st"&&ut!=="gs"&&this.globalData.renderer.ctxFill(dt.r),lt.restore()}},CVShapeElement.prototype.renderShape=function(_e,et,rt,nt){var st,it=et.length-1,at;for(at=_e,st=it;st>=0;st-=1)et[st].ty==="tr"?(at=rt[st].transform,this.renderShapeTransform(_e,at)):et[st].ty==="sh"||et[st].ty==="el"||et[st].ty==="rc"||et[st].ty==="sr"?this.renderPath(et[st],rt[st]):et[st].ty==="fl"?this.renderFill(et[st],rt[st],at):et[st].ty==="st"?this.renderStroke(et[st],rt[st],at):et[st].ty==="gf"||et[st].ty==="gs"?this.renderGradientFill(et[st],rt[st],at):et[st].ty==="gr"?this.renderShape(at,et[st].it,rt[st].it):et[st].ty;nt&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(_e,et){if(this._isFirstFrame||et._mdf||_e.transforms._mdf){var rt=_e.trNodes,nt=et.paths,st,it,at,ot=nt._length;rt.length=0;var lt=_e.transforms.finalTransform;for(at=0;at<ot;at+=1){var ct=nt.shapes[at];if(ct&&ct.v){for(it=ct._length,st=1;st<it;st+=1)st===1&&rt.push({t:"m",p:lt.applyToPointArray(ct.v[0][0],ct.v[0][1],0)}),rt.push({t:"c",pts:lt.applyToTriplePoints(ct.o[st-1],ct.i[st],ct.v[st])});it===1&&rt.push({t:"m",p:lt.applyToPointArray(ct.v[0][0],ct.v[0][1],0)}),ct.c&&it&&(rt.push({t:"c",pts:lt.applyToTriplePoints(ct.o[st-1],ct.i[0],ct.v[0])}),rt.push({t:"z"}))}}_e.trNodes=rt}},CVShapeElement.prototype.renderPath=function(_e,et){if(_e.hd!==!0&&_e._shouldRender){var rt,nt=et.styledShapes.length;for(rt=0;rt<nt;rt+=1)this.renderStyledShape(et.styledShapes[rt],et.sh)}},CVShapeElement.prototype.renderFill=function(_e,et,rt){var nt=et.style;(et.c._mdf||this._isFirstFrame)&&(nt.co="rgb("+bmFloor(et.c.v[0])+","+bmFloor(et.c.v[1])+","+bmFloor(et.c.v[2])+")"),(et.o._mdf||rt._opMdf||this._isFirstFrame)&&(nt.coOp=et.o.v*rt.opacity)},CVShapeElement.prototype.renderGradientFill=function(_e,et,rt){var nt=et.style,st;if(!nt.grd||et.g._mdf||et.s._mdf||et.e._mdf||_e.t!==1&&(et.h._mdf||et.a._mdf)){var it=this.globalData.canvasContext,at=et.s.v,ot=et.e.v;if(_e.t===1)st=it.createLinearGradient(at[0],at[1],ot[0],ot[1]);else{var lt=Math.sqrt(Math.pow(at[0]-ot[0],2)+Math.pow(at[1]-ot[1],2)),ct=Math.atan2(ot[1]-at[1],ot[0]-at[0]),ut=et.h.v;ut>=1?ut=.99:ut<=-1&&(ut=-.99);var dt=lt*ut,pt=Math.cos(ct+et.a.v)*dt+at[0],mt=Math.sin(ct+et.a.v)*dt+at[1];st=it.createRadialGradient(pt,mt,0,at[0],at[1],lt)}var xt,yt=_e.g.p,vt=et.g.c,gt=1;for(xt=0;xt<yt;xt+=1)et.g._hasOpacity&&et.g._collapsable&&(gt=et.g.o[xt*2+1]),st.addColorStop(vt[xt*4]/100,"rgba("+vt[xt*4+1]+","+vt[xt*4+2]+","+vt[xt*4+3]+","+gt+")");nt.grd=st}nt.coOp=et.o.v*rt.opacity},CVShapeElement.prototype.renderStroke=function(_e,et,rt){var nt=et.style,st=et.d;st&&(st._mdf||this._isFirstFrame)&&(nt.da=st.dashArray,nt.do=st.dashoffset[0]),(et.c._mdf||this._isFirstFrame)&&(nt.co="rgb("+bmFloor(et.c.v[0])+","+bmFloor(et.c.v[1])+","+bmFloor(et.c.v[2])+")"),(et.o._mdf||rt._opMdf||this._isFirstFrame)&&(nt.coOp=et.o.v*rt.opacity),(et.w._mdf||this._isFirstFrame)&&(nt.wi=et.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0};function CVTextElement(_e,et,rt){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(_e,et,rt)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var _e=this.textProperty.currentData;this.renderedLetters=createSizedArray(_e.l?_e.l.length:0);var et=!1;_e.fc?(et=!0,this.values.fill=this.buildColor(_e.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=et;var rt=!1;_e.sc&&(rt=!0,this.values.stroke=this.buildColor(_e.sc),this.values.sWidth=_e.sw);var nt=this.globalData.fontManager.getFontByName(_e.f),st,it,at=_e.l,ot=this.mHelper;this.stroke=rt,this.values.fValue=_e.finalSize+"px "+this.globalData.fontManager.getFontByName(_e.f).fFamily,it=_e.finalText.length;var lt,ct,ut,dt,pt,mt,xt,yt,vt,gt,Et=this.data.singleShape,jt=_e.tr*.001*_e.finalSize,kt=0,Rt=0,St=!0,_t=0;for(st=0;st<it;st+=1){lt=this.globalData.fontManager.getCharData(_e.finalText[st],nt.fStyle,this.globalData.fontManager.getFontByName(_e.f).fFamily),ct=lt&&lt.data||{},ot.reset(),Et&&at[st].n&&(kt=-jt,Rt+=_e.yOffset,Rt+=St?1:0,St=!1),pt=ct.shapes?ct.shapes[0].it:[],xt=pt.length,ot.scale(_e.finalSize/100,_e.finalSize/100),Et&&this.applyTextPropertiesToMatrix(_e,ot,at[st].line,kt,Rt),vt=createSizedArray(xt-1);var Nt=0;for(mt=0;mt<xt;mt+=1)if(pt[mt].ty==="sh"){for(dt=pt[mt].ks.k.i.length,yt=pt[mt].ks.k,gt=[],ut=1;ut<dt;ut+=1)ut===1&&gt.push(ot.applyToX(yt.v[0][0],yt.v[0][1],0),ot.applyToY(yt.v[0][0],yt.v[0][1],0)),gt.push(ot.applyToX(yt.o[ut-1][0],yt.o[ut-1][1],0),ot.applyToY(yt.o[ut-1][0],yt.o[ut-1][1],0),ot.applyToX(yt.i[ut][0],yt.i[ut][1],0),ot.applyToY(yt.i[ut][0],yt.i[ut][1],0),ot.applyToX(yt.v[ut][0],yt.v[ut][1],0),ot.applyToY(yt.v[ut][0],yt.v[ut][1],0));gt.push(ot.applyToX(yt.o[ut-1][0],yt.o[ut-1][1],0),ot.applyToY(yt.o[ut-1][0],yt.o[ut-1][1],0),ot.applyToX(yt.i[0][0],yt.i[0][1],0),ot.applyToY(yt.i[0][0],yt.i[0][1],0),ot.applyToX(yt.v[0][0],yt.v[0][1],0),ot.applyToY(yt.v[0][0],yt.v[0][1],0)),vt[Nt]=gt,Nt+=1}Et&&(kt+=at[st].l,kt+=jt),this.textSpans[_t]?this.textSpans[_t].elem=vt:this.textSpans[_t]={elem:vt},_t+=1}},CVTextElement.prototype.renderInnerContent=function(){this.validateText();var _e=this.canvasContext;_e.font=this.values.fValue,this.globalData.renderer.ctxLineCap("butt"),this.globalData.renderer.ctxLineJoin("miter"),this.globalData.renderer.ctxMiterLimit(4),this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var et,rt,nt,st,it,at,ot=this.textAnimator.renderedLetters,lt=this.textProperty.currentData.l;rt=lt.length;var ct,ut=null,dt=null,pt=null,mt,xt,yt=this.globalData.renderer;for(et=0;et<rt;et+=1)if(!lt[et].n){if(ct=ot[et],ct&&(yt.save(),yt.ctxTransform(ct.p),yt.ctxOpacity(ct.o)),this.fill){for(ct&&ct.fc?ut!==ct.fc&&(yt.ctxFillStyle(ct.fc),ut=ct.fc):ut!==this.values.fill&&(ut=this.values.fill,yt.ctxFillStyle(this.values.fill)),mt=this.textSpans[et].elem,st=mt.length,this.globalData.canvasContext.beginPath(),nt=0;nt<st;nt+=1)for(xt=mt[nt],at=xt.length,this.globalData.canvasContext.moveTo(xt[0],xt[1]),it=2;it<at;it+=6)this.globalData.canvasContext.bezierCurveTo(xt[it],xt[it+1],xt[it+2],xt[it+3],xt[it+4],xt[it+5]);this.globalData.canvasContext.closePath(),yt.ctxFill()}if(this.stroke){for(ct&&ct.sw?pt!==ct.sw&&(pt=ct.sw,yt.ctxLineWidth(ct.sw)):pt!==this.values.sWidth&&(pt=this.values.sWidth,yt.ctxLineWidth(this.values.sWidth)),ct&&ct.sc?dt!==ct.sc&&(dt=ct.sc,yt.ctxStrokeStyle(ct.sc)):dt!==this.values.stroke&&(dt=this.values.stroke,yt.ctxStrokeStyle(this.values.stroke)),mt=this.textSpans[et].elem,st=mt.length,this.globalData.canvasContext.beginPath(),nt=0;nt<st;nt+=1)for(xt=mt[nt],at=xt.length,this.globalData.canvasContext.moveTo(xt[0],xt[1]),it=2;it<at;it+=6)this.globalData.canvasContext.bezierCurveTo(xt[it],xt[it+1],xt[it+2],xt[it+3],xt[it+4],xt[it+5]);this.globalData.canvasContext.closePath(),yt.ctxStroke()}ct&&this.globalData.renderer.restore()}};function CVImageElement(_e,et,rt){this.assetData=et.getAssetData(_e.refId),this.img=et.imageLoader.getAsset(this.assetData),this.initElement(_e,et,rt)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var _e=createTag("canvas");_e.width=this.assetData.w,_e.height=this.assetData.h;var et=_e.getContext("2d"),rt=this.img.width,nt=this.img.height,st=rt/nt,it=this.assetData.w/this.assetData.h,at,ot,lt=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;st>it&&lt==="xMidYMid slice"||st<it&&lt!=="xMidYMid slice"?(ot=nt,at=ot*it):(at=rt,ot=at/it),et.drawImage(this.img,(rt-at)/2,(nt-ot)/2,at,ot,0,0,this.assetData.w,this.assetData.h),this.img=_e}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null};function CVSolidElement(_e,et,rt){this.initElement(_e,et,rt)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){this.globalData.renderer.ctxFillStyle(this.data.sc),this.globalData.renderer.ctxFillRect(0,0,this.data.sw,this.data.sh)};function CanvasRendererBase(){}extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(_e){return new CVShapeElement(_e,this.globalData,this)},CanvasRendererBase.prototype.createText=function(_e){return new CVTextElement(_e,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(_e){return new CVImageElement(_e,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(_e){return new CVSolidElement(_e,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(_e){_e[0]===1&&_e[1]===0&&_e[4]===0&&_e[5]===1&&_e[12]===0&&_e[13]===0||this.canvasContext.transform(_e[0],_e[1],_e[4],_e[5],_e[12],_e[13])},CanvasRendererBase.prototype.ctxOpacity=function(_e){this.canvasContext.globalAlpha*=_e<0?0:_e},CanvasRendererBase.prototype.ctxFillStyle=function(_e){this.canvasContext.fillStyle=_e},CanvasRendererBase.prototype.ctxStrokeStyle=function(_e){this.canvasContext.strokeStyle=_e},CanvasRendererBase.prototype.ctxLineWidth=function(_e){this.canvasContext.lineWidth=_e},CanvasRendererBase.prototype.ctxLineCap=function(_e){this.canvasContext.lineCap=_e},CanvasRendererBase.prototype.ctxLineJoin=function(_e){this.canvasContext.lineJoin=_e},CanvasRendererBase.prototype.ctxMiterLimit=function(_e){this.canvasContext.miterLimit=_e},CanvasRendererBase.prototype.ctxFill=function(_e){this.canvasContext.fill(_e)},CanvasRendererBase.prototype.ctxFillRect=function(_e,et,rt,nt){this.canvasContext.fillRect(_e,et,rt,nt)},CanvasRendererBase.prototype.ctxStroke=function(){this.canvasContext.stroke()},CanvasRendererBase.prototype.reset=function(){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}this.contextData.reset()},CanvasRendererBase.prototype.save=function(){this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(_e){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}_e&&(this.globalData.blendMode="source-over"),this.contextData.restore(_e)},CanvasRendererBase.prototype.configAnimation=function(_e){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var et=this.animationItem.container.style;et.width="100%",et.height="100%";var rt="0px 0px 0px";et.transformOrigin=rt,et.mozTransformOrigin=rt,et.webkitTransformOrigin=rt,et["-webkit-transform"]=rt,et.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.contextData.setContext(this.canvasContext),this.data=_e,this.layers=_e.layers,this.transformCanvas={w:_e.w,h:_e.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(_e,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(_e.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(_e,et){this.reset();var rt,nt;_e?(rt=_e,nt=et,this.canvasContext.canvas.width=rt,this.canvasContext.canvas.height=nt):(this.animationItem.wrapper&&this.animationItem.container?(rt=this.animationItem.wrapper.offsetWidth,nt=this.animationItem.wrapper.offsetHeight):(rt=this.canvasContext.canvas.width,nt=this.canvasContext.canvas.height),this.canvasContext.canvas.width=rt*this.renderConfig.dpr,this.canvasContext.canvas.height=nt*this.renderConfig.dpr);var st,it;if(this.renderConfig.preserveAspectRatio.indexOf("meet")!==-1||this.renderConfig.preserveAspectRatio.indexOf("slice")!==-1){var at=this.renderConfig.preserveAspectRatio.split(" "),ot=at[1]||"meet",lt=at[0]||"xMidYMid",ct=lt.substr(0,4),ut=lt.substr(4);st=rt/nt,it=this.transformCanvas.w/this.transformCanvas.h,it>st&&ot==="meet"||it<st&&ot==="slice"?(this.transformCanvas.sx=rt/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=rt/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=nt/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=nt/(this.transformCanvas.h/this.renderConfig.dpr)),ct==="xMid"&&(it<st&&ot==="meet"||it>st&&ot==="slice")?this.transformCanvas.tx=(rt-this.transformCanvas.w*(nt/this.transformCanvas.h))/2*this.renderConfig.dpr:ct==="xMax"&&(it<st&&ot==="meet"||it>st&&ot==="slice")?this.transformCanvas.tx=(rt-this.transformCanvas.w*(nt/this.transformCanvas.h))*this.renderConfig.dpr:this.transformCanvas.tx=0,ut==="YMid"&&(it>st&&ot==="meet"||it<st&&ot==="slice")?this.transformCanvas.ty=(nt-this.transformCanvas.h*(rt/this.transformCanvas.w))/2*this.renderConfig.dpr:ut==="YMax"&&(it>st&&ot==="meet"||it<st&&ot==="slice")?this.transformCanvas.ty=(nt-this.transformCanvas.h*(rt/this.transformCanvas.w))*this.renderConfig.dpr:this.transformCanvas.ty=0}else this.renderConfig.preserveAspectRatio==="none"?(this.transformCanvas.sx=rt/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=nt/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText="");var _e,et=this.layers?this.layers.length:0;for(_e=et-1;_e>=0;_e-=1)this.elements[_e]&&this.elements[_e].destroy&&this.elements[_e].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(_e,et){if(!(this.renderedFrame===_e&&this.renderConfig.clearCanvas===!0&&!et||this.destroyed||_e===-1)){this.renderedFrame=_e,this.globalData.frameNum=_e-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||et,this.globalData.projectInterface.currentFrame=_e;var rt,nt=this.layers.length;for(this.completeLayers||this.checkLayers(_e),rt=nt-1;rt>=0;rt-=1)(this.completeLayers||this.elements[rt])&&this.elements[rt].prepareFrame(_e-this.layers[rt].st);if(this.globalData._mdf){for(this.renderConfig.clearCanvas===!0?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),rt=nt-1;rt>=0;rt-=1)(this.completeLayers||this.elements[rt])&&this.elements[rt].renderFrame();this.renderConfig.clearCanvas!==!0&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(_e){var et=this.elements;if(!(et[_e]||this.layers[_e].ty===99)){var rt=this.createItem(this.layers[_e],this,this.globalData);et[_e]=rt,rt.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var _e=this.pendingElements.pop();_e.checkParenting()}},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"};function CanvasContext(){this.opacity=-1,this.transform=createTypedArray("float32",16),this.fillStyle="",this.strokeStyle="",this.lineWidth="",this.lineCap="",this.lineJoin="",this.miterLimit="",this.id=Math.random()}function CVContextData(){this.stack=[],this.cArrPos=0,this.cTr=new Matrix;var _e,et=15;for(_e=0;_e<et;_e+=1){var rt=new CanvasContext;this.stack[_e]=rt}this._length=et,this.nativeContext=null,this.transformMat=new Matrix,this.currentOpacity=1,this.currentFillStyle="",this.appliedFillStyle="",this.currentStrokeStyle="",this.appliedStrokeStyle="",this.currentLineWidth="",this.appliedLineWidth="",this.currentLineCap="",this.appliedLineCap="",this.currentLineJoin="",this.appliedLineJoin="",this.appliedMiterLimit="",this.currentMiterLimit=""}CVContextData.prototype.duplicate=function(){var _e=this._length*2,et=0;for(et=this._length;et<_e;et+=1)this.stack[et]=new CanvasContext;this._length=_e},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.stack[this.cArrPos].opacity=1},CVContextData.prototype.restore=function(_e){this.cArrPos-=1;var et=this.stack[this.cArrPos],rt=et.transform,nt,st=this.cTr.props;for(nt=0;nt<16;nt+=1)st[nt]=rt[nt];if(_e){this.nativeContext.restore();var it=this.stack[this.cArrPos+1];this.appliedFillStyle=it.fillStyle,this.appliedStrokeStyle=it.strokeStyle,this.appliedLineWidth=it.lineWidth,this.appliedLineCap=it.lineCap,this.appliedLineJoin=it.lineJoin,this.appliedMiterLimit=it.miterLimit}this.nativeContext.setTransform(rt[0],rt[1],rt[4],rt[5],rt[12],rt[13]),(_e||et.opacity!==-1&&this.currentOpacity!==et.opacity)&&(this.nativeContext.globalAlpha=et.opacity,this.currentOpacity=et.opacity),this.currentFillStyle=et.fillStyle,this.currentStrokeStyle=et.strokeStyle,this.currentLineWidth=et.lineWidth,this.currentLineCap=et.lineCap,this.currentLineJoin=et.lineJoin,this.currentMiterLimit=et.miterLimit},CVContextData.prototype.save=function(_e){_e&&this.nativeContext.save();var et=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var rt=this.stack[this.cArrPos],nt;for(nt=0;nt<16;nt+=1)rt.transform[nt]=et[nt];this.cArrPos+=1;var st=this.stack[this.cArrPos];st.opacity=rt.opacity,st.fillStyle=rt.fillStyle,st.strokeStyle=rt.strokeStyle,st.lineWidth=rt.lineWidth,st.lineCap=rt.lineCap,st.lineJoin=rt.lineJoin,st.miterLimit=rt.miterLimit},CVContextData.prototype.setOpacity=function(_e){this.stack[this.cArrPos].opacity=_e},CVContextData.prototype.setContext=function(_e){this.nativeContext=_e},CVContextData.prototype.fillStyle=function(_e){this.stack[this.cArrPos].fillStyle!==_e&&(this.currentFillStyle=_e,this.stack[this.cArrPos].fillStyle=_e)},CVContextData.prototype.strokeStyle=function(_e){this.stack[this.cArrPos].strokeStyle!==_e&&(this.currentStrokeStyle=_e,this.stack[this.cArrPos].strokeStyle=_e)},CVContextData.prototype.lineWidth=function(_e){this.stack[this.cArrPos].lineWidth!==_e&&(this.currentLineWidth=_e,this.stack[this.cArrPos].lineWidth=_e)},CVContextData.prototype.lineCap=function(_e){this.stack[this.cArrPos].lineCap!==_e&&(this.currentLineCap=_e,this.stack[this.cArrPos].lineCap=_e)},CVContextData.prototype.lineJoin=function(_e){this.stack[this.cArrPos].lineJoin!==_e&&(this.currentLineJoin=_e,this.stack[this.cArrPos].lineJoin=_e)},CVContextData.prototype.miterLimit=function(_e){this.stack[this.cArrPos].miterLimit!==_e&&(this.currentMiterLimit=_e,this.stack[this.cArrPos].miterLimit=_e)},CVContextData.prototype.transform=function(_e){this.transformMat.cloneFromProps(_e);var et=this.cTr;this.transformMat.multiply(et),et.cloneFromProps(this.transformMat.props);var rt=et.props;this.nativeContext.setTransform(rt[0],rt[1],rt[4],rt[5],rt[12],rt[13])},CVContextData.prototype.opacity=function(_e){var et=this.stack[this.cArrPos].opacity;et*=_e<0?0:_e,this.stack[this.cArrPos].opacity!==et&&(this.currentOpacity!==_e&&(this.nativeContext.globalAlpha=_e,this.currentOpacity=_e),this.stack[this.cArrPos].opacity=et)},CVContextData.prototype.fill=function(_e){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fill(_e)},CVContextData.prototype.fillRect=function(_e,et,rt,nt){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fillRect(_e,et,rt,nt)},CVContextData.prototype.stroke=function(){this.appliedStrokeStyle!==this.currentStrokeStyle&&(this.appliedStrokeStyle=this.currentStrokeStyle,this.nativeContext.strokeStyle=this.appliedStrokeStyle),this.appliedLineWidth!==this.currentLineWidth&&(this.appliedLineWidth=this.currentLineWidth,this.nativeContext.lineWidth=this.appliedLineWidth),this.appliedLineCap!==this.currentLineCap&&(this.appliedLineCap=this.currentLineCap,this.nativeContext.lineCap=this.appliedLineCap),this.appliedLineJoin!==this.currentLineJoin&&(this.appliedLineJoin=this.currentLineJoin,this.nativeContext.lineJoin=this.appliedLineJoin),this.appliedMiterLimit!==this.currentMiterLimit&&(this.appliedMiterLimit=this.currentMiterLimit,this.nativeContext.miterLimit=this.appliedMiterLimit),this.nativeContext.stroke()};function CVCompElement(_e,et,rt){this.completeLayers=!1,this.layers=_e.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(_e,et,rt),this.tm=_e.tm?PropertyFactory.getProp(this,_e.tm,0,et.frameRate,this):{_placeholder:!0}}extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var _e=this.canvasContext;_e.beginPath(),_e.moveTo(0,0),_e.lineTo(this.data.w,0),_e.lineTo(this.data.w,this.data.h),_e.lineTo(0,this.data.h),_e.lineTo(0,0),_e.clip();var et,rt=this.layers.length;for(et=rt-1;et>=0;et-=1)(this.completeLayers||this.elements[et])&&this.elements[et].renderFrame()},CVCompElement.prototype.destroy=function(){var _e,et=this.layers.length;for(_e=et-1;_e>=0;_e-=1)this.elements[_e]&&this.elements[_e].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(_e){return new CVCompElement(_e,this.globalData,this)};function CanvasRenderer(_e,et){this.animationItem=_e,this.renderConfig={clearCanvas:et&&et.clearCanvas!==void 0?et.clearCanvas:!0,context:et&&et.context||null,progressiveLoad:et&&et.progressiveLoad||!1,preserveAspectRatio:et&&et.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:et&&et.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:et&&et.contentVisibility||"visible",className:et&&et.className||"",id:et&&et.id||"",runExpressions:!et||et.runExpressions===void 0||et.runExpressions},this.renderConfig.dpr=et&&et.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=et&&et.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas",this.renderConfig.clearCanvas&&(this.ctxTransform=this.contextData.transform.bind(this.contextData),this.ctxOpacity=this.contextData.opacity.bind(this.contextData),this.ctxFillStyle=this.contextData.fillStyle.bind(this.contextData),this.ctxStrokeStyle=this.contextData.strokeStyle.bind(this.contextData),this.ctxLineWidth=this.contextData.lineWidth.bind(this.contextData),this.ctxLineCap=this.contextData.lineCap.bind(this.contextData),this.ctxLineJoin=this.contextData.lineJoin.bind(this.contextData),this.ctxMiterLimit=this.contextData.miterLimit.bind(this.contextData),this.ctxFill=this.contextData.fill.bind(this.contextData),this.ctxFillRect=this.contextData.fillRect.bind(this.contextData),this.ctxStroke=this.contextData.stroke.bind(this.contextData),this.save=this.contextData.save.bind(this.contextData))}extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(_e){return new CVCompElement(_e,this.globalData,this)};function HBaseElement(){}HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.bm!==0&&this.setBlendMode()},renderElement:function(){var et=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var rt=this.finalTransform.mat.toCSS();et.transform=rt,et.webkitTransform=rt}this.finalTransform._opMdf&&(et.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting;function HSolidElement(_e,et,rt){this.initElement(_e,et,rt)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var _e;this.data.hasMask?(_e=createNS("rect"),_e.setAttribute("width",this.data.sw),_e.setAttribute("height",this.data.sh),_e.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):(_e=createTag("div"),_e.style.width=this.data.sw+"px",_e.style.height=this.data.sh+"px",_e.style.backgroundColor=this.data.sc),this.layerElement.appendChild(_e)};function HShapeElement(_e,et,rt){this.shapes=[],this.shapesData=_e.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(_e,et,rt),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var _e;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),_e=this.svgElement;else{_e=createNS("svg");var et=this.comp.data?this.comp.data:this.globalData.compSize;_e.setAttribute("width",et.w),_e.setAttribute("height",et.h),_e.appendChild(this.shapesContainer),this.layerElement.appendChild(_e)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=_e},HShapeElement.prototype.getTransformedPoint=function(_e,et){var rt,nt=_e.length;for(rt=0;rt<nt;rt+=1)et=_e[rt].mProps.v.applyToPointArray(et[0],et[1],0);return et},HShapeElement.prototype.calculateShapeBoundingBox=function(_e,et){var rt=_e.sh.v,nt=_e.transformers,st,it=rt._length,at,ot,lt,ct;if(!(it<=1)){for(st=0;st<it-1;st+=1)at=this.getTransformedPoint(nt,rt.v[st]),ot=this.getTransformedPoint(nt,rt.o[st]),lt=this.getTransformedPoint(nt,rt.i[st+1]),ct=this.getTransformedPoint(nt,rt.v[st+1]),this.checkBounds(at,ot,lt,ct,et);rt.c&&(at=this.getTransformedPoint(nt,rt.v[st]),ot=this.getTransformedPoint(nt,rt.o[st]),lt=this.getTransformedPoint(nt,rt.i[0]),ct=this.getTransformedPoint(nt,rt.v[0]),this.checkBounds(at,ot,lt,ct,et))}},HShapeElement.prototype.checkBounds=function(_e,et,rt,nt,st){this.getBoundsOfCurve(_e,et,rt,nt);var it=this.shapeBoundingBox;st.x=bmMin(it.left,st.x),st.xMax=bmMax(it.right,st.xMax),st.y=bmMin(it.top,st.y),st.yMax=bmMax(it.bottom,st.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(_e,et,rt,nt){for(var st=[[_e[0],nt[0]],[_e[1],nt[1]]],it,at,ot,lt,ct,ut,dt,pt=0;pt<2;++pt)at=6*_e[pt]-12*et[pt]+6*rt[pt],it=-3*_e[pt]+9*et[pt]-9*rt[pt]+3*nt[pt],ot=3*et[pt]-3*_e[pt],at|=0,it|=0,ot|=0,it===0&&at===0||(it===0?(lt=-ot/at,lt>0&&lt<1&&st[pt].push(this.calculateF(lt,_e,et,rt,nt,pt))):(ct=at*at-4*ot*it,ct>=0&&(ut=(-at+bmSqrt(ct))/(2*it),ut>0&&ut<1&&st[pt].push(this.calculateF(ut,_e,et,rt,nt,pt)),dt=(-at-bmSqrt(ct))/(2*it),dt>0&&dt<1&&st[pt].push(this.calculateF(dt,_e,et,rt,nt,pt)))));this.shapeBoundingBox.left=bmMin.apply(null,st[0]),this.shapeBoundingBox.top=bmMin.apply(null,st[1]),this.shapeBoundingBox.right=bmMax.apply(null,st[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,st[1])},HShapeElement.prototype.calculateF=function(_e,et,rt,nt,st,it){return bmPow(1-_e,3)*et[it]+3*bmPow(1-_e,2)*_e*rt[it]+3*(1-_e)*bmPow(_e,2)*nt[it]+bmPow(_e,3)*st[it]},HShapeElement.prototype.calculateBoundingBox=function(_e,et){var rt,nt=_e.length;for(rt=0;rt<nt;rt+=1)_e[rt]&&_e[rt].sh?this.calculateShapeBoundingBox(_e[rt],et):_e[rt]&&_e[rt].it?this.calculateBoundingBox(_e[rt].it,et):_e[rt]&&_e[rt].style&&_e[rt].w&&this.expandStrokeBoundingBox(_e[rt].w,et)},HShapeElement.prototype.expandStrokeBoundingBox=function(_e,et){var rt=0;if(_e.keyframes){for(var nt=0;nt<_e.keyframes.length;nt+=1){var st=_e.keyframes[nt].s;st>rt&&(rt=st)}rt*=_e.mult}else rt=_e.v*_e.mult;et.x-=rt,et.xMax+=rt,et.y-=rt,et.yMax+=rt},HShapeElement.prototype.currentBoxContains=function(_e){return this.currentBBox.x<=_e.x&&this.currentBBox.y<=_e.y&&this.currentBBox.width+this.currentBBox.x>=_e.x+_e.width&&this.currentBBox.height+this.currentBBox.y>=_e.y+_e.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var _e=this.tempBoundingBox,et=999999;if(_e.x=et,_e.xMax=-et,_e.y=et,_e.yMax=-et,this.calculateBoundingBox(this.itemsData,_e),_e.width=_e.xMax<_e.x?0:_e.xMax-_e.x,_e.height=_e.yMax<_e.y?0:_e.yMax-_e.y,this.currentBoxContains(_e))return;var rt=!1;if(this.currentBBox.w!==_e.width&&(this.currentBBox.w=_e.width,this.shapeCont.setAttribute("width",_e.width),rt=!0),this.currentBBox.h!==_e.height&&(this.currentBBox.h=_e.height,this.shapeCont.setAttribute("height",_e.height),rt=!0),rt||this.currentBBox.x!==_e.x||this.currentBBox.y!==_e.y){this.currentBBox.w=_e.width,this.currentBBox.h=_e.height,this.currentBBox.x=_e.x,this.currentBBox.y=_e.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var nt=this.shapeCont.style,st="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";nt.transform=st,nt.webkitTransform=st}}};function HTextElement(_e,et,rt){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(_e,et,rt)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var _e=createNS("g");this.maskedElement.appendChild(_e),this.innerElem=_e}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var _e=this.textProperty.currentData;this.renderedLetters=createSizedArray(_e.l?_e.l.length:0);var et=this.innerElem.style,rt=_e.fc?this.buildColor(_e.fc):"rgba(0,0,0,0)";et.fill=rt,et.color=rt,_e.sc&&(et.stroke=this.buildColor(_e.sc),et.strokeWidth=_e.sw+"px");var nt=this.globalData.fontManager.getFontByName(_e.f);if(!this.globalData.fontManager.chars)if(et.fontSize=_e.finalSize+"px",et.lineHeight=_e.finalSize+"px",nt.fClass)this.innerElem.className=nt.fClass;else{et.fontFamily=nt.fFamily;var st=_e.fWeight,it=_e.fStyle;et.fontStyle=it,et.fontWeight=st}var at,ot,lt=_e.l;ot=lt.length;var ct,ut,dt,pt=this.mHelper,mt,xt="",yt=0;for(at=0;at<ot;at+=1){if(this.globalData.fontManager.chars?(this.textPaths[yt]?ct=this.textPaths[yt]:(ct=createNS("path"),ct.setAttribute("stroke-linecap",lineCapEnum[1]),ct.setAttribute("stroke-linejoin",lineJoinEnum[2]),ct.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[yt]?(ut=this.textSpans[yt],dt=ut.children[0]):(ut=createTag("div"),ut.style.lineHeight=0,dt=createNS("svg"),dt.appendChild(ct),styleDiv(ut)))):this.isMasked?ct=this.textPaths[yt]?this.textPaths[yt]:createNS("text"):this.textSpans[yt]?(ut=this.textSpans[yt],ct=this.textPaths[yt]):(ut=createTag("span"),styleDiv(ut),ct=createTag("span"),styleDiv(ct),ut.appendChild(ct)),this.globalData.fontManager.chars){var vt=this.globalData.fontManager.getCharData(_e.finalText[at],nt.fStyle,this.globalData.fontManager.getFontByName(_e.f).fFamily),gt;if(vt?gt=vt.data:gt=null,pt.reset(),gt&&gt.shapes&&gt.shapes.length&&(mt=gt.shapes[0].it,pt.scale(_e.finalSize/100,_e.finalSize/100),xt=this.createPathShape(pt,mt),ct.setAttribute("d",xt)),this.isMasked)this.innerElem.appendChild(ct);else{if(this.innerElem.appendChild(ut),gt&&gt.shapes){document.body.appendChild(dt);var Et=dt.getBBox();dt.setAttribute("width",Et.width+2),dt.setAttribute("height",Et.height+2),dt.setAttribute("viewBox",Et.x-1+" "+(Et.y-1)+" "+(Et.width+2)+" "+(Et.height+2));var jt=dt.style,kt="translate("+(Et.x-1)+"px,"+(Et.y-1)+"px)";jt.transform=kt,jt.webkitTransform=kt,lt[at].yOffset=Et.y-1}else dt.setAttribute("width",1),dt.setAttribute("height",1);ut.appendChild(dt)}}else if(ct.textContent=lt[at].val,ct.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(ct);else{this.innerElem.appendChild(ut);var Rt=ct.style,St="translate3d(0,"+-_e.finalSize/1.2+"px,0)";Rt.transform=St,Rt.webkitTransform=St}this.isMasked?this.textSpans[yt]=ct:this.textSpans[yt]=ut,this.textSpans[yt].style.display="block",this.textPaths[yt]=ct,yt+=1}for(;yt<this.textSpans.length;)this.textSpans[yt].style.display="none",yt+=1},HTextElement.prototype.renderInnerContent=function(){this.validateText();var _e;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),_e=this.svgElement.style;var et="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";_e.transform=et,_e.webkitTransform=et}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),!(!this.lettersChangedFlag&&!this.textAnimator.lettersChangedFlag)){var rt,nt,st=0,it=this.textAnimator.renderedLetters,at=this.textProperty.currentData.l;nt=at.length;var ot,lt,ct;for(rt=0;rt<nt;rt+=1)at[rt].n?st+=1:(lt=this.textSpans[rt],ct=this.textPaths[rt],ot=it[st],st+=1,ot._mdf.m&&(this.isMasked?lt.setAttribute("transform",ot.m):(lt.style.webkitTransform=ot.m,lt.style.transform=ot.m)),lt.style.opacity=ot.o,ot.sw&&ot._mdf.sw&&ct.setAttribute("stroke-width",ot.sw),ot.sc&&ot._mdf.sc&&ct.setAttribute("stroke",ot.sc),ot.fc&&ot._mdf.fc&&(ct.setAttribute("fill",ot.fc),ct.style.color=ot.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var ut=this.innerElem.getBBox();this.currentBBox.w!==ut.width&&(this.currentBBox.w=ut.width,this.svgElement.setAttribute("width",ut.width)),this.currentBBox.h!==ut.height&&(this.currentBBox.h=ut.height,this.svgElement.setAttribute("height",ut.height));var dt=1;if(this.currentBBox.w!==ut.width+dt*2||this.currentBBox.h!==ut.height+dt*2||this.currentBBox.x!==ut.x-dt||this.currentBBox.y!==ut.y-dt){this.currentBBox.w=ut.width+dt*2,this.currentBBox.h=ut.height+dt*2,this.currentBBox.x=ut.x-dt,this.currentBBox.y=ut.y-dt,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),_e=this.svgElement.style;var pt="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";_e.transform=pt,_e.webkitTransform=pt}}}};function HCameraElement(_e,et,rt){this.initFrame(),this.initBaseData(_e,et,rt),this.initHierarchy();var nt=PropertyFactory.getProp;if(this.pe=nt(this,_e.pe,0,0,this),_e.ks.p.s?(this.px=nt(this,_e.ks.p.x,1,0,this),this.py=nt(this,_e.ks.p.y,1,0,this),this.pz=nt(this,_e.ks.p.z,1,0,this)):this.p=nt(this,_e.ks.p,1,0,this),_e.ks.a&&(this.a=nt(this,_e.ks.a,1,0,this)),_e.ks.or.k.length&&_e.ks.or.k[0].to){var st,it=_e.ks.or.k.length;for(st=0;st<it;st+=1)_e.ks.or.k[st].to=null,_e.ks.or.k[st].ti=null}this.or=nt(this,_e.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=nt(this,_e.ks.rx,0,degToRads,this),this.ry=nt(this,_e.ks.ry,0,degToRads,this),this.rz=nt(this,_e.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var _e,et=this.comp.threeDElements.length,rt,nt,st;for(_e=0;_e<et;_e+=1)if(rt=this.comp.threeDElements[_e],rt.type==="3d"){nt=rt.perspectiveElem.style,st=rt.container.style;var it=this.pe.v+"px",at="0px 0px 0px",ot="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";nt.perspective=it,nt.webkitPerspective=it,st.transformOrigin=at,st.mozTransformOrigin=at,st.webkitTransformOrigin=at,nt.transform=ot,nt.webkitTransform=ot}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var _e=this._isFirstFrame,et,rt;if(this.hierarchy)for(rt=this.hierarchy.length,et=0;et<rt;et+=1)_e=this.hierarchy[et].finalTransform.mProp._mdf||_e;if(_e||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(rt=this.hierarchy.length-1,et=rt;et>=0;et-=1){var nt=this.hierarchy[et].finalTransform.mProp;this.mat.translate(-nt.p.v[0],-nt.p.v[1],nt.p.v[2]),this.mat.rotateX(-nt.or.v[0]).rotateY(-nt.or.v[1]).rotateZ(nt.or.v[2]),this.mat.rotateX(-nt.rx.v).rotateY(-nt.ry.v).rotateZ(nt.rz.v),this.mat.scale(1/nt.s.v[0],1/nt.s.v[1],1/nt.s.v[2]),this.mat.translate(nt.a.v[0],nt.a.v[1],nt.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var st;this.p?st=[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:st=[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var it=Math.sqrt(Math.pow(st[0],2)+Math.pow(st[1],2)+Math.pow(st[2],2)),at=[st[0]/it,st[1]/it,st[2]/it],ot=Math.sqrt(at[2]*at[2]+at[0]*at[0]),lt=Math.atan2(at[1],ot),ct=Math.atan2(at[0],-at[2]);this.mat.rotateY(ct).rotateX(-lt)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var ut=!this._prevMat.equals(this.mat);if((ut||this.pe._mdf)&&this.comp.threeDElements){rt=this.comp.threeDElements.length;var dt,pt,mt;for(et=0;et<rt;et+=1)if(dt=this.comp.threeDElements[et],dt.type==="3d"){if(ut){var xt=this.mat.toCSS();mt=dt.container.style,mt.transform=xt,mt.webkitTransform=xt}this.pe._mdf&&(pt=dt.perspectiveElem.style,pt.perspective=this.pe.v+"px",pt.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(_e){this.prepareProperties(_e,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null};function HImageElement(_e,et,rt){this.assetData=et.getAssetData(_e.refId),this.initElement(_e,et,rt)}extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var _e=this.globalData.getAssetsPath(this.assetData),et=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",_e),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(et),et.crossOrigin="anonymous",et.src=_e,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)};function HybridRendererBase(_e,et){this.animationItem=_e,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:et&&et.className||"",imagePreserveAspectRatio:et&&et.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(et&&et.hideOnTransparent===!1),filterSize:{width:et&&et.filterSize&&et.filterSize.width||"400%",height:et&&et.filterSize&&et.filterSize.height||"400%",x:et&&et.filterSize&&et.filterSize.x||"-100%",y:et&&et.filterSize&&et.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var _e=this.pendingElements.pop();_e.checkParenting()}},HybridRendererBase.prototype.appendElementInPos=function(_e,et){var rt=_e.getBaseElement();if(rt){var nt=this.layers[et];if(!nt.ddd||!this.supports3d)if(this.threeDElements)this.addTo3dContainer(rt,et);else{for(var st=0,it,at,ot;st<et;)this.elements[st]&&this.elements[st]!==!0&&this.elements[st].getBaseElement&&(at=this.elements[st],ot=this.layers[st].ddd?this.getThreeDContainerByPos(st):at.getBaseElement(),it=ot||it),st+=1;it?(!nt.ddd||!this.supports3d)&&this.layerElement.insertBefore(rt,it):(!nt.ddd||!this.supports3d)&&this.layerElement.appendChild(rt)}else this.addTo3dContainer(rt,et)}},HybridRendererBase.prototype.createShape=function(_e){return this.supports3d?new HShapeElement(_e,this.globalData,this):new SVGShapeElement(_e,this.globalData,this)},HybridRendererBase.prototype.createText=function(_e){return this.supports3d?new HTextElement(_e,this.globalData,this):new SVGTextLottieElement(_e,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(_e){return this.camera=new HCameraElement(_e,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(_e){return this.supports3d?new HImageElement(_e,this.globalData,this):new IImageElement(_e,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(_e){return this.supports3d?new HSolidElement(_e,this.globalData,this):new ISolidElement(_e,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(_e){for(var et=0,rt=this.threeDElements.length;et<rt;){if(this.threeDElements[et].startPos<=_e&&this.threeDElements[et].endPos>=_e)return this.threeDElements[et].perspectiveElem;et+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(_e,et){var rt=createTag("div"),nt,st;styleDiv(rt);var it=createTag("div");if(styleDiv(it),et==="3d"){nt=rt.style,nt.width=this.globalData.compSize.w+"px",nt.height=this.globalData.compSize.h+"px";var at="50% 50%";nt.webkitTransformOrigin=at,nt.mozTransformOrigin=at,nt.transformOrigin=at,st=it.style;var ot="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";st.transform=ot,st.webkitTransform=ot}rt.appendChild(it);var lt={container:it,perspectiveElem:rt,startPos:_e,endPos:_e,type:et};return this.threeDElements.push(lt),lt},HybridRendererBase.prototype.build3dContainers=function(){var _e,et=this.layers.length,rt,nt="";for(_e=0;_e<et;_e+=1)this.layers[_e].ddd&&this.layers[_e].ty!==3?(nt!=="3d"&&(nt="3d",rt=this.createThreeDContainer(_e,"3d")),rt.endPos=Math.max(rt.endPos,_e)):(nt!=="2d"&&(nt="2d",rt=this.createThreeDContainer(_e,"2d")),rt.endPos=Math.max(rt.endPos,_e));for(et=this.threeDElements.length,_e=et-1;_e>=0;_e-=1)this.resizerElem.appendChild(this.threeDElements[_e].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(_e,et){for(var rt=0,nt=this.threeDElements.length;rt<nt;){if(et<=this.threeDElements[rt].endPos){for(var st=this.threeDElements[rt].startPos,it;st<et;)this.elements[st]&&this.elements[st].getBaseElement&&(it=this.elements[st].getBaseElement()),st+=1;it?this.threeDElements[rt].container.insertBefore(_e,it):this.threeDElements[rt].container.appendChild(_e);break}rt+=1}},HybridRendererBase.prototype.configAnimation=function(_e){var et=createTag("div"),rt=this.animationItem.wrapper,nt=et.style;nt.width=_e.w+"px",nt.height=_e.h+"px",this.resizerElem=et,styleDiv(et),nt.transformStyle="flat",nt.mozTransformStyle="flat",nt.webkitTransformStyle="flat",this.renderConfig.className&&et.setAttribute("class",this.renderConfig.className),rt.appendChild(et),nt.overflow="hidden";var st=createNS("svg");st.setAttribute("width","1"),st.setAttribute("height","1"),styleDiv(st),this.resizerElem.appendChild(st);var it=createNS("defs");st.appendChild(it),this.data=_e,this.setupGlobalData(_e,st),this.globalData.defs=it,this.layers=_e.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var _e,et=this.layers?this.layers.length:0;for(_e=0;_e<et;_e+=1)this.elements[_e]&&this.elements[_e].destroy&&this.elements[_e].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var _e=this.animationItem.wrapper.offsetWidth,et=this.animationItem.wrapper.offsetHeight,rt=_e/et,nt=this.globalData.compSize.w/this.globalData.compSize.h,st,it,at,ot;nt>rt?(st=_e/this.globalData.compSize.w,it=_e/this.globalData.compSize.w,at=0,ot=(et-this.globalData.compSize.h*(_e/this.globalData.compSize.w))/2):(st=et/this.globalData.compSize.h,it=et/this.globalData.compSize.h,at=(_e-this.globalData.compSize.w*(et/this.globalData.compSize.h))/2,ot=0);var lt=this.resizerElem.style;lt.webkitTransform="matrix3d("+st+",0,0,0,0,"+it+",0,0,0,0,1,0,"+at+","+ot+",0,1)",lt.transform=lt.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var _e=this.globalData.compSize.w,et=this.globalData.compSize.h,rt,nt=this.threeDElements.length;for(rt=0;rt<nt;rt+=1){var st=this.threeDElements[rt].perspectiveElem.style;st.webkitPerspective=Math.sqrt(Math.pow(_e,2)+Math.pow(et,2))+"px",st.perspective=st.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(_e){var et,rt=_e.length,nt=createTag("div");for(et=0;et<rt;et+=1)if(_e[et].xt){var st=this.createComp(_e[et],nt,this.globalData.comp,null);st.initExpressions(),this.globalData.projectInterface.registerComposition(st)}};function HCompElement(_e,et,rt){this.layers=_e.layers,this.supports3d=!_e.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(_e,et,rt),this.tm=_e.tm?PropertyFactory.getProp(this,_e.tm,0,et.frameRate,this):{_placeholder:!0}}extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(_e,et){for(var rt=0,nt;rt<et;)this.elements[rt]&&this.elements[rt].getBaseElement&&(nt=this.elements[rt].getBaseElement()),rt+=1;nt?this.layerElement.insertBefore(_e,nt):this.layerElement.appendChild(_e)},HCompElement.prototype.createComp=function(_e){return this.supports3d?new HCompElement(_e,this.globalData,this):new SVGCompElement(_e,this.globalData,this)};function HybridRenderer(_e,et){this.animationItem=_e,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:et&&et.className||"",imagePreserveAspectRatio:et&&et.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(et&&et.hideOnTransparent===!1),filterSize:{width:et&&et.filterSize&&et.filterSize.width||"400%",height:et&&et.filterSize&&et.filterSize.height||"400%",x:et&&et.filterSize&&et.filterSize.x||"-100%",y:et&&et.filterSize&&et.filterSize.y||"-100%"},runExpressions:!et||et.runExpressions===void 0||et.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(_e){return this.supports3d?new HCompElement(_e,this.globalData,this):new SVGCompElement(_e,this.globalData,this)};var CompExpressionInterface=function(){return function(_e){function et(rt){for(var nt=0,st=_e.layers.length;nt<st;){if(_e.layers[nt].nm===rt||_e.layers[nt].ind===rt)return _e.elements[nt].layerInterface;nt+=1}return null}return Object.defineProperty(et,"_name",{value:_e.data.nm}),et.layer=et,et.pixelAspect=1,et.height=_e.data.h||_e.globalData.compSize.h,et.width=_e.data.w||_e.globalData.compSize.w,et.pixelAspect=1,et.frameDuration=1/_e.globalData.frameRate,et.displayStartTime=0,et.numLayers=_e.layers.length,et}}();function _typeof$2(_e){"@babel/helpers - typeof";return _typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(et){return typeof et}:function(et){return et&&typeof Symbol=="function"&&et.constructor===Symbol&&et!==Symbol.prototype?"symbol":typeof et},_typeof$2(_e)}function seedRandom(_e,et){var rt=this,nt=256,st=6,it=52,at="random",ot=et.pow(nt,st),lt=et.pow(2,it),ct=lt*2,ut=nt-1,dt;function pt(jt,kt,Rt){var St=[];kt=kt===!0?{entropy:!0}:kt||{};var _t=vt(yt(kt.entropy?[jt,Et(_e)]:jt===null?gt():jt,3),St),Nt=new mt(St),Lt=function(){for(var Ft=Nt.g(st),Tt=ot,Bt=0;Ft<lt;)Ft=(Ft+Bt)*nt,Tt*=nt,Bt=Nt.g(1);for(;Ft>=ct;)Ft/=2,Tt/=2,Bt>>>=1;return(Ft+Bt)/Tt};return Lt.int32=function(){return Nt.g(4)|0},Lt.quick=function(){return Nt.g(4)/4294967296},Lt.double=Lt,vt(Et(Nt.S),_e),(kt.pass||Rt||function($t,Ft,Tt,Bt){return Bt&&(Bt.S&&xt(Bt,Nt),$t.state=function(){return xt(Nt,{})}),Tt?(et[at]=$t,Ft):$t})(Lt,_t,"global"in kt?kt.global:this==et,kt.state)}et["seed"+at]=pt;function mt(jt){var kt,Rt=jt.length,St=this,_t=0,Nt=St.i=St.j=0,Lt=St.S=[];for(Rt||(jt=[Rt++]);_t<nt;)Lt[_t]=_t++;for(_t=0;_t<nt;_t++)Lt[_t]=Lt[Nt=ut&Nt+jt[_t%Rt]+(kt=Lt[_t])],Lt[Nt]=kt;St.g=function($t){for(var Ft,Tt=0,Bt=St.i,Wt=St.j,qt=St.S;$t--;)Ft=qt[Bt=ut&Bt+1],Tt=Tt*nt+qt[ut&(qt[Bt]=qt[Wt=ut&Wt+Ft])+(qt[Wt]=Ft)];return St.i=Bt,St.j=Wt,Tt}}function xt(jt,kt){return kt.i=jt.i,kt.j=jt.j,kt.S=jt.S.slice(),kt}function yt(jt,kt){var Rt=[],St=_typeof$2(jt),_t;if(kt&&St=="object")for(_t in jt)try{Rt.push(yt(jt[_t],kt-1))}catch{}return Rt.length?Rt:St=="string"?jt:jt+"\0"}function vt(jt,kt){for(var Rt=jt+"",St,_t=0;_t<Rt.length;)kt[ut&_t]=ut&(St^=kt[ut&_t]*19)+Rt.charCodeAt(_t++);return Et(kt)}function gt(){try{var jt=new Uint8Array(nt);return(rt.crypto||rt.msCrypto).getRandomValues(jt),Et(jt)}catch{var kt=rt.navigator,Rt=kt&&kt.plugins;return[+new Date,rt,Rt,rt.screen,Et(_e)]}}function Et(jt){return String.fromCharCode.apply(0,jt)}vt(et.random(),_e)}function initialize$2(_e){seedRandom([],_e)}var propTypes={SHAPE:"shape"};function _typeof$1(_e){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(et){return typeof et}:function(et){return et&&typeof Symbol=="function"&&et.constructor===Symbol&&et!==Symbol.prototype?"symbol":typeof et},_typeof$1(_e)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null,_lottieGlobal={};initialize$2(BMMath);function resetFrame(){_lottieGlobal={}}function $bm_isInstanceOfArray(_e){return _e.constructor===Array||_e.constructor===Float32Array}function isNumerable(_e,et){return _e==="number"||et instanceof Number||_e==="boolean"||_e==="string"}function $bm_neg(_e){var et=_typeof$1(_e);if(et==="number"||_e instanceof Number||et==="boolean")return-_e;if($bm_isInstanceOfArray(_e)){var rt,nt=_e.length,st=[];for(rt=0;rt<nt;rt+=1)st[rt]=-_e[rt];return st}return _e.propType?_e.v:-_e}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(_e,et){var rt=_typeof$1(_e),nt=_typeof$1(et);if(isNumerable(rt,_e)&&isNumerable(nt,et)||rt==="string"||nt==="string")return _e+et;if($bm_isInstanceOfArray(_e)&&isNumerable(nt,et))return _e=_e.slice(0),_e[0]+=et,_e;if(isNumerable(rt,_e)&&$bm_isInstanceOfArray(et))return et=et.slice(0),et[0]=_e+et[0],et;if($bm_isInstanceOfArray(_e)&&$bm_isInstanceOfArray(et)){for(var st=0,it=_e.length,at=et.length,ot=[];st<it||st<at;)(typeof _e[st]=="number"||_e[st]instanceof Number)&&(typeof et[st]=="number"||et[st]instanceof Number)?ot[st]=_e[st]+et[st]:ot[st]=et[st]===void 0?_e[st]:_e[st]||et[st],st+=1;return ot}return 0}var add=sum;function sub(_e,et){var rt=_typeof$1(_e),nt=_typeof$1(et);if(isNumerable(rt,_e)&&isNumerable(nt,et))return rt==="string"&&(_e=parseInt(_e,10)),nt==="string"&&(et=parseInt(et,10)),_e-et;if($bm_isInstanceOfArray(_e)&&isNumerable(nt,et))return _e=_e.slice(0),_e[0]-=et,_e;if(isNumerable(rt,_e)&&$bm_isInstanceOfArray(et))return et=et.slice(0),et[0]=_e-et[0],et;if($bm_isInstanceOfArray(_e)&&$bm_isInstanceOfArray(et)){for(var st=0,it=_e.length,at=et.length,ot=[];st<it||st<at;)(typeof _e[st]=="number"||_e[st]instanceof Number)&&(typeof et[st]=="number"||et[st]instanceof Number)?ot[st]=_e[st]-et[st]:ot[st]=et[st]===void 0?_e[st]:_e[st]||et[st],st+=1;return ot}return 0}function mul(_e,et){var rt=_typeof$1(_e),nt=_typeof$1(et),st;if(isNumerable(rt,_e)&&isNumerable(nt,et))return _e*et;var it,at;if($bm_isInstanceOfArray(_e)&&isNumerable(nt,et)){for(at=_e.length,st=createTypedArray("float32",at),it=0;it<at;it+=1)st[it]=_e[it]*et;return st}if(isNumerable(rt,_e)&&$bm_isInstanceOfArray(et)){for(at=et.length,st=createTypedArray("float32",at),it=0;it<at;it+=1)st[it]=_e*et[it];return st}return 0}function div(_e,et){var rt=_typeof$1(_e),nt=_typeof$1(et),st;if(isNumerable(rt,_e)&&isNumerable(nt,et))return _e/et;var it,at;if($bm_isInstanceOfArray(_e)&&isNumerable(nt,et)){for(at=_e.length,st=createTypedArray("float32",at),it=0;it<at;it+=1)st[it]=_e[it]/et;return st}if(isNumerable(rt,_e)&&$bm_isInstanceOfArray(et)){for(at=et.length,st=createTypedArray("float32",at),it=0;it<at;it+=1)st[it]=_e/et[it];return st}return 0}function mod(_e,et){return typeof _e=="string"&&(_e=parseInt(_e,10)),typeof et=="string"&&(et=parseInt(et,10)),_e%et}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(_e,et,rt){if(et>rt){var nt=rt;rt=et,et=nt}return Math.min(Math.max(_e,et),rt)}function radiansToDegrees(_e){return _e/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(_e){return _e*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(_e,et){if(typeof _e=="number"||_e instanceof Number)return et=et||0,Math.abs(_e-et);et||(et=helperLengthArray);var rt,nt=Math.min(_e.length,et.length),st=0;for(rt=0;rt<nt;rt+=1)st+=Math.pow(et[rt]-_e[rt],2);return Math.sqrt(st)}function normalize(_e){return div(_e,length(_e))}function rgbToHsl(_e){var et=_e[0],rt=_e[1],nt=_e[2],st=Math.max(et,rt,nt),it=Math.min(et,rt,nt),at,ot,lt=(st+it)/2;if(st===it)at=0,ot=0;else{var ct=st-it;switch(ot=lt>.5?ct/(2-st-it):ct/(st+it),st){case et:at=(rt-nt)/ct+(rt<nt?6:0);break;case rt:at=(nt-et)/ct+2;break;case nt:at=(et-rt)/ct+4;break}at/=6}return[at,ot,lt,_e[3]]}function hue2rgb(_e,et,rt){return rt<0&&(rt+=1),rt>1&&(rt-=1),rt<1/6?_e+(et-_e)*6*rt:rt<1/2?et:rt<2/3?_e+(et-_e)*(2/3-rt)*6:_e}function hslToRgb(_e){var et=_e[0],rt=_e[1],nt=_e[2],st,it,at;if(rt===0)st=nt,at=nt,it=nt;else{var ot=nt<.5?nt*(1+rt):nt+rt-nt*rt,lt=2*nt-ot;st=hue2rgb(lt,ot,et+1/3),it=hue2rgb(lt,ot,et),at=hue2rgb(lt,ot,et-1/3)}return[st,it,at,_e[3]]}function linear(_e,et,rt,nt,st){if((nt===void 0||st===void 0)&&(nt=et,st=rt,et=0,rt=1),rt<et){var it=rt;rt=et,et=it}if(_e<=et)return nt;if(_e>=rt)return st;var at=rt===et?0:(_e-et)/(rt-et);if(!nt.length)return nt+(st-nt)*at;var ot,lt=nt.length,ct=createTypedArray("float32",lt);for(ot=0;ot<lt;ot+=1)ct[ot]=nt[ot]+(st[ot]-nt[ot])*at;return ct}function random(_e,et){if(et===void 0&&(_e===void 0?(_e=0,et=1):(et=_e,_e=void 0)),et.length){var rt,nt=et.length;_e||(_e=createTypedArray("float32",nt));var st=createTypedArray("float32",nt),it=BMMath.random();for(rt=0;rt<nt;rt+=1)st[rt]=_e[rt]+it*(et[rt]-_e[rt]);return st}_e===void 0&&(_e=0);var at=BMMath.random();return _e+at*(et-_e)}function createPath(_e,et,rt,nt){var st,it=_e.length,at=shapePool.newElement();at.setPathData(!!nt,it);var ot=[0,0],lt,ct;for(st=0;st<it;st+=1)lt=et&&et[st]?et[st]:ot,ct=rt&&rt[st]?rt[st]:ot,at.setTripleAt(_e[st][0],_e[st][1],ct[0]+_e[st][0],ct[1]+_e[st][1],lt[0]+_e[st][0],lt[1]+_e[st][1],st,!0);return at}function initiateExpression(elem,data,property){function noOp(_e){return _e}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=val.indexOf("random")!==-1,elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty._name=elem.data.nm,thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||this.data.hd!==!0,wiggle=(function _e(et,rt){var nt,st,it=this.pv.length?this.pv.length:1,at=createTypedArray("float32",it);et=5;var ot=Math.floor(time*et);for(nt=0,st=0;nt<ot;){for(st=0;st<it;st+=1)at[st]+=-rt+rt*2*BMMath.random();nt+=1}var lt=time*et,ct=lt-Math.floor(lt),ut=createTypedArray("float32",it);if(it>1){for(st=0;st<it;st+=1)ut[st]=this.pv[st]+at[st]+(-rt+rt*2*BMMath.random())*ct;return ut}return this.pv+at[0]+(-rt+rt*2*BMMath.random())*ct}).bind(this);thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty));function loopInDuration(_e,et){return loopIn(_e,et,!0)}function loopOutDuration(_e,et){return loopOut(_e,et,!0)}this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);function lookAt(_e,et){var rt=[et[0]-_e[0],et[1]-_e[1],et[2]-_e[2]],nt=Math.atan2(rt[0],Math.sqrt(rt[1]*rt[1]+rt[2]*rt[2]))/degToRads,st=-Math.atan2(rt[1],rt[2])/degToRads;return[st,nt,0]}function easeOut(_e,et,rt,nt,st){return applyEase(easeOutBez,_e,et,rt,nt,st)}function easeIn(_e,et,rt,nt,st){return applyEase(easeInBez,_e,et,rt,nt,st)}function ease(_e,et,rt,nt,st){return applyEase(easeInOutBez,_e,et,rt,nt,st)}function applyEase(_e,et,rt,nt,st,it){st===void 0?(st=rt,it=nt):et=(et-rt)/(nt-rt),et>1?et=1:et<0&&(et=0);var at=_e(et);if($bm_isInstanceOfArray(st)){var ot,lt=st.length,ct=createTypedArray("float32",lt);for(ot=0;ot<lt;ot+=1)ct[ot]=(it[ot]-st[ot])*at+st[ot];return ct}return(it-st)*at+st}function nearestKey(_e){var et,rt=data.k.length,nt,st;if(!data.k.length||typeof data.k[0]=="number")nt=0,st=0;else if(nt=-1,_e*=elem.comp.globalData.frameRate,_e<data.k[0].t)nt=1,st=data.k[0].t;else{for(et=0;et<rt-1;et+=1)if(_e===data.k[et].t){nt=et+1,st=data.k[et].t;break}else if(_e>data.k[et].t&&_e<data.k[et+1].t){_e-data.k[et].t>data.k[et+1].t-_e?(nt=et+2,st=data.k[et+1].t):(nt=et+1,st=data.k[et].t);break}nt===-1&&(nt=et+1,st=data.k[et].t)}var it={};return it.index=nt,it.time=st/elem.comp.globalData.frameRate,it}function key(_e){var et,rt,nt;if(!data.k.length||typeof data.k[0]=="number")throw new Error("The property has no keyframe at index "+_e);_e-=1,et={time:data.k[_e].t/elem.comp.globalData.frameRate,value:[]};var st=Object.prototype.hasOwnProperty.call(data.k[_e],"s")?data.k[_e].s:data.k[_e-1].e;for(nt=st.length,rt=0;rt<nt;rt+=1)et[rt]=st[rt],et.value[rt]=st[rt];return et}function framesToTime(_e,et){return et||(et=elem.comp.globalData.frameRate),_e/et}function timeToFrames(_e,et){return!_e&&_e!==0&&(_e=time),et||(et=elem.comp.globalData.frameRate),_e*et}function seedRandom(_e){BMMath.seedrandom(randSeed+_e)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(_e,et){return typeof value=="string"?et===void 0?value.substring(_e):value.substring(_e,et):""}function substr(_e,et){return typeof value=="string"?et===void 0?value.substr(_e):value.substr(_e,et):""}function posterizeTime(_e){time=_e===0?0:Math.floor(time*_e)/_e,value=valueAtTime(time)}var time,velocity,value,text,textIndex,textTotal,selectorValue,index=elem.data.ind,hasParent=!!(elem.hierarchy&&elem.hierarchy.length),parent,randSeed=Math.floor(Math.random()*1e6),globalData=elem.globalData;function executeExpression(_e){return value=_e,this.frameExpressionId===elem.globalData.frameId&&this.propType!=="textSelector"?value:(this.propType==="textSelector"&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),elemType===4&&!content&&(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),hasParent=!!(elem.hierarchy&&elem.hierarchy.length),hasParent&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt,scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath,_lottieGlobal],ob.resetFrame=resetFrame,ob}(),Expressions=function(){var _e={};_e.initExpressions=et,_e.resetFrame=ExpressionManager.resetFrame;function et(rt){var nt=0,st=[];function it(){nt+=1}function at(){nt-=1,nt===0&&lt()}function ot(ct){st.indexOf(ct)===-1&&st.push(ct)}function lt(){var ct,ut=st.length;for(ct=0;ct<ut;ct+=1)st[ct].release();st.length=0}rt.renderer.compInterface=CompExpressionInterface(rt.renderer),rt.renderer.globalData.projectInterface.registerComposition(rt.renderer),rt.renderer.globalData.pushExpression=it,rt.renderer.globalData.popExpression=at,rt.renderer.globalData.registerExpressionProperty=ot}return _e}(),MaskManagerInterface=function(){function _e(rt,nt){this._mask=rt,this._data=nt}Object.defineProperty(_e.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(_e.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),this._mask.op.v*100}});var et=function(nt){var st=createSizedArray(nt.viewData.length),it,at=nt.viewData.length;for(it=0;it<at;it+=1)st[it]=new _e(nt.viewData[it],nt.masksProperties[it]);var ot=function(ct){for(it=0;it<at;){if(nt.masksProperties[it].nm===ct)return st[it];it+=1}return null};return ot};return et}(),ExpressionPropertyInterface=function(){var _e={pv:0,v:0,mult:1},et={pv:[0,0,0],v:[0,0,0],mult:1};function rt(at,ot,lt){Object.defineProperty(at,"velocity",{get:function(){return ot.getVelocityAtTime(ot.comp.currentFrame)}}),at.numKeys=ot.keyframes?ot.keyframes.length:0,at.key=function(ct){if(!at.numKeys)return 0;var ut="";"s"in ot.keyframes[ct-1]?ut=ot.keyframes[ct-1].s:"e"in ot.keyframes[ct-2]?ut=ot.keyframes[ct-2].e:ut=ot.keyframes[ct-2].s;var dt=lt==="unidimensional"?new Number(ut):Object.assign({},ut);return dt.time=ot.keyframes[ct-1].t/ot.elem.comp.globalData.frameRate,dt.value=lt==="unidimensional"?ut[0]:ut,dt},at.valueAtTime=ot.getValueAtTime,at.speedAtTime=ot.getSpeedAtTime,at.velocityAtTime=ot.getVelocityAtTime,at.propertyGroup=ot.propertyGroup}function nt(at){(!at||!("pv"in at))&&(at=_e);var ot=1/at.mult,lt=at.pv*ot,ct=new Number(lt);return ct.value=lt,rt(ct,at,"unidimensional"),function(){return at.k&&at.getValue(),lt=at.v*ot,ct.value!==lt&&(ct=new Number(lt),ct.value=lt,ct[0]=lt,rt(ct,at,"unidimensional")),ct}}function st(at){(!at||!("pv"in at))&&(at=et);var ot=1/at.mult,lt=at.data&&at.data.l||at.pv.length,ct=createTypedArray("float32",lt),ut=createTypedArray("float32",lt);return ct.value=ut,rt(ct,at,"multidimensional"),function(){at.k&&at.getValue();for(var dt=0;dt<lt;dt+=1)ut[dt]=at.v[dt]*ot,ct[dt]=ut[dt];return ct}}function it(){return _e}return function(at){return at?at.propType==="unidimensional"?nt(at):st(at):it}}(),TransformExpressionInterface=function(){return function(_e){function et(at){switch(at){case"scale":case"Scale":case"ADBE Scale":case 6:return et.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return et.rotation;case"ADBE Rotate X":return et.xRotation;case"ADBE Rotate Y":return et.yRotation;case"position":case"Position":case"ADBE Position":case 2:return et.position;case"ADBE Position_0":return et.xPosition;case"ADBE Position_1":return et.yPosition;case"ADBE Position_2":return et.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return et.anchorPoint;case"opacity":case"Opacity":case 11:return et.opacity;default:return null}}Object.defineProperty(et,"rotation",{get:ExpressionPropertyInterface(_e.r||_e.rz)}),Object.defineProperty(et,"zRotation",{get:ExpressionPropertyInterface(_e.rz||_e.r)}),Object.defineProperty(et,"xRotation",{get:ExpressionPropertyInterface(_e.rx)}),Object.defineProperty(et,"yRotation",{get:ExpressionPropertyInterface(_e.ry)}),Object.defineProperty(et,"scale",{get:ExpressionPropertyInterface(_e.s)});var rt,nt,st,it;return _e.p?it=ExpressionPropertyInterface(_e.p):(rt=ExpressionPropertyInterface(_e.px),nt=ExpressionPropertyInterface(_e.py),_e.pz&&(st=ExpressionPropertyInterface(_e.pz))),Object.defineProperty(et,"position",{get:function(){return _e.p?it():[rt(),nt(),st?st():0]}}),Object.defineProperty(et,"xPosition",{get:ExpressionPropertyInterface(_e.px)}),Object.defineProperty(et,"yPosition",{get:ExpressionPropertyInterface(_e.py)}),Object.defineProperty(et,"zPosition",{get:ExpressionPropertyInterface(_e.pz)}),Object.defineProperty(et,"anchorPoint",{get:ExpressionPropertyInterface(_e.a)}),Object.defineProperty(et,"opacity",{get:ExpressionPropertyInterface(_e.o)}),Object.defineProperty(et,"skew",{get:ExpressionPropertyInterface(_e.sk)}),Object.defineProperty(et,"skewAxis",{get:ExpressionPropertyInterface(_e.sa)}),Object.defineProperty(et,"orientation",{get:ExpressionPropertyInterface(_e.or)}),et}}(),LayerExpressionInterface=function(){function _e(ct){var ut=new Matrix;if(ct!==void 0){var dt=this._elem.finalTransform.mProp.getValueAtTime(ct);dt.clone(ut)}else{var pt=this._elem.finalTransform.mProp;pt.applyToMatrix(ut)}return ut}function et(ct,ut){var dt=this.getMatrix(ut);return dt.props[12]=0,dt.props[13]=0,dt.props[14]=0,this.applyPoint(dt,ct)}function rt(ct,ut){var dt=this.getMatrix(ut);return this.applyPoint(dt,ct)}function nt(ct,ut){var dt=this.getMatrix(ut);return dt.props[12]=0,dt.props[13]=0,dt.props[14]=0,this.invertPoint(dt,ct)}function st(ct,ut){var dt=this.getMatrix(ut);return this.invertPoint(dt,ct)}function it(ct,ut){if(this._elem.hierarchy&&this._elem.hierarchy.length){var dt,pt=this._elem.hierarchy.length;for(dt=0;dt<pt;dt+=1)this._elem.hierarchy[dt].finalTransform.mProp.applyToMatrix(ct)}return ct.applyToPointArray(ut[0],ut[1],ut[2]||0)}function at(ct,ut){if(this._elem.hierarchy&&this._elem.hierarchy.length){var dt,pt=this._elem.hierarchy.length;for(dt=0;dt<pt;dt+=1)this._elem.hierarchy[dt].finalTransform.mProp.applyToMatrix(ct)}return ct.inversePoint(ut)}function ot(ct){var ut=new Matrix;if(ut.reset(),this._elem.finalTransform.mProp.applyToMatrix(ut),this._elem.hierarchy&&this._elem.hierarchy.length){var dt,pt=this._elem.hierarchy.length;for(dt=0;dt<pt;dt+=1)this._elem.hierarchy[dt].finalTransform.mProp.applyToMatrix(ut);return ut.inversePoint(ct)}return ut.inversePoint(ct)}function lt(){return[1,1,1,1]}return function(ct){var ut;function dt(yt){mt.mask=new MaskManagerInterface(yt,ct)}function pt(yt){mt.effect=yt}function mt(yt){switch(yt){case"ADBE Root Vectors Group":case"Contents":case 2:return mt.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return ut;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return mt.effect;case"ADBE Text Properties":return mt.textInterface;default:return null}}mt.getMatrix=_e,mt.invertPoint=at,mt.applyPoint=it,mt.toWorld=rt,mt.toWorldVec=et,mt.fromWorld=st,mt.fromWorldVec=nt,mt.toComp=rt,mt.fromComp=ot,mt.sampleImage=lt,mt.sourceRectAtTime=ct.sourceRectAtTime.bind(ct),mt._elem=ct,ut=TransformExpressionInterface(ct.finalTransform.mProp);var xt=getDescriptor(ut,"anchorPoint");return Object.defineProperties(mt,{hasParent:{get:function(){return ct.hierarchy.length}},parent:{get:function(){return ct.hierarchy[0].layerInterface}},rotation:getDescriptor(ut,"rotation"),scale:getDescriptor(ut,"scale"),position:getDescriptor(ut,"position"),opacity:getDescriptor(ut,"opacity"),anchorPoint:xt,anchor_point:xt,transform:{get:function(){return ut}},active:{get:function(){return ct.isInRange}}}),mt.startTime=ct.data.st,mt.index=ct.data.ind,mt.source=ct.data.refId,mt.height=ct.data.ty===0?ct.data.h:100,mt.width=ct.data.ty===0?ct.data.w:100,mt.inPoint=ct.data.ip/ct.comp.globalData.frameRate,mt.outPoint=ct.data.op/ct.comp.globalData.frameRate,mt._name=ct.data.nm,mt.registerMaskInterface=dt,mt.registerEffectsInterface=pt,mt}}(),propertyGroupFactory=function(){return function(_e,et){return function(rt){return rt=rt===void 0?1:rt,rt<=0?_e:et(rt-1)}}}(),PropertyInterface=function(){return function(_e,et){var rt={_name:_e};function nt(st){return st=st===void 0?1:st,st<=0?rt:et(st-1)}return nt}}(),EffectsExpressionInterface=function(){var _e={createEffectsInterface:et};function et(st,it){if(st.effectsManager){var at=[],ot=st.data.ef,lt,ct=st.effectsManager.effectElements.length;for(lt=0;lt<ct;lt+=1)at.push(rt(ot[lt],st.effectsManager.effectElements[lt],it,st));var ut=st.data.ef||[],dt=function(mt){for(lt=0,ct=ut.length;lt<ct;){if(mt===ut[lt].nm||mt===ut[lt].mn||mt===ut[lt].ix)return at[lt];lt+=1}return null};return Object.defineProperty(dt,"numProperties",{get:function(){return ut.length}}),dt}return null}function rt(st,it,at,ot){function lt(mt){for(var xt=st.ef,yt=0,vt=xt.length;yt<vt;){if(mt===xt[yt].nm||mt===xt[yt].mn||mt===xt[yt].ix)return xt[yt].ty===5?ut[yt]:ut[yt]();yt+=1}throw new Error}var ct=propertyGroupFactory(lt,at),ut=[],dt,pt=st.ef.length;for(dt=0;dt<pt;dt+=1)st.ef[dt].ty===5?ut.push(rt(st.ef[dt],it.effectElements[dt],it.effectElements[dt].propertyGroup,ot)):ut.push(nt(it.effectElements[dt],st.ef[dt].ty,ot,ct));return st.mn==="ADBE Color Control"&&Object.defineProperty(lt,"color",{get:function(){return ut[0]()}}),Object.defineProperties(lt,{numProperties:{get:function(){return st.np}},_name:{value:st.nm},propertyGroup:{value:ct}}),lt.enabled=st.en!==0,lt.active=lt.enabled,lt}function nt(st,it,at,ot){var lt=ExpressionPropertyInterface(st.p);function ct(){return it===10?at.comp.compInterface(st.p.v):lt()}return st.p.setGroupProperty&&st.p.setGroupProperty(PropertyInterface("",ot)),ct}return _e}(),ShapePathInterface=function(){return function(et,rt,nt){var st=rt.sh;function it(ot){return ot==="Shape"||ot==="shape"||ot==="Path"||ot==="path"||ot==="ADBE Vector Shape"||ot===2?it.path:null}var at=propertyGroupFactory(it,nt);return st.setGroupProperty(PropertyInterface("Path",at)),Object.defineProperties(it,{path:{get:function(){return st.k&&st.getValue(),st}},shape:{get:function(){return st.k&&st.getValue(),st}},_name:{value:et.nm},ix:{value:et.ix},propertyIndex:{value:et.ix},mn:{value:et.mn},propertyGroup:{value:nt}}),it}}(),ShapeExpressionInterface=function(){function _e(xt,yt,vt){var gt=[],Et,jt=xt?xt.length:0;for(Et=0;Et<jt;Et+=1)xt[Et].ty==="gr"?gt.push(rt(xt[Et],yt[Et],vt)):xt[Et].ty==="fl"?gt.push(nt(xt[Et],yt[Et],vt)):xt[Et].ty==="st"?gt.push(at(xt[Et],yt[Et],vt)):xt[Et].ty==="tm"?gt.push(ot(xt[Et],yt[Et],vt)):xt[Et].ty==="tr"||(xt[Et].ty==="el"?gt.push(ct(xt[Et],yt[Et],vt)):xt[Et].ty==="sr"?gt.push(ut(xt[Et],yt[Et],vt)):xt[Et].ty==="sh"?gt.push(ShapePathInterface(xt[Et],yt[Et],vt)):xt[Et].ty==="rc"?gt.push(dt(xt[Et],yt[Et],vt)):xt[Et].ty==="rd"?gt.push(pt(xt[Et],yt[Et],vt)):xt[Et].ty==="rp"?gt.push(mt(xt[Et],yt[Et],vt)):xt[Et].ty==="gf"?gt.push(st(xt[Et],yt[Et],vt)):gt.push(it(xt[Et],yt[Et])));return gt}function et(xt,yt,vt){var gt,Et=function(Rt){for(var St=0,_t=gt.length;St<_t;){if(gt[St]._name===Rt||gt[St].mn===Rt||gt[St].propertyIndex===Rt||gt[St].ix===Rt||gt[St].ind===Rt)return gt[St];St+=1}return typeof Rt=="number"?gt[Rt-1]:null};Et.propertyGroup=propertyGroupFactory(Et,vt),gt=_e(xt.it,yt.it,Et.propertyGroup),Et.numProperties=gt.length;var jt=lt(xt.it[xt.it.length-1],yt.it[yt.it.length-1],Et.propertyGroup);return Et.transform=jt,Et.propertyIndex=xt.cix,Et._name=xt.nm,Et}function rt(xt,yt,vt){var gt=function(Rt){switch(Rt){case"ADBE Vectors Group":case"Contents":case 2:return gt.content;default:return gt.transform}};gt.propertyGroup=propertyGroupFactory(gt,vt);var Et=et(xt,yt,gt.propertyGroup),jt=lt(xt.it[xt.it.length-1],yt.it[yt.it.length-1],gt.propertyGroup);return gt.content=Et,gt.transform=jt,Object.defineProperty(gt,"_name",{get:function(){return xt.nm}}),gt.numProperties=xt.np,gt.propertyIndex=xt.ix,gt.nm=xt.nm,gt.mn=xt.mn,gt}function nt(xt,yt,vt){function gt(Et){return Et==="Color"||Et==="color"?gt.color:Et==="Opacity"||Et==="opacity"?gt.opacity:null}return Object.defineProperties(gt,{color:{get:ExpressionPropertyInterface(yt.c)},opacity:{get:ExpressionPropertyInterface(yt.o)},_name:{value:xt.nm},mn:{value:xt.mn}}),yt.c.setGroupProperty(PropertyInterface("Color",vt)),yt.o.setGroupProperty(PropertyInterface("Opacity",vt)),gt}function st(xt,yt,vt){function gt(Et){return Et==="Start Point"||Et==="start point"?gt.startPoint:Et==="End Point"||Et==="end point"?gt.endPoint:Et==="Opacity"||Et==="opacity"?gt.opacity:null}return Object.defineProperties(gt,{startPoint:{get:ExpressionPropertyInterface(yt.s)},endPoint:{get:ExpressionPropertyInterface(yt.e)},opacity:{get:ExpressionPropertyInterface(yt.o)},type:{get:function(){return"a"}},_name:{value:xt.nm},mn:{value:xt.mn}}),yt.s.setGroupProperty(PropertyInterface("Start Point",vt)),yt.e.setGroupProperty(PropertyInterface("End Point",vt)),yt.o.setGroupProperty(PropertyInterface("Opacity",vt)),gt}function it(){function xt(){return null}return xt}function at(xt,yt,vt){var gt=propertyGroupFactory(_t,vt),Et=propertyGroupFactory(St,gt);function jt(Nt){Object.defineProperty(St,xt.d[Nt].nm,{get:ExpressionPropertyInterface(yt.d.dataProps[Nt].p)})}var kt,Rt=xt.d?xt.d.length:0,St={};for(kt=0;kt<Rt;kt+=1)jt(kt),yt.d.dataProps[kt].p.setGroupProperty(Et);function _t(Nt){return Nt==="Color"||Nt==="color"?_t.color:Nt==="Opacity"||Nt==="opacity"?_t.opacity:Nt==="Stroke Width"||Nt==="stroke width"?_t.strokeWidth:null}return Object.defineProperties(_t,{color:{get:ExpressionPropertyInterface(yt.c)},opacity:{get:ExpressionPropertyInterface(yt.o)},strokeWidth:{get:ExpressionPropertyInterface(yt.w)},dash:{get:function(){return St}},_name:{value:xt.nm},mn:{value:xt.mn}}),yt.c.setGroupProperty(PropertyInterface("Color",gt)),yt.o.setGroupProperty(PropertyInterface("Opacity",gt)),yt.w.setGroupProperty(PropertyInterface("Stroke Width",gt)),_t}function ot(xt,yt,vt){function gt(jt){return jt===xt.e.ix||jt==="End"||jt==="end"?gt.end:jt===xt.s.ix?gt.start:jt===xt.o.ix?gt.offset:null}var Et=propertyGroupFactory(gt,vt);return gt.propertyIndex=xt.ix,yt.s.setGroupProperty(PropertyInterface("Start",Et)),yt.e.setGroupProperty(PropertyInterface("End",Et)),yt.o.setGroupProperty(PropertyInterface("Offset",Et)),gt.propertyIndex=xt.ix,gt.propertyGroup=vt,Object.defineProperties(gt,{start:{get:ExpressionPropertyInterface(yt.s)},end:{get:ExpressionPropertyInterface(yt.e)},offset:{get:ExpressionPropertyInterface(yt.o)},_name:{value:xt.nm}}),gt.mn=xt.mn,gt}function lt(xt,yt,vt){function gt(jt){return xt.a.ix===jt||jt==="Anchor Point"?gt.anchorPoint:xt.o.ix===jt||jt==="Opacity"?gt.opacity:xt.p.ix===jt||jt==="Position"?gt.position:xt.r.ix===jt||jt==="Rotation"||jt==="ADBE Vector Rotation"?gt.rotation:xt.s.ix===jt||jt==="Scale"?gt.scale:xt.sk&&xt.sk.ix===jt||jt==="Skew"?gt.skew:xt.sa&&xt.sa.ix===jt||jt==="Skew Axis"?gt.skewAxis:null}var Et=propertyGroupFactory(gt,vt);return yt.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",Et)),yt.transform.mProps.p.setGroupProperty(PropertyInterface("Position",Et)),yt.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",Et)),yt.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",Et)),yt.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",Et)),yt.transform.mProps.sk&&(yt.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",Et)),yt.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",Et))),yt.transform.op.setGroupProperty(PropertyInterface("Opacity",Et)),Object.defineProperties(gt,{opacity:{get:ExpressionPropertyInterface(yt.transform.mProps.o)},position:{get:ExpressionPropertyInterface(yt.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(yt.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(yt.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(yt.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(yt.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(yt.transform.mProps.sa)},_name:{value:xt.nm}}),gt.ty="tr",gt.mn=xt.mn,gt.propertyGroup=vt,gt}function ct(xt,yt,vt){function gt(kt){return xt.p.ix===kt?gt.position:xt.s.ix===kt?gt.size:null}var Et=propertyGroupFactory(gt,vt);gt.propertyIndex=xt.ix;var jt=yt.sh.ty==="tm"?yt.sh.prop:yt.sh;return jt.s.setGroupProperty(PropertyInterface("Size",Et)),jt.p.setGroupProperty(PropertyInterface("Position",Et)),Object.defineProperties(gt,{size:{get:ExpressionPropertyInterface(jt.s)},position:{get:ExpressionPropertyInterface(jt.p)},_name:{value:xt.nm}}),gt.mn=xt.mn,gt}function ut(xt,yt,vt){function gt(kt){return xt.p.ix===kt?gt.position:xt.r.ix===kt?gt.rotation:xt.pt.ix===kt?gt.points:xt.or.ix===kt||kt==="ADBE Vector Star Outer Radius"?gt.outerRadius:xt.os.ix===kt?gt.outerRoundness:xt.ir&&(xt.ir.ix===kt||kt==="ADBE Vector Star Inner Radius")?gt.innerRadius:xt.is&&xt.is.ix===kt?gt.innerRoundness:null}var Et=propertyGroupFactory(gt,vt),jt=yt.sh.ty==="tm"?yt.sh.prop:yt.sh;return gt.propertyIndex=xt.ix,jt.or.setGroupProperty(PropertyInterface("Outer Radius",Et)),jt.os.setGroupProperty(PropertyInterface("Outer Roundness",Et)),jt.pt.setGroupProperty(PropertyInterface("Points",Et)),jt.p.setGroupProperty(PropertyInterface("Position",Et)),jt.r.setGroupProperty(PropertyInterface("Rotation",Et)),xt.ir&&(jt.ir.setGroupProperty(PropertyInterface("Inner Radius",Et)),jt.is.setGroupProperty(PropertyInterface("Inner Roundness",Et))),Object.defineProperties(gt,{position:{get:ExpressionPropertyInterface(jt.p)},rotation:{get:ExpressionPropertyInterface(jt.r)},points:{get:ExpressionPropertyInterface(jt.pt)},outerRadius:{get:ExpressionPropertyInterface(jt.or)},outerRoundness:{get:ExpressionPropertyInterface(jt.os)},innerRadius:{get:ExpressionPropertyInterface(jt.ir)},innerRoundness:{get:ExpressionPropertyInterface(jt.is)},_name:{value:xt.nm}}),gt.mn=xt.mn,gt}function dt(xt,yt,vt){function gt(kt){return xt.p.ix===kt?gt.position:xt.r.ix===kt?gt.roundness:xt.s.ix===kt||kt==="Size"||kt==="ADBE Vector Rect Size"?gt.size:null}var Et=propertyGroupFactory(gt,vt),jt=yt.sh.ty==="tm"?yt.sh.prop:yt.sh;return gt.propertyIndex=xt.ix,jt.p.setGroupProperty(PropertyInterface("Position",Et)),jt.s.setGroupProperty(PropertyInterface("Size",Et)),jt.r.setGroupProperty(PropertyInterface("Rotation",Et)),Object.defineProperties(gt,{position:{get:ExpressionPropertyInterface(jt.p)},roundness:{get:ExpressionPropertyInterface(jt.r)},size:{get:ExpressionPropertyInterface(jt.s)},_name:{value:xt.nm}}),gt.mn=xt.mn,gt}function pt(xt,yt,vt){function gt(kt){return xt.r.ix===kt||kt==="Round Corners 1"?gt.radius:null}var Et=propertyGroupFactory(gt,vt),jt=yt;return gt.propertyIndex=xt.ix,jt.rd.setGroupProperty(PropertyInterface("Radius",Et)),Object.defineProperties(gt,{radius:{get:ExpressionPropertyInterface(jt.rd)},_name:{value:xt.nm}}),gt.mn=xt.mn,gt}function mt(xt,yt,vt){function gt(kt){return xt.c.ix===kt||kt==="Copies"?gt.copies:xt.o.ix===kt||kt==="Offset"?gt.offset:null}var Et=propertyGroupFactory(gt,vt),jt=yt;return gt.propertyIndex=xt.ix,jt.c.setGroupProperty(PropertyInterface("Copies",Et)),jt.o.setGroupProperty(PropertyInterface("Offset",Et)),Object.defineProperties(gt,{copies:{get:ExpressionPropertyInterface(jt.c)},offset:{get:ExpressionPropertyInterface(jt.o)},_name:{value:xt.nm}}),gt.mn=xt.mn,gt}return function(xt,yt,vt){var gt;function Et(kt){if(typeof kt=="number")return kt=kt===void 0?1:kt,kt===0?vt:gt[kt-1];for(var Rt=0,St=gt.length;Rt<St;){if(gt[Rt]._name===kt)return gt[Rt];Rt+=1}return null}function jt(){return vt}return Et.propertyGroup=propertyGroupFactory(Et,jt),gt=_e(xt,yt,Et.propertyGroup),Et.numProperties=gt.length,Et._name="Contents",Et}}(),TextExpressionInterface=function(){return function(_e){var et;function rt(nt){switch(nt){case"ADBE Text Document":return rt.sourceText;default:return null}}return Object.defineProperty(rt,"sourceText",{get:function(){_e.textProperty.getValue();var st=_e.textProperty.currentData.t;return(!et||st!==et.value)&&(et=new String(st),et.value=st||new String(st),Object.defineProperty(et,"style",{get:function(){return{fillColor:_e.textProperty.currentData.fc}}})),et}}),rt}}();function _typeof(_e){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(et){return typeof et}:function(et){return et&&typeof Symbol=="function"&&et.constructor===Symbol&&et!==Symbol.prototype?"symbol":typeof et},_typeof(_e)}var FootageInterface=function(){var _e=function(nt){var st="",it=nt.getFootageData();function at(){return st="",it=nt.getFootageData(),ot}function ot(lt){if(it[lt])return st=lt,it=it[lt],_typeof(it)==="object"?ot:it;var ct=lt.indexOf(st);if(ct!==-1){var ut=parseInt(lt.substr(ct+st.length),10);return it=it[ut],_typeof(it)==="object"?ot:it}return""}return at},et=function(nt){function st(it){return it==="Outline"?st.outlineInterface():null}return st._name="Outline",st.outlineInterface=_e(nt),st};return function(rt){function nt(st){return st==="Data"?nt.dataInterface:null}return nt._name="Data",nt.dataInterface=et(rt),nt}}(),interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(_e){return interfaces[_e]||null}var expressionHelpers=function(){function _e(at,ot,lt){ot.x&&(lt.k=!0,lt.x=!0,lt.initiateExpression=ExpressionManager.initiateExpression,lt.effectsSequence.push(lt.initiateExpression(at,ot,lt).bind(lt)))}function et(at){return at*=this.elem.globalData.frameRate,at-=this.offsetTime,at!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<at?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(at,this._cachingAtTime),this._cachingAtTime.lastFrame=at),this._cachingAtTime.value}function rt(at){var ot=-.01,lt=this.getValueAtTime(at),ct=this.getValueAtTime(at+ot),ut=0;if(lt.length){var dt;for(dt=0;dt<lt.length;dt+=1)ut+=Math.pow(ct[dt]-lt[dt],2);ut=Math.sqrt(ut)*100}else ut=0;return ut}function nt(at){if(this.vel!==void 0)return this.vel;var ot=-.001,lt=this.getValueAtTime(at),ct=this.getValueAtTime(at+ot),ut;if(lt.length){ut=createTypedArray("float32",lt.length);var dt;for(dt=0;dt<lt.length;dt+=1)ut[dt]=(ct[dt]-lt[dt])/ot}else ut=(ct-lt)/ot;return ut}function st(){return this.pv}function it(at){this.propertyGroup=at}return{searchExpressions:_e,getSpeedAtTime:rt,getVelocityAtTime:nt,getValueAtTime:et,getStaticValueAtTime:st,setGroupProperty:it}}();function addPropertyDecorator(){function _e(pt,mt,xt){if(!this.k||!this.keyframes)return this.pv;pt=pt?pt.toLowerCase():"";var yt=this.comp.renderedFrame,vt=this.keyframes,gt=vt[vt.length-1].t;if(yt<=gt)return this.pv;var Et,jt;xt?(mt?Et=Math.abs(gt-this.elem.comp.globalData.frameRate*mt):Et=Math.max(0,gt-this.elem.data.ip),jt=gt-Et):((!mt||mt>vt.length-1)&&(mt=vt.length-1),jt=vt[vt.length-1-mt].t,Et=gt-jt);var kt,Rt,St;if(pt==="pingpong"){var _t=Math.floor((yt-jt)/Et);if(_t%2!==0)return this.getValueAtTime((Et-(yt-jt)%Et+jt)/this.comp.globalData.frameRate,0)}else if(pt==="offset"){var Nt=this.getValueAtTime(jt/this.comp.globalData.frameRate,0),Lt=this.getValueAtTime(gt/this.comp.globalData.frameRate,0),$t=this.getValueAtTime(((yt-jt)%Et+jt)/this.comp.globalData.frameRate,0),Ft=Math.floor((yt-jt)/Et);if(this.pv.length){for(St=new Array(Nt.length),Rt=St.length,kt=0;kt<Rt;kt+=1)St[kt]=(Lt[kt]-Nt[kt])*Ft+$t[kt];return St}return(Lt-Nt)*Ft+$t}else if(pt==="continue"){var Tt=this.getValueAtTime(gt/this.comp.globalData.frameRate,0),Bt=this.getValueAtTime((gt-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(St=new Array(Tt.length),Rt=St.length,kt=0;kt<Rt;kt+=1)St[kt]=Tt[kt]+(Tt[kt]-Bt[kt])*((yt-gt)/this.comp.globalData.frameRate)/5e-4;return St}return Tt+(Tt-Bt)*((yt-gt)/.001)}return this.getValueAtTime(((yt-jt)%Et+jt)/this.comp.globalData.frameRate,0)}function et(pt,mt,xt){if(!this.k)return this.pv;pt=pt?pt.toLowerCase():"";var yt=this.comp.renderedFrame,vt=this.keyframes,gt=vt[0].t;if(yt>=gt)return this.pv;var Et,jt;xt?(mt?Et=Math.abs(this.elem.comp.globalData.frameRate*mt):Et=Math.max(0,this.elem.data.op-gt),jt=gt+Et):((!mt||mt>vt.length-1)&&(mt=vt.length-1),jt=vt[mt].t,Et=jt-gt);var kt,Rt,St;if(pt==="pingpong"){var _t=Math.floor((gt-yt)/Et);if(_t%2===0)return this.getValueAtTime(((gt-yt)%Et+gt)/this.comp.globalData.frameRate,0)}else if(pt==="offset"){var Nt=this.getValueAtTime(gt/this.comp.globalData.frameRate,0),Lt=this.getValueAtTime(jt/this.comp.globalData.frameRate,0),$t=this.getValueAtTime((Et-(gt-yt)%Et+gt)/this.comp.globalData.frameRate,0),Ft=Math.floor((gt-yt)/Et)+1;if(this.pv.length){for(St=new Array(Nt.length),Rt=St.length,kt=0;kt<Rt;kt+=1)St[kt]=$t[kt]-(Lt[kt]-Nt[kt])*Ft;return St}return $t-(Lt-Nt)*Ft}else if(pt==="continue"){var Tt=this.getValueAtTime(gt/this.comp.globalData.frameRate,0),Bt=this.getValueAtTime((gt+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(St=new Array(Tt.length),Rt=St.length,kt=0;kt<Rt;kt+=1)St[kt]=Tt[kt]+(Tt[kt]-Bt[kt])*(gt-yt)/.001;return St}return Tt+(Tt-Bt)*(gt-yt)/.001}return this.getValueAtTime((Et-((gt-yt)%Et+gt))/this.comp.globalData.frameRate,0)}function rt(pt,mt){if(!this.k)return this.pv;if(pt=(pt||.4)*.5,mt=Math.floor(mt||5),mt<=1)return this.pv;var xt=this.comp.renderedFrame/this.comp.globalData.frameRate,yt=xt-pt,vt=xt+pt,gt=mt>1?(vt-yt)/(mt-1):1,Et=0,jt=0,kt;this.pv.length?kt=createTypedArray("float32",this.pv.length):kt=0;for(var Rt;Et<mt;){if(Rt=this.getValueAtTime(yt+Et*gt),this.pv.length)for(jt=0;jt<this.pv.length;jt+=1)kt[jt]+=Rt[jt];else kt+=Rt;Et+=1}if(this.pv.length)for(jt=0;jt<this.pv.length;jt+=1)kt[jt]/=mt;else kt/=mt;return kt}function nt(pt){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var mt=this._transformCachingAtTime.v;if(mt.cloneFromProps(this.pre.props),this.appliedTransformations<1){var xt=this.a.getValueAtTime(pt);mt.translate(-xt[0]*this.a.mult,-xt[1]*this.a.mult,xt[2]*this.a.mult)}if(this.appliedTransformations<2){var yt=this.s.getValueAtTime(pt);mt.scale(yt[0]*this.s.mult,yt[1]*this.s.mult,yt[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var vt=this.sk.getValueAtTime(pt),gt=this.sa.getValueAtTime(pt);mt.skewFromAxis(-vt*this.sk.mult,gt*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var Et=this.r.getValueAtTime(pt);mt.rotate(-Et*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var jt=this.rz.getValueAtTime(pt),kt=this.ry.getValueAtTime(pt),Rt=this.rx.getValueAtTime(pt),St=this.or.getValueAtTime(pt);mt.rotateZ(-jt*this.rz.mult).rotateY(kt*this.ry.mult).rotateX(Rt*this.rx.mult).rotateZ(-St[2]*this.or.mult).rotateY(St[1]*this.or.mult).rotateX(St[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var _t=this.px.getValueAtTime(pt),Nt=this.py.getValueAtTime(pt);if(this.data.p.z){var Lt=this.pz.getValueAtTime(pt);mt.translate(_t*this.px.mult,Nt*this.py.mult,-Lt*this.pz.mult)}else mt.translate(_t*this.px.mult,Nt*this.py.mult,0)}else{var $t=this.p.getValueAtTime(pt);mt.translate($t[0]*this.p.mult,$t[1]*this.p.mult,-$t[2]*this.p.mult)}return mt}function st(){return this.v.clone(new Matrix)}var it=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(pt,mt,xt){var yt=it(pt,mt,xt);return yt.dynamicProperties.length?yt.getValueAtTime=nt.bind(yt):yt.getValueAtTime=st.bind(yt),yt.setGroupProperty=expressionHelpers.setGroupProperty,yt};var at=PropertyFactory.getProp;PropertyFactory.getProp=function(pt,mt,xt,yt,vt){var gt=at(pt,mt,xt,yt,vt);gt.kf?gt.getValueAtTime=expressionHelpers.getValueAtTime.bind(gt):gt.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(gt),gt.setGroupProperty=expressionHelpers.setGroupProperty,gt.loopOut=_e,gt.loopIn=et,gt.smooth=rt,gt.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(gt),gt.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(gt),gt.numKeys=mt.a===1?mt.k.length:0,gt.propertyIndex=mt.ix;var Et=0;return xt!==0&&(Et=createTypedArray("float32",mt.a===1?mt.k[0].s.length:mt.k.length)),gt._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:Et},expressionHelpers.searchExpressions(pt,mt,gt),gt.k&&vt.addDynamicProperty(gt),gt};function ot(pt){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),pt*=this.elem.globalData.frameRate,pt-=this.offsetTime,pt!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<pt?this._caching.lastIndex:0,this._cachingAtTime.lastTime=pt,this.interpolateShape(pt,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue}var lt=ShapePropertyFactory.getConstructorFunction(),ct=ShapePropertyFactory.getKeyframedConstructorFunction();function ut(){}ut.prototype={vertices:function(mt,xt){this.k&&this.getValue();var yt=this.v;xt!==void 0&&(yt=this.getValueAtTime(xt,0));var vt,gt=yt._length,Et=yt[mt],jt=yt.v,kt=createSizedArray(gt);for(vt=0;vt<gt;vt+=1)mt==="i"||mt==="o"?kt[vt]=[Et[vt][0]-jt[vt][0],Et[vt][1]-jt[vt][1]]:kt[vt]=[Et[vt][0],Et[vt][1]];return kt},points:function(mt){return this.vertices("v",mt)},inTangents:function(mt){return this.vertices("i",mt)},outTangents:function(mt){return this.vertices("o",mt)},isClosed:function(){return this.v.c},pointOnPath:function(mt,xt){var yt=this.v;xt!==void 0&&(yt=this.getValueAtTime(xt,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(yt));for(var vt=this._segmentsLength,gt=vt.lengths,Et=vt.totalLength*mt,jt=0,kt=gt.length,Rt=0,St;jt<kt;){if(Rt+gt[jt].addedLength>Et){var _t=jt,Nt=yt.c&&jt===kt-1?0:jt+1,Lt=(Et-Rt)/gt[jt].addedLength;St=bez.getPointInSegment(yt.v[_t],yt.v[Nt],yt.o[_t],yt.i[Nt],Lt,gt[jt]);break}else Rt+=gt[jt].addedLength;jt+=1}return St||(St=yt.c?[yt.v[0][0],yt.v[0][1]]:[yt.v[yt._length-1][0],yt.v[yt._length-1][1]]),St},vectorOnPath:function(mt,xt,yt){mt==1?mt=this.v.c:mt==0&&(mt=.999);var vt=this.pointOnPath(mt,xt),gt=this.pointOnPath(mt+.001,xt),Et=gt[0]-vt[0],jt=gt[1]-vt[1],kt=Math.sqrt(Math.pow(Et,2)+Math.pow(jt,2));if(kt===0)return[0,0];var Rt=yt==="tangent"?[Et/kt,jt/kt]:[-jt/kt,Et/kt];return Rt},tangentOnPath:function(mt,xt){return this.vectorOnPath(mt,xt,"tangent")},normalOnPath:function(mt,xt){return this.vectorOnPath(mt,xt,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([ut],lt),extendPrototype([ut],ct),ct.prototype.getValueAtTime=ot,ct.prototype.initiateExpression=ExpressionManager.initiateExpression;var dt=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(pt,mt,xt,yt,vt){var gt=dt(pt,mt,xt,yt,vt);return gt.propertyIndex=mt.ix,gt.lock=!1,xt===3?expressionHelpers.searchExpressions(pt,mt.pt,gt):xt===4&&expressionHelpers.searchExpressions(pt,mt.ks,gt),gt.k&&pt.addDynamicProperty(gt),gt}}function initialize$1(){addPropertyDecorator()}function addDecorator(){function _e(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}TextProperty.prototype.getExpressionValue=function(et,rt){var nt=this.calculateExpression(rt);if(et.t!==nt){var st={};return this.copyData(st,et),st.t=nt.toString(),st.__complete=!1,st}return et},TextProperty.prototype.searchProperty=function(){var et=this.searchKeyframes(),rt=this.searchExpressions();return this.kf=et||rt,this.kf},TextProperty.prototype.searchExpressions=_e}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function _e(et,rt){var nt=createNS("feMerge");nt.setAttribute("result",et);var st,it;for(it=0;it<rt.length;it+=1)st=createNS("feMergeNode"),st.setAttribute("in",rt[it]),nt.appendChild(st),nt.appendChild(st);return nt}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(_e,et,rt,nt,st){this.filterManager=et;var it=createNS("feColorMatrix");it.setAttribute("type","matrix"),it.setAttribute("color-interpolation-filters","linearRGB"),it.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=it,it.setAttribute("result",nt+"_tint_1"),_e.appendChild(it),it=createNS("feColorMatrix"),it.setAttribute("type","matrix"),it.setAttribute("color-interpolation-filters","sRGB"),it.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),it.setAttribute("result",nt+"_tint_2"),_e.appendChild(it),this.matrixFilter=it;var at=this.createMergeNode(nt,[st,nt+"_tint_1",nt+"_tint_2"]);_e.appendChild(at)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(_e){if(_e||this.filterManager._mdf){var et=this.filterManager.effectElements[0].p.v,rt=this.filterManager.effectElements[1].p.v,nt=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",linearFilterValue+" "+nt+" 0"),this.matrixFilter.setAttribute("values",rt[0]-et[0]+" 0 0 0 "+et[0]+" "+(rt[1]-et[1])+" 0 0 0 "+et[1]+" "+(rt[2]-et[2])+" 0 0 0 "+et[2]+" 0 0 0 1 0")}};function SVGFillFilter(_e,et,rt,nt){this.filterManager=et;var st=createNS("feColorMatrix");st.setAttribute("type","matrix"),st.setAttribute("color-interpolation-filters","sRGB"),st.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),st.setAttribute("result",nt),_e.appendChild(st),this.matrixFilter=st}SVGFillFilter.prototype.renderFrame=function(_e){if(_e||this.filterManager._mdf){var et=this.filterManager.effectElements[2].p.v,rt=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+et[0]+" 0 0 0 0 "+et[1]+" 0 0 0 0 "+et[2]+" 0 0 0 "+rt+" 0")}};function SVGStrokeEffect(_e,et,rt){this.initialized=!1,this.filterManager=et,this.elem=rt,this.paths=[]}SVGStrokeEffect.prototype.initialize=function(){var _e=this.elem.layerElement.children||this.elem.layerElement.childNodes,et,rt,nt,st;for(this.filterManager.effectElements[1].p.v===1?(st=this.elem.maskManager.masksProperties.length,nt=0):(nt=this.filterManager.effectElements[0].p.v-1,st=nt+1),rt=createNS("g"),rt.setAttribute("fill","none"),rt.setAttribute("stroke-linecap","round"),rt.setAttribute("stroke-dashoffset",1),nt;nt<st;nt+=1)et=createNS("path"),rt.appendChild(et),this.paths.push({p:et,m:nt});if(this.filterManager.effectElements[10].p.v===3){var it=createNS("mask"),at=createElementID();it.setAttribute("id",at),it.setAttribute("mask-type","alpha"),it.appendChild(rt),this.elem.globalData.defs.appendChild(it);var ot=createNS("g");for(ot.setAttribute("mask","url("+getLocationHref()+"#"+at+")");_e[0];)ot.appendChild(_e[0]);this.elem.layerElement.appendChild(ot),this.masker=it,rt.setAttribute("stroke","#fff")}else if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(this.filterManager.effectElements[10].p.v===2)for(_e=this.elem.layerElement.children||this.elem.layerElement.childNodes;_e.length;)this.elem.layerElement.removeChild(_e[0]);this.elem.layerElement.appendChild(rt),this.elem.layerElement.removeAttribute("mask"),rt.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=rt},SVGStrokeEffect.prototype.renderFrame=function(_e){this.initialized||this.initialize();var et,rt=this.paths.length,nt,st;for(et=0;et<rt;et+=1)if(this.paths[et].m!==-1&&(nt=this.elem.maskManager.viewData[this.paths[et].m],st=this.paths[et].p,(_e||this.filterManager._mdf||nt.prop._mdf)&&st.setAttribute("d",nt.lastPath),_e||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||nt.prop._mdf)){var it;if(this.filterManager.effectElements[7].p.v!==0||this.filterManager.effectElements[8].p.v!==100){var at=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,ot=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,lt=st.getTotalLength();it="0 0 0 "+lt*at+" ";var ct=lt*(ot-at),ut=1+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01,dt=Math.floor(ct/ut),pt;for(pt=0;pt<dt;pt+=1)it+="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01+" ";it+="0 "+lt*10+" 0 0"}else it="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01;st.setAttribute("stroke-dasharray",it)}if((_e||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",this.filterManager.effectElements[4].p.v*2),(_e||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2)&&(_e||this.filterManager.effectElements[3].p._mdf)){var mt=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(mt[0]*255)+","+bmFloor(mt[1]*255)+","+bmFloor(mt[2]*255)+")")}};function SVGTritoneFilter(_e,et,rt,nt){this.filterManager=et;var st=createNS("feColorMatrix");st.setAttribute("type","matrix"),st.setAttribute("color-interpolation-filters","linearRGB"),st.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),_e.appendChild(st);var it=createNS("feComponentTransfer");it.setAttribute("color-interpolation-filters","sRGB"),it.setAttribute("result",nt),this.matrixFilter=it;var at=createNS("feFuncR");at.setAttribute("type","table"),it.appendChild(at),this.feFuncR=at;var ot=createNS("feFuncG");ot.setAttribute("type","table"),it.appendChild(ot),this.feFuncG=ot;var lt=createNS("feFuncB");lt.setAttribute("type","table"),it.appendChild(lt),this.feFuncB=lt,_e.appendChild(it)}SVGTritoneFilter.prototype.renderFrame=function(_e){if(_e||this.filterManager._mdf){var et=this.filterManager.effectElements[0].p.v,rt=this.filterManager.effectElements[1].p.v,nt=this.filterManager.effectElements[2].p.v,st=nt[0]+" "+rt[0]+" "+et[0],it=nt[1]+" "+rt[1]+" "+et[1],at=nt[2]+" "+rt[2]+" "+et[2];this.feFuncR.setAttribute("tableValues",st),this.feFuncG.setAttribute("tableValues",it),this.feFuncB.setAttribute("tableValues",at)}};function SVGProLevelsFilter(_e,et,rt,nt){this.filterManager=et;var st=this.filterManager.effectElements,it=createNS("feComponentTransfer");(st[10].p.k||st[10].p.v!==0||st[11].p.k||st[11].p.v!==1||st[12].p.k||st[12].p.v!==1||st[13].p.k||st[13].p.v!==0||st[14].p.k||st[14].p.v!==1)&&(this.feFuncR=this.createFeFunc("feFuncR",it)),(st[17].p.k||st[17].p.v!==0||st[18].p.k||st[18].p.v!==1||st[19].p.k||st[19].p.v!==1||st[20].p.k||st[20].p.v!==0||st[21].p.k||st[21].p.v!==1)&&(this.feFuncG=this.createFeFunc("feFuncG",it)),(st[24].p.k||st[24].p.v!==0||st[25].p.k||st[25].p.v!==1||st[26].p.k||st[26].p.v!==1||st[27].p.k||st[27].p.v!==0||st[28].p.k||st[28].p.v!==1)&&(this.feFuncB=this.createFeFunc("feFuncB",it)),(st[31].p.k||st[31].p.v!==0||st[32].p.k||st[32].p.v!==1||st[33].p.k||st[33].p.v!==1||st[34].p.k||st[34].p.v!==0||st[35].p.k||st[35].p.v!==1)&&(this.feFuncA=this.createFeFunc("feFuncA",it)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(it.setAttribute("color-interpolation-filters","sRGB"),_e.appendChild(it)),(st[3].p.k||st[3].p.v!==0||st[4].p.k||st[4].p.v!==1||st[5].p.k||st[5].p.v!==1||st[6].p.k||st[6].p.v!==0||st[7].p.k||st[7].p.v!==1)&&(it=createNS("feComponentTransfer"),it.setAttribute("color-interpolation-filters","sRGB"),it.setAttribute("result",nt),_e.appendChild(it),this.feFuncRComposed=this.createFeFunc("feFuncR",it),this.feFuncGComposed=this.createFeFunc("feFuncG",it),this.feFuncBComposed=this.createFeFunc("feFuncB",it))}SVGProLevelsFilter.prototype.createFeFunc=function(_e,et){var rt=createNS(_e);return rt.setAttribute("type","table"),et.appendChild(rt),rt},SVGProLevelsFilter.prototype.getTableValue=function(_e,et,rt,nt,st){for(var it=0,at=256,ot,lt=Math.min(_e,et),ct=Math.max(_e,et),ut=Array.call(null,{length:at}),dt,pt=0,mt=st-nt,xt=et-_e;it<=256;)ot=it/256,ot<=lt?dt=xt<0?st:nt:ot>=ct?dt=xt<0?nt:st:dt=nt+mt*Math.pow((ot-_e)/xt,1/rt),ut[pt]=dt,pt+=1,it+=256/(at-1);return ut.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(_e){if(_e||this.filterManager._mdf){var et,rt=this.filterManager.effectElements;this.feFuncRComposed&&(_e||rt[3].p._mdf||rt[4].p._mdf||rt[5].p._mdf||rt[6].p._mdf||rt[7].p._mdf)&&(et=this.getTableValue(rt[3].p.v,rt[4].p.v,rt[5].p.v,rt[6].p.v,rt[7].p.v),this.feFuncRComposed.setAttribute("tableValues",et),this.feFuncGComposed.setAttribute("tableValues",et),this.feFuncBComposed.setAttribute("tableValues",et)),this.feFuncR&&(_e||rt[10].p._mdf||rt[11].p._mdf||rt[12].p._mdf||rt[13].p._mdf||rt[14].p._mdf)&&(et=this.getTableValue(rt[10].p.v,rt[11].p.v,rt[12].p.v,rt[13].p.v,rt[14].p.v),this.feFuncR.setAttribute("tableValues",et)),this.feFuncG&&(_e||rt[17].p._mdf||rt[18].p._mdf||rt[19].p._mdf||rt[20].p._mdf||rt[21].p._mdf)&&(et=this.getTableValue(rt[17].p.v,rt[18].p.v,rt[19].p.v,rt[20].p.v,rt[21].p.v),this.feFuncG.setAttribute("tableValues",et)),this.feFuncB&&(_e||rt[24].p._mdf||rt[25].p._mdf||rt[26].p._mdf||rt[27].p._mdf||rt[28].p._mdf)&&(et=this.getTableValue(rt[24].p.v,rt[25].p.v,rt[26].p.v,rt[27].p.v,rt[28].p.v),this.feFuncB.setAttribute("tableValues",et)),this.feFuncA&&(_e||rt[31].p._mdf||rt[32].p._mdf||rt[33].p._mdf||rt[34].p._mdf||rt[35].p._mdf)&&(et=this.getTableValue(rt[31].p.v,rt[32].p.v,rt[33].p.v,rt[34].p.v,rt[35].p.v),this.feFuncA.setAttribute("tableValues",et))}};function SVGDropShadowEffect(_e,et,rt,nt,st){var it=et.container.globalData.renderConfig.filterSize,at=et.data.fs||it;_e.setAttribute("x",at.x||it.x),_e.setAttribute("y",at.y||it.y),_e.setAttribute("width",at.width||it.width),_e.setAttribute("height",at.height||it.height),this.filterManager=et;var ot=createNS("feGaussianBlur");ot.setAttribute("in","SourceAlpha"),ot.setAttribute("result",nt+"_drop_shadow_1"),ot.setAttribute("stdDeviation","0"),this.feGaussianBlur=ot,_e.appendChild(ot);var lt=createNS("feOffset");lt.setAttribute("dx","25"),lt.setAttribute("dy","0"),lt.setAttribute("in",nt+"_drop_shadow_1"),lt.setAttribute("result",nt+"_drop_shadow_2"),this.feOffset=lt,_e.appendChild(lt);var ct=createNS("feFlood");ct.setAttribute("flood-color","#00ff00"),ct.setAttribute("flood-opacity","1"),ct.setAttribute("result",nt+"_drop_shadow_3"),this.feFlood=ct,_e.appendChild(ct);var ut=createNS("feComposite");ut.setAttribute("in",nt+"_drop_shadow_3"),ut.setAttribute("in2",nt+"_drop_shadow_2"),ut.setAttribute("operator","in"),ut.setAttribute("result",nt+"_drop_shadow_4"),_e.appendChild(ut);var dt=this.createMergeNode(nt,[nt+"_drop_shadow_4",st]);_e.appendChild(dt)}extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(_e){if(_e||this.filterManager._mdf){if((_e||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),_e||this.filterManager.effectElements[0].p._mdf){var et=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(et[0]*255),Math.round(et[1]*255),Math.round(et[2]*255)))}if((_e||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),_e||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var rt=this.filterManager.effectElements[3].p.v,nt=(this.filterManager.effectElements[2].p.v-90)*degToRads,st=rt*Math.cos(nt),it=rt*Math.sin(nt);this.feOffset.setAttribute("dx",st),this.feOffset.setAttribute("dy",it)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(_e,et,rt){this.initialized=!1,this.filterManager=et,this.filterElem=_e,this.elem=rt,rt.matteElement=createNS("g"),rt.matteElement.appendChild(rt.layerElement),rt.matteElement.appendChild(rt.transformedElement),rt.baseElement=rt.matteElement}SVGMatte3Effect.prototype.findSymbol=function(_e){for(var et=0,rt=_svgMatteSymbols.length;et<rt;){if(_svgMatteSymbols[et]===_e)return _svgMatteSymbols[et];et+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(_e,et){var rt=_e.layerElement.parentNode;if(rt){for(var nt=rt.children,st=0,it=nt.length;st<it&&nt[st]!==_e.layerElement;)st+=1;var at;st<=it-2&&(at=nt[st+1]);var ot=createNS("use");ot.setAttribute("href","#"+et),at?rt.insertBefore(ot,at):rt.appendChild(ot)}},SVGMatte3Effect.prototype.setElementAsMask=function(_e,et){if(!this.findSymbol(et)){var rt=createElementID(),nt=createNS("mask");nt.setAttribute("id",et.layerId),nt.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(et);var st=_e.globalData.defs;st.appendChild(nt);var it=createNS("symbol");it.setAttribute("id",rt),this.replaceInParent(et,rt),it.appendChild(et.layerElement),st.appendChild(it);var at=createNS("use");at.setAttribute("href","#"+rt),nt.appendChild(at),et.data.hd=!1,et.show()}_e.setMatte(et.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var _e=this.filterManager.effectElements[0].p.v,et=this.elem.comp.elements,rt=0,nt=et.length;rt<nt;)et[rt]&&et[rt].data.ind===_e&&this.setElementAsMask(this.elem,et[rt]),rt+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()};function SVGGaussianBlurEffect(_e,et,rt,nt){_e.setAttribute("x","-100%"),_e.setAttribute("y","-100%"),_e.setAttribute("width","300%"),_e.setAttribute("height","300%"),this.filterManager=et;var st=createNS("feGaussianBlur");st.setAttribute("result",nt),_e.appendChild(st),this.feGaussianBlur=st}SVGGaussianBlurEffect.prototype.renderFrame=function(_e){if(_e||this.filterManager._mdf){var et=.3,rt=this.filterManager.effectElements[0].p.v*et,nt=this.filterManager.effectElements[1].p.v,st=nt==3?0:rt,it=nt==2?0:rt;this.feGaussianBlur.setAttribute("stdDeviation",st+" "+it);var at=this.filterManager.effectElements[2].p.v==1?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",at)}};function TransformEffect(){}TransformEffect.prototype.init=function(_e){this.effectsManager=_e,this.type=effectTypes.TRANSFORM_EFFECT,this.matrix=new Matrix,this.opacity=-1,this._mdf=!1,this._opMdf=!1},TransformEffect.prototype.renderFrame=function(_e){if(this._opMdf=!1,this._mdf=!1,_e||this.effectsManager._mdf){var et=this.effectsManager.effectElements,rt=et[0].p.v,nt=et[1].p.v,st=et[2].p.v===1,it=et[3].p.v,at=st?it:et[4].p.v,ot=et[5].p.v,lt=et[6].p.v,ct=et[7].p.v;this.matrix.reset(),this.matrix.translate(-rt[0],-rt[1],rt[2]),this.matrix.scale(at*.01,it*.01,1),this.matrix.rotate(-ct*degToRads),this.matrix.skewFromAxis(-ot*degToRads,(lt+90)*degToRads),this.matrix.translate(nt[0],nt[1],0),this._mdf=!0,this.opacity!==et[8].p.v&&(this.opacity=et[8].p.v,this._opMdf=!0)}};function SVGTransformEffect(_e,et){this.init(et)}extendPrototype([TransformEffect],SVGTransformEffect);function CVTransformEffect(_e){this.init(_e)}return extendPrototype([TransformEffect],CVTransformEffect),registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect$1(20,SVGTintFilter,!0),registerEffect$1(21,SVGFillFilter,!0),registerEffect$1(22,SVGStrokeEffect,!1),registerEffect$1(23,SVGTritoneFilter,!0),registerEffect$1(24,SVGProLevelsFilter,!0),registerEffect$1(25,SVGDropShadowEffect,!0),registerEffect$1(28,SVGMatte3Effect,!1),registerEffect$1(29,SVGGaussianBlurEffect,!0),registerEffect$1(35,SVGTransformEffect,!1),registerEffect(35,CVTransformEffect),lottie})})(lottie$1,lottie$1.exports);var lottieExports=lottie$1.exports;const lottie=getDefaultExportFromCjs(lottieExports);function _arrayLikeToArray(_e,et){(et==null||et>_e.length)&&(et=_e.length);for(var rt=0,nt=Array(et);rt<et;rt++)nt[rt]=_e[rt];return nt}function _arrayWithHoles(_e){if(Array.isArray(_e))return _e}function _defineProperty(_e,et,rt){return(et=_toPropertyKey(et))in _e?Object.defineProperty(_e,et,{value:rt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=rt,_e}function _iterableToArrayLimit(_e,et){var rt=_e==null?null:typeof Symbol<"u"&&_e[Symbol.iterator]||_e["@@iterator"];if(rt!=null){var nt,st,it,at,ot=[],lt=!0,ct=!1;try{if(it=(rt=rt.call(_e)).next,et!==0)for(;!(lt=(nt=it.call(rt)).done)&&(ot.push(nt.value),ot.length!==et);lt=!0);}catch(ut){ct=!0,st=ut}finally{try{if(!lt&&rt.return!=null&&(at=rt.return(),Object(at)!==at))return}finally{if(ct)throw st}}return ot}}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ownKeys(_e,et){var rt=Object.keys(_e);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);et&&(nt=nt.filter(function(st){return Object.getOwnPropertyDescriptor(_e,st).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread2(_e){for(var et=1;et<arguments.length;et++){var rt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys(Object(rt),!0).forEach(function(nt){_defineProperty(_e,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(rt)):ownKeys(Object(rt)).forEach(function(nt){Object.defineProperty(_e,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return _e}function _objectWithoutProperties(_e,et){if(_e==null)return{};var rt,nt,st=_objectWithoutPropertiesLoose(_e,et);if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(_e);for(nt=0;nt<it.length;nt++)rt=it[nt],et.includes(rt)||{}.propertyIsEnumerable.call(_e,rt)&&(st[rt]=_e[rt])}return st}function _objectWithoutPropertiesLoose(_e,et){if(_e==null)return{};var rt={};for(var nt in _e)if({}.hasOwnProperty.call(_e,nt)){if(et.includes(nt))continue;rt[nt]=_e[nt]}return rt}function _slicedToArray(_e,et){return _arrayWithHoles(_e)||_iterableToArrayLimit(_e,et)||_unsupportedIterableToArray(_e,et)||_nonIterableRest()}function _toPrimitive(_e,et){if(typeof _e!="object"||!_e)return _e;var rt=_e[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(_e,et);if(typeof nt!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(_e)}function _toPropertyKey(_e){var et=_toPrimitive(_e,"string");return typeof et=="symbol"?et:et+""}function _unsupportedIterableToArray(_e,et){if(_e){if(typeof _e=="string")return _arrayLikeToArray(_e,et);var rt={}.toString.call(_e).slice(8,-1);return rt==="Object"&&_e.constructor&&(rt=_e.constructor.name),rt==="Map"||rt==="Set"?Array.from(_e):rt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rt)?_arrayLikeToArray(_e,et):void 0}}var _excluded$1=["animationData","loop","autoplay","initialSegment","onComplete","onLoopComplete","onEnterFrame","onSegmentStart","onConfigReady","onDataReady","onDataFailed","onLoadedImages","onDOMLoaded","onDestroy","lottieRef","renderer","name","assetsPath","rendererSettings"],useLottie=function _e(et,rt){var nt=et.animationData,st=et.loop,it=et.autoplay,at=et.initialSegment,ot=et.onComplete,lt=et.onLoopComplete,ct=et.onEnterFrame,ut=et.onSegmentStart,dt=et.onConfigReady,pt=et.onDataReady,mt=et.onDataFailed,xt=et.onLoadedImages,yt=et.onDOMLoaded,vt=et.onDestroy;et.lottieRef,et.renderer,et.name,et.assetsPath,et.rendererSettings;var gt=_objectWithoutProperties(et,_excluded$1),Et=reactExports.useState(!1),jt=_slicedToArray(Et,2),kt=jt[0],Rt=jt[1],St=reactExports.useRef(),_t=reactExports.useRef(null),Nt=function(){var Gt;(Gt=St.current)===null||Gt===void 0||Gt.play()},Lt=function(){var Gt;(Gt=St.current)===null||Gt===void 0||Gt.stop()},$t=function(){var Gt;(Gt=St.current)===null||Gt===void 0||Gt.pause()},Ft=function(Gt){var Vt;(Vt=St.current)===null||Vt===void 0||Vt.setSpeed(Gt)},Tt=function(Gt,Vt){var Jt;(Jt=St.current)===null||Jt===void 0||Jt.goToAndPlay(Gt,Vt)},Bt=function(Gt,Vt){var Jt;(Jt=St.current)===null||Jt===void 0||Jt.goToAndStop(Gt,Vt)},Wt=function(Gt){var Vt;(Vt=St.current)===null||Vt===void 0||Vt.setDirection(Gt)},qt=function(Gt,Vt){var Jt;(Jt=St.current)===null||Jt===void 0||Jt.playSegments(Gt,Vt)},Ot=function(Gt){var Vt;(Vt=St.current)===null||Vt===void 0||Vt.setSubframe(Gt)},Dt=function(Gt){var Vt;return(Vt=St.current)===null||Vt===void 0?void 0:Vt.getDuration(Gt)},Pt=function(){var Gt;(Gt=St.current)===null||Gt===void 0||Gt.destroy(),St.current=void 0},It=function(){var Gt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Vt;if(_t.current){(Vt=St.current)===null||Vt===void 0||Vt.destroy();var Jt=_objectSpread2(_objectSpread2(_objectSpread2({},et),Gt),{},{container:_t.current});return St.current=lottie.loadAnimation(Jt),Rt(!!St.current),function(){var rr;(rr=St.current)===null||rr===void 0||rr.destroy(),St.current=void 0}}};reactExports.useEffect(function(){var Ht=It();return function(){return Ht==null?void 0:Ht()}},[nt,st]),reactExports.useEffect(function(){St.current&&(St.current.autoplay=!!it)},[it]),reactExports.useEffect(function(){if(St.current){if(!at){St.current.resetSegments(!0);return}!Array.isArray(at)||!at.length||((St.current.currentRawFrame<at[0]||St.current.currentRawFrame>at[1])&&(St.current.currentRawFrame=at[0]),St.current.setSegment(at[0],at[1]))}},[at]),reactExports.useEffect(function(){var Ht=[{name:"complete",handler:ot},{name:"loopComplete",handler:lt},{name:"enterFrame",handler:ct},{name:"segmentStart",handler:ut},{name:"config_ready",handler:dt},{name:"data_ready",handler:pt},{name:"data_failed",handler:mt},{name:"loaded_images",handler:xt},{name:"DOMLoaded",handler:yt},{name:"destroy",handler:vt}],Gt=Ht.filter(function(Jt){return Jt.handler!=null});if(Gt.length){var Vt=Gt.map(function(Jt){var rr;return(rr=St.current)===null||rr===void 0||rr.addEventListener(Jt.name,Jt.handler),function(){var ar;(ar=St.current)===null||ar===void 0||ar.removeEventListener(Jt.name,Jt.handler)}});return function(){Vt.forEach(function(Jt){return Jt()})}}},[ot,lt,ct,ut,dt,pt,mt,xt,yt,vt]);var At=React$3.createElement("div",_objectSpread2({style:rt,ref:_t},gt));return{View:At,play:Nt,stop:Lt,pause:$t,setSpeed:Ft,goToAndStop:Bt,goToAndPlay:Tt,setDirection:Wt,playSegments:qt,setSubframe:Ot,getDuration:Dt,destroy:Pt,animationContainerRef:_t,animationLoaded:kt,animationItem:St.current}};function getContainerVisibility(_e){var et=_e.getBoundingClientRect(),rt=et.top,nt=et.height,st=window.innerHeight-rt,it=window.innerHeight+nt;return st/it}function getContainerCursorPosition(_e,et,rt){var nt=_e.getBoundingClientRect(),st=nt.top,it=nt.left,at=nt.width,ot=nt.height,lt=(et-it)/at,ct=(rt-st)/ot;return{x:lt,y:ct}}var useInitInteractivity=function _e(et){var rt=et.wrapperRef,nt=et.animationItem,st=et.mode,it=et.actions;reactExports.useEffect(function(){var at=rt.current;if(!(!at||!nt||!it.length)){nt.stop();var ot=function(){var ut=null,dt=function(){var mt=getContainerVisibility(at),xt=it.find(function(vt){var gt=vt.visibility;return gt&&mt>=gt[0]&&mt<=gt[1]});if(xt){if(xt.type==="seek"&&xt.visibility&&xt.frames.length===2){var yt=xt.frames[0]+Math.ceil((mt-xt.visibility[0])/(xt.visibility[1]-xt.visibility[0])*xt.frames[1]);//! goToAndStop must be relative to the start of the current segment
nt.goToAndStop(yt-nt.firstFrame-1,!0)}xt.type==="loop"&&(ut===null||ut!==xt.frames||nt.isPaused)&&(nt.playSegments(xt.frames,!0),ut=xt.frames),xt.type==="play"&&nt.isPaused&&(nt.resetSegments(!0),nt.play()),xt.type==="stop"&&nt.goToAndStop(xt.frames[0]-nt.firstFrame-1,!0)}};return document.addEventListener("scroll",dt),function(){document.removeEventListener("scroll",dt)}},lt=function(){var ut=function(xt,yt){var vt=xt,gt=yt;if(vt!==-1&&gt!==-1){var Et=getContainerCursorPosition(at,vt,gt);vt=Et.x,gt=Et.y}var jt=it.find(function(St){var _t=St.position;return _t&&Array.isArray(_t.x)&&Array.isArray(_t.y)?vt>=_t.x[0]&&vt<=_t.x[1]&&gt>=_t.y[0]&&gt<=_t.y[1]:_t&&!Number.isNaN(_t.x)&&!Number.isNaN(_t.y)?vt===_t.x&&gt===_t.y:!1});if(jt){if(jt.type==="seek"&&jt.position&&Array.isArray(jt.position.x)&&Array.isArray(jt.position.y)&&jt.frames.length===2){var kt=(vt-jt.position.x[0])/(jt.position.x[1]-jt.position.x[0]),Rt=(gt-jt.position.y[0])/(jt.position.y[1]-jt.position.y[0]);nt.playSegments(jt.frames,!0),nt.goToAndStop(Math.ceil((kt+Rt)/2*(jt.frames[1]-jt.frames[0])),!0)}jt.type==="loop"&&nt.playSegments(jt.frames,!0),jt.type==="play"&&(nt.isPaused&&nt.resetSegments(!1),nt.playSegments(jt.frames)),jt.type==="stop"&&nt.goToAndStop(jt.frames[0],!0)}},dt=function(xt){ut(xt.clientX,xt.clientY)},pt=function(){ut(-1,-1)};return at.addEventListener("mousemove",dt),at.addEventListener("mouseout",pt),function(){at.removeEventListener("mousemove",dt),at.removeEventListener("mouseout",pt)}};switch(st){case"scroll":return ot();case"cursor":return lt()}}},[st,nt])},useLottieInteractivity=function _e(et){var rt=et.actions,nt=et.mode,st=et.lottieObj,it=st.animationItem,at=st.View,ot=st.animationContainerRef;return useInitInteractivity({actions:rt,animationItem:it,mode:nt,wrapperRef:ot}),at},_excluded=["style","interactivity"],Lottie=function _e(et){var rt,nt,st,it=et.style,at=et.interactivity,ot=_objectWithoutProperties(et,_excluded),lt=useLottie(ot,it),ct=lt.View,ut=lt.play,dt=lt.stop,pt=lt.pause,mt=lt.setSpeed,xt=lt.goToAndStop,yt=lt.goToAndPlay,vt=lt.setDirection,gt=lt.playSegments,Et=lt.setSubframe,jt=lt.getDuration,kt=lt.destroy,Rt=lt.animationContainerRef,St=lt.animationLoaded,_t=lt.animationItem;return reactExports.useEffect(function(){et.lottieRef&&(et.lottieRef.current={play:ut,stop:dt,pause:pt,setSpeed:mt,goToAndPlay:yt,goToAndStop:xt,setDirection:vt,playSegments:gt,setSubframe:Et,getDuration:jt,destroy:kt,animationContainerRef:Rt,animationLoaded:St,animationItem:_t})},[(rt=et.lottieRef)===null||rt===void 0?void 0:rt.current]),useLottieInteractivity({lottieObj:{View:ct,play:ut,stop:dt,pause:pt,setSpeed:mt,goToAndStop:xt,goToAndPlay:yt,setDirection:vt,playSegments:gt,setSubframe:Et,getDuration:jt,destroy:kt,animationContainerRef:Rt,animationLoaded:St,animationItem:_t},actions:(nt=at==null?void 0:at.actions)!==null&&nt!==void 0?nt:[],mode:(st=at==null?void 0:at.mode)!==null&&st!==void 0?st:"scroll"})};const v$2="5.7.4",fr=60,ip=0,op=120,w$5=200,h$5=200,nm="Shopping Bag Loading",ddd=0,assets=[],layers=[{ddd:0,ind:1,ty:4,nm:"Bag",sr:1,ks:{o:{a:0,k:100},r:{a:1,k:[{t:0,s:[-5],e:[5]},{t:30,s:[5],e:[-5]},{t:60,s:[-5],e:[5]},{t:90,s:[5],e:[-5]},{t:120,s:[-5]}]},p:{a:1,k:[{t:0,s:[100,100,0],e:[100,90,0]},{t:30,s:[100,90,0],e:[100,100,0]},{t:60,s:[100,100,0],e:[100,90,0]},{t:90,s:[100,90,0],e:[100,100,0]},{t:120,s:[100,100,0]}]},a:{a:0,k:[100,100,0]},s:{a:0,k:[100,100,100]}},ao:0,shapes:[{ty:"gr",it:[{ty:"rc",d:1,s:{a:0,k:[80,90]},p:{a:0,k:[0,10]},r:{a:0,k:12},nm:"Bag Body"},{ty:"st",c:{a:0,k:[.4,.35,.9,1]},o:{a:0,k:100},w:{a:0,k:6},lc:2,lj:2,nm:"Stroke"},{ty:"fl",c:{a:0,k:[.95,.93,1,1]},o:{a:0,k:100},r:1,nm:"Fill"},{ty:"tr",p:{a:0,k:[100,105]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},r:{a:0,k:0},o:{a:0,k:100}}],nm:"Body Group"},{ty:"gr",it:[{ty:"el",s:{a:0,k:[40,30]},p:{a:0,k:[0,0]},nm:"Handle"},{ty:"st",c:{a:0,k:[.4,.35,.9,1]},o:{a:0,k:100},w:{a:0,k:6},lc:2,lj:2,nm:"Handle Stroke"},{ty:"tr",p:{a:0,k:[100,65]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},r:{a:0,k:0},o:{a:0,k:100}}],nm:"Handle Group"}],ip:0,op:120,st:0},{ddd:0,ind:2,ty:4,nm:"Sparkle1",sr:1,ks:{o:{a:1,k:[{t:0,s:[0],e:[100]},{t:15,s:[100],e:[0]},{t:30,s:[0],e:[100]},{t:45,s:[100],e:[0]},{t:60,s:[0],e:[100]},{t:75,s:[100],e:[0]},{t:90,s:[0],e:[100]},{t:105,s:[100],e:[0]},{t:120,s:[0]}]},r:{a:0,k:0},p:{a:0,k:[145,55,0]},a:{a:0,k:[0,0,0]},s:{a:1,k:[{t:0,s:[50,50,100],e:[100,100,100]},{t:15,s:[100,100,100],e:[50,50,100]},{t:30,s:[50,50,100]}]}},ao:0,shapes:[{ty:"gr",it:[{ty:"sr",sy:1,d:1,pt:{a:0,k:4},p:{a:0,k:[0,0]},r:{a:0,k:0},ir:{a:0,k:3},is:{a:0,k:0},or:{a:0,k:10},os:{a:0,k:0},ix:1,nm:"Star"},{ty:"fl",c:{a:0,k:[1,.85,0,1]},o:{a:0,k:100},r:1,nm:"Fill"},{ty:"tr",p:{a:0,k:[0,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},r:{a:0,k:45},o:{a:0,k:100}}],nm:"Star Group"}],ip:0,op:120,st:0},{ddd:0,ind:3,ty:4,nm:"Sparkle2",sr:1,ks:{o:{a:1,k:[{t:0,s:[100],e:[0]},{t:20,s:[0],e:[100]},{t:40,s:[100],e:[0]},{t:60,s:[0],e:[100]},{t:80,s:[100],e:[0]},{t:100,s:[0],e:[100]},{t:120,s:[100]}]},r:{a:0,k:0},p:{a:0,k:[55,145,0]},a:{a:0,k:[0,0,0]},s:{a:0,k:[80,80,100]}},ao:0,shapes:[{ty:"gr",it:[{ty:"sr",sy:1,d:1,pt:{a:0,k:4},p:{a:0,k:[0,0]},r:{a:0,k:0},ir:{a:0,k:2},is:{a:0,k:0},or:{a:0,k:8},os:{a:0,k:0},ix:1,nm:"Star"},{ty:"fl",c:{a:0,k:[1,.7,.8,1]},o:{a:0,k:100},r:1,nm:"Fill"},{ty:"tr",p:{a:0,k:[0,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},r:{a:0,k:45},o:{a:0,k:100}}],nm:"Star Group"}],ip:0,op:120,st:0}],markers=[],loadingAnimation={v:v$2,fr,ip,op,w:w$5,h:h$5,nm,ddd,assets,layers,markers},LoadingScreen=({message:_e="ang ti...",fullScreen:et=!0})=>{const rt=et?"fixed inset-0 z-50 bg-white dark:bg-secondary-900":"w-full py-20";return jsxRuntimeExports.jsxs("div",{className:`${rt} flex flex-col items-center justify-center`,children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary-400/20 via-pink-400/20 to-purple-400/20 rounded-full blur-2xl scale-150 animate-pulse"}),jsxRuntimeExports.jsx("div",{className:"relative w-32 h-32",children:jsxRuntimeExports.jsx(Lottie,{animationData:loadingAnimation,loop:!0,autoplay:!0,style:{width:"100%",height:"100%"}})})]}),jsxRuntimeExports.jsx("p",{className:"mt-6 text-secondary-600 dark:text-secondary-400 text-sm font-medium animate-pulse",children:_e}),jsxRuntimeExports.jsx("div",{className:"mt-4 w-48 h-1 bg-secondary-100 dark:bg-secondary-800 rounded-full overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:"h-full bg-gradient-to-r from-primary-500 via-pink-500 to-purple-500 rounded-full",style:{animation:"shimmer 1.5s ease-in-out infinite",width:"50%"}})}),jsxRuntimeExports.jsx("style",{children:`
        @keyframes shimmer {
          0% { transform: translateX(-100%); }
          100% { transform: translateX(300%); }
        }
      `})]})};function DashboardPage(){var it;const[_e,et]=reactExports.useState(null),[rt,nt]=reactExports.useState(!0);if(reactExports.useEffect(()=>{(async()=>{try{const ot=await adminAPI.getDashboard();et(ot.data.data)}catch{zt.error("Khng th ti d liu bng iu khin")}finally{nt(!1)}})()},[]),rt)return jsxRuntimeExports.jsx(LoadingScreen,{message:"ang ti d liu dashboard...",fullScreen:!1});const st=((it=_e==null?void 0:_e.salesOverTime)==null?void 0:it.map(at=>({date:new Date(at.date).toLocaleDateString("vi-VN",{weekday:"short"}),total:Number(at.total)})))||[];return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx("div",{className:"flex justify-between items-end",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-secondary-900 dark:text-white",children:"Xin cho, Qun tr vin"}),jsxRuntimeExports.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 mt-1",children:"Di y l tng quan v hot ng ca ca hng hm nay."})]})}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-secondary-800 p-6 rounded-xl border border-secondary-200 dark:border-secondary-700 shadow-sm transition-colors",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start mb-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 text-sm font-medium",children:"Tng doanh thu"}),jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-secondary-900 dark:text-white mt-1",children:formatPrice(_e.totalRevenue)})]}),jsxRuntimeExports.jsx("div",{className:"p-2 bg-green-50 dark:bg-green-900/20 rounded-lg",children:jsxRuntimeExports.jsx(DollarSign,{className:"w-5 h-5 text-green-600 dark:text-green-400"})})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 text-green-600 dark:text-green-400 text-xs font-medium",children:[jsxRuntimeExports.jsx(ArrowUpRight,{className:"w-3 h-3"}),jsxRuntimeExports.jsx("span",{children:"+15% so vi thng trc"})]})]}),jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-secondary-800 p-6 rounded-xl border border-secondary-200 dark:border-secondary-700 shadow-sm transition-colors",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start mb-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 text-sm font-medium",children:"Tng n hng"}),jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-secondary-900 dark:text-white mt-1",children:_e.totalOrders}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-orange-600 dark:text-orange-400 mt-1",children:[_e.pendingOrders," n ch x l"]})]}),jsxRuntimeExports.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:jsxRuntimeExports.jsx(ShoppingBag,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})})]})}),jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-secondary-800 p-6 rounded-xl border border-secondary-200 dark:border-secondary-700 shadow-sm transition-colors",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start mb-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 text-sm font-medium",children:"Tng sn phm"}),jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-secondary-900 dark:text-white mt-1",children:_e.totalProducts})]}),jsxRuntimeExports.jsx("div",{className:"p-2 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:jsxRuntimeExports.jsx(Package,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 text-green-600 dark:text-green-400 text-xs font-medium",children:[jsxRuntimeExports.jsx(ArrowUpRight,{className:"w-3 h-3"}),jsxRuntimeExports.jsx("span",{children:"+12 mi tun ny"})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-secondary-800 p-6 rounded-xl border border-secondary-200 dark:border-secondary-700 shadow-sm transition-colors",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start mb-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 text-sm font-medium",children:"Khch hng"}),jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-secondary-900 dark:text-white mt-1",children:_e.totalUsers})]}),jsxRuntimeExports.jsx("div",{className:"p-2 bg-orange-50 dark:bg-orange-900/20 rounded-lg",children:jsxRuntimeExports.jsx(Users,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"})})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 text-green-600 dark:text-green-400 text-xs font-medium",children:[jsxRuntimeExports.jsx(ArrowUpRight,{className:"w-3 h-3"}),jsxRuntimeExports.jsx("span",{children:"+8% tng trng"})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-bold text-secondary-900 dark:text-white mb-4",children:"Thao tc nhanh"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsxs(Link$1,{to:"/admin/products/new",className:"bg-white dark:bg-secondary-800 p-4 rounded-xl border border-secondary-200 dark:border-secondary-700 shadow-sm hover:border-primary-500 dark:hover:border-primary-500 transition-colors flex items-center gap-4 group",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-50 dark:bg-blue-900/20 flex items-center justify-center text-blue-600 dark:text-blue-400 group-hover:bg-blue-600 group-hover:text-white transition-colors",children:jsxRuntimeExports.jsx(Plus,{className:"w-5 h-5"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-secondary-900 dark:text-white",children:"Thm sn phm"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-secondary-500 dark:text-secondary-400",children:"To mi sn phm"})]})]}),jsxRuntimeExports.jsxs(Link$1,{to:"/admin/categories",className:"bg-white dark:bg-secondary-800 p-4 rounded-xl border border-secondary-200 dark:border-secondary-700 shadow-sm hover:border-primary-500 dark:hover:border-primary-500 transition-colors flex items-center gap-4 group",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-full bg-purple-50 dark:bg-purple-900/20 flex items-center justify-center text-purple-600 dark:text-purple-400 group-hover:bg-purple-600 group-hover:text-white transition-colors",children:jsxRuntimeExports.jsx(List,{className:"w-5 h-5"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-secondary-900 dark:text-white",children:"Danh mc"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-secondary-500 dark:text-secondary-400",children:"Qun l nhm sn phm"})]})]}),jsxRuntimeExports.jsxs(Link$1,{to:"/admin/orders",className:"bg-white dark:bg-secondary-800 p-4 rounded-xl border border-secondary-200 dark:border-secondary-700 shadow-sm hover:border-primary-500 dark:hover:border-primary-500 transition-colors flex items-center gap-4 group",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-full bg-orange-50 dark:bg-orange-900/20 flex items-center justify-center text-orange-600 dark:text-orange-400 group-hover:bg-orange-600 group-hover:text-white transition-colors",children:jsxRuntimeExports.jsx(Truck,{className:"w-5 h-5"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-secondary-900 dark:text-white",children:"Vn n"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-secondary-500 dark:text-secondary-400",children:"X l n hng ch giao"})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-secondary-800 p-6 rounded-xl border border-secondary-200 dark:border-secondary-700 shadow-sm transition-colors",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-bold text-secondary-900 dark:text-white",children:"Doanh thu theo thi gian"}),jsxRuntimeExports.jsxs("select",{className:"text-sm border-secondary-200 dark:border-secondary-600 bg-white dark:bg-secondary-700 rounded-lg text-secondary-600 dark:text-secondary-200 focus:ring-primary-500 focus:border-primary-500",children:[jsxRuntimeExports.jsx("option",{children:"30 ngy qua"}),jsxRuntimeExports.jsx("option",{children:"7 ngy qua"})]})]}),jsxRuntimeExports.jsx("div",{className:"h-80 w-full",children:st.length>0?jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:"100%",children:jsxRuntimeExports.jsxs(AreaChart,{data:st,children:[jsxRuntimeExports.jsx("defs",{children:jsxRuntimeExports.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[jsxRuntimeExports.jsx("stop",{offset:"5%",stopColor:"#2563eb",stopOpacity:.1}),jsxRuntimeExports.jsx("stop",{offset:"95%",stopColor:"#2563eb",stopOpacity:0})]})}),jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3",vertical:!1,stroke:"#e5e7eb"}),jsxRuntimeExports.jsx(XAxis,{dataKey:"date",axisLine:!1,tickLine:!1,tick:{fill:"#6b7280",fontSize:"12px"},dy:10}),jsxRuntimeExports.jsx(YAxis,{axisLine:!1,tickLine:!1,tick:{fill:"#6b7280",fontSize:"12px"},tickFormatter:at=>`${at/1e3}k`}),jsxRuntimeExports.jsx(Tooltip,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},formatter:at=>[formatPrice(Number(at||0)),"Doanh thu"]}),jsxRuntimeExports.jsx(Area,{type:"monotone",dataKey:"total",stroke:"#2563eb",strokeWidth:2,fillOpacity:1,fill:"url(#colorRevenue)"})]})}):jsxRuntimeExports.jsx("div",{className:"h-full flex items-center justify-center text-secondary-400",children:"Cha c d liu doanh thu"})})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-secondary-800 p-6 rounded-xl border border-secondary-200 dark:border-secondary-700 shadow-sm transition-colors",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-bold text-secondary-900 dark:text-white mb-6",children:"n hng tun ny"}),jsxRuntimeExports.jsx("div",{className:"h-80 flex items-end justify-between px-2 gap-2",children:_e.ordersThisWeek&&_e.ordersThisWeek.length>0?_e.ordersThisWeek.map((at,ot)=>{const lt=Math.max(..._e.ordersThisWeek.map(ut=>Number(ut.count))),ct=lt>0?Number(at.count)/lt*80+20:0;return jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center gap-2 flex-1 h-full justify-end",children:[jsxRuntimeExports.jsxs("div",{className:"w-full flex justify-center items-end flex-1 group relative",children:[jsxRuntimeExports.jsx("div",{className:"w-8 bg-blue-100 dark:bg-blue-900/40 rounded-t-lg transition-all group-hover:bg-blue-200 dark:group-hover:bg-blue-800",style:{height:`${ct}%`}}),jsxRuntimeExports.jsx("div",{className:"absolute -top-10 left-1/2 -translate-x-1/2 bg-gray-800 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity",children:Number(at.count)})]}),jsxRuntimeExports.jsx("span",{className:"text-xs text-secondary-500 dark:text-secondary-400",children:at.day})]},ot)}):jsxRuntimeExports.jsx("div",{className:"w-full h-full flex items-center justify-center text-secondary-400 text-sm",children:"Khng c n hng tun ny"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-xl border border-secondary-200 dark:border-secondary-700 shadow-sm overflow-hidden transition-colors",children:[jsxRuntimeExports.jsxs("div",{className:"p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-bold text-secondary-900 dark:text-white",children:"n hng gn y"}),jsxRuntimeExports.jsx(Link$1,{to:"/admin/orders",className:"text-sm text-primary-600 font-medium hover:underline",children:"Xem tt c"})]}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"w-full",children:[jsxRuntimeExports.jsx("thead",{className:"bg-secondary-50 dark:bg-secondary-700/50",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"M n"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Khch hng"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Ngy t"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Tng tin"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Trng thi"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Thao tc"})]})}),jsxRuntimeExports.jsxs("tbody",{className:"bg-white dark:bg-secondary-800 divide-y divide-secondary-200 dark:divide-secondary-700",children:[_e.recentOrders.map(at=>{var ot,lt,ct;return jsxRuntimeExports.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-700/50",children:[jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-secondary-900 dark:text-white",children:jsxRuntimeExports.jsxs(Link$1,{to:`/admin/orders/${at.id}`,className:"hover:text-primary-600 dark:hover:text-primary-400",children:["#",at.order_code]})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"flex-shrink-0 h-8 w-8 rounded-full bg-secondary-200 dark:bg-secondary-700 flex items-center justify-center text-xs font-bold text-secondary-600 dark:text-secondary-300",children:((lt=(ot=at.user)==null?void 0:ot.username)==null?void 0:lt.charAt(0).toUpperCase())||"G"}),jsxRuntimeExports.jsx("div",{className:"ml-3",children:jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-secondary-900 dark:text-white",children:((ct=at.user)==null?void 0:ct.username)||at.customer_name||"Khch l"})})]})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-500 dark:text-secondary-400",children:new Date(at.created_at).toLocaleDateString("vi-VN")}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-secondary-900 dark:text-white",children:formatPrice(Number(at.grand_total))}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${at.status==="completed"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":at.status==="pending"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300":at.status==="shipped"?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300"}`,children:at.status==="completed"?"Hon thnh":at.status==="pending"?"Ch x l":at.status==="shipped"?"ang giao":"Hu b"})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:jsxRuntimeExports.jsx("button",{className:"text-secondary-400 hover:text-secondary-600 dark:hover:text-secondary-200",children:jsxRuntimeExports.jsx(EllipsisVertical,{className:"w-4 h-4"})})})]},at.id)}),_e.recentOrders.length===0&&jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-secondary-500 dark:text-secondary-400",children:"Khng tm thy n hng no gn y"})})]})]})})]})]})}function ProductListPage(){const[_e,et]=reactExports.useState([]),[rt,nt]=reactExports.useState(!0),[st,it]=reactExports.useState(""),[at,ot]=reactExports.useState(""),[lt,ct]=reactExports.useState({page:1,limit:10,total:0,totalPages:0}),[ut,dt]=reactExports.useState({isOpen:!1,productId:null}),[pt,mt]=reactExports.useState(!1),[xt,yt]=reactExports.useState(null),[vt,gt]=reactExports.useState(!1),[Et,jt]=reactExports.useState(null),kt=reactExports.useRef(null),Rt=async()=>{nt(!0);try{const Ft=await adminAPI.getProducts({page:lt.page,limit:lt.limit,search:st||void 0,status:at||void 0});et(Ft.data.data),ct(Tt=>({...Tt,...Ft.data.pagination}))}catch{zt.error("Khng th ti danh sch sn phm")}finally{nt(!1)}};reactExports.useEffect(()=>{const Ft=setTimeout(()=>{Rt()},300);return()=>clearTimeout(Ft)},[st,at,lt.page]);const St=async()=>{if(ut.productId)try{await adminAPI.deleteProduct(ut.productId),zt.success("Xa sn phm thnh cng"),Rt()}catch{zt.error("Xa sn phm tht bi")}},_t=()=>{const Ft=localStorage.getItem("token");window.open(`https://webbanquanao-1.onrender.com/api/admin/export/products?token=${Ft}`,"_blank")},Nt=()=>{const Ft=localStorage.getItem("token");window.open(`https://webbanquanao-1.onrender.com/api/admin/import/products/template?token=${Ft}`,"_blank")},Lt=async()=>{var Ft,Tt,Bt;if(xt){gt(!0),jt(null);try{const Wt=new FormData;Wt.append("file",xt);const qt=await adminAPI.importProducts(Wt);jt(qt.data.data),qt.data.data.errors.length===0?zt.success(`Nhp thnh cng: ${qt.data.data.created} mi, ${qt.data.data.updated} cp nht`):zt.error(`C ${qt.data.data.errors.length} li khi nhp`),Rt()}catch(Wt){zt.error(((Bt=(Tt=(Ft=Wt.response)==null?void 0:Ft.data)==null?void 0:Tt.error)==null?void 0:Bt.message)||"Nhp Excel tht bi")}finally{gt(!1)}}},$t=()=>{mt(!1),yt(null),jt(null)};return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-secondary-900 dark:text-white",children:"Sn phm"}),jsxRuntimeExports.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 text-sm",children:"Qun l kho hng v danh mc sn phm"})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 flex-wrap",children:[jsxRuntimeExports.jsxs(Link$1,{to:"/admin/coupons/new",className:"flex items-center gap-2 px-4 py-2 bg-white border border-secondary-200 dark:bg-secondary-800 dark:border-secondary-700 text-secondary-700 dark:text-secondary-300 rounded-full hover:bg-secondary-50 dark:hover:bg-secondary-700 transition-colors font-medium text-sm",children:[jsxRuntimeExports.jsx(Ticket,{className:"w-4 h-4"}),"Thm khuyn mi"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>mt(!0),className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-secondary-800 border border-secondary-200 dark:border-secondary-700 rounded-full text-secondary-700 dark:text-secondary-300 hover:bg-secondary-50 dark:hover:bg-secondary-700 transition-colors font-medium text-sm",children:[jsxRuntimeExports.jsx(Upload,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:"Nhp Excel"})]}),jsxRuntimeExports.jsxs("button",{onClick:_t,className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-secondary-800 border border-secondary-200 dark:border-secondary-700 rounded-full text-secondary-700 dark:text-secondary-300 hover:bg-secondary-50 dark:hover:bg-secondary-700 transition-colors font-medium text-sm",children:[jsxRuntimeExports.jsx(Download,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:"Xut Excel"})]}),jsxRuntimeExports.jsxs(Link$1,{to:"/admin/products/new",className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-full hover:bg-primary-700 transition-colors font-medium text-sm",children:[jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4"}),"Thm sn phm"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-secondary-800 p-4 rounded-xl border border-secondary-200 dark:border-secondary-700 shadow-sm flex flex-col sm:flex-row gap-4 transition-colors",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 relative",children:[jsxRuntimeExports.jsx(Search,{className:"w-5 h-5 text-secondary-400 absolute left-3 top-1/2 -translate-y-1/2"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Tm kim theo tn hoc SKU...",value:st,onChange:Ft=>it(Ft.target.value),className:"w-full pl-10 pr-4 py-2 border border-secondary-200 dark:border-secondary-700 bg-white dark:bg-secondary-900 rounded-full text-sm text-secondary-900 dark:text-white placeholder-secondary-400 focus:ring-primary-500 focus:border-primary-500 transition-colors"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[jsxRuntimeExports.jsx(Filter,{className:"w-5 h-5 text-secondary-400"}),jsxRuntimeExports.jsxs("select",{value:at,onChange:Ft=>ot(Ft.target.value),className:"flex-1 sm:w-40 border border-secondary-200 dark:border-secondary-700 bg-white dark:bg-secondary-900 rounded-full text-sm text-secondary-900 dark:text-white focus:ring-primary-500 focus:border-primary-500 transition-colors",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Tt c trng thi"}),jsxRuntimeExports.jsx("option",{value:"active",children:"ang bn"}),jsxRuntimeExports.jsx("option",{value:"inactive",children:"Bn nhp"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-xl border border-secondary-200 dark:border-secondary-700 shadow-sm overflow-hidden transition-colors",children:[jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"w-full",children:[jsxRuntimeExports.jsx("thead",{className:"bg-secondary-50 dark:bg-secondary-700/50",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Sn phm"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"SKU"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Danh mc"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Gi"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Kho"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Trng thi"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Thao tc"})]})}),jsxRuntimeExports.jsx("tbody",{className:"divide-y divide-secondary-200 dark:divide-secondary-700 bg-white dark:bg-secondary-800",children:rt?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:7,className:"px-6 py-8 text-center",children:jsxRuntimeExports.jsx("div",{className:"flex justify-center",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})})})}):_e.length>0?_e.map(Ft=>{var Tt,Bt,Wt;return jsxRuntimeExports.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-700/50 transition-colors",children:[jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"h-10 w-10 flex-shrink-0 rounded-lg bg-secondary-100 dark:bg-secondary-700 overflow-hidden",children:Ft.product_images&&Ft.product_images.length>0?jsxRuntimeExports.jsx("img",{src:((Tt=Ft.product_images.find(qt=>qt.is_primary))==null?void 0:Tt.url)||Ft.product_images[0].url,alt:Ft.name,className:"h-full w-full object-cover",referrerPolicy:"no-referrer"}):jsxRuntimeExports.jsx("div",{className:"h-full w-full flex items-center justify-center text-secondary-400",children:jsxRuntimeExports.jsx(Package,{className:"w-5 h-5"})})}),jsxRuntimeExports.jsx("div",{className:"ml-4",children:jsxRuntimeExports.jsx("div",{className:"text-sm font-medium text-secondary-900 dark:text-white max-w-[200px] truncate",title:Ft.name,children:Ft.name})})]})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-500 dark:text-secondary-400",children:Ft.sku}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-500 dark:text-secondary-400",children:((Bt=Ft.category)==null?void 0:Bt.name)||"Cha phn loi"}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-secondary-900 dark:text-white",children:formatPrice(Ft.base_price)}),jsxRuntimeExports.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-500 dark:text-secondary-400",children:[((Wt=Ft._count)==null?void 0:Wt.product_variants)||0," phin bn"]}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${Ft.is_active?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}`,children:Ft.is_active?"ang bn":"Bn nhp"})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2",children:[jsxRuntimeExports.jsx(Link$1,{to:`/products/${Ft.slug}`,target:"_blank",className:"p-1 text-secondary-400 hover:text-secondary-600 dark:hover:text-secondary-300 rounded-full bg-secondary-50 hover:bg-secondary-100 dark:bg-secondary-700 dark:hover:bg-secondary-600",title:"Xem trn web",children:jsxRuntimeExports.jsx(Eye,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx(Link$1,{to:`/admin/products/${Ft.id}`,className:"p-1 text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 rounded-full bg-blue-50 hover:bg-blue-100 dark:bg-blue-900/30 dark:hover:bg-blue-900/50",title:"Chnh sa",children:jsxRuntimeExports.jsx(SquarePen,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("button",{onClick:()=>dt({isOpen:!0,productId:Ft.id}),className:"p-1 text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 rounded-full bg-red-50 hover:bg-red-100 dark:bg-red-900/30 dark:hover:bg-red-900/50",title:"Xa",children:jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4"})})]})})]},Ft.id)}):jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-secondary-500 dark:text-secondary-400",children:"Khng tm thy sn phm no"})})})]})}),jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-secondary-800 px-4 py-3 border-t border-secondary-200 dark:border-secondary-700 flex items-center justify-between sm:px-6 transition-colors",children:jsxRuntimeExports.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("p",{className:"text-sm text-secondary-700 dark:text-secondary-300",children:["Hin th trang ",jsxRuntimeExports.jsx("span",{className:"font-medium",children:lt.page})," trn ",jsxRuntimeExports.jsx("span",{className:"font-medium",children:lt.totalPages})]})}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[jsxRuntimeExports.jsx("button",{onClick:()=>ct(Ft=>({...Ft,page:Math.max(1,Ft.page-1)})),disabled:lt.page===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-secondary-300 dark:border-secondary-600 bg-white dark:bg-secondary-700 text-sm font-medium text-secondary-500 dark:text-secondary-300 hover:bg-secondary-50 dark:hover:bg-secondary-600 disabled:opacity-50 disabled:cursor-not-allowed",children:jsxRuntimeExports.jsx(ChevronLeft,{className:"w-5 h-5"})}),jsxRuntimeExports.jsx("button",{onClick:()=>ct(Ft=>({...Ft,page:Math.min(lt.totalPages,Ft.page+1)})),disabled:lt.page===lt.totalPages||lt.totalPages===0,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-secondary-300 dark:border-secondary-600 bg-white dark:bg-secondary-700 text-sm font-medium text-secondary-500 dark:text-secondary-300 hover:bg-secondary-50 dark:hover:bg-secondary-600 disabled:opacity-50 disabled:cursor-not-allowed",children:jsxRuntimeExports.jsx(ChevronRight,{className:"w-5 h-5"})})]})})]})})]}),jsxRuntimeExports.jsx(ConfirmModal,{isOpen:ut.isOpen,onClose:()=>dt({isOpen:!1,productId:null}),onConfirm:St,title:"Xc nhn xa",message:"Bn c chc chn mun xa sn phm ny khng? Hnh ng ny s g sn phm khi h thng.",confirmText:"ng  xa",cancelText:" em xem li",isDestructive:!0}),pt&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-2xl max-w-lg w-full max-h-[90vh] overflow-y-auto shadow-xl",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-secondary-200 dark:border-secondary-700",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-full bg-primary-100 dark:bg-primary-900/30 flex items-center justify-center",children:jsxRuntimeExports.jsx(FileSpreadsheet,{className:"w-5 h-5 text-primary-600"})}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-bold text-secondary-900 dark:text-white",children:"Nhp sn phm t Excel"})]}),jsxRuntimeExports.jsx("button",{onClick:$t,className:"p-2 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-full transition-colors",children:jsxRuntimeExports.jsx(X$2,{className:"w-5 h-5 text-secondary-500"})})]}),jsxRuntimeExports.jsx("div",{className:"p-6 space-y-6",children:Et?jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-xl text-center",children:[jsxRuntimeExports.jsx(Check,{className:"w-6 h-6 text-green-600 mx-auto mb-1"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-green-600",children:Et.created}),jsxRuntimeExports.jsx("p",{className:"text-xs text-green-700 dark:text-green-400",children:"To mi"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-xl text-center",children:[jsxRuntimeExports.jsx(SquarePen,{className:"w-6 h-6 text-blue-600 mx-auto mb-1"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-blue-600",children:Et.updated}),jsxRuntimeExports.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-400",children:"Cp nht"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-4 rounded-xl text-center",children:[jsxRuntimeExports.jsx(TriangleAlert,{className:"w-6 h-6 text-red-600 mx-auto mb-1"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-red-600",children:Et.errors.length}),jsxRuntimeExports.jsx("p",{className:"text-xs text-red-700 dark:text-red-400",children:"Li"})]})]}),Et.errors.length>0&&jsxRuntimeExports.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-4 rounded-xl max-h-48 overflow-y-auto",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-red-700 dark:text-red-300 mb-2",children:"Chi tit li:"}),jsxRuntimeExports.jsx("ul",{className:"space-y-1 text-sm text-red-600 dark:text-red-400",children:Et.errors.map((Ft,Tt)=>jsxRuntimeExports.jsxs("li",{children:["Dng ",Ft.row," (SKU: ",Ft.sku,"): ",Ft.error]},Tt))})]})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-xl",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300 mb-3",children:"Ti mu Excel  nhp ng nh dng"}),jsxRuntimeExports.jsxs("button",{onClick:Nt,className:"flex items-center gap-2 text-sm font-medium text-blue-600 hover:text-blue-700 dark:text-blue-400",children:[jsxRuntimeExports.jsx(Download,{className:"w-4 h-4"}),"Ti mu nhp sn phm"]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Chn file Excel"}),jsxRuntimeExports.jsxs("div",{className:`border-2 border-dashed rounded-xl p-6 text-center cursor-pointer transition-colors ${xt?"border-primary-500 bg-primary-50 dark:bg-primary-900/20":"border-secondary-300 dark:border-secondary-600 hover:border-primary-400"}`,onClick:()=>{var Ft;return(Ft=kt.current)==null?void 0:Ft.click()},children:[jsxRuntimeExports.jsx("input",{ref:kt,type:"file",accept:".xlsx,.xls",className:"hidden",onChange:Ft=>{var Tt;return yt(((Tt=Ft.target.files)==null?void 0:Tt[0])||null)}}),xt?jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center gap-3",children:[jsxRuntimeExports.jsx(FileSpreadsheet,{className:"w-8 h-8 text-primary-600"}),jsxRuntimeExports.jsxs("div",{className:"text-left",children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-secondary-900 dark:text-white",children:xt.name}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-secondary-500",children:[(xt.size/1024).toFixed(1)," KB"]})]})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Upload,{className:"w-10 h-10 text-secondary-400 mx-auto mb-3"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-secondary-600 dark:text-secondary-400",children:"Click  chn file hoc ko th vo y"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-secondary-400 mt-1",children:"H tr: .xlsx, .xls (ti a 5MB)"})]})]})]})]})}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t border-secondary-200 dark:border-secondary-700",children:[jsxRuntimeExports.jsx("button",{onClick:$t,className:"px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-full font-medium transition-colors",children:Et?"ng":"Hy"}),!Et&&jsxRuntimeExports.jsx("button",{onClick:Lt,disabled:!xt||vt,className:"px-6 py-2 bg-primary-600 text-white rounded-full font-medium hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2",children:vt?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"ang nhp..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Upload,{className:"w-4 h-4"}),"Nhp sn phm"]})})]})]})})]})}function CategoryModal({isOpen:_e,onClose:et,onSuccess:rt,category:nt,categories:st}){const[it,at]=reactExports.useState({name:"",slug:"",parent_id:"",sort_order:0,is_active:!0}),[ot,lt]=reactExports.useState(!1);reactExports.useEffect(()=>{at(nt?{name:nt.name,slug:nt.slug,parent_id:nt.parent_id||"",sort_order:nt.sort_order||0,is_active:nt.is_active}:{name:"",slug:"",parent_id:"",sort_order:0,is_active:!0})},[nt,_e]);const ct=mt=>{const xt=mt.target.value;if(!nt&&!it.slug){const yt=xt.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(//g,"d").replace(//g,"D").replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"");at(vt=>({...vt,name:xt,slug:yt}))}else at(yt=>({...yt,name:xt}))},ut=async mt=>{var xt,yt;mt.preventDefault(),lt(!0);try{const vt={...it,parent_id:it.parent_id?it.parent_id:null};nt?(await categoriesAPI.update(nt.id,vt),zt.success("Cp nht danh mc thnh cng")):(await categoriesAPI.create(vt),zt.success("To danh mc thnh cng")),rt(),et()}catch(vt){console.error("Save category error:",vt),zt.error(((yt=(xt=vt.response)==null?void 0:xt.data)==null?void 0:yt.message)||"Lu danh mc tht bi")}finally{lt(!1)}};if(!_e)return null;const dt=(mt,xt=0)=>{let yt=[];return mt.forEach(vt=>{yt.push({...vt,depth:xt}),vt.children&&(yt=yt.concat(dt(vt.children,xt+1)))}),yt},pt=dt(st);return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md shadow-xl",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:nt?"Chnh sa danh mc":"Thm danh mc mi"}),jsxRuntimeExports.jsx("button",{onClick:et,className:"text-gray-400 hover:text-gray-500",children:jsxRuntimeExports.jsx(X$2,{className:"w-5 h-5"})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:ut,className:"p-4 space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tn danh mc"}),jsxRuntimeExports.jsx("input",{type:"text",required:!0,value:it.name,onChange:ct,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-1 focus:ring-primary-500 focus:border-primary-500",placeholder:"V d: Thi trang nam"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Slug (ng dn)"}),jsxRuntimeExports.jsx("input",{type:"text",required:!0,value:it.slug,onChange:mt=>at({...it,slug:mt.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-1 focus:ring-primary-500 focus:border-primary-500",placeholder:"thoi-trang-nam"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Danh mc cha"}),jsxRuntimeExports.jsxs("select",{value:it.parent_id,onChange:mt=>at({...it,parent_id:mt.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Khng (Danh mc gc)"}),pt.map(mt=>jsxRuntimeExports.jsxs("option",{value:mt.id,disabled:nt&&nt.id===mt.id,children:["- ".repeat(mt.depth),mt.name]},mt.id))]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Th t sp xp"}),jsxRuntimeExports.jsx("input",{type:"number",value:it.sort_order,onChange:mt=>at({...it,sort_order:parseInt(mt.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-1 focus:ring-primary-500 focus:border-primary-500"})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center pt-6",children:jsxRuntimeExports.jsxs("label",{className:"flex items-center cursor-pointer gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",className:"sr-only",checked:it.is_active,onChange:mt=>at({...it,is_active:mt.target.checked})}),jsxRuntimeExports.jsx("div",{className:`w-10 h-6 rounded-full transition-colors ${it.is_active?"bg-primary-600":"bg-gray-200"}`}),jsxRuntimeExports.jsx("div",{className:`absolute left-1 top-1 w-4 h-4 rounded-full bg-white transition-transform ${it.is_active?"translate-x-4":""}`})]}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-700",children:"Kch hot"})]})})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:et,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Hy"}),jsxRuntimeExports.jsxs("button",{type:"submit",disabled:ot,className:"px-4 py-2 text-sm font-medium text-white bg-primary-600 rounded-lg hover:bg-primary-700 disabled:opacity-50 flex items-center gap-2",children:[ot&&jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin"}),nt?"Lu thay i":"To mi"]})]})]})]})})}function CategoryPage(){const[_e,et]=reactExports.useState([]),[rt,nt]=reactExports.useState(!0),[st,it]=reactExports.useState(""),[at,ot]=reactExports.useState(!1),[lt,ct]=reactExports.useState(null),[ut,dt]=reactExports.useState(new Set),[pt,mt]=reactExports.useState({isOpen:!1,id:null}),xt=async()=>{try{nt(!0);const Rt=await categoriesAPI.getAll({include_inactive:!0});et(Rt.data.data||[])}catch(Rt){console.error("Fetch categories error:",Rt),zt.error("Khng th ti danh sch danh mc")}finally{nt(!1)}};reactExports.useEffect(()=>{xt()},[]);const yt=Rt=>{const St=new Set(ut);St.has(Rt)?St.delete(Rt):St.add(Rt),dt(St)},vt=Rt=>{ct(Rt),ot(!0)},gt=Rt=>{mt({isOpen:!0,id:Rt})},Et=async()=>{if(pt.id)try{await categoriesAPI.delete(pt.id),zt.success(" xa danh mc"),xt()}catch(Rt){console.error("Delete category error:",Rt),zt.error("Xa danh mc tht bi")}finally{mt({isOpen:!1,id:null})}},jt=()=>{ot(!1),ct(null)},kt=(Rt,St=0)=>{const _t=Rt.children&&Rt.children.length>0,Nt=ut.has(Rt.id);return st&&!Rt.name.toLowerCase().includes(st.toLowerCase())?null:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("tr",{className:`hover:bg-gray-50 dark:hover:bg-secondary-700/50 border-b border-gray-100 dark:border-secondary-700 last:border-0 transition-colors ${Rt.is_active?"":"bg-gray-50/50 dark:bg-secondary-800/50"}`,children:[jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",style:{paddingLeft:`${St*24}px`},children:[_t?jsxRuntimeExports.jsx("button",{onClick:()=>yt(Rt.id),className:"mr-2 text-gray-500 dark:text-secondary-400 hover:text-gray-700 dark:hover:text-secondary-200 focus:outline-none",children:Nt?jsxRuntimeExports.jsx(ChevronDown,{className:"w-4 h-4"}):jsxRuntimeExports.jsx(ChevronRight,{className:"w-4 h-4"})}):jsxRuntimeExports.jsx("div",{className:"w-6 h-4 mr-2"}),jsxRuntimeExports.jsx("span",{className:`text-sm font-medium ${St===0?"text-gray-900 dark:text-white":"text-gray-600 dark:text-secondary-300"} ${Rt.is_active?"":"text-gray-400 dark:text-secondary-500"}`,children:Rt.name})]})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-secondary-400 font-mono",children:Rt.slug}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-secondary-400",children:jsxRuntimeExports.jsx("div",{className:"inline-flex items-center justify-center w-8 h-8 rounded bg-gray-100 dark:bg-secondary-700 text-gray-600 dark:text-secondary-300 font-medium text-xs border border-gray-200 dark:border-secondary-600",children:Rt.sort_order})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsxs("div",{className:"relative inline-block w-10 mr-2 align-middle select-none transition duration-200 ease-in",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:`toggle-${Rt.id}`,id:`toggle-${Rt.id}`,checked:Rt.is_active,readOnly:!0,className:"toggle-checkbox absolute block w-5 h-5 rounded-full bg-white border-4 appearance-none cursor-pointer border-gray-300 dark:border-secondary-600 checked:right-0 checked:border-primary-600"}),jsxRuntimeExports.jsx("label",{htmlFor:`toggle-${Rt.id}`,className:`toggle-label block overflow-hidden h-5 rounded-full cursor-pointer ${Rt.is_active?"bg-primary-600":"bg-gray-300 dark:bg-secondary-600"}`})]})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-end gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>vt(Rt),className:"text-gray-400 hover:text-primary-600 dark:hover:text-primary-400 transition-colors",title:"Sa",children:jsxRuntimeExports.jsx(Pencil,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("button",{onClick:()=>gt(Rt.id),className:"text-gray-400 hover:text-red-600 dark:hover:text-red-400 transition-colors",title:"Xa",children:jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4"})})]})})]},Rt.id),_t&&Nt&&Rt.children.map(Lt=>kt(Lt,St+1))]})};return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-secondary-400 mb-1",children:[jsxRuntimeExports.jsx(Link$1,{to:"/admin/dashboard",className:"hover:text-primary-600 dark:hover:text-primary-400 transition-colors",children:"Dashboard"}),jsxRuntimeExports.jsx(ChevronRight,{className:"w-4 h-4"}),jsxRuntimeExports.jsx(Link$1,{to:"/admin/products",className:"hover:text-primary-600 dark:hover:text-primary-400 transition-colors",children:"Sn phm"}),jsxRuntimeExports.jsx(ChevronRight,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:"Danh mc"})]}),jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Qun l danh mc"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 dark:text-secondary-400 mt-1",children:"Qun l phn loi v cu trc menu iu hng ca ca hng."})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 dark:text-secondary-500"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Tm kim danh mc...",value:st,onChange:Rt=>it(Rt.target.value),className:"pl-9 pr-4 py-2 border border-gray-200 dark:border-secondary-700 bg-white dark:bg-secondary-900 text-gray-900 dark:text-white rounded-lg text-sm w-64 focus:outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all"})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>{ct(null),ot(!0)},className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors font-medium shadow-sm active:translate-y-0.5",children:[jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4"}),"Thm danh mc"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-xl shadow-sm border border-gray-200 dark:border-secondary-700 overflow-hidden transition-colors",children:[jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-secondary-700",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-50 dark:bg-secondary-700/50",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-gray-500 dark:text-secondary-400 uppercase tracking-wider",children:"Tn danh mc"}),jsxRuntimeExports.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-gray-500 dark:text-secondary-400 uppercase tracking-wider",children:"Slug"}),jsxRuntimeExports.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-gray-500 dark:text-secondary-400 uppercase tracking-wider",children:"Th t"}),jsxRuntimeExports.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-gray-500 dark:text-secondary-400 uppercase tracking-wider",children:"Trng thi"}),jsxRuntimeExports.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-semibold text-gray-500 dark:text-secondary-400 uppercase tracking-wider",children:"Hnh ng"})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-white dark:bg-secondary-800 divide-y divide-gray-200 dark:divide-secondary-700",children:rt?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-gray-500 dark:text-secondary-400",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"w-6 h-6 border-2 border-primary-600 border-t-transparent rounded-full animate-spin"}),jsxRuntimeExports.jsx("p",{children:"ang ti danh mc..."})]})})}):_e.length===0?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-gray-500 dark:text-secondary-400",children:"Cha c danh mc no. Hy thm mi!"})}):_e.map(Rt=>kt(Rt))})]})}),jsxRuntimeExports.jsx("div",{className:"bg-gray-50 dark:bg-secondary-700/30 px-6 py-4 border-t border-gray-200 dark:border-secondary-700 flex items-center justify-between transition-colors",children:jsxRuntimeExports.jsxs("span",{className:"text-sm text-gray-500 dark:text-secondary-400",children:["Hin th ",_e.length," danh mc gc"]})})]}),jsxRuntimeExports.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-100 dark:border-blue-800 rounded-lg p-4 flex gap-4 transition-colors",children:[jsxRuntimeExports.jsx("div",{className:"flex-shrink-0",children:jsxRuntimeExports.jsx("div",{className:"w-6 h-6 bg-blue-100 dark:bg-blue-800 rounded-full flex items-center justify-center text-blue-600 dark:text-blue-300 font-bold text-xs",children:"i"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"text-sm font-semibold text-blue-900 dark:text-blue-300",children:"Mo nh"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-400 mt-1",children:"S dng trng 'Th t'  kim sot v tr hin th ca danh mc trn menu khch hng. Ko th s sm c cp nht."})]})]}),jsxRuntimeExports.jsx(CategoryModal,{isOpen:at,onClose:jt,onSuccess:xt,category:lt,categories:_e}),jsxRuntimeExports.jsx(ConfirmModal,{isOpen:pt.isOpen,onClose:()=>mt({isOpen:!1,id:null}),onConfirm:Et,title:"Xc nhn xa",message:"Bn c chc chn mun xa danh mc ny? Tt c danh mc con v sn phm lin quan c th b nh hng.",confirmText:"Xa danh mc",cancelText:"Hy b",isDestructive:!0})]})}const scriptRel="modulepreload",assetsURL=function(_e){return"/"+_e},seen={},__vitePreload=function _e(et,rt,nt){let st=Promise.resolve();if(rt&&rt.length>0){document.getElementsByTagName("link");const at=document.querySelector("meta[property=csp-nonce]"),ot=(at==null?void 0:at.nonce)||(at==null?void 0:at.getAttribute("nonce"));st=Promise.allSettled(rt.map(lt=>{if(lt=assetsURL(lt),lt in seen)return;seen[lt]=!0;const ct=lt.endsWith(".css"),ut=ct?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${lt}"]${ut}`))return;const dt=document.createElement("link");if(dt.rel=ct?"stylesheet":scriptRel,ct||(dt.as="script"),dt.crossOrigin="",dt.href=lt,ot&&dt.setAttribute("nonce",ot),document.head.appendChild(dt),ct)return new Promise((pt,mt)=>{dt.addEventListener("load",pt),dt.addEventListener("error",()=>mt(new Error(`Unable to preload CSS for ${lt}`)))})}))}function it(at){const ot=new Event("vite:preloadError",{cancelable:!0});if(ot.payload=at,window.dispatchEvent(ot),!ot.defaultPrevented)throw at}return st.then(at=>{for(const ot of at||[])ot.status==="rejected"&&it(ot.reason);return et().catch(it)})};function OrderedMap(_e){this.content=_e}OrderedMap.prototype={constructor:OrderedMap,find:function(_e){for(var et=0;et<this.content.length;et+=2)if(this.content[et]===_e)return et;return-1},get:function(_e){var et=this.find(_e);return et==-1?void 0:this.content[et+1]},update:function(_e,et,rt){var nt=rt&&rt!=_e?this.remove(rt):this,st=nt.find(_e),it=nt.content.slice();return st==-1?it.push(rt||_e,et):(it[st+1]=et,rt&&(it[st]=rt)),new OrderedMap(it)},remove:function(_e){var et=this.find(_e);if(et==-1)return this;var rt=this.content.slice();return rt.splice(et,2),new OrderedMap(rt)},addToStart:function(_e,et){return new OrderedMap([_e,et].concat(this.remove(_e).content))},addToEnd:function(_e,et){var rt=this.remove(_e).content.slice();return rt.push(_e,et),new OrderedMap(rt)},addBefore:function(_e,et,rt){var nt=this.remove(et),st=nt.content.slice(),it=nt.find(_e);return st.splice(it==-1?st.length:it,0,et,rt),new OrderedMap(st)},forEach:function(_e){for(var et=0;et<this.content.length;et+=2)_e(this.content[et],this.content[et+1])},prepend:function(_e){return _e=OrderedMap.from(_e),_e.size?new OrderedMap(_e.content.concat(this.subtract(_e).content)):this},append:function(_e){return _e=OrderedMap.from(_e),_e.size?new OrderedMap(this.subtract(_e).content.concat(_e.content)):this},subtract:function(_e){var et=this;_e=OrderedMap.from(_e);for(var rt=0;rt<_e.content.length;rt+=2)et=et.remove(_e.content[rt]);return et},toObject:function(){var _e={};return this.forEach(function(et,rt){_e[et]=rt}),_e},get size(){return this.content.length>>1}};OrderedMap.from=function(_e){if(_e instanceof OrderedMap)return _e;var et=[];if(_e)for(var rt in _e)et.push(rt,_e[rt]);return new OrderedMap(et)};function findDiffStart(_e,et,rt){for(let nt=0;;nt++){if(nt==_e.childCount||nt==et.childCount)return _e.childCount==et.childCount?null:rt;let st=_e.child(nt),it=et.child(nt);if(st==it){rt+=st.nodeSize;continue}if(!st.sameMarkup(it))return rt;if(st.isText&&st.text!=it.text){for(let at=0;st.text[at]==it.text[at];at++)rt++;return rt}if(st.content.size||it.content.size){let at=findDiffStart(st.content,it.content,rt+1);if(at!=null)return at}rt+=st.nodeSize}}function findDiffEnd(_e,et,rt,nt){for(let st=_e.childCount,it=et.childCount;;){if(st==0||it==0)return st==it?null:{a:rt,b:nt};let at=_e.child(--st),ot=et.child(--it),lt=at.nodeSize;if(at==ot){rt-=lt,nt-=lt;continue}if(!at.sameMarkup(ot))return{a:rt,b:nt};if(at.isText&&at.text!=ot.text){let ct=0,ut=Math.min(at.text.length,ot.text.length);for(;ct<ut&&at.text[at.text.length-ct-1]==ot.text[ot.text.length-ct-1];)ct++,rt--,nt--;return{a:rt,b:nt}}if(at.content.size||ot.content.size){let ct=findDiffEnd(at.content,ot.content,rt-1,nt-1);if(ct)return ct}rt-=lt,nt-=lt}}class Fragment{constructor(et,rt){if(this.content=et,this.size=rt||0,rt==null)for(let nt=0;nt<et.length;nt++)this.size+=et[nt].nodeSize}nodesBetween(et,rt,nt,st=0,it){for(let at=0,ot=0;ot<rt;at++){let lt=this.content[at],ct=ot+lt.nodeSize;if(ct>et&&nt(lt,st+ot,it||null,at)!==!1&&lt.content.size){let ut=ot+1;lt.nodesBetween(Math.max(0,et-ut),Math.min(lt.content.size,rt-ut),nt,st+ut)}ot=ct}}descendants(et){this.nodesBetween(0,this.size,et)}textBetween(et,rt,nt,st){let it="",at=!0;return this.nodesBetween(et,rt,(ot,lt)=>{let ct=ot.isText?ot.text.slice(Math.max(et,lt)-lt,rt-lt):ot.isLeaf?st?typeof st=="function"?st(ot):st:ot.type.spec.leafText?ot.type.spec.leafText(ot):"":"";ot.isBlock&&(ot.isLeaf&&ct||ot.isTextblock)&&nt&&(at?at=!1:it+=nt),it+=ct},0),it}append(et){if(!et.size)return this;if(!this.size)return et;let rt=this.lastChild,nt=et.firstChild,st=this.content.slice(),it=0;for(rt.isText&&rt.sameMarkup(nt)&&(st[st.length-1]=rt.withText(rt.text+nt.text),it=1);it<et.content.length;it++)st.push(et.content[it]);return new Fragment(st,this.size+et.size)}cut(et,rt=this.size){if(et==0&&rt==this.size)return this;let nt=[],st=0;if(rt>et)for(let it=0,at=0;at<rt;it++){let ot=this.content[it],lt=at+ot.nodeSize;lt>et&&((at<et||lt>rt)&&(ot.isText?ot=ot.cut(Math.max(0,et-at),Math.min(ot.text.length,rt-at)):ot=ot.cut(Math.max(0,et-at-1),Math.min(ot.content.size,rt-at-1))),nt.push(ot),st+=ot.nodeSize),at=lt}return new Fragment(nt,st)}cutByIndex(et,rt){return et==rt?Fragment.empty:et==0&&rt==this.content.length?this:new Fragment(this.content.slice(et,rt))}replaceChild(et,rt){let nt=this.content[et];if(nt==rt)return this;let st=this.content.slice(),it=this.size+rt.nodeSize-nt.nodeSize;return st[et]=rt,new Fragment(st,it)}addToStart(et){return new Fragment([et].concat(this.content),this.size+et.nodeSize)}addToEnd(et){return new Fragment(this.content.concat(et),this.size+et.nodeSize)}eq(et){if(this.content.length!=et.content.length)return!1;for(let rt=0;rt<this.content.length;rt++)if(!this.content[rt].eq(et.content[rt]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(et){let rt=this.content[et];if(!rt)throw new RangeError("Index "+et+" out of range for "+this);return rt}maybeChild(et){return this.content[et]||null}forEach(et){for(let rt=0,nt=0;rt<this.content.length;rt++){let st=this.content[rt];et(st,nt,rt),nt+=st.nodeSize}}findDiffStart(et,rt=0){return findDiffStart(this,et,rt)}findDiffEnd(et,rt=this.size,nt=et.size){return findDiffEnd(this,et,rt,nt)}findIndex(et){if(et==0)return retIndex(0,et);if(et==this.size)return retIndex(this.content.length,et);if(et>this.size||et<0)throw new RangeError(`Position ${et} outside of fragment (${this})`);for(let rt=0,nt=0;;rt++){let st=this.child(rt),it=nt+st.nodeSize;if(it>=et)return it==et?retIndex(rt+1,it):retIndex(rt,nt);nt=it}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(et=>et.toJSON()):null}static fromJSON(et,rt){if(!rt)return Fragment.empty;if(!Array.isArray(rt))throw new RangeError("Invalid input for Fragment.fromJSON");return new Fragment(rt.map(et.nodeFromJSON))}static fromArray(et){if(!et.length)return Fragment.empty;let rt,nt=0;for(let st=0;st<et.length;st++){let it=et[st];nt+=it.nodeSize,st&&it.isText&&et[st-1].sameMarkup(it)?(rt||(rt=et.slice(0,st)),rt[rt.length-1]=it.withText(rt[rt.length-1].text+it.text)):rt&&rt.push(it)}return new Fragment(rt||et,nt)}static from(et){if(!et)return Fragment.empty;if(et instanceof Fragment)return et;if(Array.isArray(et))return this.fromArray(et);if(et.attrs)return new Fragment([et],et.nodeSize);throw new RangeError("Can not convert "+et+" to a Fragment"+(et.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Fragment.empty=new Fragment([],0);const found={index:0,offset:0};function retIndex(_e,et){return found.index=_e,found.offset=et,found}function compareDeep(_e,et){if(_e===et)return!0;if(!(_e&&typeof _e=="object")||!(et&&typeof et=="object"))return!1;let rt=Array.isArray(_e);if(Array.isArray(et)!=rt)return!1;if(rt){if(_e.length!=et.length)return!1;for(let nt=0;nt<_e.length;nt++)if(!compareDeep(_e[nt],et[nt]))return!1}else{for(let nt in _e)if(!(nt in et)||!compareDeep(_e[nt],et[nt]))return!1;for(let nt in et)if(!(nt in _e))return!1}return!0}let Mark$1=class Hs{constructor(et,rt){this.type=et,this.attrs=rt}addToSet(et){let rt,nt=!1;for(let st=0;st<et.length;st++){let it=et[st];if(this.eq(it))return et;if(this.type.excludes(it.type))rt||(rt=et.slice(0,st));else{if(it.type.excludes(this.type))return et;!nt&&it.type.rank>this.type.rank&&(rt||(rt=et.slice(0,st)),rt.push(this),nt=!0),rt&&rt.push(it)}}return rt||(rt=et.slice()),nt||rt.push(this),rt}removeFromSet(et){for(let rt=0;rt<et.length;rt++)if(this.eq(et[rt]))return et.slice(0,rt).concat(et.slice(rt+1));return et}isInSet(et){for(let rt=0;rt<et.length;rt++)if(this.eq(et[rt]))return!0;return!1}eq(et){return this==et||this.type==et.type&&compareDeep(this.attrs,et.attrs)}toJSON(){let et={type:this.type.name};for(let rt in this.attrs){et.attrs=this.attrs;break}return et}static fromJSON(et,rt){if(!rt)throw new RangeError("Invalid input for Mark.fromJSON");let nt=et.marks[rt.type];if(!nt)throw new RangeError(`There is no mark type ${rt.type} in this schema`);let st=nt.create(rt.attrs);return nt.checkAttrs(st.attrs),st}static sameSet(et,rt){if(et==rt)return!0;if(et.length!=rt.length)return!1;for(let nt=0;nt<et.length;nt++)if(!et[nt].eq(rt[nt]))return!1;return!0}static setFrom(et){if(!et||Array.isArray(et)&&et.length==0)return Hs.none;if(et instanceof Hs)return[et];let rt=et.slice();return rt.sort((nt,st)=>nt.type.rank-st.type.rank),rt}};Mark$1.none=[];class ReplaceError extends Error{}class Slice{constructor(et,rt,nt){this.content=et,this.openStart=rt,this.openEnd=nt}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(et,rt){let nt=insertInto(this.content,et+this.openStart,rt);return nt&&new Slice(nt,this.openStart,this.openEnd)}removeBetween(et,rt){return new Slice(removeRange(this.content,et+this.openStart,rt+this.openStart),this.openStart,this.openEnd)}eq(et){return this.content.eq(et.content)&&this.openStart==et.openStart&&this.openEnd==et.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let et={content:this.content.toJSON()};return this.openStart>0&&(et.openStart=this.openStart),this.openEnd>0&&(et.openEnd=this.openEnd),et}static fromJSON(et,rt){if(!rt)return Slice.empty;let nt=rt.openStart||0,st=rt.openEnd||0;if(typeof nt!="number"||typeof st!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Slice(Fragment.fromJSON(et,rt.content),nt,st)}static maxOpen(et,rt=!0){let nt=0,st=0;for(let it=et.firstChild;it&&!it.isLeaf&&(rt||!it.type.spec.isolating);it=it.firstChild)nt++;for(let it=et.lastChild;it&&!it.isLeaf&&(rt||!it.type.spec.isolating);it=it.lastChild)st++;return new Slice(et,nt,st)}}Slice.empty=new Slice(Fragment.empty,0,0);function removeRange(_e,et,rt){let{index:nt,offset:st}=_e.findIndex(et),it=_e.maybeChild(nt),{index:at,offset:ot}=_e.findIndex(rt);if(st==et||it.isText){if(ot!=rt&&!_e.child(at).isText)throw new RangeError("Removing non-flat range");return _e.cut(0,et).append(_e.cut(rt))}if(nt!=at)throw new RangeError("Removing non-flat range");return _e.replaceChild(nt,it.copy(removeRange(it.content,et-st-1,rt-st-1)))}function insertInto(_e,et,rt,nt){let{index:st,offset:it}=_e.findIndex(et),at=_e.maybeChild(st);if(it==et||at.isText)return nt&&!nt.canReplace(st,st,rt)?null:_e.cut(0,et).append(rt).append(_e.cut(et));let ot=insertInto(at.content,et-it-1,rt,at);return ot&&_e.replaceChild(st,at.copy(ot))}function replace(_e,et,rt){if(rt.openStart>_e.depth)throw new ReplaceError("Inserted content deeper than insertion position");if(_e.depth-rt.openStart!=et.depth-rt.openEnd)throw new ReplaceError("Inconsistent open depths");return replaceOuter(_e,et,rt,0)}function replaceOuter(_e,et,rt,nt){let st=_e.index(nt),it=_e.node(nt);if(st==et.index(nt)&&nt<_e.depth-rt.openStart){let at=replaceOuter(_e,et,rt,nt+1);return it.copy(it.content.replaceChild(st,at))}else if(rt.content.size)if(!rt.openStart&&!rt.openEnd&&_e.depth==nt&&et.depth==nt){let at=_e.parent,ot=at.content;return close(at,ot.cut(0,_e.parentOffset).append(rt.content).append(ot.cut(et.parentOffset)))}else{let{start:at,end:ot}=prepareSliceForReplace(rt,_e);return close(it,replaceThreeWay(_e,at,ot,et,nt))}else return close(it,replaceTwoWay(_e,et,nt))}function checkJoin(_e,et){if(!et.type.compatibleContent(_e.type))throw new ReplaceError("Cannot join "+et.type.name+" onto "+_e.type.name)}function joinable$1(_e,et,rt){let nt=_e.node(rt);return checkJoin(nt,et.node(rt)),nt}function addNode(_e,et){let rt=et.length-1;rt>=0&&_e.isText&&_e.sameMarkup(et[rt])?et[rt]=_e.withText(et[rt].text+_e.text):et.push(_e)}function addRange(_e,et,rt,nt){let st=(et||_e).node(rt),it=0,at=et?et.index(rt):st.childCount;_e&&(it=_e.index(rt),_e.depth>rt?it++:_e.textOffset&&(addNode(_e.nodeAfter,nt),it++));for(let ot=it;ot<at;ot++)addNode(st.child(ot),nt);et&&et.depth==rt&&et.textOffset&&addNode(et.nodeBefore,nt)}function close(_e,et){return _e.type.checkContent(et),_e.copy(et)}function replaceThreeWay(_e,et,rt,nt,st){let it=_e.depth>st&&joinable$1(_e,et,st+1),at=nt.depth>st&&joinable$1(rt,nt,st+1),ot=[];return addRange(null,_e,st,ot),it&&at&&et.index(st)==rt.index(st)?(checkJoin(it,at),addNode(close(it,replaceThreeWay(_e,et,rt,nt,st+1)),ot)):(it&&addNode(close(it,replaceTwoWay(_e,et,st+1)),ot),addRange(et,rt,st,ot),at&&addNode(close(at,replaceTwoWay(rt,nt,st+1)),ot)),addRange(nt,null,st,ot),new Fragment(ot)}function replaceTwoWay(_e,et,rt){let nt=[];if(addRange(null,_e,rt,nt),_e.depth>rt){let st=joinable$1(_e,et,rt+1);addNode(close(st,replaceTwoWay(_e,et,rt+1)),nt)}return addRange(et,null,rt,nt),new Fragment(nt)}function prepareSliceForReplace(_e,et){let rt=et.depth-_e.openStart,st=et.node(rt).copy(_e.content);for(let it=rt-1;it>=0;it--)st=et.node(it).copy(Fragment.from(st));return{start:st.resolveNoCache(_e.openStart+rt),end:st.resolveNoCache(st.content.size-_e.openEnd-rt)}}class ResolvedPos{constructor(et,rt,nt){this.pos=et,this.path=rt,this.parentOffset=nt,this.depth=rt.length/3-1}resolveDepth(et){return et==null?this.depth:et<0?this.depth+et:et}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(et){return this.path[this.resolveDepth(et)*3]}index(et){return this.path[this.resolveDepth(et)*3+1]}indexAfter(et){return et=this.resolveDepth(et),this.index(et)+(et==this.depth&&!this.textOffset?0:1)}start(et){return et=this.resolveDepth(et),et==0?0:this.path[et*3-1]+1}end(et){return et=this.resolveDepth(et),this.start(et)+this.node(et).content.size}before(et){if(et=this.resolveDepth(et),!et)throw new RangeError("There is no position before the top-level node");return et==this.depth+1?this.pos:this.path[et*3-1]}after(et){if(et=this.resolveDepth(et),!et)throw new RangeError("There is no position after the top-level node");return et==this.depth+1?this.pos:this.path[et*3-1]+this.path[et*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let et=this.parent,rt=this.index(this.depth);if(rt==et.childCount)return null;let nt=this.pos-this.path[this.path.length-1],st=et.child(rt);return nt?et.child(rt).cut(nt):st}get nodeBefore(){let et=this.index(this.depth),rt=this.pos-this.path[this.path.length-1];return rt?this.parent.child(et).cut(0,rt):et==0?null:this.parent.child(et-1)}posAtIndex(et,rt){rt=this.resolveDepth(rt);let nt=this.path[rt*3],st=rt==0?0:this.path[rt*3-1]+1;for(let it=0;it<et;it++)st+=nt.child(it).nodeSize;return st}marks(){let et=this.parent,rt=this.index();if(et.content.size==0)return Mark$1.none;if(this.textOffset)return et.child(rt).marks;let nt=et.maybeChild(rt-1),st=et.maybeChild(rt);if(!nt){let ot=nt;nt=st,st=ot}let it=nt.marks;for(var at=0;at<it.length;at++)it[at].type.spec.inclusive===!1&&(!st||!it[at].isInSet(st.marks))&&(it=it[at--].removeFromSet(it));return it}marksAcross(et){let rt=this.parent.maybeChild(this.index());if(!rt||!rt.isInline)return null;let nt=rt.marks,st=et.parent.maybeChild(et.index());for(var it=0;it<nt.length;it++)nt[it].type.spec.inclusive===!1&&(!st||!nt[it].isInSet(st.marks))&&(nt=nt[it--].removeFromSet(nt));return nt}sharedDepth(et){for(let rt=this.depth;rt>0;rt--)if(this.start(rt)<=et&&this.end(rt)>=et)return rt;return 0}blockRange(et=this,rt){if(et.pos<this.pos)return et.blockRange(this);for(let nt=this.depth-(this.parent.inlineContent||this.pos==et.pos?1:0);nt>=0;nt--)if(et.pos<=this.end(nt)&&(!rt||rt(this.node(nt))))return new NodeRange(this,et,nt);return null}sameParent(et){return this.pos-this.parentOffset==et.pos-et.parentOffset}max(et){return et.pos>this.pos?et:this}min(et){return et.pos<this.pos?et:this}toString(){let et="";for(let rt=1;rt<=this.depth;rt++)et+=(et?"/":"")+this.node(rt).type.name+"_"+this.index(rt-1);return et+":"+this.parentOffset}static resolve(et,rt){if(!(rt>=0&&rt<=et.content.size))throw new RangeError("Position "+rt+" out of range");let nt=[],st=0,it=rt;for(let at=et;;){let{index:ot,offset:lt}=at.content.findIndex(it),ct=it-lt;if(nt.push(at,ot,st+lt),!ct||(at=at.child(ot),at.isText))break;it=ct-1,st+=lt+1}return new ResolvedPos(rt,nt,it)}static resolveCached(et,rt){let nt=resolveCache.get(et);if(nt)for(let it=0;it<nt.elts.length;it++){let at=nt.elts[it];if(at.pos==rt)return at}else resolveCache.set(et,nt=new ResolveCache);let st=nt.elts[nt.i]=ResolvedPos.resolve(et,rt);return nt.i=(nt.i+1)%resolveCacheSize,st}}class ResolveCache{constructor(){this.elts=[],this.i=0}}const resolveCacheSize=12,resolveCache=new WeakMap;class NodeRange{constructor(et,rt,nt){this.$from=et,this.$to=rt,this.depth=nt}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const emptyAttrs=Object.create(null);let Node$1=class Us{constructor(et,rt,nt,st=Mark$1.none){this.type=et,this.attrs=rt,this.marks=st,this.content=nt||Fragment.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(et){return this.content.child(et)}maybeChild(et){return this.content.maybeChild(et)}forEach(et){this.content.forEach(et)}nodesBetween(et,rt,nt,st=0){this.content.nodesBetween(et,rt,nt,st,this)}descendants(et){this.nodesBetween(0,this.content.size,et)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(et,rt,nt,st){return this.content.textBetween(et,rt,nt,st)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(et){return this==et||this.sameMarkup(et)&&this.content.eq(et.content)}sameMarkup(et){return this.hasMarkup(et.type,et.attrs,et.marks)}hasMarkup(et,rt,nt){return this.type==et&&compareDeep(this.attrs,rt||et.defaultAttrs||emptyAttrs)&&Mark$1.sameSet(this.marks,nt||Mark$1.none)}copy(et=null){return et==this.content?this:new Us(this.type,this.attrs,et,this.marks)}mark(et){return et==this.marks?this:new Us(this.type,this.attrs,this.content,et)}cut(et,rt=this.content.size){return et==0&&rt==this.content.size?this:this.copy(this.content.cut(et,rt))}slice(et,rt=this.content.size,nt=!1){if(et==rt)return Slice.empty;let st=this.resolve(et),it=this.resolve(rt),at=nt?0:st.sharedDepth(rt),ot=st.start(at),ct=st.node(at).content.cut(st.pos-ot,it.pos-ot);return new Slice(ct,st.depth-at,it.depth-at)}replace(et,rt,nt){return replace(this.resolve(et),this.resolve(rt),nt)}nodeAt(et){for(let rt=this;;){let{index:nt,offset:st}=rt.content.findIndex(et);if(rt=rt.maybeChild(nt),!rt)return null;if(st==et||rt.isText)return rt;et-=st+1}}childAfter(et){let{index:rt,offset:nt}=this.content.findIndex(et);return{node:this.content.maybeChild(rt),index:rt,offset:nt}}childBefore(et){if(et==0)return{node:null,index:0,offset:0};let{index:rt,offset:nt}=this.content.findIndex(et);if(nt<et)return{node:this.content.child(rt),index:rt,offset:nt};let st=this.content.child(rt-1);return{node:st,index:rt-1,offset:nt-st.nodeSize}}resolve(et){return ResolvedPos.resolveCached(this,et)}resolveNoCache(et){return ResolvedPos.resolve(this,et)}rangeHasMark(et,rt,nt){let st=!1;return rt>et&&this.nodesBetween(et,rt,it=>(nt.isInSet(it.marks)&&(st=!0),!st)),st}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let et=this.type.name;return this.content.size&&(et+="("+this.content.toStringInner()+")"),wrapMarks(this.marks,et)}contentMatchAt(et){let rt=this.type.contentMatch.matchFragment(this.content,0,et);if(!rt)throw new Error("Called contentMatchAt on a node with invalid content");return rt}canReplace(et,rt,nt=Fragment.empty,st=0,it=nt.childCount){let at=this.contentMatchAt(et).matchFragment(nt,st,it),ot=at&&at.matchFragment(this.content,rt);if(!ot||!ot.validEnd)return!1;for(let lt=st;lt<it;lt++)if(!this.type.allowsMarks(nt.child(lt).marks))return!1;return!0}canReplaceWith(et,rt,nt,st){if(st&&!this.type.allowsMarks(st))return!1;let it=this.contentMatchAt(et).matchType(nt),at=it&&it.matchFragment(this.content,rt);return at?at.validEnd:!1}canAppend(et){return et.content.size?this.canReplace(this.childCount,this.childCount,et.content):this.type.compatibleContent(et.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let et=Mark$1.none;for(let rt=0;rt<this.marks.length;rt++){let nt=this.marks[rt];nt.type.checkAttrs(nt.attrs),et=nt.addToSet(et)}if(!Mark$1.sameSet(et,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(rt=>rt.type.name)}`);this.content.forEach(rt=>rt.check())}toJSON(){let et={type:this.type.name};for(let rt in this.attrs){et.attrs=this.attrs;break}return this.content.size&&(et.content=this.content.toJSON()),this.marks.length&&(et.marks=this.marks.map(rt=>rt.toJSON())),et}static fromJSON(et,rt){if(!rt)throw new RangeError("Invalid input for Node.fromJSON");let nt;if(rt.marks){if(!Array.isArray(rt.marks))throw new RangeError("Invalid mark data for Node.fromJSON");nt=rt.marks.map(et.markFromJSON)}if(rt.type=="text"){if(typeof rt.text!="string")throw new RangeError("Invalid text node in JSON");return et.text(rt.text,nt)}let st=Fragment.fromJSON(et,rt.content),it=et.nodeType(rt.type).create(rt.attrs,st,nt);return it.type.checkAttrs(it.attrs),it}};Node$1.prototype.text=void 0;class TextNode extends Node$1{constructor(et,rt,nt,st){if(super(et,rt,null,st),!nt)throw new RangeError("Empty text nodes are not allowed");this.text=nt}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):wrapMarks(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(et,rt){return this.text.slice(et,rt)}get nodeSize(){return this.text.length}mark(et){return et==this.marks?this:new TextNode(this.type,this.attrs,this.text,et)}withText(et){return et==this.text?this:new TextNode(this.type,this.attrs,et,this.marks)}cut(et=0,rt=this.text.length){return et==0&&rt==this.text.length?this:this.withText(this.text.slice(et,rt))}eq(et){return this.sameMarkup(et)&&this.text==et.text}toJSON(){let et=super.toJSON();return et.text=this.text,et}}function wrapMarks(_e,et){for(let rt=_e.length-1;rt>=0;rt--)et=_e[rt].type.name+"("+et+")";return et}class ContentMatch{constructor(et){this.validEnd=et,this.next=[],this.wrapCache=[]}static parse(et,rt){let nt=new TokenStream(et,rt);if(nt.next==null)return ContentMatch.empty;let st=parseExpr(nt);nt.next&&nt.err("Unexpected trailing text");let it=dfa(nfa(st));return checkForDeadEnds(it,nt),it}matchType(et){for(let rt=0;rt<this.next.length;rt++)if(this.next[rt].type==et)return this.next[rt].next;return null}matchFragment(et,rt=0,nt=et.childCount){let st=this;for(let it=rt;st&&it<nt;it++)st=st.matchType(et.child(it).type);return st}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let et=0;et<this.next.length;et++){let{type:rt}=this.next[et];if(!(rt.isText||rt.hasRequiredAttrs()))return rt}return null}compatible(et){for(let rt=0;rt<this.next.length;rt++)for(let nt=0;nt<et.next.length;nt++)if(this.next[rt].type==et.next[nt].type)return!0;return!1}fillBefore(et,rt=!1,nt=0){let st=[this];function it(at,ot){let lt=at.matchFragment(et,nt);if(lt&&(!rt||lt.validEnd))return Fragment.from(ot.map(ct=>ct.createAndFill()));for(let ct=0;ct<at.next.length;ct++){let{type:ut,next:dt}=at.next[ct];if(!(ut.isText||ut.hasRequiredAttrs())&&st.indexOf(dt)==-1){st.push(dt);let pt=it(dt,ot.concat(ut));if(pt)return pt}}return null}return it(this,[])}findWrapping(et){for(let nt=0;nt<this.wrapCache.length;nt+=2)if(this.wrapCache[nt]==et)return this.wrapCache[nt+1];let rt=this.computeWrapping(et);return this.wrapCache.push(et,rt),rt}computeWrapping(et){let rt=Object.create(null),nt=[{match:this,type:null,via:null}];for(;nt.length;){let st=nt.shift(),it=st.match;if(it.matchType(et)){let at=[];for(let ot=st;ot.type;ot=ot.via)at.push(ot.type);return at.reverse()}for(let at=0;at<it.next.length;at++){let{type:ot,next:lt}=it.next[at];!ot.isLeaf&&!ot.hasRequiredAttrs()&&!(ot.name in rt)&&(!st.type||lt.validEnd)&&(nt.push({match:ot.contentMatch,type:ot,via:st}),rt[ot.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(et){if(et>=this.next.length)throw new RangeError(`There's no ${et}th edge in this content match`);return this.next[et]}toString(){let et=[];function rt(nt){et.push(nt);for(let st=0;st<nt.next.length;st++)et.indexOf(nt.next[st].next)==-1&&rt(nt.next[st].next)}return rt(this),et.map((nt,st)=>{let it=st+(nt.validEnd?"*":" ")+" ";for(let at=0;at<nt.next.length;at++)it+=(at?", ":"")+nt.next[at].type.name+"->"+et.indexOf(nt.next[at].next);return it}).join(`
`)}}ContentMatch.empty=new ContentMatch(!0);class TokenStream{constructor(et,rt){this.string=et,this.nodeTypes=rt,this.inline=null,this.pos=0,this.tokens=et.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(et){return this.next==et&&(this.pos++||!0)}err(et){throw new SyntaxError(et+" (in content expression '"+this.string+"')")}}function parseExpr(_e){let et=[];do et.push(parseExprSeq(_e));while(_e.eat("|"));return et.length==1?et[0]:{type:"choice",exprs:et}}function parseExprSeq(_e){let et=[];do et.push(parseExprSubscript(_e));while(_e.next&&_e.next!=")"&&_e.next!="|");return et.length==1?et[0]:{type:"seq",exprs:et}}function parseExprSubscript(_e){let et=parseExprAtom(_e);for(;;)if(_e.eat("+"))et={type:"plus",expr:et};else if(_e.eat("*"))et={type:"star",expr:et};else if(_e.eat("?"))et={type:"opt",expr:et};else if(_e.eat("{"))et=parseExprRange(_e,et);else break;return et}function parseNum(_e){/\D/.test(_e.next)&&_e.err("Expected number, got '"+_e.next+"'");let et=Number(_e.next);return _e.pos++,et}function parseExprRange(_e,et){let rt=parseNum(_e),nt=rt;return _e.eat(",")&&(_e.next!="}"?nt=parseNum(_e):nt=-1),_e.eat("}")||_e.err("Unclosed braced range"),{type:"range",min:rt,max:nt,expr:et}}function resolveName(_e,et){let rt=_e.nodeTypes,nt=rt[et];if(nt)return[nt];let st=[];for(let it in rt){let at=rt[it];at.isInGroup(et)&&st.push(at)}return st.length==0&&_e.err("No node type or group '"+et+"' found"),st}function parseExprAtom(_e){if(_e.eat("(")){let et=parseExpr(_e);return _e.eat(")")||_e.err("Missing closing paren"),et}else if(/\W/.test(_e.next))_e.err("Unexpected token '"+_e.next+"'");else{let et=resolveName(_e,_e.next).map(rt=>(_e.inline==null?_e.inline=rt.isInline:_e.inline!=rt.isInline&&_e.err("Mixing inline and block content"),{type:"name",value:rt}));return _e.pos++,et.length==1?et[0]:{type:"choice",exprs:et}}}function nfa(_e){let et=[[]];return st(it(_e,0),rt()),et;function rt(){return et.push([])-1}function nt(at,ot,lt){let ct={term:lt,to:ot};return et[at].push(ct),ct}function st(at,ot){at.forEach(lt=>lt.to=ot)}function it(at,ot){if(at.type=="choice")return at.exprs.reduce((lt,ct)=>lt.concat(it(ct,ot)),[]);if(at.type=="seq")for(let lt=0;;lt++){let ct=it(at.exprs[lt],ot);if(lt==at.exprs.length-1)return ct;st(ct,ot=rt())}else if(at.type=="star"){let lt=rt();return nt(ot,lt),st(it(at.expr,lt),lt),[nt(lt)]}else if(at.type=="plus"){let lt=rt();return st(it(at.expr,ot),lt),st(it(at.expr,lt),lt),[nt(lt)]}else{if(at.type=="opt")return[nt(ot)].concat(it(at.expr,ot));if(at.type=="range"){let lt=ot;for(let ct=0;ct<at.min;ct++){let ut=rt();st(it(at.expr,lt),ut),lt=ut}if(at.max==-1)st(it(at.expr,lt),lt);else for(let ct=at.min;ct<at.max;ct++){let ut=rt();nt(lt,ut),st(it(at.expr,lt),ut),lt=ut}return[nt(lt)]}else{if(at.type=="name")return[nt(ot,void 0,at.value)];throw new Error("Unknown expr type")}}}}function cmp(_e,et){return et-_e}function nullFrom(_e,et){let rt=[];return nt(et),rt.sort(cmp);function nt(st){let it=_e[st];if(it.length==1&&!it[0].term)return nt(it[0].to);rt.push(st);for(let at=0;at<it.length;at++){let{term:ot,to:lt}=it[at];!ot&&rt.indexOf(lt)==-1&&nt(lt)}}}function dfa(_e){let et=Object.create(null);return rt(nullFrom(_e,0));function rt(nt){let st=[];nt.forEach(at=>{_e[at].forEach(({term:ot,to:lt})=>{if(!ot)return;let ct;for(let ut=0;ut<st.length;ut++)st[ut][0]==ot&&(ct=st[ut][1]);nullFrom(_e,lt).forEach(ut=>{ct||st.push([ot,ct=[]]),ct.indexOf(ut)==-1&&ct.push(ut)})})});let it=et[nt.join(",")]=new ContentMatch(nt.indexOf(_e.length-1)>-1);for(let at=0;at<st.length;at++){let ot=st[at][1].sort(cmp);it.next.push({type:st[at][0],next:et[ot.join(",")]||rt(ot)})}return it}}function checkForDeadEnds(_e,et){for(let rt=0,nt=[_e];rt<nt.length;rt++){let st=nt[rt],it=!st.validEnd,at=[];for(let ot=0;ot<st.next.length;ot++){let{type:lt,next:ct}=st.next[ot];at.push(lt.name),it&&!(lt.isText||lt.hasRequiredAttrs())&&(it=!1),nt.indexOf(ct)==-1&&nt.push(ct)}it&&et.err("Only non-generatable nodes ("+at.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function defaultAttrs(_e){let et=Object.create(null);for(let rt in _e){let nt=_e[rt];if(!nt.hasDefault)return null;et[rt]=nt.default}return et}function computeAttrs(_e,et){let rt=Object.create(null);for(let nt in _e){let st=et&&et[nt];if(st===void 0){let it=_e[nt];if(it.hasDefault)st=it.default;else throw new RangeError("No value supplied for attribute "+nt)}rt[nt]=st}return rt}function checkAttrs(_e,et,rt,nt){for(let st in et)if(!(st in _e))throw new RangeError(`Unsupported attribute ${st} for ${rt} of type ${st}`);for(let st in _e){let it=_e[st];it.validate&&it.validate(et[st])}}function initAttrs(_e,et){let rt=Object.create(null);if(et)for(let nt in et)rt[nt]=new Attribute(_e,nt,et[nt]);return rt}let NodeType$1=class Fo{constructor(et,rt,nt){this.name=et,this.schema=rt,this.spec=nt,this.markSet=null,this.groups=nt.group?nt.group.split(" "):[],this.attrs=initAttrs(et,nt.attrs),this.defaultAttrs=defaultAttrs(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(nt.inline||et=="text"),this.isText=et=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==ContentMatch.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(et){return this.groups.indexOf(et)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let et in this.attrs)if(this.attrs[et].isRequired)return!0;return!1}compatibleContent(et){return this==et||this.contentMatch.compatible(et.contentMatch)}computeAttrs(et){return!et&&this.defaultAttrs?this.defaultAttrs:computeAttrs(this.attrs,et)}create(et=null,rt,nt){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Node$1(this,this.computeAttrs(et),Fragment.from(rt),Mark$1.setFrom(nt))}createChecked(et=null,rt,nt){return rt=Fragment.from(rt),this.checkContent(rt),new Node$1(this,this.computeAttrs(et),rt,Mark$1.setFrom(nt))}createAndFill(et=null,rt,nt){if(et=this.computeAttrs(et),rt=Fragment.from(rt),rt.size){let at=this.contentMatch.fillBefore(rt);if(!at)return null;rt=at.append(rt)}let st=this.contentMatch.matchFragment(rt),it=st&&st.fillBefore(Fragment.empty,!0);return it?new Node$1(this,et,rt.append(it),Mark$1.setFrom(nt)):null}validContent(et){let rt=this.contentMatch.matchFragment(et);if(!rt||!rt.validEnd)return!1;for(let nt=0;nt<et.childCount;nt++)if(!this.allowsMarks(et.child(nt).marks))return!1;return!0}checkContent(et){if(!this.validContent(et))throw new RangeError(`Invalid content for node ${this.name}: ${et.toString().slice(0,50)}`)}checkAttrs(et){checkAttrs(this.attrs,et,"node",this.name)}allowsMarkType(et){return this.markSet==null||this.markSet.indexOf(et)>-1}allowsMarks(et){if(this.markSet==null)return!0;for(let rt=0;rt<et.length;rt++)if(!this.allowsMarkType(et[rt].type))return!1;return!0}allowedMarks(et){if(this.markSet==null)return et;let rt;for(let nt=0;nt<et.length;nt++)this.allowsMarkType(et[nt].type)?rt&&rt.push(et[nt]):rt||(rt=et.slice(0,nt));return rt?rt.length?rt:Mark$1.none:et}static compile(et,rt){let nt=Object.create(null);et.forEach((it,at)=>nt[it]=new Fo(it,rt,at));let st=rt.spec.topNode||"doc";if(!nt[st])throw new RangeError("Schema is missing its top node type ('"+st+"')");if(!nt.text)throw new RangeError("Every schema needs a 'text' type");for(let it in nt.text.attrs)throw new RangeError("The text node type should not have attributes");return nt}};function validateType(_e,et,rt){let nt=rt.split("|");return st=>{let it=st===null?"null":typeof st;if(nt.indexOf(it)<0)throw new RangeError(`Expected value of type ${nt} for attribute ${et} on type ${_e}, got ${it}`)}}class Attribute{constructor(et,rt,nt){this.hasDefault=Object.prototype.hasOwnProperty.call(nt,"default"),this.default=nt.default,this.validate=typeof nt.validate=="string"?validateType(et,rt,nt.validate):nt.validate}get isRequired(){return!this.hasDefault}}class MarkType{constructor(et,rt,nt,st){this.name=et,this.rank=rt,this.schema=nt,this.spec=st,this.attrs=initAttrs(et,st.attrs),this.excluded=null;let it=defaultAttrs(this.attrs);this.instance=it?new Mark$1(this,it):null}create(et=null){return!et&&this.instance?this.instance:new Mark$1(this,computeAttrs(this.attrs,et))}static compile(et,rt){let nt=Object.create(null),st=0;return et.forEach((it,at)=>nt[it]=new MarkType(it,st++,rt,at)),nt}removeFromSet(et){for(var rt=0;rt<et.length;rt++)et[rt].type==this&&(et=et.slice(0,rt).concat(et.slice(rt+1)),rt--);return et}isInSet(et){for(let rt=0;rt<et.length;rt++)if(et[rt].type==this)return et[rt]}checkAttrs(et){checkAttrs(this.attrs,et,"mark",this.name)}excludes(et){return this.excluded.indexOf(et)>-1}}class Schema{constructor(et){this.linebreakReplacement=null,this.cached=Object.create(null);let rt=this.spec={};for(let st in et)rt[st]=et[st];rt.nodes=OrderedMap.from(et.nodes),rt.marks=OrderedMap.from(et.marks||{}),this.nodes=NodeType$1.compile(this.spec.nodes,this),this.marks=MarkType.compile(this.spec.marks,this);let nt=Object.create(null);for(let st in this.nodes){if(st in this.marks)throw new RangeError(st+" can not be both a node and a mark");let it=this.nodes[st],at=it.spec.content||"",ot=it.spec.marks;if(it.contentMatch=nt[at]||(nt[at]=ContentMatch.parse(at,this.nodes)),it.inlineContent=it.contentMatch.inlineContent,it.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!it.isInline||!it.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=it}it.markSet=ot=="_"?null:ot?gatherMarks(this,ot.split(" ")):ot==""||!it.inlineContent?[]:null}for(let st in this.marks){let it=this.marks[st],at=it.spec.excludes;it.excluded=at==null?[it]:at==""?[]:gatherMarks(this,at.split(" "))}this.nodeFromJSON=st=>Node$1.fromJSON(this,st),this.markFromJSON=st=>Mark$1.fromJSON(this,st),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(et,rt=null,nt,st){if(typeof et=="string")et=this.nodeType(et);else if(et instanceof NodeType$1){if(et.schema!=this)throw new RangeError("Node type from different schema used ("+et.name+")")}else throw new RangeError("Invalid node type: "+et);return et.createChecked(rt,nt,st)}text(et,rt){let nt=this.nodes.text;return new TextNode(nt,nt.defaultAttrs,et,Mark$1.setFrom(rt))}mark(et,rt){return typeof et=="string"&&(et=this.marks[et]),et.create(rt)}nodeType(et){let rt=this.nodes[et];if(!rt)throw new RangeError("Unknown node type: "+et);return rt}}function gatherMarks(_e,et){let rt=[];for(let nt=0;nt<et.length;nt++){let st=et[nt],it=_e.marks[st],at=it;if(it)rt.push(it);else for(let ot in _e.marks){let lt=_e.marks[ot];(st=="_"||lt.spec.group&&lt.spec.group.split(" ").indexOf(st)>-1)&&rt.push(at=lt)}if(!at)throw new SyntaxError("Unknown mark type: '"+et[nt]+"'")}return rt}function isTagRule(_e){return _e.tag!=null}function isStyleRule(_e){return _e.style!=null}class DOMParser{constructor(et,rt){this.schema=et,this.rules=rt,this.tags=[],this.styles=[];let nt=this.matchedStyles=[];rt.forEach(st=>{if(isTagRule(st))this.tags.push(st);else if(isStyleRule(st)){let it=/[^=]*/.exec(st.style)[0];nt.indexOf(it)<0&&nt.push(it),this.styles.push(st)}}),this.normalizeLists=!this.tags.some(st=>{if(!/^(ul|ol)\b/.test(st.tag)||!st.node)return!1;let it=et.nodes[st.node];return it.contentMatch.matchType(it)})}parse(et,rt={}){let nt=new ParseContext(this,rt,!1);return nt.addAll(et,Mark$1.none,rt.from,rt.to),nt.finish()}parseSlice(et,rt={}){let nt=new ParseContext(this,rt,!0);return nt.addAll(et,Mark$1.none,rt.from,rt.to),Slice.maxOpen(nt.finish())}matchTag(et,rt,nt){for(let st=nt?this.tags.indexOf(nt)+1:0;st<this.tags.length;st++){let it=this.tags[st];if(matches(et,it.tag)&&(it.namespace===void 0||et.namespaceURI==it.namespace)&&(!it.context||rt.matchesContext(it.context))){if(it.getAttrs){let at=it.getAttrs(et);if(at===!1)continue;it.attrs=at||void 0}return it}}}matchStyle(et,rt,nt,st){for(let it=st?this.styles.indexOf(st)+1:0;it<this.styles.length;it++){let at=this.styles[it],ot=at.style;if(!(ot.indexOf(et)!=0||at.context&&!nt.matchesContext(at.context)||ot.length>et.length&&(ot.charCodeAt(et.length)!=61||ot.slice(et.length+1)!=rt))){if(at.getAttrs){let lt=at.getAttrs(rt);if(lt===!1)continue;at.attrs=lt||void 0}return at}}}static schemaRules(et){let rt=[];function nt(st){let it=st.priority==null?50:st.priority,at=0;for(;at<rt.length;at++){let ot=rt[at];if((ot.priority==null?50:ot.priority)<it)break}rt.splice(at,0,st)}for(let st in et.marks){let it=et.marks[st].spec.parseDOM;it&&it.forEach(at=>{nt(at=copy(at)),at.mark||at.ignore||at.clearMark||(at.mark=st)})}for(let st in et.nodes){let it=et.nodes[st].spec.parseDOM;it&&it.forEach(at=>{nt(at=copy(at)),at.node||at.ignore||at.mark||(at.node=st)})}return rt}static fromSchema(et){return et.cached.domParser||(et.cached.domParser=new DOMParser(et,DOMParser.schemaRules(et)))}}const blockTags={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},ignoreTags={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},listTags={ol:!0,ul:!0},OPT_PRESERVE_WS=1,OPT_PRESERVE_WS_FULL=2,OPT_OPEN_LEFT=4;function wsOptionsFor(_e,et,rt){return et!=null?(et?OPT_PRESERVE_WS:0)|(et==="full"?OPT_PRESERVE_WS_FULL:0):_e&&_e.whitespace=="pre"?OPT_PRESERVE_WS|OPT_PRESERVE_WS_FULL:rt&~OPT_OPEN_LEFT}class NodeContext{constructor(et,rt,nt,st,it,at){this.type=et,this.attrs=rt,this.marks=nt,this.solid=st,this.options=at,this.content=[],this.activeMarks=Mark$1.none,this.match=it||(at&OPT_OPEN_LEFT?null:et.contentMatch)}findWrapping(et){if(!this.match){if(!this.type)return[];let rt=this.type.contentMatch.fillBefore(Fragment.from(et));if(rt)this.match=this.type.contentMatch.matchFragment(rt);else{let nt=this.type.contentMatch,st;return(st=nt.findWrapping(et.type))?(this.match=nt,st):null}}return this.match.findWrapping(et.type)}finish(et){if(!(this.options&OPT_PRESERVE_WS)){let nt=this.content[this.content.length-1],st;if(nt&&nt.isText&&(st=/[ \t\r\n\u000c]+$/.exec(nt.text))){let it=nt;nt.text.length==st[0].length?this.content.pop():this.content[this.content.length-1]=it.withText(it.text.slice(0,it.text.length-st[0].length))}}let rt=Fragment.from(this.content);return!et&&this.match&&(rt=rt.append(this.match.fillBefore(Fragment.empty,!0))),this.type?this.type.create(this.attrs,rt,this.marks):rt}inlineContext(et){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:et.parentNode&&!blockTags.hasOwnProperty(et.parentNode.nodeName.toLowerCase())}}class ParseContext{constructor(et,rt,nt){this.parser=et,this.options=rt,this.isOpen=nt,this.open=0,this.localPreserveWS=!1;let st=rt.topNode,it,at=wsOptionsFor(null,rt.preserveWhitespace,0)|(nt?OPT_OPEN_LEFT:0);st?it=new NodeContext(st.type,st.attrs,Mark$1.none,!0,rt.topMatch||st.type.contentMatch,at):nt?it=new NodeContext(null,null,Mark$1.none,!0,null,at):it=new NodeContext(et.schema.topNodeType,null,Mark$1.none,!0,null,at),this.nodes=[it],this.find=rt.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(et,rt){et.nodeType==3?this.addTextNode(et,rt):et.nodeType==1&&this.addElement(et,rt)}addTextNode(et,rt){let nt=et.nodeValue,st=this.top,it=st.options&OPT_PRESERVE_WS_FULL?"full":this.localPreserveWS||(st.options&OPT_PRESERVE_WS)>0,{schema:at}=this.parser;if(it==="full"||st.inlineContext(et)||/[^ \t\r\n\u000c]/.test(nt)){if(it)if(it==="full")nt=nt.replace(/\r\n?/g,`
`);else if(at.linebreakReplacement&&/[\r\n]/.test(nt)&&this.top.findWrapping(at.linebreakReplacement.create())){let ot=nt.split(/\r?\n|\r/);for(let lt=0;lt<ot.length;lt++)lt&&this.insertNode(at.linebreakReplacement.create(),rt,!0),ot[lt]&&this.insertNode(at.text(ot[lt]),rt,!/\S/.test(ot[lt]));nt=""}else nt=nt.replace(/\r?\n|\r/g," ");else if(nt=nt.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(nt)&&this.open==this.nodes.length-1){let ot=st.content[st.content.length-1],lt=et.previousSibling;(!ot||lt&&lt.nodeName=="BR"||ot.isText&&/[ \t\r\n\u000c]$/.test(ot.text))&&(nt=nt.slice(1))}nt&&this.insertNode(at.text(nt),rt,!/\S/.test(nt)),this.findInText(et)}else this.findInside(et)}addElement(et,rt,nt){let st=this.localPreserveWS,it=this.top;(et.tagName=="PRE"||/pre/.test(et.style&&et.style.whiteSpace))&&(this.localPreserveWS=!0);let at=et.nodeName.toLowerCase(),ot;listTags.hasOwnProperty(at)&&this.parser.normalizeLists&&normalizeList(et);let lt=this.options.ruleFromNode&&this.options.ruleFromNode(et)||(ot=this.parser.matchTag(et,this,nt));e:if(lt?lt.ignore:ignoreTags.hasOwnProperty(at))this.findInside(et),this.ignoreFallback(et,rt);else if(!lt||lt.skip||lt.closeParent){lt&&lt.closeParent?this.open=Math.max(0,this.open-1):lt&&lt.skip.nodeType&&(et=lt.skip);let ct,ut=this.needsBlock;if(blockTags.hasOwnProperty(at))it.content.length&&it.content[0].isInline&&this.open&&(this.open--,it=this.top),ct=!0,it.type||(this.needsBlock=!0);else if(!et.firstChild){this.leafFallback(et,rt);break e}let dt=lt&&lt.skip?rt:this.readStyles(et,rt);dt&&this.addAll(et,dt),ct&&this.sync(it),this.needsBlock=ut}else{let ct=this.readStyles(et,rt);ct&&this.addElementByRule(et,lt,ct,lt.consuming===!1?ot:void 0)}this.localPreserveWS=st}leafFallback(et,rt){et.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(et.ownerDocument.createTextNode(`
`),rt)}ignoreFallback(et,rt){et.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),rt,!0)}readStyles(et,rt){let nt=et.style;if(nt&&nt.length)for(let st=0;st<this.parser.matchedStyles.length;st++){let it=this.parser.matchedStyles[st],at=nt.getPropertyValue(it);if(at)for(let ot=void 0;;){let lt=this.parser.matchStyle(it,at,this,ot);if(!lt)break;if(lt.ignore)return null;if(lt.clearMark?rt=rt.filter(ct=>!lt.clearMark(ct)):rt=rt.concat(this.parser.schema.marks[lt.mark].create(lt.attrs)),lt.consuming===!1)ot=lt;else break}}return rt}addElementByRule(et,rt,nt,st){let it,at;if(rt.node)if(at=this.parser.schema.nodes[rt.node],at.isLeaf)this.insertNode(at.create(rt.attrs),nt,et.nodeName=="BR")||this.leafFallback(et,nt);else{let lt=this.enter(at,rt.attrs||null,nt,rt.preserveWhitespace);lt&&(it=!0,nt=lt)}else{let lt=this.parser.schema.marks[rt.mark];nt=nt.concat(lt.create(rt.attrs))}let ot=this.top;if(at&&at.isLeaf)this.findInside(et);else if(st)this.addElement(et,nt,st);else if(rt.getContent)this.findInside(et),rt.getContent(et,this.parser.schema).forEach(lt=>this.insertNode(lt,nt,!1));else{let lt=et;typeof rt.contentElement=="string"?lt=et.querySelector(rt.contentElement):typeof rt.contentElement=="function"?lt=rt.contentElement(et):rt.contentElement&&(lt=rt.contentElement),this.findAround(et,lt,!0),this.addAll(lt,nt),this.findAround(et,lt,!1)}it&&this.sync(ot)&&this.open--}addAll(et,rt,nt,st){let it=nt||0;for(let at=nt?et.childNodes[nt]:et.firstChild,ot=st==null?null:et.childNodes[st];at!=ot;at=at.nextSibling,++it)this.findAtPoint(et,it),this.addDOM(at,rt);this.findAtPoint(et,it)}findPlace(et,rt,nt){let st,it;for(let at=this.open,ot=0;at>=0;at--){let lt=this.nodes[at],ct=lt.findWrapping(et);if(ct&&(!st||st.length>ct.length+ot)&&(st=ct,it=lt,!ct.length))break;if(lt.solid){if(nt)break;ot+=2}}if(!st)return null;this.sync(it);for(let at=0;at<st.length;at++)rt=this.enterInner(st[at],null,rt,!1);return rt}insertNode(et,rt,nt){if(et.isInline&&this.needsBlock&&!this.top.type){let it=this.textblockFromContext();it&&(rt=this.enterInner(it,null,rt))}let st=this.findPlace(et,rt,nt);if(st){this.closeExtra();let it=this.top;it.match&&(it.match=it.match.matchType(et.type));let at=Mark$1.none;for(let ot of st.concat(et.marks))(it.type?it.type.allowsMarkType(ot.type):markMayApply(ot.type,et.type))&&(at=ot.addToSet(at));return it.content.push(et.mark(at)),!0}return!1}enter(et,rt,nt,st){let it=this.findPlace(et.create(rt),nt,!1);return it&&(it=this.enterInner(et,rt,nt,!0,st)),it}enterInner(et,rt,nt,st=!1,it){this.closeExtra();let at=this.top;at.match=at.match&&at.match.matchType(et);let ot=wsOptionsFor(et,it,at.options);at.options&OPT_OPEN_LEFT&&at.content.length==0&&(ot|=OPT_OPEN_LEFT);let lt=Mark$1.none;return nt=nt.filter(ct=>(at.type?at.type.allowsMarkType(ct.type):markMayApply(ct.type,et))?(lt=ct.addToSet(lt),!1):!0),this.nodes.push(new NodeContext(et,rt,lt,st,null,ot)),this.open++,nt}closeExtra(et=!1){let rt=this.nodes.length-1;if(rt>this.open){for(;rt>this.open;rt--)this.nodes[rt-1].content.push(this.nodes[rt].finish(et));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(et){for(let rt=this.open;rt>=0;rt--){if(this.nodes[rt]==et)return this.open=rt,!0;this.localPreserveWS&&(this.nodes[rt].options|=OPT_PRESERVE_WS)}return!1}get currentPos(){this.closeExtra();let et=0;for(let rt=this.open;rt>=0;rt--){let nt=this.nodes[rt].content;for(let st=nt.length-1;st>=0;st--)et+=nt[st].nodeSize;rt&&et++}return et}findAtPoint(et,rt){if(this.find)for(let nt=0;nt<this.find.length;nt++)this.find[nt].node==et&&this.find[nt].offset==rt&&(this.find[nt].pos=this.currentPos)}findInside(et){if(this.find)for(let rt=0;rt<this.find.length;rt++)this.find[rt].pos==null&&et.nodeType==1&&et.contains(this.find[rt].node)&&(this.find[rt].pos=this.currentPos)}findAround(et,rt,nt){if(et!=rt&&this.find)for(let st=0;st<this.find.length;st++)this.find[st].pos==null&&et.nodeType==1&&et.contains(this.find[st].node)&&rt.compareDocumentPosition(this.find[st].node)&(nt?2:4)&&(this.find[st].pos=this.currentPos)}findInText(et){if(this.find)for(let rt=0;rt<this.find.length;rt++)this.find[rt].node==et&&(this.find[rt].pos=this.currentPos-(et.nodeValue.length-this.find[rt].offset))}matchesContext(et){if(et.indexOf("|")>-1)return et.split(/\s*\|\s*/).some(this.matchesContext,this);let rt=et.split("/"),nt=this.options.context,st=!this.isOpen&&(!nt||nt.parent.type==this.nodes[0].type),it=-(nt?nt.depth+1:0)+(st?0:1),at=(ot,lt)=>{for(;ot>=0;ot--){let ct=rt[ot];if(ct==""){if(ot==rt.length-1||ot==0)continue;for(;lt>=it;lt--)if(at(ot-1,lt))return!0;return!1}else{let ut=lt>0||lt==0&&st?this.nodes[lt].type:nt&&lt>=it?nt.node(lt-it).type:null;if(!ut||ut.name!=ct&&!ut.isInGroup(ct))return!1;lt--}}return!0};return at(rt.length-1,this.open)}textblockFromContext(){let et=this.options.context;if(et)for(let rt=et.depth;rt>=0;rt--){let nt=et.node(rt).contentMatchAt(et.indexAfter(rt)).defaultType;if(nt&&nt.isTextblock&&nt.defaultAttrs)return nt}for(let rt in this.parser.schema.nodes){let nt=this.parser.schema.nodes[rt];if(nt.isTextblock&&nt.defaultAttrs)return nt}}}function normalizeList(_e){for(let et=_e.firstChild,rt=null;et;et=et.nextSibling){let nt=et.nodeType==1?et.nodeName.toLowerCase():null;nt&&listTags.hasOwnProperty(nt)&&rt?(rt.appendChild(et),et=rt):nt=="li"?rt=et:nt&&(rt=null)}}function matches(_e,et){return(_e.matches||_e.msMatchesSelector||_e.webkitMatchesSelector||_e.mozMatchesSelector).call(_e,et)}function copy(_e){let et={};for(let rt in _e)et[rt]=_e[rt];return et}function markMayApply(_e,et){let rt=et.schema.nodes;for(let nt in rt){let st=rt[nt];if(!st.allowsMarkType(_e))continue;let it=[],at=ot=>{it.push(ot);for(let lt=0;lt<ot.edgeCount;lt++){let{type:ct,next:ut}=ot.edge(lt);if(ct==et||it.indexOf(ut)<0&&at(ut))return!0}};if(at(st.contentMatch))return!0}}class DOMSerializer{constructor(et,rt){this.nodes=et,this.marks=rt}serializeFragment(et,rt={},nt){nt||(nt=doc$1(rt).createDocumentFragment());let st=nt,it=[];return et.forEach(at=>{if(it.length||at.marks.length){let ot=0,lt=0;for(;ot<it.length&&lt<at.marks.length;){let ct=at.marks[lt];if(!this.marks[ct.type.name]){lt++;continue}if(!ct.eq(it[ot][0])||ct.type.spec.spanning===!1)break;ot++,lt++}for(;ot<it.length;)st=it.pop()[1];for(;lt<at.marks.length;){let ct=at.marks[lt++],ut=this.serializeMark(ct,at.isInline,rt);ut&&(it.push([ct,st]),st.appendChild(ut.dom),st=ut.contentDOM||ut.dom)}}st.appendChild(this.serializeNodeInner(at,rt))}),nt}serializeNodeInner(et,rt){let{dom:nt,contentDOM:st}=renderSpec(doc$1(rt),this.nodes[et.type.name](et),null,et.attrs);if(st){if(et.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(et.content,rt,st)}return nt}serializeNode(et,rt={}){let nt=this.serializeNodeInner(et,rt);for(let st=et.marks.length-1;st>=0;st--){let it=this.serializeMark(et.marks[st],et.isInline,rt);it&&((it.contentDOM||it.dom).appendChild(nt),nt=it.dom)}return nt}serializeMark(et,rt,nt={}){let st=this.marks[et.type.name];return st&&renderSpec(doc$1(nt),st(et,rt),null,et.attrs)}static renderSpec(et,rt,nt=null,st){return renderSpec(et,rt,nt,st)}static fromSchema(et){return et.cached.domSerializer||(et.cached.domSerializer=new DOMSerializer(this.nodesFromSchema(et),this.marksFromSchema(et)))}static nodesFromSchema(et){let rt=gatherToDOM(et.nodes);return rt.text||(rt.text=nt=>nt.text),rt}static marksFromSchema(et){return gatherToDOM(et.marks)}}function gatherToDOM(_e){let et={};for(let rt in _e){let nt=_e[rt].spec.toDOM;nt&&(et[rt]=nt)}return et}function doc$1(_e){return _e.document||window.document}const suspiciousAttributeCache=new WeakMap;function suspiciousAttributes(_e){let et=suspiciousAttributeCache.get(_e);return et===void 0&&suspiciousAttributeCache.set(_e,et=suspiciousAttributesInner(_e)),et}function suspiciousAttributesInner(_e){let et=null;function rt(nt){if(nt&&typeof nt=="object")if(Array.isArray(nt))if(typeof nt[0]=="string")et||(et=[]),et.push(nt);else for(let st=0;st<nt.length;st++)rt(nt[st]);else for(let st in nt)rt(nt[st])}return rt(_e),et}function renderSpec(_e,et,rt,nt){if(typeof et=="string")return{dom:_e.createTextNode(et)};if(et.nodeType!=null)return{dom:et};if(et.dom&&et.dom.nodeType!=null)return et;let st=et[0],it;if(typeof st!="string")throw new RangeError("Invalid array passed to renderSpec");if(nt&&(it=suspiciousAttributes(nt))&&it.indexOf(et)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let at=st.indexOf(" ");at>0&&(rt=st.slice(0,at),st=st.slice(at+1));let ot,lt=rt?_e.createElementNS(rt,st):_e.createElement(st),ct=et[1],ut=1;if(ct&&typeof ct=="object"&&ct.nodeType==null&&!Array.isArray(ct)){ut=2;for(let dt in ct)if(ct[dt]!=null){let pt=dt.indexOf(" ");pt>0?lt.setAttributeNS(dt.slice(0,pt),dt.slice(pt+1),ct[dt]):dt=="style"&&lt.style?lt.style.cssText=ct[dt]:lt.setAttribute(dt,ct[dt])}}for(let dt=ut;dt<et.length;dt++){let pt=et[dt];if(pt===0){if(dt<et.length-1||dt>ut)throw new RangeError("Content hole must be the only child of its parent node");return{dom:lt,contentDOM:lt}}else{let{dom:mt,contentDOM:xt}=renderSpec(_e,pt,rt,nt);if(lt.appendChild(mt),xt){if(ot)throw new RangeError("Multiple content holes");ot=xt}}}return{dom:lt,contentDOM:ot}}const lower16=65535,factor16=Math.pow(2,16);function makeRecover(_e,et){return _e+et*factor16}function recoverIndex(_e){return _e&lower16}function recoverOffset(_e){return(_e-(_e&lower16))/factor16}const DEL_BEFORE=1,DEL_AFTER=2,DEL_ACROSS=4,DEL_SIDE=8;class MapResult{constructor(et,rt,nt){this.pos=et,this.delInfo=rt,this.recover=nt}get deleted(){return(this.delInfo&DEL_SIDE)>0}get deletedBefore(){return(this.delInfo&(DEL_BEFORE|DEL_ACROSS))>0}get deletedAfter(){return(this.delInfo&(DEL_AFTER|DEL_ACROSS))>0}get deletedAcross(){return(this.delInfo&DEL_ACROSS)>0}}class StepMap{constructor(et,rt=!1){if(this.ranges=et,this.inverted=rt,!et.length&&StepMap.empty)return StepMap.empty}recover(et){let rt=0,nt=recoverIndex(et);if(!this.inverted)for(let st=0;st<nt;st++)rt+=this.ranges[st*3+2]-this.ranges[st*3+1];return this.ranges[nt*3]+rt+recoverOffset(et)}mapResult(et,rt=1){return this._map(et,rt,!1)}map(et,rt=1){return this._map(et,rt,!0)}_map(et,rt,nt){let st=0,it=this.inverted?2:1,at=this.inverted?1:2;for(let ot=0;ot<this.ranges.length;ot+=3){let lt=this.ranges[ot]-(this.inverted?st:0);if(lt>et)break;let ct=this.ranges[ot+it],ut=this.ranges[ot+at],dt=lt+ct;if(et<=dt){let pt=ct?et==lt?-1:et==dt?1:rt:rt,mt=lt+st+(pt<0?0:ut);if(nt)return mt;let xt=et==(rt<0?lt:dt)?null:makeRecover(ot/3,et-lt),yt=et==lt?DEL_AFTER:et==dt?DEL_BEFORE:DEL_ACROSS;return(rt<0?et!=lt:et!=dt)&&(yt|=DEL_SIDE),new MapResult(mt,yt,xt)}st+=ut-ct}return nt?et+st:new MapResult(et+st,0,null)}touches(et,rt){let nt=0,st=recoverIndex(rt),it=this.inverted?2:1,at=this.inverted?1:2;for(let ot=0;ot<this.ranges.length;ot+=3){let lt=this.ranges[ot]-(this.inverted?nt:0);if(lt>et)break;let ct=this.ranges[ot+it],ut=lt+ct;if(et<=ut&&ot==st*3)return!0;nt+=this.ranges[ot+at]-ct}return!1}forEach(et){let rt=this.inverted?2:1,nt=this.inverted?1:2;for(let st=0,it=0;st<this.ranges.length;st+=3){let at=this.ranges[st],ot=at-(this.inverted?it:0),lt=at+(this.inverted?0:it),ct=this.ranges[st+rt],ut=this.ranges[st+nt];et(ot,ot+ct,lt,lt+ut),it+=ut-ct}}invert(){return new StepMap(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(et){return et==0?StepMap.empty:new StepMap(et<0?[0,-et,0]:[0,0,et])}}StepMap.empty=new StepMap([]);class Mapping{constructor(et,rt,nt=0,st=et?et.length:0){this.mirror=rt,this.from=nt,this.to=st,this._maps=et||[],this.ownData=!(et||rt)}get maps(){return this._maps}slice(et=0,rt=this.maps.length){return new Mapping(this._maps,this.mirror,et,rt)}appendMap(et,rt){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(et),rt!=null&&this.setMirror(this._maps.length-1,rt)}appendMapping(et){for(let rt=0,nt=this._maps.length;rt<et._maps.length;rt++){let st=et.getMirror(rt);this.appendMap(et._maps[rt],st!=null&&st<rt?nt+st:void 0)}}getMirror(et){if(this.mirror){for(let rt=0;rt<this.mirror.length;rt++)if(this.mirror[rt]==et)return this.mirror[rt+(rt%2?-1:1)]}}setMirror(et,rt){this.mirror||(this.mirror=[]),this.mirror.push(et,rt)}appendMappingInverted(et){for(let rt=et.maps.length-1,nt=this._maps.length+et._maps.length;rt>=0;rt--){let st=et.getMirror(rt);this.appendMap(et._maps[rt].invert(),st!=null&&st>rt?nt-st-1:void 0)}}invert(){let et=new Mapping;return et.appendMappingInverted(this),et}map(et,rt=1){if(this.mirror)return this._map(et,rt,!0);for(let nt=this.from;nt<this.to;nt++)et=this._maps[nt].map(et,rt);return et}mapResult(et,rt=1){return this._map(et,rt,!1)}_map(et,rt,nt){let st=0;for(let it=this.from;it<this.to;it++){let at=this._maps[it],ot=at.mapResult(et,rt);if(ot.recover!=null){let lt=this.getMirror(it);if(lt!=null&&lt>it&&lt<this.to){it=lt,et=this._maps[lt].recover(ot.recover);continue}}st|=ot.delInfo,et=ot.pos}return nt?et:new MapResult(et,st,null)}}const stepsByID=Object.create(null);class Step{getMap(){return StepMap.empty}merge(et){return null}static fromJSON(et,rt){if(!rt||!rt.stepType)throw new RangeError("Invalid input for Step.fromJSON");let nt=stepsByID[rt.stepType];if(!nt)throw new RangeError(`No step type ${rt.stepType} defined`);return nt.fromJSON(et,rt)}static jsonID(et,rt){if(et in stepsByID)throw new RangeError("Duplicate use of step JSON ID "+et);return stepsByID[et]=rt,rt.prototype.jsonID=et,rt}}class StepResult{constructor(et,rt){this.doc=et,this.failed=rt}static ok(et){return new StepResult(et,null)}static fail(et){return new StepResult(null,et)}static fromReplace(et,rt,nt,st){try{return StepResult.ok(et.replace(rt,nt,st))}catch(it){if(it instanceof ReplaceError)return StepResult.fail(it.message);throw it}}}function mapFragment(_e,et,rt){let nt=[];for(let st=0;st<_e.childCount;st++){let it=_e.child(st);it.content.size&&(it=it.copy(mapFragment(it.content,et,it))),it.isInline&&(it=et(it,rt,st)),nt.push(it)}return Fragment.fromArray(nt)}class AddMarkStep extends Step{constructor(et,rt,nt){super(),this.from=et,this.to=rt,this.mark=nt}apply(et){let rt=et.slice(this.from,this.to),nt=et.resolve(this.from),st=nt.node(nt.sharedDepth(this.to)),it=new Slice(mapFragment(rt.content,(at,ot)=>!at.isAtom||!ot.type.allowsMarkType(this.mark.type)?at:at.mark(this.mark.addToSet(at.marks)),st),rt.openStart,rt.openEnd);return StepResult.fromReplace(et,this.from,this.to,it)}invert(){return new RemoveMarkStep(this.from,this.to,this.mark)}map(et){let rt=et.mapResult(this.from,1),nt=et.mapResult(this.to,-1);return rt.deleted&&nt.deleted||rt.pos>=nt.pos?null:new AddMarkStep(rt.pos,nt.pos,this.mark)}merge(et){return et instanceof AddMarkStep&&et.mark.eq(this.mark)&&this.from<=et.to&&this.to>=et.from?new AddMarkStep(Math.min(this.from,et.from),Math.max(this.to,et.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(et,rt){if(typeof rt.from!="number"||typeof rt.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new AddMarkStep(rt.from,rt.to,et.markFromJSON(rt.mark))}}Step.jsonID("addMark",AddMarkStep);class RemoveMarkStep extends Step{constructor(et,rt,nt){super(),this.from=et,this.to=rt,this.mark=nt}apply(et){let rt=et.slice(this.from,this.to),nt=new Slice(mapFragment(rt.content,st=>st.mark(this.mark.removeFromSet(st.marks)),et),rt.openStart,rt.openEnd);return StepResult.fromReplace(et,this.from,this.to,nt)}invert(){return new AddMarkStep(this.from,this.to,this.mark)}map(et){let rt=et.mapResult(this.from,1),nt=et.mapResult(this.to,-1);return rt.deleted&&nt.deleted||rt.pos>=nt.pos?null:new RemoveMarkStep(rt.pos,nt.pos,this.mark)}merge(et){return et instanceof RemoveMarkStep&&et.mark.eq(this.mark)&&this.from<=et.to&&this.to>=et.from?new RemoveMarkStep(Math.min(this.from,et.from),Math.max(this.to,et.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(et,rt){if(typeof rt.from!="number"||typeof rt.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new RemoveMarkStep(rt.from,rt.to,et.markFromJSON(rt.mark))}}Step.jsonID("removeMark",RemoveMarkStep);class AddNodeMarkStep extends Step{constructor(et,rt){super(),this.pos=et,this.mark=rt}apply(et){let rt=et.nodeAt(this.pos);if(!rt)return StepResult.fail("No node at mark step's position");let nt=rt.type.create(rt.attrs,null,this.mark.addToSet(rt.marks));return StepResult.fromReplace(et,this.pos,this.pos+1,new Slice(Fragment.from(nt),0,rt.isLeaf?0:1))}invert(et){let rt=et.nodeAt(this.pos);if(rt){let nt=this.mark.addToSet(rt.marks);if(nt.length==rt.marks.length){for(let st=0;st<rt.marks.length;st++)if(!rt.marks[st].isInSet(nt))return new AddNodeMarkStep(this.pos,rt.marks[st]);return new AddNodeMarkStep(this.pos,this.mark)}}return new RemoveNodeMarkStep(this.pos,this.mark)}map(et){let rt=et.mapResult(this.pos,1);return rt.deletedAfter?null:new AddNodeMarkStep(rt.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(et,rt){if(typeof rt.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new AddNodeMarkStep(rt.pos,et.markFromJSON(rt.mark))}}Step.jsonID("addNodeMark",AddNodeMarkStep);class RemoveNodeMarkStep extends Step{constructor(et,rt){super(),this.pos=et,this.mark=rt}apply(et){let rt=et.nodeAt(this.pos);if(!rt)return StepResult.fail("No node at mark step's position");let nt=rt.type.create(rt.attrs,null,this.mark.removeFromSet(rt.marks));return StepResult.fromReplace(et,this.pos,this.pos+1,new Slice(Fragment.from(nt),0,rt.isLeaf?0:1))}invert(et){let rt=et.nodeAt(this.pos);return!rt||!this.mark.isInSet(rt.marks)?this:new AddNodeMarkStep(this.pos,this.mark)}map(et){let rt=et.mapResult(this.pos,1);return rt.deletedAfter?null:new RemoveNodeMarkStep(rt.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(et,rt){if(typeof rt.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new RemoveNodeMarkStep(rt.pos,et.markFromJSON(rt.mark))}}Step.jsonID("removeNodeMark",RemoveNodeMarkStep);class ReplaceStep extends Step{constructor(et,rt,nt,st=!1){super(),this.from=et,this.to=rt,this.slice=nt,this.structure=st}apply(et){return this.structure&&contentBetween(et,this.from,this.to)?StepResult.fail("Structure replace would overwrite content"):StepResult.fromReplace(et,this.from,this.to,this.slice)}getMap(){return new StepMap([this.from,this.to-this.from,this.slice.size])}invert(et){return new ReplaceStep(this.from,this.from+this.slice.size,et.slice(this.from,this.to))}map(et){let rt=et.mapResult(this.from,1),nt=et.mapResult(this.to,-1);return rt.deletedAcross&&nt.deletedAcross?null:new ReplaceStep(rt.pos,Math.max(rt.pos,nt.pos),this.slice,this.structure)}merge(et){if(!(et instanceof ReplaceStep)||et.structure||this.structure)return null;if(this.from+this.slice.size==et.from&&!this.slice.openEnd&&!et.slice.openStart){let rt=this.slice.size+et.slice.size==0?Slice.empty:new Slice(this.slice.content.append(et.slice.content),this.slice.openStart,et.slice.openEnd);return new ReplaceStep(this.from,this.to+(et.to-et.from),rt,this.structure)}else if(et.to==this.from&&!this.slice.openStart&&!et.slice.openEnd){let rt=this.slice.size+et.slice.size==0?Slice.empty:new Slice(et.slice.content.append(this.slice.content),et.slice.openStart,this.slice.openEnd);return new ReplaceStep(et.from,this.to,rt,this.structure)}else return null}toJSON(){let et={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(et.slice=this.slice.toJSON()),this.structure&&(et.structure=!0),et}static fromJSON(et,rt){if(typeof rt.from!="number"||typeof rt.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new ReplaceStep(rt.from,rt.to,Slice.fromJSON(et,rt.slice),!!rt.structure)}}Step.jsonID("replace",ReplaceStep);class ReplaceAroundStep extends Step{constructor(et,rt,nt,st,it,at,ot=!1){super(),this.from=et,this.to=rt,this.gapFrom=nt,this.gapTo=st,this.slice=it,this.insert=at,this.structure=ot}apply(et){if(this.structure&&(contentBetween(et,this.from,this.gapFrom)||contentBetween(et,this.gapTo,this.to)))return StepResult.fail("Structure gap-replace would overwrite content");let rt=et.slice(this.gapFrom,this.gapTo);if(rt.openStart||rt.openEnd)return StepResult.fail("Gap is not a flat range");let nt=this.slice.insertAt(this.insert,rt.content);return nt?StepResult.fromReplace(et,this.from,this.to,nt):StepResult.fail("Content does not fit in gap")}getMap(){return new StepMap([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(et){let rt=this.gapTo-this.gapFrom;return new ReplaceAroundStep(this.from,this.from+this.slice.size+rt,this.from+this.insert,this.from+this.insert+rt,et.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(et){let rt=et.mapResult(this.from,1),nt=et.mapResult(this.to,-1),st=this.from==this.gapFrom?rt.pos:et.map(this.gapFrom,-1),it=this.to==this.gapTo?nt.pos:et.map(this.gapTo,1);return rt.deletedAcross&&nt.deletedAcross||st<rt.pos||it>nt.pos?null:new ReplaceAroundStep(rt.pos,nt.pos,st,it,this.slice,this.insert,this.structure)}toJSON(){let et={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(et.slice=this.slice.toJSON()),this.structure&&(et.structure=!0),et}static fromJSON(et,rt){if(typeof rt.from!="number"||typeof rt.to!="number"||typeof rt.gapFrom!="number"||typeof rt.gapTo!="number"||typeof rt.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new ReplaceAroundStep(rt.from,rt.to,rt.gapFrom,rt.gapTo,Slice.fromJSON(et,rt.slice),rt.insert,!!rt.structure)}}Step.jsonID("replaceAround",ReplaceAroundStep);function contentBetween(_e,et,rt){let nt=_e.resolve(et),st=rt-et,it=nt.depth;for(;st>0&&it>0&&nt.indexAfter(it)==nt.node(it).childCount;)it--,st--;if(st>0){let at=nt.node(it).maybeChild(nt.indexAfter(it));for(;st>0;){if(!at||at.isLeaf)return!0;at=at.firstChild,st--}}return!1}function addMark(_e,et,rt,nt){let st=[],it=[],at,ot;_e.doc.nodesBetween(et,rt,(lt,ct,ut)=>{if(!lt.isInline)return;let dt=lt.marks;if(!nt.isInSet(dt)&&ut.type.allowsMarkType(nt.type)){let pt=Math.max(ct,et),mt=Math.min(ct+lt.nodeSize,rt),xt=nt.addToSet(dt);for(let yt=0;yt<dt.length;yt++)dt[yt].isInSet(xt)||(at&&at.to==pt&&at.mark.eq(dt[yt])?at.to=mt:st.push(at=new RemoveMarkStep(pt,mt,dt[yt])));ot&&ot.to==pt?ot.to=mt:it.push(ot=new AddMarkStep(pt,mt,nt))}}),st.forEach(lt=>_e.step(lt)),it.forEach(lt=>_e.step(lt))}function removeMark(_e,et,rt,nt){let st=[],it=0;_e.doc.nodesBetween(et,rt,(at,ot)=>{if(!at.isInline)return;it++;let lt=null;if(nt instanceof MarkType){let ct=at.marks,ut;for(;ut=nt.isInSet(ct);)(lt||(lt=[])).push(ut),ct=ut.removeFromSet(ct)}else nt?nt.isInSet(at.marks)&&(lt=[nt]):lt=at.marks;if(lt&&lt.length){let ct=Math.min(ot+at.nodeSize,rt);for(let ut=0;ut<lt.length;ut++){let dt=lt[ut],pt;for(let mt=0;mt<st.length;mt++){let xt=st[mt];xt.step==it-1&&dt.eq(st[mt].style)&&(pt=xt)}pt?(pt.to=ct,pt.step=it):st.push({style:dt,from:Math.max(ot,et),to:ct,step:it})}}}),st.forEach(at=>_e.step(new RemoveMarkStep(at.from,at.to,at.style)))}function clearIncompatible(_e,et,rt,nt=rt.contentMatch,st=!0){let it=_e.doc.nodeAt(et),at=[],ot=et+1;for(let lt=0;lt<it.childCount;lt++){let ct=it.child(lt),ut=ot+ct.nodeSize,dt=nt.matchType(ct.type);if(!dt)at.push(new ReplaceStep(ot,ut,Slice.empty));else{nt=dt;for(let pt=0;pt<ct.marks.length;pt++)rt.allowsMarkType(ct.marks[pt].type)||_e.step(new RemoveMarkStep(ot,ut,ct.marks[pt]));if(st&&ct.isText&&rt.whitespace!="pre"){let pt,mt=/\r?\n|\r/g,xt;for(;pt=mt.exec(ct.text);)xt||(xt=new Slice(Fragment.from(rt.schema.text(" ",rt.allowedMarks(ct.marks))),0,0)),at.push(new ReplaceStep(ot+pt.index,ot+pt.index+pt[0].length,xt))}}ot=ut}if(!nt.validEnd){let lt=nt.fillBefore(Fragment.empty,!0);_e.replace(ot,ot,new Slice(lt,0,0))}for(let lt=at.length-1;lt>=0;lt--)_e.step(at[lt])}function canCut(_e,et,rt){return(et==0||_e.canReplace(et,_e.childCount))&&(rt==_e.childCount||_e.canReplace(0,rt))}function liftTarget(_e){let rt=_e.parent.content.cutByIndex(_e.startIndex,_e.endIndex);for(let nt=_e.depth,st=0,it=0;;--nt){let at=_e.$from.node(nt),ot=_e.$from.index(nt)+st,lt=_e.$to.indexAfter(nt)-it;if(nt<_e.depth&&at.canReplace(ot,lt,rt))return nt;if(nt==0||at.type.spec.isolating||!canCut(at,ot,lt))break;ot&&(st=1),lt<at.childCount&&(it=1)}return null}function lift$2(_e,et,rt){let{$from:nt,$to:st,depth:it}=et,at=nt.before(it+1),ot=st.after(it+1),lt=at,ct=ot,ut=Fragment.empty,dt=0;for(let xt=it,yt=!1;xt>rt;xt--)yt||nt.index(xt)>0?(yt=!0,ut=Fragment.from(nt.node(xt).copy(ut)),dt++):lt--;let pt=Fragment.empty,mt=0;for(let xt=it,yt=!1;xt>rt;xt--)yt||st.after(xt+1)<st.end(xt)?(yt=!0,pt=Fragment.from(st.node(xt).copy(pt)),mt++):ct++;_e.step(new ReplaceAroundStep(lt,ct,at,ot,new Slice(ut.append(pt),dt,mt),ut.size-dt,!0))}function findWrapping(_e,et,rt=null,nt=_e){let st=findWrappingOutside(_e,et),it=st&&findWrappingInside(nt,et);return it?st.map(withAttrs).concat({type:et,attrs:rt}).concat(it.map(withAttrs)):null}function withAttrs(_e){return{type:_e,attrs:null}}function findWrappingOutside(_e,et){let{parent:rt,startIndex:nt,endIndex:st}=_e,it=rt.contentMatchAt(nt).findWrapping(et);if(!it)return null;let at=it.length?it[0]:et;return rt.canReplaceWith(nt,st,at)?it:null}function findWrappingInside(_e,et){let{parent:rt,startIndex:nt,endIndex:st}=_e,it=rt.child(nt),at=et.contentMatch.findWrapping(it.type);if(!at)return null;let lt=(at.length?at[at.length-1]:et).contentMatch;for(let ct=nt;lt&&ct<st;ct++)lt=lt.matchType(rt.child(ct).type);return!lt||!lt.validEnd?null:at}function wrap(_e,et,rt){let nt=Fragment.empty;for(let at=rt.length-1;at>=0;at--){if(nt.size){let ot=rt[at].type.contentMatch.matchFragment(nt);if(!ot||!ot.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}nt=Fragment.from(rt[at].type.create(rt[at].attrs,nt))}let st=et.start,it=et.end;_e.step(new ReplaceAroundStep(st,it,st,it,new Slice(nt,0,0),rt.length,!0))}function setBlockType$1(_e,et,rt,nt,st){if(!nt.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let it=_e.steps.length;_e.doc.nodesBetween(et,rt,(at,ot)=>{let lt=typeof st=="function"?st(at):st;if(at.isTextblock&&!at.hasMarkup(nt,lt)&&canChangeType(_e.doc,_e.mapping.slice(it).map(ot),nt)){let ct=null;if(nt.schema.linebreakReplacement){let mt=nt.whitespace=="pre",xt=!!nt.contentMatch.matchType(nt.schema.linebreakReplacement);mt&&!xt?ct=!1:!mt&&xt&&(ct=!0)}ct===!1&&replaceLinebreaks(_e,at,ot,it),clearIncompatible(_e,_e.mapping.slice(it).map(ot,1),nt,void 0,ct===null);let ut=_e.mapping.slice(it),dt=ut.map(ot,1),pt=ut.map(ot+at.nodeSize,1);return _e.step(new ReplaceAroundStep(dt,pt,dt+1,pt-1,new Slice(Fragment.from(nt.create(lt,null,at.marks)),0,0),1,!0)),ct===!0&&replaceNewlines(_e,at,ot,it),!1}})}function replaceNewlines(_e,et,rt,nt){et.forEach((st,it)=>{if(st.isText){let at,ot=/\r?\n|\r/g;for(;at=ot.exec(st.text);){let lt=_e.mapping.slice(nt).map(rt+1+it+at.index);_e.replaceWith(lt,lt+1,et.type.schema.linebreakReplacement.create())}}})}function replaceLinebreaks(_e,et,rt,nt){et.forEach((st,it)=>{if(st.type==st.type.schema.linebreakReplacement){let at=_e.mapping.slice(nt).map(rt+1+it);_e.replaceWith(at,at+1,et.type.schema.text(`
`))}})}function canChangeType(_e,et,rt){let nt=_e.resolve(et),st=nt.index();return nt.parent.canReplaceWith(st,st+1,rt)}function setNodeMarkup(_e,et,rt,nt,st){let it=_e.doc.nodeAt(et);if(!it)throw new RangeError("No node at given position");rt||(rt=it.type);let at=rt.create(nt,null,st||it.marks);if(it.isLeaf)return _e.replaceWith(et,et+it.nodeSize,at);if(!rt.validContent(it.content))throw new RangeError("Invalid content for node type "+rt.name);_e.step(new ReplaceAroundStep(et,et+it.nodeSize,et+1,et+it.nodeSize-1,new Slice(Fragment.from(at),0,0),1,!0))}function canSplit(_e,et,rt=1,nt){let st=_e.resolve(et),it=st.depth-rt,at=nt&&nt[nt.length-1]||st.parent;if(it<0||st.parent.type.spec.isolating||!st.parent.canReplace(st.index(),st.parent.childCount)||!at.type.validContent(st.parent.content.cutByIndex(st.index(),st.parent.childCount)))return!1;for(let ct=st.depth-1,ut=rt-2;ct>it;ct--,ut--){let dt=st.node(ct),pt=st.index(ct);if(dt.type.spec.isolating)return!1;let mt=dt.content.cutByIndex(pt,dt.childCount),xt=nt&&nt[ut+1];xt&&(mt=mt.replaceChild(0,xt.type.create(xt.attrs)));let yt=nt&&nt[ut]||dt;if(!dt.canReplace(pt+1,dt.childCount)||!yt.type.validContent(mt))return!1}let ot=st.indexAfter(it),lt=nt&&nt[0];return st.node(it).canReplaceWith(ot,ot,lt?lt.type:st.node(it+1).type)}function split(_e,et,rt=1,nt){let st=_e.doc.resolve(et),it=Fragment.empty,at=Fragment.empty;for(let ot=st.depth,lt=st.depth-rt,ct=rt-1;ot>lt;ot--,ct--){it=Fragment.from(st.node(ot).copy(it));let ut=nt&&nt[ct];at=Fragment.from(ut?ut.type.create(ut.attrs,at):st.node(ot).copy(at))}_e.step(new ReplaceStep(et,et,new Slice(it.append(at),rt,rt),!0))}function canJoin(_e,et){let rt=_e.resolve(et),nt=rt.index();return joinable(rt.nodeBefore,rt.nodeAfter)&&rt.parent.canReplace(nt,nt+1)}function canAppendWithSubstitutedLinebreaks(_e,et){et.content.size||_e.type.compatibleContent(et.type);let rt=_e.contentMatchAt(_e.childCount),{linebreakReplacement:nt}=_e.type.schema;for(let st=0;st<et.childCount;st++){let it=et.child(st),at=it.type==nt?_e.type.schema.nodes.text:it.type;if(rt=rt.matchType(at),!rt||!_e.type.allowsMarks(it.marks))return!1}return rt.validEnd}function joinable(_e,et){return!!(_e&&et&&!_e.isLeaf&&canAppendWithSubstitutedLinebreaks(_e,et))}function joinPoint(_e,et,rt=-1){let nt=_e.resolve(et);for(let st=nt.depth;;st--){let it,at,ot=nt.index(st);if(st==nt.depth?(it=nt.nodeBefore,at=nt.nodeAfter):rt>0?(it=nt.node(st+1),ot++,at=nt.node(st).maybeChild(ot)):(it=nt.node(st).maybeChild(ot-1),at=nt.node(st+1)),it&&!it.isTextblock&&joinable(it,at)&&nt.node(st).canReplace(ot,ot+1))return et;if(st==0)break;et=rt<0?nt.before(st):nt.after(st)}}function join(_e,et,rt){let nt=null,{linebreakReplacement:st}=_e.doc.type.schema,it=_e.doc.resolve(et-rt),at=it.node().type;if(st&&at.inlineContent){let ut=at.whitespace=="pre",dt=!!at.contentMatch.matchType(st);ut&&!dt?nt=!1:!ut&&dt&&(nt=!0)}let ot=_e.steps.length;if(nt===!1){let ut=_e.doc.resolve(et+rt);replaceLinebreaks(_e,ut.node(),ut.before(),ot)}at.inlineContent&&clearIncompatible(_e,et+rt-1,at,it.node().contentMatchAt(it.index()),nt==null);let lt=_e.mapping.slice(ot),ct=lt.map(et-rt);if(_e.step(new ReplaceStep(ct,lt.map(et+rt,-1),Slice.empty,!0)),nt===!0){let ut=_e.doc.resolve(ct);replaceNewlines(_e,ut.node(),ut.before(),_e.steps.length)}return _e}function insertPoint(_e,et,rt){let nt=_e.resolve(et);if(nt.parent.canReplaceWith(nt.index(),nt.index(),rt))return et;if(nt.parentOffset==0)for(let st=nt.depth-1;st>=0;st--){let it=nt.index(st);if(nt.node(st).canReplaceWith(it,it,rt))return nt.before(st+1);if(it>0)return null}if(nt.parentOffset==nt.parent.content.size)for(let st=nt.depth-1;st>=0;st--){let it=nt.indexAfter(st);if(nt.node(st).canReplaceWith(it,it,rt))return nt.after(st+1);if(it<nt.node(st).childCount)return null}return null}function dropPoint(_e,et,rt){let nt=_e.resolve(et);if(!rt.content.size)return et;let st=rt.content;for(let it=0;it<rt.openStart;it++)st=st.firstChild.content;for(let it=1;it<=(rt.openStart==0&&rt.size?2:1);it++)for(let at=nt.depth;at>=0;at--){let ot=at==nt.depth?0:nt.pos<=(nt.start(at+1)+nt.end(at+1))/2?-1:1,lt=nt.index(at)+(ot>0?1:0),ct=nt.node(at),ut=!1;if(it==1)ut=ct.canReplace(lt,lt,st);else{let dt=ct.contentMatchAt(lt).findWrapping(st.firstChild.type);ut=dt&&ct.canReplaceWith(lt,lt,dt[0])}if(ut)return ot==0?nt.pos:ot<0?nt.before(at+1):nt.after(at+1)}return null}function replaceStep(_e,et,rt=et,nt=Slice.empty){if(et==rt&&!nt.size)return null;let st=_e.resolve(et),it=_e.resolve(rt);return fitsTrivially(st,it,nt)?new ReplaceStep(et,rt,nt):new Fitter(st,it,nt).fit()}function fitsTrivially(_e,et,rt){return!rt.openStart&&!rt.openEnd&&_e.start()==et.start()&&_e.parent.canReplace(_e.index(),et.index(),rt.content)}class Fitter{constructor(et,rt,nt){this.$from=et,this.$to=rt,this.unplaced=nt,this.frontier=[],this.placed=Fragment.empty;for(let st=0;st<=et.depth;st++){let it=et.node(st);this.frontier.push({type:it.type,match:it.contentMatchAt(et.indexAfter(st))})}for(let st=et.depth;st>0;st--)this.placed=Fragment.from(et.node(st).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let ct=this.findFittable();ct?this.placeNodes(ct):this.openMore()||this.dropNode()}let et=this.mustMoveInline(),rt=this.placed.size-this.depth-this.$from.depth,nt=this.$from,st=this.close(et<0?this.$to:nt.doc.resolve(et));if(!st)return null;let it=this.placed,at=nt.depth,ot=st.depth;for(;at&&ot&&it.childCount==1;)it=it.firstChild.content,at--,ot--;let lt=new Slice(it,at,ot);return et>-1?new ReplaceAroundStep(nt.pos,et,this.$to.pos,this.$to.end(),lt,rt):lt.size||nt.pos!=this.$to.pos?new ReplaceStep(nt.pos,st.pos,lt):null}findFittable(){let et=this.unplaced.openStart;for(let rt=this.unplaced.content,nt=0,st=this.unplaced.openEnd;nt<et;nt++){let it=rt.firstChild;if(rt.childCount>1&&(st=0),it.type.spec.isolating&&st<=nt){et=nt;break}rt=it.content}for(let rt=1;rt<=2;rt++)for(let nt=rt==1?et:this.unplaced.openStart;nt>=0;nt--){let st,it=null;nt?(it=contentAt(this.unplaced.content,nt-1).firstChild,st=it.content):st=this.unplaced.content;let at=st.firstChild;for(let ot=this.depth;ot>=0;ot--){let{type:lt,match:ct}=this.frontier[ot],ut,dt=null;if(rt==1&&(at?ct.matchType(at.type)||(dt=ct.fillBefore(Fragment.from(at),!1)):it&&lt.compatibleContent(it.type)))return{sliceDepth:nt,frontierDepth:ot,parent:it,inject:dt};if(rt==2&&at&&(ut=ct.findWrapping(at.type)))return{sliceDepth:nt,frontierDepth:ot,parent:it,wrap:ut};if(it&&ct.matchType(it.type))break}}}openMore(){let{content:et,openStart:rt,openEnd:nt}=this.unplaced,st=contentAt(et,rt);return!st.childCount||st.firstChild.isLeaf?!1:(this.unplaced=new Slice(et,rt+1,Math.max(nt,st.size+rt>=et.size-nt?rt+1:0)),!0)}dropNode(){let{content:et,openStart:rt,openEnd:nt}=this.unplaced,st=contentAt(et,rt);if(st.childCount<=1&&rt>0){let it=et.size-rt<=rt+st.size;this.unplaced=new Slice(dropFromFragment(et,rt-1,1),rt-1,it?rt-1:nt)}else this.unplaced=new Slice(dropFromFragment(et,rt,1),rt,nt)}placeNodes({sliceDepth:et,frontierDepth:rt,parent:nt,inject:st,wrap:it}){for(;this.depth>rt;)this.closeFrontierNode();if(it)for(let yt=0;yt<it.length;yt++)this.openFrontierNode(it[yt]);let at=this.unplaced,ot=nt?nt.content:at.content,lt=at.openStart-et,ct=0,ut=[],{match:dt,type:pt}=this.frontier[rt];if(st){for(let yt=0;yt<st.childCount;yt++)ut.push(st.child(yt));dt=dt.matchFragment(st)}let mt=ot.size+et-(at.content.size-at.openEnd);for(;ct<ot.childCount;){let yt=ot.child(ct),vt=dt.matchType(yt.type);if(!vt)break;ct++,(ct>1||lt==0||yt.content.size)&&(dt=vt,ut.push(closeNodeStart(yt.mark(pt.allowedMarks(yt.marks)),ct==1?lt:0,ct==ot.childCount?mt:-1)))}let xt=ct==ot.childCount;xt||(mt=-1),this.placed=addToFragment(this.placed,rt,Fragment.from(ut)),this.frontier[rt].match=dt,xt&&mt<0&&nt&&nt.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let yt=0,vt=ot;yt<mt;yt++){let gt=vt.lastChild;this.frontier.push({type:gt.type,match:gt.contentMatchAt(gt.childCount)}),vt=gt.content}this.unplaced=xt?et==0?Slice.empty:new Slice(dropFromFragment(at.content,et-1,1),et-1,mt<0?at.openEnd:et-1):new Slice(dropFromFragment(at.content,et,ct),at.openStart,at.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let et=this.frontier[this.depth],rt;if(!et.type.isTextblock||!contentAfterFits(this.$to,this.$to.depth,et.type,et.match,!1)||this.$to.depth==this.depth&&(rt=this.findCloseLevel(this.$to))&&rt.depth==this.depth)return-1;let{depth:nt}=this.$to,st=this.$to.after(nt);for(;nt>1&&st==this.$to.end(--nt);)++st;return st}findCloseLevel(et){e:for(let rt=Math.min(this.depth,et.depth);rt>=0;rt--){let{match:nt,type:st}=this.frontier[rt],it=rt<et.depth&&et.end(rt+1)==et.pos+(et.depth-(rt+1)),at=contentAfterFits(et,rt,st,nt,it);if(at){for(let ot=rt-1;ot>=0;ot--){let{match:lt,type:ct}=this.frontier[ot],ut=contentAfterFits(et,ot,ct,lt,!0);if(!ut||ut.childCount)continue e}return{depth:rt,fit:at,move:it?et.doc.resolve(et.after(rt+1)):et}}}}close(et){let rt=this.findCloseLevel(et);if(!rt)return null;for(;this.depth>rt.depth;)this.closeFrontierNode();rt.fit.childCount&&(this.placed=addToFragment(this.placed,rt.depth,rt.fit)),et=rt.move;for(let nt=rt.depth+1;nt<=et.depth;nt++){let st=et.node(nt),it=st.type.contentMatch.fillBefore(st.content,!0,et.index(nt));this.openFrontierNode(st.type,st.attrs,it)}return et}openFrontierNode(et,rt=null,nt){let st=this.frontier[this.depth];st.match=st.match.matchType(et),this.placed=addToFragment(this.placed,this.depth,Fragment.from(et.create(rt,nt))),this.frontier.push({type:et,match:et.contentMatch})}closeFrontierNode(){let rt=this.frontier.pop().match.fillBefore(Fragment.empty,!0);rt.childCount&&(this.placed=addToFragment(this.placed,this.frontier.length,rt))}}function dropFromFragment(_e,et,rt){return et==0?_e.cutByIndex(rt,_e.childCount):_e.replaceChild(0,_e.firstChild.copy(dropFromFragment(_e.firstChild.content,et-1,rt)))}function addToFragment(_e,et,rt){return et==0?_e.append(rt):_e.replaceChild(_e.childCount-1,_e.lastChild.copy(addToFragment(_e.lastChild.content,et-1,rt)))}function contentAt(_e,et){for(let rt=0;rt<et;rt++)_e=_e.firstChild.content;return _e}function closeNodeStart(_e,et,rt){if(et<=0)return _e;let nt=_e.content;return et>1&&(nt=nt.replaceChild(0,closeNodeStart(nt.firstChild,et-1,nt.childCount==1?rt-1:0))),et>0&&(nt=_e.type.contentMatch.fillBefore(nt).append(nt),rt<=0&&(nt=nt.append(_e.type.contentMatch.matchFragment(nt).fillBefore(Fragment.empty,!0)))),_e.copy(nt)}function contentAfterFits(_e,et,rt,nt,st){let it=_e.node(et),at=st?_e.indexAfter(et):_e.index(et);if(at==it.childCount&&!rt.compatibleContent(it.type))return null;let ot=nt.fillBefore(it.content,!0,at);return ot&&!invalidMarks(rt,it.content,at)?ot:null}function invalidMarks(_e,et,rt){for(let nt=rt;nt<et.childCount;nt++)if(!_e.allowsMarks(et.child(nt).marks))return!0;return!1}function definesContent(_e){return _e.spec.defining||_e.spec.definingForContent}function replaceRange(_e,et,rt,nt){if(!nt.size)return _e.deleteRange(et,rt);let st=_e.doc.resolve(et),it=_e.doc.resolve(rt);if(fitsTrivially(st,it,nt))return _e.step(new ReplaceStep(et,rt,nt));let at=coveredDepths(st,it);at[at.length-1]==0&&at.pop();let ot=-(st.depth+1);at.unshift(ot);for(let pt=st.depth,mt=st.pos-1;pt>0;pt--,mt--){let xt=st.node(pt).type.spec;if(xt.defining||xt.definingAsContext||xt.isolating)break;at.indexOf(pt)>-1?ot=pt:st.before(pt)==mt&&at.splice(1,0,-pt)}let lt=at.indexOf(ot),ct=[],ut=nt.openStart;for(let pt=nt.content,mt=0;;mt++){let xt=pt.firstChild;if(ct.push(xt),mt==nt.openStart)break;pt=xt.content}for(let pt=ut-1;pt>=0;pt--){let mt=ct[pt],xt=definesContent(mt.type);if(xt&&!mt.sameMarkup(st.node(Math.abs(ot)-1)))ut=pt;else if(xt||!mt.type.isTextblock)break}for(let pt=nt.openStart;pt>=0;pt--){let mt=(pt+ut+1)%(nt.openStart+1),xt=ct[mt];if(xt)for(let yt=0;yt<at.length;yt++){let vt=at[(yt+lt)%at.length],gt=!0;vt<0&&(gt=!1,vt=-vt);let Et=st.node(vt-1),jt=st.index(vt-1);if(Et.canReplaceWith(jt,jt,xt.type,xt.marks))return _e.replace(st.before(vt),gt?it.after(vt):rt,new Slice(closeFragment(nt.content,0,nt.openStart,mt),mt,nt.openEnd))}}let dt=_e.steps.length;for(let pt=at.length-1;pt>=0&&(_e.replace(et,rt,nt),!(_e.steps.length>dt));pt--){let mt=at[pt];mt<0||(et=st.before(mt),rt=it.after(mt))}}function closeFragment(_e,et,rt,nt,st){if(et<rt){let it=_e.firstChild;_e=_e.replaceChild(0,it.copy(closeFragment(it.content,et+1,rt,nt,it)))}if(et>nt){let it=st.contentMatchAt(0),at=it.fillBefore(_e).append(_e);_e=at.append(it.matchFragment(at).fillBefore(Fragment.empty,!0))}return _e}function replaceRangeWith(_e,et,rt,nt){if(!nt.isInline&&et==rt&&_e.doc.resolve(et).parent.content.size){let st=insertPoint(_e.doc,et,nt.type);st!=null&&(et=rt=st)}_e.replaceRange(et,rt,new Slice(Fragment.from(nt),0,0))}function deleteRange$1(_e,et,rt){let nt=_e.doc.resolve(et),st=_e.doc.resolve(rt),it=coveredDepths(nt,st);for(let at=0;at<it.length;at++){let ot=it[at],lt=at==it.length-1;if(lt&&ot==0||nt.node(ot).type.contentMatch.validEnd)return _e.delete(nt.start(ot),st.end(ot));if(ot>0&&(lt||nt.node(ot-1).canReplace(nt.index(ot-1),st.indexAfter(ot-1))))return _e.delete(nt.before(ot),st.after(ot))}for(let at=1;at<=nt.depth&&at<=st.depth;at++)if(et-nt.start(at)==nt.depth-at&&rt>nt.end(at)&&st.end(at)-rt!=st.depth-at&&nt.start(at-1)==st.start(at-1)&&nt.node(at-1).canReplace(nt.index(at-1),st.index(at-1)))return _e.delete(nt.before(at),rt);_e.delete(et,rt)}function coveredDepths(_e,et){let rt=[],nt=Math.min(_e.depth,et.depth);for(let st=nt;st>=0;st--){let it=_e.start(st);if(it<_e.pos-(_e.depth-st)||et.end(st)>et.pos+(et.depth-st)||_e.node(st).type.spec.isolating||et.node(st).type.spec.isolating)break;(it==et.start(st)||st==_e.depth&&st==et.depth&&_e.parent.inlineContent&&et.parent.inlineContent&&st&&et.start(st-1)==it-1)&&rt.push(st)}return rt}class AttrStep extends Step{constructor(et,rt,nt){super(),this.pos=et,this.attr=rt,this.value=nt}apply(et){let rt=et.nodeAt(this.pos);if(!rt)return StepResult.fail("No node at attribute step's position");let nt=Object.create(null);for(let it in rt.attrs)nt[it]=rt.attrs[it];nt[this.attr]=this.value;let st=rt.type.create(nt,null,rt.marks);return StepResult.fromReplace(et,this.pos,this.pos+1,new Slice(Fragment.from(st),0,rt.isLeaf?0:1))}getMap(){return StepMap.empty}invert(et){return new AttrStep(this.pos,this.attr,et.nodeAt(this.pos).attrs[this.attr])}map(et){let rt=et.mapResult(this.pos,1);return rt.deletedAfter?null:new AttrStep(rt.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(et,rt){if(typeof rt.pos!="number"||typeof rt.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new AttrStep(rt.pos,rt.attr,rt.value)}}Step.jsonID("attr",AttrStep);class DocAttrStep extends Step{constructor(et,rt){super(),this.attr=et,this.value=rt}apply(et){let rt=Object.create(null);for(let st in et.attrs)rt[st]=et.attrs[st];rt[this.attr]=this.value;let nt=et.type.create(rt,et.content,et.marks);return StepResult.ok(nt)}getMap(){return StepMap.empty}invert(et){return new DocAttrStep(this.attr,et.attrs[this.attr])}map(et){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(et,rt){if(typeof rt.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new DocAttrStep(rt.attr,rt.value)}}Step.jsonID("docAttr",DocAttrStep);let TransformError=class extends Error{};TransformError=function _e(et){let rt=Error.call(this,et);return rt.__proto__=_e.prototype,rt};TransformError.prototype=Object.create(Error.prototype);TransformError.prototype.constructor=TransformError;TransformError.prototype.name="TransformError";class Transform{constructor(et){this.doc=et,this.steps=[],this.docs=[],this.mapping=new Mapping}get before(){return this.docs.length?this.docs[0]:this.doc}step(et){let rt=this.maybeStep(et);if(rt.failed)throw new TransformError(rt.failed);return this}maybeStep(et){let rt=et.apply(this.doc);return rt.failed||this.addStep(et,rt.doc),rt}get docChanged(){return this.steps.length>0}changedRange(){let et=1e9,rt=-1e9;for(let nt=0;nt<this.mapping.maps.length;nt++){let st=this.mapping.maps[nt];nt&&(et=st.map(et,1),rt=st.map(rt,-1)),st.forEach((it,at,ot,lt)=>{et=Math.min(et,ot),rt=Math.max(rt,lt)})}return et==1e9?null:{from:et,to:rt}}addStep(et,rt){this.docs.push(this.doc),this.steps.push(et),this.mapping.appendMap(et.getMap()),this.doc=rt}replace(et,rt=et,nt=Slice.empty){let st=replaceStep(this.doc,et,rt,nt);return st&&this.step(st),this}replaceWith(et,rt,nt){return this.replace(et,rt,new Slice(Fragment.from(nt),0,0))}delete(et,rt){return this.replace(et,rt,Slice.empty)}insert(et,rt){return this.replaceWith(et,et,rt)}replaceRange(et,rt,nt){return replaceRange(this,et,rt,nt),this}replaceRangeWith(et,rt,nt){return replaceRangeWith(this,et,rt,nt),this}deleteRange(et,rt){return deleteRange$1(this,et,rt),this}lift(et,rt){return lift$2(this,et,rt),this}join(et,rt=1){return join(this,et,rt),this}wrap(et,rt){return wrap(this,et,rt),this}setBlockType(et,rt=et,nt,st=null){return setBlockType$1(this,et,rt,nt,st),this}setNodeMarkup(et,rt,nt=null,st){return setNodeMarkup(this,et,rt,nt,st),this}setNodeAttribute(et,rt,nt){return this.step(new AttrStep(et,rt,nt)),this}setDocAttribute(et,rt){return this.step(new DocAttrStep(et,rt)),this}addNodeMark(et,rt){return this.step(new AddNodeMarkStep(et,rt)),this}removeNodeMark(et,rt){let nt=this.doc.nodeAt(et);if(!nt)throw new RangeError("No node at position "+et);if(rt instanceof Mark$1)rt.isInSet(nt.marks)&&this.step(new RemoveNodeMarkStep(et,rt));else{let st=nt.marks,it,at=[];for(;it=rt.isInSet(st);)at.push(new RemoveNodeMarkStep(et,it)),st=it.removeFromSet(st);for(let ot=at.length-1;ot>=0;ot--)this.step(at[ot])}return this}split(et,rt=1,nt){return split(this,et,rt,nt),this}addMark(et,rt,nt){return addMark(this,et,rt,nt),this}removeMark(et,rt,nt){return removeMark(this,et,rt,nt),this}clearIncompatible(et,rt,nt){return clearIncompatible(this,et,rt,nt),this}}const classesById=Object.create(null);class Selection{constructor(et,rt,nt){this.$anchor=et,this.$head=rt,this.ranges=nt||[new SelectionRange(et.min(rt),et.max(rt))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let et=this.ranges;for(let rt=0;rt<et.length;rt++)if(et[rt].$from.pos!=et[rt].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(et,rt=Slice.empty){let nt=rt.content.lastChild,st=null;for(let ot=0;ot<rt.openEnd;ot++)st=nt,nt=nt.lastChild;let it=et.steps.length,at=this.ranges;for(let ot=0;ot<at.length;ot++){let{$from:lt,$to:ct}=at[ot],ut=et.mapping.slice(it);et.replaceRange(ut.map(lt.pos),ut.map(ct.pos),ot?Slice.empty:rt),ot==0&&selectionToInsertionEnd$1(et,it,(nt?nt.isInline:st&&st.isTextblock)?-1:1)}}replaceWith(et,rt){let nt=et.steps.length,st=this.ranges;for(let it=0;it<st.length;it++){let{$from:at,$to:ot}=st[it],lt=et.mapping.slice(nt),ct=lt.map(at.pos),ut=lt.map(ot.pos);it?et.deleteRange(ct,ut):(et.replaceRangeWith(ct,ut,rt),selectionToInsertionEnd$1(et,nt,rt.isInline?-1:1))}}static findFrom(et,rt,nt=!1){let st=et.parent.inlineContent?new TextSelection(et):findSelectionIn(et.node(0),et.parent,et.pos,et.index(),rt,nt);if(st)return st;for(let it=et.depth-1;it>=0;it--){let at=rt<0?findSelectionIn(et.node(0),et.node(it),et.before(it+1),et.index(it),rt,nt):findSelectionIn(et.node(0),et.node(it),et.after(it+1),et.index(it)+1,rt,nt);if(at)return at}return null}static near(et,rt=1){return this.findFrom(et,rt)||this.findFrom(et,-rt)||new AllSelection(et.node(0))}static atStart(et){return findSelectionIn(et,et,0,0,1)||new AllSelection(et)}static atEnd(et){return findSelectionIn(et,et,et.content.size,et.childCount,-1)||new AllSelection(et)}static fromJSON(et,rt){if(!rt||!rt.type)throw new RangeError("Invalid input for Selection.fromJSON");let nt=classesById[rt.type];if(!nt)throw new RangeError(`No selection type ${rt.type} defined`);return nt.fromJSON(et,rt)}static jsonID(et,rt){if(et in classesById)throw new RangeError("Duplicate use of selection JSON ID "+et);return classesById[et]=rt,rt.prototype.jsonID=et,rt}getBookmark(){return TextSelection.between(this.$anchor,this.$head).getBookmark()}}Selection.prototype.visible=!0;class SelectionRange{constructor(et,rt){this.$from=et,this.$to=rt}}let warnedAboutTextSelection=!1;function checkTextSelection(_e){!warnedAboutTextSelection&&!_e.parent.inlineContent&&(warnedAboutTextSelection=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+_e.parent.type.name+")"))}class TextSelection extends Selection{constructor(et,rt=et){checkTextSelection(et),checkTextSelection(rt),super(et,rt)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(et,rt){let nt=et.resolve(rt.map(this.head));if(!nt.parent.inlineContent)return Selection.near(nt);let st=et.resolve(rt.map(this.anchor));return new TextSelection(st.parent.inlineContent?st:nt,nt)}replace(et,rt=Slice.empty){if(super.replace(et,rt),rt==Slice.empty){let nt=this.$from.marksAcross(this.$to);nt&&et.ensureMarks(nt)}}eq(et){return et instanceof TextSelection&&et.anchor==this.anchor&&et.head==this.head}getBookmark(){return new TextBookmark(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(et,rt){if(typeof rt.anchor!="number"||typeof rt.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new TextSelection(et.resolve(rt.anchor),et.resolve(rt.head))}static create(et,rt,nt=rt){let st=et.resolve(rt);return new this(st,nt==rt?st:et.resolve(nt))}static between(et,rt,nt){let st=et.pos-rt.pos;if((!nt||st)&&(nt=st>=0?1:-1),!rt.parent.inlineContent){let it=Selection.findFrom(rt,nt,!0)||Selection.findFrom(rt,-nt,!0);if(it)rt=it.$head;else return Selection.near(rt,nt)}return et.parent.inlineContent||(st==0?et=rt:(et=(Selection.findFrom(et,-nt,!0)||Selection.findFrom(et,nt,!0)).$anchor,et.pos<rt.pos!=st<0&&(et=rt))),new TextSelection(et,rt)}}Selection.jsonID("text",TextSelection);class TextBookmark{constructor(et,rt){this.anchor=et,this.head=rt}map(et){return new TextBookmark(et.map(this.anchor),et.map(this.head))}resolve(et){return TextSelection.between(et.resolve(this.anchor),et.resolve(this.head))}}class NodeSelection extends Selection{constructor(et){let rt=et.nodeAfter,nt=et.node(0).resolve(et.pos+rt.nodeSize);super(et,nt),this.node=rt}map(et,rt){let{deleted:nt,pos:st}=rt.mapResult(this.anchor),it=et.resolve(st);return nt?Selection.near(it):new NodeSelection(it)}content(){return new Slice(Fragment.from(this.node),0,0)}eq(et){return et instanceof NodeSelection&&et.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new NodeBookmark(this.anchor)}static fromJSON(et,rt){if(typeof rt.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new NodeSelection(et.resolve(rt.anchor))}static create(et,rt){return new NodeSelection(et.resolve(rt))}static isSelectable(et){return!et.isText&&et.type.spec.selectable!==!1}}NodeSelection.prototype.visible=!1;Selection.jsonID("node",NodeSelection);class NodeBookmark{constructor(et){this.anchor=et}map(et){let{deleted:rt,pos:nt}=et.mapResult(this.anchor);return rt?new TextBookmark(nt,nt):new NodeBookmark(nt)}resolve(et){let rt=et.resolve(this.anchor),nt=rt.nodeAfter;return nt&&NodeSelection.isSelectable(nt)?new NodeSelection(rt):Selection.near(rt)}}class AllSelection extends Selection{constructor(et){super(et.resolve(0),et.resolve(et.content.size))}replace(et,rt=Slice.empty){if(rt==Slice.empty){et.delete(0,et.doc.content.size);let nt=Selection.atStart(et.doc);nt.eq(et.selection)||et.setSelection(nt)}else super.replace(et,rt)}toJSON(){return{type:"all"}}static fromJSON(et){return new AllSelection(et)}map(et){return new AllSelection(et)}eq(et){return et instanceof AllSelection}getBookmark(){return AllBookmark}}Selection.jsonID("all",AllSelection);const AllBookmark={map(){return this},resolve(_e){return new AllSelection(_e)}};function findSelectionIn(_e,et,rt,nt,st,it=!1){if(et.inlineContent)return TextSelection.create(_e,rt);for(let at=nt-(st>0?0:1);st>0?at<et.childCount:at>=0;at+=st){let ot=et.child(at);if(ot.isAtom){if(!it&&NodeSelection.isSelectable(ot))return NodeSelection.create(_e,rt-(st<0?ot.nodeSize:0))}else{let lt=findSelectionIn(_e,ot,rt+st,st<0?ot.childCount:0,st,it);if(lt)return lt}rt+=ot.nodeSize*st}return null}function selectionToInsertionEnd$1(_e,et,rt){let nt=_e.steps.length-1;if(nt<et)return;let st=_e.steps[nt];if(!(st instanceof ReplaceStep||st instanceof ReplaceAroundStep))return;let it=_e.mapping.maps[nt],at;it.forEach((ot,lt,ct,ut)=>{at==null&&(at=ut)}),_e.setSelection(Selection.near(_e.doc.resolve(at),rt))}const UPDATED_SEL=1,UPDATED_MARKS=2,UPDATED_SCROLL=4;class Transaction extends Transform{constructor(et){super(et.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=et.selection,this.storedMarks=et.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(et){if(et.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=et,this.curSelectionFor=this.steps.length,this.updated=(this.updated|UPDATED_SEL)&~UPDATED_MARKS,this.storedMarks=null,this}get selectionSet(){return(this.updated&UPDATED_SEL)>0}setStoredMarks(et){return this.storedMarks=et,this.updated|=UPDATED_MARKS,this}ensureMarks(et){return Mark$1.sameSet(this.storedMarks||this.selection.$from.marks(),et)||this.setStoredMarks(et),this}addStoredMark(et){return this.ensureMarks(et.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(et){return this.ensureMarks(et.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&UPDATED_MARKS)>0}addStep(et,rt){super.addStep(et,rt),this.updated=this.updated&~UPDATED_MARKS,this.storedMarks=null}setTime(et){return this.time=et,this}replaceSelection(et){return this.selection.replace(this,et),this}replaceSelectionWith(et,rt=!0){let nt=this.selection;return rt&&(et=et.mark(this.storedMarks||(nt.empty?nt.$from.marks():nt.$from.marksAcross(nt.$to)||Mark$1.none))),nt.replaceWith(this,et),this}deleteSelection(){return this.selection.replace(this),this}insertText(et,rt,nt){let st=this.doc.type.schema;if(rt==null)return et?this.replaceSelectionWith(st.text(et),!0):this.deleteSelection();{if(nt==null&&(nt=rt),!et)return this.deleteRange(rt,nt);let it=this.storedMarks;if(!it){let at=this.doc.resolve(rt);it=nt==rt?at.marks():at.marksAcross(this.doc.resolve(nt))}return this.replaceRangeWith(rt,nt,st.text(et,it)),!this.selection.empty&&this.selection.to==rt+et.length&&this.setSelection(Selection.near(this.selection.$to)),this}}setMeta(et,rt){return this.meta[typeof et=="string"?et:et.key]=rt,this}getMeta(et){return this.meta[typeof et=="string"?et:et.key]}get isGeneric(){for(let et in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=UPDATED_SCROLL,this}get scrolledIntoView(){return(this.updated&UPDATED_SCROLL)>0}}function bind(_e,et){return!et||!_e?_e:_e.bind(et)}class FieldDesc{constructor(et,rt,nt){this.name=et,this.init=bind(rt.init,nt),this.apply=bind(rt.apply,nt)}}const baseFields=[new FieldDesc("doc",{init(_e){return _e.doc||_e.schema.topNodeType.createAndFill()},apply(_e){return _e.doc}}),new FieldDesc("selection",{init(_e,et){return _e.selection||Selection.atStart(et.doc)},apply(_e){return _e.selection}}),new FieldDesc("storedMarks",{init(_e){return _e.storedMarks||null},apply(_e,et,rt,nt){return nt.selection.$cursor?_e.storedMarks:null}}),new FieldDesc("scrollToSelection",{init(){return 0},apply(_e,et){return _e.scrolledIntoView?et+1:et}})];class Configuration{constructor(et,rt){this.schema=et,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=baseFields.slice(),rt&&rt.forEach(nt=>{if(this.pluginsByKey[nt.key])throw new RangeError("Adding different instances of a keyed plugin ("+nt.key+")");this.plugins.push(nt),this.pluginsByKey[nt.key]=nt,nt.spec.state&&this.fields.push(new FieldDesc(nt.key,nt.spec.state,nt))})}}class EditorState{constructor(et){this.config=et}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(et){return this.applyTransaction(et).state}filterTransaction(et,rt=-1){for(let nt=0;nt<this.config.plugins.length;nt++)if(nt!=rt){let st=this.config.plugins[nt];if(st.spec.filterTransaction&&!st.spec.filterTransaction.call(st,et,this))return!1}return!0}applyTransaction(et){if(!this.filterTransaction(et))return{state:this,transactions:[]};let rt=[et],nt=this.applyInner(et),st=null;for(;;){let it=!1;for(let at=0;at<this.config.plugins.length;at++){let ot=this.config.plugins[at];if(ot.spec.appendTransaction){let lt=st?st[at].n:0,ct=st?st[at].state:this,ut=lt<rt.length&&ot.spec.appendTransaction.call(ot,lt?rt.slice(lt):rt,ct,nt);if(ut&&nt.filterTransaction(ut,at)){if(ut.setMeta("appendedTransaction",et),!st){st=[];for(let dt=0;dt<this.config.plugins.length;dt++)st.push(dt<at?{state:nt,n:rt.length}:{state:this,n:0})}rt.push(ut),nt=nt.applyInner(ut),it=!0}st&&(st[at]={state:nt,n:rt.length})}}if(!it)return{state:nt,transactions:rt}}}applyInner(et){if(!et.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let rt=new EditorState(this.config),nt=this.config.fields;for(let st=0;st<nt.length;st++){let it=nt[st];rt[it.name]=it.apply(et,this[it.name],this,rt)}return rt}get tr(){return new Transaction(this)}static create(et){let rt=new Configuration(et.doc?et.doc.type.schema:et.schema,et.plugins),nt=new EditorState(rt);for(let st=0;st<rt.fields.length;st++)nt[rt.fields[st].name]=rt.fields[st].init(et,nt);return nt}reconfigure(et){let rt=new Configuration(this.schema,et.plugins),nt=rt.fields,st=new EditorState(rt);for(let it=0;it<nt.length;it++){let at=nt[it].name;st[at]=this.hasOwnProperty(at)?this[at]:nt[it].init(et,st)}return st}toJSON(et){let rt={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(rt.storedMarks=this.storedMarks.map(nt=>nt.toJSON())),et&&typeof et=="object")for(let nt in et){if(nt=="doc"||nt=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let st=et[nt],it=st.spec.state;it&&it.toJSON&&(rt[nt]=it.toJSON.call(st,this[st.key]))}return rt}static fromJSON(et,rt,nt){if(!rt)throw new RangeError("Invalid input for EditorState.fromJSON");if(!et.schema)throw new RangeError("Required config field 'schema' missing");let st=new Configuration(et.schema,et.plugins),it=new EditorState(st);return st.fields.forEach(at=>{if(at.name=="doc")it.doc=Node$1.fromJSON(et.schema,rt.doc);else if(at.name=="selection")it.selection=Selection.fromJSON(it.doc,rt.selection);else if(at.name=="storedMarks")rt.storedMarks&&(it.storedMarks=rt.storedMarks.map(et.schema.markFromJSON));else{if(nt)for(let ot in nt){let lt=nt[ot],ct=lt.spec.state;if(lt.key==at.name&&ct&&ct.fromJSON&&Object.prototype.hasOwnProperty.call(rt,ot)){it[at.name]=ct.fromJSON.call(lt,et,rt[ot],it);return}}it[at.name]=at.init(et,it)}}),it}}function bindProps(_e,et,rt){for(let nt in _e){let st=_e[nt];st instanceof Function?st=st.bind(et):nt=="handleDOMEvents"&&(st=bindProps(st,et,{})),rt[nt]=st}return rt}class Plugin{constructor(et){this.spec=et,this.props={},et.props&&bindProps(et.props,this,this.props),this.key=et.key?et.key.key:createKey("plugin")}getState(et){return et[this.key]}}const keys$1=Object.create(null);function createKey(_e){return _e in keys$1?_e+"$"+ ++keys$1[_e]:(keys$1[_e]=0,_e+"$")}class PluginKey{constructor(et="key"){this.key=createKey(et)}get(et){return et.config.pluginsByKey[this.key]}getState(et){return et[this.key]}}const deleteSelection$1=(_e,et)=>_e.selection.empty?!1:(et&&et(_e.tr.deleteSelection().scrollIntoView()),!0);function atBlockStart(_e,et){let{$cursor:rt}=_e.selection;return!rt||(et?!et.endOfTextblock("backward",_e):rt.parentOffset>0)?null:rt}const joinBackward$1=(_e,et,rt)=>{let nt=atBlockStart(_e,rt);if(!nt)return!1;let st=findCutBefore(nt);if(!st){let at=nt.blockRange(),ot=at&&liftTarget(at);return ot==null?!1:(et&&et(_e.tr.lift(at,ot).scrollIntoView()),!0)}let it=st.nodeBefore;if(deleteBarrier(_e,st,et,-1))return!0;if(nt.parent.content.size==0&&(textblockAt(it,"end")||NodeSelection.isSelectable(it)))for(let at=nt.depth;;at--){let ot=replaceStep(_e.doc,nt.before(at),nt.after(at),Slice.empty);if(ot&&ot.slice.size<ot.to-ot.from){if(et){let lt=_e.tr.step(ot);lt.setSelection(textblockAt(it,"end")?Selection.findFrom(lt.doc.resolve(lt.mapping.map(st.pos,-1)),-1):NodeSelection.create(lt.doc,st.pos-it.nodeSize)),et(lt.scrollIntoView())}return!0}if(at==1||nt.node(at-1).childCount>1)break}return it.isAtom&&st.depth==nt.depth-1?(et&&et(_e.tr.delete(st.pos-it.nodeSize,st.pos).scrollIntoView()),!0):!1},joinTextblockBackward$1=(_e,et,rt)=>{let nt=atBlockStart(_e,rt);if(!nt)return!1;let st=findCutBefore(nt);return st?joinTextblocksAround(_e,st,et):!1},joinTextblockForward$1=(_e,et,rt)=>{let nt=atBlockEnd(_e,rt);if(!nt)return!1;let st=findCutAfter(nt);return st?joinTextblocksAround(_e,st,et):!1};function joinTextblocksAround(_e,et,rt){let nt=et.nodeBefore,st=nt,it=et.pos-1;for(;!st.isTextblock;it--){if(st.type.spec.isolating)return!1;let ut=st.lastChild;if(!ut)return!1;st=ut}let at=et.nodeAfter,ot=at,lt=et.pos+1;for(;!ot.isTextblock;lt++){if(ot.type.spec.isolating)return!1;let ut=ot.firstChild;if(!ut)return!1;ot=ut}let ct=replaceStep(_e.doc,it,lt,Slice.empty);if(!ct||ct.from!=it||ct instanceof ReplaceStep&&ct.slice.size>=lt-it)return!1;if(rt){let ut=_e.tr.step(ct);ut.setSelection(TextSelection.create(ut.doc,it)),rt(ut.scrollIntoView())}return!0}function textblockAt(_e,et,rt=!1){for(let nt=_e;nt;nt=et=="start"?nt.firstChild:nt.lastChild){if(nt.isTextblock)return!0;if(rt&&nt.childCount!=1)return!1}return!1}const selectNodeBackward$1=(_e,et,rt)=>{let{$head:nt,empty:st}=_e.selection,it=nt;if(!st)return!1;if(nt.parent.isTextblock){if(rt?!rt.endOfTextblock("backward",_e):nt.parentOffset>0)return!1;it=findCutBefore(nt)}let at=it&&it.nodeBefore;return!at||!NodeSelection.isSelectable(at)?!1:(et&&et(_e.tr.setSelection(NodeSelection.create(_e.doc,it.pos-at.nodeSize)).scrollIntoView()),!0)};function findCutBefore(_e){if(!_e.parent.type.spec.isolating)for(let et=_e.depth-1;et>=0;et--){if(_e.index(et)>0)return _e.doc.resolve(_e.before(et+1));if(_e.node(et).type.spec.isolating)break}return null}function atBlockEnd(_e,et){let{$cursor:rt}=_e.selection;return!rt||(et?!et.endOfTextblock("forward",_e):rt.parentOffset<rt.parent.content.size)?null:rt}const joinForward$1=(_e,et,rt)=>{let nt=atBlockEnd(_e,rt);if(!nt)return!1;let st=findCutAfter(nt);if(!st)return!1;let it=st.nodeAfter;if(deleteBarrier(_e,st,et,1))return!0;if(nt.parent.content.size==0&&(textblockAt(it,"start")||NodeSelection.isSelectable(it))){let at=replaceStep(_e.doc,nt.before(),nt.after(),Slice.empty);if(at&&at.slice.size<at.to-at.from){if(et){let ot=_e.tr.step(at);ot.setSelection(textblockAt(it,"start")?Selection.findFrom(ot.doc.resolve(ot.mapping.map(st.pos)),1):NodeSelection.create(ot.doc,ot.mapping.map(st.pos))),et(ot.scrollIntoView())}return!0}}return it.isAtom&&st.depth==nt.depth-1?(et&&et(_e.tr.delete(st.pos,st.pos+it.nodeSize).scrollIntoView()),!0):!1},selectNodeForward$1=(_e,et,rt)=>{let{$head:nt,empty:st}=_e.selection,it=nt;if(!st)return!1;if(nt.parent.isTextblock){if(rt?!rt.endOfTextblock("forward",_e):nt.parentOffset<nt.parent.content.size)return!1;it=findCutAfter(nt)}let at=it&&it.nodeAfter;return!at||!NodeSelection.isSelectable(at)?!1:(et&&et(_e.tr.setSelection(NodeSelection.create(_e.doc,it.pos)).scrollIntoView()),!0)};function findCutAfter(_e){if(!_e.parent.type.spec.isolating)for(let et=_e.depth-1;et>=0;et--){let rt=_e.node(et);if(_e.index(et)+1<rt.childCount)return _e.doc.resolve(_e.after(et+1));if(rt.type.spec.isolating)break}return null}const joinUp$1=(_e,et)=>{let rt=_e.selection,nt=rt instanceof NodeSelection,st;if(nt){if(rt.node.isTextblock||!canJoin(_e.doc,rt.from))return!1;st=rt.from}else if(st=joinPoint(_e.doc,rt.from,-1),st==null)return!1;if(et){let it=_e.tr.join(st);nt&&it.setSelection(NodeSelection.create(it.doc,st-_e.doc.resolve(st).nodeBefore.nodeSize)),et(it.scrollIntoView())}return!0},joinDown$1=(_e,et)=>{let rt=_e.selection,nt;if(rt instanceof NodeSelection){if(rt.node.isTextblock||!canJoin(_e.doc,rt.to))return!1;nt=rt.to}else if(nt=joinPoint(_e.doc,rt.to,1),nt==null)return!1;return et&&et(_e.tr.join(nt).scrollIntoView()),!0},lift$1=(_e,et)=>{let{$from:rt,$to:nt}=_e.selection,st=rt.blockRange(nt),it=st&&liftTarget(st);return it==null?!1:(et&&et(_e.tr.lift(st,it).scrollIntoView()),!0)},newlineInCode$1=(_e,et)=>{let{$head:rt,$anchor:nt}=_e.selection;return!rt.parent.type.spec.code||!rt.sameParent(nt)?!1:(et&&et(_e.tr.insertText(`
`).scrollIntoView()),!0)};function defaultBlockAt$1(_e){for(let et=0;et<_e.edgeCount;et++){let{type:rt}=_e.edge(et);if(rt.isTextblock&&!rt.hasRequiredAttrs())return rt}return null}const exitCode$1=(_e,et)=>{let{$head:rt,$anchor:nt}=_e.selection;if(!rt.parent.type.spec.code||!rt.sameParent(nt))return!1;let st=rt.node(-1),it=rt.indexAfter(-1),at=defaultBlockAt$1(st.contentMatchAt(it));if(!at||!st.canReplaceWith(it,it,at))return!1;if(et){let ot=rt.after(),lt=_e.tr.replaceWith(ot,ot,at.createAndFill());lt.setSelection(Selection.near(lt.doc.resolve(ot),1)),et(lt.scrollIntoView())}return!0},createParagraphNear$1=(_e,et)=>{let rt=_e.selection,{$from:nt,$to:st}=rt;if(rt instanceof AllSelection||nt.parent.inlineContent||st.parent.inlineContent)return!1;let it=defaultBlockAt$1(st.parent.contentMatchAt(st.indexAfter()));if(!it||!it.isTextblock)return!1;if(et){let at=(!nt.parentOffset&&st.index()<st.parent.childCount?nt:st).pos,ot=_e.tr.insert(at,it.createAndFill());ot.setSelection(TextSelection.create(ot.doc,at+1)),et(ot.scrollIntoView())}return!0},liftEmptyBlock$1=(_e,et)=>{let{$cursor:rt}=_e.selection;if(!rt||rt.parent.content.size)return!1;if(rt.depth>1&&rt.after()!=rt.end(-1)){let it=rt.before();if(canSplit(_e.doc,it))return et&&et(_e.tr.split(it).scrollIntoView()),!0}let nt=rt.blockRange(),st=nt&&liftTarget(nt);return st==null?!1:(et&&et(_e.tr.lift(nt,st).scrollIntoView()),!0)};function splitBlockAs(_e){return(et,rt)=>{let{$from:nt,$to:st}=et.selection;if(et.selection instanceof NodeSelection&&et.selection.node.isBlock)return!nt.parentOffset||!canSplit(et.doc,nt.pos)?!1:(rt&&rt(et.tr.split(nt.pos).scrollIntoView()),!0);if(!nt.depth)return!1;let it=[],at,ot,lt=!1,ct=!1;for(let mt=nt.depth;;mt--)if(nt.node(mt).isBlock){lt=nt.end(mt)==nt.pos+(nt.depth-mt),ct=nt.start(mt)==nt.pos-(nt.depth-mt),ot=defaultBlockAt$1(nt.node(mt-1).contentMatchAt(nt.indexAfter(mt-1))),it.unshift(lt&&ot?{type:ot}:null),at=mt;break}else{if(mt==1)return!1;it.unshift(null)}let ut=et.tr;(et.selection instanceof TextSelection||et.selection instanceof AllSelection)&&ut.deleteSelection();let dt=ut.mapping.map(nt.pos),pt=canSplit(ut.doc,dt,it.length,it);if(pt||(it[0]=ot?{type:ot}:null,pt=canSplit(ut.doc,dt,it.length,it)),!pt)return!1;if(ut.split(dt,it.length,it),!lt&&ct&&nt.node(at).type!=ot){let mt=ut.mapping.map(nt.before(at)),xt=ut.doc.resolve(mt);ot&&nt.node(at-1).canReplaceWith(xt.index(),xt.index()+1,ot)&&ut.setNodeMarkup(ut.mapping.map(nt.before(at)),ot)}return rt&&rt(ut.scrollIntoView()),!0}}const splitBlock$1=splitBlockAs(),selectParentNode$1=(_e,et)=>{let{$from:rt,to:nt}=_e.selection,st,it=rt.sharedDepth(nt);return it==0?!1:(st=rt.before(it),et&&et(_e.tr.setSelection(NodeSelection.create(_e.doc,st))),!0)};function joinMaybeClear(_e,et,rt){let nt=et.nodeBefore,st=et.nodeAfter,it=et.index();return!nt||!st||!nt.type.compatibleContent(st.type)?!1:!nt.content.size&&et.parent.canReplace(it-1,it)?(rt&&rt(_e.tr.delete(et.pos-nt.nodeSize,et.pos).scrollIntoView()),!0):!et.parent.canReplace(it,it+1)||!(st.isTextblock||canJoin(_e.doc,et.pos))?!1:(rt&&rt(_e.tr.join(et.pos).scrollIntoView()),!0)}function deleteBarrier(_e,et,rt,nt){let st=et.nodeBefore,it=et.nodeAfter,at,ot,lt=st.type.spec.isolating||it.type.spec.isolating;if(!lt&&joinMaybeClear(_e,et,rt))return!0;let ct=!lt&&et.parent.canReplace(et.index(),et.index()+1);if(ct&&(at=(ot=st.contentMatchAt(st.childCount)).findWrapping(it.type))&&ot.matchType(at[0]||it.type).validEnd){if(rt){let mt=et.pos+it.nodeSize,xt=Fragment.empty;for(let gt=at.length-1;gt>=0;gt--)xt=Fragment.from(at[gt].create(null,xt));xt=Fragment.from(st.copy(xt));let yt=_e.tr.step(new ReplaceAroundStep(et.pos-1,mt,et.pos,mt,new Slice(xt,1,0),at.length,!0)),vt=yt.doc.resolve(mt+2*at.length);vt.nodeAfter&&vt.nodeAfter.type==st.type&&canJoin(yt.doc,vt.pos)&&yt.join(vt.pos),rt(yt.scrollIntoView())}return!0}let ut=it.type.spec.isolating||nt>0&&lt?null:Selection.findFrom(et,1),dt=ut&&ut.$from.blockRange(ut.$to),pt=dt&&liftTarget(dt);if(pt!=null&&pt>=et.depth)return rt&&rt(_e.tr.lift(dt,pt).scrollIntoView()),!0;if(ct&&textblockAt(it,"start",!0)&&textblockAt(st,"end")){let mt=st,xt=[];for(;xt.push(mt),!mt.isTextblock;)mt=mt.lastChild;let yt=it,vt=1;for(;!yt.isTextblock;yt=yt.firstChild)vt++;if(mt.canReplace(mt.childCount,mt.childCount,yt.content)){if(rt){let gt=Fragment.empty;for(let jt=xt.length-1;jt>=0;jt--)gt=Fragment.from(xt[jt].copy(gt));let Et=_e.tr.step(new ReplaceAroundStep(et.pos-xt.length,et.pos+it.nodeSize,et.pos+vt,et.pos+it.nodeSize-vt,new Slice(gt,xt.length,0),0,!0));rt(Et.scrollIntoView())}return!0}}return!1}function selectTextblockSide(_e){return function(et,rt){let nt=et.selection,st=_e<0?nt.$from:nt.$to,it=st.depth;for(;st.node(it).isInline;){if(!it)return!1;it--}return st.node(it).isTextblock?(rt&&rt(et.tr.setSelection(TextSelection.create(et.doc,_e<0?st.start(it):st.end(it)))),!0):!1}}const selectTextblockStart$1=selectTextblockSide(-1),selectTextblockEnd$1=selectTextblockSide(1);function wrapIn$1(_e,et=null){return function(rt,nt){let{$from:st,$to:it}=rt.selection,at=st.blockRange(it),ot=at&&findWrapping(at,_e,et);return ot?(nt&&nt(rt.tr.wrap(at,ot).scrollIntoView()),!0):!1}}function setBlockType(_e,et=null){return function(rt,nt){let st=!1;for(let it=0;it<rt.selection.ranges.length&&!st;it++){let{$from:{pos:at},$to:{pos:ot}}=rt.selection.ranges[it];rt.doc.nodesBetween(at,ot,(lt,ct)=>{if(st)return!1;if(!(!lt.isTextblock||lt.hasMarkup(_e,et)))if(lt.type==_e)st=!0;else{let ut=rt.doc.resolve(ct),dt=ut.index();st=ut.parent.canReplaceWith(dt,dt+1,_e)}})}if(!st)return!1;if(nt){let it=rt.tr;for(let at=0;at<rt.selection.ranges.length;at++){let{$from:{pos:ot},$to:{pos:lt}}=rt.selection.ranges[at];it.setBlockType(ot,lt,_e,et)}nt(it.scrollIntoView())}return!0}}function chainCommands(..._e){return function(et,rt,nt){for(let st=0;st<_e.length;st++)if(_e[st](et,rt,nt))return!0;return!1}}chainCommands(deleteSelection$1,joinBackward$1,selectNodeBackward$1);chainCommands(deleteSelection$1,joinForward$1,selectNodeForward$1);chainCommands(newlineInCode$1,createParagraphNear$1,liftEmptyBlock$1,splitBlock$1);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function wrapInList$1(_e,et=null){return function(rt,nt){let{$from:st,$to:it}=rt.selection,at=st.blockRange(it);if(!at)return!1;let ot=nt?rt.tr:null;return wrapRangeInList(ot,at,_e,et)?(nt&&nt(ot.scrollIntoView()),!0):!1}}function wrapRangeInList(_e,et,rt,nt=null){let st=!1,it=et,at=et.$from.doc;if(et.depth>=2&&et.$from.node(et.depth-1).type.compatibleContent(rt)&&et.startIndex==0){if(et.$from.index(et.depth-1)==0)return!1;let lt=at.resolve(et.start-2);it=new NodeRange(lt,lt,et.depth),et.endIndex<et.parent.childCount&&(et=new NodeRange(et.$from,at.resolve(et.$to.end(et.depth)),et.depth)),st=!0}let ot=findWrapping(it,rt,nt,et);return ot?(_e&&doWrapInList(_e,et,ot,st,rt),!0):!1}function doWrapInList(_e,et,rt,nt,st){let it=Fragment.empty;for(let ut=rt.length-1;ut>=0;ut--)it=Fragment.from(rt[ut].type.create(rt[ut].attrs,it));_e.step(new ReplaceAroundStep(et.start-(nt?2:0),et.end,et.start,et.end,new Slice(it,0,0),rt.length,!0));let at=0;for(let ut=0;ut<rt.length;ut++)rt[ut].type==st&&(at=ut+1);let ot=rt.length-at,lt=et.start+rt.length-(nt?2:0),ct=et.parent;for(let ut=et.startIndex,dt=et.endIndex,pt=!0;ut<dt;ut++,pt=!1)!pt&&canSplit(_e.doc,lt,ot)&&(_e.split(lt,ot),lt+=2*ot),lt+=ct.child(ut).nodeSize;return _e}function liftListItem$1(_e){return function(et,rt){let{$from:nt,$to:st}=et.selection,it=nt.blockRange(st,at=>at.childCount>0&&at.firstChild.type==_e);return it?rt?nt.node(it.depth-1).type==_e?liftToOuterList(et,rt,_e,it):liftOutOfList(et,rt,it):!0:!1}}function liftToOuterList(_e,et,rt,nt){let st=_e.tr,it=nt.end,at=nt.$to.end(nt.depth);it<at&&(st.step(new ReplaceAroundStep(it-1,at,it,at,new Slice(Fragment.from(rt.create(null,nt.parent.copy())),1,0),1,!0)),nt=new NodeRange(st.doc.resolve(nt.$from.pos),st.doc.resolve(at),nt.depth));const ot=liftTarget(nt);if(ot==null)return!1;st.lift(nt,ot);let lt=st.doc.resolve(st.mapping.map(it,-1)-1);return canJoin(st.doc,lt.pos)&&lt.nodeBefore.type==lt.nodeAfter.type&&st.join(lt.pos),et(st.scrollIntoView()),!0}function liftOutOfList(_e,et,rt){let nt=_e.tr,st=rt.parent;for(let mt=rt.end,xt=rt.endIndex-1,yt=rt.startIndex;xt>yt;xt--)mt-=st.child(xt).nodeSize,nt.delete(mt-1,mt+1);let it=nt.doc.resolve(rt.start),at=it.nodeAfter;if(nt.mapping.map(rt.end)!=rt.start+it.nodeAfter.nodeSize)return!1;let ot=rt.startIndex==0,lt=rt.endIndex==st.childCount,ct=it.node(-1),ut=it.index(-1);if(!ct.canReplace(ut+(ot?0:1),ut+1,at.content.append(lt?Fragment.empty:Fragment.from(st))))return!1;let dt=it.pos,pt=dt+at.nodeSize;return nt.step(new ReplaceAroundStep(dt-(ot?1:0),pt+(lt?1:0),dt+1,pt-1,new Slice((ot?Fragment.empty:Fragment.from(st.copy(Fragment.empty))).append(lt?Fragment.empty:Fragment.from(st.copy(Fragment.empty))),ot?0:1,lt?0:1),ot?0:1)),et(nt.scrollIntoView()),!0}function sinkListItem$1(_e){return function(et,rt){let{$from:nt,$to:st}=et.selection,it=nt.blockRange(st,ct=>ct.childCount>0&&ct.firstChild.type==_e);if(!it)return!1;let at=it.startIndex;if(at==0)return!1;let ot=it.parent,lt=ot.child(at-1);if(lt.type!=_e)return!1;if(rt){let ct=lt.lastChild&&lt.lastChild.type==ot.type,ut=Fragment.from(ct?_e.create():null),dt=new Slice(Fragment.from(_e.create(null,Fragment.from(ot.type.create(null,ut)))),ct?3:1,0),pt=it.start,mt=it.end;rt(et.tr.step(new ReplaceAroundStep(pt-(ct?3:1),mt,pt,mt,dt,1,!0)).scrollIntoView())}return!0}}const domIndex=function(_e){for(var et=0;;et++)if(_e=_e.previousSibling,!_e)return et},parentNode=function(_e){let et=_e.assignedSlot||_e.parentNode;return et&&et.nodeType==11?et.host:et};let reusedRange=null;const textRange=function(_e,et,rt){let nt=reusedRange||(reusedRange=document.createRange());return nt.setEnd(_e,rt??_e.nodeValue.length),nt.setStart(_e,et||0),nt},clearReusedRange=function(){reusedRange=null},isEquivalentPosition=function(_e,et,rt,nt){return rt&&(scanFor(_e,et,rt,nt,-1)||scanFor(_e,et,rt,nt,1))},atomElements=/^(img|br|input|textarea|hr)$/i;function scanFor(_e,et,rt,nt,st){for(var it;;){if(_e==rt&&et==nt)return!0;if(et==(st<0?0:nodeSize(_e))){let at=_e.parentNode;if(!at||at.nodeType!=1||hasBlockDesc(_e)||atomElements.test(_e.nodeName)||_e.contentEditable=="false")return!1;et=domIndex(_e)+(st<0?0:1),_e=at}else if(_e.nodeType==1){let at=_e.childNodes[et+(st<0?-1:0)];if(at.nodeType==1&&at.contentEditable=="false")if(!((it=at.pmViewDesc)===null||it===void 0)&&it.ignoreForSelection)et+=st;else return!1;else _e=at,et=st<0?nodeSize(_e):0}else return!1}}function nodeSize(_e){return _e.nodeType==3?_e.nodeValue.length:_e.childNodes.length}function textNodeBefore$1(_e,et){for(;;){if(_e.nodeType==3&&et)return _e;if(_e.nodeType==1&&et>0){if(_e.contentEditable=="false")return null;_e=_e.childNodes[et-1],et=nodeSize(_e)}else if(_e.parentNode&&!hasBlockDesc(_e))et=domIndex(_e),_e=_e.parentNode;else return null}}function textNodeAfter$1(_e,et){for(;;){if(_e.nodeType==3&&et<_e.nodeValue.length)return _e;if(_e.nodeType==1&&et<_e.childNodes.length){if(_e.contentEditable=="false")return null;_e=_e.childNodes[et],et=0}else if(_e.parentNode&&!hasBlockDesc(_e))et=domIndex(_e)+1,_e=_e.parentNode;else return null}}function isOnEdge(_e,et,rt){for(let nt=et==0,st=et==nodeSize(_e);nt||st;){if(_e==rt)return!0;let it=domIndex(_e);if(_e=_e.parentNode,!_e)return!1;nt=nt&&it==0,st=st&&it==nodeSize(_e)}}function hasBlockDesc(_e){let et;for(let rt=_e;rt&&!(et=rt.pmViewDesc);rt=rt.parentNode);return et&&et.node&&et.node.isBlock&&(et.dom==_e||et.contentDOM==_e)}const selectionCollapsed=function(_e){return _e.focusNode&&isEquivalentPosition(_e.focusNode,_e.focusOffset,_e.anchorNode,_e.anchorOffset)};function keyEvent(_e,et){let rt=document.createEvent("Event");return rt.initEvent("keydown",!0,!0),rt.keyCode=_e,rt.key=rt.code=et,rt}function deepActiveElement(_e){let et=_e.activeElement;for(;et&&et.shadowRoot;)et=et.shadowRoot.activeElement;return et}function caretFromPoint(_e,et,rt){if(_e.caretPositionFromPoint)try{let nt=_e.caretPositionFromPoint(et,rt);if(nt)return{node:nt.offsetNode,offset:Math.min(nodeSize(nt.offsetNode),nt.offset)}}catch{}if(_e.caretRangeFromPoint){let nt=_e.caretRangeFromPoint(et,rt);if(nt)return{node:nt.startContainer,offset:Math.min(nodeSize(nt.startContainer),nt.startOffset)}}}const nav=typeof navigator<"u"?navigator:null,doc=typeof document<"u"?document:null,agent=nav&&nav.userAgent||"",ie_edge=/Edge\/(\d+)/.exec(agent),ie_upto10=/MSIE \d/.exec(agent),ie_11up=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(agent),ie$1=!!(ie_upto10||ie_11up||ie_edge),ie_version=ie_upto10?document.documentMode:ie_11up?+ie_11up[1]:ie_edge?+ie_edge[1]:0,gecko=!ie$1&&/gecko\/(\d+)/i.test(agent);gecko&&+(/Firefox\/(\d+)/.exec(agent)||[0,0])[1];const _chrome=!ie$1&&/Chrome\/(\d+)/.exec(agent),chrome=!!_chrome,chrome_version=_chrome?+_chrome[1]:0,safari=!ie$1&&!!nav&&/Apple Computer/.test(nav.vendor),ios=safari&&(/Mobile\/\w+/.test(agent)||!!nav&&nav.maxTouchPoints>2),mac$2=ios||(nav?/Mac/.test(nav.platform):!1),windows$1=nav?/Win/.test(nav.platform):!1,android=/Android \d/.test(agent),webkit=!!doc&&"webkitFontSmoothing"in doc.documentElement.style,webkit_version=webkit?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function windowRect(_e){let et=_e.defaultView&&_e.defaultView.visualViewport;return et?{left:0,right:et.width,top:0,bottom:et.height}:{left:0,right:_e.documentElement.clientWidth,top:0,bottom:_e.documentElement.clientHeight}}function getSide(_e,et){return typeof _e=="number"?_e:_e[et]}function clientRect(_e){let et=_e.getBoundingClientRect(),rt=et.width/_e.offsetWidth||1,nt=et.height/_e.offsetHeight||1;return{left:et.left,right:et.left+_e.clientWidth*rt,top:et.top,bottom:et.top+_e.clientHeight*nt}}function scrollRectIntoView(_e,et,rt){let nt=_e.someProp("scrollThreshold")||0,st=_e.someProp("scrollMargin")||5,it=_e.dom.ownerDocument;for(let at=rt||_e.dom;at;){if(at.nodeType!=1){at=parentNode(at);continue}let ot=at,lt=ot==it.body,ct=lt?windowRect(it):clientRect(ot),ut=0,dt=0;if(et.top<ct.top+getSide(nt,"top")?dt=-(ct.top-et.top+getSide(st,"top")):et.bottom>ct.bottom-getSide(nt,"bottom")&&(dt=et.bottom-et.top>ct.bottom-ct.top?et.top+getSide(st,"top")-ct.top:et.bottom-ct.bottom+getSide(st,"bottom")),et.left<ct.left+getSide(nt,"left")?ut=-(ct.left-et.left+getSide(st,"left")):et.right>ct.right-getSide(nt,"right")&&(ut=et.right-ct.right+getSide(st,"right")),ut||dt)if(lt)it.defaultView.scrollBy(ut,dt);else{let mt=ot.scrollLeft,xt=ot.scrollTop;dt&&(ot.scrollTop+=dt),ut&&(ot.scrollLeft+=ut);let yt=ot.scrollLeft-mt,vt=ot.scrollTop-xt;et={left:et.left-yt,top:et.top-vt,right:et.right-yt,bottom:et.bottom-vt}}let pt=lt?"fixed":getComputedStyle(at).position;if(/^(fixed|sticky)$/.test(pt))break;at=pt=="absolute"?at.offsetParent:parentNode(at)}}function storeScrollPos(_e){let et=_e.dom.getBoundingClientRect(),rt=Math.max(0,et.top),nt,st;for(let it=(et.left+et.right)/2,at=rt+1;at<Math.min(innerHeight,et.bottom);at+=5){let ot=_e.root.elementFromPoint(it,at);if(!ot||ot==_e.dom||!_e.dom.contains(ot))continue;let lt=ot.getBoundingClientRect();if(lt.top>=rt-20){nt=ot,st=lt.top;break}}return{refDOM:nt,refTop:st,stack:scrollStack(_e.dom)}}function scrollStack(_e){let et=[],rt=_e.ownerDocument;for(let nt=_e;nt&&(et.push({dom:nt,top:nt.scrollTop,left:nt.scrollLeft}),_e!=rt);nt=parentNode(nt));return et}function resetScrollPos({refDOM:_e,refTop:et,stack:rt}){let nt=_e?_e.getBoundingClientRect().top:0;restoreScrollStack(rt,nt==0?0:nt-et)}function restoreScrollStack(_e,et){for(let rt=0;rt<_e.length;rt++){let{dom:nt,top:st,left:it}=_e[rt];nt.scrollTop!=st+et&&(nt.scrollTop=st+et),nt.scrollLeft!=it&&(nt.scrollLeft=it)}}let preventScrollSupported=null;function focusPreventScroll(_e){if(_e.setActive)return _e.setActive();if(preventScrollSupported)return _e.focus(preventScrollSupported);let et=scrollStack(_e);_e.focus(preventScrollSupported==null?{get preventScroll(){return preventScrollSupported={preventScroll:!0},!0}}:void 0),preventScrollSupported||(preventScrollSupported=!1,restoreScrollStack(et,0))}function findOffsetInNode(_e,et){let rt,nt=2e8,st,it=0,at=et.top,ot=et.top,lt,ct;for(let ut=_e.firstChild,dt=0;ut;ut=ut.nextSibling,dt++){let pt;if(ut.nodeType==1)pt=ut.getClientRects();else if(ut.nodeType==3)pt=textRange(ut).getClientRects();else continue;for(let mt=0;mt<pt.length;mt++){let xt=pt[mt];if(xt.top<=at&&xt.bottom>=ot){at=Math.max(xt.bottom,at),ot=Math.min(xt.top,ot);let yt=xt.left>et.left?xt.left-et.left:xt.right<et.left?et.left-xt.right:0;if(yt<nt){rt=ut,nt=yt,st=yt&&rt.nodeType==3?{left:xt.right<et.left?xt.right:xt.left,top:et.top}:et,ut.nodeType==1&&yt&&(it=dt+(et.left>=(xt.left+xt.right)/2?1:0));continue}}else xt.top>et.top&&!lt&&xt.left<=et.left&&xt.right>=et.left&&(lt=ut,ct={left:Math.max(xt.left,Math.min(xt.right,et.left)),top:xt.top});!rt&&(et.left>=xt.right&&et.top>=xt.top||et.left>=xt.left&&et.top>=xt.bottom)&&(it=dt+1)}}return!rt&&lt&&(rt=lt,st=ct,nt=0),rt&&rt.nodeType==3?findOffsetInText(rt,st):!rt||nt&&rt.nodeType==1?{node:_e,offset:it}:findOffsetInNode(rt,st)}function findOffsetInText(_e,et){let rt=_e.nodeValue.length,nt=document.createRange(),st;for(let it=0;it<rt;it++){nt.setEnd(_e,it+1),nt.setStart(_e,it);let at=singleRect(nt,1);if(at.top!=at.bottom&&inRect(et,at)){st={node:_e,offset:it+(et.left>=(at.left+at.right)/2?1:0)};break}}return nt.detach(),st||{node:_e,offset:0}}function inRect(_e,et){return _e.left>=et.left-1&&_e.left<=et.right+1&&_e.top>=et.top-1&&_e.top<=et.bottom+1}function targetKludge(_e,et){let rt=_e.parentNode;return rt&&/^li$/i.test(rt.nodeName)&&et.left<_e.getBoundingClientRect().left?rt:_e}function posFromElement(_e,et,rt){let{node:nt,offset:st}=findOffsetInNode(et,rt),it=-1;if(nt.nodeType==1&&!nt.firstChild){let at=nt.getBoundingClientRect();it=at.left!=at.right&&rt.left>(at.left+at.right)/2?1:-1}return _e.docView.posFromDOM(nt,st,it)}function posFromCaret(_e,et,rt,nt){let st=-1;for(let it=et,at=!1;it!=_e.dom;){let ot=_e.docView.nearestDesc(it,!0),lt;if(!ot)return null;if(ot.dom.nodeType==1&&(ot.node.isBlock&&ot.parent||!ot.contentDOM)&&((lt=ot.dom.getBoundingClientRect()).width||lt.height)&&(ot.node.isBlock&&ot.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(ot.dom.nodeName)&&(!at&&lt.left>nt.left||lt.top>nt.top?st=ot.posBefore:(!at&&lt.right<nt.left||lt.bottom<nt.top)&&(st=ot.posAfter),at=!0),!ot.contentDOM&&st<0&&!ot.node.isText))return(ot.node.isBlock?nt.top<(lt.top+lt.bottom)/2:nt.left<(lt.left+lt.right)/2)?ot.posBefore:ot.posAfter;it=ot.dom.parentNode}return st>-1?st:_e.docView.posFromDOM(et,rt,-1)}function elementFromPoint(_e,et,rt){let nt=_e.childNodes.length;if(nt&&rt.top<rt.bottom)for(let st=Math.max(0,Math.min(nt-1,Math.floor(nt*(et.top-rt.top)/(rt.bottom-rt.top))-2)),it=st;;){let at=_e.childNodes[it];if(at.nodeType==1){let ot=at.getClientRects();for(let lt=0;lt<ot.length;lt++){let ct=ot[lt];if(inRect(et,ct))return elementFromPoint(at,et,ct)}}if((it=(it+1)%nt)==st)break}return _e}function posAtCoords(_e,et){let rt=_e.dom.ownerDocument,nt,st=0,it=caretFromPoint(rt,et.left,et.top);it&&({node:nt,offset:st}=it);let at=(_e.root.elementFromPoint?_e.root:rt).elementFromPoint(et.left,et.top),ot;if(!at||!_e.dom.contains(at.nodeType!=1?at.parentNode:at)){let ct=_e.dom.getBoundingClientRect();if(!inRect(et,ct)||(at=elementFromPoint(_e.dom,et,ct),!at))return null}if(safari)for(let ct=at;nt&&ct;ct=parentNode(ct))ct.draggable&&(nt=void 0);if(at=targetKludge(at,et),nt){if(gecko&&nt.nodeType==1&&(st=Math.min(st,nt.childNodes.length),st<nt.childNodes.length)){let ut=nt.childNodes[st],dt;ut.nodeName=="IMG"&&(dt=ut.getBoundingClientRect()).right<=et.left&&dt.bottom>et.top&&st++}let ct;webkit&&st&&nt.nodeType==1&&(ct=nt.childNodes[st-1]).nodeType==1&&ct.contentEditable=="false"&&ct.getBoundingClientRect().top>=et.top&&st--,nt==_e.dom&&st==nt.childNodes.length-1&&nt.lastChild.nodeType==1&&et.top>nt.lastChild.getBoundingClientRect().bottom?ot=_e.state.doc.content.size:(st==0||nt.nodeType!=1||nt.childNodes[st-1].nodeName!="BR")&&(ot=posFromCaret(_e,nt,st,et))}ot==null&&(ot=posFromElement(_e,at,et));let lt=_e.docView.nearestDesc(at,!0);return{pos:ot,inside:lt?lt.posAtStart-lt.border:-1}}function nonZero(_e){return _e.top<_e.bottom||_e.left<_e.right}function singleRect(_e,et){let rt=_e.getClientRects();if(rt.length){let nt=rt[et<0?0:rt.length-1];if(nonZero(nt))return nt}return Array.prototype.find.call(rt,nonZero)||_e.getBoundingClientRect()}const BIDI=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function coordsAtPos(_e,et,rt){let{node:nt,offset:st,atom:it}=_e.docView.domFromPos(et,rt<0?-1:1),at=webkit||gecko;if(nt.nodeType==3)if(at&&(BIDI.test(nt.nodeValue)||(rt<0?!st:st==nt.nodeValue.length))){let lt=singleRect(textRange(nt,st,st),rt);if(gecko&&st&&/\s/.test(nt.nodeValue[st-1])&&st<nt.nodeValue.length){let ct=singleRect(textRange(nt,st-1,st-1),-1);if(ct.top==lt.top){let ut=singleRect(textRange(nt,st,st+1),-1);if(ut.top!=lt.top)return flattenV(ut,ut.left<ct.left)}}return lt}else{let lt=st,ct=st,ut=rt<0?1:-1;return rt<0&&!st?(ct++,ut=-1):rt>=0&&st==nt.nodeValue.length?(lt--,ut=1):rt<0?lt--:ct++,flattenV(singleRect(textRange(nt,lt,ct),ut),ut<0)}if(!_e.state.doc.resolve(et-(it||0)).parent.inlineContent){if(it==null&&st&&(rt<0||st==nodeSize(nt))){let lt=nt.childNodes[st-1];if(lt.nodeType==1)return flattenH(lt.getBoundingClientRect(),!1)}if(it==null&&st<nodeSize(nt)){let lt=nt.childNodes[st];if(lt.nodeType==1)return flattenH(lt.getBoundingClientRect(),!0)}return flattenH(nt.getBoundingClientRect(),rt>=0)}if(it==null&&st&&(rt<0||st==nodeSize(nt))){let lt=nt.childNodes[st-1],ct=lt.nodeType==3?textRange(lt,nodeSize(lt)-(at?0:1)):lt.nodeType==1&&(lt.nodeName!="BR"||!lt.nextSibling)?lt:null;if(ct)return flattenV(singleRect(ct,1),!1)}if(it==null&&st<nodeSize(nt)){let lt=nt.childNodes[st];for(;lt.pmViewDesc&&lt.pmViewDesc.ignoreForCoords;)lt=lt.nextSibling;let ct=lt?lt.nodeType==3?textRange(lt,0,at?0:1):lt.nodeType==1?lt:null:null;if(ct)return flattenV(singleRect(ct,-1),!0)}return flattenV(singleRect(nt.nodeType==3?textRange(nt):nt,-rt),rt>=0)}function flattenV(_e,et){if(_e.width==0)return _e;let rt=et?_e.left:_e.right;return{top:_e.top,bottom:_e.bottom,left:rt,right:rt}}function flattenH(_e,et){if(_e.height==0)return _e;let rt=et?_e.top:_e.bottom;return{top:rt,bottom:rt,left:_e.left,right:_e.right}}function withFlushedState(_e,et,rt){let nt=_e.state,st=_e.root.activeElement;nt!=et&&_e.updateState(et),st!=_e.dom&&_e.focus();try{return rt()}finally{nt!=et&&_e.updateState(nt),st!=_e.dom&&st&&st.focus()}}function endOfTextblockVertical(_e,et,rt){let nt=et.selection,st=rt=="up"?nt.$from:nt.$to;return withFlushedState(_e,et,()=>{let{node:it}=_e.docView.domFromPos(st.pos,rt=="up"?-1:1);for(;;){let ot=_e.docView.nearestDesc(it,!0);if(!ot)break;if(ot.node.isBlock){it=ot.contentDOM||ot.dom;break}it=ot.dom.parentNode}let at=coordsAtPos(_e,st.pos,1);for(let ot=it.firstChild;ot;ot=ot.nextSibling){let lt;if(ot.nodeType==1)lt=ot.getClientRects();else if(ot.nodeType==3)lt=textRange(ot,0,ot.nodeValue.length).getClientRects();else continue;for(let ct=0;ct<lt.length;ct++){let ut=lt[ct];if(ut.bottom>ut.top+1&&(rt=="up"?at.top-ut.top>(ut.bottom-at.top)*2:ut.bottom-at.bottom>(at.bottom-ut.top)*2))return!1}}return!0})}const maybeRTL=/[\u0590-\u08ac]/;function endOfTextblockHorizontal(_e,et,rt){let{$head:nt}=et.selection;if(!nt.parent.isTextblock)return!1;let st=nt.parentOffset,it=!st,at=st==nt.parent.content.size,ot=_e.domSelection();return ot?!maybeRTL.test(nt.parent.textContent)||!ot.modify?rt=="left"||rt=="backward"?it:at:withFlushedState(_e,et,()=>{let{focusNode:lt,focusOffset:ct,anchorNode:ut,anchorOffset:dt}=_e.domSelectionRange(),pt=ot.caretBidiLevel;ot.modify("move",rt,"character");let mt=nt.depth?_e.docView.domAfterPos(nt.before()):_e.dom,{focusNode:xt,focusOffset:yt}=_e.domSelectionRange(),vt=xt&&!mt.contains(xt.nodeType==1?xt:xt.parentNode)||lt==xt&&ct==yt;try{ot.collapse(ut,dt),lt&&(lt!=ut||ct!=dt)&&ot.extend&&ot.extend(lt,ct)}catch{}return pt!=null&&(ot.caretBidiLevel=pt),vt}):nt.pos==nt.start()||nt.pos==nt.end()}let cachedState=null,cachedDir=null,cachedResult=!1;function endOfTextblock(_e,et,rt){return cachedState==et&&cachedDir==rt?cachedResult:(cachedState=et,cachedDir=rt,cachedResult=rt=="up"||rt=="down"?endOfTextblockVertical(_e,et,rt):endOfTextblockHorizontal(_e,et,rt))}const NOT_DIRTY=0,CHILD_DIRTY=1,CONTENT_DIRTY=2,NODE_DIRTY=3;class ViewDesc{constructor(et,rt,nt,st){this.parent=et,this.children=rt,this.dom=nt,this.contentDOM=st,this.dirty=NOT_DIRTY,nt.pmViewDesc=this}matchesWidget(et){return!1}matchesMark(et){return!1}matchesNode(et,rt,nt){return!1}matchesHack(et){return!1}parseRule(){return null}stopEvent(et){return!1}get size(){let et=0;for(let rt=0;rt<this.children.length;rt++)et+=this.children[rt].size;return et}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let et=0;et<this.children.length;et++)this.children[et].destroy()}posBeforeChild(et){for(let rt=0,nt=this.posAtStart;;rt++){let st=this.children[rt];if(st==et)return nt;nt+=st.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(et,rt,nt){if(this.contentDOM&&this.contentDOM.contains(et.nodeType==1?et:et.parentNode))if(nt<0){let it,at;if(et==this.contentDOM)it=et.childNodes[rt-1];else{for(;et.parentNode!=this.contentDOM;)et=et.parentNode;it=et.previousSibling}for(;it&&!((at=it.pmViewDesc)&&at.parent==this);)it=it.previousSibling;return it?this.posBeforeChild(at)+at.size:this.posAtStart}else{let it,at;if(et==this.contentDOM)it=et.childNodes[rt];else{for(;et.parentNode!=this.contentDOM;)et=et.parentNode;it=et.nextSibling}for(;it&&!((at=it.pmViewDesc)&&at.parent==this);)it=it.nextSibling;return it?this.posBeforeChild(at):this.posAtEnd}let st;if(et==this.dom&&this.contentDOM)st=rt>domIndex(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))st=et.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(rt==0)for(let it=et;;it=it.parentNode){if(it==this.dom){st=!1;break}if(it.previousSibling)break}if(st==null&&rt==et.childNodes.length)for(let it=et;;it=it.parentNode){if(it==this.dom){st=!0;break}if(it.nextSibling)break}}return st??nt>0?this.posAtEnd:this.posAtStart}nearestDesc(et,rt=!1){for(let nt=!0,st=et;st;st=st.parentNode){let it=this.getDesc(st),at;if(it&&(!rt||it.node))if(nt&&(at=it.nodeDOM)&&!(at.nodeType==1?at.contains(et.nodeType==1?et:et.parentNode):at==et))nt=!1;else return it}}getDesc(et){let rt=et.pmViewDesc;for(let nt=rt;nt;nt=nt.parent)if(nt==this)return rt}posFromDOM(et,rt,nt){for(let st=et;st;st=st.parentNode){let it=this.getDesc(st);if(it)return it.localPosFromDOM(et,rt,nt)}return-1}descAt(et){for(let rt=0,nt=0;rt<this.children.length;rt++){let st=this.children[rt],it=nt+st.size;if(nt==et&&it!=nt){for(;!st.border&&st.children.length;)for(let at=0;at<st.children.length;at++){let ot=st.children[at];if(ot.size){st=ot;break}}return st}if(et<it)return st.descAt(et-nt-st.border);nt=it}}domFromPos(et,rt){if(!this.contentDOM)return{node:this.dom,offset:0,atom:et+1};let nt=0,st=0;for(let it=0;nt<this.children.length;nt++){let at=this.children[nt],ot=it+at.size;if(ot>et||at instanceof TrailingHackViewDesc){st=et-it;break}it=ot}if(st)return this.children[nt].domFromPos(st-this.children[nt].border,rt);for(let it;nt&&!(it=this.children[nt-1]).size&&it instanceof WidgetViewDesc&&it.side>=0;nt--);if(rt<=0){let it,at=!0;for(;it=nt?this.children[nt-1]:null,!(!it||it.dom.parentNode==this.contentDOM);nt--,at=!1);return it&&rt&&at&&!it.border&&!it.domAtom?it.domFromPos(it.size,rt):{node:this.contentDOM,offset:it?domIndex(it.dom)+1:0}}else{let it,at=!0;for(;it=nt<this.children.length?this.children[nt]:null,!(!it||it.dom.parentNode==this.contentDOM);nt++,at=!1);return it&&at&&!it.border&&!it.domAtom?it.domFromPos(0,rt):{node:this.contentDOM,offset:it?domIndex(it.dom):this.contentDOM.childNodes.length}}}parseRange(et,rt,nt=0){if(this.children.length==0)return{node:this.contentDOM,from:et,to:rt,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let st=-1,it=-1;for(let at=nt,ot=0;;ot++){let lt=this.children[ot],ct=at+lt.size;if(st==-1&&et<=ct){let ut=at+lt.border;if(et>=ut&&rt<=ct-lt.border&&lt.node&&lt.contentDOM&&this.contentDOM.contains(lt.contentDOM))return lt.parseRange(et,rt,ut);et=at;for(let dt=ot;dt>0;dt--){let pt=this.children[dt-1];if(pt.size&&pt.dom.parentNode==this.contentDOM&&!pt.emptyChildAt(1)){st=domIndex(pt.dom)+1;break}et-=pt.size}st==-1&&(st=0)}if(st>-1&&(ct>rt||ot==this.children.length-1)){rt=ct;for(let ut=ot+1;ut<this.children.length;ut++){let dt=this.children[ut];if(dt.size&&dt.dom.parentNode==this.contentDOM&&!dt.emptyChildAt(-1)){it=domIndex(dt.dom);break}rt+=dt.size}it==-1&&(it=this.contentDOM.childNodes.length);break}at=ct}return{node:this.contentDOM,from:et,to:rt,fromOffset:st,toOffset:it}}emptyChildAt(et){if(this.border||!this.contentDOM||!this.children.length)return!1;let rt=this.children[et<0?0:this.children.length-1];return rt.size==0||rt.emptyChildAt(et)}domAfterPos(et){let{node:rt,offset:nt}=this.domFromPos(et,0);if(rt.nodeType!=1||nt==rt.childNodes.length)throw new RangeError("No node after pos "+et);return rt.childNodes[nt]}setSelection(et,rt,nt,st=!1){let it=Math.min(et,rt),at=Math.max(et,rt);for(let mt=0,xt=0;mt<this.children.length;mt++){let yt=this.children[mt],vt=xt+yt.size;if(it>xt&&at<vt)return yt.setSelection(et-xt-yt.border,rt-xt-yt.border,nt,st);xt=vt}let ot=this.domFromPos(et,et?-1:1),lt=rt==et?ot:this.domFromPos(rt,rt?-1:1),ct=nt.root.getSelection(),ut=nt.domSelectionRange(),dt=!1;if((gecko||safari)&&et==rt){let{node:mt,offset:xt}=ot;if(mt.nodeType==3){if(dt=!!(xt&&mt.nodeValue[xt-1]==`
`),dt&&xt==mt.nodeValue.length)for(let yt=mt,vt;yt;yt=yt.parentNode){if(vt=yt.nextSibling){vt.nodeName=="BR"&&(ot=lt={node:vt.parentNode,offset:domIndex(vt)+1});break}let gt=yt.pmViewDesc;if(gt&&gt.node&&gt.node.isBlock)break}}else{let yt=mt.childNodes[xt-1];dt=yt&&(yt.nodeName=="BR"||yt.contentEditable=="false")}}if(gecko&&ut.focusNode&&ut.focusNode!=lt.node&&ut.focusNode.nodeType==1){let mt=ut.focusNode.childNodes[ut.focusOffset];mt&&mt.contentEditable=="false"&&(st=!0)}if(!(st||dt&&safari)&&isEquivalentPosition(ot.node,ot.offset,ut.anchorNode,ut.anchorOffset)&&isEquivalentPosition(lt.node,lt.offset,ut.focusNode,ut.focusOffset))return;let pt=!1;if((ct.extend||et==rt)&&!(dt&&gecko)){ct.collapse(ot.node,ot.offset);try{et!=rt&&ct.extend(lt.node,lt.offset),pt=!0}catch{}}if(!pt){if(et>rt){let xt=ot;ot=lt,lt=xt}let mt=document.createRange();mt.setEnd(lt.node,lt.offset),mt.setStart(ot.node,ot.offset),ct.removeAllRanges(),ct.addRange(mt)}}ignoreMutation(et){return!this.contentDOM&&et.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(et,rt){for(let nt=0,st=0;st<this.children.length;st++){let it=this.children[st],at=nt+it.size;if(nt==at?et<=at&&rt>=nt:et<at&&rt>nt){let ot=nt+it.border,lt=at-it.border;if(et>=ot&&rt<=lt){this.dirty=et==nt||rt==at?CONTENT_DIRTY:CHILD_DIRTY,et==ot&&rt==lt&&(it.contentLost||it.dom.parentNode!=this.contentDOM)?it.dirty=NODE_DIRTY:it.markDirty(et-ot,rt-ot);return}else it.dirty=it.dom==it.contentDOM&&it.dom.parentNode==this.contentDOM&&!it.children.length?CONTENT_DIRTY:NODE_DIRTY}nt=at}this.dirty=CONTENT_DIRTY}markParentsDirty(){let et=1;for(let rt=this.parent;rt;rt=rt.parent,et++){let nt=et==1?CONTENT_DIRTY:CHILD_DIRTY;rt.dirty<nt&&(rt.dirty=nt)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(et){return!1}}class WidgetViewDesc extends ViewDesc{constructor(et,rt,nt,st){let it,at=rt.type.toDOM;if(typeof at=="function"&&(at=at(nt,()=>{if(!it)return st;if(it.parent)return it.parent.posBeforeChild(it)})),!rt.type.spec.raw){if(at.nodeType!=1){let ot=document.createElement("span");ot.appendChild(at),at=ot}at.contentEditable="false",at.classList.add("ProseMirror-widget")}super(et,[],at,null),this.widget=rt,this.widget=rt,it=this}matchesWidget(et){return this.dirty==NOT_DIRTY&&et.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(et){let rt=this.widget.spec.stopEvent;return rt?rt(et):!1}ignoreMutation(et){return et.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class CompositionViewDesc extends ViewDesc{constructor(et,rt,nt,st){super(et,[],rt,null),this.textDOM=nt,this.text=st}get size(){return this.text.length}localPosFromDOM(et,rt){return et!=this.textDOM?this.posAtStart+(rt?this.size:0):this.posAtStart+rt}domFromPos(et){return{node:this.textDOM,offset:et}}ignoreMutation(et){return et.type==="characterData"&&et.target.nodeValue==et.oldValue}}class MarkViewDesc extends ViewDesc{constructor(et,rt,nt,st,it){super(et,[],nt,st),this.mark=rt,this.spec=it}static create(et,rt,nt,st){let it=st.nodeViews[rt.type.name],at=it&&it(rt,st,nt);return(!at||!at.dom)&&(at=DOMSerializer.renderSpec(document,rt.type.spec.toDOM(rt,nt),null,rt.attrs)),new MarkViewDesc(et,rt,at.dom,at.contentDOM||at.dom,at)}parseRule(){return this.dirty&NODE_DIRTY||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(et){return this.dirty!=NODE_DIRTY&&this.mark.eq(et)}markDirty(et,rt){if(super.markDirty(et,rt),this.dirty!=NOT_DIRTY){let nt=this.parent;for(;!nt.node;)nt=nt.parent;nt.dirty<this.dirty&&(nt.dirty=this.dirty),this.dirty=NOT_DIRTY}}slice(et,rt,nt){let st=MarkViewDesc.create(this.parent,this.mark,!0,nt),it=this.children,at=this.size;rt<at&&(it=replaceNodes(it,rt,at,nt)),et>0&&(it=replaceNodes(it,0,et,nt));for(let ot=0;ot<it.length;ot++)it[ot].parent=st;return st.children=it,st}ignoreMutation(et){return this.spec.ignoreMutation?this.spec.ignoreMutation(et):super.ignoreMutation(et)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class NodeViewDesc extends ViewDesc{constructor(et,rt,nt,st,it,at,ot,lt,ct){super(et,[],it,at),this.node=rt,this.outerDeco=nt,this.innerDeco=st,this.nodeDOM=ot}static create(et,rt,nt,st,it,at){let ot=it.nodeViews[rt.type.name],lt,ct=ot&&ot(rt,it,()=>{if(!lt)return at;if(lt.parent)return lt.parent.posBeforeChild(lt)},nt,st),ut=ct&&ct.dom,dt=ct&&ct.contentDOM;if(rt.isText){if(!ut)ut=document.createTextNode(rt.text);else if(ut.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else ut||({dom:ut,contentDOM:dt}=DOMSerializer.renderSpec(document,rt.type.spec.toDOM(rt),null,rt.attrs));!dt&&!rt.isText&&ut.nodeName!="BR"&&(ut.hasAttribute("contenteditable")||(ut.contentEditable="false"),rt.type.spec.draggable&&(ut.draggable=!0));let pt=ut;return ut=applyOuterDeco(ut,nt,rt),ct?lt=new CustomNodeViewDesc(et,rt,nt,st,ut,dt||null,pt,ct,it,at+1):rt.isText?new TextViewDesc(et,rt,nt,st,ut,pt,it):new NodeViewDesc(et,rt,nt,st,ut,dt||null,pt,it,at+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let et={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(et.preserveWhitespace="full"),!this.contentDOM)et.getContent=()=>this.node.content;else if(!this.contentLost)et.contentElement=this.contentDOM;else{for(let rt=this.children.length-1;rt>=0;rt--){let nt=this.children[rt];if(this.dom.contains(nt.dom.parentNode)){et.contentElement=nt.dom.parentNode;break}}et.contentElement||(et.getContent=()=>Fragment.empty)}return et}matchesNode(et,rt,nt){return this.dirty==NOT_DIRTY&&et.eq(this.node)&&sameOuterDeco(rt,this.outerDeco)&&nt.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(et,rt){let nt=this.node.inlineContent,st=rt,it=et.composing?this.localCompositionInfo(et,rt):null,at=it&&it.pos>-1?it:null,ot=it&&it.pos<0,lt=new ViewTreeUpdater(this,at&&at.node,et);iterDeco(this.node,this.innerDeco,(ct,ut,dt)=>{ct.spec.marks?lt.syncToMarks(ct.spec.marks,nt,et,ut):ct.type.side>=0&&!dt&&lt.syncToMarks(ut==this.node.childCount?Mark$1.none:this.node.child(ut).marks,nt,et,ut),lt.placeWidget(ct,et,st)},(ct,ut,dt,pt)=>{lt.syncToMarks(ct.marks,nt,et,pt);let mt;lt.findNodeMatch(ct,ut,dt,pt)||ot&&et.state.selection.from>st&&et.state.selection.to<st+ct.nodeSize&&(mt=lt.findIndexWithChild(it.node))>-1&&lt.updateNodeAt(ct,ut,dt,mt,et)||lt.updateNextNode(ct,ut,dt,et,pt,st)||lt.addNode(ct,ut,dt,et,st),st+=ct.nodeSize}),lt.syncToMarks([],nt,et,0),this.node.isTextblock&&lt.addTextblockHacks(),lt.destroyRest(),(lt.changed||this.dirty==CONTENT_DIRTY)&&(at&&this.protectLocalComposition(et,at),renderDescs(this.contentDOM,this.children,et),ios&&iosHacks(this.dom))}localCompositionInfo(et,rt){let{from:nt,to:st}=et.state.selection;if(!(et.state.selection instanceof TextSelection)||nt<rt||st>rt+this.node.content.size)return null;let it=et.input.compositionNode;if(!it||!this.dom.contains(it.parentNode))return null;if(this.node.inlineContent){let at=it.nodeValue,ot=findTextInFragment(this.node.content,at,nt-rt,st-rt);return ot<0?null:{node:it,pos:ot,text:at}}else return{node:it,pos:-1,text:""}}protectLocalComposition(et,{node:rt,pos:nt,text:st}){if(this.getDesc(rt))return;let it=rt;for(;it.parentNode!=this.contentDOM;it=it.parentNode){for(;it.previousSibling;)it.parentNode.removeChild(it.previousSibling);for(;it.nextSibling;)it.parentNode.removeChild(it.nextSibling);it.pmViewDesc&&(it.pmViewDesc=void 0)}let at=new CompositionViewDesc(this,it,rt,st);et.input.compositionNodes.push(at),this.children=replaceNodes(this.children,nt,nt+st.length,et,at)}update(et,rt,nt,st){return this.dirty==NODE_DIRTY||!et.sameMarkup(this.node)?!1:(this.updateInner(et,rt,nt,st),!0)}updateInner(et,rt,nt,st){this.updateOuterDeco(rt),this.node=et,this.innerDeco=nt,this.contentDOM&&this.updateChildren(st,this.posAtStart),this.dirty=NOT_DIRTY}updateOuterDeco(et){if(sameOuterDeco(et,this.outerDeco))return;let rt=this.nodeDOM.nodeType!=1,nt=this.dom;this.dom=patchOuterDeco(this.dom,this.nodeDOM,computeOuterDeco(this.outerDeco,this.node,rt),computeOuterDeco(et,this.node,rt)),this.dom!=nt&&(nt.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=et}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function docViewDesc(_e,et,rt,nt,st){applyOuterDeco(nt,et,_e);let it=new NodeViewDesc(void 0,_e,et,rt,nt,nt,nt,st,0);return it.contentDOM&&it.updateChildren(st,0),it}class TextViewDesc extends NodeViewDesc{constructor(et,rt,nt,st,it,at,ot){super(et,rt,nt,st,it,null,at,ot,0)}parseRule(){let et=this.nodeDOM.parentNode;for(;et&&et!=this.dom&&!et.pmIsDeco;)et=et.parentNode;return{skip:et||!0}}update(et,rt,nt,st){return this.dirty==NODE_DIRTY||this.dirty!=NOT_DIRTY&&!this.inParent()||!et.sameMarkup(this.node)?!1:(this.updateOuterDeco(rt),(this.dirty!=NOT_DIRTY||et.text!=this.node.text)&&et.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=et.text,st.trackWrites==this.nodeDOM&&(st.trackWrites=null)),this.node=et,this.dirty=NOT_DIRTY,!0)}inParent(){let et=this.parent.contentDOM;for(let rt=this.nodeDOM;rt;rt=rt.parentNode)if(rt==et)return!0;return!1}domFromPos(et){return{node:this.nodeDOM,offset:et}}localPosFromDOM(et,rt,nt){return et==this.nodeDOM?this.posAtStart+Math.min(rt,this.node.text.length):super.localPosFromDOM(et,rt,nt)}ignoreMutation(et){return et.type!="characterData"&&et.type!="selection"}slice(et,rt,nt){let st=this.node.cut(et,rt),it=document.createTextNode(st.text);return new TextViewDesc(this.parent,st,this.outerDeco,this.innerDeco,it,it,nt)}markDirty(et,rt){super.markDirty(et,rt),this.dom!=this.nodeDOM&&(et==0||rt==this.nodeDOM.nodeValue.length)&&(this.dirty=NODE_DIRTY)}get domAtom(){return!1}isText(et){return this.node.text==et}}class TrailingHackViewDesc extends ViewDesc{parseRule(){return{ignore:!0}}matchesHack(et){return this.dirty==NOT_DIRTY&&this.dom.nodeName==et}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class CustomNodeViewDesc extends NodeViewDesc{constructor(et,rt,nt,st,it,at,ot,lt,ct,ut){super(et,rt,nt,st,it,at,ot,ct,ut),this.spec=lt}update(et,rt,nt,st){if(this.dirty==NODE_DIRTY)return!1;if(this.spec.update&&(this.node.type==et.type||this.spec.multiType)){let it=this.spec.update(et,rt,nt);return it&&this.updateInner(et,rt,nt,st),it}else return!this.contentDOM&&!et.isLeaf?!1:super.update(et,rt,nt,st)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(et,rt,nt,st){this.spec.setSelection?this.spec.setSelection(et,rt,nt.root):super.setSelection(et,rt,nt,st)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(et){return this.spec.stopEvent?this.spec.stopEvent(et):!1}ignoreMutation(et){return this.spec.ignoreMutation?this.spec.ignoreMutation(et):super.ignoreMutation(et)}}function renderDescs(_e,et,rt){let nt=_e.firstChild,st=!1;for(let it=0;it<et.length;it++){let at=et[it],ot=at.dom;if(ot.parentNode==_e){for(;ot!=nt;)nt=rm(nt),st=!0;nt=nt.nextSibling}else st=!0,_e.insertBefore(ot,nt);if(at instanceof MarkViewDesc){let lt=nt?nt.previousSibling:_e.lastChild;renderDescs(at.contentDOM,at.children,rt),nt=lt?lt.nextSibling:_e.firstChild}}for(;nt;)nt=rm(nt),st=!0;st&&rt.trackWrites==_e&&(rt.trackWrites=null)}const OuterDecoLevel=function(_e){_e&&(this.nodeName=_e)};OuterDecoLevel.prototype=Object.create(null);const noDeco=[new OuterDecoLevel];function computeOuterDeco(_e,et,rt){if(_e.length==0)return noDeco;let nt=rt?noDeco[0]:new OuterDecoLevel,st=[nt];for(let it=0;it<_e.length;it++){let at=_e[it].type.attrs;if(at){at.nodeName&&st.push(nt=new OuterDecoLevel(at.nodeName));for(let ot in at){let lt=at[ot];lt!=null&&(rt&&st.length==1&&st.push(nt=new OuterDecoLevel(et.isInline?"span":"div")),ot=="class"?nt.class=(nt.class?nt.class+" ":"")+lt:ot=="style"?nt.style=(nt.style?nt.style+";":"")+lt:ot!="nodeName"&&(nt[ot]=lt))}}}return st}function patchOuterDeco(_e,et,rt,nt){if(rt==noDeco&&nt==noDeco)return et;let st=et;for(let it=0;it<nt.length;it++){let at=nt[it],ot=rt[it];if(it){let lt;ot&&ot.nodeName==at.nodeName&&st!=_e&&(lt=st.parentNode)&&lt.nodeName.toLowerCase()==at.nodeName||(lt=document.createElement(at.nodeName),lt.pmIsDeco=!0,lt.appendChild(st),ot=noDeco[0]),st=lt}patchAttributes(st,ot||noDeco[0],at)}return st}function patchAttributes(_e,et,rt){for(let nt in et)nt!="class"&&nt!="style"&&nt!="nodeName"&&!(nt in rt)&&_e.removeAttribute(nt);for(let nt in rt)nt!="class"&&nt!="style"&&nt!="nodeName"&&rt[nt]!=et[nt]&&_e.setAttribute(nt,rt[nt]);if(et.class!=rt.class){let nt=et.class?et.class.split(" ").filter(Boolean):[],st=rt.class?rt.class.split(" ").filter(Boolean):[];for(let it=0;it<nt.length;it++)st.indexOf(nt[it])==-1&&_e.classList.remove(nt[it]);for(let it=0;it<st.length;it++)nt.indexOf(st[it])==-1&&_e.classList.add(st[it]);_e.classList.length==0&&_e.removeAttribute("class")}if(et.style!=rt.style){if(et.style){let nt=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,st;for(;st=nt.exec(et.style);)_e.style.removeProperty(st[1])}rt.style&&(_e.style.cssText+=rt.style)}}function applyOuterDeco(_e,et,rt){return patchOuterDeco(_e,_e,noDeco,computeOuterDeco(et,rt,_e.nodeType!=1))}function sameOuterDeco(_e,et){if(_e.length!=et.length)return!1;for(let rt=0;rt<_e.length;rt++)if(!_e[rt].type.eq(et[rt].type))return!1;return!0}function rm(_e){let et=_e.nextSibling;return _e.parentNode.removeChild(_e),et}class ViewTreeUpdater{constructor(et,rt,nt){this.lock=rt,this.view=nt,this.index=0,this.stack=[],this.changed=!1,this.top=et,this.preMatch=preMatch(et.node.content,et)}destroyBetween(et,rt){if(et!=rt){for(let nt=et;nt<rt;nt++)this.top.children[nt].destroy();this.top.children.splice(et,rt-et),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(et,rt,nt,st){let it=0,at=this.stack.length>>1,ot=Math.min(at,et.length);for(;it<ot&&(it==at-1?this.top:this.stack[it+1<<1]).matchesMark(et[it])&&et[it].type.spec.spanning!==!1;)it++;for(;it<at;)this.destroyRest(),this.top.dirty=NOT_DIRTY,this.index=this.stack.pop(),this.top=this.stack.pop(),at--;for(;at<et.length;){this.stack.push(this.top,this.index+1);let lt=-1,ct=this.top.children.length;st<this.preMatch.index&&(ct=Math.min(this.index+3,ct));for(let ut=this.index;ut<ct;ut++){let dt=this.top.children[ut];if(dt.matchesMark(et[at])&&!this.isLocked(dt.dom)){lt=ut;break}}if(lt>-1)lt>this.index&&(this.changed=!0,this.destroyBetween(this.index,lt)),this.top=this.top.children[this.index];else{let ut=MarkViewDesc.create(this.top,et[at],rt,nt);this.top.children.splice(this.index,0,ut),this.top=ut,this.changed=!0}this.index=0,at++}}findNodeMatch(et,rt,nt,st){let it=-1,at;if(st>=this.preMatch.index&&(at=this.preMatch.matches[st-this.preMatch.index]).parent==this.top&&at.matchesNode(et,rt,nt))it=this.top.children.indexOf(at,this.index);else for(let ot=this.index,lt=Math.min(this.top.children.length,ot+5);ot<lt;ot++){let ct=this.top.children[ot];if(ct.matchesNode(et,rt,nt)&&!this.preMatch.matched.has(ct)){it=ot;break}}return it<0?!1:(this.destroyBetween(this.index,it),this.index++,!0)}updateNodeAt(et,rt,nt,st,it){let at=this.top.children[st];return at.dirty==NODE_DIRTY&&at.dom==at.contentDOM&&(at.dirty=CONTENT_DIRTY),at.update(et,rt,nt,it)?(this.destroyBetween(this.index,st),this.index++,!0):!1}findIndexWithChild(et){for(;;){let rt=et.parentNode;if(!rt)return-1;if(rt==this.top.contentDOM){let nt=et.pmViewDesc;if(nt){for(let st=this.index;st<this.top.children.length;st++)if(this.top.children[st]==nt)return st}return-1}et=rt}}updateNextNode(et,rt,nt,st,it,at){for(let ot=this.index;ot<this.top.children.length;ot++){let lt=this.top.children[ot];if(lt instanceof NodeViewDesc){let ct=this.preMatch.matched.get(lt);if(ct!=null&&ct!=it)return!1;let ut=lt.dom,dt,pt=this.isLocked(ut)&&!(et.isText&&lt.node&&lt.node.isText&&lt.nodeDOM.nodeValue==et.text&&lt.dirty!=NODE_DIRTY&&sameOuterDeco(rt,lt.outerDeco));if(!pt&&lt.update(et,rt,nt,st))return this.destroyBetween(this.index,ot),lt.dom!=ut&&(this.changed=!0),this.index++,!0;if(!pt&&(dt=this.recreateWrapper(lt,et,rt,nt,st,at)))return this.destroyBetween(this.index,ot),this.top.children[this.index]=dt,dt.contentDOM&&(dt.dirty=CONTENT_DIRTY,dt.updateChildren(st,at+1),dt.dirty=NOT_DIRTY),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(et,rt,nt,st,it,at){if(et.dirty||rt.isAtom||!et.children.length||!et.node.content.eq(rt.content)||!sameOuterDeco(nt,et.outerDeco)||!st.eq(et.innerDeco))return null;let ot=NodeViewDesc.create(this.top,rt,nt,st,it,at);if(ot.contentDOM){ot.children=et.children,et.children=[];for(let lt of ot.children)lt.parent=ot}return et.destroy(),ot}addNode(et,rt,nt,st,it){let at=NodeViewDesc.create(this.top,et,rt,nt,st,it);at.contentDOM&&at.updateChildren(st,it+1),this.top.children.splice(this.index++,0,at),this.changed=!0}placeWidget(et,rt,nt){let st=this.index<this.top.children.length?this.top.children[this.index]:null;if(st&&st.matchesWidget(et)&&(et==st.widget||!st.widget.type.toDOM.parentNode))this.index++;else{let it=new WidgetViewDesc(this.top,et,rt,nt);this.top.children.splice(this.index++,0,it),this.changed=!0}}addTextblockHacks(){let et=this.top.children[this.index-1],rt=this.top;for(;et instanceof MarkViewDesc;)rt=et,et=rt.children[rt.children.length-1];(!et||!(et instanceof TextViewDesc)||/\n$/.test(et.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(et.node.text))&&((safari||chrome)&&et&&et.dom.contentEditable=="false"&&this.addHackNode("IMG",rt),this.addHackNode("BR",this.top))}addHackNode(et,rt){if(rt==this.top&&this.index<rt.children.length&&rt.children[this.index].matchesHack(et))this.index++;else{let nt=document.createElement(et);et=="IMG"&&(nt.className="ProseMirror-separator",nt.alt=""),et=="BR"&&(nt.className="ProseMirror-trailingBreak");let st=new TrailingHackViewDesc(this.top,[],nt,null);rt!=this.top?rt.children.push(st):rt.children.splice(this.index++,0,st),this.changed=!0}}isLocked(et){return this.lock&&(et==this.lock||et.nodeType==1&&et.contains(this.lock.parentNode))}}function preMatch(_e,et){let rt=et,nt=rt.children.length,st=_e.childCount,it=new Map,at=[];e:for(;st>0;){let ot;for(;;)if(nt){let ct=rt.children[nt-1];if(ct instanceof MarkViewDesc)rt=ct,nt=ct.children.length;else{ot=ct,nt--;break}}else{if(rt==et)break e;nt=rt.parent.children.indexOf(rt),rt=rt.parent}let lt=ot.node;if(lt){if(lt!=_e.child(st-1))break;--st,it.set(ot,st),at.push(ot)}}return{index:st,matched:it,matches:at.reverse()}}function compareSide(_e,et){return _e.type.side-et.type.side}function iterDeco(_e,et,rt,nt){let st=et.locals(_e),it=0;if(st.length==0){for(let ct=0;ct<_e.childCount;ct++){let ut=_e.child(ct);nt(ut,st,et.forChild(it,ut),ct),it+=ut.nodeSize}return}let at=0,ot=[],lt=null;for(let ct=0;;){let ut,dt;for(;at<st.length&&st[at].to==it;){let vt=st[at++];vt.widget&&(ut?(dt||(dt=[ut])).push(vt):ut=vt)}if(ut)if(dt){dt.sort(compareSide);for(let vt=0;vt<dt.length;vt++)rt(dt[vt],ct,!!lt)}else rt(ut,ct,!!lt);let pt,mt;if(lt)mt=-1,pt=lt,lt=null;else if(ct<_e.childCount)mt=ct,pt=_e.child(ct++);else break;for(let vt=0;vt<ot.length;vt++)ot[vt].to<=it&&ot.splice(vt--,1);for(;at<st.length&&st[at].from<=it&&st[at].to>it;)ot.push(st[at++]);let xt=it+pt.nodeSize;if(pt.isText){let vt=xt;at<st.length&&st[at].from<vt&&(vt=st[at].from);for(let gt=0;gt<ot.length;gt++)ot[gt].to<vt&&(vt=ot[gt].to);vt<xt&&(lt=pt.cut(vt-it),pt=pt.cut(0,vt-it),xt=vt,mt=-1)}else for(;at<st.length&&st[at].to<xt;)at++;let yt=pt.isInline&&!pt.isLeaf?ot.filter(vt=>!vt.inline):ot.slice();nt(pt,yt,et.forChild(it,pt),mt),it=xt}}function iosHacks(_e){if(_e.nodeName=="UL"||_e.nodeName=="OL"){let et=_e.style.cssText;_e.style.cssText=et+"; list-style: square !important",window.getComputedStyle(_e).listStyle,_e.style.cssText=et}}function findTextInFragment(_e,et,rt,nt){for(let st=0,it=0;st<_e.childCount&&it<=nt;){let at=_e.child(st++),ot=it;if(it+=at.nodeSize,!at.isText)continue;let lt=at.text;for(;st<_e.childCount;){let ct=_e.child(st++);if(it+=ct.nodeSize,!ct.isText)break;lt+=ct.text}if(it>=rt){if(it>=nt&&lt.slice(nt-et.length-ot,nt-ot)==et)return nt-et.length;let ct=ot<nt?lt.lastIndexOf(et,nt-ot-1):-1;if(ct>=0&&ct+et.length+ot>=rt)return ot+ct;if(rt==nt&&lt.length>=nt+et.length-ot&&lt.slice(nt-ot,nt-ot+et.length)==et)return nt}}return-1}function replaceNodes(_e,et,rt,nt,st){let it=[];for(let at=0,ot=0;at<_e.length;at++){let lt=_e[at],ct=ot,ut=ot+=lt.size;ct>=rt||ut<=et?it.push(lt):(ct<et&&it.push(lt.slice(0,et-ct,nt)),st&&(it.push(st),st=void 0),ut>rt&&it.push(lt.slice(rt-ct,lt.size,nt)))}return it}function selectionFromDOM(_e,et=null){let rt=_e.domSelectionRange(),nt=_e.state.doc;if(!rt.focusNode)return null;let st=_e.docView.nearestDesc(rt.focusNode),it=st&&st.size==0,at=_e.docView.posFromDOM(rt.focusNode,rt.focusOffset,1);if(at<0)return null;let ot=nt.resolve(at),lt,ct;if(selectionCollapsed(rt)){for(lt=at;st&&!st.node;)st=st.parent;let dt=st.node;if(st&&dt.isAtom&&NodeSelection.isSelectable(dt)&&st.parent&&!(dt.isInline&&isOnEdge(rt.focusNode,rt.focusOffset,st.dom))){let pt=st.posBefore;ct=new NodeSelection(at==pt?ot:nt.resolve(pt))}}else{if(rt instanceof _e.dom.ownerDocument.defaultView.Selection&&rt.rangeCount>1){let dt=at,pt=at;for(let mt=0;mt<rt.rangeCount;mt++){let xt=rt.getRangeAt(mt);dt=Math.min(dt,_e.docView.posFromDOM(xt.startContainer,xt.startOffset,1)),pt=Math.max(pt,_e.docView.posFromDOM(xt.endContainer,xt.endOffset,-1))}if(dt<0)return null;[lt,at]=pt==_e.state.selection.anchor?[pt,dt]:[dt,pt],ot=nt.resolve(at)}else lt=_e.docView.posFromDOM(rt.anchorNode,rt.anchorOffset,1);if(lt<0)return null}let ut=nt.resolve(lt);if(!ct){let dt=et=="pointer"||_e.state.selection.head<ot.pos&&!it?1:-1;ct=selectionBetween(_e,ut,ot,dt)}return ct}function editorOwnsSelection(_e){return _e.editable?_e.hasFocus():hasSelection(_e)&&document.activeElement&&document.activeElement.contains(_e.dom)}function selectionToDOM(_e,et=!1){let rt=_e.state.selection;if(syncNodeSelection(_e,rt),!!editorOwnsSelection(_e)){if(!et&&_e.input.mouseDown&&_e.input.mouseDown.allowDefault&&chrome){let nt=_e.domSelectionRange(),st=_e.domObserver.currentSelection;if(nt.anchorNode&&st.anchorNode&&isEquivalentPosition(nt.anchorNode,nt.anchorOffset,st.anchorNode,st.anchorOffset)){_e.input.mouseDown.delayedSelectionSync=!0,_e.domObserver.setCurSelection();return}}if(_e.domObserver.disconnectSelection(),_e.cursorWrapper)selectCursorWrapper(_e);else{let{anchor:nt,head:st}=rt,it,at;brokenSelectBetweenUneditable&&!(rt instanceof TextSelection)&&(rt.$from.parent.inlineContent||(it=temporarilyEditableNear(_e,rt.from)),!rt.empty&&!rt.$from.parent.inlineContent&&(at=temporarilyEditableNear(_e,rt.to))),_e.docView.setSelection(nt,st,_e,et),brokenSelectBetweenUneditable&&(it&&resetEditable(it),at&&resetEditable(at)),rt.visible?_e.dom.classList.remove("ProseMirror-hideselection"):(_e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&removeClassOnSelectionChange(_e))}_e.domObserver.setCurSelection(),_e.domObserver.connectSelection()}}const brokenSelectBetweenUneditable=safari||chrome&&chrome_version<63;function temporarilyEditableNear(_e,et){let{node:rt,offset:nt}=_e.docView.domFromPos(et,0),st=nt<rt.childNodes.length?rt.childNodes[nt]:null,it=nt?rt.childNodes[nt-1]:null;if(safari&&st&&st.contentEditable=="false")return setEditable(st);if((!st||st.contentEditable=="false")&&(!it||it.contentEditable=="false")){if(st)return setEditable(st);if(it)return setEditable(it)}}function setEditable(_e){return _e.contentEditable="true",safari&&_e.draggable&&(_e.draggable=!1,_e.wasDraggable=!0),_e}function resetEditable(_e){_e.contentEditable="false",_e.wasDraggable&&(_e.draggable=!0,_e.wasDraggable=null)}function removeClassOnSelectionChange(_e){let et=_e.dom.ownerDocument;et.removeEventListener("selectionchange",_e.input.hideSelectionGuard);let rt=_e.domSelectionRange(),nt=rt.anchorNode,st=rt.anchorOffset;et.addEventListener("selectionchange",_e.input.hideSelectionGuard=()=>{(rt.anchorNode!=nt||rt.anchorOffset!=st)&&(et.removeEventListener("selectionchange",_e.input.hideSelectionGuard),setTimeout(()=>{(!editorOwnsSelection(_e)||_e.state.selection.visible)&&_e.dom.classList.remove("ProseMirror-hideselection")},20))})}function selectCursorWrapper(_e){let et=_e.domSelection();if(!et)return;let rt=_e.cursorWrapper.dom,nt=rt.nodeName=="IMG";nt?et.collapse(rt.parentNode,domIndex(rt)+1):et.collapse(rt,0),!nt&&!_e.state.selection.visible&&ie$1&&ie_version<=11&&(rt.disabled=!0,rt.disabled=!1)}function syncNodeSelection(_e,et){if(et instanceof NodeSelection){let rt=_e.docView.descAt(et.from);rt!=_e.lastSelectedViewDesc&&(clearNodeSelection(_e),rt&&rt.selectNode(),_e.lastSelectedViewDesc=rt)}else clearNodeSelection(_e)}function clearNodeSelection(_e){_e.lastSelectedViewDesc&&(_e.lastSelectedViewDesc.parent&&_e.lastSelectedViewDesc.deselectNode(),_e.lastSelectedViewDesc=void 0)}function selectionBetween(_e,et,rt,nt){return _e.someProp("createSelectionBetween",st=>st(_e,et,rt))||TextSelection.between(et,rt,nt)}function hasFocusAndSelection(_e){return _e.editable&&!_e.hasFocus()?!1:hasSelection(_e)}function hasSelection(_e){let et=_e.domSelectionRange();if(!et.anchorNode)return!1;try{return _e.dom.contains(et.anchorNode.nodeType==3?et.anchorNode.parentNode:et.anchorNode)&&(_e.editable||_e.dom.contains(et.focusNode.nodeType==3?et.focusNode.parentNode:et.focusNode))}catch{return!1}}function anchorInRightPlace(_e){let et=_e.docView.domFromPos(_e.state.selection.anchor,0),rt=_e.domSelectionRange();return isEquivalentPosition(et.node,et.offset,rt.anchorNode,rt.anchorOffset)}function moveSelectionBlock(_e,et){let{$anchor:rt,$head:nt}=_e.selection,st=et>0?rt.max(nt):rt.min(nt),it=st.parent.inlineContent?st.depth?_e.doc.resolve(et>0?st.after():st.before()):null:st;return it&&Selection.findFrom(it,et)}function apply(_e,et){return _e.dispatch(_e.state.tr.setSelection(et).scrollIntoView()),!0}function selectHorizontally(_e,et,rt){let nt=_e.state.selection;if(nt instanceof TextSelection)if(rt.indexOf("s")>-1){let{$head:st}=nt,it=st.textOffset?null:et<0?st.nodeBefore:st.nodeAfter;if(!it||it.isText||!it.isLeaf)return!1;let at=_e.state.doc.resolve(st.pos+it.nodeSize*(et<0?-1:1));return apply(_e,new TextSelection(nt.$anchor,at))}else if(nt.empty){if(_e.endOfTextblock(et>0?"forward":"backward")){let st=moveSelectionBlock(_e.state,et);return st&&st instanceof NodeSelection?apply(_e,st):!1}else if(!(mac$2&&rt.indexOf("m")>-1)){let st=nt.$head,it=st.textOffset?null:et<0?st.nodeBefore:st.nodeAfter,at;if(!it||it.isText)return!1;let ot=et<0?st.pos-it.nodeSize:st.pos;return it.isAtom||(at=_e.docView.descAt(ot))&&!at.contentDOM?NodeSelection.isSelectable(it)?apply(_e,new NodeSelection(et<0?_e.state.doc.resolve(st.pos-it.nodeSize):st)):webkit?apply(_e,new TextSelection(_e.state.doc.resolve(et<0?ot:ot+it.nodeSize))):!1:!1}}else return!1;else{if(nt instanceof NodeSelection&&nt.node.isInline)return apply(_e,new TextSelection(et>0?nt.$to:nt.$from));{let st=moveSelectionBlock(_e.state,et);return st?apply(_e,st):!1}}}function nodeLen(_e){return _e.nodeType==3?_e.nodeValue.length:_e.childNodes.length}function isIgnorable(_e,et){let rt=_e.pmViewDesc;return rt&&rt.size==0&&(et<0||_e.nextSibling||_e.nodeName!="BR")}function skipIgnoredNodes(_e,et){return et<0?skipIgnoredNodesBefore(_e):skipIgnoredNodesAfter(_e)}function skipIgnoredNodesBefore(_e){let et=_e.domSelectionRange(),rt=et.focusNode,nt=et.focusOffset;if(!rt)return;let st,it,at=!1;for(gecko&&rt.nodeType==1&&nt<nodeLen(rt)&&isIgnorable(rt.childNodes[nt],-1)&&(at=!0);;)if(nt>0){if(rt.nodeType!=1)break;{let ot=rt.childNodes[nt-1];if(isIgnorable(ot,-1))st=rt,it=--nt;else if(ot.nodeType==3)rt=ot,nt=rt.nodeValue.length;else break}}else{if(isBlockNode(rt))break;{let ot=rt.previousSibling;for(;ot&&isIgnorable(ot,-1);)st=rt.parentNode,it=domIndex(ot),ot=ot.previousSibling;if(ot)rt=ot,nt=nodeLen(rt);else{if(rt=rt.parentNode,rt==_e.dom)break;nt=0}}}at?setSelFocus(_e,rt,nt):st&&setSelFocus(_e,st,it)}function skipIgnoredNodesAfter(_e){let et=_e.domSelectionRange(),rt=et.focusNode,nt=et.focusOffset;if(!rt)return;let st=nodeLen(rt),it,at;for(;;)if(nt<st){if(rt.nodeType!=1)break;let ot=rt.childNodes[nt];if(isIgnorable(ot,1))it=rt,at=++nt;else break}else{if(isBlockNode(rt))break;{let ot=rt.nextSibling;for(;ot&&isIgnorable(ot,1);)it=ot.parentNode,at=domIndex(ot)+1,ot=ot.nextSibling;if(ot)rt=ot,nt=0,st=nodeLen(rt);else{if(rt=rt.parentNode,rt==_e.dom)break;nt=st=0}}}it&&setSelFocus(_e,it,at)}function isBlockNode(_e){let et=_e.pmViewDesc;return et&&et.node&&et.node.isBlock}function textNodeAfter(_e,et){for(;_e&&et==_e.childNodes.length&&!hasBlockDesc(_e);)et=domIndex(_e)+1,_e=_e.parentNode;for(;_e&&et<_e.childNodes.length;){let rt=_e.childNodes[et];if(rt.nodeType==3)return rt;if(rt.nodeType==1&&rt.contentEditable=="false")break;_e=rt,et=0}}function textNodeBefore(_e,et){for(;_e&&!et&&!hasBlockDesc(_e);)et=domIndex(_e),_e=_e.parentNode;for(;_e&&et;){let rt=_e.childNodes[et-1];if(rt.nodeType==3)return rt;if(rt.nodeType==1&&rt.contentEditable=="false")break;_e=rt,et=_e.childNodes.length}}function setSelFocus(_e,et,rt){if(et.nodeType!=3){let it,at;(at=textNodeAfter(et,rt))?(et=at,rt=0):(it=textNodeBefore(et,rt))&&(et=it,rt=it.nodeValue.length)}let nt=_e.domSelection();if(!nt)return;if(selectionCollapsed(nt)){let it=document.createRange();it.setEnd(et,rt),it.setStart(et,rt),nt.removeAllRanges(),nt.addRange(it)}else nt.extend&&nt.extend(et,rt);_e.domObserver.setCurSelection();let{state:st}=_e;setTimeout(()=>{_e.state==st&&selectionToDOM(_e)},50)}function findDirection(_e,et){let rt=_e.state.doc.resolve(et);if(!(chrome||windows$1)&&rt.parent.inlineContent){let st=_e.coordsAtPos(et);if(et>rt.start()){let it=_e.coordsAtPos(et-1),at=(it.top+it.bottom)/2;if(at>st.top&&at<st.bottom&&Math.abs(it.left-st.left)>1)return it.left<st.left?"ltr":"rtl"}if(et<rt.end()){let it=_e.coordsAtPos(et+1),at=(it.top+it.bottom)/2;if(at>st.top&&at<st.bottom&&Math.abs(it.left-st.left)>1)return it.left>st.left?"ltr":"rtl"}}return getComputedStyle(_e.dom).direction=="rtl"?"rtl":"ltr"}function selectVertically(_e,et,rt){let nt=_e.state.selection;if(nt instanceof TextSelection&&!nt.empty||rt.indexOf("s")>-1||mac$2&&rt.indexOf("m")>-1)return!1;let{$from:st,$to:it}=nt;if(!st.parent.inlineContent||_e.endOfTextblock(et<0?"up":"down")){let at=moveSelectionBlock(_e.state,et);if(at&&at instanceof NodeSelection)return apply(_e,at)}if(!st.parent.inlineContent){let at=et<0?st:it,ot=nt instanceof AllSelection?Selection.near(at,et):Selection.findFrom(at,et);return ot?apply(_e,ot):!1}return!1}function stopNativeHorizontalDelete(_e,et){if(!(_e.state.selection instanceof TextSelection))return!0;let{$head:rt,$anchor:nt,empty:st}=_e.state.selection;if(!rt.sameParent(nt))return!0;if(!st)return!1;if(_e.endOfTextblock(et>0?"forward":"backward"))return!0;let it=!rt.textOffset&&(et<0?rt.nodeBefore:rt.nodeAfter);if(it&&!it.isText){let at=_e.state.tr;return et<0?at.delete(rt.pos-it.nodeSize,rt.pos):at.delete(rt.pos,rt.pos+it.nodeSize),_e.dispatch(at),!0}return!1}function switchEditable(_e,et,rt){_e.domObserver.stop(),et.contentEditable=rt,_e.domObserver.start()}function safariDownArrowBug(_e){if(!safari||_e.state.selection.$head.parentOffset>0)return!1;let{focusNode:et,focusOffset:rt}=_e.domSelectionRange();if(et&&et.nodeType==1&&rt==0&&et.firstChild&&et.firstChild.contentEditable=="false"){let nt=et.firstChild;switchEditable(_e,nt,"true"),setTimeout(()=>switchEditable(_e,nt,"false"),20)}return!1}function getMods(_e){let et="";return _e.ctrlKey&&(et+="c"),_e.metaKey&&(et+="m"),_e.altKey&&(et+="a"),_e.shiftKey&&(et+="s"),et}function captureKeyDown(_e,et){let rt=et.keyCode,nt=getMods(et);if(rt==8||mac$2&&rt==72&&nt=="c")return stopNativeHorizontalDelete(_e,-1)||skipIgnoredNodes(_e,-1);if(rt==46&&!et.shiftKey||mac$2&&rt==68&&nt=="c")return stopNativeHorizontalDelete(_e,1)||skipIgnoredNodes(_e,1);if(rt==13||rt==27)return!0;if(rt==37||mac$2&&rt==66&&nt=="c"){let st=rt==37?findDirection(_e,_e.state.selection.from)=="ltr"?-1:1:-1;return selectHorizontally(_e,st,nt)||skipIgnoredNodes(_e,st)}else if(rt==39||mac$2&&rt==70&&nt=="c"){let st=rt==39?findDirection(_e,_e.state.selection.from)=="ltr"?1:-1:1;return selectHorizontally(_e,st,nt)||skipIgnoredNodes(_e,st)}else{if(rt==38||mac$2&&rt==80&&nt=="c")return selectVertically(_e,-1,nt)||skipIgnoredNodes(_e,-1);if(rt==40||mac$2&&rt==78&&nt=="c")return safariDownArrowBug(_e)||selectVertically(_e,1,nt)||skipIgnoredNodes(_e,1);if(nt==(mac$2?"m":"c")&&(rt==66||rt==73||rt==89||rt==90))return!0}return!1}function serializeForClipboard(_e,et){_e.someProp("transformCopied",mt=>{et=mt(et,_e)});let rt=[],{content:nt,openStart:st,openEnd:it}=et;for(;st>1&&it>1&&nt.childCount==1&&nt.firstChild.childCount==1;){st--,it--;let mt=nt.firstChild;rt.push(mt.type.name,mt.attrs!=mt.type.defaultAttrs?mt.attrs:null),nt=mt.content}let at=_e.someProp("clipboardSerializer")||DOMSerializer.fromSchema(_e.state.schema),ot=detachedDoc(),lt=ot.createElement("div");lt.appendChild(at.serializeFragment(nt,{document:ot}));let ct=lt.firstChild,ut,dt=0;for(;ct&&ct.nodeType==1&&(ut=wrapMap[ct.nodeName.toLowerCase()]);){for(let mt=ut.length-1;mt>=0;mt--){let xt=ot.createElement(ut[mt]);for(;lt.firstChild;)xt.appendChild(lt.firstChild);lt.appendChild(xt),dt++}ct=lt.firstChild}ct&&ct.nodeType==1&&ct.setAttribute("data-pm-slice",`${st} ${it}${dt?` -${dt}`:""} ${JSON.stringify(rt)}`);let pt=_e.someProp("clipboardTextSerializer",mt=>mt(et,_e))||et.content.textBetween(0,et.content.size,`

`);return{dom:lt,text:pt,slice:et}}function parseFromClipboard(_e,et,rt,nt,st){let it=st.parent.type.spec.code,at,ot;if(!rt&&!et)return null;let lt=!!et&&(nt||it||!rt);if(lt){if(_e.someProp("transformPastedText",pt=>{et=pt(et,it||nt,_e)}),it)return ot=new Slice(Fragment.from(_e.state.schema.text(et.replace(/\r\n?/g,`
`))),0,0),_e.someProp("transformPasted",pt=>{ot=pt(ot,_e,!0)}),ot;let dt=_e.someProp("clipboardTextParser",pt=>pt(et,st,nt,_e));if(dt)ot=dt;else{let pt=st.marks(),{schema:mt}=_e.state,xt=DOMSerializer.fromSchema(mt);at=document.createElement("div"),et.split(/(?:\r\n?|\n)+/).forEach(yt=>{let vt=at.appendChild(document.createElement("p"));yt&&vt.appendChild(xt.serializeNode(mt.text(yt,pt)))})}}else _e.someProp("transformPastedHTML",dt=>{rt=dt(rt,_e)}),at=readHTML(rt),webkit&&restoreReplacedSpaces(at);let ct=at&&at.querySelector("[data-pm-slice]"),ut=ct&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(ct.getAttribute("data-pm-slice")||"");if(ut&&ut[3])for(let dt=+ut[3];dt>0;dt--){let pt=at.firstChild;for(;pt&&pt.nodeType!=1;)pt=pt.nextSibling;if(!pt)break;at=pt}if(ot||(ot=(_e.someProp("clipboardParser")||_e.someProp("domParser")||DOMParser.fromSchema(_e.state.schema)).parseSlice(at,{preserveWhitespace:!!(lt||ut),context:st,ruleFromNode(pt){return pt.nodeName=="BR"&&!pt.nextSibling&&pt.parentNode&&!inlineParents.test(pt.parentNode.nodeName)?{ignore:!0}:null}})),ut)ot=addContext(closeSlice(ot,+ut[1],+ut[2]),ut[4]);else if(ot=Slice.maxOpen(normalizeSiblings(ot.content,st),!0),ot.openStart||ot.openEnd){let dt=0,pt=0;for(let mt=ot.content.firstChild;dt<ot.openStart&&!mt.type.spec.isolating;dt++,mt=mt.firstChild);for(let mt=ot.content.lastChild;pt<ot.openEnd&&!mt.type.spec.isolating;pt++,mt=mt.lastChild);ot=closeSlice(ot,dt,pt)}return _e.someProp("transformPasted",dt=>{ot=dt(ot,_e,lt)}),ot}const inlineParents=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function normalizeSiblings(_e,et){if(_e.childCount<2)return _e;for(let rt=et.depth;rt>=0;rt--){let st=et.node(rt).contentMatchAt(et.index(rt)),it,at=[];if(_e.forEach(ot=>{if(!at)return;let lt=st.findWrapping(ot.type),ct;if(!lt)return at=null;if(ct=at.length&&it.length&&addToSibling(lt,it,ot,at[at.length-1],0))at[at.length-1]=ct;else{at.length&&(at[at.length-1]=closeRight(at[at.length-1],it.length));let ut=withWrappers(ot,lt);at.push(ut),st=st.matchType(ut.type),it=lt}}),at)return Fragment.from(at)}return _e}function withWrappers(_e,et,rt=0){for(let nt=et.length-1;nt>=rt;nt--)_e=et[nt].create(null,Fragment.from(_e));return _e}function addToSibling(_e,et,rt,nt,st){if(st<_e.length&&st<et.length&&_e[st]==et[st]){let it=addToSibling(_e,et,rt,nt.lastChild,st+1);if(it)return nt.copy(nt.content.replaceChild(nt.childCount-1,it));if(nt.contentMatchAt(nt.childCount).matchType(st==_e.length-1?rt.type:_e[st+1]))return nt.copy(nt.content.append(Fragment.from(withWrappers(rt,_e,st+1))))}}function closeRight(_e,et){if(et==0)return _e;let rt=_e.content.replaceChild(_e.childCount-1,closeRight(_e.lastChild,et-1)),nt=_e.contentMatchAt(_e.childCount).fillBefore(Fragment.empty,!0);return _e.copy(rt.append(nt))}function closeRange(_e,et,rt,nt,st,it){let at=et<0?_e.firstChild:_e.lastChild,ot=at.content;return _e.childCount>1&&(it=0),st<nt-1&&(ot=closeRange(ot,et,rt,nt,st+1,it)),st>=rt&&(ot=et<0?at.contentMatchAt(0).fillBefore(ot,it<=st).append(ot):ot.append(at.contentMatchAt(at.childCount).fillBefore(Fragment.empty,!0))),_e.replaceChild(et<0?0:_e.childCount-1,at.copy(ot))}function closeSlice(_e,et,rt){return et<_e.openStart&&(_e=new Slice(closeRange(_e.content,-1,et,_e.openStart,0,_e.openEnd),et,_e.openEnd)),rt<_e.openEnd&&(_e=new Slice(closeRange(_e.content,1,rt,_e.openEnd,0,0),_e.openStart,rt)),_e}const wrapMap={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let _detachedDoc=null;function detachedDoc(){return _detachedDoc||(_detachedDoc=document.implementation.createHTMLDocument("title"))}let _policy=null;function maybeWrapTrusted(_e){let et=window.trustedTypes;return et?(_policy||(_policy=et.defaultPolicy||et.createPolicy("ProseMirrorClipboard",{createHTML:rt=>rt})),_policy.createHTML(_e)):_e}function readHTML(_e){let et=/^(\s*<meta [^>]*>)*/.exec(_e);et&&(_e=_e.slice(et[0].length));let rt=detachedDoc().createElement("div"),nt=/<([a-z][^>\s]+)/i.exec(_e),st;if((st=nt&&wrapMap[nt[1].toLowerCase()])&&(_e=st.map(it=>"<"+it+">").join("")+_e+st.map(it=>"</"+it+">").reverse().join("")),rt.innerHTML=maybeWrapTrusted(_e),st)for(let it=0;it<st.length;it++)rt=rt.querySelector(st[it])||rt;return rt}function restoreReplacedSpaces(_e){let et=_e.querySelectorAll(chrome?"span:not([class]):not([style])":"span.Apple-converted-space");for(let rt=0;rt<et.length;rt++){let nt=et[rt];nt.childNodes.length==1&&nt.textContent==""&&nt.parentNode&&nt.parentNode.replaceChild(_e.ownerDocument.createTextNode(" "),nt)}}function addContext(_e,et){if(!_e.size)return _e;let rt=_e.content.firstChild.type.schema,nt;try{nt=JSON.parse(et)}catch{return _e}let{content:st,openStart:it,openEnd:at}=_e;for(let ot=nt.length-2;ot>=0;ot-=2){let lt=rt.nodes[nt[ot]];if(!lt||lt.hasRequiredAttrs())break;st=Fragment.from(lt.create(nt[ot+1],st)),it++,at++}return new Slice(st,it,at)}const handlers={},editHandlers={},passiveHandlers={touchstart:!0,touchmove:!0};class InputState{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.badSafariComposition=!1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function initInput(_e){for(let et in handlers){let rt=handlers[et];_e.dom.addEventListener(et,_e.input.eventHandlers[et]=nt=>{eventBelongsToView(_e,nt)&&!runCustomHandler(_e,nt)&&(_e.editable||!(nt.type in editHandlers))&&rt(_e,nt)},passiveHandlers[et]?{passive:!0}:void 0)}safari&&_e.dom.addEventListener("input",()=>null),ensureListeners(_e)}function setSelectionOrigin(_e,et){_e.input.lastSelectionOrigin=et,_e.input.lastSelectionTime=Date.now()}function destroyInput(_e){_e.domObserver.stop();for(let et in _e.input.eventHandlers)_e.dom.removeEventListener(et,_e.input.eventHandlers[et]);clearTimeout(_e.input.composingTimeout),clearTimeout(_e.input.lastIOSEnterFallbackTimeout)}function ensureListeners(_e){_e.someProp("handleDOMEvents",et=>{for(let rt in et)_e.input.eventHandlers[rt]||_e.dom.addEventListener(rt,_e.input.eventHandlers[rt]=nt=>runCustomHandler(_e,nt))})}function runCustomHandler(_e,et){return _e.someProp("handleDOMEvents",rt=>{let nt=rt[et.type];return nt?nt(_e,et)||et.defaultPrevented:!1})}function eventBelongsToView(_e,et){if(!et.bubbles)return!0;if(et.defaultPrevented)return!1;for(let rt=et.target;rt!=_e.dom;rt=rt.parentNode)if(!rt||rt.nodeType==11||rt.pmViewDesc&&rt.pmViewDesc.stopEvent(et))return!1;return!0}function dispatchEvent(_e,et){!runCustomHandler(_e,et)&&handlers[et.type]&&(_e.editable||!(et.type in editHandlers))&&handlers[et.type](_e,et)}editHandlers.keydown=(_e,et)=>{let rt=et;if(_e.input.shiftKey=rt.keyCode==16||rt.shiftKey,!inOrNearComposition(_e,rt)&&(_e.input.lastKeyCode=rt.keyCode,_e.input.lastKeyCodeTime=Date.now(),!(android&&chrome&&rt.keyCode==13)))if(rt.keyCode!=229&&_e.domObserver.forceFlush(),ios&&rt.keyCode==13&&!rt.ctrlKey&&!rt.altKey&&!rt.metaKey){let nt=Date.now();_e.input.lastIOSEnter=nt,_e.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{_e.input.lastIOSEnter==nt&&(_e.someProp("handleKeyDown",st=>st(_e,keyEvent(13,"Enter"))),_e.input.lastIOSEnter=0)},200)}else _e.someProp("handleKeyDown",nt=>nt(_e,rt))||captureKeyDown(_e,rt)?rt.preventDefault():setSelectionOrigin(_e,"key")};editHandlers.keyup=(_e,et)=>{et.keyCode==16&&(_e.input.shiftKey=!1)};editHandlers.keypress=(_e,et)=>{let rt=et;if(inOrNearComposition(_e,rt)||!rt.charCode||rt.ctrlKey&&!rt.altKey||mac$2&&rt.metaKey)return;if(_e.someProp("handleKeyPress",st=>st(_e,rt))){rt.preventDefault();return}let nt=_e.state.selection;if(!(nt instanceof TextSelection)||!nt.$from.sameParent(nt.$to)){let st=String.fromCharCode(rt.charCode),it=()=>_e.state.tr.insertText(st).scrollIntoView();!/[\r\n]/.test(st)&&!_e.someProp("handleTextInput",at=>at(_e,nt.$from.pos,nt.$to.pos,st,it))&&_e.dispatch(it()),rt.preventDefault()}};function eventCoords(_e){return{left:_e.clientX,top:_e.clientY}}function isNear(_e,et){let rt=et.x-_e.clientX,nt=et.y-_e.clientY;return rt*rt+nt*nt<100}function runHandlerOnContext(_e,et,rt,nt,st){if(nt==-1)return!1;let it=_e.state.doc.resolve(nt);for(let at=it.depth+1;at>0;at--)if(_e.someProp(et,ot=>at>it.depth?ot(_e,rt,it.nodeAfter,it.before(at),st,!0):ot(_e,rt,it.node(at),it.before(at),st,!1)))return!0;return!1}function updateSelection(_e,et,rt){if(_e.focused||_e.focus(),_e.state.selection.eq(et))return;let nt=_e.state.tr.setSelection(et);nt.setMeta("pointer",!0),_e.dispatch(nt)}function selectClickedLeaf(_e,et){if(et==-1)return!1;let rt=_e.state.doc.resolve(et),nt=rt.nodeAfter;return nt&&nt.isAtom&&NodeSelection.isSelectable(nt)?(updateSelection(_e,new NodeSelection(rt)),!0):!1}function selectClickedNode(_e,et){if(et==-1)return!1;let rt=_e.state.selection,nt,st;rt instanceof NodeSelection&&(nt=rt.node);let it=_e.state.doc.resolve(et);for(let at=it.depth+1;at>0;at--){let ot=at>it.depth?it.nodeAfter:it.node(at);if(NodeSelection.isSelectable(ot)){nt&&rt.$from.depth>0&&at>=rt.$from.depth&&it.before(rt.$from.depth+1)==rt.$from.pos?st=it.before(rt.$from.depth):st=it.before(at);break}}return st!=null?(updateSelection(_e,NodeSelection.create(_e.state.doc,st)),!0):!1}function handleSingleClick(_e,et,rt,nt,st){return runHandlerOnContext(_e,"handleClickOn",et,rt,nt)||_e.someProp("handleClick",it=>it(_e,et,nt))||(st?selectClickedNode(_e,rt):selectClickedLeaf(_e,rt))}function handleDoubleClick(_e,et,rt,nt){return runHandlerOnContext(_e,"handleDoubleClickOn",et,rt,nt)||_e.someProp("handleDoubleClick",st=>st(_e,et,nt))}function handleTripleClick(_e,et,rt,nt){return runHandlerOnContext(_e,"handleTripleClickOn",et,rt,nt)||_e.someProp("handleTripleClick",st=>st(_e,et,nt))||defaultTripleClick(_e,rt,nt)}function defaultTripleClick(_e,et,rt){if(rt.button!=0)return!1;let nt=_e.state.doc;if(et==-1)return nt.inlineContent?(updateSelection(_e,TextSelection.create(nt,0,nt.content.size)),!0):!1;let st=nt.resolve(et);for(let it=st.depth+1;it>0;it--){let at=it>st.depth?st.nodeAfter:st.node(it),ot=st.before(it);if(at.inlineContent)updateSelection(_e,TextSelection.create(nt,ot+1,ot+1+at.content.size));else if(NodeSelection.isSelectable(at))updateSelection(_e,NodeSelection.create(nt,ot));else continue;return!0}}function forceDOMFlush(_e){return endComposition(_e)}const selectNodeModifier=mac$2?"metaKey":"ctrlKey";handlers.mousedown=(_e,et)=>{let rt=et;_e.input.shiftKey=rt.shiftKey;let nt=forceDOMFlush(_e),st=Date.now(),it="singleClick";st-_e.input.lastClick.time<500&&isNear(rt,_e.input.lastClick)&&!rt[selectNodeModifier]&&_e.input.lastClick.button==rt.button&&(_e.input.lastClick.type=="singleClick"?it="doubleClick":_e.input.lastClick.type=="doubleClick"&&(it="tripleClick")),_e.input.lastClick={time:st,x:rt.clientX,y:rt.clientY,type:it,button:rt.button};let at=_e.posAtCoords(eventCoords(rt));at&&(it=="singleClick"?(_e.input.mouseDown&&_e.input.mouseDown.done(),_e.input.mouseDown=new MouseDown(_e,at,rt,!!nt)):(it=="doubleClick"?handleDoubleClick:handleTripleClick)(_e,at.pos,at.inside,rt)?rt.preventDefault():setSelectionOrigin(_e,"pointer"))};class MouseDown{constructor(et,rt,nt,st){this.view=et,this.pos=rt,this.event=nt,this.flushed=st,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=et.state.doc,this.selectNode=!!nt[selectNodeModifier],this.allowDefault=nt.shiftKey;let it,at;if(rt.inside>-1)it=et.state.doc.nodeAt(rt.inside),at=rt.inside;else{let ut=et.state.doc.resolve(rt.pos);it=ut.parent,at=ut.depth?ut.before():0}const ot=st?null:nt.target,lt=ot?et.docView.nearestDesc(ot,!0):null;this.target=lt&&lt.nodeDOM.nodeType==1?lt.nodeDOM:null;let{selection:ct}=et.state;(nt.button==0&&it.type.spec.draggable&&it.type.spec.selectable!==!1||ct instanceof NodeSelection&&ct.from<=at&&ct.to>at)&&(this.mightDrag={node:it,pos:at,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&gecko&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),et.root.addEventListener("mouseup",this.up=this.up.bind(this)),et.root.addEventListener("mousemove",this.move=this.move.bind(this)),setSelectionOrigin(et,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>selectionToDOM(this.view)),this.view.input.mouseDown=null}up(et){if(this.done(),!this.view.dom.contains(et.target))return;let rt=this.pos;this.view.state.doc!=this.startDoc&&(rt=this.view.posAtCoords(eventCoords(et))),this.updateAllowDefault(et),this.allowDefault||!rt?setSelectionOrigin(this.view,"pointer"):handleSingleClick(this.view,rt.pos,rt.inside,et,this.selectNode)?et.preventDefault():et.button==0&&(this.flushed||safari&&this.mightDrag&&!this.mightDrag.node.isAtom||chrome&&!this.view.state.selection.visible&&Math.min(Math.abs(rt.pos-this.view.state.selection.from),Math.abs(rt.pos-this.view.state.selection.to))<=2)?(updateSelection(this.view,Selection.near(this.view.state.doc.resolve(rt.pos))),et.preventDefault()):setSelectionOrigin(this.view,"pointer")}move(et){this.updateAllowDefault(et),setSelectionOrigin(this.view,"pointer"),et.buttons==0&&this.done()}updateAllowDefault(et){!this.allowDefault&&(Math.abs(this.event.x-et.clientX)>4||Math.abs(this.event.y-et.clientY)>4)&&(this.allowDefault=!0)}}handlers.touchstart=_e=>{_e.input.lastTouch=Date.now(),forceDOMFlush(_e),setSelectionOrigin(_e,"pointer")};handlers.touchmove=_e=>{_e.input.lastTouch=Date.now(),setSelectionOrigin(_e,"pointer")};handlers.contextmenu=_e=>forceDOMFlush(_e);function inOrNearComposition(_e,et){return _e.composing?!0:safari&&Math.abs(et.timeStamp-_e.input.compositionEndedAt)<500?(_e.input.compositionEndedAt=-2e8,!0):!1}const timeoutComposition=android?5e3:-1;editHandlers.compositionstart=editHandlers.compositionupdate=_e=>{if(!_e.composing){_e.domObserver.flush();let{state:et}=_e,rt=et.selection.$to;if(et.selection instanceof TextSelection&&(et.storedMarks||!rt.textOffset&&rt.parentOffset&&rt.nodeBefore.marks.some(nt=>nt.type.spec.inclusive===!1)||chrome&&windows$1&&selectionBeforeUneditable(_e)))_e.markCursor=_e.state.storedMarks||rt.marks(),endComposition(_e,!0),_e.markCursor=null;else if(endComposition(_e,!et.selection.empty),gecko&&et.selection.empty&&rt.parentOffset&&!rt.textOffset&&rt.nodeBefore.marks.length){let nt=_e.domSelectionRange();for(let st=nt.focusNode,it=nt.focusOffset;st&&st.nodeType==1&&it!=0;){let at=it<0?st.lastChild:st.childNodes[it-1];if(!at)break;if(at.nodeType==3){let ot=_e.domSelection();ot&&ot.collapse(at,at.nodeValue.length);break}else st=at,it=-1}}_e.input.composing=!0}scheduleComposeEnd(_e,timeoutComposition)};function selectionBeforeUneditable(_e){let{focusNode:et,focusOffset:rt}=_e.domSelectionRange();if(!et||et.nodeType!=1||rt>=et.childNodes.length)return!1;let nt=et.childNodes[rt];return nt.nodeType==1&&nt.contentEditable=="false"}editHandlers.compositionend=(_e,et)=>{_e.composing&&(_e.input.composing=!1,_e.input.compositionEndedAt=et.timeStamp,_e.input.compositionPendingChanges=_e.domObserver.pendingRecords().length?_e.input.compositionID:0,_e.input.compositionNode=null,_e.input.badSafariComposition?_e.domObserver.forceFlush():_e.input.compositionPendingChanges&&Promise.resolve().then(()=>_e.domObserver.flush()),_e.input.compositionID++,scheduleComposeEnd(_e,20))};function scheduleComposeEnd(_e,et){clearTimeout(_e.input.composingTimeout),et>-1&&(_e.input.composingTimeout=setTimeout(()=>endComposition(_e),et))}function clearComposition(_e){for(_e.composing&&(_e.input.composing=!1,_e.input.compositionEndedAt=timestampFromCustomEvent());_e.input.compositionNodes.length>0;)_e.input.compositionNodes.pop().markParentsDirty()}function findCompositionNode(_e){let et=_e.domSelectionRange();if(!et.focusNode)return null;let rt=textNodeBefore$1(et.focusNode,et.focusOffset),nt=textNodeAfter$1(et.focusNode,et.focusOffset);if(rt&&nt&&rt!=nt){let st=nt.pmViewDesc,it=_e.domObserver.lastChangedTextNode;if(rt==it||nt==it)return it;if(!st||!st.isText(nt.nodeValue))return nt;if(_e.input.compositionNode==nt){let at=rt.pmViewDesc;if(!(!at||!at.isText(rt.nodeValue)))return nt}}return rt||nt}function timestampFromCustomEvent(){let _e=document.createEvent("Event");return _e.initEvent("event",!0,!0),_e.timeStamp}function endComposition(_e,et=!1){if(!(android&&_e.domObserver.flushingSoon>=0)){if(_e.domObserver.forceFlush(),clearComposition(_e),et||_e.docView&&_e.docView.dirty){let rt=selectionFromDOM(_e),nt=_e.state.selection;return rt&&!rt.eq(nt)?_e.dispatch(_e.state.tr.setSelection(rt)):(_e.markCursor||et)&&!nt.$from.node(nt.$from.sharedDepth(nt.to)).inlineContent?_e.dispatch(_e.state.tr.deleteSelection()):_e.updateState(_e.state),!0}return!1}}function captureCopy(_e,et){if(!_e.dom.parentNode)return;let rt=_e.dom.parentNode.appendChild(document.createElement("div"));rt.appendChild(et),rt.style.cssText="position: fixed; left: -10000px; top: 10px";let nt=getSelection(),st=document.createRange();st.selectNodeContents(et),_e.dom.blur(),nt.removeAllRanges(),nt.addRange(st),setTimeout(()=>{rt.parentNode&&rt.parentNode.removeChild(rt),_e.focus()},50)}const brokenClipboardAPI=ie$1&&ie_version<15||ios&&webkit_version<604;handlers.copy=editHandlers.cut=(_e,et)=>{let rt=et,nt=_e.state.selection,st=rt.type=="cut";if(nt.empty)return;let it=brokenClipboardAPI?null:rt.clipboardData,at=nt.content(),{dom:ot,text:lt}=serializeForClipboard(_e,at);it?(rt.preventDefault(),it.clearData(),it.setData("text/html",ot.innerHTML),it.setData("text/plain",lt)):captureCopy(_e,ot),st&&_e.dispatch(_e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function sliceSingleNode(_e){return _e.openStart==0&&_e.openEnd==0&&_e.content.childCount==1?_e.content.firstChild:null}function capturePaste(_e,et){if(!_e.dom.parentNode)return;let rt=_e.input.shiftKey||_e.state.selection.$from.parent.type.spec.code,nt=_e.dom.parentNode.appendChild(document.createElement(rt?"textarea":"div"));rt||(nt.contentEditable="true"),nt.style.cssText="position: fixed; left: -10000px; top: 10px",nt.focus();let st=_e.input.shiftKey&&_e.input.lastKeyCode!=45;setTimeout(()=>{_e.focus(),nt.parentNode&&nt.parentNode.removeChild(nt),rt?doPaste(_e,nt.value,null,st,et):doPaste(_e,nt.textContent,nt.innerHTML,st,et)},50)}function doPaste(_e,et,rt,nt,st){let it=parseFromClipboard(_e,et,rt,nt,_e.state.selection.$from);if(_e.someProp("handlePaste",lt=>lt(_e,st,it||Slice.empty)))return!0;if(!it)return!1;let at=sliceSingleNode(it),ot=at?_e.state.tr.replaceSelectionWith(at,nt):_e.state.tr.replaceSelection(it);return _e.dispatch(ot.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function getText$1(_e){let et=_e.getData("text/plain")||_e.getData("Text");if(et)return et;let rt=_e.getData("text/uri-list");return rt?rt.replace(/\r?\n/g," "):""}editHandlers.paste=(_e,et)=>{let rt=et;if(_e.composing&&!android)return;let nt=brokenClipboardAPI?null:rt.clipboardData,st=_e.input.shiftKey&&_e.input.lastKeyCode!=45;nt&&doPaste(_e,getText$1(nt),nt.getData("text/html"),st,rt)?rt.preventDefault():capturePaste(_e,rt)};class Dragging{constructor(et,rt,nt){this.slice=et,this.move=rt,this.node=nt}}const dragCopyModifier=mac$2?"altKey":"ctrlKey";function dragMoves(_e,et){let rt=_e.someProp("dragCopies",nt=>!nt(et));return rt??!et[dragCopyModifier]}handlers.dragstart=(_e,et)=>{let rt=et,nt=_e.input.mouseDown;if(nt&&nt.done(),!rt.dataTransfer)return;let st=_e.state.selection,it=st.empty?null:_e.posAtCoords(eventCoords(rt)),at;if(!(it&&it.pos>=st.from&&it.pos<=(st instanceof NodeSelection?st.to-1:st.to))){if(nt&&nt.mightDrag)at=NodeSelection.create(_e.state.doc,nt.mightDrag.pos);else if(rt.target&&rt.target.nodeType==1){let dt=_e.docView.nearestDesc(rt.target,!0);dt&&dt.node.type.spec.draggable&&dt!=_e.docView&&(at=NodeSelection.create(_e.state.doc,dt.posBefore))}}let ot=(at||_e.state.selection).content(),{dom:lt,text:ct,slice:ut}=serializeForClipboard(_e,ot);(!rt.dataTransfer.files.length||!chrome||chrome_version>120)&&rt.dataTransfer.clearData(),rt.dataTransfer.setData(brokenClipboardAPI?"Text":"text/html",lt.innerHTML),rt.dataTransfer.effectAllowed="copyMove",brokenClipboardAPI||rt.dataTransfer.setData("text/plain",ct),_e.dragging=new Dragging(ut,dragMoves(_e,rt),at)};handlers.dragend=_e=>{let et=_e.dragging;window.setTimeout(()=>{_e.dragging==et&&(_e.dragging=null)},50)};editHandlers.dragover=editHandlers.dragenter=(_e,et)=>et.preventDefault();editHandlers.drop=(_e,et)=>{try{handleDrop(_e,et,_e.dragging)}finally{_e.dragging=null}};function handleDrop(_e,et,rt){if(!et.dataTransfer)return;let nt=_e.posAtCoords(eventCoords(et));if(!nt)return;let st=_e.state.doc.resolve(nt.pos),it=rt&&rt.slice;it?_e.someProp("transformPasted",mt=>{it=mt(it,_e,!1)}):it=parseFromClipboard(_e,getText$1(et.dataTransfer),brokenClipboardAPI?null:et.dataTransfer.getData("text/html"),!1,st);let at=!!(rt&&dragMoves(_e,et));if(_e.someProp("handleDrop",mt=>mt(_e,et,it||Slice.empty,at))){et.preventDefault();return}if(!it)return;et.preventDefault();let ot=it?dropPoint(_e.state.doc,st.pos,it):st.pos;ot==null&&(ot=st.pos);let lt=_e.state.tr;if(at){let{node:mt}=rt;mt?mt.replace(lt):lt.deleteSelection()}let ct=lt.mapping.map(ot),ut=it.openStart==0&&it.openEnd==0&&it.content.childCount==1,dt=lt.doc;if(ut?lt.replaceRangeWith(ct,ct,it.content.firstChild):lt.replaceRange(ct,ct,it),lt.doc.eq(dt))return;let pt=lt.doc.resolve(ct);if(ut&&NodeSelection.isSelectable(it.content.firstChild)&&pt.nodeAfter&&pt.nodeAfter.sameMarkup(it.content.firstChild))lt.setSelection(new NodeSelection(pt));else{let mt=lt.mapping.map(ot);lt.mapping.maps[lt.mapping.maps.length-1].forEach((xt,yt,vt,gt)=>mt=gt),lt.setSelection(selectionBetween(_e,pt,lt.doc.resolve(mt)))}_e.focus(),_e.dispatch(lt.setMeta("uiEvent","drop"))}handlers.focus=_e=>{_e.input.lastFocus=Date.now(),_e.focused||(_e.domObserver.stop(),_e.dom.classList.add("ProseMirror-focused"),_e.domObserver.start(),_e.focused=!0,setTimeout(()=>{_e.docView&&_e.hasFocus()&&!_e.domObserver.currentSelection.eq(_e.domSelectionRange())&&selectionToDOM(_e)},20))};handlers.blur=(_e,et)=>{let rt=et;_e.focused&&(_e.domObserver.stop(),_e.dom.classList.remove("ProseMirror-focused"),_e.domObserver.start(),rt.relatedTarget&&_e.dom.contains(rt.relatedTarget)&&_e.domObserver.currentSelection.clear(),_e.focused=!1)};handlers.beforeinput=(_e,et)=>{if(chrome&&android&&et.inputType=="deleteContentBackward"){_e.domObserver.flushSoon();let{domChangeCount:nt}=_e.input;setTimeout(()=>{if(_e.input.domChangeCount!=nt||(_e.dom.blur(),_e.focus(),_e.someProp("handleKeyDown",it=>it(_e,keyEvent(8,"Backspace")))))return;let{$cursor:st}=_e.state.selection;st&&st.pos>0&&_e.dispatch(_e.state.tr.delete(st.pos-1,st.pos).scrollIntoView())},50)}};for(let _e in editHandlers)handlers[_e]=editHandlers[_e];function compareObjs(_e,et){if(_e==et)return!0;for(let rt in _e)if(_e[rt]!==et[rt])return!1;for(let rt in et)if(!(rt in _e))return!1;return!0}class WidgetType{constructor(et,rt){this.toDOM=et,this.spec=rt||noSpec,this.side=this.spec.side||0}map(et,rt,nt,st){let{pos:it,deleted:at}=et.mapResult(rt.from+st,this.side<0?-1:1);return at?null:new Decoration(it-nt,it-nt,this)}valid(){return!0}eq(et){return this==et||et instanceof WidgetType&&(this.spec.key&&this.spec.key==et.spec.key||this.toDOM==et.toDOM&&compareObjs(this.spec,et.spec))}destroy(et){this.spec.destroy&&this.spec.destroy(et)}}class InlineType{constructor(et,rt){this.attrs=et,this.spec=rt||noSpec}map(et,rt,nt,st){let it=et.map(rt.from+st,this.spec.inclusiveStart?-1:1)-nt,at=et.map(rt.to+st,this.spec.inclusiveEnd?1:-1)-nt;return it>=at?null:new Decoration(it,at,this)}valid(et,rt){return rt.from<rt.to}eq(et){return this==et||et instanceof InlineType&&compareObjs(this.attrs,et.attrs)&&compareObjs(this.spec,et.spec)}static is(et){return et.type instanceof InlineType}destroy(){}}class NodeType{constructor(et,rt){this.attrs=et,this.spec=rt||noSpec}map(et,rt,nt,st){let it=et.mapResult(rt.from+st,1);if(it.deleted)return null;let at=et.mapResult(rt.to+st,-1);return at.deleted||at.pos<=it.pos?null:new Decoration(it.pos-nt,at.pos-nt,this)}valid(et,rt){let{index:nt,offset:st}=et.content.findIndex(rt.from),it;return st==rt.from&&!(it=et.child(nt)).isText&&st+it.nodeSize==rt.to}eq(et){return this==et||et instanceof NodeType&&compareObjs(this.attrs,et.attrs)&&compareObjs(this.spec,et.spec)}destroy(){}}class Decoration{constructor(et,rt,nt){this.from=et,this.to=rt,this.type=nt}copy(et,rt){return new Decoration(et,rt,this.type)}eq(et,rt=0){return this.type.eq(et.type)&&this.from+rt==et.from&&this.to+rt==et.to}map(et,rt,nt){return this.type.map(et,this,rt,nt)}static widget(et,rt,nt){return new Decoration(et,et,new WidgetType(rt,nt))}static inline(et,rt,nt,st){return new Decoration(et,rt,new InlineType(nt,st))}static node(et,rt,nt,st){return new Decoration(et,rt,new NodeType(nt,st))}get spec(){return this.type.spec}get inline(){return this.type instanceof InlineType}get widget(){return this.type instanceof WidgetType}}const none=[],noSpec={};class DecorationSet{constructor(et,rt){this.local=et.length?et:none,this.children=rt.length?rt:none}static create(et,rt){return rt.length?buildTree(rt,et,0,noSpec):empty}find(et,rt,nt){let st=[];return this.findInner(et??0,rt??1e9,st,0,nt),st}findInner(et,rt,nt,st,it){for(let at=0;at<this.local.length;at++){let ot=this.local[at];ot.from<=rt&&ot.to>=et&&(!it||it(ot.spec))&&nt.push(ot.copy(ot.from+st,ot.to+st))}for(let at=0;at<this.children.length;at+=3)if(this.children[at]<rt&&this.children[at+1]>et){let ot=this.children[at]+1;this.children[at+2].findInner(et-ot,rt-ot,nt,st+ot,it)}}map(et,rt,nt){return this==empty||et.maps.length==0?this:this.mapInner(et,rt,0,0,nt||noSpec)}mapInner(et,rt,nt,st,it){let at;for(let ot=0;ot<this.local.length;ot++){let lt=this.local[ot].map(et,nt,st);lt&&lt.type.valid(rt,lt)?(at||(at=[])).push(lt):it.onRemove&&it.onRemove(this.local[ot].spec)}return this.children.length?mapChildren(this.children,at||[],et,rt,nt,st,it):at?new DecorationSet(at.sort(byPos),none):empty}add(et,rt){return rt.length?this==empty?DecorationSet.create(et,rt):this.addInner(et,rt,0):this}addInner(et,rt,nt){let st,it=0;et.forEach((ot,lt)=>{let ct=lt+nt,ut;if(ut=takeSpansForNode(rt,ot,ct)){for(st||(st=this.children.slice());it<st.length&&st[it]<lt;)it+=3;st[it]==lt?st[it+2]=st[it+2].addInner(ot,ut,ct+1):st.splice(it,0,lt,lt+ot.nodeSize,buildTree(ut,ot,ct+1,noSpec)),it+=3}});let at=moveSpans(it?withoutNulls(rt):rt,-nt);for(let ot=0;ot<at.length;ot++)at[ot].type.valid(et,at[ot])||at.splice(ot--,1);return new DecorationSet(at.length?this.local.concat(at).sort(byPos):this.local,st||this.children)}remove(et){return et.length==0||this==empty?this:this.removeInner(et,0)}removeInner(et,rt){let nt=this.children,st=this.local;for(let it=0;it<nt.length;it+=3){let at,ot=nt[it]+rt,lt=nt[it+1]+rt;for(let ut=0,dt;ut<et.length;ut++)(dt=et[ut])&&dt.from>ot&&dt.to<lt&&(et[ut]=null,(at||(at=[])).push(dt));if(!at)continue;nt==this.children&&(nt=this.children.slice());let ct=nt[it+2].removeInner(at,ot+1);ct!=empty?nt[it+2]=ct:(nt.splice(it,3),it-=3)}if(st.length){for(let it=0,at;it<et.length;it++)if(at=et[it])for(let ot=0;ot<st.length;ot++)st[ot].eq(at,rt)&&(st==this.local&&(st=this.local.slice()),st.splice(ot--,1))}return nt==this.children&&st==this.local?this:st.length||nt.length?new DecorationSet(st,nt):empty}forChild(et,rt){if(this==empty)return this;if(rt.isLeaf)return DecorationSet.empty;let nt,st;for(let ot=0;ot<this.children.length;ot+=3)if(this.children[ot]>=et){this.children[ot]==et&&(nt=this.children[ot+2]);break}let it=et+1,at=it+rt.content.size;for(let ot=0;ot<this.local.length;ot++){let lt=this.local[ot];if(lt.from<at&&lt.to>it&&lt.type instanceof InlineType){let ct=Math.max(it,lt.from)-it,ut=Math.min(at,lt.to)-it;ct<ut&&(st||(st=[])).push(lt.copy(ct,ut))}}if(st){let ot=new DecorationSet(st.sort(byPos),none);return nt?new DecorationGroup([ot,nt]):ot}return nt||empty}eq(et){if(this==et)return!0;if(!(et instanceof DecorationSet)||this.local.length!=et.local.length||this.children.length!=et.children.length)return!1;for(let rt=0;rt<this.local.length;rt++)if(!this.local[rt].eq(et.local[rt]))return!1;for(let rt=0;rt<this.children.length;rt+=3)if(this.children[rt]!=et.children[rt]||this.children[rt+1]!=et.children[rt+1]||!this.children[rt+2].eq(et.children[rt+2]))return!1;return!0}locals(et){return removeOverlap(this.localsInner(et))}localsInner(et){if(this==empty)return none;if(et.inlineContent||!this.local.some(InlineType.is))return this.local;let rt=[];for(let nt=0;nt<this.local.length;nt++)this.local[nt].type instanceof InlineType||rt.push(this.local[nt]);return rt}forEachSet(et){et(this)}}DecorationSet.empty=new DecorationSet([],[]);DecorationSet.removeOverlap=removeOverlap;const empty=DecorationSet.empty;class DecorationGroup{constructor(et){this.members=et}map(et,rt){const nt=this.members.map(st=>st.map(et,rt,noSpec));return DecorationGroup.from(nt)}forChild(et,rt){if(rt.isLeaf)return DecorationSet.empty;let nt=[];for(let st=0;st<this.members.length;st++){let it=this.members[st].forChild(et,rt);it!=empty&&(it instanceof DecorationGroup?nt=nt.concat(it.members):nt.push(it))}return DecorationGroup.from(nt)}eq(et){if(!(et instanceof DecorationGroup)||et.members.length!=this.members.length)return!1;for(let rt=0;rt<this.members.length;rt++)if(!this.members[rt].eq(et.members[rt]))return!1;return!0}locals(et){let rt,nt=!0;for(let st=0;st<this.members.length;st++){let it=this.members[st].localsInner(et);if(it.length)if(!rt)rt=it;else{nt&&(rt=rt.slice(),nt=!1);for(let at=0;at<it.length;at++)rt.push(it[at])}}return rt?removeOverlap(nt?rt:rt.sort(byPos)):none}static from(et){switch(et.length){case 0:return empty;case 1:return et[0];default:return new DecorationGroup(et.every(rt=>rt instanceof DecorationSet)?et:et.reduce((rt,nt)=>rt.concat(nt instanceof DecorationSet?nt:nt.members),[]))}}forEachSet(et){for(let rt=0;rt<this.members.length;rt++)this.members[rt].forEachSet(et)}}function mapChildren(_e,et,rt,nt,st,it,at){let ot=_e.slice();for(let ct=0,ut=it;ct<rt.maps.length;ct++){let dt=0;rt.maps[ct].forEach((pt,mt,xt,yt)=>{let vt=yt-xt-(mt-pt);for(let gt=0;gt<ot.length;gt+=3){let Et=ot[gt+1];if(Et<0||pt>Et+ut-dt)continue;let jt=ot[gt]+ut-dt;mt>=jt?ot[gt+1]=pt<=jt?-2:-1:pt>=ut&&vt&&(ot[gt]+=vt,ot[gt+1]+=vt)}dt+=vt}),ut=rt.maps[ct].map(ut,-1)}let lt=!1;for(let ct=0;ct<ot.length;ct+=3)if(ot[ct+1]<0){if(ot[ct+1]==-2){lt=!0,ot[ct+1]=-1;continue}let ut=rt.map(_e[ct]+it),dt=ut-st;if(dt<0||dt>=nt.content.size){lt=!0;continue}let pt=rt.map(_e[ct+1]+it,-1),mt=pt-st,{index:xt,offset:yt}=nt.content.findIndex(dt),vt=nt.maybeChild(xt);if(vt&&yt==dt&&yt+vt.nodeSize==mt){let gt=ot[ct+2].mapInner(rt,vt,ut+1,_e[ct]+it+1,at);gt!=empty?(ot[ct]=dt,ot[ct+1]=mt,ot[ct+2]=gt):(ot[ct+1]=-2,lt=!0)}else lt=!0}if(lt){let ct=mapAndGatherRemainingDecorations(ot,_e,et,rt,st,it,at),ut=buildTree(ct,nt,0,at);et=ut.local;for(let dt=0;dt<ot.length;dt+=3)ot[dt+1]<0&&(ot.splice(dt,3),dt-=3);for(let dt=0,pt=0;dt<ut.children.length;dt+=3){let mt=ut.children[dt];for(;pt<ot.length&&ot[pt]<mt;)pt+=3;ot.splice(pt,0,ut.children[dt],ut.children[dt+1],ut.children[dt+2])}}return new DecorationSet(et.sort(byPos),ot)}function moveSpans(_e,et){if(!et||!_e.length)return _e;let rt=[];for(let nt=0;nt<_e.length;nt++){let st=_e[nt];rt.push(new Decoration(st.from+et,st.to+et,st.type))}return rt}function mapAndGatherRemainingDecorations(_e,et,rt,nt,st,it,at){function ot(lt,ct){for(let ut=0;ut<lt.local.length;ut++){let dt=lt.local[ut].map(nt,st,ct);dt?rt.push(dt):at.onRemove&&at.onRemove(lt.local[ut].spec)}for(let ut=0;ut<lt.children.length;ut+=3)ot(lt.children[ut+2],lt.children[ut]+ct+1)}for(let lt=0;lt<_e.length;lt+=3)_e[lt+1]==-1&&ot(_e[lt+2],et[lt]+it+1);return rt}function takeSpansForNode(_e,et,rt){if(et.isLeaf)return null;let nt=rt+et.nodeSize,st=null;for(let it=0,at;it<_e.length;it++)(at=_e[it])&&at.from>rt&&at.to<nt&&((st||(st=[])).push(at),_e[it]=null);return st}function withoutNulls(_e){let et=[];for(let rt=0;rt<_e.length;rt++)_e[rt]!=null&&et.push(_e[rt]);return et}function buildTree(_e,et,rt,nt){let st=[],it=!1;et.forEach((ot,lt)=>{let ct=takeSpansForNode(_e,ot,lt+rt);if(ct){it=!0;let ut=buildTree(ct,ot,rt+lt+1,nt);ut!=empty&&st.push(lt,lt+ot.nodeSize,ut)}});let at=moveSpans(it?withoutNulls(_e):_e,-rt).sort(byPos);for(let ot=0;ot<at.length;ot++)at[ot].type.valid(et,at[ot])||(nt.onRemove&&nt.onRemove(at[ot].spec),at.splice(ot--,1));return at.length||st.length?new DecorationSet(at,st):empty}function byPos(_e,et){return _e.from-et.from||_e.to-et.to}function removeOverlap(_e){let et=_e;for(let rt=0;rt<et.length-1;rt++){let nt=et[rt];if(nt.from!=nt.to)for(let st=rt+1;st<et.length;st++){let it=et[st];if(it.from==nt.from){it.to!=nt.to&&(et==_e&&(et=_e.slice()),et[st]=it.copy(it.from,nt.to),insertAhead(et,st+1,it.copy(nt.to,it.to)));continue}else{it.from<nt.to&&(et==_e&&(et=_e.slice()),et[rt]=nt.copy(nt.from,it.from),insertAhead(et,st,nt.copy(it.from,nt.to)));break}}}return et}function insertAhead(_e,et,rt){for(;et<_e.length&&byPos(rt,_e[et])>0;)et++;_e.splice(et,0,rt)}function viewDecorations(_e){let et=[];return _e.someProp("decorations",rt=>{let nt=rt(_e.state);nt&&nt!=empty&&et.push(nt)}),_e.cursorWrapper&&et.push(DecorationSet.create(_e.state.doc,[_e.cursorWrapper.deco])),DecorationGroup.from(et)}const observeOptions={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},useCharData=ie$1&&ie_version<=11;class SelectionState{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(et){this.anchorNode=et.anchorNode,this.anchorOffset=et.anchorOffset,this.focusNode=et.focusNode,this.focusOffset=et.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(et){return et.anchorNode==this.anchorNode&&et.anchorOffset==this.anchorOffset&&et.focusNode==this.focusNode&&et.focusOffset==this.focusOffset}}class DOMObserver{constructor(et,rt){this.view=et,this.handleDOMChange=rt,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new SelectionState,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(nt=>{for(let st=0;st<nt.length;st++)this.queue.push(nt[st]);ie$1&&ie_version<=11&&nt.some(st=>st.type=="childList"&&st.removedNodes.length||st.type=="characterData"&&st.oldValue.length>st.target.nodeValue.length)?this.flushSoon():safari&&et.composing&&nt.some(st=>st.type=="childList"&&st.target.nodeName=="TR")?(et.input.badSafariComposition=!0,this.flushSoon()):this.flush()}),useCharData&&(this.onCharData=nt=>{this.queue.push({target:nt.target,type:"characterData",oldValue:nt.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,observeOptions)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let et=this.observer.takeRecords();if(et.length){for(let rt=0;rt<et.length;rt++)this.queue.push(et[rt]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(hasFocusAndSelection(this.view)){if(this.suppressingSelectionUpdates)return selectionToDOM(this.view);if(ie$1&&ie_version<=11&&!this.view.state.selection.empty){let et=this.view.domSelectionRange();if(et.focusNode&&isEquivalentPosition(et.focusNode,et.focusOffset,et.anchorNode,et.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(et){if(!et.focusNode)return!0;let rt=new Set,nt;for(let it=et.focusNode;it;it=parentNode(it))rt.add(it);for(let it=et.anchorNode;it;it=parentNode(it))if(rt.has(it)){nt=it;break}let st=nt&&this.view.docView.nearestDesc(nt);if(st&&st.ignoreMutation({type:"selection",target:nt.nodeType==3?nt.parentNode:nt}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let et of this.observer.takeRecords())this.queue.push(et);return this.queue}flush(){let{view:et}=this;if(!et.docView||this.flushingSoon>-1)return;let rt=this.pendingRecords();rt.length&&(this.queue=[]);let nt=et.domSelectionRange(),st=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(nt)&&hasFocusAndSelection(et)&&!this.ignoreSelectionChange(nt),it=-1,at=-1,ot=!1,lt=[];if(et.editable)for(let ut=0;ut<rt.length;ut++){let dt=this.registerMutation(rt[ut],lt);dt&&(it=it<0?dt.from:Math.min(dt.from,it),at=at<0?dt.to:Math.max(dt.to,at),dt.typeOver&&(ot=!0))}if(gecko&&lt.length){let ut=lt.filter(dt=>dt.nodeName=="BR");if(ut.length==2){let[dt,pt]=ut;dt.parentNode&&dt.parentNode.parentNode==pt.parentNode?pt.remove():dt.remove()}else{let{focusNode:dt}=this.currentSelection;for(let pt of ut){let mt=pt.parentNode;mt&&mt.nodeName=="LI"&&(!dt||blockParent(et,dt)!=mt)&&pt.remove()}}}else if((chrome||safari)&&lt.some(ut=>ut.nodeName=="BR")&&(et.input.lastKeyCode==8||et.input.lastKeyCode==46)){for(let ut of lt)if(ut.nodeName=="BR"&&ut.parentNode){let dt=ut.nextSibling;dt&&dt.nodeType==1&&dt.contentEditable=="false"&&ut.parentNode.removeChild(ut)}}let ct=null;it<0&&st&&et.input.lastFocus>Date.now()-200&&Math.max(et.input.lastTouch,et.input.lastClick.time)<Date.now()-300&&selectionCollapsed(nt)&&(ct=selectionFromDOM(et))&&ct.eq(Selection.near(et.state.doc.resolve(0),1))?(et.input.lastFocus=0,selectionToDOM(et),this.currentSelection.set(nt),et.scrollToSelection()):(it>-1||st)&&(it>-1&&(et.docView.markDirty(it,at),checkCSS(et)),et.input.badSafariComposition&&(et.input.badSafariComposition=!1,fixUpBadSafariComposition(et,lt)),this.handleDOMChange(it,at,ot,lt),et.docView&&et.docView.dirty?et.updateState(et.state):this.currentSelection.eq(nt)||selectionToDOM(et),this.currentSelection.set(nt))}registerMutation(et,rt){if(rt.indexOf(et.target)>-1)return null;let nt=this.view.docView.nearestDesc(et.target);if(et.type=="attributes"&&(nt==this.view.docView||et.attributeName=="contenteditable"||et.attributeName=="style"&&!et.oldValue&&!et.target.getAttribute("style"))||!nt||nt.ignoreMutation(et))return null;if(et.type=="childList"){for(let ut=0;ut<et.addedNodes.length;ut++){let dt=et.addedNodes[ut];rt.push(dt),dt.nodeType==3&&(this.lastChangedTextNode=dt)}if(nt.contentDOM&&nt.contentDOM!=nt.dom&&!nt.contentDOM.contains(et.target))return{from:nt.posBefore,to:nt.posAfter};let st=et.previousSibling,it=et.nextSibling;if(ie$1&&ie_version<=11&&et.addedNodes.length)for(let ut=0;ut<et.addedNodes.length;ut++){let{previousSibling:dt,nextSibling:pt}=et.addedNodes[ut];(!dt||Array.prototype.indexOf.call(et.addedNodes,dt)<0)&&(st=dt),(!pt||Array.prototype.indexOf.call(et.addedNodes,pt)<0)&&(it=pt)}let at=st&&st.parentNode==et.target?domIndex(st)+1:0,ot=nt.localPosFromDOM(et.target,at,-1),lt=it&&it.parentNode==et.target?domIndex(it):et.target.childNodes.length,ct=nt.localPosFromDOM(et.target,lt,1);return{from:ot,to:ct}}else return et.type=="attributes"?{from:nt.posAtStart-nt.border,to:nt.posAtEnd+nt.border}:(this.lastChangedTextNode=et.target,{from:nt.posAtStart,to:nt.posAtEnd,typeOver:et.target.nodeValue==et.oldValue})}}let cssChecked=new WeakMap,cssCheckWarned=!1;function checkCSS(_e){if(!cssChecked.has(_e)&&(cssChecked.set(_e,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(_e.dom).whiteSpace)!==-1)){if(_e.requiresGeckoHackNode=gecko,cssCheckWarned)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),cssCheckWarned=!0}}function rangeToSelectionRange(_e,et){let rt=et.startContainer,nt=et.startOffset,st=et.endContainer,it=et.endOffset,at=_e.domAtPos(_e.state.selection.anchor);return isEquivalentPosition(at.node,at.offset,st,it)&&([rt,nt,st,it]=[st,it,rt,nt]),{anchorNode:rt,anchorOffset:nt,focusNode:st,focusOffset:it}}function safariShadowSelectionRange(_e,et){if(et.getComposedRanges){let st=et.getComposedRanges(_e.root)[0];if(st)return rangeToSelectionRange(_e,st)}let rt;function nt(st){st.preventDefault(),st.stopImmediatePropagation(),rt=st.getTargetRanges()[0]}return _e.dom.addEventListener("beforeinput",nt,!0),document.execCommand("indent"),_e.dom.removeEventListener("beforeinput",nt,!0),rt?rangeToSelectionRange(_e,rt):null}function blockParent(_e,et){for(let rt=et.parentNode;rt&&rt!=_e.dom;rt=rt.parentNode){let nt=_e.docView.nearestDesc(rt,!0);if(nt&&nt.node.isBlock)return rt}return null}function fixUpBadSafariComposition(_e,et){var rt;let{focusNode:nt,focusOffset:st}=_e.domSelectionRange();for(let it of et)if(((rt=it.parentNode)===null||rt===void 0?void 0:rt.nodeName)=="TR"){let at=it.nextSibling;for(;at&&at.nodeName!="TD"&&at.nodeName!="TH";)at=at.nextSibling;if(at){let ot=at;for(;;){let lt=ot.firstChild;if(!lt||lt.nodeType!=1||lt.contentEditable=="false"||/^(BR|IMG)$/.test(lt.nodeName))break;ot=lt}ot.insertBefore(it,ot.firstChild),nt==it&&_e.domSelection().collapse(it,st)}else it.parentNode.removeChild(it)}}function parseBetween(_e,et,rt){let{node:nt,fromOffset:st,toOffset:it,from:at,to:ot}=_e.docView.parseRange(et,rt),lt=_e.domSelectionRange(),ct,ut=lt.anchorNode;if(ut&&_e.dom.contains(ut.nodeType==1?ut:ut.parentNode)&&(ct=[{node:ut,offset:lt.anchorOffset}],selectionCollapsed(lt)||ct.push({node:lt.focusNode,offset:lt.focusOffset})),chrome&&_e.input.lastKeyCode===8)for(let vt=it;vt>st;vt--){let gt=nt.childNodes[vt-1],Et=gt.pmViewDesc;if(gt.nodeName=="BR"&&!Et){it=vt;break}if(!Et||Et.size)break}let dt=_e.state.doc,pt=_e.someProp("domParser")||DOMParser.fromSchema(_e.state.schema),mt=dt.resolve(at),xt=null,yt=pt.parse(nt,{topNode:mt.parent,topMatch:mt.parent.contentMatchAt(mt.index()),topOpen:!0,from:st,to:it,preserveWhitespace:mt.parent.type.whitespace=="pre"?"full":!0,findPositions:ct,ruleFromNode,context:mt});if(ct&&ct[0].pos!=null){let vt=ct[0].pos,gt=ct[1]&&ct[1].pos;gt==null&&(gt=vt),xt={anchor:vt+at,head:gt+at}}return{doc:yt,sel:xt,from:at,to:ot}}function ruleFromNode(_e){let et=_e.pmViewDesc;if(et)return et.parseRule();if(_e.nodeName=="BR"&&_e.parentNode){if(safari&&/^(ul|ol)$/i.test(_e.parentNode.nodeName)){let rt=document.createElement("div");return rt.appendChild(document.createElement("li")),{skip:rt}}else if(_e.parentNode.lastChild==_e||safari&&/^(tr|table)$/i.test(_e.parentNode.nodeName))return{ignore:!0}}else if(_e.nodeName=="IMG"&&_e.getAttribute("mark-placeholder"))return{ignore:!0};return null}const isInline=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function readDOMChange(_e,et,rt,nt,st){let it=_e.input.compositionPendingChanges||(_e.composing?_e.input.compositionID:0);if(_e.input.compositionPendingChanges=0,et<0){let _t=_e.input.lastSelectionTime>Date.now()-50?_e.input.lastSelectionOrigin:null,Nt=selectionFromDOM(_e,_t);if(Nt&&!_e.state.selection.eq(Nt)){if(chrome&&android&&_e.input.lastKeyCode===13&&Date.now()-100<_e.input.lastKeyCodeTime&&_e.someProp("handleKeyDown",$t=>$t(_e,keyEvent(13,"Enter"))))return;let Lt=_e.state.tr.setSelection(Nt);_t=="pointer"?Lt.setMeta("pointer",!0):_t=="key"&&Lt.scrollIntoView(),it&&Lt.setMeta("composition",it),_e.dispatch(Lt)}return}let at=_e.state.doc.resolve(et),ot=at.sharedDepth(rt);et=at.before(ot+1),rt=_e.state.doc.resolve(rt).after(ot+1);let lt=_e.state.selection,ct=parseBetween(_e,et,rt),ut=_e.state.doc,dt=ut.slice(ct.from,ct.to),pt,mt;_e.input.lastKeyCode===8&&Date.now()-100<_e.input.lastKeyCodeTime?(pt=_e.state.selection.to,mt="end"):(pt=_e.state.selection.from,mt="start"),_e.input.lastKeyCode=null;let xt=findDiff(dt.content,ct.doc.content,ct.from,pt,mt);if(xt&&_e.input.domChangeCount++,(ios&&_e.input.lastIOSEnter>Date.now()-225||android)&&st.some(_t=>_t.nodeType==1&&!isInline.test(_t.nodeName))&&(!xt||xt.endA>=xt.endB)&&_e.someProp("handleKeyDown",_t=>_t(_e,keyEvent(13,"Enter")))){_e.input.lastIOSEnter=0;return}if(!xt)if(nt&&lt instanceof TextSelection&&!lt.empty&&lt.$head.sameParent(lt.$anchor)&&!_e.composing&&!(ct.sel&&ct.sel.anchor!=ct.sel.head))xt={start:lt.from,endA:lt.to,endB:lt.to};else{if(ct.sel){let _t=resolveSelection(_e,_e.state.doc,ct.sel);if(_t&&!_t.eq(_e.state.selection)){let Nt=_e.state.tr.setSelection(_t);it&&Nt.setMeta("composition",it),_e.dispatch(Nt)}}return}_e.state.selection.from<_e.state.selection.to&&xt.start==xt.endB&&_e.state.selection instanceof TextSelection&&(xt.start>_e.state.selection.from&&xt.start<=_e.state.selection.from+2&&_e.state.selection.from>=ct.from?xt.start=_e.state.selection.from:xt.endA<_e.state.selection.to&&xt.endA>=_e.state.selection.to-2&&_e.state.selection.to<=ct.to&&(xt.endB+=_e.state.selection.to-xt.endA,xt.endA=_e.state.selection.to)),ie$1&&ie_version<=11&&xt.endB==xt.start+1&&xt.endA==xt.start&&xt.start>ct.from&&ct.doc.textBetween(xt.start-ct.from-1,xt.start-ct.from+1)==" "&&(xt.start--,xt.endA--,xt.endB--);let yt=ct.doc.resolveNoCache(xt.start-ct.from),vt=ct.doc.resolveNoCache(xt.endB-ct.from),gt=ut.resolve(xt.start),Et=yt.sameParent(vt)&&yt.parent.inlineContent&&gt.end()>=xt.endA;if((ios&&_e.input.lastIOSEnter>Date.now()-225&&(!Et||st.some(_t=>_t.nodeName=="DIV"||_t.nodeName=="P"))||!Et&&yt.pos<ct.doc.content.size&&(!yt.sameParent(vt)||!yt.parent.inlineContent)&&yt.pos<vt.pos&&!/\S/.test(ct.doc.textBetween(yt.pos,vt.pos,"","")))&&_e.someProp("handleKeyDown",_t=>_t(_e,keyEvent(13,"Enter")))){_e.input.lastIOSEnter=0;return}if(_e.state.selection.anchor>xt.start&&looksLikeBackspace(ut,xt.start,xt.endA,yt,vt)&&_e.someProp("handleKeyDown",_t=>_t(_e,keyEvent(8,"Backspace")))){android&&chrome&&_e.domObserver.suppressSelectionUpdates();return}chrome&&xt.endB==xt.start&&(_e.input.lastChromeDelete=Date.now()),android&&!Et&&yt.start()!=vt.start()&&vt.parentOffset==0&&yt.depth==vt.depth&&ct.sel&&ct.sel.anchor==ct.sel.head&&ct.sel.head==xt.endA&&(xt.endB-=2,vt=ct.doc.resolveNoCache(xt.endB-ct.from),setTimeout(()=>{_e.someProp("handleKeyDown",function(_t){return _t(_e,keyEvent(13,"Enter"))})},20));let jt=xt.start,kt=xt.endA,Rt=_t=>{let Nt=_t||_e.state.tr.replace(jt,kt,ct.doc.slice(xt.start-ct.from,xt.endB-ct.from));if(ct.sel){let Lt=resolveSelection(_e,Nt.doc,ct.sel);Lt&&!(chrome&&_e.composing&&Lt.empty&&(xt.start!=xt.endB||_e.input.lastChromeDelete<Date.now()-100)&&(Lt.head==jt||Lt.head==Nt.mapping.map(kt)-1)||ie$1&&Lt.empty&&Lt.head==jt)&&Nt.setSelection(Lt)}return it&&Nt.setMeta("composition",it),Nt.scrollIntoView()},St;if(Et)if(yt.pos==vt.pos){ie$1&&ie_version<=11&&yt.parentOffset==0&&(_e.domObserver.suppressSelectionUpdates(),setTimeout(()=>selectionToDOM(_e),20));let _t=Rt(_e.state.tr.delete(jt,kt)),Nt=ut.resolve(xt.start).marksAcross(ut.resolve(xt.endA));Nt&&_t.ensureMarks(Nt),_e.dispatch(_t)}else if(xt.endA==xt.endB&&(St=isMarkChange(yt.parent.content.cut(yt.parentOffset,vt.parentOffset),gt.parent.content.cut(gt.parentOffset,xt.endA-gt.start())))){let _t=Rt(_e.state.tr);St.type=="add"?_t.addMark(jt,kt,St.mark):_t.removeMark(jt,kt,St.mark),_e.dispatch(_t)}else if(yt.parent.child(yt.index()).isText&&yt.index()==vt.index()-(vt.textOffset?0:1)){let _t=yt.parent.textBetween(yt.parentOffset,vt.parentOffset),Nt=()=>Rt(_e.state.tr.insertText(_t,jt,kt));_e.someProp("handleTextInput",Lt=>Lt(_e,jt,kt,_t,Nt))||_e.dispatch(Nt())}else _e.dispatch(Rt());else _e.dispatch(Rt())}function resolveSelection(_e,et,rt){return Math.max(rt.anchor,rt.head)>et.content.size?null:selectionBetween(_e,et.resolve(rt.anchor),et.resolve(rt.head))}function isMarkChange(_e,et){let rt=_e.firstChild.marks,nt=et.firstChild.marks,st=rt,it=nt,at,ot,lt;for(let ut=0;ut<nt.length;ut++)st=nt[ut].removeFromSet(st);for(let ut=0;ut<rt.length;ut++)it=rt[ut].removeFromSet(it);if(st.length==1&&it.length==0)ot=st[0],at="add",lt=ut=>ut.mark(ot.addToSet(ut.marks));else if(st.length==0&&it.length==1)ot=it[0],at="remove",lt=ut=>ut.mark(ot.removeFromSet(ut.marks));else return null;let ct=[];for(let ut=0;ut<et.childCount;ut++)ct.push(lt(et.child(ut)));if(Fragment.from(ct).eq(_e))return{mark:ot,type:at}}function looksLikeBackspace(_e,et,rt,nt,st){if(rt-et<=st.pos-nt.pos||skipClosingAndOpening(nt,!0,!1)<st.pos)return!1;let it=_e.resolve(et);if(!nt.parent.isTextblock){let ot=it.nodeAfter;return ot!=null&&rt==et+ot.nodeSize}if(it.parentOffset<it.parent.content.size||!it.parent.isTextblock)return!1;let at=_e.resolve(skipClosingAndOpening(it,!0,!0));return!at.parent.isTextblock||at.pos>rt||skipClosingAndOpening(at,!0,!1)<rt?!1:nt.parent.content.cut(nt.parentOffset).eq(at.parent.content)}function skipClosingAndOpening(_e,et,rt){let nt=_e.depth,st=et?_e.end():_e.pos;for(;nt>0&&(et||_e.indexAfter(nt)==_e.node(nt).childCount);)nt--,st++,et=!1;if(rt){let it=_e.node(nt).maybeChild(_e.indexAfter(nt));for(;it&&!it.isLeaf;)it=it.firstChild,st++}return st}function findDiff(_e,et,rt,nt,st){let it=_e.findDiffStart(et,rt);if(it==null)return null;let{a:at,b:ot}=_e.findDiffEnd(et,rt+_e.size,rt+et.size);if(st=="end"){let lt=Math.max(0,it-Math.min(at,ot));nt-=at+lt-it}if(at<it&&_e.size<et.size){let lt=nt<=it&&nt>=at?it-nt:0;it-=lt,it&&it<et.size&&isSurrogatePair(et.textBetween(it-1,it+1))&&(it+=lt?1:-1),ot=it+(ot-at),at=it}else if(ot<it){let lt=nt<=it&&nt>=ot?it-nt:0;it-=lt,it&&it<_e.size&&isSurrogatePair(_e.textBetween(it-1,it+1))&&(it+=lt?1:-1),at=it+(at-ot),ot=it}return{start:it,endA:at,endB:ot}}function isSurrogatePair(_e){if(_e.length!=2)return!1;let et=_e.charCodeAt(0),rt=_e.charCodeAt(1);return et>=56320&&et<=57343&&rt>=55296&&rt<=56319}class EditorView{constructor(et,rt){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new InputState,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=rt,this.state=rt.state,this.directPlugins=rt.plugins||[],this.directPlugins.forEach(checkStateComponent),this.dispatch=this.dispatch.bind(this),this.dom=et&&et.mount||document.createElement("div"),et&&(et.appendChild?et.appendChild(this.dom):typeof et=="function"?et(this.dom):et.mount&&(this.mounted=!0)),this.editable=getEditable(this),updateCursorWrapper(this),this.nodeViews=buildNodeViews(this),this.docView=docViewDesc(this.state.doc,computeDocDeco(this),viewDecorations(this),this.dom,this),this.domObserver=new DOMObserver(this,(nt,st,it,at)=>readDOMChange(this,nt,st,it,at)),this.domObserver.start(),initInput(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let et=this._props;this._props={};for(let rt in et)this._props[rt]=et[rt];this._props.state=this.state}return this._props}update(et){et.handleDOMEvents!=this._props.handleDOMEvents&&ensureListeners(this);let rt=this._props;this._props=et,et.plugins&&(et.plugins.forEach(checkStateComponent),this.directPlugins=et.plugins),this.updateStateInner(et.state,rt)}setProps(et){let rt={};for(let nt in this._props)rt[nt]=this._props[nt];rt.state=this.state;for(let nt in et)rt[nt]=et[nt];this.update(rt)}updateState(et){this.updateStateInner(et,this._props)}updateStateInner(et,rt){var nt;let st=this.state,it=!1,at=!1;et.storedMarks&&this.composing&&(clearComposition(this),at=!0),this.state=et;let ot=st.plugins!=et.plugins||this._props.plugins!=rt.plugins;if(ot||this._props.plugins!=rt.plugins||this._props.nodeViews!=rt.nodeViews){let mt=buildNodeViews(this);changedNodeViews(mt,this.nodeViews)&&(this.nodeViews=mt,it=!0)}(ot||rt.handleDOMEvents!=this._props.handleDOMEvents)&&ensureListeners(this),this.editable=getEditable(this),updateCursorWrapper(this);let lt=viewDecorations(this),ct=computeDocDeco(this),ut=st.plugins!=et.plugins&&!st.doc.eq(et.doc)?"reset":et.scrollToSelection>st.scrollToSelection?"to selection":"preserve",dt=it||!this.docView.matchesNode(et.doc,ct,lt);(dt||!et.selection.eq(st.selection))&&(at=!0);let pt=ut=="preserve"&&at&&this.dom.style.overflowAnchor==null&&storeScrollPos(this);if(at){this.domObserver.stop();let mt=dt&&(ie$1||chrome)&&!this.composing&&!st.selection.empty&&!et.selection.empty&&selectionContextChanged(st.selection,et.selection);if(dt){let xt=chrome?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=findCompositionNode(this)),(it||!this.docView.update(et.doc,ct,lt,this))&&(this.docView.updateOuterDeco(ct),this.docView.destroy(),this.docView=docViewDesc(et.doc,ct,lt,this.dom,this)),xt&&(!this.trackWrites||!this.dom.contains(this.trackWrites))&&(mt=!0)}mt||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&anchorInRightPlace(this))?selectionToDOM(this,mt):(syncNodeSelection(this,et.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(st),!((nt=this.dragging)===null||nt===void 0)&&nt.node&&!st.doc.eq(et.doc)&&this.updateDraggedNode(this.dragging,st),ut=="reset"?this.dom.scrollTop=0:ut=="to selection"?this.scrollToSelection():pt&&resetScrollPos(pt)}scrollToSelection(){let et=this.domSelectionRange().focusNode;if(!(!et||!this.dom.contains(et.nodeType==1?et:et.parentNode))){if(!this.someProp("handleScrollToSelection",rt=>rt(this)))if(this.state.selection instanceof NodeSelection){let rt=this.docView.domAfterPos(this.state.selection.from);rt.nodeType==1&&scrollRectIntoView(this,rt.getBoundingClientRect(),et)}else scrollRectIntoView(this,this.coordsAtPos(this.state.selection.head,1),et)}}destroyPluginViews(){let et;for(;et=this.pluginViews.pop();)et.destroy&&et.destroy()}updatePluginViews(et){if(!et||et.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let rt=0;rt<this.directPlugins.length;rt++){let nt=this.directPlugins[rt];nt.spec.view&&this.pluginViews.push(nt.spec.view(this))}for(let rt=0;rt<this.state.plugins.length;rt++){let nt=this.state.plugins[rt];nt.spec.view&&this.pluginViews.push(nt.spec.view(this))}}else for(let rt=0;rt<this.pluginViews.length;rt++){let nt=this.pluginViews[rt];nt.update&&nt.update(this,et)}}updateDraggedNode(et,rt){let nt=et.node,st=-1;if(this.state.doc.nodeAt(nt.from)==nt.node)st=nt.from;else{let it=nt.from+(this.state.doc.content.size-rt.doc.content.size);(it>0&&this.state.doc.nodeAt(it))==nt.node&&(st=it)}this.dragging=new Dragging(et.slice,et.move,st<0?void 0:NodeSelection.create(this.state.doc,st))}someProp(et,rt){let nt=this._props&&this._props[et],st;if(nt!=null&&(st=rt?rt(nt):nt))return st;for(let at=0;at<this.directPlugins.length;at++){let ot=this.directPlugins[at].props[et];if(ot!=null&&(st=rt?rt(ot):ot))return st}let it=this.state.plugins;if(it)for(let at=0;at<it.length;at++){let ot=it[at].props[et];if(ot!=null&&(st=rt?rt(ot):ot))return st}}hasFocus(){if(ie$1){let et=this.root.activeElement;if(et==this.dom)return!0;if(!et||!this.dom.contains(et))return!1;for(;et&&this.dom!=et&&this.dom.contains(et);){if(et.contentEditable=="false")return!1;et=et.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&focusPreventScroll(this.dom),selectionToDOM(this),this.domObserver.start()}get root(){let et=this._root;if(et==null){for(let rt=this.dom.parentNode;rt;rt=rt.parentNode)if(rt.nodeType==9||rt.nodeType==11&&rt.host)return rt.getSelection||(Object.getPrototypeOf(rt).getSelection=()=>rt.ownerDocument.getSelection()),this._root=rt}return et||document}updateRoot(){this._root=null}posAtCoords(et){return posAtCoords(this,et)}coordsAtPos(et,rt=1){return coordsAtPos(this,et,rt)}domAtPos(et,rt=0){return this.docView.domFromPos(et,rt)}nodeDOM(et){let rt=this.docView.descAt(et);return rt?rt.nodeDOM:null}posAtDOM(et,rt,nt=-1){let st=this.docView.posFromDOM(et,rt,nt);if(st==null)throw new RangeError("DOM position not inside the editor");return st}endOfTextblock(et,rt){return endOfTextblock(this,rt||this.state,et)}pasteHTML(et,rt){return doPaste(this,"",et,!1,rt||new ClipboardEvent("paste"))}pasteText(et,rt){return doPaste(this,et,null,!0,rt||new ClipboardEvent("paste"))}serializeForClipboard(et){return serializeForClipboard(this,et)}destroy(){this.docView&&(destroyInput(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],viewDecorations(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,clearReusedRange())}get isDestroyed(){return this.docView==null}dispatchEvent(et){return dispatchEvent(this,et)}domSelectionRange(){let et=this.domSelection();return et?safari&&this.root.nodeType===11&&deepActiveElement(this.dom.ownerDocument)==this.dom&&safariShadowSelectionRange(this,et)||et:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}EditorView.prototype.dispatch=function(_e){let et=this._props.dispatchTransaction;et?et.call(this,_e):this.updateState(this.state.apply(_e))};function computeDocDeco(_e){let et=Object.create(null);return et.class="ProseMirror",et.contenteditable=String(_e.editable),_e.someProp("attributes",rt=>{if(typeof rt=="function"&&(rt=rt(_e.state)),rt)for(let nt in rt)nt=="class"?et.class+=" "+rt[nt]:nt=="style"?et.style=(et.style?et.style+";":"")+rt[nt]:!et[nt]&&nt!="contenteditable"&&nt!="nodeName"&&(et[nt]=String(rt[nt]))}),et.translate||(et.translate="no"),[Decoration.node(0,_e.state.doc.content.size,et)]}function updateCursorWrapper(_e){if(_e.markCursor){let et=document.createElement("img");et.className="ProseMirror-separator",et.setAttribute("mark-placeholder","true"),et.setAttribute("alt",""),_e.cursorWrapper={dom:et,deco:Decoration.widget(_e.state.selection.from,et,{raw:!0,marks:_e.markCursor})}}else _e.cursorWrapper=null}function getEditable(_e){return!_e.someProp("editable",et=>et(_e.state)===!1)}function selectionContextChanged(_e,et){let rt=Math.min(_e.$anchor.sharedDepth(_e.head),et.$anchor.sharedDepth(et.head));return _e.$anchor.start(rt)!=et.$anchor.start(rt)}function buildNodeViews(_e){let et=Object.create(null);function rt(nt){for(let st in nt)Object.prototype.hasOwnProperty.call(et,st)||(et[st]=nt[st])}return _e.someProp("nodeViews",rt),_e.someProp("markViews",rt),et}function changedNodeViews(_e,et){let rt=0,nt=0;for(let st in _e){if(_e[st]!=et[st])return!0;rt++}for(let st in et)nt++;return rt!=nt}function checkStateComponent(_e){if(_e.spec.state||_e.spec.filterTransaction||_e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var base={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},shift={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},mac$1=typeof navigator<"u"&&/Mac/.test(navigator.platform),ie=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var i$6=0;i$6<10;i$6++)base[48+i$6]=base[96+i$6]=String(i$6);for(var i$6=1;i$6<=24;i$6++)base[i$6+111]="F"+i$6;for(var i$6=65;i$6<=90;i$6++)base[i$6]=String.fromCharCode(i$6+32),shift[i$6]=String.fromCharCode(i$6);for(var code in base)shift.hasOwnProperty(code)||(shift[code]=base[code]);function keyName(_e){var et=mac$1&&_e.metaKey&&_e.shiftKey&&!_e.ctrlKey&&!_e.altKey||ie&&_e.shiftKey&&_e.key&&_e.key.length==1||_e.key=="Unidentified",rt=!et&&_e.key||(_e.shiftKey?shift:base)[_e.keyCode]||_e.key||"Unidentified";return rt=="Esc"&&(rt="Escape"),rt=="Del"&&(rt="Delete"),rt=="Left"&&(rt="ArrowLeft"),rt=="Up"&&(rt="ArrowUp"),rt=="Right"&&(rt="ArrowRight"),rt=="Down"&&(rt="ArrowDown"),rt}const mac=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),windows=typeof navigator<"u"&&/Win/.test(navigator.platform);function normalizeKeyName$1(_e){let et=_e.split(/-(?!$)/),rt=et[et.length-1];rt=="Space"&&(rt=" ");let nt,st,it,at;for(let ot=0;ot<et.length-1;ot++){let lt=et[ot];if(/^(cmd|meta|m)$/i.test(lt))at=!0;else if(/^a(lt)?$/i.test(lt))nt=!0;else if(/^(c|ctrl|control)$/i.test(lt))st=!0;else if(/^s(hift)?$/i.test(lt))it=!0;else if(/^mod$/i.test(lt))mac?at=!0:st=!0;else throw new Error("Unrecognized modifier name: "+lt)}return nt&&(rt="Alt-"+rt),st&&(rt="Ctrl-"+rt),at&&(rt="Meta-"+rt),it&&(rt="Shift-"+rt),rt}function normalize(_e){let et=Object.create(null);for(let rt in _e)et[normalizeKeyName$1(rt)]=_e[rt];return et}function modifiers(_e,et,rt=!0){return et.altKey&&(_e="Alt-"+_e),et.ctrlKey&&(_e="Ctrl-"+_e),et.metaKey&&(_e="Meta-"+_e),rt&&et.shiftKey&&(_e="Shift-"+_e),_e}function keymap(_e){return new Plugin({props:{handleKeyDown:keydownHandler(_e)}})}function keydownHandler(_e){let et=normalize(_e);return function(rt,nt){let st=keyName(nt),it,at=et[modifiers(st,nt)];if(at&&at(rt.state,rt.dispatch,rt))return!0;if(st.length==1&&st!=" "){if(nt.shiftKey){let ot=et[modifiers(st,nt,!1)];if(ot&&ot(rt.state,rt.dispatch,rt))return!0}if((nt.altKey||nt.metaKey||nt.ctrlKey)&&!(windows&&nt.ctrlKey&&nt.altKey)&&(it=base[nt.keyCode])&&it!=st){let ot=et[modifiers(it,nt)];if(ot&&ot(rt.state,rt.dispatch,rt))return!0}}return!1}}var __defProp$1=Object.defineProperty,__export$1=(_e,et)=>{for(var rt in et)__defProp$1(_e,rt,{get:et[rt],enumerable:!0})};function createChainableState(_e){const{state:et,transaction:rt}=_e;let{selection:nt}=rt,{doc:st}=rt,{storedMarks:it}=rt;return{...et,apply:et.apply.bind(et),applyTransaction:et.applyTransaction.bind(et),plugins:et.plugins,schema:et.schema,reconfigure:et.reconfigure.bind(et),toJSON:et.toJSON.bind(et),get storedMarks(){return it},get selection(){return nt},get doc(){return st},get tr(){return nt=rt.selection,st=rt.doc,it=rt.storedMarks,rt}}}var CommandManager=class{constructor(_e){this.editor=_e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=_e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:_e,editor:et,state:rt}=this,{view:nt}=et,{tr:st}=rt,it=this.buildProps(st);return Object.fromEntries(Object.entries(_e).map(([at,ot])=>[at,(...ct)=>{const ut=ot(...ct)(it);return!st.getMeta("preventDispatch")&&!this.hasCustomState&&nt.dispatch(st),ut}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(_e,et=!0){const{rawCommands:rt,editor:nt,state:st}=this,{view:it}=nt,at=[],ot=!!_e,lt=_e||st.tr,ct=()=>(!ot&&et&&!lt.getMeta("preventDispatch")&&!this.hasCustomState&&it.dispatch(lt),at.every(dt=>dt===!0)),ut={...Object.fromEntries(Object.entries(rt).map(([dt,pt])=>[dt,(...xt)=>{const yt=this.buildProps(lt,et),vt=pt(...xt)(yt);return at.push(vt),ut}])),run:ct};return ut}createCan(_e){const{rawCommands:et,state:rt}=this,nt=!1,st=_e||rt.tr,it=this.buildProps(st,nt);return{...Object.fromEntries(Object.entries(et).map(([ot,lt])=>[ot,(...ct)=>lt(...ct)({...it,dispatch:void 0})])),chain:()=>this.createChain(st,nt)}}buildProps(_e,et=!0){const{rawCommands:rt,editor:nt,state:st}=this,{view:it}=nt,at={tr:_e,editor:nt,view:it,state:createChainableState({state:st,transaction:_e}),dispatch:et?()=>{}:void 0,chain:()=>this.createChain(_e,et),can:()=>this.createCan(_e),get commands(){return Object.fromEntries(Object.entries(rt).map(([ot,lt])=>[ot,(...ct)=>lt(...ct)(at)]))}};return at}},commands_exports={};__export$1(commands_exports,{blur:()=>blur,clearContent:()=>clearContent,clearNodes:()=>clearNodes,command:()=>command,createParagraphNear:()=>createParagraphNear,cut:()=>cut,deleteCurrentNode:()=>deleteCurrentNode,deleteNode:()=>deleteNode,deleteRange:()=>deleteRange,deleteSelection:()=>deleteSelection,enter:()=>enter,exitCode:()=>exitCode,extendMarkRange:()=>extendMarkRange,first:()=>first,focus:()=>focus,forEach:()=>forEach,insertContent:()=>insertContent,insertContentAt:()=>insertContentAt,joinBackward:()=>joinBackward,joinDown:()=>joinDown,joinForward:()=>joinForward,joinItemBackward:()=>joinItemBackward,joinItemForward:()=>joinItemForward,joinTextblockBackward:()=>joinTextblockBackward,joinTextblockForward:()=>joinTextblockForward,joinUp:()=>joinUp,keyboardShortcut:()=>keyboardShortcut,lift:()=>lift,liftEmptyBlock:()=>liftEmptyBlock,liftListItem:()=>liftListItem,newlineInCode:()=>newlineInCode,resetAttributes:()=>resetAttributes,scrollIntoView:()=>scrollIntoView,selectAll:()=>selectAll,selectNodeBackward:()=>selectNodeBackward,selectNodeForward:()=>selectNodeForward,selectParentNode:()=>selectParentNode,selectTextblockEnd:()=>selectTextblockEnd,selectTextblockStart:()=>selectTextblockStart,setContent:()=>setContent,setMark:()=>setMark,setMeta:()=>setMeta,setNode:()=>setNode,setNodeSelection:()=>setNodeSelection,setTextDirection:()=>setTextDirection,setTextSelection:()=>setTextSelection,sinkListItem:()=>sinkListItem,splitBlock:()=>splitBlock,splitListItem:()=>splitListItem,toggleList:()=>toggleList,toggleMark:()=>toggleMark,toggleNode:()=>toggleNode,toggleWrap:()=>toggleWrap,undoInputRule:()=>undoInputRule,unsetAllMarks:()=>unsetAllMarks,unsetMark:()=>unsetMark,unsetTextDirection:()=>unsetTextDirection,updateAttributes:()=>updateAttributes,wrapIn:()=>wrapIn,wrapInList:()=>wrapInList});var blur=()=>({editor:_e,view:et})=>(requestAnimationFrame(()=>{var rt;_e.isDestroyed||(et.dom.blur(),(rt=window==null?void 0:window.getSelection())==null||rt.removeAllRanges())}),!0),clearContent=(_e=!0)=>({commands:et})=>et.setContent("",{emitUpdate:_e}),clearNodes=()=>({state:_e,tr:et,dispatch:rt})=>{const{selection:nt}=et,{ranges:st}=nt;return rt&&st.forEach(({$from:it,$to:at})=>{_e.doc.nodesBetween(it.pos,at.pos,(ot,lt)=>{if(ot.type.isText)return;const{doc:ct,mapping:ut}=et,dt=ct.resolve(ut.map(lt)),pt=ct.resolve(ut.map(lt+ot.nodeSize)),mt=dt.blockRange(pt);if(!mt)return;const xt=liftTarget(mt);if(ot.type.isTextblock){const{defaultType:yt}=dt.parent.contentMatchAt(dt.index());et.setNodeMarkup(mt.start,yt)}(xt||xt===0)&&et.lift(mt,xt)})}),!0},command=_e=>et=>_e(et),createParagraphNear=()=>({state:_e,dispatch:et})=>createParagraphNear$1(_e,et),cut=(_e,et)=>({editor:rt,tr:nt})=>{const{state:st}=rt,it=st.doc.slice(_e.from,_e.to);nt.deleteRange(_e.from,_e.to);const at=nt.mapping.map(et);return nt.insert(at,it.content),nt.setSelection(new TextSelection(nt.doc.resolve(Math.max(at-1,0)))),!0},deleteCurrentNode=()=>({tr:_e,dispatch:et})=>{const{selection:rt}=_e,nt=rt.$anchor.node();if(nt.content.size>0)return!1;const st=_e.selection.$anchor;for(let it=st.depth;it>0;it-=1)if(st.node(it).type===nt.type){if(et){const ot=st.before(it),lt=st.after(it);_e.delete(ot,lt).scrollIntoView()}return!0}return!1};function getNodeType(_e,et){if(typeof _e=="string"){if(!et.nodes[_e])throw Error(`There is no node type named '${_e}'. Maybe you forgot to add the extension?`);return et.nodes[_e]}return _e}var deleteNode=_e=>({tr:et,state:rt,dispatch:nt})=>{const st=getNodeType(_e,rt.schema),it=et.selection.$anchor;for(let at=it.depth;at>0;at-=1)if(it.node(at).type===st){if(nt){const lt=it.before(at),ct=it.after(at);et.delete(lt,ct).scrollIntoView()}return!0}return!1},deleteRange=_e=>({tr:et,dispatch:rt})=>{const{from:nt,to:st}=_e;return rt&&et.delete(nt,st),!0},deleteSelection=()=>({state:_e,dispatch:et})=>deleteSelection$1(_e,et),enter=()=>({commands:_e})=>_e.keyboardShortcut("Enter"),exitCode=()=>({state:_e,dispatch:et})=>exitCode$1(_e,et);function isRegExp(_e){return Object.prototype.toString.call(_e)==="[object RegExp]"}function objectIncludes(_e,et,rt={strict:!0}){const nt=Object.keys(et);return nt.length?nt.every(st=>rt.strict?et[st]===_e[st]:isRegExp(et[st])?et[st].test(_e[st]):et[st]===_e[st]):!0}function findMarkInSet(_e,et,rt={}){return _e.find(nt=>nt.type===et&&objectIncludes(Object.fromEntries(Object.keys(rt).map(st=>[st,nt.attrs[st]])),rt))}function isMarkInSet(_e,et,rt={}){return!!findMarkInSet(_e,et,rt)}function getMarkRange(_e,et,rt){var nt;if(!_e||!et)return;let st=_e.parent.childAfter(_e.parentOffset);if((!st.node||!st.node.marks.some(ut=>ut.type===et))&&(st=_e.parent.childBefore(_e.parentOffset)),!st.node||!st.node.marks.some(ut=>ut.type===et)||(rt=rt||((nt=st.node.marks[0])==null?void 0:nt.attrs),!findMarkInSet([...st.node.marks],et,rt)))return;let at=st.index,ot=_e.start()+st.offset,lt=at+1,ct=ot+st.node.nodeSize;for(;at>0&&isMarkInSet([..._e.parent.child(at-1).marks],et,rt);)at-=1,ot-=_e.parent.child(at).nodeSize;for(;lt<_e.parent.childCount&&isMarkInSet([..._e.parent.child(lt).marks],et,rt);)ct+=_e.parent.child(lt).nodeSize,lt+=1;return{from:ot,to:ct}}function getMarkType(_e,et){if(typeof _e=="string"){if(!et.marks[_e])throw Error(`There is no mark type named '${_e}'. Maybe you forgot to add the extension?`);return et.marks[_e]}return _e}var extendMarkRange=(_e,et={})=>({tr:rt,state:nt,dispatch:st})=>{const it=getMarkType(_e,nt.schema),{doc:at,selection:ot}=rt,{$from:lt,from:ct,to:ut}=ot;if(st){const dt=getMarkRange(lt,it,et);if(dt&&dt.from<=ct&&dt.to>=ut){const pt=TextSelection.create(at,dt.from,dt.to);rt.setSelection(pt)}}return!0},first=_e=>et=>{const rt=typeof _e=="function"?_e(et):_e;for(let nt=0;nt<rt.length;nt+=1)if(rt[nt](et))return!0;return!1};function isTextSelection(_e){return _e instanceof TextSelection}function minMax(_e=0,et=0,rt=0){return Math.min(Math.max(_e,et),rt)}function resolveFocusPosition(_e,et=null){if(!et)return null;const rt=Selection.atStart(_e),nt=Selection.atEnd(_e);if(et==="start"||et===!0)return rt;if(et==="end")return nt;const st=rt.from,it=nt.to;return et==="all"?TextSelection.create(_e,minMax(0,st,it),minMax(_e.content.size,st,it)):TextSelection.create(_e,minMax(et,st,it),minMax(et,st,it))}function isAndroid(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function isiOS(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function isSafari(){return typeof navigator<"u"?/^((?!chrome|android).)*safari/i.test(navigator.userAgent):!1}var focus=(_e=null,et={})=>({editor:rt,view:nt,tr:st,dispatch:it})=>{et={scrollIntoView:!0,...et};const at=()=>{(isiOS()||isAndroid())&&nt.dom.focus(),isSafari()&&!isiOS()&&!isAndroid()&&nt.dom.focus({preventScroll:!0}),requestAnimationFrame(()=>{rt.isDestroyed||(nt.focus(),et!=null&&et.scrollIntoView&&rt.commands.scrollIntoView())})};if(nt.hasFocus()&&_e===null||_e===!1)return!0;if(it&&_e===null&&!isTextSelection(rt.state.selection))return at(),!0;const ot=resolveFocusPosition(st.doc,_e)||rt.state.selection,lt=rt.state.selection.eq(ot);return it&&(lt||st.setSelection(ot),lt&&st.storedMarks&&st.setStoredMarks(st.storedMarks),at()),!0},forEach=(_e,et)=>rt=>_e.every((nt,st)=>et(nt,{...rt,index:st})),insertContent=(_e,et)=>({tr:rt,commands:nt})=>nt.insertContentAt({from:rt.selection.from,to:rt.selection.to},_e,et),removeWhitespaces=_e=>{const et=_e.childNodes;for(let rt=et.length-1;rt>=0;rt-=1){const nt=et[rt];nt.nodeType===3&&nt.nodeValue&&/^(\n\s\s|\n)$/.test(nt.nodeValue)?_e.removeChild(nt):nt.nodeType===1&&removeWhitespaces(nt)}return _e};function elementFromString(_e){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const et=`<body>${_e}</body>`,rt=new window.DOMParser().parseFromString(et,"text/html").body;return removeWhitespaces(rt)}function createNodeFromContent(_e,et,rt){if(_e instanceof Node$1||_e instanceof Fragment)return _e;rt={slice:!0,parseOptions:{},...rt};const nt=typeof _e=="object"&&_e!==null,st=typeof _e=="string";if(nt)try{if(Array.isArray(_e)&&_e.length>0)return Fragment.fromArray(_e.map(ot=>et.nodeFromJSON(ot)));const at=et.nodeFromJSON(_e);return rt.errorOnInvalidContent&&at.check(),at}catch(it){if(rt.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:it});return console.warn("[tiptap warn]: Invalid content.","Passed value:",_e,"Error:",it),createNodeFromContent("",et,rt)}if(st){if(rt.errorOnInvalidContent){let at=!1,ot="";const lt=new Schema({topNode:et.spec.topNode,marks:et.spec.marks,nodes:et.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:ct=>(at=!0,ot=typeof ct=="string"?ct:ct.outerHTML,null)}]}})});if(rt.slice?DOMParser.fromSchema(lt).parseSlice(elementFromString(_e),rt.parseOptions):DOMParser.fromSchema(lt).parse(elementFromString(_e),rt.parseOptions),rt.errorOnInvalidContent&&at)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${ot}`)})}const it=DOMParser.fromSchema(et);return rt.slice?it.parseSlice(elementFromString(_e),rt.parseOptions).content:it.parse(elementFromString(_e),rt.parseOptions)}return createNodeFromContent("",et,rt)}function selectionToInsertionEnd(_e,et,rt){const nt=_e.steps.length-1;if(nt<et)return;const st=_e.steps[nt];if(!(st instanceof ReplaceStep||st instanceof ReplaceAroundStep))return;const it=_e.mapping.maps[nt];let at=0;it.forEach((ot,lt,ct,ut)=>{at===0&&(at=ut)}),_e.setSelection(Selection.near(_e.doc.resolve(at),rt))}var isFragment=_e=>!("type"in _e),insertContentAt=(_e,et,rt)=>({tr:nt,dispatch:st,editor:it})=>{var at;if(st){rt={parseOptions:it.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...rt};let ot;const lt=vt=>{it.emit("contentError",{editor:it,error:vt,disableCollaboration:()=>{"collaboration"in it.storage&&typeof it.storage.collaboration=="object"&&it.storage.collaboration&&(it.storage.collaboration.isDisabled=!0)}})},ct={preserveWhitespace:"full",...rt.parseOptions};if(!rt.errorOnInvalidContent&&!it.options.enableContentCheck&&it.options.emitContentError)try{createNodeFromContent(et,it.schema,{parseOptions:ct,errorOnInvalidContent:!0})}catch(vt){lt(vt)}try{ot=createNodeFromContent(et,it.schema,{parseOptions:ct,errorOnInvalidContent:(at=rt.errorOnInvalidContent)!=null?at:it.options.enableContentCheck})}catch(vt){return lt(vt),!1}let{from:ut,to:dt}=typeof _e=="number"?{from:_e,to:_e}:{from:_e.from,to:_e.to},pt=!0,mt=!0;if((isFragment(ot)?ot:[ot]).forEach(vt=>{vt.check(),pt=pt?vt.isText&&vt.marks.length===0:!1,mt=mt?vt.isBlock:!1}),ut===dt&&mt){const{parent:vt}=nt.doc.resolve(ut);vt.isTextblock&&!vt.type.spec.code&&!vt.childCount&&(ut-=1,dt+=1)}let yt;if(pt){if(Array.isArray(et))yt=et.map(vt=>vt.text||"").join("");else if(et instanceof Fragment){let vt="";et.forEach(gt=>{gt.text&&(vt+=gt.text)}),yt=vt}else typeof et=="object"&&et&&et.text?yt=et.text:yt=et;nt.insertText(yt,ut,dt)}else{yt=ot;const vt=nt.doc.resolve(ut),gt=vt.node(),Et=vt.parentOffset===0,jt=gt.isText||gt.isTextblock,kt=gt.content.size>0;Et&&jt&&kt&&(ut=Math.max(0,ut-1)),nt.replaceWith(ut,dt,yt)}rt.updateSelection&&selectionToInsertionEnd(nt,nt.steps.length-1,-1),rt.applyInputRules&&nt.setMeta("applyInputRules",{from:ut,text:yt}),rt.applyPasteRules&&nt.setMeta("applyPasteRules",{from:ut,text:yt})}return!0},joinUp=()=>({state:_e,dispatch:et})=>joinUp$1(_e,et),joinDown=()=>({state:_e,dispatch:et})=>joinDown$1(_e,et),joinBackward=()=>({state:_e,dispatch:et})=>joinBackward$1(_e,et),joinForward=()=>({state:_e,dispatch:et})=>joinForward$1(_e,et),joinItemBackward=()=>({state:_e,dispatch:et,tr:rt})=>{try{const nt=joinPoint(_e.doc,_e.selection.$from.pos,-1);return nt==null?!1:(rt.join(nt,2),et&&et(rt),!0)}catch{return!1}},joinItemForward=()=>({state:_e,dispatch:et,tr:rt})=>{try{const nt=joinPoint(_e.doc,_e.selection.$from.pos,1);return nt==null?!1:(rt.join(nt,2),et&&et(rt),!0)}catch{return!1}},joinTextblockBackward=()=>({state:_e,dispatch:et})=>joinTextblockBackward$1(_e,et),joinTextblockForward=()=>({state:_e,dispatch:et})=>joinTextblockForward$1(_e,et);function isMacOS(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function normalizeKeyName(_e){const et=_e.split(/-(?!$)/);let rt=et[et.length-1];rt==="Space"&&(rt=" ");let nt,st,it,at;for(let ot=0;ot<et.length-1;ot+=1){const lt=et[ot];if(/^(cmd|meta|m)$/i.test(lt))at=!0;else if(/^a(lt)?$/i.test(lt))nt=!0;else if(/^(c|ctrl|control)$/i.test(lt))st=!0;else if(/^s(hift)?$/i.test(lt))it=!0;else if(/^mod$/i.test(lt))isiOS()||isMacOS()?at=!0:st=!0;else throw new Error(`Unrecognized modifier name: ${lt}`)}return nt&&(rt=`Alt-${rt}`),st&&(rt=`Ctrl-${rt}`),at&&(rt=`Meta-${rt}`),it&&(rt=`Shift-${rt}`),rt}var keyboardShortcut=_e=>({editor:et,view:rt,tr:nt,dispatch:st})=>{const it=normalizeKeyName(_e).split(/-(?!$)/),at=it.find(ct=>!["Alt","Ctrl","Meta","Shift"].includes(ct)),ot=new KeyboardEvent("keydown",{key:at==="Space"?" ":at,altKey:it.includes("Alt"),ctrlKey:it.includes("Ctrl"),metaKey:it.includes("Meta"),shiftKey:it.includes("Shift"),bubbles:!0,cancelable:!0}),lt=et.captureTransaction(()=>{rt.someProp("handleKeyDown",ct=>ct(rt,ot))});return lt==null||lt.steps.forEach(ct=>{const ut=ct.map(nt.mapping);ut&&st&&nt.maybeStep(ut)}),!0};function isNodeActive(_e,et,rt={}){const{from:nt,to:st,empty:it}=_e.selection,at=et?getNodeType(et,_e.schema):null,ot=[];_e.doc.nodesBetween(nt,st,(dt,pt)=>{if(dt.isText)return;const mt=Math.max(nt,pt),xt=Math.min(st,pt+dt.nodeSize);ot.push({node:dt,from:mt,to:xt})});const lt=st-nt,ct=ot.filter(dt=>at?at.name===dt.node.type.name:!0).filter(dt=>objectIncludes(dt.node.attrs,rt,{strict:!1}));return it?!!ct.length:ct.reduce((dt,pt)=>dt+pt.to-pt.from,0)>=lt}var lift=(_e,et={})=>({state:rt,dispatch:nt})=>{const st=getNodeType(_e,rt.schema);return isNodeActive(rt,st,et)?lift$1(rt,nt):!1},liftEmptyBlock=()=>({state:_e,dispatch:et})=>liftEmptyBlock$1(_e,et),liftListItem=_e=>({state:et,dispatch:rt})=>{const nt=getNodeType(_e,et.schema);return liftListItem$1(nt)(et,rt)},newlineInCode=()=>({state:_e,dispatch:et})=>newlineInCode$1(_e,et);function getSchemaTypeNameByName(_e,et){return et.nodes[_e]?"node":et.marks[_e]?"mark":null}function deleteProps(_e,et){const rt=typeof et=="string"?[et]:et;return Object.keys(_e).reduce((nt,st)=>(rt.includes(st)||(nt[st]=_e[st]),nt),{})}var resetAttributes=(_e,et)=>({tr:rt,state:nt,dispatch:st})=>{let it=null,at=null;const ot=getSchemaTypeNameByName(typeof _e=="string"?_e:_e.name,nt.schema);if(!ot)return!1;ot==="node"&&(it=getNodeType(_e,nt.schema)),ot==="mark"&&(at=getMarkType(_e,nt.schema));let lt=!1;return rt.selection.ranges.forEach(ct=>{nt.doc.nodesBetween(ct.$from.pos,ct.$to.pos,(ut,dt)=>{it&&it===ut.type&&(lt=!0,st&&rt.setNodeMarkup(dt,void 0,deleteProps(ut.attrs,et))),at&&ut.marks.length&&ut.marks.forEach(pt=>{at===pt.type&&(lt=!0,st&&rt.addMark(dt,dt+ut.nodeSize,at.create(deleteProps(pt.attrs,et))))})})}),lt},scrollIntoView=()=>({tr:_e,dispatch:et})=>(et&&_e.scrollIntoView(),!0),selectAll=()=>({tr:_e,dispatch:et})=>{if(et){const rt=new AllSelection(_e.doc);_e.setSelection(rt)}return!0},selectNodeBackward=()=>({state:_e,dispatch:et})=>selectNodeBackward$1(_e,et),selectNodeForward=()=>({state:_e,dispatch:et})=>selectNodeForward$1(_e,et),selectParentNode=()=>({state:_e,dispatch:et})=>selectParentNode$1(_e,et),selectTextblockEnd=()=>({state:_e,dispatch:et})=>selectTextblockEnd$1(_e,et),selectTextblockStart=()=>({state:_e,dispatch:et})=>selectTextblockStart$1(_e,et);function createDocument(_e,et,rt={},nt={}){return createNodeFromContent(_e,et,{slice:!1,parseOptions:rt,errorOnInvalidContent:nt.errorOnInvalidContent})}var setContent=(_e,{errorOnInvalidContent:et,emitUpdate:rt=!0,parseOptions:nt={}}={})=>({editor:st,tr:it,dispatch:at,commands:ot})=>{const{doc:lt}=it;if(nt.preserveWhitespace!=="full"){const ct=createDocument(_e,st.schema,nt,{errorOnInvalidContent:et??st.options.enableContentCheck});return at&&it.replaceWith(0,lt.content.size,ct).setMeta("preventUpdate",!rt),!0}return at&&it.setMeta("preventUpdate",!rt),ot.insertContentAt({from:0,to:lt.content.size},_e,{parseOptions:nt,errorOnInvalidContent:et??st.options.enableContentCheck})};function getMarkAttributes(_e,et){const rt=getMarkType(et,_e.schema),{from:nt,to:st,empty:it}=_e.selection,at=[];it?(_e.storedMarks&&at.push(..._e.storedMarks),at.push(..._e.selection.$head.marks())):_e.doc.nodesBetween(nt,st,lt=>{at.push(...lt.marks)});const ot=at.find(lt=>lt.type.name===rt.name);return ot?{...ot.attrs}:{}}function combineTransactionSteps(_e,et){const rt=new Transform(_e);return et.forEach(nt=>{nt.steps.forEach(st=>{rt.step(st)})}),rt}function defaultBlockAt(_e){for(let et=0;et<_e.edgeCount;et+=1){const{type:rt}=_e.edge(et);if(rt.isTextblock&&!rt.hasRequiredAttrs())return rt}return null}function findChildrenInRange(_e,et,rt){const nt=[];return _e.nodesBetween(et.from,et.to,(st,it)=>{rt(st)&&nt.push({node:st,pos:it})}),nt}function findParentNodeClosestToPos(_e,et){for(let rt=_e.depth;rt>0;rt-=1){const nt=_e.node(rt);if(et(nt))return{pos:rt>0?_e.before(rt):0,start:_e.start(rt),depth:rt,node:nt}}}function findParentNode(_e){return et=>findParentNodeClosestToPos(et.$from,_e)}function getExtensionField(_e,et,rt){return _e.config[et]===void 0&&_e.parent?getExtensionField(_e.parent,et,rt):typeof _e.config[et]=="function"?_e.config[et].bind({...rt,parent:_e.parent?getExtensionField(_e.parent,et,rt):null}):_e.config[et]}function flattenExtensions(_e){return _e.map(et=>{const rt={name:et.name,options:et.options,storage:et.storage},nt=getExtensionField(et,"addExtensions",rt);return nt?[et,...flattenExtensions(nt())]:et}).flat(10)}function getHTMLFromFragment(_e,et){const rt=DOMSerializer.fromSchema(et).serializeFragment(_e),st=document.implementation.createHTMLDocument().createElement("div");return st.appendChild(rt),st.innerHTML}function isFunction$1(_e){return typeof _e=="function"}function callOrReturn(_e,et=void 0,...rt){return isFunction$1(_e)?et?_e.bind(et)(...rt):_e(...rt):_e}function isEmptyObject$1(_e={}){return Object.keys(_e).length===0&&_e.constructor===Object}function splitExtensions(_e){const et=_e.filter(st=>st.type==="extension"),rt=_e.filter(st=>st.type==="node"),nt=_e.filter(st=>st.type==="mark");return{baseExtensions:et,nodeExtensions:rt,markExtensions:nt}}function getAttributesFromExtensions(_e){const et=[],{nodeExtensions:rt,markExtensions:nt}=splitExtensions(_e),st=[...rt,...nt],it={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return _e.forEach(at=>{const ot={name:at.name,options:at.options,storage:at.storage,extensions:st},lt=getExtensionField(at,"addGlobalAttributes",ot);if(!lt)return;lt().forEach(ut=>{ut.types.forEach(dt=>{Object.entries(ut.attributes).forEach(([pt,mt])=>{et.push({type:dt,name:pt,attribute:{...it,...mt}})})})})}),st.forEach(at=>{const ot={name:at.name,options:at.options,storage:at.storage},lt=getExtensionField(at,"addAttributes",ot);if(!lt)return;const ct=lt();Object.entries(ct).forEach(([ut,dt])=>{const pt={...it,...dt};typeof(pt==null?void 0:pt.default)=="function"&&(pt.default=pt.default()),pt!=null&&pt.isRequired&&(pt==null?void 0:pt.default)===void 0&&delete pt.default,et.push({type:at.name,name:ut,attribute:pt})})}),et}function mergeAttributes(..._e){return _e.filter(et=>!!et).reduce((et,rt)=>{const nt={...et};return Object.entries(rt).forEach(([st,it])=>{if(!nt[st]){nt[st]=it;return}if(st==="class"){const ot=it?String(it).split(" "):[],lt=nt[st]?nt[st].split(" "):[],ct=ot.filter(ut=>!lt.includes(ut));nt[st]=[...lt,...ct].join(" ")}else if(st==="style"){const ot=it?it.split(";").map(ut=>ut.trim()).filter(Boolean):[],lt=nt[st]?nt[st].split(";").map(ut=>ut.trim()).filter(Boolean):[],ct=new Map;lt.forEach(ut=>{const[dt,pt]=ut.split(":").map(mt=>mt.trim());ct.set(dt,pt)}),ot.forEach(ut=>{const[dt,pt]=ut.split(":").map(mt=>mt.trim());ct.set(dt,pt)}),nt[st]=Array.from(ct.entries()).map(([ut,dt])=>`${ut}: ${dt}`).join("; ")}else nt[st]=it}),nt},{})}function getRenderedAttributes(_e,et){return et.filter(rt=>rt.type===_e.type.name).filter(rt=>rt.attribute.rendered).map(rt=>rt.attribute.renderHTML?rt.attribute.renderHTML(_e.attrs)||{}:{[rt.name]:_e.attrs[rt.name]}).reduce((rt,nt)=>mergeAttributes(rt,nt),{})}function fromString(_e){return typeof _e!="string"?_e:_e.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(_e):_e==="true"?!0:_e==="false"?!1:_e}function injectExtensionAttributesToParseRule(_e,et){return"style"in _e?_e:{..._e,getAttrs:rt=>{const nt=_e.getAttrs?_e.getAttrs(rt):_e.attrs;if(nt===!1)return!1;const st=et.reduce((it,at)=>{const ot=at.attribute.parseHTML?at.attribute.parseHTML(rt):fromString(rt.getAttribute(at.name));return ot==null?it:{...it,[at.name]:ot}},{});return{...nt,...st}}}}function cleanUpSchemaItem(_e){return Object.fromEntries(Object.entries(_e).filter(([et,rt])=>et==="attrs"&&isEmptyObject$1(rt)?!1:rt!=null))}function buildAttributeSpec(_e){var et,rt;const nt={};return!((et=_e==null?void 0:_e.attribute)!=null&&et.isRequired)&&"default"in((_e==null?void 0:_e.attribute)||{})&&(nt.default=_e.attribute.default),((rt=_e==null?void 0:_e.attribute)==null?void 0:rt.validate)!==void 0&&(nt.validate=_e.attribute.validate),[_e.name,nt]}function getSchemaByResolvedExtensions(_e,et){var rt;const nt=getAttributesFromExtensions(_e),{nodeExtensions:st,markExtensions:it}=splitExtensions(_e),at=(rt=st.find(ct=>getExtensionField(ct,"topNode")))==null?void 0:rt.name,ot=Object.fromEntries(st.map(ct=>{const ut=nt.filter(gt=>gt.type===ct.name),dt={name:ct.name,options:ct.options,storage:ct.storage,editor:et},pt=_e.reduce((gt,Et)=>{const jt=getExtensionField(Et,"extendNodeSchema",dt);return{...gt,...jt?jt(ct):{}}},{}),mt=cleanUpSchemaItem({...pt,content:callOrReturn(getExtensionField(ct,"content",dt)),marks:callOrReturn(getExtensionField(ct,"marks",dt)),group:callOrReturn(getExtensionField(ct,"group",dt)),inline:callOrReturn(getExtensionField(ct,"inline",dt)),atom:callOrReturn(getExtensionField(ct,"atom",dt)),selectable:callOrReturn(getExtensionField(ct,"selectable",dt)),draggable:callOrReturn(getExtensionField(ct,"draggable",dt)),code:callOrReturn(getExtensionField(ct,"code",dt)),whitespace:callOrReturn(getExtensionField(ct,"whitespace",dt)),linebreakReplacement:callOrReturn(getExtensionField(ct,"linebreakReplacement",dt)),defining:callOrReturn(getExtensionField(ct,"defining",dt)),isolating:callOrReturn(getExtensionField(ct,"isolating",dt)),attrs:Object.fromEntries(ut.map(buildAttributeSpec))}),xt=callOrReturn(getExtensionField(ct,"parseHTML",dt));xt&&(mt.parseDOM=xt.map(gt=>injectExtensionAttributesToParseRule(gt,ut)));const yt=getExtensionField(ct,"renderHTML",dt);yt&&(mt.toDOM=gt=>yt({node:gt,HTMLAttributes:getRenderedAttributes(gt,ut)}));const vt=getExtensionField(ct,"renderText",dt);return vt&&(mt.toText=vt),[ct.name,mt]})),lt=Object.fromEntries(it.map(ct=>{const ut=nt.filter(vt=>vt.type===ct.name),dt={name:ct.name,options:ct.options,storage:ct.storage,editor:et},pt=_e.reduce((vt,gt)=>{const Et=getExtensionField(gt,"extendMarkSchema",dt);return{...vt,...Et?Et(ct):{}}},{}),mt=cleanUpSchemaItem({...pt,inclusive:callOrReturn(getExtensionField(ct,"inclusive",dt)),excludes:callOrReturn(getExtensionField(ct,"excludes",dt)),group:callOrReturn(getExtensionField(ct,"group",dt)),spanning:callOrReturn(getExtensionField(ct,"spanning",dt)),code:callOrReturn(getExtensionField(ct,"code",dt)),attrs:Object.fromEntries(ut.map(buildAttributeSpec))}),xt=callOrReturn(getExtensionField(ct,"parseHTML",dt));xt&&(mt.parseDOM=xt.map(vt=>injectExtensionAttributesToParseRule(vt,ut)));const yt=getExtensionField(ct,"renderHTML",dt);return yt&&(mt.toDOM=vt=>yt({mark:vt,HTMLAttributes:getRenderedAttributes(vt,ut)})),[ct.name,mt]}));return new Schema({topNode:at,nodes:ot,marks:lt})}function findDuplicates(_e){const et=_e.filter((rt,nt)=>_e.indexOf(rt)!==nt);return Array.from(new Set(et))}function sortExtensions(_e){return _e.sort((rt,nt)=>{const st=getExtensionField(rt,"priority")||100,it=getExtensionField(nt,"priority")||100;return st>it?-1:st<it?1:0})}function resolveExtensions(_e){const et=sortExtensions(flattenExtensions(_e)),rt=findDuplicates(et.map(nt=>nt.name));return rt.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${rt.map(nt=>`'${nt}'`).join(", ")}]. This can lead to issues.`),et}function getTextBetween(_e,et,rt){const{from:nt,to:st}=et,{blockSeparator:it=`

`,textSerializers:at={}}=rt||{};let ot="";return _e.nodesBetween(nt,st,(lt,ct,ut,dt)=>{var pt;lt.isBlock&&ct>nt&&(ot+=it);const mt=at==null?void 0:at[lt.type.name];if(mt)return ut&&(ot+=mt({node:lt,pos:ct,parent:ut,index:dt,range:et})),!1;lt.isText&&(ot+=(pt=lt==null?void 0:lt.text)==null?void 0:pt.slice(Math.max(nt,ct)-ct,st-ct))}),ot}function getText(_e,et){const rt={from:0,to:_e.content.size};return getTextBetween(_e,rt,et)}function getTextSerializersFromSchema(_e){return Object.fromEntries(Object.entries(_e.nodes).filter(([,et])=>et.spec.toText).map(([et,rt])=>[et,rt.spec.toText]))}function getNodeAttributes(_e,et){const rt=getNodeType(et,_e.schema),{from:nt,to:st}=_e.selection,it=[];_e.doc.nodesBetween(nt,st,ot=>{it.push(ot)});const at=it.reverse().find(ot=>ot.type.name===rt.name);return at?{...at.attrs}:{}}function getAttributes(_e,et){const rt=getSchemaTypeNameByName(typeof et=="string"?et:et.name,_e.schema);return rt==="node"?getNodeAttributes(_e,et):rt==="mark"?getMarkAttributes(_e,et):{}}function removeDuplicates(_e,et=JSON.stringify){const rt={};return _e.filter(nt=>{const st=et(nt);return Object.prototype.hasOwnProperty.call(rt,st)?!1:rt[st]=!0})}function simplifyChangedRanges(_e){const et=removeDuplicates(_e);return et.length===1?et:et.filter((rt,nt)=>!et.filter((it,at)=>at!==nt).some(it=>rt.oldRange.from>=it.oldRange.from&&rt.oldRange.to<=it.oldRange.to&&rt.newRange.from>=it.newRange.from&&rt.newRange.to<=it.newRange.to))}function getChangedRanges(_e){const{mapping:et,steps:rt}=_e,nt=[];return et.maps.forEach((st,it)=>{const at=[];if(st.ranges.length)st.forEach((ot,lt)=>{at.push({from:ot,to:lt})});else{const{from:ot,to:lt}=rt[it];if(ot===void 0||lt===void 0)return;at.push({from:ot,to:lt})}at.forEach(({from:ot,to:lt})=>{const ct=et.slice(it).map(ot,-1),ut=et.slice(it).map(lt),dt=et.invert().map(ct,-1),pt=et.invert().map(ut);nt.push({oldRange:{from:dt,to:pt},newRange:{from:ct,to:ut}})})}),simplifyChangedRanges(nt)}function getMarksBetween(_e,et,rt){const nt=[];return _e===et?rt.resolve(_e).marks().forEach(st=>{const it=rt.resolve(_e),at=getMarkRange(it,st.type);at&&nt.push({mark:st,...at})}):rt.nodesBetween(_e,et,(st,it)=>{!st||(st==null?void 0:st.nodeSize)===void 0||nt.push(...st.marks.map(at=>({from:it,to:it+st.nodeSize,mark:at})))}),nt}var getNodeAtPosition=(_e,et,rt,nt=20)=>{const st=_e.doc.resolve(rt);let it=nt,at=null;for(;it>0&&at===null;){const ot=st.node(it);(ot==null?void 0:ot.type.name)===et?at=ot:it-=1}return[at,it]};function getSchemaTypeByName(_e,et){return et.nodes[_e]||et.marks[_e]||null}function getSplittedAttributes(_e,et,rt){return Object.fromEntries(Object.entries(rt).filter(([nt])=>{const st=_e.find(it=>it.type===et&&it.name===nt);return st?st.attribute.keepOnSplit:!1}))}var getTextContentFromNodes=(_e,et=500)=>{let rt="";const nt=_e.parentOffset;return _e.parent.nodesBetween(Math.max(0,nt-et),nt,(st,it,at,ot)=>{var lt,ct;const ut=((ct=(lt=st.type.spec).toText)==null?void 0:ct.call(lt,{node:st,pos:it,parent:at,index:ot}))||st.textContent||"%leaf%";rt+=st.isAtom&&!st.isText?ut:ut.slice(0,Math.max(0,nt-it))}),rt};function isMarkActive(_e,et,rt={}){const{empty:nt,ranges:st}=_e.selection,it=et?getMarkType(et,_e.schema):null;if(nt)return!!(_e.storedMarks||_e.selection.$from.marks()).filter(dt=>it?it.name===dt.type.name:!0).find(dt=>objectIncludes(dt.attrs,rt,{strict:!1}));let at=0;const ot=[];if(st.forEach(({$from:dt,$to:pt})=>{const mt=dt.pos,xt=pt.pos;_e.doc.nodesBetween(mt,xt,(yt,vt)=>{if(!yt.isText&&!yt.marks.length)return;const gt=Math.max(mt,vt),Et=Math.min(xt,vt+yt.nodeSize),jt=Et-gt;at+=jt,ot.push(...yt.marks.map(kt=>({mark:kt,from:gt,to:Et})))})}),at===0)return!1;const lt=ot.filter(dt=>it?it.name===dt.mark.type.name:!0).filter(dt=>objectIncludes(dt.mark.attrs,rt,{strict:!1})).reduce((dt,pt)=>dt+pt.to-pt.from,0),ct=ot.filter(dt=>it?dt.mark.type!==it&&dt.mark.type.excludes(it):!0).reduce((dt,pt)=>dt+pt.to-pt.from,0);return(lt>0?lt+ct:lt)>=at}function isActive(_e,et,rt={}){if(!et)return isNodeActive(_e,null,rt)||isMarkActive(_e,null,rt);const nt=getSchemaTypeNameByName(et,_e.schema);return nt==="node"?isNodeActive(_e,et,rt):nt==="mark"?isMarkActive(_e,et,rt):!1}var isAtEndOfNode=(_e,et)=>{const{$from:rt,$to:nt,$anchor:st}=_e.selection;if(et){const it=findParentNode(ot=>ot.type.name===et)(_e.selection);if(!it)return!1;const at=_e.doc.resolve(it.pos+1);return st.pos+1===at.end()}return!(nt.parentOffset<nt.parent.nodeSize-2||rt.pos!==nt.pos)},isAtStartOfNode=_e=>{const{$from:et,$to:rt}=_e.selection;return!(et.parentOffset>0||et.pos!==rt.pos)};function isExtensionRulesEnabled(_e,et){return Array.isArray(et)?et.some(rt=>(typeof rt=="string"?rt:rt.name)===_e.name):et}function isList(_e,et){const{nodeExtensions:rt}=splitExtensions(et),nt=rt.find(at=>at.name===_e);if(!nt)return!1;const st={name:nt.name,options:nt.options,storage:nt.storage},it=callOrReturn(getExtensionField(nt,"group",st));return typeof it!="string"?!1:it.split(" ").includes("list")}function isNodeEmpty(_e,{checkChildren:et=!0,ignoreWhitespace:rt=!1}={}){var nt;if(rt){if(_e.type.name==="hardBreak")return!0;if(_e.isText)return/^\s*$/m.test((nt=_e.text)!=null?nt:"")}if(_e.isText)return!_e.text;if(_e.isAtom||_e.isLeaf)return!1;if(_e.content.childCount===0)return!0;if(et){let st=!0;return _e.content.forEach(it=>{st!==!1&&(isNodeEmpty(it,{ignoreWhitespace:rt,checkChildren:et})||(st=!1))}),st}return!1}function isNodeSelection(_e){return _e instanceof NodeSelection}var MappablePosition=class Bo{constructor(et){this.position=et}static fromJSON(et){return new Bo(et.position)}toJSON(){return{position:this.position}}};function getUpdatedPosition(_e,et){const rt=et.mapping.mapResult(_e.position);return{position:new MappablePosition(rt.pos),mapResult:rt}}function createMappablePosition(_e){return new MappablePosition(_e)}function canSetMark(_e,et,rt){var nt;const{selection:st}=et;let it=null;if(isTextSelection(st)&&(it=st.$cursor),it){const ot=(nt=_e.storedMarks)!=null?nt:it.marks();return it.parent.type.allowsMarkType(rt)&&(!!rt.isInSet(ot)||!ot.some(ct=>ct.type.excludes(rt)))}const{ranges:at}=st;return at.some(({$from:ot,$to:lt})=>{let ct=ot.depth===0?_e.doc.inlineContent&&_e.doc.type.allowsMarkType(rt):!1;return _e.doc.nodesBetween(ot.pos,lt.pos,(ut,dt,pt)=>{if(ct)return!1;if(ut.isInline){const mt=!pt||pt.type.allowsMarkType(rt),xt=!!rt.isInSet(ut.marks)||!ut.marks.some(yt=>yt.type.excludes(rt));ct=mt&&xt}return!ct}),ct})}var setMark=(_e,et={})=>({tr:rt,state:nt,dispatch:st})=>{const{selection:it}=rt,{empty:at,ranges:ot}=it,lt=getMarkType(_e,nt.schema);if(st)if(at){const ct=getMarkAttributes(nt,lt);rt.addStoredMark(lt.create({...ct,...et}))}else ot.forEach(ct=>{const ut=ct.$from.pos,dt=ct.$to.pos;nt.doc.nodesBetween(ut,dt,(pt,mt)=>{const xt=Math.max(mt,ut),yt=Math.min(mt+pt.nodeSize,dt);pt.marks.find(gt=>gt.type===lt)?pt.marks.forEach(gt=>{lt===gt.type&&rt.addMark(xt,yt,lt.create({...gt.attrs,...et}))}):rt.addMark(xt,yt,lt.create(et))})});return canSetMark(nt,rt,lt)},setMeta=(_e,et)=>({tr:rt})=>(rt.setMeta(_e,et),!0),setNode=(_e,et={})=>({state:rt,dispatch:nt,chain:st})=>{const it=getNodeType(_e,rt.schema);let at;return rt.selection.$anchor.sameParent(rt.selection.$head)&&(at=rt.selection.$anchor.parent.attrs),it.isTextblock?st().command(({commands:ot})=>setBlockType(it,{...at,...et})(rt)?!0:ot.clearNodes()).command(({state:ot})=>setBlockType(it,{...at,...et})(ot,nt)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},setNodeSelection=_e=>({tr:et,dispatch:rt})=>{if(rt){const{doc:nt}=et,st=minMax(_e,0,nt.content.size),it=NodeSelection.create(nt,st);et.setSelection(it)}return!0},setTextDirection=(_e,et)=>({tr:rt,state:nt,dispatch:st})=>{const{selection:it}=nt;let at,ot;return typeof et=="number"?(at=et,ot=et):et&&"from"in et&&"to"in et?(at=et.from,ot=et.to):(at=it.from,ot=it.to),st&&rt.doc.nodesBetween(at,ot,(lt,ct)=>{lt.isText||rt.setNodeMarkup(ct,void 0,{...lt.attrs,dir:_e})}),!0},setTextSelection=_e=>({tr:et,dispatch:rt})=>{if(rt){const{doc:nt}=et,{from:st,to:it}=typeof _e=="number"?{from:_e,to:_e}:_e,at=TextSelection.atStart(nt).from,ot=TextSelection.atEnd(nt).to,lt=minMax(st,at,ot),ct=minMax(it,at,ot),ut=TextSelection.create(nt,lt,ct);et.setSelection(ut)}return!0},sinkListItem=_e=>({state:et,dispatch:rt})=>{const nt=getNodeType(_e,et.schema);return sinkListItem$1(nt)(et,rt)};function ensureMarks(_e,et){const rt=_e.storedMarks||_e.selection.$to.parentOffset&&_e.selection.$from.marks();if(rt){const nt=rt.filter(st=>et==null?void 0:et.includes(st.type.name));_e.tr.ensureMarks(nt)}}var splitBlock=({keepMarks:_e=!0}={})=>({tr:et,state:rt,dispatch:nt,editor:st})=>{const{selection:it,doc:at}=et,{$from:ot,$to:lt}=it,ct=st.extensionManager.attributes,ut=getSplittedAttributes(ct,ot.node().type.name,ot.node().attrs);if(it instanceof NodeSelection&&it.node.isBlock)return!ot.parentOffset||!canSplit(at,ot.pos)?!1:(nt&&(_e&&ensureMarks(rt,st.extensionManager.splittableMarks),et.split(ot.pos).scrollIntoView()),!0);if(!ot.parent.isBlock)return!1;const dt=lt.parentOffset===lt.parent.content.size,pt=ot.depth===0?void 0:defaultBlockAt(ot.node(-1).contentMatchAt(ot.indexAfter(-1)));let mt=dt&&pt?[{type:pt,attrs:ut}]:void 0,xt=canSplit(et.doc,et.mapping.map(ot.pos),1,mt);if(!mt&&!xt&&canSplit(et.doc,et.mapping.map(ot.pos),1,pt?[{type:pt}]:void 0)&&(xt=!0,mt=pt?[{type:pt,attrs:ut}]:void 0),nt){if(xt&&(it instanceof TextSelection&&et.deleteSelection(),et.split(et.mapping.map(ot.pos),1,mt),pt&&!dt&&!ot.parentOffset&&ot.parent.type!==pt)){const yt=et.mapping.map(ot.before()),vt=et.doc.resolve(yt);ot.node(-1).canReplaceWith(vt.index(),vt.index()+1,pt)&&et.setNodeMarkup(et.mapping.map(ot.before()),pt)}_e&&ensureMarks(rt,st.extensionManager.splittableMarks),et.scrollIntoView()}return xt},splitListItem=(_e,et={})=>({tr:rt,state:nt,dispatch:st,editor:it})=>{var at;const ot=getNodeType(_e,nt.schema),{$from:lt,$to:ct}=nt.selection,ut=nt.selection.node;if(ut&&ut.isBlock||lt.depth<2||!lt.sameParent(ct))return!1;const dt=lt.node(-1);if(dt.type!==ot)return!1;const pt=it.extensionManager.attributes;if(lt.parent.content.size===0&&lt.node(-1).childCount===lt.indexAfter(-1)){if(lt.depth===2||lt.node(-3).type!==ot||lt.index(-2)!==lt.node(-2).childCount-1)return!1;if(st){let gt=Fragment.empty;const Et=lt.index(-1)?1:lt.index(-2)?2:3;for(let Nt=lt.depth-Et;Nt>=lt.depth-3;Nt-=1)gt=Fragment.from(lt.node(Nt).copy(gt));const jt=lt.indexAfter(-1)<lt.node(-2).childCount?1:lt.indexAfter(-2)<lt.node(-3).childCount?2:3,kt={...getSplittedAttributes(pt,lt.node().type.name,lt.node().attrs),...et},Rt=((at=ot.contentMatch.defaultType)==null?void 0:at.createAndFill(kt))||void 0;gt=gt.append(Fragment.from(ot.createAndFill(null,Rt)||void 0));const St=lt.before(lt.depth-(Et-1));rt.replace(St,lt.after(-jt),new Slice(gt,4-Et,0));let _t=-1;rt.doc.nodesBetween(St,rt.doc.content.size,(Nt,Lt)=>{if(_t>-1)return!1;Nt.isTextblock&&Nt.content.size===0&&(_t=Lt+1)}),_t>-1&&rt.setSelection(TextSelection.near(rt.doc.resolve(_t))),rt.scrollIntoView()}return!0}const mt=ct.pos===lt.end()?dt.contentMatchAt(0).defaultType:null,xt={...getSplittedAttributes(pt,dt.type.name,dt.attrs),...et},yt={...getSplittedAttributes(pt,lt.node().type.name,lt.node().attrs),...et};rt.delete(lt.pos,ct.pos);const vt=mt?[{type:ot,attrs:xt},{type:mt,attrs:yt}]:[{type:ot,attrs:xt}];if(!canSplit(rt.doc,lt.pos,2))return!1;if(st){const{selection:gt,storedMarks:Et}=nt,{splittableMarks:jt}=it.extensionManager,kt=Et||gt.$to.parentOffset&&gt.$from.marks();if(rt.split(lt.pos,2,vt).scrollIntoView(),!kt||!st)return!0;const Rt=kt.filter(St=>jt.includes(St.type.name));rt.ensureMarks(Rt)}return!0},joinListBackwards=(_e,et)=>{const rt=findParentNode(at=>at.type===et)(_e.selection);if(!rt)return!0;const nt=_e.doc.resolve(Math.max(0,rt.pos-1)).before(rt.depth);if(nt===void 0)return!0;const st=_e.doc.nodeAt(nt);return rt.node.type===(st==null?void 0:st.type)&&canJoin(_e.doc,rt.pos)&&_e.join(rt.pos),!0},joinListForwards=(_e,et)=>{const rt=findParentNode(at=>at.type===et)(_e.selection);if(!rt)return!0;const nt=_e.doc.resolve(rt.start).after(rt.depth);if(nt===void 0)return!0;const st=_e.doc.nodeAt(nt);return rt.node.type===(st==null?void 0:st.type)&&canJoin(_e.doc,nt)&&_e.join(nt),!0},toggleList=(_e,et,rt,nt={})=>({editor:st,tr:it,state:at,dispatch:ot,chain:lt,commands:ct,can:ut})=>{const{extensions:dt,splittableMarks:pt}=st.extensionManager,mt=getNodeType(_e,at.schema),xt=getNodeType(et,at.schema),{selection:yt,storedMarks:vt}=at,{$from:gt,$to:Et}=yt,jt=gt.blockRange(Et),kt=vt||yt.$to.parentOffset&&yt.$from.marks();if(!jt)return!1;const Rt=findParentNode(St=>isList(St.type.name,dt))(yt);if(jt.depth>=1&&Rt&&jt.depth-Rt.depth<=1){if(Rt.node.type===mt)return ct.liftListItem(xt);if(isList(Rt.node.type.name,dt)&&mt.validContent(Rt.node.content)&&ot)return lt().command(()=>(it.setNodeMarkup(Rt.pos,mt),!0)).command(()=>joinListBackwards(it,mt)).command(()=>joinListForwards(it,mt)).run()}return!rt||!kt||!ot?lt().command(()=>ut().wrapInList(mt,nt)?!0:ct.clearNodes()).wrapInList(mt,nt).command(()=>joinListBackwards(it,mt)).command(()=>joinListForwards(it,mt)).run():lt().command(()=>{const St=ut().wrapInList(mt,nt),_t=kt.filter(Nt=>pt.includes(Nt.type.name));return it.ensureMarks(_t),St?!0:ct.clearNodes()}).wrapInList(mt,nt).command(()=>joinListBackwards(it,mt)).command(()=>joinListForwards(it,mt)).run()},toggleMark=(_e,et={},rt={})=>({state:nt,commands:st})=>{const{extendEmptyMarkRange:it=!1}=rt,at=getMarkType(_e,nt.schema);return isMarkActive(nt,at,et)?st.unsetMark(at,{extendEmptyMarkRange:it}):st.setMark(at,et)},toggleNode=(_e,et,rt={})=>({state:nt,commands:st})=>{const it=getNodeType(_e,nt.schema),at=getNodeType(et,nt.schema),ot=isNodeActive(nt,it,rt);let lt;return nt.selection.$anchor.sameParent(nt.selection.$head)&&(lt=nt.selection.$anchor.parent.attrs),ot?st.setNode(at,lt):st.setNode(it,{...lt,...rt})},toggleWrap=(_e,et={})=>({state:rt,commands:nt})=>{const st=getNodeType(_e,rt.schema);return isNodeActive(rt,st,et)?nt.lift(st):nt.wrapIn(st,et)},undoInputRule=()=>({state:_e,dispatch:et})=>{const rt=_e.plugins;for(let nt=0;nt<rt.length;nt+=1){const st=rt[nt];let it;if(st.spec.isInputRules&&(it=st.getState(_e))){if(et){const at=_e.tr,ot=it.transform;for(let lt=ot.steps.length-1;lt>=0;lt-=1)at.step(ot.steps[lt].invert(ot.docs[lt]));if(it.text){const lt=at.doc.resolve(it.from).marks();at.replaceWith(it.from,it.to,_e.schema.text(it.text,lt))}else at.delete(it.from,it.to)}return!0}}return!1},unsetAllMarks=()=>({tr:_e,dispatch:et})=>{const{selection:rt}=_e,{empty:nt,ranges:st}=rt;return nt||et&&st.forEach(it=>{_e.removeMark(it.$from.pos,it.$to.pos)}),!0},unsetMark=(_e,et={})=>({tr:rt,state:nt,dispatch:st})=>{var it;const{extendEmptyMarkRange:at=!1}=et,{selection:ot}=rt,lt=getMarkType(_e,nt.schema),{$from:ct,empty:ut,ranges:dt}=ot;if(!st)return!0;if(ut&&at){let{from:pt,to:mt}=ot;const xt=(it=ct.marks().find(vt=>vt.type===lt))==null?void 0:it.attrs,yt=getMarkRange(ct,lt,xt);yt&&(pt=yt.from,mt=yt.to),rt.removeMark(pt,mt,lt)}else dt.forEach(pt=>{rt.removeMark(pt.$from.pos,pt.$to.pos,lt)});return rt.removeStoredMark(lt),!0},unsetTextDirection=_e=>({tr:et,state:rt,dispatch:nt})=>{const{selection:st}=rt;let it,at;return typeof _e=="number"?(it=_e,at=_e):_e&&"from"in _e&&"to"in _e?(it=_e.from,at=_e.to):(it=st.from,at=st.to),nt&&et.doc.nodesBetween(it,at,(ot,lt)=>{if(ot.isText)return;const ct={...ot.attrs};delete ct.dir,et.setNodeMarkup(lt,void 0,ct)}),!0},updateAttributes=(_e,et={})=>({tr:rt,state:nt,dispatch:st})=>{let it=null,at=null;const ot=getSchemaTypeNameByName(typeof _e=="string"?_e:_e.name,nt.schema);if(!ot)return!1;ot==="node"&&(it=getNodeType(_e,nt.schema)),ot==="mark"&&(at=getMarkType(_e,nt.schema));let lt=!1;return rt.selection.ranges.forEach(ct=>{const ut=ct.$from.pos,dt=ct.$to.pos;let pt,mt,xt,yt;rt.selection.empty?nt.doc.nodesBetween(ut,dt,(vt,gt)=>{it&&it===vt.type&&(lt=!0,xt=Math.max(gt,ut),yt=Math.min(gt+vt.nodeSize,dt),pt=gt,mt=vt)}):nt.doc.nodesBetween(ut,dt,(vt,gt)=>{gt<ut&&it&&it===vt.type&&(lt=!0,xt=Math.max(gt,ut),yt=Math.min(gt+vt.nodeSize,dt),pt=gt,mt=vt),gt>=ut&&gt<=dt&&(it&&it===vt.type&&(lt=!0,st&&rt.setNodeMarkup(gt,void 0,{...vt.attrs,...et})),at&&vt.marks.length&&vt.marks.forEach(Et=>{if(at===Et.type&&(lt=!0,st)){const jt=Math.max(gt,ut),kt=Math.min(gt+vt.nodeSize,dt);rt.addMark(jt,kt,at.create({...Et.attrs,...et}))}}))}),mt&&(pt!==void 0&&st&&rt.setNodeMarkup(pt,void 0,{...mt.attrs,...et}),at&&mt.marks.length&&mt.marks.forEach(vt=>{at===vt.type&&st&&rt.addMark(xt,yt,at.create({...vt.attrs,...et}))}))}),lt},wrapIn=(_e,et={})=>({state:rt,dispatch:nt})=>{const st=getNodeType(_e,rt.schema);return wrapIn$1(st,et)(rt,nt)},wrapInList=(_e,et={})=>({state:rt,dispatch:nt})=>{const st=getNodeType(_e,rt.schema);return wrapInList$1(st,et)(rt,nt)},EventEmitter=class{constructor(){this.callbacks={}}on(_e,et){return this.callbacks[_e]||(this.callbacks[_e]=[]),this.callbacks[_e].push(et),this}emit(_e,...et){const rt=this.callbacks[_e];return rt&&rt.forEach(nt=>nt.apply(this,et)),this}off(_e,et){const rt=this.callbacks[_e];return rt&&(et?this.callbacks[_e]=rt.filter(nt=>nt!==et):delete this.callbacks[_e]),this}once(_e,et){const rt=(...nt)=>{this.off(_e,rt),et.apply(this,nt)};return this.on(_e,rt)}removeAllListeners(){this.callbacks={}}},InputRule=class{constructor(_e){var et;this.find=_e.find,this.handler=_e.handler,this.undoable=(et=_e.undoable)!=null?et:!0}},inputRuleMatcherHandler=(_e,et)=>{if(isRegExp(et))return et.exec(_e);const rt=et(_e);if(!rt)return null;const nt=[rt.text];return nt.index=rt.index,nt.input=_e,nt.data=rt.data,rt.replaceWith&&(rt.text.includes(rt.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),nt.push(rt.replaceWith)),nt};function run$2(_e){var et;const{editor:rt,from:nt,to:st,text:it,rules:at,plugin:ot}=_e,{view:lt}=rt;if(lt.composing)return!1;const ct=lt.state.doc.resolve(nt);if(ct.parent.type.spec.code||(et=ct.nodeBefore||ct.nodeAfter)!=null&&et.marks.find(pt=>pt.type.spec.code))return!1;let ut=!1;const dt=getTextContentFromNodes(ct)+it;return at.forEach(pt=>{if(ut)return;const mt=inputRuleMatcherHandler(dt,pt.find);if(!mt)return;const xt=lt.state.tr,yt=createChainableState({state:lt.state,transaction:xt}),vt={from:nt-(mt[0].length-it.length),to:st},{commands:gt,chain:Et,can:jt}=new CommandManager({editor:rt,state:yt});pt.handler({state:yt,range:vt,match:mt,commands:gt,chain:Et,can:jt})===null||!xt.steps.length||(pt.undoable&&xt.setMeta(ot,{transform:xt,from:nt,to:st,text:it}),lt.dispatch(xt),ut=!0)}),ut}function inputRulesPlugin(_e){const{editor:et,rules:rt}=_e,nt=new Plugin({state:{init(){return null},apply(st,it,at){const ot=st.getMeta(nt);if(ot)return ot;const lt=st.getMeta("applyInputRules");return!!lt&&setTimeout(()=>{let{text:ut}=lt;typeof ut=="string"?ut=ut:ut=getHTMLFromFragment(Fragment.from(ut),at.schema);const{from:dt}=lt,pt=dt+ut.length;run$2({editor:et,from:dt,to:pt,text:ut,rules:rt,plugin:nt})}),st.selectionSet||st.docChanged?null:it}},props:{handleTextInput(st,it,at,ot){return run$2({editor:et,from:it,to:at,text:ot,rules:rt,plugin:nt})},handleDOMEvents:{compositionend:st=>(setTimeout(()=>{const{$cursor:it}=st.state.selection;it&&run$2({editor:et,from:it.pos,to:it.pos,text:"",rules:rt,plugin:nt})}),!1)},handleKeyDown(st,it){if(it.key!=="Enter")return!1;const{$cursor:at}=st.state.selection;return at?run$2({editor:et,from:at.pos,to:at.pos,text:`
`,rules:rt,plugin:nt}):!1}},isInputRules:!0});return nt}function getType(_e){return Object.prototype.toString.call(_e).slice(8,-1)}function isPlainObject$1(_e){return getType(_e)!=="Object"?!1:_e.constructor===Object&&Object.getPrototypeOf(_e)===Object.prototype}function mergeDeep(_e,et){const rt={..._e};return isPlainObject$1(_e)&&isPlainObject$1(et)&&Object.keys(et).forEach(nt=>{isPlainObject$1(et[nt])&&isPlainObject$1(_e[nt])?rt[nt]=mergeDeep(_e[nt],et[nt]):rt[nt]=et[nt]}),rt}var Extendable=class{constructor(_e={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,..._e},this.name=this.config.name}get options(){return{...callOrReturn(getExtensionField(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...callOrReturn(getExtensionField(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(_e={}){const et=this.extend({...this.config,addOptions:()=>mergeDeep(this.options,_e)});return et.name=this.name,et.parent=this.parent,et}extend(_e={}){const et=new this.constructor({...this.config,..._e});return et.parent=this,this.child=et,et.name="name"in _e?_e.name:et.parent.name,et}},Mark=class zo extends Extendable{constructor(){super(...arguments),this.type="mark"}static create(et={}){const rt=typeof et=="function"?et():et;return new zo(rt)}static handleExit({editor:et,mark:rt}){const{tr:nt}=et.state,st=et.state.selection.$from;if(st.pos===st.end()){const at=st.marks();if(!!!at.find(ct=>(ct==null?void 0:ct.type.name)===rt.name))return!1;const lt=at.find(ct=>(ct==null?void 0:ct.type.name)===rt.name);return lt&&nt.removeStoredMark(lt),nt.insertText(" ",st.pos),et.view.dispatch(nt),!0}return!1}configure(et){return super.configure(et)}extend(et){const rt=typeof et=="function"?et():et;return super.extend(rt)}};function isNumber(_e){return typeof _e=="number"}var PasteRule=class{constructor(_e){this.find=_e.find,this.handler=_e.handler}},pasteRuleMatcherHandler=(_e,et,rt)=>{if(isRegExp(et))return[..._e.matchAll(et)];const nt=et(_e,rt);return nt?nt.map(st=>{const it=[st.text];return it.index=st.index,it.input=_e,it.data=st.data,st.replaceWith&&(st.text.includes(st.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),it.push(st.replaceWith)),it}):[]};function run2(_e){const{editor:et,state:rt,from:nt,to:st,rule:it,pasteEvent:at,dropEvent:ot}=_e,{commands:lt,chain:ct,can:ut}=new CommandManager({editor:et,state:rt}),dt=[];return rt.doc.nodesBetween(nt,st,(mt,xt)=>{var yt,vt,gt,Et,jt;if((vt=(yt=mt.type)==null?void 0:yt.spec)!=null&&vt.code||!(mt.isText||mt.isTextblock||mt.isInline))return;const kt=(jt=(Et=(gt=mt.content)==null?void 0:gt.size)!=null?Et:mt.nodeSize)!=null?jt:0,Rt=Math.max(nt,xt),St=Math.min(st,xt+kt);if(Rt>=St)return;const _t=mt.isText?mt.text||"":mt.textBetween(Rt-xt,St-xt,void 0,"");pasteRuleMatcherHandler(_t,it.find,at).forEach(Lt=>{if(Lt.index===void 0)return;const $t=Rt+Lt.index+1,Ft=$t+Lt[0].length,Tt={from:rt.tr.mapping.map($t),to:rt.tr.mapping.map(Ft)},Bt=it.handler({state:rt,range:Tt,match:Lt,commands:lt,chain:ct,can:ut,pasteEvent:at,dropEvent:ot});dt.push(Bt)})}),dt.every(mt=>mt!==null)}var tiptapDragFromOtherEditor=null,createClipboardPasteEvent=_e=>{var et;const rt=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(et=rt.clipboardData)==null||et.setData("text/html",_e),rt};function pasteRulesPlugin(_e){const{editor:et,rules:rt}=_e;let nt=null,st=!1,it=!1,at=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,ot;try{ot=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{ot=null}const lt=({state:ut,from:dt,to:pt,rule:mt,pasteEvt:xt})=>{const yt=ut.tr,vt=createChainableState({state:ut,transaction:yt});if(!(!run2({editor:et,state:vt,from:Math.max(dt-1,0),to:pt.b-1,rule:mt,pasteEvent:xt,dropEvent:ot})||!yt.steps.length)){try{ot=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{ot=null}return at=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,yt}};return rt.map(ut=>new Plugin({view(dt){const pt=xt=>{var yt;nt=(yt=dt.dom.parentElement)!=null&&yt.contains(xt.target)?dt.dom.parentElement:null,nt&&(tiptapDragFromOtherEditor=et)},mt=()=>{tiptapDragFromOtherEditor&&(tiptapDragFromOtherEditor=null)};return window.addEventListener("dragstart",pt),window.addEventListener("dragend",mt),{destroy(){window.removeEventListener("dragstart",pt),window.removeEventListener("dragend",mt)}}},props:{handleDOMEvents:{drop:(dt,pt)=>{if(it=nt===dt.dom.parentElement,ot=pt,!it){const mt=tiptapDragFromOtherEditor;mt!=null&&mt.isEditable&&setTimeout(()=>{const xt=mt.state.selection;xt&&mt.commands.deleteRange({from:xt.from,to:xt.to})},10)}return!1},paste:(dt,pt)=>{var mt;const xt=(mt=pt.clipboardData)==null?void 0:mt.getData("text/html");return at=pt,st=!!(xt!=null&&xt.includes("data-pm-slice")),!1}}},appendTransaction:(dt,pt,mt)=>{const xt=dt[0],yt=xt.getMeta("uiEvent")==="paste"&&!st,vt=xt.getMeta("uiEvent")==="drop"&&!it,gt=xt.getMeta("applyPasteRules"),Et=!!gt;if(!yt&&!vt&&!Et)return;if(Et){let{text:Rt}=gt;typeof Rt=="string"?Rt=Rt:Rt=getHTMLFromFragment(Fragment.from(Rt),mt.schema);const{from:St}=gt,_t=St+Rt.length,Nt=createClipboardPasteEvent(Rt);return lt({rule:ut,state:mt,from:St,to:{b:_t},pasteEvt:Nt})}const jt=pt.doc.content.findDiffStart(mt.doc.content),kt=pt.doc.content.findDiffEnd(mt.doc.content);if(!(!isNumber(jt)||!kt||jt===kt.b))return lt({rule:ut,state:mt,from:jt,to:kt,pasteEvt:at})}}))}var ExtensionManager=class{constructor(_e,et){this.splittableMarks=[],this.editor=et,this.baseExtensions=_e,this.extensions=resolveExtensions(_e),this.schema=getSchemaByResolvedExtensions(this.extensions,et),this.setupExtensions()}get commands(){return this.extensions.reduce((_e,et)=>{const rt={name:et.name,options:et.options,storage:this.editor.extensionStorage[et.name],editor:this.editor,type:getSchemaTypeByName(et.name,this.schema)},nt=getExtensionField(et,"addCommands",rt);return nt?{..._e,...nt()}:_e},{})}get plugins(){const{editor:_e}=this;return sortExtensions([...this.extensions].reverse()).flatMap(nt=>{const st={name:nt.name,options:nt.options,storage:this.editor.extensionStorage[nt.name],editor:_e,type:getSchemaTypeByName(nt.name,this.schema)},it=[],at=getExtensionField(nt,"addKeyboardShortcuts",st);let ot={};if(nt.type==="mark"&&getExtensionField(nt,"exitable",st)&&(ot.ArrowRight=()=>Mark.handleExit({editor:_e,mark:nt})),at){const pt=Object.fromEntries(Object.entries(at()).map(([mt,xt])=>[mt,()=>xt({editor:_e})]));ot={...ot,...pt}}const lt=keymap(ot);it.push(lt);const ct=getExtensionField(nt,"addInputRules",st);if(isExtensionRulesEnabled(nt,_e.options.enableInputRules)&&ct){const pt=ct();if(pt&&pt.length){const mt=inputRulesPlugin({editor:_e,rules:pt}),xt=Array.isArray(mt)?mt:[mt];it.push(...xt)}}const ut=getExtensionField(nt,"addPasteRules",st);if(isExtensionRulesEnabled(nt,_e.options.enablePasteRules)&&ut){const pt=ut();if(pt&&pt.length){const mt=pasteRulesPlugin({editor:_e,rules:pt});it.push(...mt)}}const dt=getExtensionField(nt,"addProseMirrorPlugins",st);if(dt){const pt=dt();it.push(...pt)}return it})}get attributes(){return getAttributesFromExtensions(this.extensions)}get nodeViews(){const{editor:_e}=this,{nodeExtensions:et}=splitExtensions(this.extensions);return Object.fromEntries(et.filter(rt=>!!getExtensionField(rt,"addNodeView")).map(rt=>{const nt=this.attributes.filter(lt=>lt.type===rt.name),st={name:rt.name,options:rt.options,storage:this.editor.extensionStorage[rt.name],editor:_e,type:getNodeType(rt.name,this.schema)},it=getExtensionField(rt,"addNodeView",st);if(!it)return[];const at=it();if(!at)return[];const ot=(lt,ct,ut,dt,pt)=>{const mt=getRenderedAttributes(lt,nt);return at({node:lt,view:ct,getPos:ut,decorations:dt,innerDecorations:pt,editor:_e,extension:rt,HTMLAttributes:mt})};return[rt.name,ot]}))}dispatchTransaction(_e){const{editor:et}=this;return sortExtensions([...this.extensions].reverse()).reduceRight((nt,st)=>{const it={name:st.name,options:st.options,storage:this.editor.extensionStorage[st.name],editor:et,type:getSchemaTypeByName(st.name,this.schema)},at=getExtensionField(st,"dispatchTransaction",it);return at?ot=>{at.call(it,{transaction:ot,next:nt})}:nt},_e)}get markViews(){const{editor:_e}=this,{markExtensions:et}=splitExtensions(this.extensions);return Object.fromEntries(et.filter(rt=>!!getExtensionField(rt,"addMarkView")).map(rt=>{const nt=this.attributes.filter(ot=>ot.type===rt.name),st={name:rt.name,options:rt.options,storage:this.editor.extensionStorage[rt.name],editor:_e,type:getMarkType(rt.name,this.schema)},it=getExtensionField(rt,"addMarkView",st);if(!it)return[];const at=(ot,lt,ct)=>{const ut=getRenderedAttributes(ot,nt);return it()({mark:ot,view:lt,inline:ct,editor:_e,extension:rt,HTMLAttributes:ut,updateAttributes:dt=>{updateMarkViewAttributes(ot,_e,dt)}})};return[rt.name,at]}))}setupExtensions(){const _e=this.extensions;this.editor.extensionStorage=Object.fromEntries(_e.map(et=>[et.name,et.storage])),_e.forEach(et=>{var rt;const nt={name:et.name,options:et.options,storage:this.editor.extensionStorage[et.name],editor:this.editor,type:getSchemaTypeByName(et.name,this.schema)};et.type==="mark"&&((rt=callOrReturn(getExtensionField(et,"keepOnSplit",nt)))==null||rt)&&this.splittableMarks.push(et.name);const st=getExtensionField(et,"onBeforeCreate",nt),it=getExtensionField(et,"onCreate",nt),at=getExtensionField(et,"onUpdate",nt),ot=getExtensionField(et,"onSelectionUpdate",nt),lt=getExtensionField(et,"onTransaction",nt),ct=getExtensionField(et,"onFocus",nt),ut=getExtensionField(et,"onBlur",nt),dt=getExtensionField(et,"onDestroy",nt);st&&this.editor.on("beforeCreate",st),it&&this.editor.on("create",it),at&&this.editor.on("update",at),ot&&this.editor.on("selectionUpdate",ot),lt&&this.editor.on("transaction",lt),ct&&this.editor.on("focus",ct),ut&&this.editor.on("blur",ut),dt&&this.editor.on("destroy",dt)})}};ExtensionManager.resolve=resolveExtensions;ExtensionManager.sort=sortExtensions;ExtensionManager.flatten=flattenExtensions;var extensions_exports={};__export$1(extensions_exports,{ClipboardTextSerializer:()=>ClipboardTextSerializer,Commands:()=>Commands,Delete:()=>Delete,Drop:()=>Drop,Editable:()=>Editable,FocusEvents:()=>FocusEvents,Keymap:()=>Keymap,Paste:()=>Paste,Tabindex:()=>Tabindex,TextDirection:()=>TextDirection,focusEventsPluginKey:()=>focusEventsPluginKey});var Extension=class Vo extends Extendable{constructor(){super(...arguments),this.type="extension"}static create(et={}){const rt=typeof et=="function"?et():et;return new Vo(rt)}configure(et){return super.configure(et)}extend(et){const rt=typeof et=="function"?et():et;return super.extend(rt)}},ClipboardTextSerializer=Extension.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:_e}=this,{state:et,schema:rt}=_e,{doc:nt,selection:st}=et,{ranges:it}=st,at=Math.min(...it.map(ut=>ut.$from.pos)),ot=Math.max(...it.map(ut=>ut.$to.pos)),lt=getTextSerializersFromSchema(rt);return getTextBetween(nt,{from:at,to:ot},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:lt})}}})]}}),Commands=Extension.create({name:"commands",addCommands(){return{...commands_exports}}}),Delete=Extension.create({name:"delete",onUpdate({transaction:_e,appendedTransactions:et}){var rt,nt,st;const it=()=>{var at,ot,lt,ct;if((ct=(lt=(ot=(at=this.editor.options.coreExtensionOptions)==null?void 0:at.delete)==null?void 0:ot.filterTransaction)==null?void 0:lt.call(ot,_e))!=null?ct:_e.getMeta("y-sync$"))return;const ut=combineTransactionSteps(_e.before,[_e,...et]);getChangedRanges(ut).forEach(mt=>{ut.mapping.mapResult(mt.oldRange.from).deletedAfter&&ut.mapping.mapResult(mt.oldRange.to).deletedBefore&&ut.before.nodesBetween(mt.oldRange.from,mt.oldRange.to,(xt,yt)=>{const vt=yt+xt.nodeSize-2,gt=mt.oldRange.from<=yt&&vt<=mt.oldRange.to;this.editor.emit("delete",{type:"node",node:xt,from:yt,to:vt,newFrom:ut.mapping.map(yt),newTo:ut.mapping.map(vt),deletedRange:mt.oldRange,newRange:mt.newRange,partial:!gt,editor:this.editor,transaction:_e,combinedTransform:ut})})});const pt=ut.mapping;ut.steps.forEach((mt,xt)=>{var yt,vt;if(mt instanceof RemoveMarkStep){const gt=pt.slice(xt).map(mt.from,-1),Et=pt.slice(xt).map(mt.to),jt=pt.invert().map(gt,-1),kt=pt.invert().map(Et),Rt=(yt=ut.doc.nodeAt(gt-1))==null?void 0:yt.marks.some(_t=>_t.eq(mt.mark)),St=(vt=ut.doc.nodeAt(Et))==null?void 0:vt.marks.some(_t=>_t.eq(mt.mark));this.editor.emit("delete",{type:"mark",mark:mt.mark,from:mt.from,to:mt.to,deletedRange:{from:jt,to:kt},newRange:{from:gt,to:Et},partial:!!(St||Rt),editor:this.editor,transaction:_e,combinedTransform:ut})}})};(st=(nt=(rt=this.editor.options.coreExtensionOptions)==null?void 0:rt.delete)==null?void 0:nt.async)==null||st?setTimeout(it,0):it()}}),Drop=Extension.create({name:"drop",addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("tiptapDrop"),props:{handleDrop:(_e,et,rt,nt)=>{this.editor.emit("drop",{editor:this.editor,event:et,slice:rt,moved:nt})}}})]}}),Editable=Extension.create({name:"editable",addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("editable"),props:{editable:()=>this.editor.options.editable}})]}}),focusEventsPluginKey=new PluginKey("focusEvents"),FocusEvents=Extension.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:_e}=this;return[new Plugin({key:focusEventsPluginKey,props:{handleDOMEvents:{focus:(et,rt)=>{_e.isFocused=!0;const nt=_e.state.tr.setMeta("focus",{event:rt}).setMeta("addToHistory",!1);return et.dispatch(nt),!1},blur:(et,rt)=>{_e.isFocused=!1;const nt=_e.state.tr.setMeta("blur",{event:rt}).setMeta("addToHistory",!1);return et.dispatch(nt),!1}}}})]}}),Keymap=Extension.create({name:"keymap",addKeyboardShortcuts(){const _e=()=>this.editor.commands.first(({commands:at})=>[()=>at.undoInputRule(),()=>at.command(({tr:ot})=>{const{selection:lt,doc:ct}=ot,{empty:ut,$anchor:dt}=lt,{pos:pt,parent:mt}=dt,xt=dt.parent.isTextblock&&pt>0?ot.doc.resolve(pt-1):dt,yt=xt.parent.type.spec.isolating,vt=dt.pos-dt.parentOffset,gt=yt&&xt.parent.childCount===1?vt===dt.pos:Selection.atStart(ct).from===pt;return!ut||!mt.type.isTextblock||mt.textContent.length||!gt||gt&&dt.parent.type.name==="paragraph"?!1:at.clearNodes()}),()=>at.deleteSelection(),()=>at.joinBackward(),()=>at.selectNodeBackward()]),et=()=>this.editor.commands.first(({commands:at})=>[()=>at.deleteSelection(),()=>at.deleteCurrentNode(),()=>at.joinForward(),()=>at.selectNodeForward()]),nt={Enter:()=>this.editor.commands.first(({commands:at})=>[()=>at.newlineInCode(),()=>at.createParagraphNear(),()=>at.liftEmptyBlock(),()=>at.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:_e,"Mod-Backspace":_e,"Shift-Backspace":_e,Delete:et,"Mod-Delete":et,"Mod-a":()=>this.editor.commands.selectAll()},st={...nt},it={...nt,"Ctrl-h":_e,"Alt-Backspace":_e,"Ctrl-d":et,"Ctrl-Alt-Backspace":et,"Alt-Delete":et,"Alt-d":et,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return isiOS()||isMacOS()?it:st},addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("clearDocument"),appendTransaction:(_e,et,rt)=>{if(_e.some(yt=>yt.getMeta("composition")))return;const nt=_e.some(yt=>yt.docChanged)&&!et.doc.eq(rt.doc),st=_e.some(yt=>yt.getMeta("preventClearDocument"));if(!nt||st)return;const{empty:it,from:at,to:ot}=et.selection,lt=Selection.atStart(et.doc).from,ct=Selection.atEnd(et.doc).to;if(it||!(at===lt&&ot===ct)||!isNodeEmpty(rt.doc))return;const pt=rt.tr,mt=createChainableState({state:rt,transaction:pt}),{commands:xt}=new CommandManager({editor:this.editor,state:mt});if(xt.clearNodes(),!!pt.steps.length)return pt}})]}}),Paste=Extension.create({name:"paste",addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("tiptapPaste"),props:{handlePaste:(_e,et,rt)=>{this.editor.emit("paste",{editor:this.editor,event:et,slice:rt})}}})]}}),Tabindex=Extension.create({name:"tabindex",addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),TextDirection=Extension.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:_e}=splitExtensions(this.extensions);return[{types:_e.filter(et=>et.name!=="text").map(et=>et.name),attributes:{dir:{default:this.options.direction,parseHTML:et=>{const rt=et.getAttribute("dir");return rt&&(rt==="ltr"||rt==="rtl"||rt==="auto")?rt:this.options.direction},renderHTML:et=>et.dir?{dir:et.dir}:{}}}}]},addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("textDirection"),props:{attributes:()=>{const _e=this.options.direction;return _e?{dir:_e}:{}}}})]}}),NodePos=class $n{constructor(et,rt,nt=!1,st=null){this.currentNode=null,this.actualDepth=null,this.isBlock=nt,this.resolvedPos=et,this.editor=rt,this.currentNode=st}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var et;return(et=this.actualDepth)!=null?et:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(et){let rt=this.from,nt=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}rt=this.from+1,nt=this.to-1}this.editor.commands.insertContentAt({from:rt,to:nt},et)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const et=this.resolvedPos.start(this.resolvedPos.depth-1),rt=this.resolvedPos.doc.resolve(et);return new $n(rt,this.editor)}get before(){let et=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return et.depth!==this.depth&&(et=this.resolvedPos.doc.resolve(this.from-3)),new $n(et,this.editor)}get after(){let et=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return et.depth!==this.depth&&(et=this.resolvedPos.doc.resolve(this.to+3)),new $n(et,this.editor)}get children(){const et=[];return this.node.content.forEach((rt,nt)=>{const st=rt.isBlock&&!rt.isTextblock,it=rt.isAtom&&!rt.isText,at=this.pos+nt+(it?0:1);if(at<0||at>this.resolvedPos.doc.nodeSize-2)return;const ot=this.resolvedPos.doc.resolve(at);if(!st&&ot.depth<=this.depth)return;const lt=new $n(ot,this.editor,st,st?rt:null);st&&(lt.actualDepth=this.depth+1),et.push(new $n(ot,this.editor,st,st?rt:null))}),et}get firstChild(){return this.children[0]||null}get lastChild(){const et=this.children;return et[et.length-1]||null}closest(et,rt={}){let nt=null,st=this.parent;for(;st&&!nt;){if(st.node.type.name===et)if(Object.keys(rt).length>0){const it=st.node.attrs,at=Object.keys(rt);for(let ot=0;ot<at.length;ot+=1){const lt=at[ot];if(it[lt]!==rt[lt])break}}else nt=st;st=st.parent}return nt}querySelector(et,rt={}){return this.querySelectorAll(et,rt,!0)[0]||null}querySelectorAll(et,rt={},nt=!1){let st=[];if(!this.children||this.children.length===0)return st;const it=Object.keys(rt);return this.children.forEach(at=>{nt&&st.length>0||(at.node.type.name===et&&it.every(lt=>rt[lt]===at.node.attrs[lt])&&st.push(at),!(nt&&st.length>0)&&(st=st.concat(at.querySelectorAll(et,rt,nt))))}),st}setAttribute(et){const{tr:rt}=this.editor.state;rt.setNodeMarkup(this.from,void 0,{...this.node.attrs,...et}),this.editor.view.dispatch(rt)}},style=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function createStyleTag(_e,et,rt){const nt=document.querySelector("style[data-tiptap-style]");if(nt!==null)return nt;const st=document.createElement("style");return et&&st.setAttribute("nonce",et),st.setAttribute("data-tiptap-style",""),st.innerHTML=_e,document.getElementsByTagName("head")[0].appendChild(st),st}var Editor=class extends EventEmitter{constructor(_e={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,textDirection:void 0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:nt})=>{throw nt},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null,enableExtensionDispatchTransaction:!0},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.utils={getUpdatedPosition,createMappablePosition},this.setOptions(_e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:nt,slice:st,moved:it})=>this.options.onDrop(nt,st,it)),this.on("paste",({event:nt,slice:st})=>this.options.onPaste(nt,st)),this.on("delete",this.options.onDelete);const et=this.createDoc(),rt=resolveFocusPosition(et,this.options.autofocus);this.editorState=EditorState.create({doc:et,schema:this.schema,selection:rt||void 0}),this.options.element&&this.mount(this.options.element)}mount(_e){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(_e),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const _e=this.editorView.dom;_e!=null&&_e.editor&&delete _e.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(_e){console.warn("Failed to remove CSS element:",_e)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=createStyleTag(style,this.options.injectNonce))}setOptions(_e={}){this.options={...this.options,..._e},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(_e,et=!0){this.setOptions({editable:_e}),et&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:_e=>{this.editorState=_e},dispatch:_e=>{this.dispatchTransaction(_e)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(_e,et)=>{if(this.editorView)return this.editorView[et];if(et==="state")return this.editorState;if(et in _e)return Reflect.get(_e,et);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${et}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(_e,et){const rt=isFunction$1(et)?et(_e,[...this.state.plugins]):[...this.state.plugins,_e],nt=this.state.reconfigure({plugins:rt});return this.view.updateState(nt),nt}unregisterPlugin(_e){if(this.isDestroyed)return;const et=this.state.plugins;let rt=et;if([].concat(_e).forEach(st=>{const it=typeof st=="string"?`${st}$`:st.key;rt=rt.filter(at=>!at.key.startsWith(it))}),et.length===rt.length)return;const nt=this.state.reconfigure({plugins:rt});return this.view.updateState(nt),nt}createExtensionManager(){var _e,et;const nt=[...this.options.enableCoreExtensions?[Editable,ClipboardTextSerializer.configure({blockSeparator:(et=(_e=this.options.coreExtensionOptions)==null?void 0:_e.clipboardTextSerializer)==null?void 0:et.blockSeparator}),Commands,FocusEvents,Keymap,Tabindex,Drop,Paste,Delete,TextDirection.configure({direction:this.options.textDirection})].filter(st=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[st.name]!==!1:!0):[],...this.options.extensions].filter(st=>["extension","node","mark"].includes(st==null?void 0:st.type));this.extensionManager=new ExtensionManager(nt,this)}createCommandManager(){this.commandManager=new CommandManager({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let _e;try{_e=createDocument(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(et){if(!(et instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(et.message))throw et;this.emit("contentError",{editor:this,error:et,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(rt=>rt.name!=="collaboration"),this.createExtensionManager()}}),_e=createDocument(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return _e}createView(_e){const{editorProps:et,enableExtensionDispatchTransaction:rt}=this.options,nt=et.dispatchTransaction||this.dispatchTransaction.bind(this),st=rt?this.extensionManager.dispatchTransaction(nt):nt;this.editorView=new EditorView(_e,{...et,attributes:{role:"textbox",...et==null?void 0:et.attributes},dispatchTransaction:st,state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const it=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(it),this.prependClass(),this.injectCSS();const at=this.view.dom;at.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(_e){this.isCapturingTransaction=!0,_e(),this.isCapturingTransaction=!1;const et=this.capturedTransaction;return this.capturedTransaction=null,et}dispatchTransaction(_e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=_e;return}_e.steps.forEach(ct=>{var ut;return(ut=this.capturedTransaction)==null?void 0:ut.step(ct)});return}const{state:et,transactions:rt}=this.state.applyTransaction(_e),nt=!this.state.selection.eq(et.selection),st=rt.includes(_e),it=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:_e,nextState:et}),!st)return;this.view.updateState(et),this.emit("transaction",{editor:this,transaction:_e,appendedTransactions:rt.slice(1)}),nt&&this.emit("selectionUpdate",{editor:this,transaction:_e});const at=rt.findLast(ct=>ct.getMeta("focus")||ct.getMeta("blur")),ot=at==null?void 0:at.getMeta("focus"),lt=at==null?void 0:at.getMeta("blur");ot&&this.emit("focus",{editor:this,event:ot.event,transaction:at}),lt&&this.emit("blur",{editor:this,event:lt.event,transaction:at}),!(_e.getMeta("preventUpdate")||!rt.some(ct=>ct.docChanged)||it.doc.eq(et.doc))&&this.emit("update",{editor:this,transaction:_e,appendedTransactions:rt.slice(1)})}getAttributes(_e){return getAttributes(this.state,_e)}isActive(_e,et){const rt=typeof _e=="string"?_e:null,nt=typeof _e=="string"?et:_e;return isActive(this.state,rt,nt)}getJSON(){return this.state.doc.toJSON()}getHTML(){return getHTMLFromFragment(this.state.doc.content,this.schema)}getText(_e){const{blockSeparator:et=`

`,textSerializers:rt={}}=_e||{};return getText(this.state.doc,{blockSeparator:et,textSerializers:{...getTextSerializersFromSchema(this.schema),...rt}})}get isEmpty(){return isNodeEmpty(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var _e,et;return(et=(_e=this.editorView)==null?void 0:_e.isDestroyed)!=null?et:!0}$node(_e,et){var rt;return((rt=this.$doc)==null?void 0:rt.querySelector(_e,et))||null}$nodes(_e,et){var rt;return((rt=this.$doc)==null?void 0:rt.querySelectorAll(_e,et))||null}$pos(_e){const et=this.state.doc.resolve(_e);return new NodePos(et,this)}get $doc(){return this.$pos(0)}};function markInputRule(_e){return new InputRule({find:_e.find,handler:({state:et,range:rt,match:nt})=>{const st=callOrReturn(_e.getAttributes,void 0,nt);if(st===!1||st===null)return null;const{tr:it}=et,at=nt[nt.length-1],ot=nt[0];if(at){const lt=ot.search(/\S/),ct=rt.from+ot.indexOf(at),ut=ct+at.length;if(getMarksBetween(rt.from,rt.to,et.doc).filter(mt=>mt.mark.type.excluded.find(yt=>yt===_e.type&&yt!==mt.mark.type)).filter(mt=>mt.to>ct).length)return null;ut<rt.to&&it.delete(ut,rt.to),ct>rt.from&&it.delete(rt.from+lt,ct);const pt=rt.from+lt+at.length;it.addMark(rt.from+lt,pt,_e.type.create(st||{})),it.removeStoredMark(_e.type)}},undoable:_e.undoable})}function nodeInputRule(_e){return new InputRule({find:_e.find,handler:({state:et,range:rt,match:nt})=>{const st=callOrReturn(_e.getAttributes,void 0,nt)||{},{tr:it}=et,at=rt.from;let ot=rt.to;const lt=_e.type.create(st);if(nt[1]){const ct=nt[0].lastIndexOf(nt[1]);let ut=at+ct;ut>ot?ut=ot:ot=ut+nt[1].length;const dt=nt[0][nt[0].length-1];it.insertText(dt,at+nt[0].length-1),it.replaceWith(ut,ot,lt)}else if(nt[0]){const ct=_e.type.isInline?at:at-1;it.insert(ct,_e.type.create(st)).delete(it.mapping.map(at),it.mapping.map(ot))}it.scrollIntoView()},undoable:_e.undoable})}function textblockTypeInputRule(_e){return new InputRule({find:_e.find,handler:({state:et,range:rt,match:nt})=>{const st=et.doc.resolve(rt.from),it=callOrReturn(_e.getAttributes,void 0,nt)||{};if(!st.node(-1).canReplaceWith(st.index(-1),st.indexAfter(-1),_e.type))return null;et.tr.delete(rt.from,rt.to).setBlockType(rt.from,rt.from,_e.type,it)},undoable:_e.undoable})}function wrappingInputRule(_e){return new InputRule({find:_e.find,handler:({state:et,range:rt,match:nt,chain:st})=>{const it=callOrReturn(_e.getAttributes,void 0,nt)||{},at=et.tr.delete(rt.from,rt.to),lt=at.doc.resolve(rt.from).blockRange(),ct=lt&&findWrapping(lt,_e.type,it);if(!ct)return null;if(at.wrap(lt,ct),_e.keepMarks&&_e.editor){const{selection:dt,storedMarks:pt}=et,{splittableMarks:mt}=_e.editor.extensionManager,xt=pt||dt.$to.parentOffset&&dt.$from.marks();if(xt){const yt=xt.filter(vt=>mt.includes(vt.type.name));at.ensureMarks(yt)}}if(_e.keepAttributes){const dt=_e.type.name==="bulletList"||_e.type.name==="orderedList"?"listItem":"taskList";st().updateAttributes(dt,it).run()}const ut=at.doc.resolve(rt.from-1).nodeBefore;ut&&ut.type===_e.type&&canJoin(at.doc,rt.from-1)&&(!_e.joinPredicate||_e.joinPredicate(nt,ut))&&at.join(rt.from-1)},undoable:_e.undoable})}function canInsertNode(_e,et){const{selection:rt}=_e,{$from:nt}=rt;if(rt instanceof NodeSelection){const it=nt.index();return nt.parent.canReplaceWith(it,it+1,et)}let st=nt.depth;for(;st>=0;){const it=nt.index(st);if(nt.node(st).contentMatchAt(it).matchType(et))return!0;st-=1}return!1}var markdown_exports={};__export$1(markdown_exports,{createAtomBlockMarkdownSpec:()=>createAtomBlockMarkdownSpec,createBlockMarkdownSpec:()=>createBlockMarkdownSpec,createInlineMarkdownSpec:()=>createInlineMarkdownSpec,parseAttributes:()=>parseAttributes,parseIndentedBlocks:()=>parseIndentedBlocks,renderNestedMarkdownContent:()=>renderNestedMarkdownContent,serializeAttributes:()=>serializeAttributes});function parseAttributes(_e){if(!(_e!=null&&_e.trim()))return{};const et={},rt=[],nt=_e.replace(/["']([^"']*)["']/g,ct=>(rt.push(ct),`__QUOTED_${rt.length-1}__`)),st=nt.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(st){const ct=st.map(ut=>ut.trim().slice(1));et.class=ct.join(" ")}const it=nt.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);it&&(et.id=it[1]);const at=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(nt.matchAll(at)).forEach(([,ct,ut])=>{var dt;const pt=parseInt(((dt=ut.match(/__QUOTED_(\d+)__/))==null?void 0:dt[1])||"0",10),mt=rt[pt];mt&&(et[ct]=mt.slice(1,-1))});const lt=nt.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return lt&&lt.split(/\s+/).filter(Boolean).forEach(ut=>{ut.match(/^[a-zA-Z][\w-]*$/)&&(et[ut]=!0)}),et}function serializeAttributes(_e){if(!_e||Object.keys(_e).length===0)return"";const et=[];return _e.class&&String(_e.class).split(/\s+/).filter(Boolean).forEach(nt=>et.push(`.${nt}`)),_e.id&&et.push(`#${_e.id}`),Object.entries(_e).forEach(([rt,nt])=>{rt==="class"||rt==="id"||(nt===!0?et.push(rt):nt!==!1&&nt!=null&&et.push(`${rt}="${String(nt)}"`))}),et.join(" ")}function createAtomBlockMarkdownSpec(_e){const{nodeName:et,name:rt,parseAttributes:nt=parseAttributes,serializeAttributes:st=serializeAttributes,defaultAttributes:it={},requiredAttributes:at=[],allowedAttributes:ot}=_e,lt=rt||et,ct=ut=>{if(!ot)return ut;const dt={};return ot.forEach(pt=>{pt in ut&&(dt[pt]=ut[pt])}),dt};return{parseMarkdown:(ut,dt)=>{const pt={...it,...ut.attributes};return dt.createNode(et,pt,[])},markdownTokenizer:{name:et,level:"block",start(ut){var dt;const pt=new RegExp(`^:::${lt}(?:\\s|$)`,"m"),mt=(dt=ut.match(pt))==null?void 0:dt.index;return mt!==void 0?mt:-1},tokenize(ut,dt,pt){const mt=new RegExp(`^:::${lt}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),xt=ut.match(mt);if(!xt)return;const yt=xt[1]||"",vt=nt(yt);if(!at.find(Et=>!(Et in vt)))return{type:et,raw:xt[0],attributes:vt}}},renderMarkdown:ut=>{const dt=ct(ut.attrs||{}),pt=st(dt),mt=pt?` {${pt}}`:"";return`:::${lt}${mt} :::`}}}function createBlockMarkdownSpec(_e){const{nodeName:et,name:rt,getContent:nt,parseAttributes:st=parseAttributes,serializeAttributes:it=serializeAttributes,defaultAttributes:at={},content:ot="block",allowedAttributes:lt}=_e,ct=rt||et,ut=dt=>{if(!lt)return dt;const pt={};return lt.forEach(mt=>{mt in dt&&(pt[mt]=dt[mt])}),pt};return{parseMarkdown:(dt,pt)=>{let mt;if(nt){const yt=nt(dt);mt=typeof yt=="string"?[{type:"text",text:yt}]:yt}else ot==="block"?mt=pt.parseChildren(dt.tokens||[]):mt=pt.parseInline(dt.tokens||[]);const xt={...at,...dt.attributes};return pt.createNode(et,xt,mt)},markdownTokenizer:{name:et,level:"block",start(dt){var pt;const mt=new RegExp(`^:::${ct}`,"m"),xt=(pt=dt.match(mt))==null?void 0:pt.index;return xt!==void 0?xt:-1},tokenize(dt,pt,mt){var xt;const yt=new RegExp(`^:::${ct}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),vt=dt.match(yt);if(!vt)return;const[gt,Et=""]=vt,jt=st(Et);let kt=1;const Rt=gt.length;let St="";const _t=/^:::([\w-]*)(\s.*)?/gm,Nt=dt.slice(Rt);for(_t.lastIndex=0;;){const Lt=_t.exec(Nt);if(Lt===null)break;const $t=Lt.index,Ft=Lt[1];if(!((xt=Lt[2])!=null&&xt.endsWith(":::"))){if(Ft)kt+=1;else if(kt-=1,kt===0){const Tt=Nt.slice(0,$t);St=Tt.trim();const Bt=dt.slice(0,Rt+$t+Lt[0].length);let Wt=[];if(St)if(ot==="block")for(Wt=mt.blockTokens(Tt),Wt.forEach(qt=>{qt.text&&(!qt.tokens||qt.tokens.length===0)&&(qt.tokens=mt.inlineTokens(qt.text))});Wt.length>0;){const qt=Wt[Wt.length-1];if(qt.type==="paragraph"&&(!qt.text||qt.text.trim()===""))Wt.pop();else break}else Wt=mt.inlineTokens(St);return{type:et,raw:Bt,attributes:jt,content:St,tokens:Wt}}}}}},renderMarkdown:(dt,pt)=>{const mt=ut(dt.attrs||{}),xt=it(mt),yt=xt?` {${xt}}`:"",vt=pt.renderChildren(dt.content||[],`

`);return`:::${ct}${yt}

${vt}

:::`}}}function parseShortcodeAttributes(_e){if(!_e.trim())return{};const et={},rt=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let nt=rt.exec(_e);for(;nt!==null;){const[,st,it,at]=nt;et[st]=it||at,nt=rt.exec(_e)}return et}function serializeShortcodeAttributes(_e){return Object.entries(_e).filter(([,et])=>et!=null).map(([et,rt])=>`${et}="${rt}"`).join(" ")}function createInlineMarkdownSpec(_e){const{nodeName:et,name:rt,getContent:nt,parseAttributes:st=parseShortcodeAttributes,serializeAttributes:it=serializeShortcodeAttributes,defaultAttributes:at={},selfClosing:ot=!1,allowedAttributes:lt}=_e,ct=rt||et,ut=pt=>{if(!lt)return pt;const mt={};return lt.forEach(xt=>{const yt=typeof xt=="string"?xt:xt.name,vt=typeof xt=="string"?void 0:xt.skipIfDefault;if(yt in pt){const gt=pt[yt];if(vt!==void 0&&gt===vt)return;mt[yt]=gt}}),mt},dt=ct.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(pt,mt)=>{const xt={...at,...pt.attributes};if(ot)return mt.createNode(et,xt);const yt=nt?nt(pt):pt.content||"";return yt?mt.createNode(et,xt,[mt.createTextNode(yt)]):mt.createNode(et,xt,[])},markdownTokenizer:{name:et,level:"inline",start(pt){const mt=ot?new RegExp(`\\[${dt}\\s*[^\\]]*\\]`):new RegExp(`\\[${dt}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${dt}\\]`),xt=pt.match(mt),yt=xt==null?void 0:xt.index;return yt!==void 0?yt:-1},tokenize(pt,mt,xt){const yt=ot?new RegExp(`^\\[${dt}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${dt}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${dt}\\]`),vt=pt.match(yt);if(!vt)return;let gt="",Et="";if(ot){const[,kt]=vt;Et=kt}else{const[,kt,Rt]=vt;Et=kt,gt=Rt||""}const jt=st(Et.trim());return{type:et,raw:vt[0],content:gt.trim(),attributes:jt}}},renderMarkdown:pt=>{let mt="";nt?mt=nt(pt):pt.content&&pt.content.length>0&&(mt=pt.content.filter(gt=>gt.type==="text").map(gt=>gt.text).join(""));const xt=ut(pt.attrs||{}),yt=it(xt),vt=yt?` ${yt}`:"";return ot?`[${ct}${vt}]`:`[${ct}${vt}]${mt}[/${ct}]`}}}function parseIndentedBlocks(_e,et,rt){var nt,st,it,at;const ot=_e.split(`
`),lt=[];let ct="",ut=0;const dt=et.baseIndentSize||2;for(;ut<ot.length;){const pt=ot[ut],mt=pt.match(et.itemPattern);if(!mt){if(lt.length>0)break;if(pt.trim()===""){ut+=1,ct=`${ct}${pt}
`;continue}else return}const xt=et.extractItemData(mt),{indentLevel:yt,mainContent:vt}=xt;ct=`${ct}${pt}
`;const gt=[vt];for(ut+=1;ut<ot.length;){const Rt=ot[ut];if(Rt.trim()===""){const _t=ot.slice(ut+1).findIndex($t=>$t.trim()!=="");if(_t===-1)break;if((((st=(nt=ot[ut+1+_t].match(/^(\s*)/))==null?void 0:nt[1])==null?void 0:st.length)||0)>yt){gt.push(Rt),ct=`${ct}${Rt}
`,ut+=1;continue}else break}if((((at=(it=Rt.match(/^(\s*)/))==null?void 0:it[1])==null?void 0:at.length)||0)>yt)gt.push(Rt),ct=`${ct}${Rt}
`,ut+=1;else break}let Et;const jt=gt.slice(1);if(jt.length>0){const Rt=jt.map(St=>St.slice(yt+dt)).join(`
`);Rt.trim()&&(et.customNestedParser?Et=et.customNestedParser(Rt):Et=rt.blockTokens(Rt))}const kt=et.createToken(xt,Et);lt.push(kt)}if(lt.length!==0)return{items:lt,raw:ct}}function renderNestedMarkdownContent(_e,et,rt,nt){if(!_e||!Array.isArray(_e.content))return"";const st=typeof rt=="function"?rt(nt):rt,[it,...at]=_e.content,ot=et.renderChildren([it]),lt=[`${st}${ot}`];return at&&at.length>0&&at.forEach(ct=>{const ut=et.renderChildren([ct]);if(ut){const dt=ut.split(`
`).map(pt=>pt?et.indent(pt):"").join(`
`);lt.push(dt)}}),lt.join(`
`)}function updateMarkViewAttributes(_e,et,rt={}){const{state:nt}=et,{doc:st,tr:it}=nt,at=_e;st.descendants((ot,lt)=>{const ct=it.mapping.map(lt),ut=it.mapping.map(lt)+ot.nodeSize;let dt=null;if(ot.marks.forEach(mt=>{if(mt!==at)return!1;dt=mt}),!dt)return;let pt=!1;if(Object.keys(rt).forEach(mt=>{rt[mt]!==dt.attrs[mt]&&(pt=!0)}),pt){const mt=_e.type.create({..._e.attrs,...rt});it.removeMark(ct,ut,_e.type),it.addMark(ct,ut,mt)}}),it.docChanged&&et.view.dispatch(it)}var Node3=class Ho extends Extendable{constructor(){super(...arguments),this.type="node"}static create(et={}){const rt=typeof et=="function"?et():et;return new Ho(rt)}configure(et){return super.configure(et)}extend(et){const rt=typeof et=="function"?et():et;return super.extend(rt)}};function markPasteRule(_e){return new PasteRule({find:_e.find,handler:({state:et,range:rt,match:nt,pasteEvent:st})=>{const it=callOrReturn(_e.getAttributes,void 0,nt,st);if(it===!1||it===null)return null;const{tr:at}=et,ot=nt[nt.length-1],lt=nt[0];let ct=rt.to;if(ot){const ut=lt.search(/\S/),dt=rt.from+lt.indexOf(ot),pt=dt+ot.length;if(getMarksBetween(rt.from,rt.to,et.doc).filter(xt=>xt.mark.type.excluded.find(vt=>vt===_e.type&&vt!==xt.mark.type)).filter(xt=>xt.to>dt).length)return null;pt<rt.to&&at.delete(pt,rt.to),dt>rt.from&&at.delete(rt.from+ut,dt),ct=rt.from+ut+ot.length,at.addMark(rt.from+ut,ct,_e.type.create(it||{})),at.removeStoredMark(_e.type)}}})}const{getOwnPropertyNames,getOwnPropertySymbols}=Object,{hasOwnProperty}=Object.prototype;function combineComparators(_e,et){return function(nt,st,it){return _e(nt,st,it)&&et(nt,st,it)}}function createIsCircular(_e){return function(rt,nt,st){if(!rt||!nt||typeof rt!="object"||typeof nt!="object")return _e(rt,nt,st);const{cache:it}=st,at=it.get(rt),ot=it.get(nt);if(at&&ot)return at===nt&&ot===rt;it.set(rt,nt),it.set(nt,rt);const lt=_e(rt,nt,st);return it.delete(rt),it.delete(nt),lt}}function getShortTag(_e){return _e!=null?_e[Symbol.toStringTag]:void 0}function getStrictProperties(_e){return getOwnPropertyNames(_e).concat(getOwnPropertySymbols(_e))}const hasOwn=Object.hasOwn||((_e,et)=>hasOwnProperty.call(_e,et));function sameValueZeroEqual(_e,et){return _e===et||!_e&&!et&&_e!==_e&&et!==et}const PREACT_VNODE="__v",PREACT_OWNER="__o",REACT_OWNER="_owner",{getOwnPropertyDescriptor,keys}=Object;function areArrayBuffersEqual(_e,et){return _e.byteLength===et.byteLength&&areTypedArraysEqual(new Uint8Array(_e),new Uint8Array(et))}function areArraysEqual(_e,et,rt){let nt=_e.length;if(et.length!==nt)return!1;for(;nt-- >0;)if(!rt.equals(_e[nt],et[nt],nt,nt,_e,et,rt))return!1;return!0}function areDataViewsEqual(_e,et){return _e.byteLength===et.byteLength&&areTypedArraysEqual(new Uint8Array(_e.buffer,_e.byteOffset,_e.byteLength),new Uint8Array(et.buffer,et.byteOffset,et.byteLength))}function areDatesEqual(_e,et){return sameValueZeroEqual(_e.getTime(),et.getTime())}function areErrorsEqual(_e,et){return _e.name===et.name&&_e.message===et.message&&_e.cause===et.cause&&_e.stack===et.stack}function areFunctionsEqual(_e,et){return _e===et}function areMapsEqual(_e,et,rt){const nt=_e.size;if(nt!==et.size)return!1;if(!nt)return!0;const st=new Array(nt),it=_e.entries();let at,ot,lt=0;for(;(at=it.next())&&!at.done;){const ct=et.entries();let ut=!1,dt=0;for(;(ot=ct.next())&&!ot.done;){if(st[dt]){dt++;continue}const pt=at.value,mt=ot.value;if(rt.equals(pt[0],mt[0],lt,dt,_e,et,rt)&&rt.equals(pt[1],mt[1],pt[0],mt[0],_e,et,rt)){ut=st[dt]=!0;break}dt++}if(!ut)return!1;lt++}return!0}const areNumbersEqual=sameValueZeroEqual;function areObjectsEqual(_e,et,rt){const nt=keys(_e);let st=nt.length;if(keys(et).length!==st)return!1;for(;st-- >0;)if(!isPropertyEqual(_e,et,rt,nt[st]))return!1;return!0}function areObjectsEqualStrict(_e,et,rt){const nt=getStrictProperties(_e);let st=nt.length;if(getStrictProperties(et).length!==st)return!1;let it,at,ot;for(;st-- >0;)if(it=nt[st],!isPropertyEqual(_e,et,rt,it)||(at=getOwnPropertyDescriptor(_e,it),ot=getOwnPropertyDescriptor(et,it),(at||ot)&&(!at||!ot||at.configurable!==ot.configurable||at.enumerable!==ot.enumerable||at.writable!==ot.writable)))return!1;return!0}function arePrimitiveWrappersEqual(_e,et){return sameValueZeroEqual(_e.valueOf(),et.valueOf())}function areRegExpsEqual(_e,et){return _e.source===et.source&&_e.flags===et.flags}function areSetsEqual(_e,et,rt){const nt=_e.size;if(nt!==et.size)return!1;if(!nt)return!0;const st=new Array(nt),it=_e.values();let at,ot;for(;(at=it.next())&&!at.done;){const lt=et.values();let ct=!1,ut=0;for(;(ot=lt.next())&&!ot.done;){if(!st[ut]&&rt.equals(at.value,ot.value,at.value,ot.value,_e,et,rt)){ct=st[ut]=!0;break}ut++}if(!ct)return!1}return!0}function areTypedArraysEqual(_e,et){let rt=_e.byteLength;if(et.byteLength!==rt||_e.byteOffset!==et.byteOffset)return!1;for(;rt-- >0;)if(_e[rt]!==et[rt])return!1;return!0}function areUrlsEqual(_e,et){return _e.hostname===et.hostname&&_e.pathname===et.pathname&&_e.protocol===et.protocol&&_e.port===et.port&&_e.hash===et.hash&&_e.username===et.username&&_e.password===et.password}function isPropertyEqual(_e,et,rt,nt){return(nt===REACT_OWNER||nt===PREACT_OWNER||nt===PREACT_VNODE)&&(_e.$$typeof||et.$$typeof)?!0:hasOwn(et,nt)&&rt.equals(_e[nt],et[nt],nt,nt,_e,et,rt)}const ARRAY_BUFFER_TAG="[object ArrayBuffer]",ARGUMENTS_TAG="[object Arguments]",BOOLEAN_TAG="[object Boolean]",DATA_VIEW_TAG="[object DataView]",DATE_TAG="[object Date]",ERROR_TAG="[object Error]",MAP_TAG="[object Map]",NUMBER_TAG="[object Number]",OBJECT_TAG="[object Object]",REG_EXP_TAG="[object RegExp]",SET_TAG="[object Set]",STRING_TAG="[object String]",TYPED_ARRAY_TAGS={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},URL_TAG="[object URL]",toString=Object.prototype.toString;function createEqualityComparator({areArrayBuffersEqual:_e,areArraysEqual:et,areDataViewsEqual:rt,areDatesEqual:nt,areErrorsEqual:st,areFunctionsEqual:it,areMapsEqual:at,areNumbersEqual:ot,areObjectsEqual:lt,arePrimitiveWrappersEqual:ct,areRegExpsEqual:ut,areSetsEqual:dt,areTypedArraysEqual:pt,areUrlsEqual:mt,unknownTagComparators:xt}){return function(vt,gt,Et){if(vt===gt)return!0;if(vt==null||gt==null)return!1;const jt=typeof vt;if(jt!==typeof gt)return!1;if(jt!=="object")return jt==="number"?ot(vt,gt,Et):jt==="function"?it(vt,gt,Et):!1;const kt=vt.constructor;if(kt!==gt.constructor)return!1;if(kt===Object)return lt(vt,gt,Et);if(Array.isArray(vt))return et(vt,gt,Et);if(kt===Date)return nt(vt,gt,Et);if(kt===RegExp)return ut(vt,gt,Et);if(kt===Map)return at(vt,gt,Et);if(kt===Set)return dt(vt,gt,Et);const Rt=toString.call(vt);if(Rt===DATE_TAG)return nt(vt,gt,Et);if(Rt===REG_EXP_TAG)return ut(vt,gt,Et);if(Rt===MAP_TAG)return at(vt,gt,Et);if(Rt===SET_TAG)return dt(vt,gt,Et);if(Rt===OBJECT_TAG)return typeof vt.then!="function"&&typeof gt.then!="function"&&lt(vt,gt,Et);if(Rt===URL_TAG)return mt(vt,gt,Et);if(Rt===ERROR_TAG)return st(vt,gt,Et);if(Rt===ARGUMENTS_TAG)return lt(vt,gt,Et);if(TYPED_ARRAY_TAGS[Rt])return pt(vt,gt,Et);if(Rt===ARRAY_BUFFER_TAG)return _e(vt,gt,Et);if(Rt===DATA_VIEW_TAG)return rt(vt,gt,Et);if(Rt===BOOLEAN_TAG||Rt===NUMBER_TAG||Rt===STRING_TAG)return ct(vt,gt,Et);if(xt){let St=xt[Rt];if(!St){const _t=getShortTag(vt);_t&&(St=xt[_t])}if(St)return St(vt,gt,Et)}return!1}}function createEqualityComparatorConfig({circular:_e,createCustomConfig:et,strict:rt}){let nt={areArrayBuffersEqual,areArraysEqual:rt?areObjectsEqualStrict:areArraysEqual,areDataViewsEqual,areDatesEqual,areErrorsEqual,areFunctionsEqual,areMapsEqual:rt?combineComparators(areMapsEqual,areObjectsEqualStrict):areMapsEqual,areNumbersEqual,areObjectsEqual:rt?areObjectsEqualStrict:areObjectsEqual,arePrimitiveWrappersEqual,areRegExpsEqual,areSetsEqual:rt?combineComparators(areSetsEqual,areObjectsEqualStrict):areSetsEqual,areTypedArraysEqual:rt?combineComparators(areTypedArraysEqual,areObjectsEqualStrict):areTypedArraysEqual,areUrlsEqual,unknownTagComparators:void 0};if(et&&(nt=Object.assign({},nt,et(nt))),_e){const st=createIsCircular(nt.areArraysEqual),it=createIsCircular(nt.areMapsEqual),at=createIsCircular(nt.areObjectsEqual),ot=createIsCircular(nt.areSetsEqual);nt=Object.assign({},nt,{areArraysEqual:st,areMapsEqual:it,areObjectsEqual:at,areSetsEqual:ot})}return nt}function createInternalEqualityComparator(_e){return function(et,rt,nt,st,it,at,ot){return _e(et,rt,ot)}}function createIsEqual({circular:_e,comparator:et,createState:rt,equals:nt,strict:st}){if(rt)return function(ot,lt){const{cache:ct=_e?new WeakMap:void 0,meta:ut}=rt();return et(ot,lt,{cache:ct,equals:nt,meta:ut,strict:st})};if(_e)return function(ot,lt){return et(ot,lt,{cache:new WeakMap,equals:nt,meta:void 0,strict:st})};const it={cache:void 0,equals:nt,meta:void 0,strict:st};return function(ot,lt){return et(ot,lt,it)}}const deepEqual$1=createCustomEqual();createCustomEqual({strict:!0});createCustomEqual({circular:!0});createCustomEqual({circular:!0,strict:!0});createCustomEqual({createInternalComparator:()=>sameValueZeroEqual});createCustomEqual({strict:!0,createInternalComparator:()=>sameValueZeroEqual});createCustomEqual({circular:!0,createInternalComparator:()=>sameValueZeroEqual});createCustomEqual({circular:!0,createInternalComparator:()=>sameValueZeroEqual,strict:!0});function createCustomEqual(_e={}){const{circular:et=!1,createInternalComparator:rt,createState:nt,strict:st=!1}=_e,it=createEqualityComparatorConfig(_e),at=createEqualityComparator(it),ot=rt?rt(at):createInternalEqualityComparator(at);return createIsEqual({circular:et,comparator:at,createState:nt,equals:ot,strict:st})}var mergeRefs=(..._e)=>et=>{_e.forEach(rt=>{typeof rt=="function"?rt(et):rt&&(rt.current=et)})},Portals=({contentComponent:_e})=>{const et=shimExports.useSyncExternalStore(_e.subscribe,_e.getSnapshot,_e.getServerSnapshot);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:Object.values(et)})};function getInstance(){const _e=new Set;let et={};return{subscribe(rt){return _e.add(rt),()=>{_e.delete(rt)}},getSnapshot(){return et},getServerSnapshot(){return et},setRenderer(rt,nt){et={...et,[rt]:ReactDOM.createPortal(nt.reactElement,nt.element,rt)},_e.forEach(st=>st())},removeRenderer(rt){const nt={...et};delete nt[rt],et=nt,_e.forEach(st=>st())}}}var PureEditorContent=class extends React$3.Component{constructor(_e){var et;super(_e),this.editorContentRef=React$3.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((et=_e.editor)!=null&&et.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){var _e;const et=this.props.editor;if(et&&!et.isDestroyed&&((_e=et.view.dom)!=null&&_e.parentNode)){if(et.contentComponent)return;const rt=this.editorContentRef.current;rt.append(...et.view.dom.parentNode.childNodes),et.setOptions({element:rt}),et.contentComponent=getInstance(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=et.contentComponent.subscribe(()=>{this.setState(nt=>nt.hasContentComponentInitialized?nt:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),et.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var _e;const et=this.props.editor;if(et){this.initialized=!1,et.isDestroyed||et.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),et.contentComponent=null;try{if(!((_e=et.view.dom)!=null&&_e.parentNode))return;const rt=document.createElement("div");rt.append(...et.view.dom.parentNode.childNodes),et.setOptions({element:rt})}catch{}}}render(){const{editor:_e,innerRef:et,...rt}=this.props;return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{ref:mergeRefs(et,this.editorContentRef),...rt}),(_e==null?void 0:_e.contentComponent)&&jsxRuntimeExports.jsx(Portals,{contentComponent:_e.contentComponent})]})}},EditorContentWithKey=reactExports.forwardRef((_e,et)=>{const rt=React$3.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[_e.editor]);return React$3.createElement(PureEditorContent,{key:rt,innerRef:et,..._e})}),EditorContent=React$3.memo(EditorContentWithKey),useIsomorphicLayoutEffect$1=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,EditorStateManager=class{constructor(_e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=_e,this.lastSnapshot={editor:_e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(_e){return this.subscribers.add(_e),()=>{this.subscribers.delete(_e)}}watch(_e){if(this.editor=_e,this.editor){const et=()=>{this.transactionNumber+=1,this.subscribers.forEach(nt=>nt())},rt=this.editor;return rt.on("transaction",et),()=>{rt.off("transaction",et)}}}};function useEditorState(_e){var et;const[rt]=reactExports.useState(()=>new EditorStateManager(_e.editor)),nt=withSelectorExports$1.useSyncExternalStoreWithSelector(rt.subscribe,rt.getSnapshot,rt.getServerSnapshot,_e.selector,(et=_e.equalityFn)!=null?et:deepEqual$1);return useIsomorphicLayoutEffect$1(()=>rt.watch(_e.editor),[_e.editor,rt]),reactExports.useDebugValue(nt),nt}var isDev=!1,isSSR=typeof window>"u",isNext=isSSR||!!(typeof window<"u"&&window.next),EditorInstanceManager=class Uo{constructor(et){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=et,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(et){this.editor=et,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(rt=>rt())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?isSSR||isNext?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const et={...this.options.current,onBeforeCreate:(...nt)=>{var st,it;return(it=(st=this.options.current).onBeforeCreate)==null?void 0:it.call(st,...nt)},onBlur:(...nt)=>{var st,it;return(it=(st=this.options.current).onBlur)==null?void 0:it.call(st,...nt)},onCreate:(...nt)=>{var st,it;return(it=(st=this.options.current).onCreate)==null?void 0:it.call(st,...nt)},onDestroy:(...nt)=>{var st,it;return(it=(st=this.options.current).onDestroy)==null?void 0:it.call(st,...nt)},onFocus:(...nt)=>{var st,it;return(it=(st=this.options.current).onFocus)==null?void 0:it.call(st,...nt)},onSelectionUpdate:(...nt)=>{var st,it;return(it=(st=this.options.current).onSelectionUpdate)==null?void 0:it.call(st,...nt)},onTransaction:(...nt)=>{var st,it;return(it=(st=this.options.current).onTransaction)==null?void 0:it.call(st,...nt)},onUpdate:(...nt)=>{var st,it;return(it=(st=this.options.current).onUpdate)==null?void 0:it.call(st,...nt)},onContentError:(...nt)=>{var st,it;return(it=(st=this.options.current).onContentError)==null?void 0:it.call(st,...nt)},onDrop:(...nt)=>{var st,it;return(it=(st=this.options.current).onDrop)==null?void 0:it.call(st,...nt)},onPaste:(...nt)=>{var st,it;return(it=(st=this.options.current).onPaste)==null?void 0:it.call(st,...nt)},onDelete:(...nt)=>{var st,it;return(it=(st=this.options.current).onDelete)==null?void 0:it.call(st,...nt)}};return new Editor(et)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(et){return this.subscriptions.add(et),()=>{this.subscriptions.delete(et)}}static compareOptions(et,rt){return Object.keys(et).every(nt=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(nt)?!0:nt==="extensions"&&et.extensions&&rt.extensions?et.extensions.length!==rt.extensions.length?!1:et.extensions.every((st,it)=>{var at;return st===((at=rt.extensions)==null?void 0:at[it])}):et[nt]===rt[nt])}onRender(et){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&et.length===0?Uo.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(et),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(et){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=et;return}if(this.previousDeps.length===et.length&&this.previousDeps.every((nt,st)=>nt===et[st]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=et}scheduleDestroy(){const et=this.instanceId,rt=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===et){rt&&rt.setOptions(this.options.current);return}rt&&!rt.isDestroyed&&(rt.destroy(),this.instanceId===et&&this.setEditor(null))},1)}};function useEditor(_e={},et=[]){const rt=reactExports.useRef(_e);rt.current=_e;const[nt]=reactExports.useState(()=>new EditorInstanceManager(rt)),st=shimExports.useSyncExternalStore(nt.subscribe,nt.getEditor,nt.getServerSnapshot);return reactExports.useDebugValue(st),reactExports.useEffect(nt.onRender(et)),useEditorState({editor:st,selector:({transactionNumber:it})=>_e.shouldRerenderOnTransaction===!1||_e.shouldRerenderOnTransaction===void 0?null:_e.immediatelyRender&&it===0?0:it+1}),st}var EditorContext=reactExports.createContext({editor:null});EditorContext.Consumer;var ReactNodeViewContext=reactExports.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),useReactNodeView=()=>reactExports.useContext(ReactNodeViewContext);React$3.forwardRef((_e,et)=>{const{onDragStart:rt}=useReactNodeView(),nt=_e.as||"div";return jsxRuntimeExports.jsx(nt,{..._e,ref:et,"data-node-view-wrapper":"",onDragStart:rt,style:{whiteSpace:"normal",..._e.style}})});React$3.createContext({markViewContentRef:()=>{}});var h$4=(_e,et)=>{if(_e==="slot")return 0;if(_e instanceof Function)return _e(et);const{children:rt,...nt}=et??{};if(_e==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[_e,nt,rt]},inputRegex$3=/^\s*>\s$/,Blockquote=Node3.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:_e}){return h$4("blockquote",{...mergeAttributes(this.options.HTMLAttributes,_e),children:h$4("slot",{})})},parseMarkdown:(_e,et)=>et.createNode("blockquote",void 0,et.parseChildren(_e.tokens||[])),renderMarkdown:(_e,et)=>{if(!_e.content)return"";const rt=">",nt=[];return _e.content.forEach(st=>{const ot=et.renderChildren([st]).split(`
`).map(lt=>lt.trim()===""?rt:`${rt} ${lt}`);nt.push(ot.join(`
`))}),nt.join(`
${rt}
`)},addCommands(){return{setBlockquote:()=>({commands:_e})=>_e.wrapIn(this.name),toggleBlockquote:()=>({commands:_e})=>_e.toggleWrap(this.name),unsetBlockquote:()=>({commands:_e})=>_e.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[wrappingInputRule({find:inputRegex$3,type:this.type})]}}),starInputRegex$1=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,starPasteRegex$1=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,underscoreInputRegex$1=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,underscorePasteRegex$1=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,Bold=Mark.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:_e=>_e.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:_e=>_e.type.name===this.name},{style:"font-weight",getAttrs:_e=>/^(bold(er)?|[5-9]\d{2,})$/.test(_e)&&null}]},renderHTML({HTMLAttributes:_e}){return h$4("strong",{...mergeAttributes(this.options.HTMLAttributes,_e),children:h$4("slot",{})})},markdownTokenName:"strong",parseMarkdown:(_e,et)=>et.applyMark("bold",et.parseInline(_e.tokens||[])),renderMarkdown:(_e,et)=>`**${et.renderChildren(_e)}**`,addCommands(){return{setBold:()=>({commands:_e})=>_e.setMark(this.name),toggleBold:()=>({commands:_e})=>_e.toggleMark(this.name),unsetBold:()=>({commands:_e})=>_e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[markInputRule({find:starInputRegex$1,type:this.type}),markInputRule({find:underscoreInputRegex$1,type:this.type})]},addPasteRules(){return[markPasteRule({find:starPasteRegex$1,type:this.type}),markPasteRule({find:underscorePasteRegex$1,type:this.type})]}}),inputRegex$2=/(^|[^`])`([^`]+)`(?!`)$/,pasteRegex$1=/(^|[^`])`([^`]+)`(?!`)/g,Code=Mark.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:_e}){return["code",mergeAttributes(this.options.HTMLAttributes,_e),0]},markdownTokenName:"codespan",parseMarkdown:(_e,et)=>et.applyMark("code",[{type:"text",text:_e.text||""}]),renderMarkdown:(_e,et)=>_e.content?`\`${et.renderChildren(_e.content)}\``:"",addCommands(){return{setCode:()=>({commands:_e})=>_e.setMark(this.name),toggleCode:()=>({commands:_e})=>_e.toggleMark(this.name),unsetCode:()=>({commands:_e})=>_e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[markInputRule({find:inputRegex$2,type:this.type})]},addPasteRules(){return[markPasteRule({find:pasteRegex$1,type:this.type})]}}),DEFAULT_TAB_SIZE=4,backtickInputRegex=/^```([a-z]+)?[\s\n]$/,tildeInputRegex=/^~~~([a-z]+)?[\s\n]$/,CodeBlock=Node3.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:DEFAULT_TAB_SIZE,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:_e=>{var et;const{languageClassPrefix:rt}=this.options;if(!rt)return null;const it=[...((et=_e.firstElementChild)==null?void 0:et.classList)||[]].filter(at=>at.startsWith(rt)).map(at=>at.replace(rt,""))[0];return it||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:_e,HTMLAttributes:et}){return["pre",mergeAttributes(this.options.HTMLAttributes,et),["code",{class:_e.attrs.language?this.options.languageClassPrefix+_e.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(_e,et)=>{var rt;return((rt=_e.raw)==null?void 0:rt.startsWith("```"))===!1&&_e.codeBlockStyle!=="indented"?[]:et.createNode("codeBlock",{language:_e.lang||null},_e.text?[et.createTextNode(_e.text)]:[])},renderMarkdown:(_e,et)=>{var rt;let nt="";const st=((rt=_e.attrs)==null?void 0:rt.language)||"";return _e.content?nt=[`\`\`\`${st}`,et.renderChildren(_e.content),"```"].join(`
`):nt=`\`\`\`${st}

\`\`\``,nt},addCommands(){return{setCodeBlock:_e=>({commands:et})=>et.setNode(this.name,_e),toggleCodeBlock:_e=>({commands:et})=>et.toggleNode(this.name,"paragraph",_e)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:_e,$anchor:et}=this.editor.state.selection,rt=et.pos===1;return!_e||et.parent.type.name!==this.name?!1:rt||!et.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:_e})=>{var et;if(!this.options.enableTabIndentation)return!1;const rt=(et=this.options.tabSize)!=null?et:DEFAULT_TAB_SIZE,{state:nt}=_e,{selection:st}=nt,{$from:it,empty:at}=st;if(it.parent.type!==this.type)return!1;const ot=" ".repeat(rt);return at?_e.commands.insertContent(ot):_e.commands.command(({tr:lt})=>{const{from:ct,to:ut}=st,mt=nt.doc.textBetween(ct,ut,`
`,`
`).split(`
`).map(xt=>ot+xt).join(`
`);return lt.replaceWith(ct,ut,nt.schema.text(mt)),!0})},"Shift-Tab":({editor:_e})=>{var et;if(!this.options.enableTabIndentation)return!1;const rt=(et=this.options.tabSize)!=null?et:DEFAULT_TAB_SIZE,{state:nt}=_e,{selection:st}=nt,{$from:it,empty:at}=st;return it.parent.type!==this.type?!1:at?_e.commands.command(({tr:ot})=>{var lt;const{pos:ct}=it,ut=it.start(),dt=it.end(),mt=nt.doc.textBetween(ut,dt,`
`,`
`).split(`
`);let xt=0,yt=0;const vt=ct-ut;for(let St=0;St<mt.length;St+=1){if(yt+mt[St].length>=vt){xt=St;break}yt+=mt[St].length+1}const Et=((lt=mt[xt].match(/^ */))==null?void 0:lt[0])||"",jt=Math.min(Et.length,rt);if(jt===0)return!0;let kt=ut;for(let St=0;St<xt;St+=1)kt+=mt[St].length+1;return ot.delete(kt,kt+jt),ct-kt<=jt&&ot.setSelection(TextSelection.create(ot.doc,kt)),!0}):_e.commands.command(({tr:ot})=>{const{from:lt,to:ct}=st,pt=nt.doc.textBetween(lt,ct,`
`,`
`).split(`
`).map(mt=>{var xt;const yt=((xt=mt.match(/^ */))==null?void 0:xt[0])||"",vt=Math.min(yt.length,rt);return mt.slice(vt)}).join(`
`);return ot.replaceWith(lt,ct,nt.schema.text(pt)),!0})},Enter:({editor:_e})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:et}=_e,{selection:rt}=et,{$from:nt,empty:st}=rt;if(!st||nt.parent.type!==this.type)return!1;const it=nt.parentOffset===nt.parent.nodeSize-2,at=nt.parent.textContent.endsWith(`

`);return!it||!at?!1:_e.chain().command(({tr:ot})=>(ot.delete(nt.pos-2,nt.pos),!0)).exitCode().run()},ArrowDown:({editor:_e})=>{if(!this.options.exitOnArrowDown)return!1;const{state:et}=_e,{selection:rt,doc:nt}=et,{$from:st,empty:it}=rt;if(!it||st.parent.type!==this.type||!(st.parentOffset===st.parent.nodeSize-2))return!1;const ot=st.after();return ot===void 0?!1:nt.nodeAt(ot)?_e.commands.command(({tr:ct})=>(ct.setSelection(Selection.near(nt.resolve(ot))),!0)):_e.commands.exitCode()}}},addInputRules(){return[textblockTypeInputRule({find:backtickInputRegex,type:this.type,getAttributes:_e=>({language:_e[1]})}),textblockTypeInputRule({find:tildeInputRegex,type:this.type,getAttributes:_e=>({language:_e[1]})})]},addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("codeBlockVSCodeHandler"),props:{handlePaste:(_e,et)=>{if(!et.clipboardData||this.editor.isActive(this.type.name))return!1;const rt=et.clipboardData.getData("text/plain"),nt=et.clipboardData.getData("vscode-editor-data"),st=nt?JSON.parse(nt):void 0,it=st==null?void 0:st.mode;if(!rt||!it)return!1;const{tr:at,schema:ot}=_e.state,lt=ot.text(rt.replace(/\r\n?/g,`
`));return at.replaceSelectionWith(this.type.create({language:it},lt)),at.selection.$from.parent.type!==this.type&&at.setSelection(TextSelection.near(at.doc.resolve(Math.max(0,at.selection.from-2)))),at.setMeta("paste",!0),_e.dispatch(at),!0}}})]}}),Document=Node3.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(_e,et)=>_e.content?et.renderChildren(_e.content,`

`):""}),HardBreak=Node3.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:_e}){return["br",mergeAttributes(this.options.HTMLAttributes,_e)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:_e,chain:et,state:rt,editor:nt})=>_e.first([()=>_e.exitCode(),()=>_e.command(()=>{const{selection:st,storedMarks:it}=rt;if(st.$from.parent.type.spec.isolating)return!1;const{keepMarks:at}=this.options,{splittableMarks:ot}=nt.extensionManager,lt=it||st.$to.parentOffset&&st.$from.marks();return et().insertContent({type:this.name}).command(({tr:ct,dispatch:ut})=>{if(ut&&lt&&at){const dt=lt.filter(pt=>ot.includes(pt.type.name));ct.ensureMarks(dt)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),Heading=Node3.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(_e=>({tag:`h${_e}`,attrs:{level:_e}}))},renderHTML({node:_e,HTMLAttributes:et}){return[`h${this.options.levels.includes(_e.attrs.level)?_e.attrs.level:this.options.levels[0]}`,mergeAttributes(this.options.HTMLAttributes,et),0]},parseMarkdown:(_e,et)=>et.createNode("heading",{level:_e.depth||1},et.parseInline(_e.tokens||[])),renderMarkdown:(_e,et)=>{var rt;const nt=(rt=_e.attrs)!=null&&rt.level?parseInt(_e.attrs.level,10):1,st="#".repeat(nt);return _e.content?`${st} ${et.renderChildren(_e.content)}`:""},addCommands(){return{setHeading:_e=>({commands:et})=>this.options.levels.includes(_e.level)?et.setNode(this.name,_e):!1,toggleHeading:_e=>({commands:et})=>this.options.levels.includes(_e.level)?et.toggleNode(this.name,"paragraph",_e):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((_e,et)=>({..._e,[`Mod-Alt-${et}`]:()=>this.editor.commands.toggleHeading({level:et})}),{})},addInputRules(){return this.options.levels.map(_e=>textblockTypeInputRule({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${_e}})\\s$`),type:this.type,getAttributes:{level:_e}}))}}),HorizontalRule=Node3.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:_e}){return["hr",mergeAttributes(this.options.HTMLAttributes,_e)]},markdownTokenName:"hr",parseMarkdown:(_e,et)=>et.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:_e,state:et})=>{if(!canInsertNode(et,et.schema.nodes[this.name]))return!1;const{selection:rt}=et,{$to:nt}=rt,st=_e();return isNodeSelection(rt)?st.insertContentAt(nt.pos,{type:this.name}):st.insertContent({type:this.name}),st.command(({state:it,tr:at,dispatch:ot})=>{if(ot){const{$to:lt}=at.selection,ct=lt.end();if(lt.nodeAfter)lt.nodeAfter.isTextblock?at.setSelection(TextSelection.create(at.doc,lt.pos+1)):lt.nodeAfter.isBlock?at.setSelection(NodeSelection.create(at.doc,lt.pos)):at.setSelection(TextSelection.create(at.doc,lt.pos));else{const ut=it.schema.nodes[this.options.nextNodeType]||lt.parent.type.contentMatch.defaultType,dt=ut==null?void 0:ut.create();dt&&(at.insert(ct,dt),at.setSelection(TextSelection.create(at.doc,ct+1)))}at.scrollIntoView()}return!0}).run()}}},addInputRules(){return[nodeInputRule({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),starInputRegex=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,starPasteRegex=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,underscoreInputRegex=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,underscorePasteRegex=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,Italic=Mark.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:_e=>_e.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:_e=>_e.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:_e}){return["em",mergeAttributes(this.options.HTMLAttributes,_e),0]},addCommands(){return{setItalic:()=>({commands:_e})=>_e.setMark(this.name),toggleItalic:()=>({commands:_e})=>_e.toggleMark(this.name),unsetItalic:()=>({commands:_e})=>_e.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(_e,et)=>et.applyMark("italic",et.parseInline(_e.tokens||[])),renderMarkdown:(_e,et)=>`*${et.renderChildren(_e)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[markInputRule({find:starInputRegex,type:this.type}),markInputRule({find:underscoreInputRegex,type:this.type})]},addPasteRules(){return[markPasteRule({find:starPasteRegex,type:this.type}),markPasteRule({find:underscorePasteRegex,type:this.type})]}});const encodedTlds="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",encodedUtlds="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",numeric="numeric",ascii="ascii",alpha="alpha",asciinumeric="asciinumeric",alphanumeric="alphanumeric",domain="domain",emoji="emoji",scheme="scheme",slashscheme="slashscheme",whitespace="whitespace";function registerGroup(_e,et){return _e in et||(et[_e]=[]),et[_e]}function addToGroups(_e,et,rt){et[numeric]&&(et[asciinumeric]=!0,et[alphanumeric]=!0),et[ascii]&&(et[asciinumeric]=!0,et[alpha]=!0),et[asciinumeric]&&(et[alphanumeric]=!0),et[alpha]&&(et[alphanumeric]=!0),et[alphanumeric]&&(et[domain]=!0),et[emoji]&&(et[domain]=!0);for(const nt in et){const st=registerGroup(nt,rt);st.indexOf(_e)<0&&st.push(_e)}}function flagsForToken(_e,et){const rt={};for(const nt in et)et[nt].indexOf(_e)>=0&&(rt[nt]=!0);return rt}function State(_e=null){this.j={},this.jr=[],this.jd=null,this.t=_e}State.groups={};State.prototype={accepts(){return!!this.t},go(_e){const et=this,rt=et.j[_e];if(rt)return rt;for(let nt=0;nt<et.jr.length;nt++){const st=et.jr[nt][0],it=et.jr[nt][1];if(it&&st.test(_e))return it}return et.jd},has(_e,et=!1){return et?_e in this.j:!!this.go(_e)},ta(_e,et,rt,nt){for(let st=0;st<_e.length;st++)this.tt(_e[st],et,rt,nt)},tr(_e,et,rt,nt){nt=nt||State.groups;let st;return et&&et.j?st=et:(st=new State(et),rt&&nt&&addToGroups(et,rt,nt)),this.jr.push([_e,st]),st},ts(_e,et,rt,nt){let st=this;const it=_e.length;if(!it)return st;for(let at=0;at<it-1;at++)st=st.tt(_e[at]);return st.tt(_e[it-1],et,rt,nt)},tt(_e,et,rt,nt){nt=nt||State.groups;const st=this;if(et&&et.j)return st.j[_e]=et,et;const it=et;let at,ot=st.go(_e);if(ot?(at=new State,Object.assign(at.j,ot.j),at.jr.push.apply(at.jr,ot.jr),at.jd=ot.jd,at.t=ot.t):at=new State,it){if(nt)if(at.t&&typeof at.t=="string"){const lt=Object.assign(flagsForToken(at.t,nt),rt);addToGroups(it,lt,nt)}else rt&&addToGroups(it,rt,nt);at.t=it}return st.j[_e]=at,at}};const ta=(_e,et,rt,nt,st)=>_e.ta(et,rt,nt,st),tr=(_e,et,rt,nt,st)=>_e.tr(et,rt,nt,st),ts=(_e,et,rt,nt,st)=>_e.ts(et,rt,nt,st),tt=(_e,et,rt,nt,st)=>_e.tt(et,rt,nt,st),WORD="WORD",UWORD="UWORD",ASCIINUMERICAL="ASCIINUMERICAL",ALPHANUMERICAL="ALPHANUMERICAL",LOCALHOST="LOCALHOST",TLD="TLD",UTLD="UTLD",SCHEME="SCHEME",SLASH_SCHEME="SLASH_SCHEME",NUM="NUM",WS="WS",NL="NL",OPENBRACE="OPENBRACE",CLOSEBRACE="CLOSEBRACE",OPENBRACKET="OPENBRACKET",CLOSEBRACKET="CLOSEBRACKET",OPENPAREN="OPENPAREN",CLOSEPAREN="CLOSEPAREN",OPENANGLEBRACKET="OPENANGLEBRACKET",CLOSEANGLEBRACKET="CLOSEANGLEBRACKET",FULLWIDTHLEFTPAREN="FULLWIDTHLEFTPAREN",FULLWIDTHRIGHTPAREN="FULLWIDTHRIGHTPAREN",LEFTCORNERBRACKET="LEFTCORNERBRACKET",RIGHTCORNERBRACKET="RIGHTCORNERBRACKET",LEFTWHITECORNERBRACKET="LEFTWHITECORNERBRACKET",RIGHTWHITECORNERBRACKET="RIGHTWHITECORNERBRACKET",FULLWIDTHLESSTHAN="FULLWIDTHLESSTHAN",FULLWIDTHGREATERTHAN="FULLWIDTHGREATERTHAN",AMPERSAND="AMPERSAND",APOSTROPHE="APOSTROPHE",ASTERISK="ASTERISK",AT="AT",BACKSLASH="BACKSLASH",BACKTICK="BACKTICK",CARET="CARET",COLON="COLON",COMMA="COMMA",DOLLAR="DOLLAR",DOT="DOT",EQUALS="EQUALS",EXCLAMATION="EXCLAMATION",HYPHEN="HYPHEN",PERCENT="PERCENT",PIPE="PIPE",PLUS="PLUS",POUND="POUND",QUERY="QUERY",QUOTE="QUOTE",FULLWIDTHMIDDLEDOT="FULLWIDTHMIDDLEDOT",SEMI="SEMI",SLASH="SLASH",TILDE="TILDE",UNDERSCORE="UNDERSCORE",EMOJI$1="EMOJI",SYM="SYM";var tk=Object.freeze({__proto__:null,ALPHANUMERICAL,AMPERSAND,APOSTROPHE,ASCIINUMERICAL,ASTERISK,AT,BACKSLASH,BACKTICK,CARET,CLOSEANGLEBRACKET,CLOSEBRACE,CLOSEBRACKET,CLOSEPAREN,COLON,COMMA,DOLLAR,DOT,EMOJI:EMOJI$1,EQUALS,EXCLAMATION,FULLWIDTHGREATERTHAN,FULLWIDTHLEFTPAREN,FULLWIDTHLESSTHAN,FULLWIDTHMIDDLEDOT,FULLWIDTHRIGHTPAREN,HYPHEN,LEFTCORNERBRACKET,LEFTWHITECORNERBRACKET,LOCALHOST,NL,NUM,OPENANGLEBRACKET,OPENBRACE,OPENBRACKET,OPENPAREN,PERCENT,PIPE,PLUS,POUND,QUERY,QUOTE,RIGHTCORNERBRACKET,RIGHTWHITECORNERBRACKET,SCHEME,SEMI,SLASH,SLASH_SCHEME,SYM,TILDE,TLD,UNDERSCORE,UTLD,UWORD,WORD,WS});const ASCII_LETTER=/[a-z]/,LETTER=new RegExp("\\p{L}","u"),EMOJI=new RegExp("\\p{Emoji}","u"),DIGIT=/\d/,SPACE=/\s/,CR="\r",LF=`
`,EMOJI_VARIATION="",EMOJI_JOINER="",OBJECT_REPLACEMENT="";let tlds=null,utlds=null;function init$2(_e=[]){const et={};State.groups=et;const rt=new State;tlds==null&&(tlds=decodeTlds(encodedTlds)),utlds==null&&(utlds=decodeTlds(encodedUtlds)),tt(rt,"'",APOSTROPHE),tt(rt,"{",OPENBRACE),tt(rt,"}",CLOSEBRACE),tt(rt,"[",OPENBRACKET),tt(rt,"]",CLOSEBRACKET),tt(rt,"(",OPENPAREN),tt(rt,")",CLOSEPAREN),tt(rt,"<",OPENANGLEBRACKET),tt(rt,">",CLOSEANGLEBRACKET),tt(rt,"",FULLWIDTHLEFTPAREN),tt(rt,"",FULLWIDTHRIGHTPAREN),tt(rt,"",LEFTCORNERBRACKET),tt(rt,"",RIGHTCORNERBRACKET),tt(rt,"",LEFTWHITECORNERBRACKET),tt(rt,"",RIGHTWHITECORNERBRACKET),tt(rt,"",FULLWIDTHLESSTHAN),tt(rt,"",FULLWIDTHGREATERTHAN),tt(rt,"&",AMPERSAND),tt(rt,"*",ASTERISK),tt(rt,"@",AT),tt(rt,"`",BACKTICK),tt(rt,"^",CARET),tt(rt,":",COLON),tt(rt,",",COMMA),tt(rt,"$",DOLLAR),tt(rt,".",DOT),tt(rt,"=",EQUALS),tt(rt,"!",EXCLAMATION),tt(rt,"-",HYPHEN),tt(rt,"%",PERCENT),tt(rt,"|",PIPE),tt(rt,"+",PLUS),tt(rt,"#",POUND),tt(rt,"?",QUERY),tt(rt,'"',QUOTE),tt(rt,"/",SLASH),tt(rt,";",SEMI),tt(rt,"~",TILDE),tt(rt,"_",UNDERSCORE),tt(rt,"\\",BACKSLASH),tt(rt,"",FULLWIDTHMIDDLEDOT);const nt=tr(rt,DIGIT,NUM,{[numeric]:!0});tr(nt,DIGIT,nt);const st=tr(nt,ASCII_LETTER,ASCIINUMERICAL,{[asciinumeric]:!0}),it=tr(nt,LETTER,ALPHANUMERICAL,{[alphanumeric]:!0}),at=tr(rt,ASCII_LETTER,WORD,{[ascii]:!0});tr(at,DIGIT,st),tr(at,ASCII_LETTER,at),tr(st,DIGIT,st),tr(st,ASCII_LETTER,st);const ot=tr(rt,LETTER,UWORD,{[alpha]:!0});tr(ot,ASCII_LETTER),tr(ot,DIGIT,it),tr(ot,LETTER,ot),tr(it,DIGIT,it),tr(it,ASCII_LETTER),tr(it,LETTER,it);const lt=tt(rt,LF,NL,{[whitespace]:!0}),ct=tt(rt,CR,WS,{[whitespace]:!0}),ut=tr(rt,SPACE,WS,{[whitespace]:!0});tt(rt,OBJECT_REPLACEMENT,ut),tt(ct,LF,lt),tt(ct,OBJECT_REPLACEMENT,ut),tr(ct,SPACE,ut),tt(ut,CR),tt(ut,LF),tr(ut,SPACE,ut),tt(ut,OBJECT_REPLACEMENT,ut);const dt=tr(rt,EMOJI,EMOJI$1,{[emoji]:!0});tt(dt,"#"),tr(dt,EMOJI,dt),tt(dt,EMOJI_VARIATION,dt);const pt=tt(dt,EMOJI_JOINER);tt(pt,"#"),tr(pt,EMOJI,dt);const mt=[[ASCII_LETTER,at],[DIGIT,st]],xt=[[ASCII_LETTER,null],[LETTER,ot],[DIGIT,it]];for(let yt=0;yt<tlds.length;yt++)fastts(rt,tlds[yt],TLD,WORD,mt);for(let yt=0;yt<utlds.length;yt++)fastts(rt,utlds[yt],UTLD,UWORD,xt);addToGroups(TLD,{tld:!0,ascii:!0},et),addToGroups(UTLD,{utld:!0,alpha:!0},et),fastts(rt,"file",SCHEME,WORD,mt),fastts(rt,"mailto",SCHEME,WORD,mt),fastts(rt,"http",SLASH_SCHEME,WORD,mt),fastts(rt,"https",SLASH_SCHEME,WORD,mt),fastts(rt,"ftp",SLASH_SCHEME,WORD,mt),fastts(rt,"ftps",SLASH_SCHEME,WORD,mt),addToGroups(SCHEME,{scheme:!0,ascii:!0},et),addToGroups(SLASH_SCHEME,{slashscheme:!0,ascii:!0},et),_e=_e.sort((yt,vt)=>yt[0]>vt[0]?1:-1);for(let yt=0;yt<_e.length;yt++){const vt=_e[yt][0],Et=_e[yt][1]?{[scheme]:!0}:{[slashscheme]:!0};vt.indexOf("-")>=0?Et[domain]=!0:ASCII_LETTER.test(vt)?DIGIT.test(vt)?Et[asciinumeric]=!0:Et[ascii]=!0:Et[numeric]=!0,ts(rt,vt,vt,Et)}return ts(rt,"localhost",LOCALHOST,{ascii:!0}),rt.jd=new State(SYM),{start:rt,tokens:Object.assign({groups:et},tk)}}function run$1(_e,et){const rt=stringToArray(et.replace(/[A-Z]/g,ot=>ot.toLowerCase())),nt=rt.length,st=[];let it=0,at=0;for(;at<nt;){let ot=_e,lt=null,ct=0,ut=null,dt=-1,pt=-1;for(;at<nt&&(lt=ot.go(rt[at]));)ot=lt,ot.accepts()?(dt=0,pt=0,ut=ot):dt>=0&&(dt+=rt[at].length,pt++),ct+=rt[at].length,it+=rt[at].length,at++;it-=dt,at-=pt,ct-=dt,st.push({t:ut.t,v:et.slice(it-ct,it),s:it-ct,e:it})}return st}function stringToArray(_e){const et=[],rt=_e.length;let nt=0;for(;nt<rt;){let st=_e.charCodeAt(nt),it,at=st<55296||st>56319||nt+1===rt||(it=_e.charCodeAt(nt+1))<56320||it>57343?_e[nt]:_e.slice(nt,nt+2);et.push(at),nt+=at.length}return et}function fastts(_e,et,rt,nt,st){let it;const at=et.length;for(let ot=0;ot<at-1;ot++){const lt=et[ot];_e.j[lt]?it=_e.j[lt]:(it=new State(nt),it.jr=st.slice(),_e.j[lt]=it),_e=it}return it=new State(rt),it.jr=st.slice(),_e.j[et[at-1]]=it,it}function decodeTlds(_e){const et=[],rt=[];let nt=0,st="0123456789";for(;nt<_e.length;){let it=0;for(;st.indexOf(_e[nt+it])>=0;)it++;if(it>0){et.push(rt.join(""));for(let at=parseInt(_e.substring(nt,nt+it),10);at>0;at--)rt.pop();nt+=it}else rt.push(_e[nt]),nt++}return et}const defaults={defaultProtocol:"http",events:null,format:noop,formatHref:noop,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function Options(_e,et=null){let rt=Object.assign({},defaults);_e&&(rt=Object.assign(rt,_e instanceof Options?_e.o:_e));const nt=rt.ignoreTags,st=[];for(let it=0;it<nt.length;it++)st.push(nt[it].toUpperCase());this.o=rt,et&&(this.defaultRender=et),this.ignoreTags=st}Options.prototype={o:defaults,ignoreTags:[],defaultRender(_e){return _e},check(_e){return this.get("validate",_e.toString(),_e)},get(_e,et,rt){const nt=et!=null;let st=this.o[_e];return st&&(typeof st=="object"?(st=rt.t in st?st[rt.t]:defaults[_e],typeof st=="function"&&nt&&(st=st(et,rt))):typeof st=="function"&&nt&&(st=st(et,rt.t,rt)),st)},getObj(_e,et,rt){let nt=this.o[_e];return typeof nt=="function"&&et!=null&&(nt=nt(et,rt.t,rt)),nt},render(_e){const et=_e.render(this);return(this.get("render",null,_e)||this.defaultRender)(et,_e.t,_e)}};function noop(_e){return _e}function MultiToken(_e,et){this.t="token",this.v=_e,this.tk=et}MultiToken.prototype={isLink:!1,toString(){return this.v},toHref(_e){return this.toString()},toFormattedString(_e){const et=this.toString(),rt=_e.get("truncate",et,this),nt=_e.get("format",et,this);return rt&&nt.length>rt?nt.substring(0,rt)+"":nt},toFormattedHref(_e){return _e.get("formatHref",this.toHref(_e.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(_e=defaults.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(_e),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(_e){return{type:this.t,value:this.toFormattedString(_e),isLink:this.isLink,href:this.toFormattedHref(_e),start:this.startIndex(),end:this.endIndex()}},validate(_e){return _e.get("validate",this.toString(),this)},render(_e){const et=this,rt=this.toHref(_e.get("defaultProtocol")),nt=_e.get("formatHref",rt,this),st=_e.get("tagName",rt,et),it=this.toFormattedString(_e),at={},ot=_e.get("className",rt,et),lt=_e.get("target",rt,et),ct=_e.get("rel",rt,et),ut=_e.getObj("attributes",rt,et),dt=_e.getObj("events",rt,et);return at.href=nt,ot&&(at.class=ot),lt&&(at.target=lt),ct&&(at.rel=ct),ut&&Object.assign(at,ut),{tagName:st,attributes:at,content:it,eventListeners:dt}}};function createTokenClass(_e,et){class rt extends MultiToken{constructor(st,it){super(st,it),this.t=_e}}for(const nt in et)rt.prototype[nt]=et[nt];return rt.t=_e,rt}const Email=createTokenClass("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),Text$1=createTokenClass("text"),Nl=createTokenClass("nl"),Url=createTokenClass("url",{isLink:!0,toHref(_e=defaults.defaultProtocol){return this.hasProtocol()?this.v:`${_e}://${this.v}`},hasProtocol(){const _e=this.tk;return _e.length>=2&&_e[0].t!==LOCALHOST&&_e[1].t===COLON}}),makeState=_e=>new State(_e);function init$1({groups:_e}){const et=_e.domain.concat([AMPERSAND,ASTERISK,AT,BACKSLASH,BACKTICK,CARET,DOLLAR,EQUALS,HYPHEN,NUM,PERCENT,PIPE,PLUS,POUND,SLASH,SYM,TILDE,UNDERSCORE]),rt=[APOSTROPHE,COLON,COMMA,DOT,EXCLAMATION,PERCENT,QUERY,QUOTE,SEMI,OPENANGLEBRACKET,CLOSEANGLEBRACKET,OPENBRACE,CLOSEBRACE,CLOSEBRACKET,OPENBRACKET,OPENPAREN,CLOSEPAREN,FULLWIDTHLEFTPAREN,FULLWIDTHRIGHTPAREN,LEFTCORNERBRACKET,RIGHTCORNERBRACKET,LEFTWHITECORNERBRACKET,RIGHTWHITECORNERBRACKET,FULLWIDTHLESSTHAN,FULLWIDTHGREATERTHAN],nt=[AMPERSAND,APOSTROPHE,ASTERISK,BACKSLASH,BACKTICK,CARET,DOLLAR,EQUALS,HYPHEN,OPENBRACE,CLOSEBRACE,PERCENT,PIPE,PLUS,POUND,QUERY,SLASH,SYM,TILDE,UNDERSCORE],st=makeState(),it=tt(st,TILDE);ta(it,nt,it),ta(it,_e.domain,it);const at=makeState(),ot=makeState(),lt=makeState();ta(st,_e.domain,at),ta(st,_e.scheme,ot),ta(st,_e.slashscheme,lt),ta(at,nt,it),ta(at,_e.domain,at);const ct=tt(at,AT);tt(it,AT,ct),tt(ot,AT,ct),tt(lt,AT,ct);const ut=tt(it,DOT);ta(ut,nt,it),ta(ut,_e.domain,it);const dt=makeState();ta(ct,_e.domain,dt),ta(dt,_e.domain,dt);const pt=tt(dt,DOT);ta(pt,_e.domain,dt);const mt=makeState(Email);ta(pt,_e.tld,mt),ta(pt,_e.utld,mt),tt(ct,LOCALHOST,mt);const xt=tt(dt,HYPHEN);tt(xt,HYPHEN,xt),ta(xt,_e.domain,dt),ta(mt,_e.domain,dt),tt(mt,DOT,pt),tt(mt,HYPHEN,xt);const yt=tt(mt,COLON);ta(yt,_e.numeric,Email);const vt=tt(at,HYPHEN),gt=tt(at,DOT);tt(vt,HYPHEN,vt),ta(vt,_e.domain,at),ta(gt,nt,it),ta(gt,_e.domain,at);const Et=makeState(Url);ta(gt,_e.tld,Et),ta(gt,_e.utld,Et),ta(Et,_e.domain,at),ta(Et,nt,it),tt(Et,DOT,gt),tt(Et,HYPHEN,vt),tt(Et,AT,ct);const jt=tt(Et,COLON),kt=makeState(Url);ta(jt,_e.numeric,kt);const Rt=makeState(Url),St=makeState();ta(Rt,et,Rt),ta(Rt,rt,St),ta(St,et,Rt),ta(St,rt,St),tt(Et,SLASH,Rt),tt(kt,SLASH,Rt);const _t=tt(ot,COLON),Nt=tt(lt,COLON),Lt=tt(Nt,SLASH),$t=tt(Lt,SLASH);ta(ot,_e.domain,at),tt(ot,DOT,gt),tt(ot,HYPHEN,vt),ta(lt,_e.domain,at),tt(lt,DOT,gt),tt(lt,HYPHEN,vt),ta(_t,_e.domain,Rt),tt(_t,SLASH,Rt),tt(_t,QUERY,Rt),ta($t,_e.domain,Rt),ta($t,et,Rt),tt($t,SLASH,Rt);const Ft=[[OPENBRACE,CLOSEBRACE],[OPENBRACKET,CLOSEBRACKET],[OPENPAREN,CLOSEPAREN],[OPENANGLEBRACKET,CLOSEANGLEBRACKET],[FULLWIDTHLEFTPAREN,FULLWIDTHRIGHTPAREN],[LEFTCORNERBRACKET,RIGHTCORNERBRACKET],[LEFTWHITECORNERBRACKET,RIGHTWHITECORNERBRACKET],[FULLWIDTHLESSTHAN,FULLWIDTHGREATERTHAN]];for(let Tt=0;Tt<Ft.length;Tt++){const[Bt,Wt]=Ft[Tt],qt=tt(Rt,Bt);tt(St,Bt,qt),tt(qt,Wt,Rt);const Ot=makeState(Url);ta(qt,et,Ot);const Dt=makeState();ta(qt,rt),ta(Ot,et,Ot),ta(Ot,rt,Dt),ta(Dt,et,Ot),ta(Dt,rt,Dt),tt(Ot,Wt,Rt),tt(Dt,Wt,Rt)}return tt(st,LOCALHOST,Et),tt(st,NL,Nl),{start:st,tokens:tk}}function run(_e,et,rt){let nt=rt.length,st=0,it=[],at=[];for(;st<nt;){let ot=_e,lt=null,ct=null,ut=0,dt=null,pt=-1;for(;st<nt&&!(lt=ot.go(rt[st].t));)at.push(rt[st++]);for(;st<nt&&(ct=lt||ot.go(rt[st].t));)lt=null,ot=ct,ot.accepts()?(pt=0,dt=ot):pt>=0&&pt++,st++,ut++;if(pt<0)st-=ut,st<nt&&(at.push(rt[st]),st++);else{at.length>0&&(it.push(initMultiToken(Text$1,et,at)),at=[]),st-=pt,ut-=pt;const mt=dt.t,xt=rt.slice(st-ut,st);it.push(initMultiToken(mt,et,xt))}}return at.length>0&&it.push(initMultiToken(Text$1,et,at)),it}function initMultiToken(_e,et,rt){const nt=rt[0].s,st=rt[rt.length-1].e,it=et.slice(nt,st);return new _e(it,rt)}const warn=typeof console<"u"&&console&&console.warn||(()=>{}),warnAdvice="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",INIT={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function reset(){return State.groups={},INIT.scanner=null,INIT.parser=null,INIT.tokenQueue=[],INIT.pluginQueue=[],INIT.customSchemes=[],INIT.initialized=!1,INIT}function registerCustomProtocol(_e,et=!1){if(INIT.initialized&&warn(`linkifyjs: already initialized - will not register custom scheme "${_e}" ${warnAdvice}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(_e))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);INIT.customSchemes.push([_e,et])}function init(){INIT.scanner=init$2(INIT.customSchemes);for(let _e=0;_e<INIT.tokenQueue.length;_e++)INIT.tokenQueue[_e][1]({scanner:INIT.scanner});INIT.parser=init$1(INIT.scanner.tokens);for(let _e=0;_e<INIT.pluginQueue.length;_e++)INIT.pluginQueue[_e][1]({scanner:INIT.scanner,parser:INIT.parser});return INIT.initialized=!0,INIT}function tokenize(_e){return INIT.initialized||init(),run(INIT.parser.start,_e,run$1(INIT.scanner.start,_e))}tokenize.scan=run$1;function find(_e,et=null,rt=null){if(et&&typeof et=="object"){if(rt)throw Error(`linkifyjs: Invalid link type ${et}; must be a string`);rt=et,et=null}const nt=new Options(rt),st=tokenize(_e),it=[];for(let at=0;at<st.length;at++){const ot=st[at];ot.isLink&&(!et||ot.t===et)&&nt.check(ot)&&it.push(ot.toFormattedObject(nt))}return it}var UNICODE_WHITESPACE_PATTERN="[\0- -\u2029]",UNICODE_WHITESPACE_REGEX=new RegExp(UNICODE_WHITESPACE_PATTERN),UNICODE_WHITESPACE_REGEX_END=new RegExp(`${UNICODE_WHITESPACE_PATTERN}$`),UNICODE_WHITESPACE_REGEX_GLOBAL=new RegExp(UNICODE_WHITESPACE_PATTERN,"g");function isValidLinkStructure(_e){return _e.length===1?_e[0].isLink:_e.length===3&&_e[1].isLink?["()","[]"].includes(_e[0].value+_e[2].value):!1}function autolink(_e){return new Plugin({key:new PluginKey("autolink"),appendTransaction:(et,rt,nt)=>{const st=et.some(ct=>ct.docChanged)&&!rt.doc.eq(nt.doc),it=et.some(ct=>ct.getMeta("preventAutolink"));if(!st||it)return;const{tr:at}=nt,ot=combineTransactionSteps(rt.doc,[...et]);if(getChangedRanges(ot).forEach(({newRange:ct})=>{const ut=findChildrenInRange(nt.doc,ct,mt=>mt.isTextblock);let dt,pt;if(ut.length>1)dt=ut[0],pt=nt.doc.textBetween(dt.pos,dt.pos+dt.node.nodeSize,void 0," ");else if(ut.length){const mt=nt.doc.textBetween(ct.from,ct.to," "," ");if(!UNICODE_WHITESPACE_REGEX_END.test(mt))return;dt=ut[0],pt=nt.doc.textBetween(dt.pos,ct.to,void 0," ")}if(dt&&pt){const mt=pt.split(UNICODE_WHITESPACE_REGEX).filter(Boolean);if(mt.length<=0)return!1;const xt=mt[mt.length-1],yt=dt.pos+pt.lastIndexOf(xt);if(!xt)return!1;const vt=tokenize(xt).map(gt=>gt.toObject(_e.defaultProtocol));if(!isValidLinkStructure(vt))return!1;vt.filter(gt=>gt.isLink).map(gt=>({...gt,from:yt+gt.start+1,to:yt+gt.end+1})).filter(gt=>nt.schema.marks.code?!nt.doc.rangeHasMark(gt.from,gt.to,nt.schema.marks.code):!0).filter(gt=>_e.validate(gt.value)).filter(gt=>_e.shouldAutoLink(gt.value)).forEach(gt=>{getMarksBetween(gt.from,gt.to,nt.doc).some(Et=>Et.mark.type===_e.type)||at.addMark(gt.from,gt.to,_e.type.create({href:gt.href}))})}}),!!at.steps.length)return at}})}function clickHandler(_e){return new Plugin({key:new PluginKey("handleClickLink"),props:{handleClick:(et,rt,nt)=>{var st,it;if(nt.button!==0||!et.editable)return!1;let at=null;if(nt.target instanceof HTMLAnchorElement)at=nt.target;else{const lt=nt.target;if(!lt)return!1;const ct=_e.editor.view.dom;at=lt.closest("a"),at&&!ct.contains(at)&&(at=null)}if(!at)return!1;let ot=!1;if(_e.enableClickSelection&&(ot=_e.editor.commands.extendMarkRange(_e.type.name)),_e.openOnClick){const lt=getAttributes(et.state,_e.type.name),ct=(st=at.href)!=null?st:lt.href,ut=(it=at.target)!=null?it:lt.target;ct&&(window.open(ct,ut),ot=!0)}return ot}}})}function pasteHandler(_e){return new Plugin({key:new PluginKey("handlePasteLink"),props:{handlePaste:(et,rt,nt)=>{const{shouldAutoLink:st}=_e,{state:it}=et,{selection:at}=it,{empty:ot}=at;if(ot)return!1;let lt="";nt.content.forEach(ut=>{lt+=ut.textContent});const ct=find(lt,{defaultProtocol:_e.defaultProtocol}).find(ut=>ut.isLink&&ut.value===lt);return!lt||!ct||st!==void 0&&!st(ct.value)?!1:_e.editor.commands.setMark(_e.type,{href:ct.href})}}})}function isAllowedUri(_e,et){const rt=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return et&&et.forEach(nt=>{const st=typeof nt=="string"?nt:nt.scheme;st&&rt.push(st)}),!_e||_e.replace(UNICODE_WHITESPACE_REGEX_GLOBAL,"").match(new RegExp(`^(?:(?:${rt.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var Link=Mark.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(_e=>{if(typeof _e=="string"){registerCustomProtocol(_e);return}registerCustomProtocol(_e.scheme,_e.optionalSlashes)})},onDestroy(){reset()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(_e,et)=>!!isAllowedUri(_e,et.protocols),validate:_e=>!!_e,shouldAutoLink:_e=>{const et=/^[a-z][a-z0-9+.-]*:\/\//i.test(_e),rt=/^[a-z][a-z0-9+.-]*:/i.test(_e);if(et||rt&&!_e.includes("@"))return!0;const st=(_e.includes("@")?_e.split("@").pop():_e).split(/[/?#:]/)[0];return!(/^\d{1,3}(\.\d{1,3}){3}$/.test(st)||!/\./.test(st))}}},addAttributes(){return{href:{default:null,parseHTML(_e){return _e.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:_e=>{const et=_e.getAttribute("href");return!et||!this.options.isAllowedUri(et,{defaultValidate:rt=>!!isAllowedUri(rt,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:_e}){return this.options.isAllowedUri(_e.href,{defaultValidate:et=>!!isAllowedUri(et,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",mergeAttributes(this.options.HTMLAttributes,_e),0]:["a",mergeAttributes(this.options.HTMLAttributes,{..._e,href:""}),0]},markdownTokenName:"link",parseMarkdown:(_e,et)=>et.applyMark("link",et.parseInline(_e.tokens||[]),{href:_e.href,title:_e.title||null}),renderMarkdown:(_e,et)=>{var rt;const nt=((rt=_e.attrs)==null?void 0:rt.href)||"";return`[${et.renderChildren(_e)}](${nt})`},addCommands(){return{setLink:_e=>({chain:et})=>{const{href:rt}=_e;return this.options.isAllowedUri(rt,{defaultValidate:nt=>!!isAllowedUri(nt,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?et().setMark(this.name,_e).setMeta("preventAutolink",!0).run():!1},toggleLink:_e=>({chain:et})=>{const{href:rt}=_e||{};return rt&&!this.options.isAllowedUri(rt,{defaultValidate:nt=>!!isAllowedUri(nt,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:et().toggleMark(this.name,_e,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:_e})=>_e().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[markPasteRule({find:_e=>{const et=[];if(_e){const{protocols:rt,defaultProtocol:nt}=this.options,st=find(_e).filter(it=>it.isLink&&this.options.isAllowedUri(it.value,{defaultValidate:at=>!!isAllowedUri(at,rt),protocols:rt,defaultProtocol:nt}));st.length&&st.forEach(it=>{this.options.shouldAutoLink(it.value)&&et.push({text:it.value,data:{href:it.href},index:it.start})})}return et},type:this.type,getAttributes:_e=>{var et;return{href:(et=_e.data)==null?void 0:et.href}}})]},addProseMirrorPlugins(){const _e=[],{protocols:et,defaultProtocol:rt}=this.options;return this.options.autolink&&_e.push(autolink({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:nt=>this.options.isAllowedUri(nt,{defaultValidate:st=>!!isAllowedUri(st,et),protocols:et,defaultProtocol:rt}),shouldAutoLink:this.options.shouldAutoLink})),_e.push(clickHandler({type:this.type,editor:this.editor,openOnClick:this.options.openOnClick==="whenNotEditable"?!0:this.options.openOnClick,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&_e.push(pasteHandler({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),_e}}),__defProp=Object.defineProperty,__export=(_e,et)=>{for(var rt in et)__defProp(_e,rt,{get:et[rt],enumerable:!0})},ListItemName="listItem",TextStyleName="textStyle",bulletListInputRegex=/^\s*([-+*])\s$/,BulletList=Node3.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:_e}){return["ul",mergeAttributes(this.options.HTMLAttributes,_e),0]},markdownTokenName:"list",parseMarkdown:(_e,et)=>_e.type!=="list"||_e.ordered?[]:{type:"bulletList",content:_e.items?et.parseChildren(_e.items):[]},renderMarkdown:(_e,et)=>_e.content?et.renderChildren(_e.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:_e,chain:et})=>this.options.keepAttributes?et().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(ListItemName,this.editor.getAttributes(TextStyleName)).run():_e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let _e=wrappingInputRule({find:bulletListInputRegex,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(_e=wrappingInputRule({find:bulletListInputRegex,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(TextStyleName),editor:this.editor})),[_e]}}),ListItem=Node3.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:_e}){return["li",mergeAttributes(this.options.HTMLAttributes,_e),0]},markdownTokenName:"list_item",parseMarkdown:(_e,et)=>{if(_e.type!=="list_item")return[];let rt=[];if(_e.tokens&&_e.tokens.length>0)if(_e.tokens.some(st=>st.type==="paragraph"))rt=et.parseChildren(_e.tokens);else{const st=_e.tokens[0];if(st&&st.type==="text"&&st.tokens&&st.tokens.length>0){if(rt=[{type:"paragraph",content:et.parseInline(st.tokens)}],_e.tokens.length>1){const at=_e.tokens.slice(1),ot=et.parseChildren(at);rt.push(...ot)}}else rt=et.parseChildren(_e.tokens)}return rt.length===0&&(rt=[{type:"paragraph",content:[]}]),{type:"listItem",content:rt}},renderMarkdown:(_e,et,rt)=>renderNestedMarkdownContent(_e,et,nt=>nt.parentType==="bulletList"?"- ":nt.parentType==="orderedList"?`${nt.index+1}. `:"- ",rt),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),listHelpers_exports={};__export(listHelpers_exports,{findListItemPos:()=>findListItemPos,getNextListDepth:()=>getNextListDepth,handleBackspace:()=>handleBackspace,handleDelete:()=>handleDelete,hasListBefore:()=>hasListBefore,hasListItemAfter:()=>hasListItemAfter,hasListItemBefore:()=>hasListItemBefore,listItemHasSubList:()=>listItemHasSubList,nextListIsDeeper:()=>nextListIsDeeper,nextListIsHigher:()=>nextListIsHigher});var findListItemPos=(_e,et)=>{const{$from:rt}=et.selection,nt=getNodeType(_e,et.schema);let st=null,it=rt.depth,at=rt.pos,ot=null;for(;it>0&&ot===null;)st=rt.node(it),st.type===nt?ot=it:(it-=1,at-=1);return ot===null?null:{$pos:et.doc.resolve(at),depth:ot}},getNextListDepth=(_e,et)=>{const rt=findListItemPos(_e,et);if(!rt)return!1;const[,nt]=getNodeAtPosition(et,_e,rt.$pos.pos+4);return nt},hasListBefore=(_e,et,rt)=>{const{$anchor:nt}=_e.selection,st=Math.max(0,nt.pos-2),it=_e.doc.resolve(st).node();return!(!it||!rt.includes(it.type.name))},hasListItemBefore=(_e,et)=>{var rt;const{$anchor:nt}=et.selection,st=et.doc.resolve(nt.pos-2);return!(st.index()===0||((rt=st.nodeBefore)==null?void 0:rt.type.name)!==_e)},listItemHasSubList=(_e,et,rt)=>{if(!rt)return!1;const nt=getNodeType(_e,et.schema);let st=!1;return rt.descendants(it=>{it.type===nt&&(st=!0)}),st},handleBackspace=(_e,et,rt)=>{if(_e.commands.undoInputRule())return!0;if(_e.state.selection.from!==_e.state.selection.to)return!1;if(!isNodeActive(_e.state,et)&&hasListBefore(_e.state,et,rt)){const{$anchor:ot}=_e.state.selection,lt=_e.state.doc.resolve(ot.before()-1),ct=[];lt.node().descendants((pt,mt)=>{pt.type.name===et&&ct.push({node:pt,pos:mt})});const ut=ct.at(-1);if(!ut)return!1;const dt=_e.state.doc.resolve(lt.start()+ut.pos+1);return _e.chain().cut({from:ot.start()-1,to:ot.end()+1},dt.end()).joinForward().run()}if(!isNodeActive(_e.state,et)||!isAtStartOfNode(_e.state))return!1;const nt=findListItemPos(et,_e.state);if(!nt)return!1;const it=_e.state.doc.resolve(nt.$pos.pos-2).node(nt.depth),at=listItemHasSubList(et,_e.state,it);return hasListItemBefore(et,_e.state)&&!at?_e.commands.joinItemBackward():_e.chain().liftListItem(et).run()},nextListIsDeeper=(_e,et)=>{const rt=getNextListDepth(_e,et),nt=findListItemPos(_e,et);return!nt||!rt?!1:rt>nt.depth},nextListIsHigher=(_e,et)=>{const rt=getNextListDepth(_e,et),nt=findListItemPos(_e,et);return!nt||!rt?!1:rt<nt.depth},handleDelete=(_e,et)=>{if(!isNodeActive(_e.state,et)||!isAtEndOfNode(_e.state,et))return!1;const{selection:rt}=_e.state,{$from:nt,$to:st}=rt;return!rt.empty&&nt.sameParent(st)?!1:nextListIsDeeper(et,_e.state)?_e.chain().focus(_e.state.selection.from+4).lift(et).joinBackward().run():nextListIsHigher(et,_e.state)?_e.chain().joinForward().joinBackward().run():_e.commands.joinItemForward()},hasListItemAfter=(_e,et)=>{var rt;const{$anchor:nt}=et.selection,st=et.doc.resolve(nt.pos-nt.parentOffset-2);return!(st.index()===st.parent.childCount-1||((rt=st.nodeAfter)==null?void 0:rt.type.name)!==_e)},ListKeymap=Extension.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:_e})=>{let et=!1;return this.options.listTypes.forEach(({itemName:rt})=>{_e.state.schema.nodes[rt]!==void 0&&handleDelete(_e,rt)&&(et=!0)}),et},"Mod-Delete":({editor:_e})=>{let et=!1;return this.options.listTypes.forEach(({itemName:rt})=>{_e.state.schema.nodes[rt]!==void 0&&handleDelete(_e,rt)&&(et=!0)}),et},Backspace:({editor:_e})=>{let et=!1;return this.options.listTypes.forEach(({itemName:rt,wrapperNames:nt})=>{_e.state.schema.nodes[rt]!==void 0&&handleBackspace(_e,rt,nt)&&(et=!0)}),et},"Mod-Backspace":({editor:_e})=>{let et=!1;return this.options.listTypes.forEach(({itemName:rt,wrapperNames:nt})=>{_e.state.schema.nodes[rt]!==void 0&&handleBackspace(_e,rt,nt)&&(et=!0)}),et}}}}),ORDERED_LIST_ITEM_REGEX=/^(\s*)(\d+)\.\s+(.*)$/,INDENTED_LINE_REGEX=/^\s/;function collectOrderedListItems(_e){const et=[];let rt=0,nt=0;for(;rt<_e.length;){const st=_e[rt],it=st.match(ORDERED_LIST_ITEM_REGEX);if(!it)break;const[,at,ot,lt]=it,ct=at.length;let ut=lt,dt=rt+1;const pt=[st];for(;dt<_e.length;){const mt=_e[dt];if(mt.match(ORDERED_LIST_ITEM_REGEX))break;if(mt.trim()==="")pt.push(mt),ut+=`
`,dt+=1;else if(mt.match(INDENTED_LINE_REGEX))pt.push(mt),ut+=`
${mt.slice(ct+2)}`,dt+=1;else break}et.push({indent:ct,number:parseInt(ot,10),content:ut.trim(),raw:pt.join(`
`)}),nt=dt,rt=dt}return[et,nt]}function buildNestedStructure(_e,et,rt){var nt;const st=[];let it=0;for(;it<_e.length;){const at=_e[it];if(at.indent===et){const ot=at.content.split(`
`),lt=((nt=ot[0])==null?void 0:nt.trim())||"",ct=[];lt&&ct.push({type:"paragraph",raw:lt,tokens:rt.inlineTokens(lt)});const ut=ot.slice(1).join(`
`).trim();if(ut){const mt=rt.blockTokens(ut);ct.push(...mt)}let dt=it+1;const pt=[];for(;dt<_e.length&&_e[dt].indent>et;)pt.push(_e[dt]),dt+=1;if(pt.length>0){const mt=Math.min(...pt.map(yt=>yt.indent)),xt=buildNestedStructure(pt,mt,rt);ct.push({type:"list",ordered:!0,start:pt[0].number,items:xt,raw:pt.map(yt=>yt.raw).join(`
`)})}st.push({type:"list_item",raw:at.raw,tokens:ct}),it=dt}else it+=1}return st}function parseListItems(_e,et){return _e.map(rt=>{if(rt.type!=="list_item")return et.parseChildren([rt])[0];const nt=[];return rt.tokens&&rt.tokens.length>0&&rt.tokens.forEach(st=>{if(st.type==="paragraph"||st.type==="list"||st.type==="blockquote"||st.type==="code")nt.push(...et.parseChildren([st]));else if(st.type==="text"&&st.tokens){const it=et.parseChildren([st]);nt.push({type:"paragraph",content:it})}else{const it=et.parseChildren([st]);it.length>0&&nt.push(...it)}}),{type:"listItem",content:nt}})}var ListItemName2="listItem",TextStyleName2="textStyle",orderedListInputRegex=/^(\d+)\.\s$/,OrderedList=Node3.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:_e=>_e.hasAttribute("start")?parseInt(_e.getAttribute("start")||"",10):1},type:{default:null,parseHTML:_e=>_e.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:_e}){const{start:et,...rt}=_e;return et===1?["ol",mergeAttributes(this.options.HTMLAttributes,rt),0]:["ol",mergeAttributes(this.options.HTMLAttributes,_e),0]},markdownTokenName:"list",parseMarkdown:(_e,et)=>{if(_e.type!=="list"||!_e.ordered)return[];const rt=_e.start||1,nt=_e.items?parseListItems(_e.items,et):[];return rt!==1?{type:"orderedList",attrs:{start:rt},content:nt}:{type:"orderedList",content:nt}},renderMarkdown:(_e,et)=>_e.content?et.renderChildren(_e.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:_e=>{const et=_e.match(/^(\s*)(\d+)\.\s+/),rt=et==null?void 0:et.index;return rt!==void 0?rt:-1},tokenize:(_e,et,rt)=>{var nt;const st=_e.split(`
`),[it,at]=collectOrderedListItems(st);if(it.length===0)return;const ot=buildNestedStructure(it,0,rt);return ot.length===0?void 0:{type:"list",ordered:!0,start:((nt=it[0])==null?void 0:nt.number)||1,items:ot,raw:st.slice(0,at).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:_e,chain:et})=>this.options.keepAttributes?et().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(ListItemName2,this.editor.getAttributes(TextStyleName2)).run():_e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let _e=wrappingInputRule({find:orderedListInputRegex,type:this.type,getAttributes:et=>({start:+et[1]}),joinPredicate:(et,rt)=>rt.childCount+rt.attrs.start===+et[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(_e=wrappingInputRule({find:orderedListInputRegex,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:et=>({start:+et[1],...this.editor.getAttributes(TextStyleName2)}),joinPredicate:(et,rt)=>rt.childCount+rt.attrs.start===+et[1],editor:this.editor})),[_e]}}),inputRegex$1=/^\s*(\[([( |x])?\])\s$/,TaskItem=Node3.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:_e=>{const et=_e.getAttribute("data-checked");return et===""||et==="true"},renderHTML:_e=>({"data-checked":_e.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:_e,HTMLAttributes:et}){return["li",mergeAttributes(this.options.HTMLAttributes,et,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:_e.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(_e,et)=>{const rt=[];if(_e.tokens&&_e.tokens.length>0?rt.push(et.createNode("paragraph",{},et.parseInline(_e.tokens))):_e.text?rt.push(et.createNode("paragraph",{},[et.createNode("text",{text:_e.text})])):rt.push(et.createNode("paragraph",{},[])),_e.nestedTokens&&_e.nestedTokens.length>0){const nt=et.parseChildren(_e.nestedTokens);rt.push(...nt)}return et.createNode("taskItem",{checked:_e.checked||!1},rt)},renderMarkdown:(_e,et)=>{var rt;const st=`- [${(rt=_e.attrs)!=null&&rt.checked?"x":" "}] `;return renderNestedMarkdownContent(_e,et,st)},addKeyboardShortcuts(){const _e={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{..._e,Tab:()=>this.editor.commands.sinkListItem(this.name)}:_e},addNodeView(){return({node:_e,HTMLAttributes:et,getPos:rt,editor:nt})=>{const st=document.createElement("li"),it=document.createElement("label"),at=document.createElement("span"),ot=document.createElement("input"),lt=document.createElement("div"),ct=dt=>{var pt,mt;ot.ariaLabel=((mt=(pt=this.options.a11y)==null?void 0:pt.checkboxLabel)==null?void 0:mt.call(pt,dt,ot.checked))||`Task item checkbox for ${dt.textContent||"empty task item"}`};ct(_e),it.contentEditable="false",ot.type="checkbox",ot.addEventListener("mousedown",dt=>dt.preventDefault()),ot.addEventListener("change",dt=>{if(!nt.isEditable&&!this.options.onReadOnlyChecked){ot.checked=!ot.checked;return}const{checked:pt}=dt.target;nt.isEditable&&typeof rt=="function"&&nt.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:mt})=>{const xt=rt();if(typeof xt!="number")return!1;const yt=mt.doc.nodeAt(xt);return mt.setNodeMarkup(xt,void 0,{...yt==null?void 0:yt.attrs,checked:pt}),!0}).run(),!nt.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(_e,pt)||(ot.checked=!ot.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([dt,pt])=>{st.setAttribute(dt,pt)}),st.dataset.checked=_e.attrs.checked,ot.checked=_e.attrs.checked,it.append(ot,at),st.append(it,lt),Object.entries(et).forEach(([dt,pt])=>{st.setAttribute(dt,pt)});let ut=new Set(Object.keys(et));return{dom:st,contentDOM:lt,update:dt=>{if(dt.type!==this.type)return!1;st.dataset.checked=dt.attrs.checked,ot.checked=dt.attrs.checked,ct(dt);const pt=nt.extensionManager.attributes,mt=getRenderedAttributes(dt,pt),xt=new Set(Object.keys(mt)),yt=this.options.HTMLAttributes;return ut.forEach(vt=>{xt.has(vt)||(vt in yt?st.setAttribute(vt,yt[vt]):st.removeAttribute(vt))}),Object.entries(mt).forEach(([vt,gt])=>{gt==null?vt in yt?st.setAttribute(vt,yt[vt]):st.removeAttribute(vt):st.setAttribute(vt,gt)}),ut=xt,!0}}}},addInputRules(){return[wrappingInputRule({find:inputRegex$1,type:this.type,getAttributes:_e=>({checked:_e[_e.length-1]==="x"})})]}}),TaskList=Node3.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:_e}){return["ul",mergeAttributes(this.options.HTMLAttributes,_e,{"data-type":this.name}),0]},parseMarkdown:(_e,et)=>et.createNode("taskList",{},et.parseChildren(_e.items||[])),renderMarkdown:(_e,et)=>_e.content?et.renderChildren(_e.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(_e){var et;const rt=(et=_e.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:et.index;return rt!==void 0?rt:-1},tokenize(_e,et,rt){const nt=it=>{const at=parseIndentedBlocks(it,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:ot=>({indentLevel:ot[1].length,mainContent:ot[4],checked:ot[3].toLowerCase()==="x"}),createToken:(ot,lt)=>({type:"taskItem",raw:"",mainContent:ot.mainContent,indentLevel:ot.indentLevel,checked:ot.checked,text:ot.mainContent,tokens:rt.inlineTokens(ot.mainContent),nestedTokens:lt}),customNestedParser:nt},rt);return at?[{type:"taskList",raw:at.raw,items:at.items}]:rt.blockTokens(it)},st=parseIndentedBlocks(_e,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:it=>({indentLevel:it[1].length,mainContent:it[4],checked:it[3].toLowerCase()==="x"}),createToken:(it,at)=>({type:"taskItem",raw:"",mainContent:it.mainContent,indentLevel:it.indentLevel,checked:it.checked,text:it.mainContent,tokens:rt.inlineTokens(it.mainContent),nestedTokens:at}),customNestedParser:nt},rt);if(st)return{type:"taskList",raw:st.raw,items:st.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:_e})=>_e.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});Extension.create({name:"listKit",addExtensions(){const _e=[];return this.options.bulletList!==!1&&_e.push(BulletList.configure(this.options.bulletList)),this.options.listItem!==!1&&_e.push(ListItem.configure(this.options.listItem)),this.options.listKeymap!==!1&&_e.push(ListKeymap.configure(this.options.listKeymap)),this.options.orderedList!==!1&&_e.push(OrderedList.configure(this.options.orderedList)),this.options.taskItem!==!1&&_e.push(TaskItem.configure(this.options.taskItem)),this.options.taskList!==!1&&_e.push(TaskList.configure(this.options.taskList)),_e}});var Paragraph=Node3.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:_e}){return["p",mergeAttributes(this.options.HTMLAttributes,_e),0]},parseMarkdown:(_e,et)=>{const rt=_e.tokens||[];return rt.length===1&&rt[0].type==="image"?et.parseChildren([rt[0]]):et.createNode("paragraph",void 0,et.parseInline(rt))},renderMarkdown:(_e,et)=>!_e||!Array.isArray(_e.content)?"":et.renderChildren(_e.content),addCommands(){return{setParagraph:()=>({commands:_e})=>_e.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),inputRegex=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,pasteRegex=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,Strike=Mark.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:_e=>_e.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:_e}){return["s",mergeAttributes(this.options.HTMLAttributes,_e),0]},markdownTokenName:"del",parseMarkdown:(_e,et)=>et.applyMark("strike",et.parseInline(_e.tokens||[])),renderMarkdown:(_e,et)=>`~~${et.renderChildren(_e)}~~`,addCommands(){return{setStrike:()=>({commands:_e})=>_e.setMark(this.name),toggleStrike:()=>({commands:_e})=>_e.toggleMark(this.name),unsetStrike:()=>({commands:_e})=>_e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[markInputRule({find:inputRegex,type:this.type})]},addPasteRules(){return[markPasteRule({find:pasteRegex,type:this.type})]}}),Text=Node3.create({name:"text",group:"inline",parseMarkdown:_e=>({type:"text",text:_e.text||""}),renderMarkdown:_e=>_e.text||""}),Underline=Mark.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:_e=>_e.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:_e}){return["u",mergeAttributes(this.options.HTMLAttributes,_e),0]},parseMarkdown(_e,et){return et.applyMark(this.name||"underline",et.parseInline(_e.tokens||[]))},renderMarkdown(_e,et){return`++${et.renderChildren(_e)}++`},markdownTokenizer:{name:"underline",level:"inline",start(_e){return _e.indexOf("++")},tokenize(_e,et,rt){const st=/^(\+\+)([\s\S]+?)(\+\+)/.exec(_e);if(!st)return;const it=st[2].trim();return{type:"underline",raw:st[0],text:it,tokens:rt.inlineTokens(it)}}},addCommands(){return{setUnderline:()=>({commands:_e})=>_e.setMark(this.name),toggleUnderline:()=>({commands:_e})=>_e.toggleMark(this.name),unsetUnderline:()=>({commands:_e})=>_e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),index_default$1=Underline;function dropCursor(_e={}){return new Plugin({view(et){return new DropCursorView(et,_e)}})}class DropCursorView{constructor(et,rt){var nt;this.editorView=et,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(nt=rt.width)!==null&&nt!==void 0?nt:1,this.color=rt.color===!1?void 0:rt.color||"black",this.class=rt.class,this.handlers=["dragover","dragend","drop","dragleave"].map(st=>{let it=at=>{this[st](at)};return et.dom.addEventListener(st,it),{name:st,handler:it}})}destroy(){this.handlers.forEach(({name:et,handler:rt})=>this.editorView.dom.removeEventListener(et,rt))}update(et,rt){this.cursorPos!=null&&rt.doc!=et.state.doc&&(this.cursorPos>et.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(et){et!=this.cursorPos&&(this.cursorPos=et,et==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let et=this.editorView.state.doc.resolve(this.cursorPos),rt=!et.parent.inlineContent,nt,st=this.editorView.dom,it=st.getBoundingClientRect(),at=it.width/st.offsetWidth,ot=it.height/st.offsetHeight;if(rt){let dt=et.nodeBefore,pt=et.nodeAfter;if(dt||pt){let mt=this.editorView.nodeDOM(this.cursorPos-(dt?dt.nodeSize:0));if(mt){let xt=mt.getBoundingClientRect(),yt=dt?xt.bottom:xt.top;dt&&pt&&(yt=(yt+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let vt=this.width/2*ot;nt={left:xt.left,right:xt.right,top:yt-vt,bottom:yt+vt}}}}if(!nt){let dt=this.editorView.coordsAtPos(this.cursorPos),pt=this.width/2*at;nt={left:dt.left-pt,right:dt.left+pt,top:dt.top,bottom:dt.bottom}}let lt=this.editorView.dom.offsetParent;this.element||(this.element=lt.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",rt),this.element.classList.toggle("prosemirror-dropcursor-inline",!rt);let ct,ut;if(!lt||lt==document.body&&getComputedStyle(lt).position=="static")ct=-pageXOffset,ut=-pageYOffset;else{let dt=lt.getBoundingClientRect(),pt=dt.width/lt.offsetWidth,mt=dt.height/lt.offsetHeight;ct=dt.left-lt.scrollLeft*pt,ut=dt.top-lt.scrollTop*mt}this.element.style.left=(nt.left-ct)/at+"px",this.element.style.top=(nt.top-ut)/ot+"px",this.element.style.width=(nt.right-nt.left)/at+"px",this.element.style.height=(nt.bottom-nt.top)/ot+"px"}scheduleRemoval(et){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),et)}dragover(et){if(!this.editorView.editable)return;let rt=this.editorView.posAtCoords({left:et.clientX,top:et.clientY}),nt=rt&&rt.inside>=0&&this.editorView.state.doc.nodeAt(rt.inside),st=nt&&nt.type.spec.disableDropCursor,it=typeof st=="function"?st(this.editorView,rt,et):st;if(rt&&!it){let at=rt.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let ot=dropPoint(this.editorView.state.doc,at,this.editorView.dragging.slice);ot!=null&&(at=ot)}this.setCursor(at),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(et){this.editorView.dom.contains(et.relatedTarget)||this.setCursor(null)}}class GapCursor extends Selection{constructor(et){super(et,et)}map(et,rt){let nt=et.resolve(rt.map(this.head));return GapCursor.valid(nt)?new GapCursor(nt):Selection.near(nt)}content(){return Slice.empty}eq(et){return et instanceof GapCursor&&et.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(et,rt){if(typeof rt.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new GapCursor(et.resolve(rt.pos))}getBookmark(){return new GapBookmark(this.anchor)}static valid(et){let rt=et.parent;if(rt.isTextblock||!closedBefore(et)||!closedAfter(et))return!1;let nt=rt.type.spec.allowGapCursor;if(nt!=null)return nt;let st=rt.contentMatchAt(et.index()).defaultType;return st&&st.isTextblock}static findGapCursorFrom(et,rt,nt=!1){e:for(;;){if(!nt&&GapCursor.valid(et))return et;let st=et.pos,it=null;for(let at=et.depth;;at--){let ot=et.node(at);if(rt>0?et.indexAfter(at)<ot.childCount:et.index(at)>0){it=ot.child(rt>0?et.indexAfter(at):et.index(at)-1);break}else if(at==0)return null;st+=rt;let lt=et.doc.resolve(st);if(GapCursor.valid(lt))return lt}for(;;){let at=rt>0?it.firstChild:it.lastChild;if(!at){if(it.isAtom&&!it.isText&&!NodeSelection.isSelectable(it)){et=et.doc.resolve(st+it.nodeSize*rt),nt=!1;continue e}break}it=at,st+=rt;let ot=et.doc.resolve(st);if(GapCursor.valid(ot))return ot}return null}}}GapCursor.prototype.visible=!1;GapCursor.findFrom=GapCursor.findGapCursorFrom;Selection.jsonID("gapcursor",GapCursor);class GapBookmark{constructor(et){this.pos=et}map(et){return new GapBookmark(et.map(this.pos))}resolve(et){let rt=et.resolve(this.pos);return GapCursor.valid(rt)?new GapCursor(rt):Selection.near(rt)}}function needsGap(_e){return _e.isAtom||_e.spec.isolating||_e.spec.createGapCursor}function closedBefore(_e){for(let et=_e.depth;et>=0;et--){let rt=_e.index(et),nt=_e.node(et);if(rt==0){if(nt.type.spec.isolating)return!0;continue}for(let st=nt.child(rt-1);;st=st.lastChild){if(st.childCount==0&&!st.inlineContent||needsGap(st.type))return!0;if(st.inlineContent)return!1}}return!0}function closedAfter(_e){for(let et=_e.depth;et>=0;et--){let rt=_e.indexAfter(et),nt=_e.node(et);if(rt==nt.childCount){if(nt.type.spec.isolating)return!0;continue}for(let st=nt.child(rt);;st=st.firstChild){if(st.childCount==0&&!st.inlineContent||needsGap(st.type))return!0;if(st.inlineContent)return!1}}return!0}function gapCursor(){return new Plugin({props:{decorations:drawGapCursor,createSelectionBetween(_e,et,rt){return et.pos==rt.pos&&GapCursor.valid(rt)?new GapCursor(rt):null},handleClick,handleKeyDown,handleDOMEvents:{beforeinput}}})}const handleKeyDown=keydownHandler({ArrowLeft:arrow("horiz",-1),ArrowRight:arrow("horiz",1),ArrowUp:arrow("vert",-1),ArrowDown:arrow("vert",1)});function arrow(_e,et){const rt=_e=="vert"?et>0?"down":"up":et>0?"right":"left";return function(nt,st,it){let at=nt.selection,ot=et>0?at.$to:at.$from,lt=at.empty;if(at instanceof TextSelection){if(!it.endOfTextblock(rt)||ot.depth==0)return!1;lt=!1,ot=nt.doc.resolve(et>0?ot.after():ot.before())}let ct=GapCursor.findGapCursorFrom(ot,et,lt);return ct?(st&&st(nt.tr.setSelection(new GapCursor(ct))),!0):!1}}function handleClick(_e,et,rt){if(!_e||!_e.editable)return!1;let nt=_e.state.doc.resolve(et);if(!GapCursor.valid(nt))return!1;let st=_e.posAtCoords({left:rt.clientX,top:rt.clientY});return st&&st.inside>-1&&NodeSelection.isSelectable(_e.state.doc.nodeAt(st.inside))?!1:(_e.dispatch(_e.state.tr.setSelection(new GapCursor(nt))),!0)}function beforeinput(_e,et){if(et.inputType!="insertCompositionText"||!(_e.state.selection instanceof GapCursor))return!1;let{$from:rt}=_e.state.selection,nt=rt.parent.contentMatchAt(rt.index()).findWrapping(_e.state.schema.nodes.text);if(!nt)return!1;let st=Fragment.empty;for(let at=nt.length-1;at>=0;at--)st=Fragment.from(nt[at].createAndFill(null,st));let it=_e.state.tr.replace(rt.pos,rt.pos,new Slice(st,0,0));return it.setSelection(TextSelection.near(it.doc.resolve(rt.pos+1))),_e.dispatch(it),!1}function drawGapCursor(_e){if(!(_e.selection instanceof GapCursor))return null;let et=document.createElement("div");return et.className="ProseMirror-gapcursor",DecorationSet.create(_e.doc,[Decoration.widget(_e.selection.head,et,{key:"gapcursor"})])}var GOOD_LEAF_SIZE=200,RopeSequence=function _e(){};RopeSequence.prototype.append=function _e(et){return et.length?(et=RopeSequence.from(et),!this.length&&et||et.length<GOOD_LEAF_SIZE&&this.leafAppend(et)||this.length<GOOD_LEAF_SIZE&&et.leafPrepend(this)||this.appendInner(et)):this};RopeSequence.prototype.prepend=function _e(et){return et.length?RopeSequence.from(et).append(this):this};RopeSequence.prototype.appendInner=function _e(et){return new Append(this,et)};RopeSequence.prototype.slice=function _e(et,rt){return et===void 0&&(et=0),rt===void 0&&(rt=this.length),et>=rt?RopeSequence.empty:this.sliceInner(Math.max(0,et),Math.min(this.length,rt))};RopeSequence.prototype.get=function _e(et){if(!(et<0||et>=this.length))return this.getInner(et)};RopeSequence.prototype.forEach=function _e(et,rt,nt){rt===void 0&&(rt=0),nt===void 0&&(nt=this.length),rt<=nt?this.forEachInner(et,rt,nt,0):this.forEachInvertedInner(et,rt,nt,0)};RopeSequence.prototype.map=function _e(et,rt,nt){rt===void 0&&(rt=0),nt===void 0&&(nt=this.length);var st=[];return this.forEach(function(it,at){return st.push(et(it,at))},rt,nt),st};RopeSequence.from=function _e(et){return et instanceof RopeSequence?et:et&&et.length?new Leaf(et):RopeSequence.empty};var Leaf=function(_e){function et(nt){_e.call(this),this.values=nt}_e&&(et.__proto__=_e),et.prototype=Object.create(_e&&_e.prototype),et.prototype.constructor=et;var rt={length:{configurable:!0},depth:{configurable:!0}};return et.prototype.flatten=function(){return this.values},et.prototype.sliceInner=function(st,it){return st==0&&it==this.length?this:new et(this.values.slice(st,it))},et.prototype.getInner=function(st){return this.values[st]},et.prototype.forEachInner=function(st,it,at,ot){for(var lt=it;lt<at;lt++)if(st(this.values[lt],ot+lt)===!1)return!1},et.prototype.forEachInvertedInner=function(st,it,at,ot){for(var lt=it-1;lt>=at;lt--)if(st(this.values[lt],ot+lt)===!1)return!1},et.prototype.leafAppend=function(st){if(this.length+st.length<=GOOD_LEAF_SIZE)return new et(this.values.concat(st.flatten()))},et.prototype.leafPrepend=function(st){if(this.length+st.length<=GOOD_LEAF_SIZE)return new et(st.flatten().concat(this.values))},rt.length.get=function(){return this.values.length},rt.depth.get=function(){return 0},Object.defineProperties(et.prototype,rt),et}(RopeSequence);RopeSequence.empty=new Leaf([]);var Append=function(_e){function et(rt,nt){_e.call(this),this.left=rt,this.right=nt,this.length=rt.length+nt.length,this.depth=Math.max(rt.depth,nt.depth)+1}return _e&&(et.__proto__=_e),et.prototype=Object.create(_e&&_e.prototype),et.prototype.constructor=et,et.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},et.prototype.getInner=function(nt){return nt<this.left.length?this.left.get(nt):this.right.get(nt-this.left.length)},et.prototype.forEachInner=function(nt,st,it,at){var ot=this.left.length;if(st<ot&&this.left.forEachInner(nt,st,Math.min(it,ot),at)===!1||it>ot&&this.right.forEachInner(nt,Math.max(st-ot,0),Math.min(this.length,it)-ot,at+ot)===!1)return!1},et.prototype.forEachInvertedInner=function(nt,st,it,at){var ot=this.left.length;if(st>ot&&this.right.forEachInvertedInner(nt,st-ot,Math.max(it,ot)-ot,at+ot)===!1||it<ot&&this.left.forEachInvertedInner(nt,Math.min(st,ot),it,at)===!1)return!1},et.prototype.sliceInner=function(nt,st){if(nt==0&&st==this.length)return this;var it=this.left.length;return st<=it?this.left.slice(nt,st):nt>=it?this.right.slice(nt-it,st-it):this.left.slice(nt,it).append(this.right.slice(0,st-it))},et.prototype.leafAppend=function(nt){var st=this.right.leafAppend(nt);if(st)return new et(this.left,st)},et.prototype.leafPrepend=function(nt){var st=this.left.leafPrepend(nt);if(st)return new et(st,this.right)},et.prototype.appendInner=function(nt){return this.left.depth>=Math.max(this.right.depth,nt.depth)+1?new et(this.left,new et(this.right,nt)):new et(this,nt)},et}(RopeSequence);const max_empty_items=500;class Branch{constructor(et,rt){this.items=et,this.eventCount=rt}popEvent(et,rt){if(this.eventCount==0)return null;let nt=this.items.length;for(;;nt--)if(this.items.get(nt-1).selection){--nt;break}let st,it;rt&&(st=this.remapping(nt,this.items.length),it=st.maps.length);let at=et.tr,ot,lt,ct=[],ut=[];return this.items.forEach((dt,pt)=>{if(!dt.step){st||(st=this.remapping(nt,pt+1),it=st.maps.length),it--,ut.push(dt);return}if(st){ut.push(new Item(dt.map));let mt=dt.step.map(st.slice(it)),xt;mt&&at.maybeStep(mt).doc&&(xt=at.mapping.maps[at.mapping.maps.length-1],ct.push(new Item(xt,void 0,void 0,ct.length+ut.length))),it--,xt&&st.appendMap(xt,it)}else at.maybeStep(dt.step);if(dt.selection)return ot=st?dt.selection.map(st.slice(it)):dt.selection,lt=new Branch(this.items.slice(0,nt).append(ut.reverse().concat(ct)),this.eventCount-1),!1},this.items.length,0),{remaining:lt,transform:at,selection:ot}}addTransform(et,rt,nt,st){let it=[],at=this.eventCount,ot=this.items,lt=!st&&ot.length?ot.get(ot.length-1):null;for(let ut=0;ut<et.steps.length;ut++){let dt=et.steps[ut].invert(et.docs[ut]),pt=new Item(et.mapping.maps[ut],dt,rt),mt;(mt=lt&&lt.merge(pt))&&(pt=mt,ut?it.pop():ot=ot.slice(0,ot.length-1)),it.push(pt),rt&&(at++,rt=void 0),st||(lt=pt)}let ct=at-nt.depth;return ct>DEPTH_OVERFLOW&&(ot=cutOffEvents(ot,ct),at-=ct),new Branch(ot.append(it),at)}remapping(et,rt){let nt=new Mapping;return this.items.forEach((st,it)=>{let at=st.mirrorOffset!=null&&it-st.mirrorOffset>=et?nt.maps.length-st.mirrorOffset:void 0;nt.appendMap(st.map,at)},et,rt),nt}addMaps(et){return this.eventCount==0?this:new Branch(this.items.append(et.map(rt=>new Item(rt))),this.eventCount)}rebased(et,rt){if(!this.eventCount)return this;let nt=[],st=Math.max(0,this.items.length-rt),it=et.mapping,at=et.steps.length,ot=this.eventCount;this.items.forEach(pt=>{pt.selection&&ot--},st);let lt=rt;this.items.forEach(pt=>{let mt=it.getMirror(--lt);if(mt==null)return;at=Math.min(at,mt);let xt=it.maps[mt];if(pt.step){let yt=et.steps[mt].invert(et.docs[mt]),vt=pt.selection&&pt.selection.map(it.slice(lt+1,mt));vt&&ot++,nt.push(new Item(xt,yt,vt))}else nt.push(new Item(xt))},st);let ct=[];for(let pt=rt;pt<at;pt++)ct.push(new Item(it.maps[pt]));let ut=this.items.slice(0,st).append(ct).append(nt),dt=new Branch(ut,ot);return dt.emptyItemCount()>max_empty_items&&(dt=dt.compress(this.items.length-nt.length)),dt}emptyItemCount(){let et=0;return this.items.forEach(rt=>{rt.step||et++}),et}compress(et=this.items.length){let rt=this.remapping(0,et),nt=rt.maps.length,st=[],it=0;return this.items.forEach((at,ot)=>{if(ot>=et)st.push(at),at.selection&&it++;else if(at.step){let lt=at.step.map(rt.slice(nt)),ct=lt&&lt.getMap();if(nt--,ct&&rt.appendMap(ct,nt),lt){let ut=at.selection&&at.selection.map(rt.slice(nt));ut&&it++;let dt=new Item(ct.invert(),lt,ut),pt,mt=st.length-1;(pt=st.length&&st[mt].merge(dt))?st[mt]=pt:st.push(dt)}}else at.map&&nt--},this.items.length,0),new Branch(RopeSequence.from(st.reverse()),it)}}Branch.empty=new Branch(RopeSequence.empty,0);function cutOffEvents(_e,et){let rt;return _e.forEach((nt,st)=>{if(nt.selection&&et--==0)return rt=st,!1}),_e.slice(rt)}class Item{constructor(et,rt,nt,st){this.map=et,this.step=rt,this.selection=nt,this.mirrorOffset=st}merge(et){if(this.step&&et.step&&!et.selection){let rt=et.step.merge(this.step);if(rt)return new Item(rt.getMap().invert(),rt,this.selection)}}}class HistoryState{constructor(et,rt,nt,st,it){this.done=et,this.undone=rt,this.prevRanges=nt,this.prevTime=st,this.prevComposition=it}}const DEPTH_OVERFLOW=20;function applyTransaction(_e,et,rt,nt){let st=rt.getMeta(historyKey),it;if(st)return st.historyState;rt.getMeta(closeHistoryKey)&&(_e=new HistoryState(_e.done,_e.undone,null,0,-1));let at=rt.getMeta("appendedTransaction");if(rt.steps.length==0)return _e;if(at&&at.getMeta(historyKey))return at.getMeta(historyKey).redo?new HistoryState(_e.done.addTransform(rt,void 0,nt,mustPreserveItems(et)),_e.undone,rangesFor(rt.mapping.maps),_e.prevTime,_e.prevComposition):new HistoryState(_e.done,_e.undone.addTransform(rt,void 0,nt,mustPreserveItems(et)),null,_e.prevTime,_e.prevComposition);if(rt.getMeta("addToHistory")!==!1&&!(at&&at.getMeta("addToHistory")===!1)){let ot=rt.getMeta("composition"),lt=_e.prevTime==0||!at&&_e.prevComposition!=ot&&(_e.prevTime<(rt.time||0)-nt.newGroupDelay||!isAdjacentTo(rt,_e.prevRanges)),ct=at?mapRanges(_e.prevRanges,rt.mapping):rangesFor(rt.mapping.maps);return new HistoryState(_e.done.addTransform(rt,lt?et.selection.getBookmark():void 0,nt,mustPreserveItems(et)),Branch.empty,ct,rt.time,ot??_e.prevComposition)}else return(it=rt.getMeta("rebased"))?new HistoryState(_e.done.rebased(rt,it),_e.undone.rebased(rt,it),mapRanges(_e.prevRanges,rt.mapping),_e.prevTime,_e.prevComposition):new HistoryState(_e.done.addMaps(rt.mapping.maps),_e.undone.addMaps(rt.mapping.maps),mapRanges(_e.prevRanges,rt.mapping),_e.prevTime,_e.prevComposition)}function isAdjacentTo(_e,et){if(!et)return!1;if(!_e.docChanged)return!0;let rt=!1;return _e.mapping.maps[0].forEach((nt,st)=>{for(let it=0;it<et.length;it+=2)nt<=et[it+1]&&st>=et[it]&&(rt=!0)}),rt}function rangesFor(_e){let et=[];for(let rt=_e.length-1;rt>=0&&et.length==0;rt--)_e[rt].forEach((nt,st,it,at)=>et.push(it,at));return et}function mapRanges(_e,et){if(!_e)return null;let rt=[];for(let nt=0;nt<_e.length;nt+=2){let st=et.map(_e[nt],1),it=et.map(_e[nt+1],-1);st<=it&&rt.push(st,it)}return rt}function histTransaction(_e,et,rt){let nt=mustPreserveItems(et),st=historyKey.get(et).spec.config,it=(rt?_e.undone:_e.done).popEvent(et,nt);if(!it)return null;let at=it.selection.resolve(it.transform.doc),ot=(rt?_e.done:_e.undone).addTransform(it.transform,et.selection.getBookmark(),st,nt),lt=new HistoryState(rt?ot:it.remaining,rt?it.remaining:ot,null,0,-1);return it.transform.setSelection(at).setMeta(historyKey,{redo:rt,historyState:lt})}let cachedPreserveItems=!1,cachedPreserveItemsPlugins=null;function mustPreserveItems(_e){let et=_e.plugins;if(cachedPreserveItemsPlugins!=et){cachedPreserveItems=!1,cachedPreserveItemsPlugins=et;for(let rt=0;rt<et.length;rt++)if(et[rt].spec.historyPreserveItems){cachedPreserveItems=!0;break}}return cachedPreserveItems}const historyKey=new PluginKey("history"),closeHistoryKey=new PluginKey("closeHistory");function history(_e={}){return _e={depth:_e.depth||100,newGroupDelay:_e.newGroupDelay||500},new Plugin({key:historyKey,state:{init(){return new HistoryState(Branch.empty,Branch.empty,null,0,-1)},apply(et,rt,nt){return applyTransaction(rt,nt,et,_e)}},config:_e,props:{handleDOMEvents:{beforeinput(et,rt){let nt=rt.inputType,st=nt=="historyUndo"?undo:nt=="historyRedo"?redo:null;return!st||!et.editable?!1:(rt.preventDefault(),st(et.state,et.dispatch))}}}})}function buildCommand(_e,et){return(rt,nt)=>{let st=historyKey.getState(rt);if(!st||(_e?st.undone:st.done).eventCount==0)return!1;if(nt){let it=histTransaction(st,rt,_e);it&&nt(et?it.scrollIntoView():it)}return!0}}const undo=buildCommand(!1,!0),redo=buildCommand(!0,!0);Extension.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:_e=>_e.length,wordCounter:_e=>_e.split(" ").filter(et=>et!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=_e=>{const et=(_e==null?void 0:_e.node)||this.editor.state.doc;if(((_e==null?void 0:_e.mode)||this.options.mode)==="textSize"){const nt=et.textBetween(0,et.content.size,void 0," ");return this.options.textCounter(nt)}return et.nodeSize},this.storage.words=_e=>{const et=(_e==null?void 0:_e.node)||this.editor.state.doc,rt=et.textBetween(0,et.content.size," "," ");return this.options.wordCounter(rt)}},addProseMirrorPlugins(){let _e=!1;return[new Plugin({key:new PluginKey("characterCount"),appendTransaction:(et,rt,nt)=>{if(_e)return;const st=this.options.limit;if(st==null||st===0){_e=!0;return}const it=this.storage.characters({node:nt.doc});if(it>st){const at=it-st,ot=0,lt=at;console.warn(`[CharacterCount] Initial content exceeded limit of ${st} characters. Content was automatically trimmed.`);const ct=nt.tr.deleteRange(ot,lt);return _e=!0,ct}_e=!0},filterTransaction:(et,rt)=>{const nt=this.options.limit;if(!et.docChanged||nt===0||nt===null||nt===void 0)return!0;const st=this.storage.characters({node:rt.doc}),it=this.storage.characters({node:et.doc});if(it<=nt||st>nt&&it>nt&&it<=st)return!0;if(st>nt&&it>nt&&it>st||!et.getMeta("paste"))return!1;const ot=et.selection.$head.pos,lt=it-nt,ct=ot-lt,ut=ot;return et.deleteRange(ct,ut),!(this.storage.characters({node:et.doc})>nt)}})]}});var Dropcursor=Extension.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[dropCursor(this.options)]}});Extension.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("focus"),props:{decorations:({doc:_e,selection:et})=>{const{isEditable:rt,isFocused:nt}=this.editor,{anchor:st}=et,it=[];if(!rt||!nt)return DecorationSet.create(_e,[]);let at=0;this.options.mode==="deepest"&&_e.descendants((lt,ct)=>{if(lt.isText)return;if(!(st>=ct&&st<=ct+lt.nodeSize-1))return!1;at+=1});let ot=0;return _e.descendants((lt,ct)=>{if(lt.isText||!(st>=ct&&st<=ct+lt.nodeSize-1))return!1;if(ot+=1,this.options.mode==="deepest"&&at-ot>0||this.options.mode==="shallowest"&&ot>1)return this.options.mode==="deepest";it.push(Decoration.node(ct,ct+lt.nodeSize,{class:this.options.className}))}),DecorationSet.create(_e,it)}}})]}});var Gapcursor=Extension.create({name:"gapCursor",addProseMirrorPlugins(){return[gapCursor()]},extendNodeSchema(_e){var et;const rt={name:_e.name,options:_e.options,storage:_e.storage};return{allowGapCursor:(et=callOrReturn(getExtensionField(_e,"allowGapCursor",rt)))!=null?et:null}}});Extension.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("placeholder"),props:{decorations:({doc:_e,selection:et})=>{const rt=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:nt}=et,st=[];if(!rt)return null;const it=this.editor.isEmpty;return _e.descendants((at,ot)=>{const lt=nt>=ot&&nt<=ot+at.nodeSize,ct=!at.isLeaf&&isNodeEmpty(at);if((lt||!this.options.showOnlyCurrent)&&ct){const ut=[this.options.emptyNodeClass];it&&ut.push(this.options.emptyEditorClass);const dt=Decoration.node(ot,ot+at.nodeSize,{class:ut.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:at,pos:ot,hasAnchor:lt}):this.options.placeholder});st.push(dt)}return this.options.includeChildren}),DecorationSet.create(_e,st)}}})]}});Extension.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:_e,options:et}=this;return[new Plugin({key:new PluginKey("selection"),props:{decorations(rt){return rt.selection.empty||_e.isFocused||!_e.isEditable||isNodeSelection(rt.selection)||_e.view.dragging?null:DecorationSet.create(rt.doc,[Decoration.inline(rt.selection.from,rt.selection.to,{class:et.className})])}}})]}});function nodeEqualsType({types:_e,node:et}){return et&&Array.isArray(_e)&&_e.includes(et.type)||(et==null?void 0:et.type)===_e}var TrailingNode=Extension.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var _e;const et=new PluginKey(this.name),rt=this.options.node||((_e=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:_e.name)||"paragraph",nt=Object.entries(this.editor.schema.nodes).map(([,st])=>st).filter(st=>(this.options.notAfter||[]).concat(rt).includes(st.name));return[new Plugin({key:et,appendTransaction:(st,it,at)=>{const{doc:ot,tr:lt,schema:ct}=at,ut=et.getState(at),dt=ot.content.size,pt=ct.nodes[rt];if(ut)return lt.insert(dt,pt.create())},state:{init:(st,it)=>{const at=it.tr.doc.lastChild;return!nodeEqualsType({node:at,types:nt})},apply:(st,it)=>{if(!st.docChanged||st.getMeta("__uniqueIDTransaction"))return it;const at=st.doc.lastChild;return!nodeEqualsType({node:at,types:nt})}}})]}}),UndoRedo=Extension.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:_e,dispatch:et})=>undo(_e,et),redo:()=>({state:_e,dispatch:et})=>redo(_e,et)}},addProseMirrorPlugins(){return[history(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),StarterKit=Extension.create({name:"starterKit",addExtensions(){var _e,et,rt,nt;const st=[];return this.options.bold!==!1&&st.push(Bold.configure(this.options.bold)),this.options.blockquote!==!1&&st.push(Blockquote.configure(this.options.blockquote)),this.options.bulletList!==!1&&st.push(BulletList.configure(this.options.bulletList)),this.options.code!==!1&&st.push(Code.configure(this.options.code)),this.options.codeBlock!==!1&&st.push(CodeBlock.configure(this.options.codeBlock)),this.options.document!==!1&&st.push(Document.configure(this.options.document)),this.options.dropcursor!==!1&&st.push(Dropcursor.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&st.push(Gapcursor.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&st.push(HardBreak.configure(this.options.hardBreak)),this.options.heading!==!1&&st.push(Heading.configure(this.options.heading)),this.options.undoRedo!==!1&&st.push(UndoRedo.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&st.push(HorizontalRule.configure(this.options.horizontalRule)),this.options.italic!==!1&&st.push(Italic.configure(this.options.italic)),this.options.listItem!==!1&&st.push(ListItem.configure(this.options.listItem)),this.options.listKeymap!==!1&&st.push(ListKeymap.configure((_e=this.options)==null?void 0:_e.listKeymap)),this.options.link!==!1&&st.push(Link.configure((et=this.options)==null?void 0:et.link)),this.options.orderedList!==!1&&st.push(OrderedList.configure(this.options.orderedList)),this.options.paragraph!==!1&&st.push(Paragraph.configure(this.options.paragraph)),this.options.strike!==!1&&st.push(Strike.configure(this.options.strike)),this.options.text!==!1&&st.push(Text.configure(this.options.text)),this.options.underline!==!1&&st.push(Underline.configure((rt=this.options)==null?void 0:rt.underline)),this.options.trailingNode!==!1&&st.push(TrailingNode.configure((nt=this.options)==null?void 0:nt.trailingNode)),st}}),index_default=StarterKit;function RichTextEditor({value:_e,onChange:et,placeholder:rt}){const[nt,st]=reactExports.useState(!1),[it,at]=reactExports.useState(!1),[ot,lt]=reactExports.useState(""),ct=useEditor({extensions:[index_default,index_default$1],content:_e,editorProps:{attributes:{class:"prose prose-sm w-full focus:outline-none min-h-[150px] px-4 py-3 max-h-[400px] overflow-y-auto"}},onUpdate:({editor:dt})=>{et(dt.getHTML())}});if(!ct)return null;const ut=async()=>{if(ot.trim()){st(!0);try{const dt=await adminAPI.generate(ot.trim(),"product_description");if(dt.data.success){const pt=dt.data.data.content;ct.commands.insertContent(pt),zt.success(" to ni dung thnh cng! "),at(!1),lt("")}}catch(dt){zt.error("Khng th to ni dung. Vui lng th li."),console.error(dt)}finally{st(!1)}}};return jsxRuntimeExports.jsxs("div",{className:"border border-gray-300 rounded-lg overflow-hidden bg-white focus-within:ring-1 focus-within:ring-primary-500 focus-within:border-primary-500 transition-all relative",children:[jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 border-b border-gray-300 p-2 flex gap-1 justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-1",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>ct.chain().focus().toggleBold().run(),className:`p-1.5 rounded hover:bg-gray-200 transition-colors ${ct.isActive("bold")?"bg-gray-200 text-primary-600 font-bold":"text-gray-600"}`,title:"Bold",children:jsxRuntimeExports.jsx(Bold$1,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>ct.chain().focus().toggleItalic().run(),className:`p-1.5 rounded hover:bg-gray-200 transition-colors ${ct.isActive("italic")?"bg-gray-200 text-primary-600 italic":"text-gray-600"}`,title:"Italic",children:jsxRuntimeExports.jsx(Italic$1,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>ct.chain().focus().toggleUnderline().run(),className:`p-1.5 rounded hover:bg-gray-200 transition-colors ${ct.isActive("underline")?"bg-gray-200 text-primary-600 underline":"text-gray-600"}`,title:"Underline",children:jsxRuntimeExports.jsx(Underline$1,{className:"w-4 h-4"})})]}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>at(!it),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-md text-xs font-medium transition-all ${it?"bg-indigo-100 text-indigo-700":"bg-gradient-to-r from-indigo-500 to-purple-600 text-white hover:opacity-90"}`,children:[jsxRuntimeExports.jsx(Sparkles,{className:"w-3.5 h-3.5"}),"AI Writer"]})]}),it&&jsxRuntimeExports.jsxs("div",{className:"bg-indigo-50 p-3 border-b border-indigo-100 animate-in slide-in-from-top-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("input",{type:"text",value:ot,onChange:dt=>lt(dt.target.value),onKeyDown:dt=>dt.key==="Enter"&&ut(),placeholder:"Nhp tn sn phm hoc  tng (VD: o s mi trng cng s)...",className:"flex-1 text-sm border border-indigo-200 rounded px-3 py-1.5 focus:outline-none focus:border-indigo-500",autoFocus:!0}),jsxRuntimeExports.jsx("button",{type:"button",onClick:ut,disabled:nt||!ot.trim(),className:"bg-indigo-600 text-white px-3 py-1.5 rounded text-sm font-medium hover:bg-indigo-700 disabled:opacity-50 flex items-center gap-2",children:nt?jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin"}):"Vit"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>at(!1),className:"p-1.5 text-gray-400 hover:text-gray-600",children:jsxRuntimeExports.jsx(X$2,{className:"w-4 h-4"})})]}),jsxRuntimeExports.jsx("p",{className:"text-[10px] text-indigo-400 mt-1 pl-1",children:" AI s t ng to m t hp dn da trn t kha ca bn."})]}),jsxRuntimeExports.jsx(EditorContent,{editor:ct,className:"cursor-text"}),ct.isEmpty&&rt&&jsxRuntimeExports.jsx("div",{className:"absolute top-[3.25rem] left-4 text-gray-400 pointer-events-none text-sm hidden",children:rt})]})}function VariantManager({variants:_e,setVariants:et,options:rt,setOptions:nt}){const[st,it]=reactExports.useState(""),[at,ot]=reactExports.useState(""),[lt,ct]=reactExports.useState(""),ut=()=>{if(!st.trim())return;const gt={id:Date.now().toString(),name:st,values:[]};nt([...rt,gt]),it("")},dt=gt=>{nt(rt.filter(Et=>Et.id!==gt)),et([])},pt=(gt,Et)=>{if(!Et.trim())return;const jt=rt.map(kt=>kt.id===gt&&!kt.values.includes(Et)?{...kt,values:[...kt.values,Et]}:kt);nt(jt),xt(jt)},mt=(gt,Et)=>{const jt=rt.map(kt=>kt.id===gt?{...kt,values:kt.values.filter(Rt=>Rt!==Et)}:kt);nt(jt),xt(jt)},xt=gt=>{const Et=gt.filter(St=>St.values.length>0);if(Et.length===0){et([]);return}const jt=(St,_t)=>{if(St===Et.length)return[_t];const Nt=Et[St];let Lt=[];return Nt.values.forEach($t=>{Lt=Lt.concat(jt(St+1,{..._t,[Nt.name]:$t}))}),Lt},Rt=jt(0,{}).map((St,_t)=>{const Nt=Object.values(St).join(" / "),Lt=_e.find($t=>$t.name===Nt);return Lt?{...Lt,options:St}:{id:`var-${Date.now()}-${_t}`,name:Nt,sku:`SKU-${Math.random().toString(36).substr(2,6).toUpperCase()}`,price:"",stock:0,options:St}});et(Rt)},yt=()=>{at&&et(_e.map(gt=>({...gt,price:parseFloat(at)})))},vt=()=>{lt&&et(_e.map(gt=>({...gt,stock:parseInt(lt)})))};return jsxRuntimeExports.jsxs("div",{className:"space-y-8",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6 shadow-sm",children:[jsxRuntimeExports.jsxs("h3",{className:"text-base font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"w-6 h-6 rounded-full bg-primary-100 text-primary-600 flex items-center justify-center text-xs",children:"1"}),"Thuc tnh & Ty chn"]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[rt.map(gt=>jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 transition-all hover:border-primary-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-3",children:[jsxRuntimeExports.jsx("span",{className:"font-bold text-gray-900",children:gt.name}),jsxRuntimeExports.jsx("button",{onClick:()=>dt(gt.id),className:"text-gray-400 hover:text-red-600 p-1 rounded-md hover:bg-gray-100 transition-colors",children:jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4"})})]}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:gt.values.map(Et=>jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full bg-white border border-gray-200 text-sm font-medium text-gray-700 shadow-sm",children:[Et,jsxRuntimeExports.jsx("button",{onClick:()=>mt(gt.id,Et),className:"ml-2 text-gray-400 hover:text-red-500 rounded-full p-0.5",children:jsxRuntimeExports.jsx(X$2,{className:"w-3 h-3"})})]},Et))}),jsxRuntimeExports.jsx("div",{className:"relative",children:jsxRuntimeExports.jsx("input",{type:"text",placeholder:`Thm gi tr cho ${gt.name} v nhn Enter...`,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",onKeyDown:Et=>{Et.key==="Enter"&&(Et.preventDefault(),pt(gt.id,Et.currentTarget.value),Et.currentTarget.value="")}})})]},gt.id)),jsxRuntimeExports.jsxs("div",{className:"flex gap-3 items-center pt-2",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Tn thuc tnh (VD: Mu sc, Size)",value:st,onChange:gt=>it(gt.target.value),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent shadow-sm",onKeyDown:gt=>{gt.key==="Enter"&&(gt.preventDefault(),ut())}}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:ut,disabled:!st.trim(),className:"px-4 py-2 font-medium text-white bg-secondary-900 hover:bg-black rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-colors shadow-sm flex items-center gap-2",children:[jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4"}),"Thm thuc tnh"]})]})]})]}),_e.length>0&&jsxRuntimeExports.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl shadow-sm overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 bg-gray-50 border-b border-gray-200 flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[jsxRuntimeExports.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"w-6 h-6 rounded-full bg-primary-100 text-primary-600 flex items-center justify-center text-xs",children:"2"}),"Danh sch bin th (",_e.length,")"]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"number",placeholder:"Gi bn hng lot...",value:at,onChange:gt=>ot(gt.target.value),className:"w-32 px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"}),jsxRuntimeExports.jsx("button",{onClick:yt,className:"px-3 py-1.5 text-sm font-medium text-primary-700 bg-primary-50 hover:bg-primary-100 border border-primary-200 rounded-lg transition-colors",children:"p dng"})]}),jsxRuntimeExports.jsx("div",{className:"w-px h-6 bg-gray-300 mx-2 hidden sm:block"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"number",placeholder:"Tn kho hng lot...",value:lt,onChange:gt=>ct(gt.target.value),className:"w-32 px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"}),jsxRuntimeExports.jsx("button",{onClick:vt,className:"px-3 py-1.5 text-sm font-medium text-primary-700 bg-primary-50 hover:bg-primary-100 border border-primary-200 rounded-lg transition-colors",children:"p dng"})]})]})]}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-50",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Bin th"}),jsxRuntimeExports.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-gray-500 uppercase tracking-wider w-48",children:"Gi bn (VN)"}),jsxRuntimeExports.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-gray-500 uppercase tracking-wider w-32",children:"Tn kho"}),jsxRuntimeExports.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-gray-500 uppercase tracking-wider w-40",children:"M SKU"}),jsxRuntimeExports.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-bold text-gray-500 uppercase tracking-wider w-16"})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:_e.map((gt,Et)=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-gray-50 transition-colors group",children:[jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-900 bg-gray-100 px-3 py-1 rounded-full text-sm",children:gt.name})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4",children:jsxRuntimeExports.jsx("div",{className:"relative rounded-md shadow-sm",children:jsxRuntimeExports.jsx("input",{type:"number",value:gt.price,onChange:jt=>{const kt=[..._e];kt[Et].price=jt.target.value?parseFloat(jt.target.value):"",et(kt)},className:"block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"0"})})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4",children:jsxRuntimeExports.jsx("input",{type:"number",value:gt.stock,onChange:jt=>{const kt=[..._e];kt[Et].stock=jt.target.value?parseInt(jt.target.value):"",et(kt)},className:"block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"0"})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4",children:jsxRuntimeExports.jsx("input",{type:"text",value:gt.sku,onChange:jt=>{const kt=[..._e];kt[Et].sku=jt.target.value,et(kt)},className:"block w-full px-3 py-2 border border-gray-300 rounded-lg font-mono text-xs focus:ring-primary-500 focus:border-primary-500",placeholder:"SKU"})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 text-right",children:jsxRuntimeExports.jsx("button",{onClick:()=>{const jt=_e.filter((kt,Rt)=>Rt!==Et);et(jt)},className:"text-gray-400 hover:text-red-600 opacity-0 group-hover:opacity-100 transition-opacity p-2 hover:bg-red-50 rounded-lg",title:"Xa bin th ny",children:jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4"})})})]},gt.id))})]})})]})]})}function AddProductPage(){const _e=useNavigate(),[et,rt]=reactExports.useState(!1),[nt,st]=reactExports.useState(!1),[it,at]=reactExports.useState(null),[ot,lt]=reactExports.useState([]),[ct,ut]=reactExports.useState([]),[dt,pt]=reactExports.useState({name:"",slug:"",description:"",price:"",compare_at_price:"",sku:"",stock_qty:0,track_stock:!0,is_active:!0,category_id:"",brand_id:"",meta_title:"",meta_description:"",meta_keywords:"",tags:"",weight:"",length:"",width:"",height:""}),[mt,xt]=reactExports.useState([]),[yt,vt]=reactExports.useState([]),[gt,Et]=reactExports.useState([]),[jt,kt]=reactExports.useState([]);reactExports.useEffect(()=>{(async()=>{var $t;try{const[Ft,Tt]=await Promise.all([categoriesAPI.getAll({include_inactive:!1}),brandsAPI.getAll({include_inactive:!1})]),Bt=(Wt,qt="")=>{let Ot=[];return Wt.forEach(Dt=>{var Pt;Ot.push({...Dt,name:qt+Dt.name}),(Pt=Dt.children)!=null&&Pt.length&&(Ot=Ot.concat(Bt(Dt.children,qt+"-- ")))}),Ot};xt(Bt(Ft.data.data||[])),vt((($t=Tt.data.data)==null?void 0:$t.brands)||[])}catch(Ft){console.error("Failed to load initial data",Ft)}})()},[]);const Rt=Lt=>{const{name:$t,value:Ft}=Lt.target;if(pt(Tt=>({...Tt,[$t]:Ft})),$t==="name"&&!dt.slug){const Tt=Ft.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/^-+|-+$/g,"");pt(Bt=>({...Bt,slug:Tt}))}},St=Lt=>{if(Lt.target.files&&Lt.target.files.length>0){const $t=Array.from(Lt.target.files);Et(Tt=>[...Tt,...$t]);const Ft=$t.map(Tt=>URL.createObjectURL(Tt));kt(Tt=>[...Tt,...Ft])}},_t=Lt=>{Et($t=>$t.filter((Ft,Tt)=>Tt!==Lt)),kt($t=>(URL.revokeObjectURL($t[Lt]),$t.filter((Ft,Tt)=>Tt!==Lt)))},Nt=async Lt=>{var Ft,Tt,Bt,Wt,qt,Ot;if(Lt.preventDefault(),at(null),!dt.name){zt.error("Vui lng nhp tn sn phm");return}const $t=Number(dt.price);if(!$t||$t<=0){zt.error("Gi sn phm phi ln hn 0");return}st(!0);try{let Dt=[];if(gt.length>0){const{uploadAPI:It}=await __vitePreload(async()=>{const{uploadAPI:Gt}=await Promise.resolve().then(()=>api$1);return{uploadAPI:Gt}},void 0),At=await It.multiple(gt),Ht=At.data.data||At.data;Dt=Ht.urls||((Ft=Ht.files)==null?void 0:Ft.map(Gt=>Gt.url))||[]}const Pt={...dt,variants:ct.map(It=>({sku:It.sku,variant_sku:It.sku,price:It.price,stock_qty:It.stock,options:It.options,is_active:!0})),attributes:ot,images:Dt.map((It,At)=>({url:It,is_primary:At===0,sort_order:At}))};console.log("Submitting Product:",Pt),await adminAPI.createProduct(Pt),zt.success("Sn phm  c to thnh cng"),_e("/admin/products")}catch(Dt){console.error("Create product error:",Dt);const Pt=((Wt=(Bt=(Tt=Dt.response)==null?void 0:Tt.data)==null?void 0:Bt.error)==null?void 0:Wt.message)||((Ot=(qt=Dt.response)==null?void 0:qt.data)==null?void 0:Ot.message)||"To sn phm tht bi";at(Pt),zt.error(Pt)}finally{st(!1)}};return jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto pb-12",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-8",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 mb-1",children:[jsxRuntimeExports.jsx(Link$1,{to:"/admin/dashboard",className:"hover:text-primary-600",children:"Dashboard"}),jsxRuntimeExports.jsx(ChevronRight,{className:"w-4 h-4"}),jsxRuntimeExports.jsx(Link$1,{to:"/admin/products",className:"hover:text-primary-600",children:"Sn phm"}),jsxRuntimeExports.jsx(ChevronRight,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{className:"text-gray-900 font-medium",children:"Thm mi"})]}),jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Thm sn phm mi"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>_e("/admin/products"),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Hy b"}),jsxRuntimeExports.jsxs("button",{onClick:Nt,disabled:nt,className:"flex items-center gap-2 px-6 py-2 text-sm font-medium text-white bg-primary-600 rounded-lg hover:bg-primary-700 disabled:opacity-50",children:[nt?jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin"}):jsxRuntimeExports.jsx(Save,{className:"w-4 h-4"}),"Lu sn phm"]})]})]}),it&&jsxRuntimeExports.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center gap-3 text-red-700 animate-in fade-in slide-in-from-top-2",children:[jsxRuntimeExports.jsx(X$2,{className:"w-5 h-5 flex-shrink-0"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:it})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Thng tin chung"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tn sn phm"}),jsxRuntimeExports.jsx("input",{type:"text",name:"name",value:dt.name,onChange:Rt,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-primary-500 focus:border-primary-500",placeholder:"V d: o thun nam Cotton..."})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Slug (ng dn)"}),jsxRuntimeExports.jsx("input",{type:"text",name:"slug",value:dt.slug,onChange:Rt,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 focus:ring-primary-500 focus:border-primary-500"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"M t sn phm"}),jsxRuntimeExports.jsx(RichTextEditor,{value:dt.description,onChange:Lt=>pt($t=>({...$t,description:Lt})),placeholder:"Nhp m t chi tit sn phm..."})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Hnh nh sn phm"}),jsxRuntimeExports.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:bg-gray-50 transition-colors relative",children:[jsxRuntimeExports.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:St,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center pointer-events-none",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-primary-50 rounded-full flex items-center justify-center text-primary-600 mb-3",children:jsxRuntimeExports.jsx(Upload,{className:"w-6 h-6"})}),jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Click  ti ln hoc ko th hnh nh vo y"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"SVG, PNG, JPG hoc GIF (Ti a 800x400px)"})]})]}),jt.length>0&&jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mt-6",children:jt.map((Lt,$t)=>jsxRuntimeExports.jsxs("div",{className:"relative group aspect-square rounded-lg overflow-hidden border border-gray-200",children:[jsxRuntimeExports.jsx("img",{src:Lt,alt:"Preview",className:"w-full h-full object-cover"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>_t($t),className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:jsxRuntimeExports.jsx(X$2,{className:"w-4 h-4"})})]},$t))})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Phin bn sn phm"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Qun l cc thuc tnh nh Mu sc, Kch thc. Nu sn phm c nhiu phin bn, hy thm chng  y."}),jsxRuntimeExports.jsx(VariantManager,{options:ot,setOptions:lt,variants:ct,setVariants:ut})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Ti u ha SEO"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Meta Title"}),jsxRuntimeExports.jsx("input",{type:"text",name:"meta_title",value:dt.meta_title,onChange:Rt,className:"w-full px-4 py-2 border border-gray-300 rounded-lg",placeholder:dt.name||"Tiu  sn phm"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Tiu  hin th trn Google (Ti a 60 k t)"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Meta Description"}),jsxRuntimeExports.jsx("textarea",{rows:3,name:"meta_description",value:dt.meta_description,onChange:Rt,className:"w-full px-4 py-2 border border-gray-300 rounded-lg",placeholder:"M t ngn gn v sn phm..."}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"M t hin th trn Google (Ti a 160 k t)"})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-8",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"T chc"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Trng thi"}),jsxRuntimeExports.jsxs("select",{name:"is_active",value:dt.is_active?"true":"false",onChange:Lt=>pt($t=>({...$t,is_active:Lt.target.value==="true"})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-primary-500 focus:border-primary-500",children:[jsxRuntimeExports.jsx("option",{value:"true",children:" xut bn (Published)"}),jsxRuntimeExports.jsx("option",{value:"false",children:"Bn nhp (Draft)"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Danh mc"}),jsxRuntimeExports.jsxs("select",{name:"category_id",value:dt.category_id,onChange:Rt,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-primary-500 focus:border-primary-500",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Chn danh mc..."}),mt.map(Lt=>jsxRuntimeExports.jsx("option",{value:Lt.id,children:Lt.name},Lt.id))]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Thng hiu"}),jsxRuntimeExports.jsxs("select",{name:"brand_id",value:dt.brand_id,onChange:Rt,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-primary-500 focus:border-primary-500",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Chn thng hiu..."}),yt.map(Lt=>jsxRuntimeExports.jsx("option",{value:Lt.id,children:Lt.name},Lt.id))]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Gi bn"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gi bn l (VN)"}),jsxRuntimeExports.jsx("input",{type:"number",name:"price",value:dt.price,onChange:Rt,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-primary-500 focus:border-primary-500",placeholder:"0"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gi gc (Nu gim gi)"}),jsxRuntimeExports.jsx("input",{type:"number",name:"compare_at_price",value:dt.compare_at_price,onChange:Rt,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-primary-500 focus:border-primary-500",placeholder:"0"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Kho hng"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"M SKU"}),jsxRuntimeExports.jsx("input",{type:"text",name:"sku",value:dt.sku,onChange:Rt,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-primary-500 focus:border-primary-500",placeholder:"M sn phm..."})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between py-2",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Theo di tn kho"}),jsxRuntimeExports.jsxs("div",{className:"relative inline-block w-10 align-middle select-none",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:dt.track_stock,onChange:Lt=>pt($t=>({...$t,track_stock:Lt.target.checked})),className:"sr-only peer"}),jsxRuntimeExports.jsx("div",{className:"w-10 h-6 bg-gray-200 rounded-full peer peer-checked:bg-primary-600 after:content-[''] after:absolute after:top-1 after:left-1 after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:after:translate-x-4"})]})]}),dt.track_stock&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"S lng tn kho"}),jsxRuntimeExports.jsx("input",{type:"number",name:"stock_qty",value:dt.stock_qty,onChange:Rt,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-primary-500 focus:border-primary-500"})]})]})]})]})]})]})}function EditProductPage(){const{id:_e}=useParams(),et=useNavigate(),[rt,nt]=reactExports.useState(!0),[st,it]=reactExports.useState(!1),[at,ot]=reactExports.useState(null),[lt,ct]=reactExports.useState([]),[ut,dt]=reactExports.useState([]),[pt,mt]=reactExports.useState({name:"",slug:"",description:"",price:"",compare_at_price:"",sku:"",stock_qty:0,track_stock:!0,is_active:!0,category_id:"",brand_id:"",meta_title:"",meta_description:"",meta_keywords:"",tags:"",weight:"",length:"",width:"",height:""}),[xt,yt]=reactExports.useState([]),[vt,gt]=reactExports.useState([]),[Et,jt]=reactExports.useState([]),[kt,Rt]=reactExports.useState([]),[St,_t]=reactExports.useState([]);reactExports.useEffect(()=>{_e&&(async()=>{var Wt;try{nt(!0);const[qt,Ot,Dt]=await Promise.all([categoriesAPI.getAll({include_inactive:!1}),productsAPI.getById(_e),brandsAPI.getAll({include_inactive:!1})]);gt(((Wt=Dt.data.data)==null?void 0:Wt.brands)||[]);const Pt=(At,Ht="")=>{let Gt=[];return At.forEach(Vt=>{var Jt;Gt.push({...Vt,name:Ht+Vt.name}),(Jt=Vt.children)!=null&&Jt.length&&(Gt=Gt.concat(Pt(Vt.children,Ht+"-- ")))}),Gt};yt(Pt(qt.data.data||[]));const It=Ot.data.data;if(!It)throw new Error("Product not found");if(mt({name:It.name,slug:It.slug,description:It.description||"",price:It.base_price,compare_at_price:It.compare_at_price||"",sku:It.sku,stock_qty:It.stock_qty||0,track_stock:!0,is_active:It.is_active,category_id:It.category_id||"",brand_id:It.brand_id||"",meta_title:It.meta_title||"",meta_description:It.meta_description||"",meta_keywords:It.meta_keywords||"",tags:It.tags||"",weight:It.weight||"",length:It.length||"",width:It.width||"",height:It.height||""}),It.product_images&&_t(It.product_images),It.product_attributes&&It.product_attributes.length>0){const At={};It.product_attributes.forEach(Gt=>{const Vt=Gt.option.name,Jt=Gt.option_value.value;At[Vt]||(At[Vt]={id:Gt.option_id.toString(),name:Vt,values:new Set}),At[Vt].values.add(Jt)});const Ht=Object.values(At).map(Gt=>({id:Gt.id,name:Gt.name,values:Array.from(Gt.values)}));ct(Ht)}if(It.product_variants&&It.product_variants.length>0){const At=It.product_variants.map(Ht=>{const Gt={};return Ht.variant_option_values&&Ht.variant_option_values.forEach(Vt=>{Gt[Vt.option_value.option.name]=Vt.option_value.value}),{id:Ht.id.toString(),name:Object.values(Gt).join(" / ")||"Default",sku:Ht.variant_sku,price:Ht.price,stock:Ht.stock_qty,options:Gt,is_active:Ht.is_active}});dt(At)}}catch(qt){console.error("Failed to load data",qt),zt.error("Khng th ti thng tin sn phm"),et("/admin/products")}finally{nt(!1)}})()},[_e,et]);const Nt=Bt=>{const{name:Wt,value:qt}=Bt.target;mt(Ot=>({...Ot,[Wt]:qt}))},Lt=Bt=>{const Wt=Bt.target.value;mt(qt=>({...qt,name:Wt}))},$t=Bt=>{const Wt=Array.from(Bt.target.files||[]);if(Wt.length===0)return;jt(Ot=>[...Ot,...Wt]);const qt=Wt.map(Ot=>URL.createObjectURL(Ot));Rt(Ot=>[...Ot,...qt])},Ft=(Bt,Wt)=>{Wt?(jt(qt=>qt.filter((Ot,Dt)=>Dt!==Bt)),Rt(qt=>(URL.revokeObjectURL(qt[Bt]),qt.filter((Ot,Dt)=>Dt!==Bt)))):_t(qt=>qt.filter((Ot,Dt)=>Dt!==Bt))},Tt=async Bt=>{var qt,Ot,Dt,Pt,It,At,Ht;if(Bt.preventDefault(),!pt.name){zt.error("Vui lng nhp tn sn phm");return}const Wt=Number(pt.price);if(!Wt||Wt<=0){zt.error("Gi sn phm phi ln hn 0");return}ot(null),it(!0);try{let Gt=[];if(Et.length>0){const{uploadAPI:rr}=await __vitePreload(async()=>{const{uploadAPI:Er}=await Promise.resolve().then(()=>api$1);return{uploadAPI:Er}},void 0),ar=await rr.multiple(Et);console.log("Upload Response:",ar.data);const mr=ar.data.data||ar.data;Gt=mr.urls||((qt=mr.files)==null?void 0:qt.map(Er=>Er.url))||[],console.log("Uploaded Image URLs:",Gt)}const Vt=[...St.map((rr,ar)=>({url:rr.url,is_primary:ar===0&&Gt.length===0,sort_order:ar})),...Gt.map((rr,ar)=>({url:rr,is_primary:St.length===0&&ar===0,sort_order:St.length+ar}))],Jt={...pt,variants:ut.map(rr=>({id:rr.id&&!rr.id.toString().startsWith("var-")?Number(rr.id):void 0,sku:rr.sku,variant_sku:rr.sku,price:rr.price,stock_qty:rr.stock,options:rr.options,is_active:!0})),attributes:lt,images:Vt};console.log("Updating Product:",Jt),await adminAPI.updateProduct(_e,Jt),zt.success("Cp nht sn phm thnh cng"),et("/admin/products")}catch(Gt){console.error("Update product error:",Gt);let Vt=((Pt=(Dt=(Ot=Gt.response)==null?void 0:Ot.data)==null?void 0:Dt.error)==null?void 0:Pt.message)||((At=(It=Gt.response)==null?void 0:It.data)==null?void 0:At.message);Vt||(Vt=`Fallback Error: ${JSON.stringify(((Ht=Gt.response)==null?void 0:Ht.data)||Gt.message)}`),ot(Vt),zt.error("Cp nht tht bi")}finally{it(!1)}};return rt?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center min-h-screen",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"w-8 h-8 animate-spin text-primary-600"})}):jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto pb-12",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-8",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 mb-1",children:[jsxRuntimeExports.jsx(Link$1,{to:"/admin/dashboard",className:"hover:text-primary-600",children:"Dashboard"}),jsxRuntimeExports.jsx(ChevronRight,{className:"w-4 h-4"}),jsxRuntimeExports.jsx(Link$1,{to:"/admin/products",className:"hover:text-primary-600",children:"Sn phm"}),jsxRuntimeExports.jsx(ChevronRight,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{className:"text-gray-900 font-medium",children:"Chnh sa"})]}),jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Chnh sa sn phm"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>et("/admin/products"),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Hy b"}),jsxRuntimeExports.jsxs("button",{onClick:Tt,disabled:st,className:"flex items-center gap-2 px-6 py-2 text-sm font-medium text-white bg-primary-600 rounded-lg hover:bg-primary-700 disabled:opacity-50",children:[st?jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin"}):jsxRuntimeExports.jsx(Save,{className:"w-4 h-4"}),"Lu thay i"]})]})]}),at&&jsxRuntimeExports.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center gap-3 text-red-700 animate-in fade-in slide-in-from-top-2",children:[jsxRuntimeExports.jsx(X$2,{className:"w-5 h-5 flex-shrink-0"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:at})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Thng tin chung"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tn sn phm"}),jsxRuntimeExports.jsx("input",{type:"text",name:"name",value:pt.name,onChange:Lt,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-primary-500 focus:border-primary-500",placeholder:"V d: o thun nam Cotton..."})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Slug (ng dn)"}),jsxRuntimeExports.jsx("input",{type:"text",name:"slug",value:pt.slug,onChange:Nt,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 focus:ring-primary-500 focus:border-primary-500"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"M t sn phm"}),jsxRuntimeExports.jsx(RichTextEditor,{value:pt.description,onChange:Bt=>mt(Wt=>({...Wt,description:Bt})),placeholder:"Nhp m t chi tit sn phm..."})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Hnh nh sn phm"}),jsxRuntimeExports.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:bg-gray-50 transition-colors relative",children:[jsxRuntimeExports.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:$t,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center pointer-events-none",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-primary-50 rounded-full flex items-center justify-center text-primary-600 mb-3",children:jsxRuntimeExports.jsx(Upload,{className:"w-6 h-6"})}),jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Click  ti ln hoc ko th hnh nh vo y"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"SVG, PNG, JPG hoc GIF (Ti a 800x400px)"})]})]}),St.length>0&&jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mt-6",children:St.map((Bt,Wt)=>jsxRuntimeExports.jsxs("div",{className:"relative group aspect-square rounded-lg overflow-hidden border border-gray-200",children:[jsxRuntimeExports.jsx("img",{src:Bt.url,alt:"Existing",className:"w-full h-full object-cover"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>Ft(Wt,!1),className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:jsxRuntimeExports.jsx(X$2,{className:"w-4 h-4"})}),Wt===0&&jsxRuntimeExports.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black/60 text-white text-xs py-1 text-center",children:"nh c"})]},Bt.id||Wt))}),kt.length>0&&jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mt-4 border-t pt-4",children:kt.map((Bt,Wt)=>jsxRuntimeExports.jsxs("div",{className:"relative group aspect-square rounded-lg overflow-hidden border border-gray-200",children:[jsxRuntimeExports.jsx("img",{src:Bt,alt:"Preview",className:"w-full h-full object-cover"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>Ft(Wt,!0),className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:jsxRuntimeExports.jsx(X$2,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-green-600/60 text-white text-xs py-1 text-center",children:"Mi"})]},Wt))})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Phin bn sn phm"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Qun l cc thuc tnh nh Mu sc, Kch thc."}),jsxRuntimeExports.jsx(VariantManager,{options:lt,setOptions:ct,variants:ut,setVariants:dt})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Ti u ha SEO"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Meta Title"}),jsxRuntimeExports.jsx("input",{type:"text",name:"meta_title",value:pt.meta_title,onChange:Nt,className:"w-full px-4 py-2 border border-gray-300 rounded-lg",placeholder:pt.name||"Tiu  sn phm"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Tiu  hin th trn Google (Ti a 60 k t)"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Meta Description"}),jsxRuntimeExports.jsx("textarea",{rows:3,name:"meta_description",value:pt.meta_description,onChange:Nt,className:"w-full px-4 py-2 border border-gray-300 rounded-lg",placeholder:"M t ngn gn v sn phm..."}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"M t hin th trn Google (Ti a 160 k t)"})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-8",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"T chc"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Trng thi"}),jsxRuntimeExports.jsxs("select",{name:"is_active",value:pt.is_active?"true":"false",onChange:Bt=>mt(Wt=>({...Wt,is_active:Bt.target.value==="true"})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-primary-500 focus:border-primary-500",children:[jsxRuntimeExports.jsx("option",{value:"true",children:" xut bn (Published)"}),jsxRuntimeExports.jsx("option",{value:"false",children:"Bn nhp (Draft)"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Danh mc"}),jsxRuntimeExports.jsxs("select",{name:"category_id",value:pt.category_id,onChange:Nt,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-primary-500 focus:border-primary-500",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Chn danh mc..."}),xt.map(Bt=>jsxRuntimeExports.jsx("option",{value:Bt.id,children:Bt.name},Bt.id))]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Thng hiu"}),jsxRuntimeExports.jsxs("select",{name:"brand_id",value:pt.brand_id,onChange:Nt,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-primary-500 focus:border-primary-500",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Chn thng hiu..."}),vt.map(Bt=>jsxRuntimeExports.jsx("option",{value:Bt.id,children:Bt.name},Bt.id))]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Gi bn"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gi bn l (VN)"}),jsxRuntimeExports.jsx("input",{type:"number",name:"price",value:pt.price,onChange:Nt,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-primary-500 focus:border-primary-500",placeholder:"0"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gi gc (Nu gim gi)"}),jsxRuntimeExports.jsx("input",{type:"number",name:"compare_at_price",value:pt.compare_at_price,onChange:Nt,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-primary-500 focus:border-primary-500",placeholder:"0"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Kho hng"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"M SKU"}),jsxRuntimeExports.jsx("input",{type:"text",name:"sku",value:pt.sku,onChange:Nt,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-primary-500 focus:border-primary-500",placeholder:"M sn phm..."})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between py-2",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Theo di tn kho"}),jsxRuntimeExports.jsxs("div",{className:"relative inline-block w-10 align-middle select-none",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:pt.track_stock,onChange:Bt=>mt(Wt=>({...Wt,track_stock:Bt.target.checked})),className:"sr-only peer"}),jsxRuntimeExports.jsx("div",{className:"w-10 h-6 bg-gray-200 rounded-full peer peer-checked:bg-primary-600 after:content-[''] after:absolute after:top-1 after:left-1 after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:after:translate-x-4"})]})]}),pt.track_stock&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"S lng tn kho"}),jsxRuntimeExports.jsx("input",{type:"number",name:"stock_qty",value:pt.stock_qty,onChange:Nt,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-primary-500 focus:border-primary-500"})]})]})]})]})]})]})}function OrderListPage(){var xt,yt,vt,gt;const[_e,et]=reactExports.useState([]),[rt,nt]=reactExports.useState({totalOrders:0,pendingOrders:0,deliveringOrders:0,revenueToday:0}),[st,it]=reactExports.useState(!0),[at,ot]=reactExports.useState(""),[lt,ct]=reactExports.useState("all"),[ut,dt]=reactExports.useState({page:1,limit:10,total:0,totalPages:0}),pt=async()=>{it(!0);try{const jt=(await adminAPI.getOrders({page:ut.page,limit:ut.limit,status:lt==="all"?void 0:lt,search:at||void 0})).data.data;et(jt.orders),nt(jt.stats),jt.pagination&&dt(kt=>({...kt,total:jt.pagination.total,totalPages:jt.pagination.totalPages}))}catch{zt.error("Khng th ti danh sch n hng")}finally{it(!1)}};reactExports.useEffect(()=>{const Et=setTimeout(()=>{pt()},300);return()=>clearTimeout(Et)},[at,lt,ut.page]);const mt=[{id:"all",label:"Tt c"},{id:"new",label:"Mi"},{id:"confirmed",label:" xc nhn"},{id:"processing",label:"ang x l"},{id:"delivering",label:"ang giao"},{id:"completed",label:"Hon thnh"},{id:"cancelled",label:" hy"}];return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-secondary-900 dark:text-white",children:"Qun l n hng"}),jsxRuntimeExports.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 text-sm",children:"Xem v qun l n hng ca khch hng"})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>{const Et=localStorage.getItem("token");window.open(`https://webbanquanao-1.onrender.com/api/admin/export/orders?token=${Et}&status=${lt==="all"?"":lt}&search=${at}`,"_blank")},className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-secondary-800 border border-secondary-200 dark:border-secondary-700 rounded-lg text-secondary-700 dark:text-secondary-300 text-sm font-medium hover:bg-secondary-50 dark:hover:bg-secondary-700 transition-colors",children:[jsxRuntimeExports.jsx(Package,{className:"w-4 h-4"}),"Xut n hng"]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-secondary-800 p-5 rounded-xl border border-secondary-200 dark:border-secondary-700 shadow-sm transition-colors",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start mb-2",children:[jsxRuntimeExports.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 text-sm font-medium",children:"Tng n hng"}),jsxRuntimeExports.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/20 rounded-lg text-blue-600 dark:text-blue-400",children:jsxRuntimeExports.jsx(Package,{className:"w-5 h-5"})})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-end justify-between",children:[jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-secondary-900 dark:text-white",children:rt.totalOrders}),((xt=rt.trends)==null?void 0:xt.orders)!==void 0&&jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-end",children:[jsxRuntimeExports.jsxs("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${rt.trends.orders>=0?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-300"}`,children:[rt.trends.orders>0?"+":"",rt.trends.orders,"%"]}),jsxRuntimeExports.jsx("span",{className:"text-[10px] text-secondary-400 mt-1",children:"vs hm qua"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-secondary-800 p-5 rounded-xl border border-secondary-200 dark:border-secondary-700 shadow-sm transition-colors",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start mb-2",children:[jsxRuntimeExports.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 text-sm font-medium",children:"Ch x l"}),jsxRuntimeExports.jsx("div",{className:"p-2 bg-orange-50 dark:bg-orange-900/20 rounded-lg text-orange-600 dark:text-orange-400",children:jsxRuntimeExports.jsx(Clock,{className:"w-5 h-5"})})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-end justify-between",children:[jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-secondary-900 dark:text-white",children:rt.pendingOrders}),((yt=rt.trends)==null?void 0:yt.pending)!==void 0&&jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-end",children:[jsxRuntimeExports.jsxs("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${rt.trends.pending>=0?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-300"}`,children:[rt.trends.pending>0?"+":"",rt.trends.pending,"%"]}),jsxRuntimeExports.jsx("span",{className:"text-[10px] text-secondary-400 mt-1",children:"vs hm qua"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-secondary-800 p-5 rounded-xl border border-secondary-200 dark:border-secondary-700 shadow-sm transition-colors",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start mb-2",children:[jsxRuntimeExports.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 text-sm font-medium",children:"ang giao"}),jsxRuntimeExports.jsx("div",{className:"p-2 bg-purple-50 dark:bg-purple-900/20 rounded-lg text-purple-600 dark:text-purple-400",children:jsxRuntimeExports.jsx(Truck,{className:"w-5 h-5"})})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-end justify-between",children:[jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-secondary-900 dark:text-white",children:rt.deliveringOrders}),((vt=rt.trends)==null?void 0:vt.delivering)!==void 0&&jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-end",children:[jsxRuntimeExports.jsxs("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${rt.trends.delivering===0?"bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-300":rt.trends.delivering>0?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-300"}`,children:[rt.trends.delivering>0?"+":"",rt.trends.delivering,"%"]}),jsxRuntimeExports.jsx("span",{className:"text-[10px] text-secondary-400 mt-1",children:"vs hm qua"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-secondary-800 p-5 rounded-xl border border-secondary-200 dark:border-secondary-700 shadow-sm transition-colors",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start mb-2",children:[jsxRuntimeExports.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 text-sm font-medium",children:"Doanh thu hm nay"}),jsxRuntimeExports.jsx("div",{className:"p-2 bg-green-50 dark:bg-green-900/20 rounded-lg text-green-600 dark:text-green-400",children:jsxRuntimeExports.jsx(DollarSign,{className:"w-5 h-5"})})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-end justify-between",children:[jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-secondary-900 dark:text-white",children:formatPrice(rt.revenueToday)}),((gt=rt.trends)==null?void 0:gt.revenue)!==void 0&&jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-end",children:[jsxRuntimeExports.jsxs("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${rt.trends.revenue>=0?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-300"}`,children:[rt.trends.revenue>0?"+":"",rt.trends.revenue,"%"]}),jsxRuntimeExports.jsx("span",{className:"text-[10px] text-secondary-400 mt-1",children:"vs hm qua"})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-xl border border-secondary-200 dark:border-secondary-700 shadow-sm overflow-hidden transition-colors",children:[jsxRuntimeExports.jsx("div",{className:"flex overflow-x-auto border-b border-secondary-200 dark:border-secondary-700",children:mt.map(Et=>jsxRuntimeExports.jsx("button",{onClick:()=>{ct(Et.id),dt(jt=>({...jt,page:1}))},className:`px-6 py-4 text-sm font-medium whitespace-nowrap transition-colors ${lt===Et.id?"text-primary-600 dark:text-primary-400 border-b-2 border-primary-600 dark:border-primary-400":"text-secondary-500 dark:text-secondary-400 hover:text-secondary-900 dark:hover:text-white hover:bg-secondary-50 dark:hover:bg-secondary-700"}`,children:Et.label},Et.id))}),jsxRuntimeExports.jsx("div",{className:"p-4 border-b border-secondary-200 dark:border-secondary-700 bg-secondary-50/50 dark:bg-secondary-700/20 flex flex-col sm:flex-row justify-between gap-4",children:jsxRuntimeExports.jsxs("div",{className:"relative flex-1 max-w-lg",children:[jsxRuntimeExports.jsx(Search,{className:"w-5 h-5 text-secondary-400 absolute left-3 top-1/2 -translate-y-1/2"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Tm kim m n, khch hng...",value:at,onChange:Et=>ot(Et.target.value),className:"w-full pl-10 pr-4 py-2 bg-white dark:bg-secondary-900 border border-secondary-200 dark:border-secondary-700 rounded-lg text-sm text-secondary-900 dark:text-white placeholder-secondary-400 focus:ring-primary-500 focus:border-primary-500 transition-colors"})]})}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"w-full",children:[jsxRuntimeExports.jsx("thead",{className:"bg-secondary-50 dark:bg-secondary-700/50",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"M n"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Ngy t"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Khch hng"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Tng tin"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Trng thi"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Thao tc"})]})}),jsxRuntimeExports.jsx("tbody",{className:"divide-y divide-secondary-200 dark:divide-secondary-700 bg-white dark:bg-secondary-800",children:st?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:7,className:"px-6 py-12 text-center",children:jsxRuntimeExports.jsx("div",{className:"flex justify-center",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})})})}):_e.length>0?_e.map(Et=>{var jt;return jsxRuntimeExports.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-700/50 transition-colors",children:[jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsxs("span",{className:"text-sm font-medium text-primary-600 dark:text-primary-400",children:["#",Et.order_code]})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-500 dark:text-secondary-400",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col",children:[jsxRuntimeExports.jsx("span",{children:new Date(Et.created_at).toLocaleDateString("vi-VN")}),jsxRuntimeExports.jsx("span",{className:"text-xs text-secondary-400",children:new Date(Et.created_at).toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"})})]})}),jsxRuntimeExports.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[jsxRuntimeExports.jsx("div",{className:"text-sm font-medium text-secondary-900 dark:text-white",children:Et.customer_name}),jsxRuntimeExports.jsx("div",{className:"text-xs text-secondary-500 dark:text-secondary-400",children:((jt=Et.user)==null?void 0:jt.email)||Et.customer_phone})]}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-secondary-900 dark:text-white",children:formatPrice(Et.grand_total)}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${Et.status==="completed"||Et.status==="paid"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":Et.status==="confirmed"?"bg-cyan-100 text-cyan-800 dark:bg-cyan-900/30 dark:text-cyan-300":Et.status==="pending"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300":Et.status==="processing"?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300":Et.status==="shipped"?"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300":Et.status==="cancelled"?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300":(Et.status==="refunded","bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300")}`,children:Et.status==="completed"?"Hon thnh":Et.status==="paid"?" thanh ton":Et.status==="confirmed"?" xc nhn":Et.status==="pending"?"Mi":Et.status==="processing"?"ang x l":Et.status==="shipped"?"ang giao":Et.status==="cancelled"?" hy":Et.status==="refunded"?"Hon tin":Et.status})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:jsxRuntimeExports.jsx("div",{className:"flex justify-end gap-2",children:jsxRuntimeExports.jsxs(Link$1,{to:`/admin/orders/${Et.id}`,className:"flex items-center gap-1 px-3 py-1.5 bg-primary-50 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300 rounded-lg hover:bg-primary-100 dark:hover:bg-primary-900/50 transition-colors",children:[jsxRuntimeExports.jsx(Eye,{className:"w-4 h-4"}),"Chi tit"]})})})]},Et.id)}):jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:7,className:"px-6 py-12 text-center text-secondary-500 dark:text-secondary-400",children:"Khng tm thy n hng no"})})})]})}),!st&&_e.length>0&&jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-secondary-800 px-4 py-3 border-t border-secondary-200 dark:border-secondary-700 flex items-center justify-between sm:px-6 transition-colors",children:jsxRuntimeExports.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("p",{className:"text-sm text-secondary-700 dark:text-secondary-300",children:["Hin th trang ",jsxRuntimeExports.jsx("span",{className:"font-medium",children:ut.page})," trn ",jsxRuntimeExports.jsx("span",{className:"font-medium",children:Math.max(1,ut.totalPages)})]})}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[jsxRuntimeExports.jsx("button",{onClick:()=>dt(Et=>({...Et,page:Math.max(1,Et.page-1)})),disabled:ut.page===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-secondary-300 dark:border-secondary-600 bg-white dark:bg-secondary-700 text-sm font-medium text-secondary-500 dark:text-secondary-300 hover:bg-secondary-50 dark:hover:bg-secondary-600 disabled:opacity-50 disabled:cursor-not-allowed",children:jsxRuntimeExports.jsx(ChevronLeft,{className:"w-5 h-5"})}),jsxRuntimeExports.jsx("button",{onClick:()=>dt(Et=>({...Et,page:Math.min(ut.totalPages,Et.page+1)})),disabled:ut.page>=ut.totalPages,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-secondary-300 dark:border-secondary-600 bg-white dark:bg-secondary-700 text-sm font-medium text-secondary-500 dark:text-secondary-300 hover:bg-secondary-50 dark:hover:bg-secondary-600 disabled:opacity-50 disabled:cursor-not-allowed",children:jsxRuntimeExports.jsx(ChevronRight,{className:"w-5 h-5"})})]})})]})})]})]})}const statusOptions=[{value:"pending",label:"Mi",color:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300"},{value:"confirmed",label:" xc nhn",color:"bg-cyan-100 text-cyan-800 dark:bg-cyan-900/30 dark:text-cyan-300"},{value:"processing",label:"ang x l",color:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300"},{value:"shipped",label:"ang giao",color:"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300"},{value:"completed",label:"Hon thnh",color:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300"},{value:"cancelled",label:" hy",color:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300"},{value:"refunded",label:"Hon tin",color:"bg-gray-100 text-gray-800 dark:bg-gray-800/50 dark:text-gray-300"}];function OrderDetailPage(){var xt,yt,vt;const{id:_e}=useParams(),et=useNavigate(),[rt,nt]=reactExports.useState(null),[st,it]=reactExports.useState(!0),[at,ot]=reactExports.useState(!1),[lt,ct]=reactExports.useState("");reactExports.useEffect(()=>{ut()},[_e]);const ut=async()=>{if(_e){it(!0);try{const gt=await adminAPI.getOrderById(_e);nt(gt.data.data),ct(gt.data.data.status)}catch{zt.error("Khng th ti thng tin n hng"),et("/admin/orders")}finally{it(!1)}}},dt=async()=>{if(!(!_e||lt===(rt==null?void 0:rt.status))){ot(!0);try{await adminAPI.updateOrderStatus(_e,lt),zt.success("Cp nht trng thi thnh cng"),ut()}catch{zt.error("Cp nht tht bi")}finally{ot(!1)}}},pt=gt=>statusOptions.find(jt=>jt.value===gt)||{label:gt,color:"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300"};if(st)return jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-96",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})});if(!rt)return jsxRuntimeExports.jsx("div",{className:"text-center py-12",children:jsxRuntimeExports.jsx("p",{className:"text-secondary-500 dark:text-secondary-400",children:"Khng tm thy n hng"})});const mt=pt(rt.status);return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx(Link$1,{to:"/admin/orders",className:"p-2 hover:bg-secondary-100 dark:hover:bg-secondary-800 rounded-full transition-colors",children:jsxRuntimeExports.jsx(ArrowLeft,{className:"w-5 h-5 text-secondary-600 dark:text-secondary-400"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h1",{className:"text-2xl font-bold text-secondary-900 dark:text-white",children:["n hng #",rt.order_code]}),jsxRuntimeExports.jsxs("p",{className:"text-secondary-500 dark:text-secondary-400 text-sm",children:["Ngy t: ",new Date(rt.created_at).toLocaleString("vi-VN")]})]})]}),jsxRuntimeExports.jsx("span",{className:`px-4 py-2 text-sm font-semibold rounded-full ${mt.color}`,children:mt.label})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-xl border border-secondary-200 dark:border-secondary-700 shadow-sm overflow-hidden transition-colors",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b border-secondary-200 dark:border-secondary-700 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Package,{className:"w-5 h-5 text-secondary-500 dark:text-secondary-400"}),jsxRuntimeExports.jsx("h2",{className:"font-semibold text-secondary-900 dark:text-white",children:"Sn phm t mua"})]}),jsxRuntimeExports.jsx("div",{className:"divide-y divide-secondary-100 dark:divide-secondary-700/50",children:(xt=rt.order_items)==null?void 0:xt.map(gt=>{var Et,jt,kt;return jsxRuntimeExports.jsxs("div",{className:"p-4 flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-secondary-100 dark:bg-secondary-700 rounded-lg overflow-hidden flex-shrink-0",children:(kt=(jt=(Et=gt.product)==null?void 0:Et.product_images)==null?void 0:jt[0])!=null&&kt.url?jsxRuntimeExports.jsx("img",{src:gt.product.product_images[0].url,alt:gt.name,className:"w-full h-full object-cover"}):jsxRuntimeExports.jsx("div",{className:"w-full h-full flex items-center justify-center text-secondary-400",children:jsxRuntimeExports.jsx(Package,{className:"w-6 h-6"})})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("h3",{className:"font-medium text-secondary-900 dark:text-white truncate",children:gt.name}),gt.options_text&&jsxRuntimeExports.jsx("p",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:gt.options_text}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-secondary-400 dark:text-secondary-500",children:["SKU: ",gt.sku]})]}),jsxRuntimeExports.jsxs("div",{className:"text-right",children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-secondary-900 dark:text-white",children:formatPrice(gt.unit_price)}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:["x",gt.qty]})]}),jsxRuntimeExports.jsx("div",{className:"text-right min-w-[100px]",children:jsxRuntimeExports.jsx("p",{className:"font-bold text-secondary-900 dark:text-white",children:formatPrice(gt.line_total)})})]},gt.id)})}),jsxRuntimeExports.jsxs("div",{className:"p-4 bg-secondary-50 dark:bg-secondary-700/30 border-t border-secondary-200 dark:border-secondary-700 space-y-2 transition-colors",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-secondary-600 dark:text-secondary-400",children:"Tm tnh"}),jsxRuntimeExports.jsx("span",{className:"text-secondary-900 dark:text-white",children:formatPrice(rt.subtotal)})]}),Number(rt.discount_total)>0&&jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-secondary-600 dark:text-secondary-400",children:"Gim gi"}),jsxRuntimeExports.jsxs("span",{className:"text-green-600 dark:text-green-400",children:["-",formatPrice(rt.discount_total)]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-secondary-600 dark:text-secondary-400",children:"Ph vn chuyn"}),jsxRuntimeExports.jsx("span",{className:"text-secondary-900 dark:text-white",children:formatPrice(rt.shipping_fee)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-lg font-bold pt-2 border-t border-secondary-200 dark:border-secondary-700",children:[jsxRuntimeExports.jsx("span",{className:"text-secondary-900 dark:text-white",children:"Tng cng"}),jsxRuntimeExports.jsx("span",{className:"text-primary-600 dark:text-primary-400",children:formatPrice(rt.grand_total)})]})]})]}),rt.note&&jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-xl border border-secondary-200 dark:border-secondary-700 shadow-sm p-4 transition-colors",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-secondary-900 dark:text-white mb-2",children:"Ghi ch ca khch hng"}),jsxRuntimeExports.jsx("p",{className:"text-secondary-600 dark:text-secondary-300 text-sm",children:rt.note})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-xl border border-secondary-200 dark:border-secondary-700 shadow-sm overflow-hidden transition-colors",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b border-secondary-200 dark:border-secondary-700 flex items-center gap-2",children:[jsxRuntimeExports.jsx(User,{className:"w-5 h-5 text-secondary-500 dark:text-secondary-400"}),jsxRuntimeExports.jsx("h2",{className:"font-semibold text-secondary-900 dark:text-white",children:"Thng tin khch hng"})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 space-y-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:"H tn"}),jsxRuntimeExports.jsx("p",{className:"font-medium text-secondary-900 dark:text-white",children:rt.customer_name})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:"S in thoi"}),jsxRuntimeExports.jsx("p",{className:"font-medium text-secondary-900 dark:text-white",children:rt.customer_phone})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-xl border border-secondary-200 dark:border-secondary-700 shadow-sm overflow-hidden transition-colors",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b border-secondary-200 dark:border-secondary-700 flex items-center gap-2",children:[jsxRuntimeExports.jsx(MapPin,{className:"w-5 h-5 text-secondary-500 dark:text-secondary-400"}),jsxRuntimeExports.jsx("h2",{className:"font-semibold text-secondary-900 dark:text-white",children:"a ch giao hng"})]}),jsxRuntimeExports.jsxs("div",{className:"p-4",children:[jsxRuntimeExports.jsx("p",{className:"text-secondary-900 dark:text-white",children:rt.ship_address_line1}),rt.ship_address_line2&&jsxRuntimeExports.jsx("p",{className:"text-secondary-600 dark:text-secondary-300",children:rt.ship_address_line2}),jsxRuntimeExports.jsxs("p",{className:"text-secondary-600 dark:text-secondary-300",children:[rt.ship_city,", ",rt.ship_province]}),rt.ship_postal_code&&jsxRuntimeExports.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 text-sm",children:rt.ship_postal_code})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-xl border border-secondary-200 dark:border-secondary-700 shadow-sm overflow-hidden transition-colors",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b border-secondary-200 dark:border-secondary-700 flex items-center gap-2",children:[jsxRuntimeExports.jsx(CreditCard,{className:"w-5 h-5 text-secondary-500 dark:text-secondary-400"}),jsxRuntimeExports.jsx("h2",{className:"font-semibold text-secondary-900 dark:text-white",children:"Thanh ton"})]}),jsxRuntimeExports.jsx("div",{className:"p-4 space-y-2",children:(yt=rt.payments)==null?void 0:yt.map(gt=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-secondary-600 dark:text-secondary-400",children:"Phng thc"}),jsxRuntimeExports.jsx("span",{className:"font-medium text-secondary-900 dark:text-white uppercase",children:gt.method})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-secondary-600 dark:text-secondary-400",children:"Trng thi"}),jsxRuntimeExports.jsx("span",{className:`font-medium ${gt.status==="paid"?"text-green-600 dark:text-green-400":"text-yellow-600 dark:text-yellow-400"}`,children:gt.status==="paid"?" thanh ton":"Ch thanh ton"})]})]},gt.id))})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-xl border border-secondary-200 dark:border-secondary-700 shadow-sm overflow-hidden transition-colors",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b border-secondary-200 dark:border-secondary-700 flex items-center gap-2",children:[jsxRuntimeExports.jsx(PenLine,{className:"w-5 h-5 text-secondary-500 dark:text-secondary-400"}),jsxRuntimeExports.jsx("h2",{className:"font-semibold text-secondary-900 dark:text-white",children:"Cp nht trng thi"})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 space-y-4",children:[jsxRuntimeExports.jsx("select",{value:lt,onChange:gt=>ct(gt.target.value),className:"w-full border border-secondary-200 dark:border-secondary-700 bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white rounded-full px-3 py-2 text-sm focus:ring-primary-500 focus:border-primary-500 transition-colors",children:statusOptions.map(gt=>jsxRuntimeExports.jsx("option",{value:gt.value,children:gt.label},gt.value))}),jsxRuntimeExports.jsxs("button",{onClick:dt,disabled:at||lt===rt.status,className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-full hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium",children:[at?jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):jsxRuntimeExports.jsx(Save,{className:"w-4 h-4"}),"Lu thay i"]})]})]}),((vt=rt.shipments)==null?void 0:vt[0])&&jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-xl border border-secondary-200 dark:border-secondary-700 shadow-sm overflow-hidden transition-colors",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b border-secondary-200 dark:border-secondary-700 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Truck,{className:"w-5 h-5 text-secondary-500 dark:text-secondary-400"}),jsxRuntimeExports.jsx("h2",{className:"font-semibold text-secondary-900 dark:text-white",children:"Vn chuyn"})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 space-y-2 text-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-secondary-600 dark:text-secondary-400",children:"Trng thi"}),jsxRuntimeExports.jsx("span",{className:"font-medium text-secondary-900 dark:text-white",children:rt.shipments[0].status==="pending"?"Ch ly hng":rt.shipments[0].status==="shipping"?"ang vn chuyn":rt.shipments[0].status==="delivered"?" giao":rt.shipments[0].status})]}),rt.shipments[0].tracking_number&&jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-secondary-600 dark:text-secondary-400",children:"M vn n"}),jsxRuntimeExports.jsx("span",{className:"font-medium text-secondary-900 dark:text-white",children:rt.shipments[0].tracking_number})]}),rt.shipments[0].carrier&&jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-secondary-600 dark:text-secondary-400",children:"n v vn chuyn"}),jsxRuntimeExports.jsx("span",{className:"font-medium text-secondary-900 dark:text-white",children:rt.shipments[0].carrier})]})]})]})]})]})]})}var i$5=Object.defineProperty,d$3=(_e,et,rt)=>et in _e?i$5(_e,et,{enumerable:!0,configurable:!0,writable:!0,value:rt}):_e[et]=rt,r$5=(_e,et,rt)=>(d$3(_e,typeof et!="symbol"?et+"":et,rt),rt);let o$7=class{constructor(){r$5(this,"current",this.detect()),r$5(this,"handoffState","pending"),r$5(this,"currentId",0)}set(et){this.current!==et&&(this.handoffState="pending",this.currentId=0,this.current=et)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},s$6=new o$7;function l$4(_e){var et;return s$6.isServer?null:_e==null?document:(et=_e==null?void 0:_e.ownerDocument)!=null?et:document}function r$4(_e){var et,rt;return s$6.isServer?null:_e==null?document:(rt=(et=_e==null?void 0:_e.getRootNode)==null?void 0:et.call(_e))!=null?rt:document}function e$3(_e){var et,rt;return(rt=(et=r$4(_e))==null?void 0:et.activeElement)!=null?rt:null}function d$2(_e){return e$3(_e)===_e}function t$4(_e){typeof queueMicrotask=="function"?queueMicrotask(_e):Promise.resolve().then(_e).catch(et=>setTimeout(()=>{throw et}))}function o$6(){let _e=[],et={addEventListener(rt,nt,st,it){return rt.addEventListener(nt,st,it),et.add(()=>rt.removeEventListener(nt,st,it))},requestAnimationFrame(...rt){let nt=requestAnimationFrame(...rt);return et.add(()=>cancelAnimationFrame(nt))},nextFrame(...rt){return et.requestAnimationFrame(()=>et.requestAnimationFrame(...rt))},setTimeout(...rt){let nt=setTimeout(...rt);return et.add(()=>clearTimeout(nt))},microTask(...rt){let nt={current:!0};return t$4(()=>{nt.current&&rt[0]()}),et.add(()=>{nt.current=!1})},style(rt,nt,st){let it=rt.style.getPropertyValue(nt);return Object.assign(rt.style,{[nt]:st}),this.add(()=>{Object.assign(rt.style,{[nt]:it})})},group(rt){let nt=o$6();return rt(nt),this.add(()=>nt.dispose())},add(rt){return _e.includes(rt)||_e.push(rt),()=>{let nt=_e.indexOf(rt);if(nt>=0)for(let st of _e.splice(nt,1))st()}},dispose(){for(let rt of _e.splice(0))rt()}};return et}function p$3(){let[_e]=reactExports.useState(o$6);return reactExports.useEffect(()=>()=>_e.dispose(),[_e]),_e}let n$6=(_e,et)=>{s$6.isServer?reactExports.useEffect(_e,et):reactExports.useLayoutEffect(_e,et)};function s$5(_e){let et=reactExports.useRef(_e);return n$6(()=>{et.current=_e},[_e]),et}let o$5=function(_e){let et=s$5(_e);return React$3.useCallback((...rt)=>et.current(...rt),[et])};function n$5(_e){return reactExports.useMemo(()=>_e,Object.values(_e))}let e$2=reactExports.createContext(void 0);function a$a(){return reactExports.useContext(e$2)}function t$3(..._e){return Array.from(new Set(_e.flatMap(et=>typeof et=="string"?et.split(" "):[]))).filter(Boolean).join(" ")}function u$7(_e,et,...rt){if(_e in et){let st=et[_e];return typeof st=="function"?st(...rt):st}let nt=new Error(`Tried to handle "${_e}" but there is no handler defined. Only defined handlers are: ${Object.keys(et).map(st=>`"${st}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(nt,u$7),nt}var A$2=(_e=>(_e[_e.None=0]="None",_e[_e.RenderStrategy=1]="RenderStrategy",_e[_e.Static=2]="Static",_e))(A$2||{}),C$4=(_e=>(_e[_e.Unmount=0]="Unmount",_e[_e.Hidden=1]="Hidden",_e))(C$4||{});function K(){let _e=$$1();return reactExports.useCallback(et=>U({mergeRefs:_e,...et}),[_e])}function U({ourProps:_e,theirProps:et,slot:rt,defaultTag:nt,features:st,visible:it=!0,name:at,mergeRefs:ot}){ot=ot??I$5;let lt=P$1(et,_e);if(it)return F(lt,rt,nt,at,ot);let ct=st??0;if(ct&2){let{static:ut=!1,...dt}=lt;if(ut)return F(dt,rt,nt,at,ot)}if(ct&1){let{unmount:ut=!0,...dt}=lt;return u$7(ut?0:1,{0(){return null},1(){return F({...dt,hidden:!0,style:{display:"none"}},rt,nt,at,ot)}})}return F(lt,rt,nt,at,ot)}function F(_e,et={},rt,nt,st){let{as:it=rt,children:at,refName:ot="ref",...lt}=h$3(_e,["unmount","static"]),ct=_e.ref!==void 0?{[ot]:_e.ref}:{},ut=typeof at=="function"?at(et):at;"className"in lt&&lt.className&&typeof lt.className=="function"&&(lt.className=lt.className(et)),lt["aria-labelledby"]&&lt["aria-labelledby"]===lt.id&&(lt["aria-labelledby"]=void 0);let dt={};if(et){let pt=!1,mt=[];for(let[xt,yt]of Object.entries(et))typeof yt=="boolean"&&(pt=!0),yt===!0&&mt.push(xt.replace(/([A-Z])/g,vt=>`-${vt.toLowerCase()}`));if(pt){dt["data-headlessui-state"]=mt.join(" ");for(let xt of mt)dt[`data-${xt}`]=""}}if(b$1(it)&&(Object.keys(m$3(lt)).length>0||Object.keys(m$3(dt)).length>0))if(!reactExports.isValidElement(ut)||Array.isArray(ut)&&ut.length>1||D$2(ut)){if(Object.keys(m$3(lt)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${nt} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(m$3(lt)).concat(Object.keys(m$3(dt))).map(pt=>`  - ${pt}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(pt=>`  - ${pt}`).join(`
`)].join(`
`))}else{let pt=ut.props,mt=pt==null?void 0:pt.className,xt=typeof mt=="function"?(...gt)=>t$3(mt(...gt),lt.className):t$3(mt,lt.className),yt=xt?{className:xt}:{},vt=P$1(ut.props,m$3(h$3(lt,["ref"])));for(let gt in dt)gt in vt&&delete dt[gt];return reactExports.cloneElement(ut,Object.assign({},vt,dt,ct,{ref:st(H$2(ut),ct.ref)},yt))}return reactExports.createElement(it,Object.assign({},h$3(lt,["ref"]),!b$1(it)&&ct,!b$1(it)&&dt),ut)}function $$1(){let _e=reactExports.useRef([]),et=reactExports.useCallback(rt=>{for(let nt of _e.current)nt!=null&&(typeof nt=="function"?nt(rt):nt.current=rt)},[]);return(...rt)=>{if(!rt.every(nt=>nt==null))return _e.current=rt,et}}function I$5(..._e){return _e.every(et=>et==null)?void 0:et=>{for(let rt of _e)rt!=null&&(typeof rt=="function"?rt(et):rt.current=et)}}function P$1(..._e){if(_e.length===0)return{};if(_e.length===1)return _e[0];let et={},rt={};for(let nt of _e)for(let st in nt)st.startsWith("on")&&typeof nt[st]=="function"?(rt[st]!=null||(rt[st]=[]),rt[st].push(nt[st])):et[st]=nt[st];if(et.disabled||et["aria-disabled"])for(let nt in rt)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(nt)&&(rt[nt]=[st=>{var it;return(it=st==null?void 0:st.preventDefault)==null?void 0:it.call(st)}]);for(let nt in rt)Object.assign(et,{[nt](st,...it){let at=rt[nt];for(let ot of at){if((st instanceof Event||(st==null?void 0:st.nativeEvent)instanceof Event)&&st.defaultPrevented)return;ot(st,...it)}}});return et}function Y(_e){var et;return Object.assign(reactExports.forwardRef(_e),{displayName:(et=_e.displayName)!=null?et:_e.name})}function m$3(_e){let et=Object.assign({},_e);for(let rt in et)et[rt]===void 0&&delete et[rt];return et}function h$3(_e,et=[]){let rt=Object.assign({},_e);for(let nt of et)nt in rt&&delete rt[nt];return rt}function H$2(_e){return React$3.version.split(".")[0]>="19"?_e.props.ref:_e.ref}function b$1(_e){return _e===reactExports.Fragment||_e===Symbol.for("react.fragment")}function D$2(_e){return b$1(_e.type)}let a$9="span";var s$4=(_e=>(_e[_e.None=1]="None",_e[_e.Focusable=2]="Focusable",_e[_e.Hidden=4]="Hidden",_e))(s$4||{});function l$3(_e,et){var rt;let{features:nt=1,...st}=_e,it={ref:et,"aria-hidden":(nt&2)===2?!0:(rt=st["aria-hidden"])!=null?rt:void 0,hidden:(nt&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(nt&4)===4&&(nt&2)!==2&&{display:"none"}}};return K()({ourProps:it,theirProps:st,slot:{},defaultTag:a$9,name:"Hidden"})}let f$6=Y(l$3);function o$4(_e){return typeof _e!="object"||_e===null?!1:"nodeType"in _e}function t$2(_e){return o$4(_e)&&"tagName"in _e}function n$4(_e){return t$2(_e)&&"accessKey"in _e}function i$4(_e){return t$2(_e)&&"tabIndex"in _e}function r$3(_e){return t$2(_e)&&"style"in _e}function u$6(_e){return n$4(_e)&&_e.nodeName==="IFRAME"}function l$2(_e){return n$4(_e)&&_e.nodeName==="INPUT"}let u$5=Symbol();function T$3(_e,et=!0){return Object.assign(_e,{[u$5]:et})}function y$2(..._e){let et=reactExports.useRef(_e);reactExports.useEffect(()=>{et.current=_e},[_e]);let rt=o$5(nt=>{for(let st of et.current)st!=null&&(typeof st=="function"?st(nt):st.current=nt)});return _e.every(nt=>nt==null||(nt==null?void 0:nt[u$5]))?void 0:rt}let a$8=reactExports.createContext(null);a$8.displayName="DescriptionContext";function f$5(){let _e=reactExports.useContext(a$8);if(_e===null){let et=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(et,f$5),et}return _e}function H$1(){let[_e,et]=reactExports.useState([]);return[_e.length>0?_e.join(" "):void 0,reactExports.useMemo(()=>function(rt){let nt=o$5(it=>(et(at=>[...at,it]),()=>et(at=>{let ot=at.slice(),lt=ot.indexOf(it);return lt!==-1&&ot.splice(lt,1),ot}))),st=reactExports.useMemo(()=>({register:nt,slot:rt.slot,name:rt.name,props:rt.props,value:rt.value}),[nt,rt.slot,rt.name,rt.props,rt.value]);return React$3.createElement(a$8.Provider,{value:st},rt.children)},[et])]}let I$4="p";function C$3(_e,et){let rt=reactExports.useId(),nt=a$a(),{id:st=`headlessui-description-${rt}`,...it}=_e,at=f$5(),ot=y$2(et);n$6(()=>at.register(st),[st,at.register]);let lt=n$5({...at.slot,disabled:nt||!1}),ct={ref:ot,...at.props,id:st};return K()({ourProps:ct,theirProps:it,slot:lt,defaultTag:I$4,name:at.name||"Description"})}let _$2=Y(C$3),M$2=Object.assign(_$2,{});var o$3=(_e=>(_e.Space=" ",_e.Enter="Enter",_e.Escape="Escape",_e.Backspace="Backspace",_e.Delete="Delete",_e.ArrowLeft="ArrowLeft",_e.ArrowUp="ArrowUp",_e.ArrowRight="ArrowRight",_e.ArrowDown="ArrowDown",_e.Home="Home",_e.End="End",_e.PageUp="PageUp",_e.PageDown="PageDown",_e.Tab="Tab",_e))(o$3||{});let e$1=reactExports.createContext(()=>{});function C$2({value:_e,children:et}){return React$3.createElement(e$1.Provider,{value:_e},et)}let a$7=class extends Map{constructor(et){super(),this.factory=et}get(et){let rt=super.get(et);return rt===void 0&&(rt=this.factory(et),this.set(et,rt)),rt}};var h$2=Object.defineProperty,v$1=(_e,et,rt)=>et in _e?h$2(_e,et,{enumerable:!0,configurable:!0,writable:!0,value:rt}):_e[et]=rt,S$5=(_e,et,rt)=>(v$1(_e,et+"",rt),rt),b=(_e,et,rt)=>{if(!et.has(_e))throw TypeError("Cannot "+rt)},i$3=(_e,et,rt)=>(b(_e,et,"read from private field"),rt?rt.call(_e):et.get(_e)),c$5=(_e,et,rt)=>{if(et.has(_e))throw TypeError("Cannot add the same private member more than once");et instanceof WeakSet?et.add(_e):et.set(_e,rt)},u$4=(_e,et,rt,nt)=>(b(_e,et,"write to private field"),et.set(_e,rt),rt),n$3,a$6,o$2;let T$2=class{constructor(et){c$5(this,n$3,{}),c$5(this,a$6,new a$7(()=>new Set)),c$5(this,o$2,new Set),S$5(this,"disposables",o$6()),u$4(this,n$3,et),s$6.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return i$3(this,n$3)}subscribe(et,rt){if(s$6.isServer)return()=>{};let nt={selector:et,callback:rt,current:et(i$3(this,n$3))};return i$3(this,o$2).add(nt),this.disposables.add(()=>{i$3(this,o$2).delete(nt)})}on(et,rt){return s$6.isServer?()=>{}:(i$3(this,a$6).get(et).add(rt),this.disposables.add(()=>{i$3(this,a$6).get(et).delete(rt)}))}send(et){let rt=this.reduce(i$3(this,n$3),et);if(rt!==i$3(this,n$3)){u$4(this,n$3,rt);for(let nt of i$3(this,o$2)){let st=nt.selector(i$3(this,n$3));j$3(nt.current,st)||(nt.current=st,nt.callback(st))}for(let nt of i$3(this,a$6).get(et.type))nt(i$3(this,n$3),et)}}};n$3=new WeakMap,a$6=new WeakMap,o$2=new WeakMap;function j$3(_e,et){return Object.is(_e,et)?!0:typeof _e!="object"||_e===null||typeof et!="object"||et===null?!1:Array.isArray(_e)&&Array.isArray(et)?_e.length!==et.length?!1:f$4(_e[Symbol.iterator](),et[Symbol.iterator]()):_e instanceof Map&&et instanceof Map||_e instanceof Set&&et instanceof Set?_e.size!==et.size?!1:f$4(_e.entries(),et.entries()):p$2(_e)&&p$2(et)?f$4(Object.entries(_e)[Symbol.iterator](),Object.entries(et)[Symbol.iterator]()):!1}function f$4(_e,et){do{let rt=_e.next(),nt=et.next();if(rt.done&&nt.done)return!0;if(rt.done||nt.done||!Object.is(rt.value,nt.value))return!1}while(!0)}function p$2(_e){if(Object.prototype.toString.call(_e)!=="[object Object]")return!1;let et=Object.getPrototypeOf(_e);return et===null||Object.getPrototypeOf(et)===null}var a$5=Object.defineProperty,r$2=(_e,et,rt)=>et in _e?a$5(_e,et,{enumerable:!0,configurable:!0,writable:!0,value:rt}):_e[et]=rt,p$1=(_e,et,rt)=>(r$2(_e,typeof et!="symbol"?et+"":et,rt),rt),k$1=(_e=>(_e[_e.Push=0]="Push",_e[_e.Pop=1]="Pop",_e))(k$1||{});let y$1={0(_e,et){let rt=et.id,nt=_e.stack,st=_e.stack.indexOf(rt);if(st!==-1){let it=_e.stack.slice();return it.splice(st,1),it.push(rt),nt=it,{..._e,stack:nt}}return{..._e,stack:[..._e.stack,rt]}},1(_e,et){let rt=et.id,nt=_e.stack.indexOf(rt);if(nt===-1)return _e;let st=_e.stack.slice();return st.splice(nt,1),{..._e,stack:st}}},o$1=class Wo extends T$2{constructor(){super(...arguments),p$1(this,"actions",{push:et=>this.send({type:0,id:et}),pop:et=>this.send({type:1,id:et})}),p$1(this,"selectors",{isTop:(et,rt)=>et.stack[et.stack.length-1]===rt,inStack:(et,rt)=>et.stack.includes(rt)})}static new(){return new Wo({stack:[]})}reduce(et,rt){return u$7(rt.type,y$1,et,rt)}};const x$4=new a$7(()=>o$1.new());function S$4(_e,et,rt=j$3){return withSelectorExports.useSyncExternalStoreWithSelector(o$5(nt=>_e.subscribe(s$3,nt)),o$5(()=>_e.state),o$5(()=>_e.state),o$5(et),rt)}function s$3(_e){return _e}function I$3(_e,et){let rt=reactExports.useId(),nt=x$4.get(et),[st,it]=S$4(nt,reactExports.useCallback(at=>[nt.selectors.isTop(at,rt),nt.selectors.inStack(at,rt)],[nt,rt]));return n$6(()=>{if(_e)return nt.actions.push(rt),()=>nt.actions.pop(rt)},[nt,_e,rt]),_e?it?st:!0:!1}let f$3=new Map,u$3=new Map;function h$1(_e){var et;let rt=(et=u$3.get(_e))!=null?et:0;return u$3.set(_e,rt+1),rt!==0?()=>m$2(_e):(f$3.set(_e,{"aria-hidden":_e.getAttribute("aria-hidden"),inert:_e.inert}),_e.setAttribute("aria-hidden","true"),_e.inert=!0,()=>m$2(_e))}function m$2(_e){var et;let rt=(et=u$3.get(_e))!=null?et:1;if(rt===1?u$3.delete(_e):u$3.set(_e,rt-1),rt!==1)return;let nt=f$3.get(_e);nt&&(nt["aria-hidden"]===null?_e.removeAttribute("aria-hidden"):_e.setAttribute("aria-hidden",nt["aria-hidden"]),_e.inert=nt.inert,f$3.delete(_e))}function y(_e,{allowed:et,disallowed:rt}={}){let nt=I$3(_e,"inert-others");n$6(()=>{var st,it;if(!nt)return;let at=o$6();for(let lt of(st=rt==null?void 0:rt())!=null?st:[])lt&&at.add(h$1(lt));let ot=(it=et==null?void 0:et())!=null?it:[];for(let lt of ot){if(!lt)continue;let ct=l$4(lt);if(!ct)continue;let ut=lt.parentElement;for(;ut&&ut!==ct.body;){for(let dt of ut.children)ot.some(pt=>dt.contains(pt))||at.add(h$1(dt));ut=ut.parentElement}}return at.dispose},[nt,et,rt])}function p(_e,et,rt){let nt=s$5(st=>{let it=st.getBoundingClientRect();it.x===0&&it.y===0&&it.width===0&&it.height===0&&rt()});reactExports.useEffect(()=>{if(!_e)return;let st=et===null?null:n$4(et)?et:et.current;if(!st)return;let it=o$6();if(typeof ResizeObserver<"u"){let at=new ResizeObserver(()=>nt.current(st));at.observe(st),it.add(()=>at.disconnect())}if(typeof IntersectionObserver<"u"){let at=new IntersectionObserver(()=>nt.current(st));at.observe(st),it.add(()=>at.disconnect())}return()=>it.dispose()},[et,nt,_e])}let E$1=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","details>summary","textarea:not([disabled])"].map(_e=>`${_e}:not([tabindex='-1'])`).join(","),S$3=["[data-autofocus]"].map(_e=>`${_e}:not([tabindex='-1'])`).join(",");var T$1=(_e=>(_e[_e.First=1]="First",_e[_e.Previous=2]="Previous",_e[_e.Next=4]="Next",_e[_e.Last=8]="Last",_e[_e.WrapAround=16]="WrapAround",_e[_e.NoScroll=32]="NoScroll",_e[_e.AutoFocus=64]="AutoFocus",_e))(T$1||{}),A$1=(_e=>(_e[_e.Error=0]="Error",_e[_e.Overflow=1]="Overflow",_e[_e.Success=2]="Success",_e[_e.Underflow=3]="Underflow",_e))(A$1||{}),O$1=(_e=>(_e[_e.Previous=-1]="Previous",_e[_e.Next=1]="Next",_e))(O$1||{});function x$3(_e=document.body){return _e==null?[]:Array.from(_e.querySelectorAll(E$1)).sort((et,rt)=>Math.sign((et.tabIndex||Number.MAX_SAFE_INTEGER)-(rt.tabIndex||Number.MAX_SAFE_INTEGER)))}function h(_e=document.body){return _e==null?[]:Array.from(_e.querySelectorAll(S$3)).sort((et,rt)=>Math.sign((et.tabIndex||Number.MAX_SAFE_INTEGER)-(rt.tabIndex||Number.MAX_SAFE_INTEGER)))}var I$2=(_e=>(_e[_e.Strict=0]="Strict",_e[_e.Loose=1]="Loose",_e))(I$2||{});function H(_e,et=0){var rt;return _e===((rt=l$4(_e))==null?void 0:rt.body)?!1:u$7(et,{0(){return _e.matches(E$1)},1(){let nt=_e;for(;nt!==null;){if(nt.matches(E$1))return!0;nt=nt.parentElement}return!1}})}var g=(_e=>(_e[_e.Keyboard=0]="Keyboard",_e[_e.Mouse=1]="Mouse",_e))(g||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",_e=>{_e.metaKey||_e.altKey||_e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",_e=>{_e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:_e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function w$4(_e){_e==null||_e.focus({preventScroll:!0})}let _$1=["textarea","input"].join(",");function P(_e){var et,rt;return(rt=(et=_e==null?void 0:_e.matches)==null?void 0:et.call(_e,_$1))!=null?rt:!1}function G$1(_e,et=rt=>rt){return _e.slice().sort((rt,nt)=>{let st=et(rt),it=et(nt);if(st===null||it===null)return 0;let at=st.compareDocumentPosition(it);return at&Node.DOCUMENT_POSITION_FOLLOWING?-1:at&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function v(_e,et,{sorted:rt=!0,relativeTo:nt=null,skipElements:st=[]}={}){let it=Array.isArray(_e)?_e.length>0?r$4(_e[0]):document:r$4(_e),at=Array.isArray(_e)?rt?G$1(_e):_e:et&64?h(_e):x$3(_e);st.length>0&&at.length>1&&(at=at.filter(mt=>!st.some(xt=>xt!=null&&"current"in xt?(xt==null?void 0:xt.current)===mt:xt===mt))),nt=nt??(it==null?void 0:it.activeElement);let ot=(()=>{if(et&5)return 1;if(et&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),lt=(()=>{if(et&1)return 0;if(et&2)return Math.max(0,at.indexOf(nt))-1;if(et&4)return Math.max(0,at.indexOf(nt))+1;if(et&8)return at.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),ct=et&32?{preventScroll:!0}:{},ut=0,dt=at.length,pt;do{if(ut>=dt||ut+dt<=0)return 0;let mt=lt+ut;if(et&16)mt=(mt+dt)%dt;else{if(mt<0)return 3;if(mt>=dt)return 1}pt=at[mt],pt==null||pt.focus(ct),ut+=ot}while(pt!==e$3(pt));return et&6&&P(pt)&&pt.select(),2}function t$1(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function i$2(){return/Android/gi.test(window.navigator.userAgent)}function n$2(){return t$1()||i$2()}function i$1(_e,et,rt,nt){let st=s$5(rt);reactExports.useEffect(()=>{if(!_e)return;function it(at){st.current(at)}return document.addEventListener(et,it,nt),()=>document.removeEventListener(et,it,nt)},[_e,et,nt])}function s$2(_e,et,rt,nt){let st=s$5(rt);reactExports.useEffect(()=>{if(!_e)return;function it(at){st.current(at)}return window.addEventListener(et,it,nt),()=>window.removeEventListener(et,it,nt)},[_e,et,nt])}const C$1=30;function k(_e,et,rt){let nt=s$5(rt),st=reactExports.useCallback(function(ot,lt){if(ot.defaultPrevented)return;let ct=lt(ot);if(ct===null||!ct.getRootNode().contains(ct)||!ct.isConnected)return;let ut=function dt(pt){return typeof pt=="function"?dt(pt()):Array.isArray(pt)||pt instanceof Set?pt:[pt]}(et);for(let dt of ut)if(dt!==null&&(dt.contains(ct)||ot.composed&&ot.composedPath().includes(dt)))return;return!H(ct,I$2.Loose)&&ct.tabIndex!==-1&&ot.preventDefault(),nt.current(ot,ct)},[nt,et]),it=reactExports.useRef(null);i$1(_e,"pointerdown",ot=>{var lt,ct;n$2()||(it.current=((ct=(lt=ot.composedPath)==null?void 0:lt.call(ot))==null?void 0:ct[0])||ot.target)},!0),i$1(_e,"pointerup",ot=>{if(n$2()||!it.current)return;let lt=it.current;return it.current=null,st(ot,()=>lt)},!0);let at=reactExports.useRef({x:0,y:0});i$1(_e,"touchstart",ot=>{at.current.x=ot.touches[0].clientX,at.current.y=ot.touches[0].clientY},!0),i$1(_e,"touchend",ot=>{let lt={x:ot.changedTouches[0].clientX,y:ot.changedTouches[0].clientY};if(!(Math.abs(lt.x-at.current.x)>=C$1||Math.abs(lt.y-at.current.y)>=C$1))return st(ot,()=>i$4(ot.target)?ot.target:null)},!0),s$2(_e,"blur",ot=>st(ot,()=>u$6(window.document.activeElement)?window.document.activeElement:null),!0)}function u$2(..._e){return reactExports.useMemo(()=>l$4(..._e),[..._e])}function E(_e,et,rt,nt){let st=s$5(rt);reactExports.useEffect(()=>{_e=_e??window;function it(at){st.current(at)}return _e.addEventListener(et,it,nt),()=>_e.removeEventListener(et,it,nt)},[_e,et,nt])}function o(_e){return reactExports.useSyncExternalStore(_e.subscribe,_e.getSnapshot,_e.getSnapshot)}function a$4(_e,et){let rt=_e(),nt=new Set;return{getSnapshot(){return rt},subscribe(st){return nt.add(st),()=>nt.delete(st)},dispatch(st,...it){let at=et[st].call(rt,...it);at&&(rt=at,nt.forEach(ot=>ot()))}}}function d$1(){let _e;return{before({doc:et}){var rt;let nt=et.documentElement,st=(rt=et.defaultView)!=null?rt:window;_e=Math.max(0,st.innerWidth-nt.clientWidth)},after({doc:et,d:rt}){let nt=et.documentElement,st=Math.max(0,nt.clientWidth-nt.offsetWidth),it=Math.max(0,_e-st);rt.style(nt,"paddingRight",`${it}px`)}}}function w$3(){return t$1()?{before({doc:_e,d:et,meta:rt}){function nt(st){for(let it of rt().containers)for(let at of it())if(at.contains(st))return!0;return!1}et.microTask(()=>{var st;if(window.getComputedStyle(_e.documentElement).scrollBehavior!=="auto"){let ot=o$6();ot.style(_e.documentElement,"scrollBehavior","auto"),et.add(()=>et.microTask(()=>ot.dispose()))}let it=(st=window.scrollY)!=null?st:window.pageYOffset,at=null;et.addEventListener(_e,"click",ot=>{if(i$4(ot.target))try{let lt=ot.target.closest("a");if(!lt)return;let{hash:ct}=new URL(lt.href),ut=_e.querySelector(ct);i$4(ut)&&!nt(ut)&&(at=ut)}catch{}},!0),et.group(ot=>{et.addEventListener(_e,"touchstart",lt=>{if(ot.dispose(),i$4(lt.target)&&r$3(lt.target))if(nt(lt.target)){let ct=lt.target;for(;ct.parentElement&&nt(ct.parentElement);)ct=ct.parentElement;ot.style(ct,"overscrollBehavior","contain")}else ot.style(lt.target,"touchAction","none")})}),et.addEventListener(_e,"touchmove",ot=>{if(i$4(ot.target)){if(l$2(ot.target))return;if(nt(ot.target)){let lt=ot.target;for(;lt.parentElement&&lt.dataset.headlessuiPortal!==""&&!(lt.scrollHeight>lt.clientHeight||lt.scrollWidth>lt.clientWidth);)lt=lt.parentElement;lt.dataset.headlessuiPortal===""&&ot.preventDefault()}else ot.preventDefault()}},{passive:!1}),et.add(()=>{var ot;let lt=(ot=window.scrollY)!=null?ot:window.pageYOffset;it!==lt&&window.scrollTo(0,it),at&&at.isConnected&&(at.scrollIntoView({block:"nearest"}),at=null)})})}}:{}}function r$1(){return{before({doc:_e,d:et}){et.style(_e.documentElement,"overflow","hidden")}}}function r(_e){let et={};for(let rt of _e)Object.assign(et,rt(et));return et}let c$4=a$4(()=>new Map,{PUSH(_e,et){var rt;let nt=(rt=this.get(_e))!=null?rt:{doc:_e,count:0,d:o$6(),meta:new Set,computedMeta:{}};return nt.count++,nt.meta.add(et),nt.computedMeta=r(nt.meta),this.set(_e,nt),this},POP(_e,et){let rt=this.get(_e);return rt&&(rt.count--,rt.meta.delete(et),rt.computedMeta=r(rt.meta)),this},SCROLL_PREVENT(_e){let et={doc:_e.doc,d:_e.d,meta(){return _e.computedMeta}},rt=[w$3(),d$1(),r$1()];rt.forEach(({before:nt})=>nt==null?void 0:nt(et)),rt.forEach(({after:nt})=>nt==null?void 0:nt(et))},SCROLL_ALLOW({d:_e}){_e.dispose()},TEARDOWN({doc:_e}){this.delete(_e)}});c$4.subscribe(()=>{let _e=c$4.getSnapshot(),et=new Map;for(let[rt]of _e)et.set(rt,rt.documentElement.style.overflow);for(let rt of _e.values()){let nt=et.get(rt.doc)==="hidden",st=rt.count!==0;(st&&!nt||!st&&nt)&&c$4.dispatch(rt.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",rt),rt.count===0&&c$4.dispatch("TEARDOWN",rt)}});function a$3(_e,et,rt=()=>({containers:[]})){let nt=o(c$4),st=et?nt.get(et):void 0,it=st?st.count>0:!1;return n$6(()=>{if(!(!et||!_e))return c$4.dispatch("PUSH",et,rt),()=>c$4.dispatch("POP",et,rt)},[_e,et]),it}function f$2(_e,et,rt=()=>[document.body]){let nt=I$3(_e,"scroll-lock");a$3(nt,et,st=>{var it;return{containers:[...(it=st.containers)!=null?it:[],rt]}})}function c$3(_e=0){let[et,rt]=reactExports.useState(_e),nt=reactExports.useCallback(lt=>rt(lt),[]),st=reactExports.useCallback(lt=>rt(ct=>ct|lt),[]),it=reactExports.useCallback(lt=>(et&lt)===lt,[et]),at=reactExports.useCallback(lt=>rt(ct=>ct&~lt),[]),ot=reactExports.useCallback(lt=>rt(ct=>ct^lt),[]);return{flags:et,setFlag:nt,addFlag:st,hasFlag:it,removeFlag:at,toggleFlag:ot}}var define_process_env_default={},T,S$2;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((T=process==null?void 0:define_process_env_default)==null?void 0:T.NODE_ENV)==="test"&&typeof((S$2=Element==null?void 0:Element.prototype)==null?void 0:S$2.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var A=(_e=>(_e[_e.None=0]="None",_e[_e.Closed=1]="Closed",_e[_e.Enter=2]="Enter",_e[_e.Leave=4]="Leave",_e))(A||{});function x$2(_e){let et={};for(let rt in _e)_e[rt]===!0&&(et[`data-${rt}`]="");return et}function N(_e,et,rt,nt){let[st,it]=reactExports.useState(rt),{hasFlag:at,addFlag:ot,removeFlag:lt}=c$3(_e&&st?3:0),ct=reactExports.useRef(!1),ut=reactExports.useRef(!1),dt=p$3();return n$6(()=>{var pt;if(_e){if(rt&&it(!0),!et){rt&&ot(3);return}return(pt=nt==null?void 0:nt.start)==null||pt.call(nt,rt),C(et,{inFlight:ct,prepare(){ut.current?ut.current=!1:ut.current=ct.current,ct.current=!0,!ut.current&&(rt?(ot(3),lt(4)):(ot(4),lt(2)))},run(){ut.current?rt?(lt(3),ot(4)):(lt(4),ot(3)):rt?lt(1):ot(1)},done(){var mt;ut.current&&D$1(et)||(ct.current=!1,lt(7),rt||it(!1),(mt=nt==null?void 0:nt.end)==null||mt.call(nt,rt))}})}},[_e,rt,et,dt]),_e?[st,{closed:at(1),enter:at(2),leave:at(4),transition:at(2)||at(4)}]:[rt,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function C(_e,{prepare:et,run:rt,done:nt,inFlight:st}){let it=o$6();return j$2(_e,{prepare:et,inFlight:st}),it.nextFrame(()=>{rt(),it.requestAnimationFrame(()=>{it.add(M$1(_e,nt))})}),it.dispose}function M$1(_e,et){var rt,nt;let st=o$6();if(!_e)return st.dispose;let it=!1;st.add(()=>{it=!0});let at=(nt=(rt=_e.getAnimations)==null?void 0:rt.call(_e).filter(ot=>ot instanceof CSSTransition))!=null?nt:[];return at.length===0?(et(),st.dispose):(Promise.allSettled(at.map(ot=>ot.finished)).then(()=>{it||et()}),st.dispose)}function j$2(_e,{inFlight:et,prepare:rt}){if(et!=null&&et.current){rt();return}let nt=_e.style.transition;_e.style.transition="none",rt(),_e.offsetHeight,_e.style.transition=nt}function D$1(_e){var et,rt;return((rt=(et=_e.getAnimations)==null?void 0:et.call(_e))!=null?rt:[]).some(nt=>nt instanceof CSSTransition&&nt.playState!=="finished")}function m$1(_e,et){let rt=reactExports.useRef([]),nt=o$5(_e);reactExports.useEffect(()=>{let st=[...rt.current];for(let[it,at]of et.entries())if(rt.current[it]!==at){let ot=nt(et,st);return rt.current=et,ot}},[nt,...et])}let n$1=reactExports.createContext(null);n$1.displayName="OpenClosedContext";var i=(_e=>(_e[_e.Open=1]="Open",_e[_e.Closed=2]="Closed",_e[_e.Closing=4]="Closing",_e[_e.Opening=8]="Opening",_e))(i||{});function u$1(){return reactExports.useContext(n$1)}function c$2({value:_e,children:et}){return React$3.createElement(n$1.Provider,{value:_e},et)}function s$1({children:_e}){return React$3.createElement(n$1.Provider,{value:null},_e)}function t(_e){function et(){document.readyState!=="loading"&&(_e(),document.removeEventListener("DOMContentLoaded",et))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",et),et())}let n=[];t(()=>{function _e(et){if(!i$4(et.target)||et.target===document.body||n[0]===et.target)return;let rt=et.target;rt=rt.closest(E$1),n.unshift(rt??et.target),n=n.filter(nt=>nt!=null&&nt.isConnected),n.splice(10)}window.addEventListener("click",_e,{capture:!0}),window.addEventListener("mousedown",_e,{capture:!0}),window.addEventListener("focus",_e,{capture:!0}),document.body.addEventListener("click",_e,{capture:!0}),document.body.addEventListener("mousedown",_e,{capture:!0}),document.body.addEventListener("focus",_e,{capture:!0})});function c$1(_e){let et=o$5(_e),rt=reactExports.useRef(!1);reactExports.useEffect(()=>(rt.current=!1,()=>{rt.current=!0,t$4(()=>{rt.current&&et()})}),[et])}let e=reactExports.createContext(!1);function a$2(){return reactExports.useContext(e)}function l$1(_e){return React$3.createElement(e.Provider,{value:_e.force},_e.children)}function W(_e){let et=a$2(),rt=reactExports.useContext(c),[nt,st]=reactExports.useState(()=>{var it;if(!et&&rt!==null)return(it=rt.current)!=null?it:null;if(s$6.isServer)return null;let at=_e==null?void 0:_e.getElementById("headlessui-portal-root");if(at)return at;if(_e===null)return null;let ot=_e.createElement("div");return ot.setAttribute("id","headlessui-portal-root"),_e.body.appendChild(ot)});return reactExports.useEffect(()=>{nt!==null&&(_e!=null&&_e.body.contains(nt)||_e==null||_e.body.appendChild(nt))},[nt,_e]),reactExports.useEffect(()=>{et||rt!==null&&st(rt.current)},[rt,st,et]),nt}let _=reactExports.Fragment,j$1=Y(function(_e,et){let{ownerDocument:rt=null,...nt}=_e,st=reactExports.useRef(null),it=y$2(T$3(pt=>{st.current=pt}),et),at=u$2(st.current),ot=rt??at,lt=W(ot),ct=reactExports.useContext(m),ut=p$3(),dt=K();return c$1(()=>{var pt;lt&&lt.childNodes.length<=0&&((pt=lt.parentElement)==null||pt.removeChild(lt))}),lt?reactDomExports.createPortal(React$3.createElement("div",{"data-headlessui-portal":"",ref:pt=>{ut.dispose(),ct&&pt&&ut.add(ct.register(pt))}},dt({ourProps:{ref:it},theirProps:nt,slot:{},defaultTag:_,name:"Portal"})),lt):null});function S$1(_e,et){let rt=y$2(et),{enabled:nt=!0,ownerDocument:st,...it}=_e,at=K();return nt?React$3.createElement(j$1,{...it,ownerDocument:st,ref:rt}):at({ourProps:{ref:rt},theirProps:it,slot:{},defaultTag:_,name:"Portal"})}let I$1=reactExports.Fragment,c=reactExports.createContext(null);function D(_e,et){let{target:rt,...nt}=_e,st={ref:y$2(et)},it=K();return React$3.createElement(c.Provider,{value:rt},it({ourProps:st,theirProps:nt,defaultTag:I$1,name:"Popover.Group"}))}let m=reactExports.createContext(null);function ee$1(){let _e=reactExports.useContext(m),et=reactExports.useRef([]),rt=o$5(it=>(et.current.push(it),_e&&_e.register(it),()=>nt(it))),nt=o$5(it=>{let at=et.current.indexOf(it);at!==-1&&et.current.splice(at,1),_e&&_e.unregister(it)}),st=reactExports.useMemo(()=>({register:rt,unregister:nt,portals:et}),[rt,nt,et]);return[et,reactExports.useMemo(()=>function({children:it}){return React$3.createElement(m.Provider,{value:st},it)},[st])]}let J=Y(S$1),X$1=Y(D),te$1=Object.assign(J,{Group:X$1});function a$1(_e,et=typeof document<"u"?document.defaultView:null,rt){let nt=I$3(_e,"escape");E(et,"keydown",st=>{nt&&(st.defaultPrevented||st.key===o$3.Escape&&rt(st))})}function f$1(){var _e;let[et]=reactExports.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[rt,nt]=reactExports.useState((_e=et==null?void 0:et.matches)!=null?_e:!1);return n$6(()=>{if(!et)return;function st(it){nt(it.matches)}return et.addEventListener("change",st),()=>et.removeEventListener("change",st)},[et]),rt}function S({defaultContainers:_e=[],portals:et,mainTreeNode:rt}={}){let nt=o$5(()=>{var st,it;let at=l$4(rt),ot=[];for(let lt of _e)lt!==null&&(t$2(lt)?ot.push(lt):"current"in lt&&t$2(lt.current)&&ot.push(lt.current));if(et!=null&&et.current)for(let lt of et.current)ot.push(lt);for(let lt of(st=at==null?void 0:at.querySelectorAll("html > *, body > *"))!=null?st:[])lt!==document.body&&lt!==document.head&&t$2(lt)&&lt.id!=="headlessui-portal-root"&&(rt&&(lt.contains(rt)||lt.contains((it=rt==null?void 0:rt.getRootNode())==null?void 0:it.host))||ot.some(ct=>lt.contains(ct))||ot.push(lt));return ot});return{resolveContainers:nt,contains:o$5(st=>nt().some(it=>it.contains(st)))}}let d=reactExports.createContext(null);function j({children:_e,node:et}){let[rt,nt]=reactExports.useState(null),st=x$1(et??rt);return React$3.createElement(d.Provider,{value:st},_e,st===null&&React$3.createElement(f$6,{features:s$4.Hidden,ref:it=>{var at,ot;if(it){for(let lt of(ot=(at=l$4(it))==null?void 0:at.querySelectorAll("html > *, body > *"))!=null?ot:[])if(lt!==document.body&&lt!==document.head&&t$2(lt)&&lt!=null&&lt.contains(it)){nt(lt);break}}}}))}function x$1(_e=null){var et;return(et=reactExports.useContext(d))!=null?et:_e}function s(){let _e=typeof document>"u";return"useSyncExternalStore"in t$7?(et=>et.useSyncExternalStore)(t$7)(()=>()=>{},()=>!1,()=>!_e):!1}function l(){let _e=s(),[et,rt]=reactExports.useState(s$6.isHandoffComplete);return et&&s$6.isHandoffComplete===!1&&rt(!1),reactExports.useEffect(()=>{et!==!0&&rt(!0)},[et]),reactExports.useEffect(()=>s$6.handoff(),[]),_e?!1:et}function f(){let _e=reactExports.useRef(!1);return n$6(()=>(_e.current=!0,()=>{_e.current=!1}),[]),_e}var a=(_e=>(_e[_e.Forwards=0]="Forwards",_e[_e.Backwards=1]="Backwards",_e))(a||{});function u(){let _e=reactExports.useRef(0);return s$2(!0,"keydown",et=>{et.key==="Tab"&&(_e.current=et.shiftKey?1:0)},!0),_e}function x(_e){if(!_e)return new Set;if(typeof _e=="function")return new Set(_e());let et=new Set;for(let rt of _e.current)t$2(rt.current)&&et.add(rt.current);return et}let $="div";var G=(_e=>(_e[_e.None=0]="None",_e[_e.InitialFocus=1]="InitialFocus",_e[_e.TabLock=2]="TabLock",_e[_e.FocusLock=4]="FocusLock",_e[_e.RestoreFocus=8]="RestoreFocus",_e[_e.AutoFocus=16]="AutoFocus",_e))(G||{});function w$2(_e,et){let rt=reactExports.useRef(null),nt=y$2(rt,et),{initialFocus:st,initialFocusFallback:it,containers:at,features:ot=15,...lt}=_e;l()||(ot=0);let ct=u$2(rt.current);re(ot,{ownerDocument:ct});let ut=ne(ot,{ownerDocument:ct,container:rt,initialFocus:st,initialFocusFallback:it});oe(ot,{ownerDocument:ct,container:rt,containers:at,previousActiveElement:ut});let dt=u(),pt=o$5(Et=>{if(!n$4(rt.current))return;let jt=rt.current;(kt=>kt())(()=>{u$7(dt.current,{[a.Forwards]:()=>{v(jt,T$1.First,{skipElements:[Et.relatedTarget,it]})},[a.Backwards]:()=>{v(jt,T$1.Last,{skipElements:[Et.relatedTarget,it]})}})})}),mt=I$3(!!(ot&2),"focus-trap#tab-lock"),xt=p$3(),yt=reactExports.useRef(!1),vt={ref:nt,onKeyDown(Et){Et.key=="Tab"&&(yt.current=!0,xt.requestAnimationFrame(()=>{yt.current=!1}))},onBlur(Et){if(!(ot&4))return;let jt=x(at);n$4(rt.current)&&jt.add(rt.current);let kt=Et.relatedTarget;i$4(kt)&&kt.dataset.headlessuiFocusGuard!=="true"&&(I(jt,kt)||(yt.current?v(rt.current,u$7(dt.current,{[a.Forwards]:()=>T$1.Next,[a.Backwards]:()=>T$1.Previous})|T$1.WrapAround,{relativeTo:Et.target}):i$4(Et.target)&&w$4(Et.target)))}},gt=K();return React$3.createElement(React$3.Fragment,null,mt&&React$3.createElement(f$6,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:pt,features:s$4.Focusable}),gt({ourProps:vt,theirProps:lt,defaultTag:$,name:"FocusTrap"}),mt&&React$3.createElement(f$6,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:pt,features:s$4.Focusable}))}let ee=Y(w$2),ge=Object.assign(ee,{features:G});function te(_e=!0){let et=reactExports.useRef(n.slice());return m$1(([rt],[nt])=>{nt===!0&&rt===!1&&t$4(()=>{et.current.splice(0)}),nt===!1&&rt===!0&&(et.current=n.slice())},[_e,n,et]),o$5(()=>{var rt;return(rt=et.current.find(nt=>nt!=null&&nt.isConnected))!=null?rt:null})}function re(_e,{ownerDocument:et}){let rt=!!(_e&8),nt=te(rt);m$1(()=>{rt||d$2(et==null?void 0:et.body)&&w$4(nt())},[rt]),c$1(()=>{rt&&w$4(nt())})}function ne(_e,{ownerDocument:et,container:rt,initialFocus:nt,initialFocusFallback:st}){let it=reactExports.useRef(null),at=I$3(!!(_e&1),"focus-trap#initial-focus"),ot=f();return m$1(()=>{if(_e===0)return;if(!at){st!=null&&st.current&&w$4(st.current);return}let lt=rt.current;lt&&t$4(()=>{if(!ot.current)return;let ct=et==null?void 0:et.activeElement;if(nt!=null&&nt.current){if((nt==null?void 0:nt.current)===ct){it.current=ct;return}}else if(lt.contains(ct)){it.current=ct;return}if(nt!=null&&nt.current)w$4(nt.current);else{if(_e&16){if(v(lt,T$1.First|T$1.AutoFocus)!==A$1.Error)return}else if(v(lt,T$1.First)!==A$1.Error)return;if(st!=null&&st.current&&(w$4(st.current),(et==null?void 0:et.activeElement)===st.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}it.current=et==null?void 0:et.activeElement})},[st,at,_e]),it}function oe(_e,{ownerDocument:et,container:rt,containers:nt,previousActiveElement:st}){let it=f(),at=!!(_e&4);E(et==null?void 0:et.defaultView,"focus",ot=>{if(!at||!it.current)return;let lt=x(nt);n$4(rt.current)&&lt.add(rt.current);let ct=st.current;if(!ct)return;let ut=ot.target;n$4(ut)?I(lt,ut)?(st.current=ut,w$4(ut)):(ot.preventDefault(),ot.stopPropagation(),w$4(ct)):w$4(st.current)},!0)}function I(_e,et){for(let rt of _e)if(rt.contains(et))return!0;return!1}function ue(_e){var et;return!!(_e.enter||_e.enterFrom||_e.enterTo||_e.leave||_e.leaveFrom||_e.leaveTo)||!b$1((et=_e.as)!=null?et:de)||React$3.Children.count(_e.children)===1}let V=reactExports.createContext(null);V.displayName="TransitionContext";var De=(_e=>(_e.Visible="visible",_e.Hidden="hidden",_e))(De||{});function He$1(){let _e=reactExports.useContext(V);if(_e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return _e}function Ae(){let _e=reactExports.useContext(w$1);if(_e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return _e}let w$1=reactExports.createContext(null);w$1.displayName="NestingContext";function M(_e){return"children"in _e?M(_e.children):_e.current.filter(({el:et})=>et.current!==null).filter(({state:et})=>et==="visible").length>0}function Te(_e,et){let rt=s$5(_e),nt=reactExports.useRef([]),st=f(),it=p$3(),at=o$5((mt,xt=C$4.Hidden)=>{let yt=nt.current.findIndex(({el:vt})=>vt===mt);yt!==-1&&(u$7(xt,{[C$4.Unmount](){nt.current.splice(yt,1)},[C$4.Hidden](){nt.current[yt].state="hidden"}}),it.microTask(()=>{var vt;!M(nt)&&st.current&&((vt=rt.current)==null||vt.call(rt))}))}),ot=o$5(mt=>{let xt=nt.current.find(({el:yt})=>yt===mt);return xt?xt.state!=="visible"&&(xt.state="visible"):nt.current.push({el:mt,state:"visible"}),()=>at(mt,C$4.Unmount)}),lt=reactExports.useRef([]),ct=reactExports.useRef(Promise.resolve()),ut=reactExports.useRef({enter:[],leave:[]}),dt=o$5((mt,xt,yt)=>{lt.current.splice(0),et&&(et.chains.current[xt]=et.chains.current[xt].filter(([vt])=>vt!==mt)),et==null||et.chains.current[xt].push([mt,new Promise(vt=>{lt.current.push(vt)})]),et==null||et.chains.current[xt].push([mt,new Promise(vt=>{Promise.all(ut.current[xt].map(([gt,Et])=>Et)).then(()=>vt())})]),xt==="enter"?ct.current=ct.current.then(()=>et==null?void 0:et.wait.current).then(()=>yt(xt)):yt(xt)}),pt=o$5((mt,xt,yt)=>{Promise.all(ut.current[xt].splice(0).map(([vt,gt])=>gt)).then(()=>{var vt;(vt=lt.current.shift())==null||vt()}).then(()=>yt(xt))});return reactExports.useMemo(()=>({children:nt,register:ot,unregister:at,onStart:dt,onStop:pt,wait:ct,chains:ut}),[ot,at,nt,dt,pt,ut,ct])}let de=reactExports.Fragment,fe=A$2.RenderStrategy;function Fe(_e,et){var rt,nt;let{transition:st=!0,beforeEnter:it,afterEnter:at,beforeLeave:ot,afterLeave:lt,enter:ct,enterFrom:ut,enterTo:dt,entered:pt,leave:mt,leaveFrom:xt,leaveTo:yt,...vt}=_e,[gt,Et]=reactExports.useState(null),jt=reactExports.useRef(null),kt=ue(_e),Rt=y$2(...kt?[jt,et,Et]:et===null?[]:[et]),St=(rt=vt.unmount)==null||rt?C$4.Unmount:C$4.Hidden,{show:_t,appear:Nt,initial:Lt}=He$1(),[$t,Ft]=reactExports.useState(_t?"visible":"hidden"),Tt=Ae(),{register:Bt,unregister:Wt}=Tt;n$6(()=>Bt(jt),[Bt,jt]),n$6(()=>{if(St===C$4.Hidden&&jt.current){if(_t&&$t!=="visible"){Ft("visible");return}return u$7($t,{hidden:()=>Wt(jt),visible:()=>Bt(jt)})}},[$t,jt,Bt,Wt,_t,St]);let qt=l();n$6(()=>{if(kt&&qt&&$t==="visible"&&jt.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[jt,$t,qt,kt]);let Ot=Lt&&!Nt,Dt=Nt&&_t&&Lt,Pt=reactExports.useRef(!1),It=Te(()=>{Pt.current||(Ft("hidden"),Wt(jt))},Tt),At=o$5(mr=>{Pt.current=!0;let Er=mr?"enter":"leave";It.onStart(jt,Er,or=>{or==="enter"?it==null||it():or==="leave"&&(ot==null||ot())})}),Ht=o$5(mr=>{let Er=mr?"enter":"leave";Pt.current=!1,It.onStop(jt,Er,or=>{or==="enter"?at==null||at():or==="leave"&&(lt==null||lt())}),Er==="leave"&&!M(It)&&(Ft("hidden"),Wt(jt))});reactExports.useEffect(()=>{kt&&st||(At(_t),Ht(_t))},[_t,kt,st]);let Gt=!(!st||!kt||!qt||Ot),[,Vt]=N(Gt,gt,_t,{start:At,end:Ht}),Jt=m$3({ref:Rt,className:((nt=t$3(vt.className,Dt&&ct,Dt&&ut,Vt.enter&&ct,Vt.enter&&Vt.closed&&ut,Vt.enter&&!Vt.closed&&dt,Vt.leave&&mt,Vt.leave&&!Vt.closed&&xt,Vt.leave&&Vt.closed&&yt,!Vt.transition&&_t&&pt))==null?void 0:nt.trim())||void 0,...x$2(Vt)}),rr=0;$t==="visible"&&(rr|=i.Open),$t==="hidden"&&(rr|=i.Closed),_t&&$t==="hidden"&&(rr|=i.Opening),!_t&&$t==="visible"&&(rr|=i.Closing);let ar=K();return React$3.createElement(w$1.Provider,{value:It},React$3.createElement(c$2,{value:rr},ar({ourProps:Jt,theirProps:vt,defaultTag:de,features:fe,visible:$t==="visible",name:"Transition.Child"})))}function Ie(_e,et){let{show:rt,appear:nt=!1,unmount:st=!0,...it}=_e,at=reactExports.useRef(null),ot=ue(_e),lt=y$2(...ot?[at,et]:et===null?[]:[et]);l();let ct=u$1();if(rt===void 0&&ct!==null&&(rt=(ct&i.Open)===i.Open),rt===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[ut,dt]=reactExports.useState(rt?"visible":"hidden"),pt=Te(()=>{rt||dt("hidden")}),[mt,xt]=reactExports.useState(!0),yt=reactExports.useRef([rt]);n$6(()=>{mt!==!1&&yt.current[yt.current.length-1]!==rt&&(yt.current.push(rt),xt(!1))},[yt,rt]);let vt=reactExports.useMemo(()=>({show:rt,appear:nt,initial:mt}),[rt,nt,mt]);n$6(()=>{rt?dt("visible"):!M(pt)&&at.current!==null&&dt("hidden")},[rt,pt]);let gt={unmount:st},Et=o$5(()=>{var Rt;mt&&xt(!1),(Rt=_e.beforeEnter)==null||Rt.call(_e)}),jt=o$5(()=>{var Rt;mt&&xt(!1),(Rt=_e.beforeLeave)==null||Rt.call(_e)}),kt=K();return React$3.createElement(w$1.Provider,{value:pt},React$3.createElement(V.Provider,{value:vt},kt({ourProps:{...gt,as:reactExports.Fragment,children:React$3.createElement(me,{ref:lt,...gt,...it,beforeEnter:Et,beforeLeave:jt})},theirProps:{},defaultTag:reactExports.Fragment,features:fe,visible:ut==="visible",name:"Transition"})))}function Le(_e,et){let rt=reactExports.useContext(V)!==null,nt=u$1()!==null;return React$3.createElement(React$3.Fragment,null,!rt&&nt?React$3.createElement(X,{ref:et,..._e}):React$3.createElement(me,{ref:et,..._e}))}let X=Y(Ie),me=Y(Fe),Oe=Y(Le),Ke$1=Object.assign(X,{Child:Oe,Root:X});var we=(_e=>(_e[_e.Open=0]="Open",_e[_e.Closed=1]="Closed",_e))(we||{}),Be=(_e=>(_e[_e.SetTitleId=0]="SetTitleId",_e))(Be||{});let Ue={0(_e,et){return _e.titleId===et.id?_e:{..._e,titleId:et.id}}},w=reactExports.createContext(null);w.displayName="DialogContext";function O(_e){let et=reactExports.useContext(w);if(et===null){let rt=new Error(`<${_e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(rt,O),rt}return et}function He(_e,et){return u$7(et.type,Ue,_e,et)}let z=Y(function(_e,et){let rt=reactExports.useId(),{id:nt=`headlessui-dialog-${rt}`,open:st,onClose:it,initialFocus:at,role:ot="dialog",autoFocus:lt=!0,__demoMode:ct=!1,unmount:ut=!1,...dt}=_e,pt=reactExports.useRef(!1);ot=function(){return ot==="dialog"||ot==="alertdialog"?ot:(pt.current||(pt.current=!0,console.warn(`Invalid role [${ot}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let mt=u$1();st===void 0&&mt!==null&&(st=(mt&i.Open)===i.Open);let xt=reactExports.useRef(null),yt=y$2(xt,et),vt=u$2(xt.current),gt=st?0:1,[Et,jt]=reactExports.useReducer(He,{titleId:null,descriptionId:null,panelRef:reactExports.createRef()}),kt=o$5(()=>it(!1)),Rt=o$5(Vt=>jt({type:0,id:Vt})),St=l()?gt===0:!1,[_t,Nt]=ee$1(),Lt={get current(){var Vt;return(Vt=Et.panelRef.current)!=null?Vt:xt.current}},$t=x$1(),{resolveContainers:Ft}=S({mainTreeNode:$t,portals:_t,defaultContainers:[Lt]}),Tt=mt!==null?(mt&i.Closing)===i.Closing:!1;y(ct||Tt?!1:St,{allowed:o$5(()=>{var Vt,Jt;return[(Jt=(Vt=xt.current)==null?void 0:Vt.closest("[data-headlessui-portal]"))!=null?Jt:null]}),disallowed:o$5(()=>{var Vt;return[(Vt=$t==null?void 0:$t.closest("body > *:not(#headlessui-portal-root)"))!=null?Vt:null]})});let Bt=x$4.get(null);n$6(()=>{if(St)return Bt.actions.push(nt),()=>Bt.actions.pop(nt)},[Bt,nt,St]);let Wt=S$4(Bt,reactExports.useCallback(Vt=>Bt.selectors.isTop(Vt,nt),[Bt,nt]));k(Wt,Ft,Vt=>{Vt.preventDefault(),kt()}),a$1(Wt,vt==null?void 0:vt.defaultView,Vt=>{Vt.preventDefault(),Vt.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),kt()}),f$2(ct||Tt?!1:St,vt,Ft),p(St,xt,kt);let[qt,Ot]=H$1(),Dt=reactExports.useMemo(()=>[{dialogState:gt,close:kt,setTitleId:Rt,unmount:ut},Et],[gt,kt,Rt,ut,Et]),Pt=n$5({open:gt===0}),It={ref:yt,id:nt,role:ot,tabIndex:-1,"aria-modal":ct?void 0:gt===0?!0:void 0,"aria-labelledby":Et.titleId,"aria-describedby":qt,unmount:ut},At=!f$1(),Ht=G.None;St&&!ct&&(Ht|=G.RestoreFocus,Ht|=G.TabLock,lt&&(Ht|=G.AutoFocus),At&&(Ht|=G.InitialFocus));let Gt=K();return React$3.createElement(s$1,null,React$3.createElement(l$1,{force:!0},React$3.createElement(te$1,null,React$3.createElement(w.Provider,{value:Dt},React$3.createElement(X$1,{target:xt},React$3.createElement(l$1,{force:!1},React$3.createElement(Ot,{slot:Pt},React$3.createElement(Nt,null,React$3.createElement(ge,{initialFocus:at,initialFocusFallback:xt,containers:Ft,features:Ht},React$3.createElement(C$2,{value:kt},Gt({ourProps:It,theirProps:dt,slot:Pt,defaultTag:Ne,features:We,visible:gt===0,name:"Dialog"})))))))))))}),Ne="div",We=A$2.RenderStrategy|A$2.Static;function $e(_e,et){let{transition:rt=!1,open:nt,...st}=_e,it=u$1(),at=_e.hasOwnProperty("open")||it!==null,ot=_e.hasOwnProperty("onClose");if(!at&&!ot)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!at)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!ot)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!it&&typeof _e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${_e.open}`);if(typeof _e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${_e.onClose}`);return(nt!==void 0||rt)&&!st.static?React$3.createElement(j,null,React$3.createElement(Ke$1,{show:nt,transition:rt,unmount:st.unmount},React$3.createElement(z,{ref:et,...st}))):React$3.createElement(j,null,React$3.createElement(z,{ref:et,open:nt,...st}))}let je="div";function Ye(_e,et){let rt=reactExports.useId(),{id:nt=`headlessui-dialog-panel-${rt}`,transition:st=!1,...it}=_e,[{dialogState:at,unmount:ot},lt]=O("Dialog.Panel"),ct=y$2(et,lt.panelRef),ut=n$5({open:at===0}),dt=o$5(vt=>{vt.stopPropagation()}),pt={ref:ct,id:nt,onClick:dt},mt=st?Oe:reactExports.Fragment,xt=st?{unmount:ot}:{},yt=K();return React$3.createElement(mt,{...xt},yt({ourProps:pt,theirProps:it,slot:ut,defaultTag:je,name:"Dialog.Panel"}))}let Je="div";function Ke(_e,et){let{transition:rt=!1,...nt}=_e,[{dialogState:st,unmount:it}]=O("Dialog.Backdrop"),at=n$5({open:st===0}),ot={ref:et,"aria-hidden":!0},lt=rt?Oe:reactExports.Fragment,ct=rt?{unmount:it}:{},ut=K();return React$3.createElement(lt,{...ct},ut({ourProps:ot,theirProps:nt,slot:at,defaultTag:Je,name:"Dialog.Backdrop"}))}let Xe="h2";function Ve(_e,et){let rt=reactExports.useId(),{id:nt=`headlessui-dialog-title-${rt}`,...st}=_e,[{dialogState:it,setTitleId:at}]=O("Dialog.Title"),ot=y$2(et);reactExports.useEffect(()=>(at(nt),()=>at(null)),[nt,at]);let lt=n$5({open:it===0}),ct={ref:ot,id:nt};return K()({ourProps:ct,theirProps:st,slot:lt,defaultTag:Xe,name:"Dialog.Title"})}let qe=Y($e),ze=Y(Ye);Y(Ke);let Qe=Y(Ve),ht=Object.assign(qe,{Panel:ze,Title:Qe,Description:M$2});function CustomerModal({isOpen:_e,onClose:et,onSuccess:rt,customer:nt}){const[st,it]=reactExports.useState(!1),[at,ot]=reactExports.useState(!1),[lt,ct]=reactExports.useState({full_name:"",email:"",phone:"",password:"",role:"customer",status:"active",address_line1:"",address_line2:"",city:"",province:""}),[ut,dt]=reactExports.useState([]);reactExports.useEffect(()=>{(async()=>{if(nt&&_e){ot(!0);try{const xt=await adminAPI.getUserById(nt.id);if(xt.data.success){const yt=xt.data.data;ct({full_name:yt.full_name||"",email:yt.email||"",phone:yt.phone||"",password:"",role:yt.role||"customer",status:yt.status||"active",address_line1:yt.address_line1||"",address_line2:yt.address_line2||"",city:yt.city||"",province:yt.province||""}),dt(yt.shipping_addresses||[])}}catch(xt){console.error("Failed to fetch customer details:",xt),ct({full_name:nt.full_name||"",email:nt.email||"",phone:nt.phone||"",password:"",role:nt.role||"customer",status:nt.status||"active",address_line1:nt.address_line1||"",address_line2:nt.address_line2||"",city:nt.city||"",province:nt.province||""}),dt(nt.shipping_addresses||[])}finally{ot(!1)}}else!nt&&_e&&(ct({full_name:"",email:"",phone:"",password:"",role:"customer",status:"active",address_line1:"",address_line2:"",city:"",province:""}),dt([]))})()},[nt,_e]);const pt=async mt=>{var yt,vt,gt;if(mt.preventDefault(),!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(lt.email)){zt.error("Email khng ng nh dng");return}if(lt.phone&&!/^0[0-9]{9,10}$/.test(lt.phone)){zt.error("S in thoi khng hp l (VD: 0901234567)");return}it(!0);try{if(nt)await adminAPI.updateUser(nt.id,{full_name:lt.full_name,email:lt.email,phone:lt.phone,role:lt.role,status:lt.status,address_line1:lt.address_line1,address_line2:lt.address_line2,city:lt.city,province:lt.province}),zt.success("Cp nht khch hng thnh cng");else{if(!lt.password){zt.error("Vui lng nhp mt khu"),it(!1);return}await adminAPI.createUser(lt),zt.success("To khch hng thnh cng")}rt(),et()}catch(Et){console.error(Et),zt.error(((gt=(vt=(yt=Et.response)==null?void 0:yt.data)==null?void 0:vt.error)==null?void 0:gt.message)||"C li xy ra")}finally{it(!1)}};return jsxRuntimeExports.jsx(Ke$1.Root,{show:_e,as:reactExports.Fragment,children:jsxRuntimeExports.jsxs(ht,{as:"div",className:"relative z-50",onClose:et,children:[jsxRuntimeExports.jsx(Ke$1.Child,{as:reactExports.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-10 overflow-y-auto",children:jsxRuntimeExports.jsx("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:jsxRuntimeExports.jsx(Ke$1.Child,{as:reactExports.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:jsxRuntimeExports.jsxs(ht.Panel,{className:"relative transform overflow-hidden rounded-lg bg-white px-4 pb-4 pt-5 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:p-6",children:[jsxRuntimeExports.jsx("div",{className:"absolute right-0 top-0 hidden pr-4 pt-4 sm:block",children:jsxRuntimeExports.jsxs("button",{type:"button",className:"rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none",onClick:et,children:[jsxRuntimeExports.jsx("span",{className:"sr-only",children:"Close"}),jsxRuntimeExports.jsx(X$2,{className:"h-6 w-6","aria-hidden":"true"})]})}),jsxRuntimeExports.jsx("div",{className:"sm:flex sm:items-start",children:jsxRuntimeExports.jsxs("div",{className:"mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left w-full",children:[jsxRuntimeExports.jsx(ht.Title,{as:"h3",className:"text-lg font-semibold leading-6 text-gray-900",children:nt?"Chnh sa khch hng":"Thm khch hng mi"}),jsxRuntimeExports.jsxs("form",{onSubmit:pt,className:"mt-6 space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"H v tn"}),jsxRuntimeExports.jsx("input",{type:"text",value:lt.full_name,onChange:mt=>ct({...lt,full_name:mt.target.value}),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-primary-500 focus:outline-none focus:ring-primary-500 sm:text-sm",required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),jsxRuntimeExports.jsx("input",{type:"email",value:lt.email,onChange:mt=>ct({...lt,email:mt.target.value}),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-primary-500 focus:outline-none focus:ring-primary-500 sm:text-sm",required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"S in thoi"}),jsxRuntimeExports.jsx("input",{type:"tel",value:lt.phone,onChange:mt=>ct({...lt,phone:mt.target.value}),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-primary-500 focus:outline-none focus:ring-primary-500 sm:text-sm"})]}),!nt&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Mt khu"}),jsxRuntimeExports.jsx("input",{type:"password",value:lt.password,onChange:mt=>ct({...lt,password:mt.target.value}),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-primary-500 focus:outline-none focus:ring-primary-500 sm:text-sm",required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Trng thi"}),jsxRuntimeExports.jsxs("select",{value:lt.status,onChange:mt=>ct({...lt,status:mt.target.value}),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-primary-500 focus:outline-none focus:ring-primary-500 sm:text-sm",children:[jsxRuntimeExports.jsx("option",{value:"active",children:"Hot ng"}),jsxRuntimeExports.jsx("option",{value:"blocked",children:" chn"})]})]}),ut.length===0&&jsxRuntimeExports.jsxs("div",{className:"border-t pt-4 mt-4",children:[jsxRuntimeExports.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"a ch (Khch vng lai)"}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs text-gray-500",children:"a ch 1"}),jsxRuntimeExports.jsx("input",{type:"text",value:lt.address_line1,onChange:mt=>ct({...lt,address_line1:mt.target.value}),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-primary-500 focus:outline-none focus:ring-primary-500 sm:text-sm",placeholder:"S nh, ng"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs text-gray-500",children:"a ch 2 (ty chn)"}),jsxRuntimeExports.jsx("input",{type:"text",value:lt.address_line2,onChange:mt=>ct({...lt,address_line2:mt.target.value}),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-primary-500 focus:outline-none focus:ring-primary-500 sm:text-sm",placeholder:"Phng/X"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs text-gray-500",children:"Qun/Huyn"}),jsxRuntimeExports.jsx("input",{type:"text",value:lt.city,onChange:mt=>ct({...lt,city:mt.target.value}),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-primary-500 focus:outline-none focus:ring-primary-500 sm:text-sm"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs text-gray-500",children:"Tnh/Thnh ph"}),jsxRuntimeExports.jsx("input",{type:"text",value:lt.province,onChange:mt=>ct({...lt,province:mt.target.value}),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-primary-500 focus:outline-none focus:ring-primary-500 sm:text-sm"})]})]})]})]}),ut.length>0&&jsxRuntimeExports.jsxs("div",{className:"border-t pt-4 mt-4",children:[jsxRuntimeExports.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-3 flex items-center gap-2",children:[jsxRuntimeExports.jsx(MapPin,{className:"w-4 h-4"}),"S a ch khc (",ut.length,")"]}),jsxRuntimeExports.jsx("div",{className:"space-y-3 max-h-40 overflow-y-auto pr-1",children:ut.map((mt,xt)=>jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 p-3 rounded-md text-xs border border-gray-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between font-medium text-gray-900 mb-1",children:[jsxRuntimeExports.jsx("span",{children:mt.full_name}),jsxRuntimeExports.jsx("span",{className:"text-gray-500",children:mt.phone})]}),jsxRuntimeExports.jsxs("p",{className:"text-gray-600",children:[mt.address_line1,", ",mt.city,", ",mt.province]})]},xt))})]}),jsxRuntimeExports.jsxs("div",{className:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse",children:[jsxRuntimeExports.jsx("button",{type:"submit",disabled:st,className:"inline-flex w-full justify-center rounded-md bg-primary-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-primary-500 sm:ml-3 sm:w-auto disabled:opacity-50",children:st?jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin"}):nt?"Cp nht":"To mi"}),jsxRuntimeExports.jsx("button",{type:"button",className:"mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-auto",onClick:et,children:"Hy"})]})]})]})})]})})})})]})})}function CustomerListPage(){const _e=useNavigate(),[et,rt]=reactExports.useState(!0),[nt,st]=reactExports.useState([]),[it,at]=reactExports.useState({total:0,active:0,new_this_week:0}),[ot,lt]=reactExports.useState(""),[ct,ut]=reactExports.useState(1),[dt,pt]=reactExports.useState(1),[mt,xt]=reactExports.useState(!1),[yt,vt]=reactExports.useState(null),[gt,Et]=reactExports.useState({isOpen:!1,title:"",message:"",confirmText:"Xc nhn",isDestructive:!1,onConfirm:()=>{}}),jt=async()=>{try{rt(!0);const Nt=await adminAPI.getUsers({page:ct,limit:10,search:ot||void 0,role:"customer"});st(Nt.data.data.users),pt(Nt.data.data.pagination.totalPages),Nt.data.data.stats&&at(Nt.data.data.stats)}catch(Nt){console.error("Failed to fetch customers:",Nt)}finally{rt(!1)}};reactExports.useEffect(()=>{jt()},[ct,ot]);const kt=Nt=>{vt(Nt),xt(!0)},Rt=()=>{vt(null),xt(!0)},St=Nt=>{const Lt=Nt.status==="active";Et({isOpen:!0,title:Lt?"Kha ti khon?":"M kha ti khon?",message:`Bn c chc chn mun ${Lt?"kha":"m kha"} khch hng "${Nt.full_name||Nt.username}"? ${Lt?"Khch hng s khng th ng nhp.":""}`,confirmText:Lt?"Kha ti khon":"M kha",isDestructive:Lt,onConfirm:async()=>{var Ft,Tt,Bt;try{const Wt=Nt.status==="active"?"blocked":"active";await adminAPI.updateUser(Nt.id,{status:Wt}),zt.success(Wt==="active"?" m kha ti khon":" kha ti khon"),jt()}catch(Wt){console.error(Wt),zt.error(((Bt=(Tt=(Ft=Wt.response)==null?void 0:Ft.data)==null?void 0:Tt.error)==null?void 0:Bt.message)||"C li xy ra")}}})},_t=Nt=>{_e(`/admin/customers/${Nt.id}`)};return jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto pb-12",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-8",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Qun l khch hng"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 dark:text-secondary-400 mt-1",children:"Qun l v xem tt c ngi dng  ng k."})]}),jsxRuntimeExports.jsxs("button",{onClick:Rt,className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:"Thm khch hng"})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-secondary-800 p-6 rounded-xl border border-gray-200 dark:border-secondary-700 shadow-sm transition-colors",children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-secondary-400",children:"Tng khch hng"}),jsxRuntimeExports.jsxs("div",{className:"flex items-end justify-between mt-2",children:[jsxRuntimeExports.jsx("span",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:it.total}),jsxRuntimeExports.jsx("span",{className:"text-xs font-medium text-green-600 dark:text-green-400 bg-green-50 dark:bg-green-900/30 px-2 py-1 rounded-full",children:"+5%"})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-secondary-800 p-6 rounded-xl border border-gray-200 dark:border-secondary-700 shadow-sm transition-colors",children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-secondary-400",children:"ang hot ng"}),jsxRuntimeExports.jsxs("div",{className:"flex items-end justify-between mt-2",children:[jsxRuntimeExports.jsx("span",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:it.active}),jsxRuntimeExports.jsx("div",{className:"flex -space-x-2",children:[1,2,3].map(Nt=>jsxRuntimeExports.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-200 dark:bg-secondary-600 border-2 border-white dark:border-secondary-800"},Nt))})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-secondary-800 p-6 rounded-xl border border-gray-200 dark:border-secondary-700 shadow-sm transition-colors",children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-secondary-400",children:"Mi tun ny"}),jsxRuntimeExports.jsxs("div",{className:"flex items-end justify-between mt-2",children:[jsxRuntimeExports.jsx("span",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:it.new_this_week}),jsxRuntimeExports.jsx("span",{className:"text-xs font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/30 px-2 py-1 rounded-full",children:"+2%"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-secondary-800 p-4 rounded-xl border border-gray-200 dark:border-secondary-700 shadow-sm mb-6 flex flex-col sm:flex-row gap-4 justify-between transition-colors",children:[jsxRuntimeExports.jsxs("div",{className:"relative flex-1 max-w-md",children:[jsxRuntimeExports.jsx(Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 dark:text-secondary-500"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Tm kim theo tn, email hoc s in thoi...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-secondary-600 bg-white dark:bg-secondary-900 text-gray-900 dark:text-white rounded-lg focus:ring-primary-500 focus:border-primary-500 transition-colors",value:ot,onChange:Nt=>lt(Nt.target.value)})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-3",children:jsxRuntimeExports.jsxs("button",{onClick:()=>window.open(`/api/admin/export/customers?search=${ot}&role=customer`,"_blank"),className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-secondary-900 border border-gray-300 dark:border-secondary-600 rounded-lg hover:bg-gray-50 dark:hover:bg-secondary-700 text-gray-700 dark:text-secondary-300 transition-colors",children:[jsxRuntimeExports.jsx(Download,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:"Xut file"})]})})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-secondary-800 border border-gray-200 dark:border-secondary-700 rounded-xl shadow-sm overflow-hidden transition-colors",children:[jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"w-full text-left text-sm",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-50 dark:bg-secondary-700/50 border-b border-gray-200 dark:border-secondary-700 text-gray-500 dark:text-secondary-400 font-medium",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-6 py-4",children:"Khch hng"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-4",children:"S in thoi"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-4",children:"n hng"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-4",children:"Tng chi tiu"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-4",children:"Trng thi"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-4 text-right",children:"Hnh ng"})]})}),jsxRuntimeExports.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-secondary-700",children:et?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:6,className:"px-6 py-12 text-center",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"w-8 h-8 animate-spin mx-auto text-primary-600"})})}):nt.length===0?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-gray-500 dark:text-secondary-400",children:"Khng tm thy khch hng no."})}):nt.map(Nt=>{var Lt,$t;return jsxRuntimeExports.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-secondary-700/50 transition-colors",children:[jsxRuntimeExports.jsx("td",{className:"px-6 py-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-full bg-primary-100 dark:bg-primary-900/30 flex items-center justify-center text-primary-600 dark:text-primary-400 font-bold overflow-hidden",children:Nt.avatar_url?jsxRuntimeExports.jsx("img",{src:Nt.avatar_url,alt:Nt.full_name||"User",className:"w-full h-full object-cover",onError:Ft=>{var Tt,Bt;Ft.currentTarget.style.display="none",Ft.currentTarget.parentElement.innerText=(((Tt=Nt.full_name)==null?void 0:Tt.charAt(0))||((Bt=Nt.username)==null?void 0:Bt.charAt(0))||"U").toUpperCase()}}):(((Lt=Nt.full_name)==null?void 0:Lt.charAt(0))||(($t=Nt.username)==null?void 0:$t.charAt(0))||"U").toUpperCase()}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:Nt.full_name||"No Name"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 dark:text-secondary-400 text-xs",children:Nt.email})]})]})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 text-gray-600 dark:text-secondary-300",children:Nt.phone||"---"}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 font-medium text-gray-900 dark:text-white",children:Nt.orders_count||0}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 font-medium text-gray-900 dark:text-white",children:new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(Nt.total_spent||0)}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4",children:jsxRuntimeExports.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize
                                    ${Nt.status==="active"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300"}`,children:Nt.status==="active"?"Hot ng":" chn"})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 text-right",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-end gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>_t(Nt),className:"p-2 text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 rounded-lg hover:bg-blue-50 dark:hover:bg-blue-900/30 transition-colors",title:"Xem",children:jsxRuntimeExports.jsx(Eye,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("button",{onClick:()=>kt(Nt),className:"p-2 text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 rounded-lg hover:bg-blue-50 dark:hover:bg-blue-900/30 transition-colors",title:"Chnh sa",children:jsxRuntimeExports.jsx(Pencil,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("button",{onClick:()=>St(Nt),className:`p-2 rounded-lg transition-colors ${Nt.status==="active"?"text-yellow-600 hover:text-yellow-800 hover:bg-yellow-50 dark:hover:bg-yellow-900/30":"text-green-600 hover:text-green-800 hover:bg-green-50 dark:hover:bg-green-900/30"}`,title:Nt.status==="active"?"Kha":"M kha",children:Nt.status==="active"?jsxRuntimeExports.jsx(UserX,{className:"w-4 h-4"}):jsxRuntimeExports.jsx(UserCheck,{className:"w-4 h-4"})})]})})]},Nt.id)})})]})}),!et&&nt.length>0&&jsxRuntimeExports.jsx("div",{className:"border-t border-gray-200 dark:border-secondary-700",children:jsxRuntimeExports.jsx(Pagination,{currentPage:ct,totalPages:dt,onPageChange:ut})})]}),jsxRuntimeExports.jsx(CustomerModal,{isOpen:mt,onClose:()=>xt(!1),onSuccess:jt,customer:yt}),jsxRuntimeExports.jsx(ConfirmModal,{isOpen:gt.isOpen,onClose:()=>Et({...gt,isOpen:!1}),onConfirm:gt.onConfirm,title:gt.title,message:gt.message,confirmText:gt.confirmText,isDestructive:gt.isDestructive})]})}function CustomerDetailPage(){var ot,lt;const{id:_e}=useParams(),[et,rt]=reactExports.useState(!0),[nt,st]=reactExports.useState(null),it=async()=>{try{rt(!0);const ct=await adminAPI.getUserById(_e);ct.data.success&&st(ct.data.data)}catch(ct){console.error(ct),zt.error("Khng th ti thng tin khch hng")}finally{rt(!1)}};if(reactExports.useEffect(()=>{_e&&it()},[_e]),et)return jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-64",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"w-8 h-8 animate-spin text-primary-600"})});if(!nt)return jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:"Khng tm thy khch hng"}),jsxRuntimeExports.jsx(Link$1,{to:"/admin/customers",className:"text-primary-600 hover:underline mt-2 inline-block",children:"Quay li danh sch"})]});const at=ct=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(ct);return jsxRuntimeExports.jsxs("div",{className:"max-w-5xl mx-auto pb-12",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[jsxRuntimeExports.jsx(Link$1,{to:"/admin/customers",className:"p-2 hover:bg-gray-100 dark:hover:bg-secondary-800 rounded-lg transition-colors",children:jsxRuntimeExports.jsx(ArrowLeft,{className:"w-5 h-5 text-gray-500 dark:text-secondary-400"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:nt.full_name||"Cha c tn"}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-500 dark:text-secondary-400",children:["@",nt.username]})]}),jsxRuntimeExports.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${nt.status==="active"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300"}`,children:nt.status==="active"?"Hot ng":" chn"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-xl border border-gray-200 dark:border-secondary-700 p-6 transition-colors",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Thng tin c bn"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs text-gray-500 dark:text-secondary-400 mb-1",children:"H v tn"}),jsxRuntimeExports.jsx("p",{className:"text-gray-900 dark:text-white font-medium",children:nt.full_name||"---"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs text-gray-500 dark:text-secondary-400 mb-1",children:"Email"}),jsxRuntimeExports.jsx("p",{className:"text-gray-900 dark:text-white",children:nt.email})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs text-gray-500 dark:text-secondary-400 mb-1",children:"S in thoi"}),jsxRuntimeExports.jsx("p",{className:"text-gray-900 dark:text-white",children:nt.phone||"---"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs text-gray-500 dark:text-secondary-400 mb-1",children:"Vai tr"}),jsxRuntimeExports.jsx("p",{className:"text-gray-900 dark:text-white capitalize",children:nt.role==="admin"?"Qun tr vin":"Khch hng"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-xl border border-gray-200 dark:border-secondary-700 p-6 transition-colors",children:[jsxRuntimeExports.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[jsxRuntimeExports.jsx(MapPin,{className:"w-5 h-5 text-gray-500 dark:text-secondary-400"}),"S a ch (",((ot=nt.shipping_addresses)==null?void 0:ot.length)||0,")"]}),nt.shipping_addresses&&nt.shipping_addresses.length>0?jsxRuntimeExports.jsx("div",{className:"space-y-4",children:nt.shipping_addresses.map(ct=>jsxRuntimeExports.jsxs("div",{className:`p-4 rounded-lg border ${ct.is_default?"border-primary-200 bg-primary-50/50 dark:border-primary-800 dark:bg-primary-900/20":"border-gray-200 dark:border-secondary-700"}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-2",children:[jsxRuntimeExports.jsx("span",{className:`text-xs font-bold uppercase tracking-wider px-2 py-0.5 rounded ${ct.type==="Nh ring"?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300":"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-300"}`,children:ct.type}),ct.is_default&&jsxRuntimeExports.jsxs("span",{className:"text-[10px] font-bold text-primary-600 dark:text-primary-400 uppercase tracking-widest flex items-center gap-1",children:[jsxRuntimeExports.jsx(CircleCheck,{className:"w-3 h-3"})," Mc nh"]})]}),jsxRuntimeExports.jsxs("p",{className:"text-sm font-bold text-gray-900 dark:text-white mb-1",children:[ct.full_name," ",jsxRuntimeExports.jsxs("span",{className:"text-gray-500 dark:text-secondary-400 font-normal",children:["- ",ct.phone]})]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600 dark:text-secondary-400",children:[ct.address_line1,", ",ct.city,", ",ct.province]})]},ct.id))}):nt.address_line1||nt.city?jsxRuntimeExports.jsxs("div",{className:"space-y-2 text-gray-700 dark:text-secondary-300",children:[jsxRuntimeExports.jsx("p",{className:"text-xs font-bold uppercase text-gray-400 mb-1",children:"a ch chnh (Lacy)"}),nt.address_line1&&jsxRuntimeExports.jsx("p",{children:nt.address_line1}),nt.address_line2&&jsxRuntimeExports.jsx("p",{children:nt.address_line2}),jsxRuntimeExports.jsx("p",{children:[nt.city,nt.province,nt.country].filter(Boolean).join(", ")||"---"})]}):jsxRuntimeExports.jsx("div",{className:"text-center py-6",children:jsxRuntimeExports.jsx("p",{className:"text-gray-500 dark:text-secondary-400 italic mb-2",children:"Cha c thng tin a ch"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-xl border border-gray-200 dark:border-secondary-700 p-6 transition-colors",children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-secondary-400 mb-4",children:"Thng tin ti khon"}),jsxRuntimeExports.jsxs("div",{className:"space-y-3 text-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(Mail,{className:"w-4 h-4 text-gray-400 dark:text-secondary-500"}),jsxRuntimeExports.jsx("span",{className:"text-gray-700 dark:text-secondary-300",children:nt.email})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(Phone,{className:"w-4 h-4 text-gray-400 dark:text-secondary-500"}),jsxRuntimeExports.jsx("span",{className:"text-gray-700 dark:text-secondary-300",children:nt.phone||"---"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(Calendar,{className:"w-4 h-4 text-gray-400 dark:text-secondary-500"}),jsxRuntimeExports.jsxs("span",{className:"text-gray-700 dark:text-secondary-300",children:["ng k: ",new Date(nt.created_at).toLocaleDateString("vi-VN")]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-xl border border-gray-200 dark:border-secondary-700 p-6 transition-colors",children:[jsxRuntimeExports.jsxs("h3",{className:"text-sm font-medium text-gray-500 dark:text-secondary-400 mb-4 flex items-center gap-2",children:[jsxRuntimeExports.jsx(ShoppingBag,{className:"w-4 h-4"}),"n hng gn y"]}),((lt=nt.orders)==null?void 0:lt.length)>0?jsxRuntimeExports.jsx("div",{className:"space-y-3",children:nt.orders.map(ct=>jsxRuntimeExports.jsxs(Link$1,{to:`/admin/orders/${ct.id}`,className:"block p-3 bg-gray-50 dark:bg-secondary-700/50 rounded-lg hover:bg-gray-100 dark:hover:bg-secondary-700 transition-colors",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:ct.order_code}),jsxRuntimeExports.jsx("span",{className:`text-xs px-2 py-0.5 rounded capitalize ${ct.status==="completed"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":ct.status==="cancelled"?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300"}`,children:ct.status})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between mt-1 text-xs text-gray-500 dark:text-secondary-400",children:[jsxRuntimeExports.jsx("span",{children:new Date(ct.created_at).toLocaleDateString("vi-VN")}),jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:at(ct.grand_total)})]})]},ct.id))}):jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 dark:text-secondary-400 text-center py-4",children:"Cha c n hng"})]})]})]})]})}const formatCurrency=_e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(_e),COLORS=["#6366f1","#10b981","#f59e0b","#f43f5e","#8b5cf6","#06b6d4"],STATUS_LABELS={pending:"Ch x l",paid:" thanh ton",processing:"ang x l",shipped:"ang giao",delivered:" giao",completed:"Hon thnh",cancelled:" hy",unknown:"Khng xc nh"},translateStatus=_e=>STATUS_LABELS[_e]||_e;function AnalyticsPage(){const[_e,et]=reactExports.useState(!0),[rt,nt]=reactExports.useState(null),[st,it]=reactExports.useState("30_days"),at=async()=>{try{et(!0);let ut=new Date;const dt=endOfDay(new Date);switch(st){case"7_days":ut=subDays(new Date,7);break;case"30_days":ut=subDays(new Date,30);break;case"this_month":ut=startOfMonth(new Date);break;case"this_year":ut=startOfYear(new Date);break;case"all_time":ut=new Date("2020-01-01");break}const pt=await adminAPI.getAnalytics({startDate:ut.toISOString(),endDate:dt.toISOString()});pt.data.success&&nt(pt.data.data)}catch(ut){console.error("Failed to fetch analytics:",ut)}finally{et(!1)}};if(reactExports.useEffect(()=>{at()},[st]),_e)return jsxRuntimeExports.jsx("div",{className:"p-8 flex justify-center",children:jsxRuntimeExports.jsx(Activity,{className:"w-8 h-8 animate-spin text-primary-600"})});if(!rt)return jsxRuntimeExports.jsx("div",{className:"p-8 text-center text-red-500",children:"Failed to load data"});const{summary:ot,charts:lt,topProducts:ct}=rt;return jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto pb-12",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-8",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Bo co & Thng k"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 dark:text-secondary-400 mt-1",children:"Tng quan hiu qu kinh doanh ca ca hng."})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-3",children:jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsxs("select",{className:"appearance-none bg-white dark:bg-secondary-800 border border-gray-300 dark:border-secondary-700 rounded-lg py-2 pl-4 pr-10 text-gray-700 dark:text-secondary-300 focus:outline-none focus:ring-2 focus:ring-primary-500 transition-colors",value:st,onChange:ut=>it(ut.target.value),children:[jsxRuntimeExports.jsx("option",{value:"7_days",children:"7 ngy qua"}),jsxRuntimeExports.jsx("option",{value:"30_days",children:"30 ngy qua"}),jsxRuntimeExports.jsx("option",{value:"this_month",children:"Thng ny"}),jsxRuntimeExports.jsx("option",{value:"this_year",children:"Nm nay"}),jsxRuntimeExports.jsx("option",{value:"all_time",children:"Tt c"})]}),jsxRuntimeExports.jsx(Calendar,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500 dark:text-secondary-400 pointer-events-none"})]})})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-6 mb-8",children:[jsxRuntimeExports.jsxs("div",{className:"group bg-white dark:bg-secondary-800 p-6 rounded-2xl border border-secondary-200 dark:border-secondary-700 shadow-sm hover:shadow-md transition-all duration-300 hover:-translate-y-1",children:[jsxRuntimeExports.jsx("div",{className:"flex justify-between items-start mb-4",children:jsxRuntimeExports.jsx("div",{className:"p-3 rounded-xl bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400",children:jsxRuntimeExports.jsx(DollarSign,{className:"w-6 h-6"})})}),jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Tng doanh thu"}),jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-secondary-900 dark:text-white mt-1",children:formatCurrency(ot.totalRevenue)})]}),jsxRuntimeExports.jsxs("div",{className:"group bg-white dark:bg-secondary-800 p-6 rounded-2xl border border-secondary-200 dark:border-secondary-700 shadow-sm hover:shadow-md transition-all duration-300 hover:-translate-y-1",children:[jsxRuntimeExports.jsx("div",{className:"flex justify-between items-start mb-4",children:jsxRuntimeExports.jsx("div",{className:"p-3 rounded-xl bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400",children:jsxRuntimeExports.jsx(ShoppingBag,{className:"w-6 h-6"})})}),jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Tng n hng"}),jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-secondary-900 dark:text-white mt-1",children:ot.totalOrders})]}),jsxRuntimeExports.jsxs("div",{className:"group bg-white dark:bg-secondary-800 p-6 rounded-2xl border border-secondary-200 dark:border-secondary-700 shadow-sm hover:shadow-md transition-all duration-300 hover:-translate-y-1",children:[jsxRuntimeExports.jsx("div",{className:"flex justify-between items-start mb-4",children:jsxRuntimeExports.jsx("div",{className:"p-3 rounded-xl bg-emerald-50 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400",children:jsxRuntimeExports.jsx(TrendingUp,{className:"w-6 h-6"})})}),jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Gi tr n TB"}),jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-secondary-900 dark:text-white mt-1",children:formatCurrency(ot.aov)})]}),jsxRuntimeExports.jsxs("div",{className:"group bg-white dark:bg-secondary-800 p-6 rounded-2xl border border-secondary-200 dark:border-secondary-700 shadow-sm hover:shadow-md transition-all duration-300 hover:-translate-y-1",children:[jsxRuntimeExports.jsx("div",{className:"flex justify-between items-start mb-4",children:jsxRuntimeExports.jsx("div",{className:"p-3 rounded-xl bg-purple-50 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400",children:jsxRuntimeExports.jsx(Users,{className:"w-6 h-6"})})}),jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Tng khch hng"}),jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-secondary-900 dark:text-white mt-1",children:ot.totalCustomers||0})]}),jsxRuntimeExports.jsxs("div",{className:"group bg-white dark:bg-secondary-800 p-6 rounded-2xl border border-secondary-200 dark:border-secondary-700 shadow-sm hover:shadow-md transition-all duration-300 hover:-translate-y-1",children:[jsxRuntimeExports.jsx("div",{className:"flex justify-between items-start mb-4",children:jsxRuntimeExports.jsx("div",{className:"p-3 rounded-xl bg-orange-50 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400",children:jsxRuntimeExports.jsx(Users,{className:"w-6 h-6"})})}),jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Khch mi"}),jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-secondary-900 dark:text-white mt-1",children:ot.newCustomers||0})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8",children:[jsxRuntimeExports.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-secondary-800 p-6 rounded-xl border border-gray-200 dark:border-secondary-700 shadow-sm transition-colors",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"Biu  doanh thu"}),jsxRuntimeExports.jsx("div",{className:"h-80 w-full",children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:"100%",children:jsxRuntimeExports.jsxs(AreaChart,{data:lt.revenue,margin:{top:10,right:10,left:0,bottom:0},children:[jsxRuntimeExports.jsx("defs",{children:jsxRuntimeExports.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[jsxRuntimeExports.jsx("stop",{offset:"5%",stopColor:"#6366f1",stopOpacity:.3}),jsxRuntimeExports.jsx("stop",{offset:"95%",stopColor:"#6366f1",stopOpacity:0})]})}),jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3",vertical:!1,stroke:"currentColor",className:"text-secondary-200 dark:text-secondary-700"}),jsxRuntimeExports.jsx(XAxis,{dataKey:"date",tickFormatter:ut=>format$1(new Date(ut),"dd/MM"),tick:{fontSize:12,fill:"#94a3b8"},axisLine:!1,tickLine:!1,dy:10}),jsxRuntimeExports.jsx(YAxis,{tick:{fontSize:12,fill:"#94a3b8"},tickFormatter:ut=>`${ut>=1e6?(ut/1e6).toFixed(1)+"M":(ut/1e3).toFixed(0)+"k"}`,axisLine:!1,tickLine:!1,dx:-10}),jsxRuntimeExports.jsx(Tooltip,{content:({active:ut,payload:dt,label:pt})=>ut&&dt&&dt.length?jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-secondary-800 p-3 rounded-lg border border-secondary-200 dark:border-secondary-700 shadow-lg",children:[jsxRuntimeExports.jsx("p",{className:"text-xs text-secondary-500 dark:text-secondary-400 mb-1",children:pt!==void 0?format$1(new Date(pt),"dd/MM/yyyy"):""}),jsxRuntimeExports.jsx("p",{className:"text-sm font-bold text-secondary-900 dark:text-white",children:formatCurrency(dt[0].value)})]}):null}),jsxRuntimeExports.jsx(Area,{type:"monotone",dataKey:"revenue",stroke:"#6366f1",fillOpacity:1,fill:"url(#colorRevenue)",strokeWidth:3,dot:{r:4,fill:"#6366f1",strokeWidth:2,stroke:"#fff"},activeDot:{r:6,strokeWidth:0}})]})})})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-secondary-800 p-6 rounded-xl border border-gray-200 dark:border-secondary-700 shadow-sm transition-colors",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"Trng thi n hng"}),jsxRuntimeExports.jsxs("div",{className:"h-80 w-full relative flex items-center justify-center",children:[jsxRuntimeExports.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none",children:[jsxRuntimeExports.jsx("span",{className:"text-secondary-500 dark:text-secondary-400 text-xs font-medium uppercase tracking-wider",children:"Tng cng"}),jsxRuntimeExports.jsx("span",{className:"text-2xl font-bold text-secondary-900 dark:text-white",children:lt.status.reduce((ut,dt)=>ut+(dt.count||0),0)})]}),jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:"100%",children:jsxRuntimeExports.jsxs(PieChart,{children:[jsxRuntimeExports.jsx(Pie,{data:lt.status,cx:"50%",cy:"50%",innerRadius:70,outerRadius:90,fill:"#8884d8",paddingAngle:8,dataKey:"count",nameKey:"status",animationBegin:0,animationDuration:1500,children:lt.status.map((ut,dt)=>jsxRuntimeExports.jsx(Cell,{fill:COLORS[dt%COLORS.length],stroke:"transparent"},`cell-${dt}`))}),jsxRuntimeExports.jsx(Tooltip,{content:({active:ut,payload:dt})=>ut&&dt&&dt.length?jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-secondary-800 p-3 rounded-lg border border-secondary-200 dark:border-secondary-700 shadow-lg",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[jsxRuntimeExports.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:dt[0].payload.fill}}),jsxRuntimeExports.jsx("span",{className:"text-sm font-bold text-secondary-900 dark:text-white",children:translateStatus(dt[0].name)})]}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-secondary-500 dark:text-secondary-400",children:["S lng: ",jsxRuntimeExports.jsx("span",{className:"font-semibold text-secondary-700 dark:text-secondary-300",children:dt[0].value})]})]}):null}),jsxRuntimeExports.jsx(Legend,{verticalAlign:"bottom",align:"center",iconType:"circle",iconSize:8,wrapperStyle:{paddingTop:"20px"},formatter:ut=>jsxRuntimeExports.jsx("span",{className:"text-[11px] font-medium text-secondary-600 dark:text-secondary-400",children:translateStatus(String(ut))})})]})})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-secondary-800 p-6 rounded-xl border border-gray-200 dark:border-secondary-700 shadow-sm mb-8 transition-colors",children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6 flex items-center gap-2",children:[jsxRuntimeExports.jsx(FolderOpen,{className:"w-5 h-5 text-gray-500 dark:text-secondary-400"}),"Doanh thu theo danh mc"]}),jsxRuntimeExports.jsx("div",{className:"h-64 w-full",children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:"100%",children:jsxRuntimeExports.jsxs(BarChart,{data:lt.categories||[],layout:"vertical",margin:{left:20,right:30},children:[jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3",horizontal:!0,vertical:!1,stroke:"currentColor",className:"text-secondary-100 dark:text-secondary-800"}),jsxRuntimeExports.jsx(XAxis,{type:"number",tickFormatter:ut=>`${(ut/1e6).toFixed(1)}M`,tick:{fontSize:11,fill:"#94a3b8"},axisLine:!1,tickLine:!1}),jsxRuntimeExports.jsx(YAxis,{dataKey:"name",type:"category",width:120,tick:{fontSize:11,fill:"#94a3b8"},axisLine:!1,tickLine:!1}),jsxRuntimeExports.jsx(Tooltip,{cursor:{fill:"rgba(99, 102, 241, 0.05)"},content:({active:ut,payload:dt})=>ut&&dt&&dt.length?jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-secondary-800 p-3 rounded-lg border border-secondary-200 dark:border-secondary-700 shadow-lg",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-bold text-secondary-900 dark:text-white mb-1",children:dt[0].payload.name}),jsxRuntimeExports.jsx("p",{className:"text-xs text-indigo-600 dark:text-indigo-400 font-semibold",children:formatCurrency(dt[0].value)})]}):null}),jsxRuntimeExports.jsx(Bar,{dataKey:"revenue",fill:"#6366f1",radius:[0,6,6,0],barSize:20})]})})})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-secondary-800 border border-secondary-200 dark:border-secondary-700 rounded-2xl shadow-sm overflow-hidden transition-colors",children:[jsxRuntimeExports.jsxs("div",{className:"px-6 py-5 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-bold text-secondary-900 dark:text-white",children:"Sn phm bn chy"}),jsxRuntimeExports.jsx("span",{className:"text-xs font-medium px-2.5 py-1 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 rounded-full",children:"Top 10"})]}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"w-full text-left",children:[jsxRuntimeExports.jsx("thead",{className:"bg-secondary-50 dark:bg-secondary-700/30 text-secondary-500 dark:text-secondary-400 text-xs font-bold uppercase tracking-wider",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-6 py-4",children:"Sn phm"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3",children:"SKU"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3",children:"S lng  bn"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-right",children:"Doanh thu"})]})}),jsxRuntimeExports.jsxs("tbody",{className:"divide-y divide-secondary-200 dark:divide-secondary-700",children:[ct.map((ut,dt)=>jsxRuntimeExports.jsxs("tr",{className:"group hover:bg-secondary-50 dark:hover:bg-secondary-700/30 transition-colors",children:[jsxRuntimeExports.jsx("td",{className:"px-6 py-4 font-semibold text-secondary-900 dark:text-white group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors",children:ut.name}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 text-secondary-500 dark:text-secondary-400 font-mono text-xs",children:ut.sku}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-secondary-900 dark:text-white font-medium",children:ut.sold}),jsxRuntimeExports.jsx("div",{className:"w-16 h-1.5 bg-secondary-100 dark:bg-secondary-700 rounded-full overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:"h-full bg-emerald-500 rounded-full",style:{width:`${Math.min(100,ut.sold/ct[0].sold*100)}%`}})})]})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 text-right font-bold text-secondary-900 dark:text-white",children:formatCurrency(ut.revenue)})]},dt)),ct.length===0&&jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsxs("td",{colSpan:4,className:"px-6 py-12 text-center text-secondary-500 dark:text-secondary-400",children:[jsxRuntimeExports.jsx(Activity,{className:"w-8 h-8 mx-auto mb-2 opacity-20"}),"Cha c d liu bn hng"]})})]})]})})]})]})}function SettingsPage(){const[_e,et]=reactExports.useState(!0),[rt,nt]=reactExports.useState(!1),[st,it]=reactExports.useState("shop"),[at,ot]=reactExports.useState({store_name:"",legal_entity_name:"",store_logo:"",support_email:"",support_phone:"",physical_address:"",maintenance_mode:"false",seo_indexing:"true",shipping_standard_fee:"30000",shipping_free_threshold:"500000",shipping_min_days:"3",shipping_max_days:"5",google_client_id:"",payment_vnpay_enabled:"false",payment_vnpay_tmn_code:"",payment_vnpay_hash_secret:"",payment_vnpay_url:"",payment_cod_enabled:"true",payment_bank_enabled:"false",payment_bank_info:"",payment_bank_id:"",payment_bank_account:"",payment_bank_account_name:"",payment_momo_enabled:"false",payment_momo_qrcode:""}),[lt,ct]=reactExports.useState([]),[ut,dt]=reactExports.useState(!1),[pt,mt]=reactExports.useState(!1),[xt,yt]=reactExports.useState(null),[vt,gt]=reactExports.useState({name:"",description:""}),[Et,jt]=reactExports.useState(!1);reactExports.useEffect(()=>{kt()},[]),reactExports.useEffect(()=>{st==="permissions"&&Rt()},[st]);const kt=async()=>{try{et(!0);const Tt=await adminAPI.getSettings();Tt.data.success&&ot({...at,...Tt.data.data})}catch(Tt){console.error(Tt),zt.error("Khng th ti ci t")}finally{et(!1)}},Rt=async()=>{try{dt(!0);const Tt=await adminAPI.getPermissions();Tt.data.success&&ct(Tt.data.data)}catch(Tt){console.error(Tt),zt.error("Khng th ti danh sch quyn")}finally{dt(!1)}},St=async()=>{try{nt(!0),(await adminAPI.updateSettings(at)).data.success&&zt.success("Lu ci t thnh cng")}catch(Tt){console.error(Tt),zt.error("Li khi lu ci t")}finally{nt(!1)}},_t=async Tt=>{var qt;const Bt=(qt=Tt.target.files)==null?void 0:qt[0];if(!Bt)return;if(Bt.size>2*1024*1024){zt.error("File qu ln (max 2MB)");return}const Wt=new FormData;Wt.append("logo",Bt);try{const Ot=zt.loading("ang ti nh..."),Dt=await adminAPI.uploadLogo(Wt);zt.dismiss(Ot),Dt.data.success&&(ot({...at,store_logo:Dt.data.data.url}),zt.success("Upload logo thnh cng"))}catch(Ot){console.error(Ot),zt.error("Li khi upload logo")}},Nt=async()=>{var Tt,Bt,Wt;if(!vt.name){zt.error("Vui lng nhp tn quyn");return}try{jt(!0),xt?(await adminAPI.updatePermission(xt.id,vt),zt.success("Cp nht quyn thnh cng")):(await adminAPI.createPermission(vt),zt.success("To quyn mi thnh cng")),mt(!1),Rt()}catch(qt){console.error(qt),zt.error(((Wt=(Bt=(Tt=qt.response)==null?void 0:Tt.data)==null?void 0:Bt.error)==null?void 0:Wt.message)||"Li khi lu quyn")}finally{jt(!1)}},Lt=async Tt=>{if(confirm("Bn c chc mun xa quyn ny?"))try{await adminAPI.deletePermission(Tt),zt.success("Xa quyn thnh cng"),Rt()}catch(Bt){console.error(Bt),zt.error("Li khi xa quyn")}},$t=Tt=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(Number(Tt)),Ft=[{id:"shop",label:"Thng tin ca hng",icon:Building2},{id:"shipping",label:"Vn chuyn",icon:Truck},{id:"payment",label:"Thanh ton",icon:CreditCard},{id:"social",label:"Social Login",icon:Globe},{id:"permissions",label:"Phn quyn",icon:Shield}];return _e?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-96",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"w-8 h-8 animate-spin text-primary-600"})}):jsxRuntimeExports.jsxs("div",{className:"max-w-6xl mx-auto pb-12",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-8",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Ci t h thng"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 dark:text-secondary-400 mt-1",children:"Qun l thng tin ca hng v cu hnh h thng"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:()=>kt(),className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-secondary-300 bg-white dark:bg-secondary-800 border border-gray-300 dark:border-secondary-600 rounded-lg hover:bg-gray-50 dark:hover:bg-secondary-700 transition-colors",children:"Hy b"}),jsxRuntimeExports.jsxs("button",{onClick:St,disabled:rt,className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-primary-600 rounded-lg hover:bg-primary-700 disabled:opacity-50 transition-colors",children:[rt?jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin"}):jsxRuntimeExports.jsx(Save,{className:"w-4 h-4"}),"Lu thay i"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[jsxRuntimeExports.jsx("div",{className:"w-full lg:w-64 flex-shrink-0",children:jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-secondary-800 rounded-xl border border-gray-200 dark:border-secondary-700 overflow-hidden transition-colors",children:Ft.map(Tt=>{const Bt=Tt.icon;return jsxRuntimeExports.jsxs("button",{onClick:()=>it(Tt.id),className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium transition-colors border-l-4 ${st===Tt.id?"border-primary-600 bg-primary-50 dark:bg-primary-900/20 text-primary-700 dark:text-primary-400":"border-transparent text-gray-600 dark:text-secondary-400 hover:bg-gray-50 dark:hover:bg-secondary-700 hover:text-gray-900 dark:hover:text-white"}`,children:[jsxRuntimeExports.jsx(Bt,{className:"w-5 h-5"}),Tt.label]},Tt.id)})})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 space-y-6",children:[st==="shop"&&jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-xl border border-gray-200 dark:border-secondary-700 p-6 transition-colors",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1",children:"Nhn din thng hiu"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 dark:text-secondary-400 mb-6",children:"Logo v tn ca hng hin th vi khch hng"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-secondary-300 mb-1",children:"Tn ca hng"}),jsxRuntimeExports.jsx("input",{type:"text",value:at.store_name,onChange:Tt=>ot({...at,store_name:Tt.target.value}),className:"w-full border border-gray-300 dark:border-secondary-600 bg-white dark:bg-secondary-900 rounded-lg px-3 py-2 text-gray-900 dark:text-white focus:ring-primary-500 focus:border-primary-500 transition-colors"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-secondary-300 mb-1",children:"Tn php l cng ty"}),jsxRuntimeExports.jsx("input",{type:"text",value:at.legal_entity_name,onChange:Tt=>ot({...at,legal_entity_name:Tt.target.value}),className:"w-full border border-gray-300 dark:border-secondary-600 bg-white dark:bg-secondary-900 rounded-lg px-3 py-2 text-gray-900 dark:text-white focus:ring-primary-500 focus:border-primary-500 transition-colors"})]}),jsxRuntimeExports.jsxs("div",{className:"md:col-span-2",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-secondary-300 mb-2",children:"Logo ca hng"}),jsxRuntimeExports.jsxs("div",{className:"border-2 border-dashed border-gray-300 dark:border-secondary-600 rounded-lg p-6 flex flex-col items-center justify-center bg-gray-50 dark:bg-secondary-900 hover:bg-gray-100 dark:hover:bg-secondary-800 transition-colors cursor-pointer relative group",children:[jsxRuntimeExports.jsx("input",{type:"file",accept:"image/*",onChange:_t,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),at.store_logo?jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("img",{src:toMediaUrl(at.store_logo),alt:"Store Logo",className:"h-24 object-contain"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-50 opacity-0 group-hover:opacity-100 transition-opacity rounded",children:jsxRuntimeExports.jsx("span",{className:"text-white text-sm font-medium",children:"Thay i"})})]}):jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"mx-auto h-12 w-12 text-gray-400 dark:text-secondary-500 flex items-center justify-center rounded-full bg-gray-100 dark:bg-secondary-800 mb-3",children:jsxRuntimeExports.jsx(Upload,{className:"w-6 h-6"})}),jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Upload logo mi"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 dark:text-secondary-400 mt-1",children:"SVG, PNG, JPG (max 2MB)"})]})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-xl border border-gray-200 dark:border-secondary-700 p-6 transition-colors",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"Lin h & H tr"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-secondary-300 mb-1",children:"Email h tr"}),jsxRuntimeExports.jsx("input",{type:"email",value:at.support_email,onChange:Tt=>ot({...at,support_email:Tt.target.value}),className:"w-full border border-gray-300 dark:border-secondary-600 bg-white dark:bg-secondary-900 rounded-lg px-3 py-2 text-gray-900 dark:text-white focus:ring-primary-500 focus:border-primary-500 transition-colors"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-secondary-300 mb-1",children:"Hotline"}),jsxRuntimeExports.jsx("input",{type:"tel",value:at.support_phone,onChange:Tt=>ot({...at,support_phone:Tt.target.value}),className:"w-full border border-gray-300 dark:border-secondary-600 bg-white dark:bg-secondary-900 rounded-lg px-3 py-2 text-gray-900 dark:text-white focus:ring-primary-500 focus:border-primary-500 transition-colors"})]}),jsxRuntimeExports.jsxs("div",{className:"md:col-span-2",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-secondary-300 mb-1",children:"a ch vn phng"}),jsxRuntimeExports.jsx("textarea",{rows:3,value:at.physical_address,onChange:Tt=>ot({...at,physical_address:Tt.target.value}),className:"w-full border border-gray-300 dark:border-secondary-600 bg-white dark:bg-secondary-900 rounded-lg px-3 py-2 text-gray-900 dark:text-white focus:ring-primary-500 focus:border-primary-500 transition-colors"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-xl border border-gray-200 dark:border-secondary-700 p-6 transition-colors",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"Trng thi ca hng"}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Ch  bo tr"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 dark:text-secondary-400",children:"Tm n website vi khch hng v hin thng bo bo tr"})]}),jsxRuntimeExports.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",className:"sr-only peer",checked:at.maintenance_mode==="true",onChange:Tt=>ot({...at,maintenance_mode:String(Tt.target.checked)})}),jsxRuntimeExports.jsx("div",{className:"w-11 h-6 bg-gray-200 dark:bg-gray-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 dark:peer-focus:ring-primary-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),jsxRuntimeExports.jsxs("div",{className:"border-t border-gray-200 dark:border-secondary-700 pt-6 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Cho php Google Index"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 dark:text-secondary-400",children:"Cho php cc cng c tm kim thu thp d liu website"})]}),jsxRuntimeExports.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",className:"sr-only peer",checked:at.seo_indexing==="true",onChange:Tt=>ot({...at,seo_indexing:String(Tt.target.checked)})}),jsxRuntimeExports.jsx("div",{className:"w-11 h-6 bg-gray-200 dark:bg-gray-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 dark:peer-focus:ring-primary-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]})]})]})]}),st==="shipping"&&jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-xl border border-gray-200 dark:border-secondary-700 p-6 transition-colors",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1",children:"Cu hnh vn chuyn"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 dark:text-secondary-400 mb-6",children:"Thit lp ph vn chuyn mc nh"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-secondary-300 mb-1",children:"Ph vn chuyn tiu chun"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{type:"number",value:at.shipping_standard_fee,onChange:Tt=>ot({...at,shipping_standard_fee:Tt.target.value}),className:"w-full border border-gray-300 dark:border-secondary-600 bg-white dark:bg-secondary-900 rounded-lg pl-3 pr-12 py-2 text-gray-900 dark:text-white focus:ring-primary-500 focus:border-primary-500 transition-colors"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:jsxRuntimeExports.jsx("span",{className:"text-gray-500 dark:text-secondary-400 sm:text-sm",children:"VND"})})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 dark:text-secondary-400 mt-1",children:$t(at.shipping_standard_fee)})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-secondary-300 mb-1",children:"Min ph vn chuyn cho n t"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{type:"number",value:at.shipping_free_threshold,onChange:Tt=>ot({...at,shipping_free_threshold:Tt.target.value}),className:"w-full border border-gray-300 dark:border-secondary-600 bg-white dark:bg-secondary-900 rounded-lg pl-3 pr-12 py-2 text-gray-900 dark:text-white focus:ring-primary-500 focus:border-primary-500 transition-colors"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:jsxRuntimeExports.jsx("span",{className:"text-gray-500 dark:text-secondary-400 sm:text-sm",children:"VND"})})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 dark:text-secondary-400 mt-1",children:$t(at.shipping_free_threshold)})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-secondary-300 mb-1",children:"Thi gian giao hng ti thiu (ngy)"}),jsxRuntimeExports.jsx("input",{type:"number",value:at.shipping_min_days,onChange:Tt=>ot({...at,shipping_min_days:Tt.target.value}),className:"w-full border border-gray-300 dark:border-secondary-600 bg-white dark:bg-secondary-900 rounded-lg px-3 py-2 text-gray-900 dark:text-white focus:ring-primary-500 focus:border-primary-500 transition-colors"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-secondary-300 mb-1",children:"Thi gian giao hng ti a (ngy)"}),jsxRuntimeExports.jsx("input",{type:"number",value:at.shipping_max_days,onChange:Tt=>ot({...at,shipping_max_days:Tt.target.value}),className:"w-full border border-gray-300 dark:border-secondary-600 bg-white dark:bg-secondary-900 rounded-lg px-3 py-2 text-gray-900 dark:text-white focus:ring-primary-500 focus:border-primary-500 transition-colors"})]})]})]}),st==="payment"&&jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-secondary-800 rounded-xl border border-gray-200 dark:border-secondary-700 p-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1",children:"Thanh ton khi nhn hng (COD)"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 dark:text-secondary-400",children:"Cho php khch hng thanh ton bng tin mt khi nhn hng"})]}),jsxRuntimeExports.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",className:"sr-only peer",checked:at.payment_cod_enabled==="true",onChange:Tt=>ot({...at,payment_cod_enabled:String(Tt.target.checked)})}),jsxRuntimeExports.jsx("div",{className:"w-11 h-6 bg-gray-200 dark:bg-gray-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 dark:peer-focus:ring-primary-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]})}),jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-xl border border-gray-200 dark:border-secondary-700 p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1",children:"Chuyn khon ngn hng (VietQR)"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 dark:text-secondary-400",children:"Cho php khch hng chuyn khon qua m QR ngn hng"})]}),jsxRuntimeExports.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",className:"sr-only peer",checked:at.payment_bank_enabled==="true",onChange:Tt=>ot({...at,payment_bank_enabled:String(Tt.target.checked)})}),jsxRuntimeExports.jsx("div",{className:"w-11 h-6 bg-gray-200 dark:bg-gray-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 dark:peer-focus:ring-primary-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),at.payment_bank_enabled==="true"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-secondary-300 mb-1",children:["Ngn hng (Bin/ID)",jsxRuntimeExports.jsx("a",{href:"https://api.vietqr.io/v2/banks",target:"_blank",rel:"noreferrer",className:"ml-2 text-xs text-primary-600 hover:underline transition-colors",children:"Tra cu m ngn hng"})]}),jsxRuntimeExports.jsx("input",{type:"text",value:at.payment_bank_id||"",onChange:Tt=>ot({...at,payment_bank_id:Tt.target.value}),placeholder:"VD: MB, VCB, 970422",className:"w-full border border-gray-300 dark:border-secondary-600 bg-white dark:bg-secondary-900 rounded-lg px-3 py-2 text-gray-900 dark:text-white focus:ring-primary-500 focus:border-primary-500 transition-colors"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-secondary-300 mb-1",children:"S ti khon"}),jsxRuntimeExports.jsx("input",{type:"text",value:at.payment_bank_account||"",onChange:Tt=>ot({...at,payment_bank_account:Tt.target.value}),className:"w-full border border-gray-300 dark:border-secondary-600 bg-white dark:bg-secondary-900 rounded-lg px-3 py-2 text-gray-900 dark:text-white focus:ring-primary-500 focus:border-primary-500 transition-colors"})]}),jsxRuntimeExports.jsxs("div",{className:"md:col-span-2",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-secondary-300 mb-1",children:"Tn ch ti khon"}),jsxRuntimeExports.jsx("input",{type:"text",value:at.payment_bank_account_name||"",onChange:Tt=>ot({...at,payment_bank_account_name:Tt.target.value}),className:"w-full border border-gray-300 dark:border-secondary-600 bg-white dark:bg-secondary-900 rounded-lg px-3 py-2 text-gray-900 dark:text-white focus:ring-primary-500 focus:border-primary-500 transition-colors"})]})]}),jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-secondary-300 mb-1",children:"Ghi ch thm (Hin th di QR)"}),jsxRuntimeExports.jsx("textarea",{rows:3,value:at.payment_bank_info,onChange:Tt=>ot({...at,payment_bank_info:Tt.target.value}),className:"w-full border border-gray-300 dark:border-secondary-600 bg-white dark:bg-secondary-900 rounded-lg px-3 py-2 text-gray-900 dark:text-white focus:ring-primary-500 focus:border-primary-500 text-sm transition-colors"})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-xl border border-gray-200 dark:border-secondary-700 p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1",children:"V in t MoMo"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 dark:text-secondary-400",children:"Hin th m QR nhn tin MoMo c nhn"})]}),jsxRuntimeExports.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",className:"sr-only peer",checked:at.payment_momo_enabled==="true",onChange:Tt=>ot({...at,payment_momo_enabled:String(Tt.target.checked)})}),jsxRuntimeExports.jsx("div",{className:"w-11 h-6 bg-gray-200 dark:bg-gray-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 dark:peer-focus:ring-primary-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),at.payment_momo_enabled==="true"&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-secondary-300 mb-1",children:"Link nh QR Code MoMo"}),jsxRuntimeExports.jsx("input",{type:"text",value:at.payment_momo_qrcode||"",onChange:Tt=>ot({...at,payment_momo_qrcode:Tt.target.value}),placeholder:"https://example.com/my-momo-qr.jpg",className:"w-full border border-gray-300 dark:border-secondary-600 bg-white dark:bg-secondary-900 rounded-lg px-3 py-2 text-gray-900 dark:text-white focus:ring-primary-500 focus:border-primary-500 transition-colors"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Bn c th upload nh QR ln host khc v dn link vo y, hoc tnh nng upload s c cp nht sau."})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-xl border border-gray-200 dark:border-secondary-700 p-6 transition-colors",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1",children:"Cng thanh ton VNPay"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 dark:text-secondary-400",children:"Tch hp thanh ton qua VNPay (ATM, QR, Credit)"})]}),jsxRuntimeExports.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",className:"sr-only peer",checked:at.payment_vnpay_enabled==="true",onChange:Tt=>ot({...at,payment_vnpay_enabled:String(Tt.target.checked)})}),jsxRuntimeExports.jsx("div",{className:"w-11 h-6 bg-gray-200 dark:bg-gray-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 dark:peer-focus:ring-primary-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),at.payment_vnpay_enabled==="true"&&jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-secondary-300 mb-1",children:"TMN Code"}),jsxRuntimeExports.jsx("input",{type:"text",value:at.payment_vnpay_tmn_code,onChange:Tt=>ot({...at,payment_vnpay_tmn_code:Tt.target.value}),className:"w-full border border-gray-300 dark:border-secondary-600 bg-white dark:bg-secondary-900 rounded-lg px-3 py-2 text-gray-900 dark:text-white focus:ring-primary-500 focus:border-primary-500 transition-colors"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-secondary-300 mb-1",children:"Hash Secret"}),jsxRuntimeExports.jsx("input",{type:"password",value:at.payment_vnpay_hash_secret,onChange:Tt=>ot({...at,payment_vnpay_hash_secret:Tt.target.value}),className:"w-full border border-gray-300 dark:border-secondary-600 bg-white dark:bg-secondary-900 rounded-lg px-3 py-2 text-gray-900 dark:text-white focus:ring-primary-500 focus:border-primary-500 transition-colors"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-secondary-300 mb-1",children:"Payment URL"}),jsxRuntimeExports.jsx("input",{type:"text",value:at.payment_vnpay_url,onChange:Tt=>ot({...at,payment_vnpay_url:Tt.target.value}),className:"w-full border border-gray-300 dark:border-secondary-600 bg-white dark:bg-secondary-900 rounded-lg px-3 py-2 text-gray-900 dark:text-white focus:ring-primary-500 focus:border-primary-500 transition-colors"})]})]})]})]}),st==="social"&&jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-xl border border-gray-200 dark:border-secondary-700 p-6 transition-colors",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1",children:"ng nhp Social"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 dark:text-secondary-400 mb-6",children:"Cu hnh ng nhp qua Google, Facebook"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 gap-6",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-secondary-300 mb-1",children:"Google Client ID"}),jsxRuntimeExports.jsx("input",{type:"text",value:at.google_client_id,onChange:Tt=>ot({...at,google_client_id:Tt.target.value}),placeholder:"xxx-xxx.apps.googleusercontent.com",className:"w-full border border-gray-300 dark:border-secondary-600 bg-white dark:bg-secondary-900 rounded-lg px-3 py-2 text-gray-900 dark:text-white focus:ring-primary-500 focus:border-primary-500 transition-colors"}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-500 dark:text-secondary-400 mt-2",children:["Ly Client ID ti ",jsxRuntimeExports.jsx("a",{href:"https://console.cloud.google.com/",target:"_blank",rel:"noreferrer",className:"text-primary-600 hover:underline",children:"Google Cloud Console"})]})]})})]}),st==="permissions"&&jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Danh sch quyn hn"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 dark:text-secondary-400",children:"nh ngha cc quyn hn trong h thng"})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>{yt(null),gt({name:"",description:""}),mt(!0)},className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4"}),"Thm quyn mi"]})]}),jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-secondary-800 rounded-xl border border-gray-200 dark:border-secondary-700 overflow-hidden transition-colors",children:ut?jsxRuntimeExports.jsx("div",{className:"p-8 flex justify-center",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"w-8 h-8 animate-spin text-primary-600"})}):jsxRuntimeExports.jsxs("table",{className:"w-full text-left text-sm text-gray-500 dark:text-secondary-400",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-50 dark:bg-secondary-700/50 text-xs text-gray-700 dark:text-secondary-300 uppercase",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-6 py-3",children:"Tn quyn"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3",children:"M t"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-right",children:"Hnh ng"})]})}),jsxRuntimeExports.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-secondary-700 bg-white dark:bg-secondary-800",children:lt.length>0?lt.map(Tt=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-secondary-700/50 transition-colors",children:[jsxRuntimeExports.jsx("td",{className:"px-6 py-4 font-medium text-gray-900 dark:text-white",children:Tt.name}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4",children:Tt.description||"---"}),jsxRuntimeExports.jsxs("td",{className:"px-6 py-4 text-right flex justify-end gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>{yt(Tt),gt({name:Tt.name,description:Tt.description||""}),mt(!0)},className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300 hover:bg-blue-50 dark:hover:bg-blue-900/20 p-2 rounded",children:"Sa"}),jsxRuntimeExports.jsx("button",{onClick:()=>Lt(Tt.id),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/20 p-2 rounded",children:"Xa"})]})]},Tt.id)):jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:3,className:"px-6 py-8 text-center text-gray-500 dark:text-secondary-400",children:"Cha c quyn no c nh ngha"})})})]})})]})]})]}),pt&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-xl shadow-lg w-full max-w-md p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:xt?"Chnh sa quyn":"Thm quyn mi"}),jsxRuntimeExports.jsx("button",{onClick:()=>mt(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:jsxRuntimeExports.jsx(X$2,{className:"w-5 h-5"})})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-secondary-300 mb-1",children:"Tn quyn"}),jsxRuntimeExports.jsx("input",{type:"text",value:vt.name,onChange:Tt=>gt({...vt,name:Tt.target.value}),placeholder:"V d: Qun l kho",className:"w-full border border-gray-300 dark:border-secondary-600 bg-white dark:bg-secondary-900 rounded-lg px-3 py-2 text-gray-900 dark:text-white focus:ring-primary-500 focus:border-primary-500 transition-colors"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-secondary-300 mb-1",children:"M t"}),jsxRuntimeExports.jsx("textarea",{value:vt.description,onChange:Tt=>gt({...vt,description:Tt.target.value}),placeholder:"M t chi tit v quyn ny...",rows:3,className:"w-full border border-gray-300 dark:border-secondary-600 bg-white dark:bg-secondary-900 rounded-lg px-3 py-2 text-gray-900 dark:text-white focus:ring-primary-500 focus:border-primary-500 transition-colors"})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3 justify-end mt-6",children:[jsxRuntimeExports.jsx("button",{onClick:()=>mt(!1),className:"px-4 py-2 text-sm text-gray-700 dark:text-secondary-300 bg-gray-100 dark:bg-secondary-700 rounded-lg hover:bg-gray-200 dark:hover:bg-secondary-600 transition-colors",children:"Hy"}),jsxRuntimeExports.jsxs("button",{onClick:Nt,disabled:Et,className:"px-4 py-2 text-sm text-white bg-primary-600 rounded-lg hover:bg-primary-700 disabled:opacity-50 flex items-center gap-2 transition-colors",children:[Et?jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin"}):jsxRuntimeExports.jsx(Save,{className:"w-4 h-4"}),xt?"Cp nht":"To mi"]})]})]})]})})]})}const notificationService={getAll:async()=>api.get("/admin/notifications"),getUnread:async()=>api.get("/admin/notifications?unread=true"),markRead:async _e=>api.patch(`/admin/notifications/${_e}/read`),markAllRead:async()=>api.patch("/admin/notifications/read-all"),delete:async _e=>api.delete(`/admin/notifications/${_e}`)};function NotificationPage(){const[_e,et]=reactExports.useState("all"),[rt,nt]=reactExports.useState([]),[st,it]=reactExports.useState(!0),at=async()=>{try{it(!0);const pt=await notificationService.getAll();nt(pt.data.data.notifications||[])}catch(pt){console.error("Fetch notifications error",pt)}finally{it(!1)}};reactExports.useEffect(()=>{at();const pt=()=>{at()};window.addEventListener("new_notification_received",pt);const mt=setInterval(at,6e4);return()=>{window.removeEventListener("new_notification_received",pt),clearInterval(mt)}},[]);const ot=async()=>{try{await notificationService.markAllRead(),n$8.success(" nh du tt c l  c"),at()}catch{n$8.error("C li xy ra")}},lt=()=>{let pt=rt;return _e==="unread"?pt=rt.filter(mt=>!mt.is_read):_e==="order"?pt=rt.filter(mt=>["order_new","order_status"].includes(mt.type)):_e==="inventory"?pt=rt.filter(mt=>["product_low_stock","product_out_of_stock"].includes(mt.type)):_e==="system"&&(pt=rt.filter(mt=>mt.type==="system")),pt},ct=pt=>{switch(pt.type){case"order_new":return{icon:jsxRuntimeExports.jsx(Package,{className:"w-5 h-5 text-white"}),bg:"bg-gradient-to-br from-blue-500 to-blue-600 shadow-lg shadow-blue-500/30",tag:"N HNG",tagBg:"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400"};case"order_status":return{icon:jsxRuntimeExports.jsx(Check,{className:"w-5 h-5 text-white"}),bg:"bg-gradient-to-br from-emerald-500 to-emerald-600 shadow-lg shadow-emerald-500/30",tag:"CP NHT",tagBg:"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400"};case"product_low_stock":case"product_out_of_stock":return{icon:jsxRuntimeExports.jsx(CircleAlert,{className:"w-5 h-5 text-white"}),bg:"bg-gradient-to-br from-rose-500 to-rose-600 shadow-lg shadow-rose-500/30",tag:"KHO HNG",tagBg:"bg-rose-100 dark:bg-rose-900/30 text-rose-600 dark:text-rose-400"};case"system":return{icon:jsxRuntimeExports.jsx(Settings,{className:"w-5 h-5 text-white"}),bg:"bg-gradient-to-br from-amber-500 to-amber-600 shadow-lg shadow-amber-500/30",tag:"H THNG",tagBg:"bg-amber-100 dark:bg-amber-900/30 text-amber-600 dark:text-amber-400"};default:return{icon:jsxRuntimeExports.jsx(Info$1,{className:"w-5 h-5 text-white"}),bg:"bg-gradient-to-br from-secondary-500 to-secondary-600 shadow-lg shadow-secondary-500/30",tag:"THNG TIN",tagBg:"bg-secondary-100 dark:bg-secondary-900/30 text-secondary-600 dark:text-secondary-400"}}},ut=lt(),dt=rt.filter(pt=>!Number(pt.is_read)).length;return jsxRuntimeExports.jsxs("div",{className:"flex flex-col lg:flex-row gap-8 h-full bg-secondary-50/50 dark:bg-transparent -m-4 p-4 lg:-m-8 lg:p-8 rounded-3xl overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"w-full lg:w-72 flex-shrink-0 space-y-8",children:[jsxRuntimeExports.jsxs("div",{className:"px-2",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-black text-secondary-900 dark:text-white mb-2 tracking-tight",children:"Trung tm thng bo"}),jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Tt c tin tc & hot ng mi nht"})]}),jsxRuntimeExports.jsx("div",{className:"bg-white/80 dark:bg-secondary-900/50 backdrop-blur-xl border border-white dark:border-secondary-800 rounded-2xl shadow-xl shadow-secondary-200/50 dark:shadow-none p-3 space-y-2",children:[{id:"all",label:"Tt c",icon:Bell,count:rt.length,color:"primary"},{id:"order",label:"n hng",icon:Package,count:rt.filter(pt=>["order_new","order_status"].includes(pt.type)).length,color:"blue"},{id:"inventory",label:"Kho hng",icon:CircleAlert,count:rt.filter(pt=>["product_low_stock","product_out_of_stock"].includes(pt.type)).length,color:"rose"},{id:"system",label:"H thng",icon:Settings,color:"amber"}].map(pt=>jsxRuntimeExports.jsxs("button",{onClick:()=>et(pt.id),className:`w-full flex items-center justify-between px-4 py-3 text-sm font-bold rounded-xl transition-all duration-300 ${_e===pt.id?`bg-${pt.color==="primary"?"black dark:bg-white":pt.color+"-600"} ${pt.color==="primary"?"text-white dark:text-black":"text-white"} shadow-lg shadow-${pt.color}-500/30 transform scale-[1.02]`:"text-secondary-500 hover:bg-secondary-100 dark:hover:bg-secondary-800 hover:text-secondary-900 dark:hover:text-white"}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(pt.icon,{className:`w-5 h-5 ${_e===pt.id?"":`text-${pt.color==="primary"?"secondary":pt.color}-500`}`}),pt.label]}),pt.count!==void 0&&pt.count>0&&jsxRuntimeExports.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-black ${_e===pt.id?"bg-white/20 text-white":"bg-secondary-100 dark:bg-secondary-800 text-secondary-600 dark:text-secondary-400"}`,children:pt.count})]},pt.id))})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-8",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[jsxRuntimeExports.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"}),jsxRuntimeExports.jsx("h2",{className:"text-3xl font-black text-secondary-900 dark:text-white tracking-tight",children:"Hot ng gn y"})]}),jsxRuntimeExports.jsxs("p",{className:"text-secondary-500 dark:text-secondary-400 font-medium italic",children:["Ghi nhn thng tin t ",new Date().toLocaleDateString("vi-VN")]})]}),jsxRuntimeExports.jsxs("button",{onClick:ot,disabled:dt===0,className:"flex items-center gap-2 px-6 py-2.5 bg-black dark:bg-white text-white dark:text-black hover:bg-secondary-800 dark:hover:bg-secondary-100 disabled:bg-secondary-200 dark:disabled:bg-secondary-800 disabled:text-secondary-400 disabled:cursor-not-allowed rounded-full transition-all duration-300 text-sm font-black shadow-xl shadow-secondary-200/50 dark:shadow-none",children:[jsxRuntimeExports.jsx(Check,{className:"w-4 h-4"}),"nh du  c ht"]})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-3 mb-8 overflow-x-auto no-scrollbar pb-2",children:["unread","priority","24h"].map(pt=>jsxRuntimeExports.jsx("button",{onClick:()=>pt==="unread"&&et(_e==="unread"?"all":"unread"),className:`px-5 py-2 rounded-full text-xs font-black uppercase tracking-widest transition-all duration-300 border-2 ${pt==="unread"&&_e==="unread"?"bg-black dark:bg-white text-white dark:text-black border-black dark:border-white shadow-lg":"bg-white dark:bg-secondary-800 border-white dark:border-secondary-700 text-secondary-600 dark:text-secondary-400 hover:border-secondary-200 dark:hover:border-secondary-600"}`,children:pt==="unread"?"Cha c":pt==="priority"?"u tin":"24h qua"},pt))}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-y-auto space-y-4 pr-2 custom-scrollbar pb-12",children:st?jsxRuntimeExports.jsx("div",{className:"space-y-4",children:[1,2,3,4].map(pt=>jsxRuntimeExports.jsx("div",{className:"h-28 bg-white/50 dark:bg-secondary-800/50 rounded-2xl animate-pulse border border-white dark:border-secondary-800"},pt))}):ut.length===0?jsxRuntimeExports.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-8 bg-white/50 dark:bg-secondary-900/30 rounded-3xl border-2 border-dashed border-secondary-200 dark:border-secondary-800",children:[jsxRuntimeExports.jsx("div",{className:"w-24 h-24 bg-gradient-to-tr from-secondary-100 to-secondary-200 dark:from-secondary-800 dark:to-secondary-700 rounded-full flex items-center justify-center mb-6 shadow-inner",children:jsxRuntimeExports.jsx(Bell,{className:"w-10 h-10 text-secondary-400 animate-bounce"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-black text-secondary-900 dark:text-white mb-2",children:"Yn bnh qu!"}),jsxRuntimeExports.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 font-medium",children:"Hin ti khng c thng bo no mi cho bn."})]}):ut.map(pt=>{const mt=ct(pt),xt=!Number(pt.is_read);return jsxRuntimeExports.jsx("div",{className:`group relative bg-white dark:bg-secondary-900/50 hover:bg-secondary-50 dark:hover:bg-secondary-800/80 rounded-2xl p-5 border transition-all duration-500 ${xt?"border-l-4 border-l-blue-600 border-white dark:border-secondary-700 shadow-xl shadow-blue-500/5":"border-white dark:border-secondary-800 shadow-sm"}`,children:jsxRuntimeExports.jsxs("div",{className:"flex gap-5",children:[jsxRuntimeExports.jsxs("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center flex-shrink-0 relative overflow-hidden ${mt.bg}`,children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-white/20 opacity-0 group-hover:opacity-100 transition-opacity"}),mt.icon]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 mb-2",children:[jsxRuntimeExports.jsx("span",{className:`self-start text-[10px] font-black px-2.5 py-1 rounded-full uppercase tracking-widest ${mt.tagBg}`,children:mt.tag}),jsxRuntimeExports.jsx("h4",{className:`text-lg font-black text-secondary-900 dark:text-white leading-tight truncate ${xt?"opacity-100":"opacity-70"}`,children:pt.title})]}),jsxRuntimeExports.jsx("p",{className:`text-sm mb-4 leading-relaxed line-clamp-2 font-medium ${xt?"text-secondary-700 dark:text-secondary-200":"text-secondary-500 dark:text-secondary-400"}`,children:pt.message}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-secondary-400 dark:text-secondary-500 font-bold uppercase tracking-wider",children:[jsxRuntimeExports.jsx(Clock,{className:"w-3.5 h-3.5"}),new Date(pt.created_at).toLocaleString("vi-VN",{hour:"2-digit",minute:"2-digit",day:"numeric",month:"numeric"})]}),xt&&jsxRuntimeExports.jsx("span",{className:"flex items-center gap-1 text-[10px] font-black text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/20 px-2 py-0.5 rounded-full uppercase",children:"Mi"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-end justify-between pl-4",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center gap-1",children:jsxRuntimeExports.jsx("button",{className:"p-2 text-secondary-400 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-xl transition-all duration-300",onClick:()=>{},children:jsxRuntimeExports.jsx(EllipsisVertical,{className:"w-5 h-5"})})}),pt.link&&jsxRuntimeExports.jsx("a",{href:pt.link,className:"group/btn relative px-5 py-2 overflow-hidden bg-secondary-900 dark:bg-white text-white dark:text-black text-xs font-black rounded-xl transition-all duration-300 hover:shadow-lg active:scale-95 whitespace-nowrap uppercase tracking-widest",children:jsxRuntimeExports.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:["Chi tit",jsxRuntimeExports.jsx(Check,{className:"w-3 h-3 group-hover/btn:translate-x-1 transition-transform"})]})})]})]})},pt.id)})})]})]})}const couponService={getCoupons:async _e=>api.get("/admin/coupons",{params:_e}),getCoupon:async _e=>api.get(`/admin/coupons/${_e}`),createCoupon:async _e=>api.post("/admin/coupons",_e),updateCoupon:async(_e,et)=>api.put(`/admin/coupons/${_e}`,et),deleteCoupon:async _e=>api.delete(`/admin/coupons/${_e}`)};function CouponListPage(){const[_e,et]=reactExports.useState([]),[rt,nt]=reactExports.useState(!0),[st,it]=reactExports.useState(""),[at,ot]=reactExports.useState(1),[lt,ct]=reactExports.useState(1),[ut,dt]=reactExports.useState({isOpen:!1,couponId:null}),pt=async()=>{try{nt(!0);const vt=await couponService.getCoupons({page:at,limit:10,query:st});et(vt.data.data),ct(vt.data.meta.totalPages)}catch(vt){console.error("Failed to fetch coupons",vt),n$8.error("Khng th ti danh sch m gim gi")}finally{nt(!1)}};reactExports.useEffect(()=>{const vt=setTimeout(()=>{pt()},500);return()=>clearTimeout(vt)},[at,st]);const mt=async()=>{var vt,gt;if(ut.couponId)try{await couponService.deleteCoupon(ut.couponId),n$8.success("Xa m gim gi thnh cng"),pt()}catch(Et){console.error("Delete coupon error:",Et),n$8.error("Xa tht bi: "+(((gt=(vt=Et.response)==null?void 0:vt.data)==null?void 0:gt.message)||Et.message))}},xt=vt=>{if(!vt.is_active)return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300";const gt=new Date;return vt.start_at&&new Date(vt.start_at)>gt?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400":vt.end_at&&new Date(vt.end_at)<gt?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400":"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400"},yt=vt=>{if(!vt.is_active)return" tt";const gt=new Date;return vt.start_at&&new Date(vt.start_at)>gt?"Sp din ra":vt.end_at&&new Date(vt.end_at)<gt?"Ht hn":"ang chy"};return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h1",{className:"text-2xl font-bold text-secondary-900 dark:text-white flex items-center gap-2",children:[jsxRuntimeExports.jsx(Ticket,{className:"w-6 h-6 text-primary-600"}),"Qun l khuyn mi"]}),jsxRuntimeExports.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 mt-1",children:"To v qun l cc m gim gi cho khch hng"})]}),jsxRuntimeExports.jsxs(Link$1,{to:"/admin/coupons/new",className:"flex items-center justify-center gap-2 px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-lg transition-colors font-medium",children:[jsxRuntimeExports.jsx(Plus,{className:"w-5 h-5"}),"To m mi"]})]}),jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-secondary-800 p-4 rounded-xl border border-secondary-200 dark:border-secondary-700 shadow-sm",children:jsxRuntimeExports.jsxs("div",{className:"relative max-w-md",children:[jsxRuntimeExports.jsx(Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-secondary-400"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Tm kim theo m...",value:st,onChange:vt=>it(vt.target.value),className:"w-full pl-10 pr-4 py-2 bg-secondary-50 dark:bg-secondary-900 border border-secondary-200 dark:border-secondary-700 rounded-lg focus:ring-2 focus:ring-primary-500 text-secondary-900 dark:text-white"})]})}),jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-xl border border-secondary-200 dark:border-secondary-700 shadow-sm overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"w-full",children:[jsxRuntimeExports.jsx("thead",{className:"bg-secondary-50 dark:bg-secondary-700/50",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"M / Loi"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Gi tr"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Thi gian"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Trng thi"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Thao tc"})]})}),jsxRuntimeExports.jsx("tbody",{className:"divide-y divide-secondary-200 dark:divide-secondary-700",children:rt?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:5,className:"px-6 py-8 text-center",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"w-8 h-8 animate-spin mx-auto text-primary-500"})})}):_e.length===0?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-secondary-500 dark:text-secondary-400",children:"Cha c m gim gi no"})}):_e.map(vt=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-700/50 transition-colors",children:[jsxRuntimeExports.jsx("td",{className:"px-6 py-4",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col",children:[jsxRuntimeExports.jsx("span",{className:"font-mono font-bold text-primary-600 dark:text-primary-400 bg-primary-50 dark:bg-primary-900/30 px-2 py-1 rounded w-fit text-sm",children:vt.code}),jsxRuntimeExports.jsx("span",{className:"text-xs text-secondary-500 mt-1 capitalize",children:vt.type==="percent"?"Phn trm":"S tin c nh"})]})}),jsxRuntimeExports.jsxs("td",{className:"px-6 py-4 text-sm text-secondary-900 dark:text-white font-medium",children:[vt.type==="percent"?`${Number(vt.value)}%`:`${Number(vt.value).toLocaleString("vi-VN")}`,jsxRuntimeExports.jsxs("div",{className:"text-xs text-secondary-500 font-normal",children:["Min: ",Number(vt.min_subtotal).toLocaleString("vi-VN"),""]})]}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4",children:jsxRuntimeExports.jsx("div",{className:"flex flex-col text-sm text-secondary-500 dark:text-secondary-400",children:jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Calendar,{className:"w-3 h-3"}),vt.start_at?new Date(vt.start_at).toLocaleDateString("vi-VN"):"Bt u"," - ",vt.end_at?new Date(vt.end_at).toLocaleDateString("vi-VN"):"V hn"]})})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4",children:jsxRuntimeExports.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${xt(vt)}`,children:yt(vt)})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 text-right",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-end gap-2",children:[jsxRuntimeExports.jsx(Link$1,{to:`/admin/coupons/${vt.id}`,className:"p-2 text-secondary-400 hover:text-primary-600 dark:hover:text-primary-400 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors",children:jsxRuntimeExports.jsx(SquarePen,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("button",{onClick:()=>dt({isOpen:!0,couponId:vt.id}),className:"p-2 text-secondary-400 hover:text-red-600 dark:hover:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4"})})]})})]},vt.id))})]})}),lt>1&&jsxRuntimeExports.jsx("div",{className:"px-6 py-4 border-t border-secondary-200 dark:border-secondary-700 flex justify-center",children:jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("button",{disabled:at===1,onClick:()=>ot(vt=>vt-1),className:"px-3 py-1 rounded border border-secondary-200 dark:border-secondary-700 disabled:opacity-50 text-secondary-700 dark:text-secondary-300",children:"Trc"}),jsxRuntimeExports.jsxs("span",{className:"px-3 py-1 text-secondary-700 dark:text-secondary-300",children:["Trang ",at," / ",lt]}),jsxRuntimeExports.jsx("button",{disabled:at===lt,onClick:()=>ot(vt=>vt+1),className:"px-3 py-1 rounded border border-secondary-200 dark:border-secondary-700 disabled:opacity-50 text-secondary-700 dark:text-secondary-300",children:"Sau"})]})})]}),jsxRuntimeExports.jsx(ConfirmModal,{isOpen:ut.isOpen,onClose:()=>dt({isOpen:!1,couponId:null}),onConfirm:mt,title:"Xc nhn xa",message:"Bn c chc chn mun xa m gim gi ny khng? Khch hng s khng th s dng m ny na.",confirmText:"ng  xa",cancelText:" em xem li",isDestructive:!0})]})}var isCheckBoxInput=_e=>_e.type==="checkbox",isDateObject=_e=>_e instanceof Date,isNullOrUndefined=_e=>_e==null;const isObjectType=_e=>typeof _e=="object";var isObject=_e=>!isNullOrUndefined(_e)&&!Array.isArray(_e)&&isObjectType(_e)&&!isDateObject(_e),getEventValue=_e=>isObject(_e)&&_e.target?isCheckBoxInput(_e.target)?_e.target.checked:_e.target.value:_e,getNodeParentName=_e=>_e.substring(0,_e.search(/\.\d+(\.|$)/))||_e,isNameInFieldArray=(_e,et)=>_e.has(getNodeParentName(et)),isPlainObject=_e=>{const et=_e.constructor&&_e.constructor.prototype;return isObject(et)&&et.hasOwnProperty("isPrototypeOf")},isWeb=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function cloneObject(_e){if(_e instanceof Date)return new Date(_e);const et=typeof FileList<"u"&&_e instanceof FileList;if(isWeb&&(_e instanceof Blob||et))return _e;const rt=Array.isArray(_e);if(!rt&&!(isObject(_e)&&isPlainObject(_e)))return _e;const nt=rt?[]:Object.create(Object.getPrototypeOf(_e));for(const st in _e)Object.prototype.hasOwnProperty.call(_e,st)&&(nt[st]=cloneObject(_e[st]));return nt}var isKey=_e=>/^\w*$/.test(_e),isUndefined=_e=>_e===void 0,compact=_e=>Array.isArray(_e)?_e.filter(Boolean):[],stringToPath=_e=>compact(_e.replace(/["|']|\]/g,"").split(/\.|\[/)),get=(_e,et,rt)=>{if(!et||!isObject(_e))return rt;const nt=(isKey(et)?[et]:stringToPath(et)).reduce((st,it)=>isNullOrUndefined(st)?st:st[it],_e);return isUndefined(nt)||nt===_e?isUndefined(_e[et])?rt:_e[et]:nt},isBoolean=_e=>typeof _e=="boolean",isFunction=_e=>typeof _e=="function",set=(_e,et,rt)=>{let nt=-1;const st=isKey(et)?[et]:stringToPath(et),it=st.length,at=it-1;for(;++nt<it;){const ot=st[nt];let lt=rt;if(nt!==at){const ct=_e[ot];lt=isObject(ct)||Array.isArray(ct)?ct:isNaN(+st[nt+1])?{}:[]}if(ot==="__proto__"||ot==="constructor"||ot==="prototype")return;_e[ot]=lt,_e=_e[ot]}};const EVENTS={BLUR:"blur",FOCUS_OUT:"focusout"},VALIDATION_MODE={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},INPUT_VALIDATION_RULES={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},HookFormControlContext=React$3.createContext(null);HookFormControlContext.displayName="HookFormControlContext";var getProxyFormState=(_e,et,rt,nt=!0)=>{const st={defaultValues:et._defaultValues};for(const it in _e)Object.defineProperty(st,it,{get:()=>{const at=it;return et._proxyFormState[at]!==VALIDATION_MODE.all&&(et._proxyFormState[at]=!nt||VALIDATION_MODE.all),_e[at]}});return st};const useIsomorphicLayoutEffect=typeof window<"u"?React$3.useLayoutEffect:React$3.useEffect;var isString=_e=>typeof _e=="string",generateWatchOutput=(_e,et,rt,nt,st)=>isString(_e)?(nt&&et.watch.add(_e),get(rt,_e,st)):Array.isArray(_e)?_e.map(it=>(nt&&et.watch.add(it),get(rt,it))):(nt&&(et.watchAll=!0),rt),isPrimitive=_e=>isNullOrUndefined(_e)||!isObjectType(_e);function deepEqual(_e,et,rt=new WeakSet){if(isPrimitive(_e)||isPrimitive(et))return Object.is(_e,et);if(isDateObject(_e)&&isDateObject(et))return Object.is(_e.getTime(),et.getTime());const nt=Object.keys(_e),st=Object.keys(et);if(nt.length!==st.length)return!1;if(rt.has(_e)||rt.has(et))return!0;rt.add(_e),rt.add(et);for(const it of nt){const at=_e[it];if(!st.includes(it))return!1;if(it!=="ref"){const ot=et[it];if(isDateObject(at)&&isDateObject(ot)||isObject(at)&&isObject(ot)||Array.isArray(at)&&Array.isArray(ot)?!deepEqual(at,ot,rt):!Object.is(at,ot))return!1}}return!0}const HookFormContext=React$3.createContext(null);HookFormContext.displayName="HookFormContext";var appendErrors=(_e,et,rt,nt,st)=>et?{...rt[_e],types:{...rt[_e]&&rt[_e].types?rt[_e].types:{},[nt]:st||!0}}:{},convertToArrayPayload=_e=>Array.isArray(_e)?_e:[_e],createSubject=()=>{let _e=[];return{get observers(){return _e},next:st=>{for(const it of _e)it.next&&it.next(st)},subscribe:st=>(_e.push(st),{unsubscribe:()=>{_e=_e.filter(it=>it!==st)}}),unsubscribe:()=>{_e=[]}}};function extractFormValues(_e,et){const rt={};for(const nt in _e)if(_e.hasOwnProperty(nt)){const st=_e[nt],it=et[nt];if(st&&isObject(st)&&it){const at=extractFormValues(st,it);isObject(at)&&(rt[nt]=at)}else _e[nt]&&(rt[nt]=it)}return rt}var isEmptyObject=_e=>isObject(_e)&&!Object.keys(_e).length,isFileInput=_e=>_e.type==="file",isHTMLElement=_e=>{if(!isWeb)return!1;const et=_e?_e.ownerDocument:0;return _e instanceof(et&&et.defaultView?et.defaultView.HTMLElement:HTMLElement)},isMultipleSelect=_e=>_e.type==="select-multiple",isRadioInput=_e=>_e.type==="radio",isRadioOrCheckbox=_e=>isRadioInput(_e)||isCheckBoxInput(_e),live=_e=>isHTMLElement(_e)&&_e.isConnected;function baseGet(_e,et){const rt=et.slice(0,-1).length;let nt=0;for(;nt<rt;)_e=isUndefined(_e)?nt++:_e[et[nt++]];return _e}function isEmptyArray(_e){for(const et in _e)if(_e.hasOwnProperty(et)&&!isUndefined(_e[et]))return!1;return!0}function unset(_e,et){const rt=Array.isArray(et)?et:isKey(et)?[et]:stringToPath(et),nt=rt.length===1?_e:baseGet(_e,rt),st=rt.length-1,it=rt[st];return nt&&delete nt[it],st!==0&&(isObject(nt)&&isEmptyObject(nt)||Array.isArray(nt)&&isEmptyArray(nt))&&unset(_e,rt.slice(0,-1)),_e}var objectHasFunction=_e=>{for(const et in _e)if(isFunction(_e[et]))return!0;return!1};function isTraversable(_e){return Array.isArray(_e)||isObject(_e)&&!objectHasFunction(_e)}function markFieldsDirty(_e,et={}){for(const rt in _e){const nt=_e[rt];isTraversable(nt)?(et[rt]=Array.isArray(nt)?[]:{},markFieldsDirty(nt,et[rt])):isUndefined(nt)||(et[rt]=!0)}return et}function getDirtyFields(_e,et,rt){rt||(rt=markFieldsDirty(et));for(const nt in _e){const st=_e[nt];if(isTraversable(st))isUndefined(et)||isPrimitive(rt[nt])?rt[nt]=markFieldsDirty(st,Array.isArray(st)?[]:{}):getDirtyFields(st,isNullOrUndefined(et)?{}:et[nt],rt[nt]);else{const it=et[nt];rt[nt]=!deepEqual(st,it)}}return rt}const defaultResult={value:!1,isValid:!1},validResult={value:!0,isValid:!0};var getCheckboxValue=_e=>{if(Array.isArray(_e)){if(_e.length>1){const et=_e.filter(rt=>rt&&rt.checked&&!rt.disabled).map(rt=>rt.value);return{value:et,isValid:!!et.length}}return _e[0].checked&&!_e[0].disabled?_e[0].attributes&&!isUndefined(_e[0].attributes.value)?isUndefined(_e[0].value)||_e[0].value===""?validResult:{value:_e[0].value,isValid:!0}:validResult:defaultResult}return defaultResult},getFieldValueAs=(_e,{valueAsNumber:et,valueAsDate:rt,setValueAs:nt})=>isUndefined(_e)?_e:et?_e===""?NaN:_e&&+_e:rt&&isString(_e)?new Date(_e):nt?nt(_e):_e;const defaultReturn={isValid:!1,value:null};var getRadioValue=_e=>Array.isArray(_e)?_e.reduce((et,rt)=>rt&&rt.checked&&!rt.disabled?{isValid:!0,value:rt.value}:et,defaultReturn):defaultReturn;function getFieldValue(_e){const et=_e.ref;return isFileInput(et)?et.files:isRadioInput(et)?getRadioValue(_e.refs).value:isMultipleSelect(et)?[...et.selectedOptions].map(({value:rt})=>rt):isCheckBoxInput(et)?getCheckboxValue(_e.refs).value:getFieldValueAs(isUndefined(et.value)?_e.ref.value:et.value,_e)}var getResolverOptions=(_e,et,rt,nt)=>{const st={};for(const it of _e){const at=get(et,it);at&&set(st,it,at._f)}return{criteriaMode:rt,names:[..._e],fields:st,shouldUseNativeValidation:nt}},isRegex=_e=>_e instanceof RegExp,getRuleValue=_e=>isUndefined(_e)?_e:isRegex(_e)?_e.source:isObject(_e)?isRegex(_e.value)?_e.value.source:_e.value:_e,getValidationModes=_e=>({isOnSubmit:!_e||_e===VALIDATION_MODE.onSubmit,isOnBlur:_e===VALIDATION_MODE.onBlur,isOnChange:_e===VALIDATION_MODE.onChange,isOnAll:_e===VALIDATION_MODE.all,isOnTouch:_e===VALIDATION_MODE.onTouched});const ASYNC_FUNCTION="AsyncFunction";var hasPromiseValidation=_e=>!!_e&&!!_e.validate&&!!(isFunction(_e.validate)&&_e.validate.constructor.name===ASYNC_FUNCTION||isObject(_e.validate)&&Object.values(_e.validate).find(et=>et.constructor.name===ASYNC_FUNCTION)),hasValidation=_e=>_e.mount&&(_e.required||_e.min||_e.max||_e.maxLength||_e.minLength||_e.pattern||_e.validate),isWatched=(_e,et,rt)=>!rt&&(et.watchAll||et.watch.has(_e)||[...et.watch].some(nt=>_e.startsWith(nt)&&/^\.\w+/.test(_e.slice(nt.length))));const iterateFieldsByAction=(_e,et,rt,nt)=>{for(const st of rt||Object.keys(_e)){const it=get(_e,st);if(it){const{_f:at,...ot}=it;if(at){if(at.refs&&at.refs[0]&&et(at.refs[0],st)&&!nt)return!0;if(at.ref&&et(at.ref,at.name)&&!nt)return!0;if(iterateFieldsByAction(ot,et))break}else if(isObject(ot)&&iterateFieldsByAction(ot,et))break}}};function schemaErrorLookup(_e,et,rt){const nt=get(_e,rt);if(nt||isKey(rt))return{error:nt,name:rt};const st=rt.split(".");for(;st.length;){const it=st.join("."),at=get(et,it),ot=get(_e,it);if(at&&!Array.isArray(at)&&rt!==it)return{name:rt};if(ot&&ot.type)return{name:it,error:ot};if(ot&&ot.root&&ot.root.type)return{name:`${it}.root`,error:ot.root};st.pop()}return{name:rt}}var shouldRenderFormState=(_e,et,rt,nt)=>{rt(_e);const{name:st,...it}=_e;return isEmptyObject(it)||Object.keys(it).length>=Object.keys(et).length||Object.keys(it).find(at=>et[at]===(!nt||VALIDATION_MODE.all))},shouldSubscribeByName=(_e,et,rt)=>!_e||!et||_e===et||convertToArrayPayload(_e).some(nt=>nt&&(rt?nt===et:nt.startsWith(et)||et.startsWith(nt))),skipValidation=(_e,et,rt,nt,st)=>st.isOnAll?!1:!rt&&st.isOnTouch?!(et||_e):(rt?nt.isOnBlur:st.isOnBlur)?!_e:(rt?nt.isOnChange:st.isOnChange)?_e:!0,unsetEmptyArray=(_e,et)=>!compact(get(_e,et)).length&&unset(_e,et),updateFieldArrayRootError=(_e,et,rt)=>{const nt=convertToArrayPayload(get(_e,rt));return set(nt,"root",et[rt]),set(_e,rt,nt),_e};function getValidateError(_e,et,rt="validate"){if(isString(_e)||Array.isArray(_e)&&_e.every(isString)||isBoolean(_e)&&!_e)return{type:rt,message:isString(_e)?_e:"",ref:et}}var getValueAndMessage=_e=>isObject(_e)&&!isRegex(_e)?_e:{value:_e,message:""},validateField=async(_e,et,rt,nt,st,it)=>{const{ref:at,refs:ot,required:lt,maxLength:ct,minLength:ut,min:dt,max:pt,pattern:mt,validate:xt,name:yt,valueAsNumber:vt,mount:gt}=_e._f,Et=get(rt,yt);if(!gt||et.has(yt))return{};const jt=ot?ot[0]:at,kt=Tt=>{st&&jt.reportValidity&&(jt.setCustomValidity(isBoolean(Tt)?"":Tt||""),jt.reportValidity())},Rt={},St=isRadioInput(at),_t=isCheckBoxInput(at),Nt=St||_t,Lt=(vt||isFileInput(at))&&isUndefined(at.value)&&isUndefined(Et)||isHTMLElement(at)&&at.value===""||Et===""||Array.isArray(Et)&&!Et.length,$t=appendErrors.bind(null,yt,nt,Rt),Ft=(Tt,Bt,Wt,qt=INPUT_VALIDATION_RULES.maxLength,Ot=INPUT_VALIDATION_RULES.minLength)=>{const Dt=Tt?Bt:Wt;Rt[yt]={type:Tt?qt:Ot,message:Dt,ref:at,...$t(Tt?qt:Ot,Dt)}};if(it?!Array.isArray(Et)||!Et.length:lt&&(!Nt&&(Lt||isNullOrUndefined(Et))||isBoolean(Et)&&!Et||_t&&!getCheckboxValue(ot).isValid||St&&!getRadioValue(ot).isValid)){const{value:Tt,message:Bt}=isString(lt)?{value:!!lt,message:lt}:getValueAndMessage(lt);if(Tt&&(Rt[yt]={type:INPUT_VALIDATION_RULES.required,message:Bt,ref:jt,...$t(INPUT_VALIDATION_RULES.required,Bt)},!nt))return kt(Bt),Rt}if(!Lt&&(!isNullOrUndefined(dt)||!isNullOrUndefined(pt))){let Tt,Bt;const Wt=getValueAndMessage(pt),qt=getValueAndMessage(dt);if(!isNullOrUndefined(Et)&&!isNaN(Et)){const Ot=at.valueAsNumber||Et&&+Et;isNullOrUndefined(Wt.value)||(Tt=Ot>Wt.value),isNullOrUndefined(qt.value)||(Bt=Ot<qt.value)}else{const Ot=at.valueAsDate||new Date(Et),Dt=At=>new Date(new Date().toDateString()+" "+At),Pt=at.type=="time",It=at.type=="week";isString(Wt.value)&&Et&&(Tt=Pt?Dt(Et)>Dt(Wt.value):It?Et>Wt.value:Ot>new Date(Wt.value)),isString(qt.value)&&Et&&(Bt=Pt?Dt(Et)<Dt(qt.value):It?Et<qt.value:Ot<new Date(qt.value))}if((Tt||Bt)&&(Ft(!!Tt,Wt.message,qt.message,INPUT_VALIDATION_RULES.max,INPUT_VALIDATION_RULES.min),!nt))return kt(Rt[yt].message),Rt}if((ct||ut)&&!Lt&&(isString(Et)||it&&Array.isArray(Et))){const Tt=getValueAndMessage(ct),Bt=getValueAndMessage(ut),Wt=!isNullOrUndefined(Tt.value)&&Et.length>+Tt.value,qt=!isNullOrUndefined(Bt.value)&&Et.length<+Bt.value;if((Wt||qt)&&(Ft(Wt,Tt.message,Bt.message),!nt))return kt(Rt[yt].message),Rt}if(mt&&!Lt&&isString(Et)){const{value:Tt,message:Bt}=getValueAndMessage(mt);if(isRegex(Tt)&&!Et.match(Tt)&&(Rt[yt]={type:INPUT_VALIDATION_RULES.pattern,message:Bt,ref:at,...$t(INPUT_VALIDATION_RULES.pattern,Bt)},!nt))return kt(Bt),Rt}if(xt){if(isFunction(xt)){const Tt=await xt(Et,rt),Bt=getValidateError(Tt,jt);if(Bt&&(Rt[yt]={...Bt,...$t(INPUT_VALIDATION_RULES.validate,Bt.message)},!nt))return kt(Bt.message),Rt}else if(isObject(xt)){let Tt={};for(const Bt in xt){if(!isEmptyObject(Tt)&&!nt)break;const Wt=getValidateError(await xt[Bt](Et,rt),jt,Bt);Wt&&(Tt={...Wt,...$t(Bt,Wt.message)},kt(Wt.message),nt&&(Rt[yt]=Tt))}if(!isEmptyObject(Tt)&&(Rt[yt]={ref:jt,...Tt},!nt))return Rt}}return kt(!0),Rt};const defaultOptions={mode:VALIDATION_MODE.onSubmit,reValidateMode:VALIDATION_MODE.onChange,shouldFocusError:!0};function createFormControl(_e={}){let et={...defaultOptions,..._e},rt={submitCount:0,isDirty:!1,isReady:!1,isLoading:isFunction(et.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:et.errors||{},disabled:et.disabled||!1},nt={},st=isObject(et.defaultValues)||isObject(et.values)?cloneObject(et.defaultValues||et.values)||{}:{},it=et.shouldUnregister?{}:cloneObject(st),at={action:!1,mount:!1,watch:!1,keepIsValid:!1},ot={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},lt,ct=0;const ut={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},dt={...ut};let pt={...dt};const mt={array:createSubject(),state:createSubject()},xt=et.criteriaMode===VALIDATION_MODE.all,yt=Kt=>Qt=>{clearTimeout(ct),ct=setTimeout(Kt,Qt)},vt=async Kt=>{if(!at.keepIsValid&&!et.disabled&&(dt.isValid||pt.isValid||Kt)){let Qt;et.resolver?(Qt=isEmptyObject((await Nt()).errors),gt()):Qt=await $t(nt,!0),Qt!==rt.isValid&&mt.state.next({isValid:Qt})}},gt=(Kt,Qt)=>{!et.disabled&&(dt.isValidating||dt.validatingFields||pt.isValidating||pt.validatingFields)&&((Kt||Array.from(ot.mount)).forEach(ir=>{ir&&(Qt?set(rt.validatingFields,ir,Qt):unset(rt.validatingFields,ir))}),mt.state.next({validatingFields:rt.validatingFields,isValidating:!isEmptyObject(rt.validatingFields)}))},Et=(Kt,Qt=[],ir,dr,ur=!0,Xt=!0)=>{if(dr&&ir&&!et.disabled){if(at.action=!0,Xt&&Array.isArray(get(nt,Kt))){const nr=ir(get(nt,Kt),dr.argA,dr.argB);ur&&set(nt,Kt,nr)}if(Xt&&Array.isArray(get(rt.errors,Kt))){const nr=ir(get(rt.errors,Kt),dr.argA,dr.argB);ur&&set(rt.errors,Kt,nr),unsetEmptyArray(rt.errors,Kt)}if((dt.touchedFields||pt.touchedFields)&&Xt&&Array.isArray(get(rt.touchedFields,Kt))){const nr=ir(get(rt.touchedFields,Kt),dr.argA,dr.argB);ur&&set(rt.touchedFields,Kt,nr)}(dt.dirtyFields||pt.dirtyFields)&&(rt.dirtyFields=getDirtyFields(st,it)),mt.state.next({name:Kt,isDirty:Tt(Kt,Qt),dirtyFields:rt.dirtyFields,errors:rt.errors,isValid:rt.isValid})}else set(it,Kt,Qt)},jt=(Kt,Qt)=>{set(rt.errors,Kt,Qt),mt.state.next({errors:rt.errors})},kt=Kt=>{rt.errors=Kt,mt.state.next({errors:rt.errors,isValid:!1})},Rt=(Kt,Qt,ir,dr)=>{const ur=get(nt,Kt);if(ur){const Xt=get(it,Kt,isUndefined(ir)?get(st,Kt):ir);isUndefined(Xt)||dr&&dr.defaultChecked||Qt?set(it,Kt,Qt?Xt:getFieldValue(ur._f)):qt(Kt,Xt),at.mount&&!at.action&&vt()}},St=(Kt,Qt,ir,dr,ur)=>{let Xt=!1,nr=!1;const hr={name:Kt};if(!et.disabled){if(!ir||dr){(dt.isDirty||pt.isDirty)&&(nr=rt.isDirty,rt.isDirty=hr.isDirty=Tt(),Xt=nr!==hr.isDirty);const xr=deepEqual(get(st,Kt),Qt);nr=!!get(rt.dirtyFields,Kt),xr?unset(rt.dirtyFields,Kt):set(rt.dirtyFields,Kt,!0),hr.dirtyFields=rt.dirtyFields,Xt=Xt||(dt.dirtyFields||pt.dirtyFields)&&nr!==!xr}if(ir){const xr=get(rt.touchedFields,Kt);xr||(set(rt.touchedFields,Kt,ir),hr.touchedFields=rt.touchedFields,Xt=Xt||(dt.touchedFields||pt.touchedFields)&&xr!==ir)}Xt&&ur&&mt.state.next(hr)}return Xt?hr:{}},_t=(Kt,Qt,ir,dr)=>{const ur=get(rt.errors,Kt),Xt=(dt.isValid||pt.isValid)&&isBoolean(Qt)&&rt.isValid!==Qt;if(et.delayError&&ir?(lt=yt(()=>jt(Kt,ir)),lt(et.delayError)):(clearTimeout(ct),lt=null,ir?set(rt.errors,Kt,ir):unset(rt.errors,Kt)),(ir?!deepEqual(ur,ir):ur)||!isEmptyObject(dr)||Xt){const nr={...dr,...Xt&&isBoolean(Qt)?{isValid:Qt}:{},errors:rt.errors,name:Kt};rt={...rt,...nr},mt.state.next(nr)}},Nt=async Kt=>(gt(Kt,!0),await et.resolver(it,et.context,getResolverOptions(Kt||ot.mount,nt,et.criteriaMode,et.shouldUseNativeValidation))),Lt=async Kt=>{const{errors:Qt}=await Nt(Kt);if(gt(Kt),Kt)for(const ir of Kt){const dr=get(Qt,ir);dr?set(rt.errors,ir,dr):unset(rt.errors,ir)}else rt.errors=Qt;return Qt},$t=async(Kt,Qt,ir={valid:!0})=>{for(const dr in Kt){const ur=Kt[dr];if(ur){const{_f:Xt,...nr}=ur;if(Xt){const hr=ot.array.has(Xt.name),xr=ur._f&&hasPromiseValidation(ur._f);xr&&dt.validatingFields&&gt([Xt.name],!0);const jr=await validateField(ur,ot.disabled,it,xt,et.shouldUseNativeValidation&&!Qt,hr);if(xr&&dt.validatingFields&&gt([Xt.name]),jr[Xt.name]&&(ir.valid=!1,Qt||_e.shouldUseNativeValidation))break;!Qt&&(get(jr,Xt.name)?hr?updateFieldArrayRootError(rt.errors,jr,Xt.name):set(rt.errors,Xt.name,jr[Xt.name]):unset(rt.errors,Xt.name))}!isEmptyObject(nr)&&await $t(nr,Qt,ir)}}return ir.valid},Ft=()=>{for(const Kt of ot.unMount){const Qt=get(nt,Kt);Qt&&(Qt._f.refs?Qt._f.refs.every(ir=>!live(ir)):!live(Qt._f.ref))&&Er(Kt)}ot.unMount=new Set},Tt=(Kt,Qt)=>!et.disabled&&(Kt&&Qt&&set(it,Kt,Qt),!deepEqual(Ht(),st)),Bt=(Kt,Qt,ir)=>generateWatchOutput(Kt,ot,{...at.mount?it:isUndefined(Qt)?st:isString(Kt)?{[Kt]:Qt}:Qt},ir,Qt),Wt=Kt=>compact(get(at.mount?it:st,Kt,et.shouldUnregister?get(st,Kt,[]):[])),qt=(Kt,Qt,ir={})=>{const dr=get(nt,Kt);let ur=Qt;if(dr){const Xt=dr._f;Xt&&(!Xt.disabled&&set(it,Kt,getFieldValueAs(Qt,Xt)),ur=isHTMLElement(Xt.ref)&&isNullOrUndefined(Qt)?"":Qt,isMultipleSelect(Xt.ref)?[...Xt.ref.options].forEach(nr=>nr.selected=ur.includes(nr.value)):Xt.refs?isCheckBoxInput(Xt.ref)?Xt.refs.forEach(nr=>{(!nr.defaultChecked||!nr.disabled)&&(Array.isArray(ur)?nr.checked=!!ur.find(hr=>hr===nr.value):nr.checked=ur===nr.value||!!ur)}):Xt.refs.forEach(nr=>nr.checked=nr.value===ur):isFileInput(Xt.ref)?Xt.ref.value="":(Xt.ref.value=ur,Xt.ref.type||mt.state.next({name:Kt,values:cloneObject(it)})))}(ir.shouldDirty||ir.shouldTouch)&&St(Kt,ur,ir.shouldTouch,ir.shouldDirty,!0),ir.shouldValidate&&At(Kt)},Ot=(Kt,Qt,ir)=>{for(const dr in Qt){if(!Qt.hasOwnProperty(dr))return;const ur=Qt[dr],Xt=Kt+"."+dr,nr=get(nt,Xt);(ot.array.has(Kt)||isObject(ur)||nr&&!nr._f)&&!isDateObject(ur)?Ot(Xt,ur,ir):qt(Xt,ur,ir)}},Dt=(Kt,Qt,ir={})=>{const dr=get(nt,Kt),ur=ot.array.has(Kt),Xt=cloneObject(Qt);set(it,Kt,Xt),ur?(mt.array.next({name:Kt,values:cloneObject(it)}),(dt.isDirty||dt.dirtyFields||pt.isDirty||pt.dirtyFields)&&ir.shouldDirty&&mt.state.next({name:Kt,dirtyFields:getDirtyFields(st,it),isDirty:Tt(Kt,Xt)})):dr&&!dr._f&&!isNullOrUndefined(Xt)?Ot(Kt,Xt,ir):qt(Kt,Xt,ir),isWatched(Kt,ot)?mt.state.next({...rt,name:Kt,values:cloneObject(it)}):mt.state.next({name:at.mount?Kt:void 0,values:cloneObject(it)})},Pt=async Kt=>{at.mount=!0;const Qt=Kt.target;let ir=Qt.name,dr=!0;const ur=get(nt,ir),Xt=xr=>{dr=Number.isNaN(xr)||isDateObject(xr)&&isNaN(xr.getTime())||deepEqual(xr,get(it,ir,xr))},nr=getValidationModes(et.mode),hr=getValidationModes(et.reValidateMode);if(ur){let xr,jr;const Lr=Qt.type?getFieldValue(ur._f):getEventValue(Kt),Vr=Kt.type===EVENTS.BLUR||Kt.type===EVENTS.FOCUS_OUT,Kr=!hasValidation(ur._f)&&!et.resolver&&!get(rt.errors,ir)&&!ur._f.deps||skipValidation(Vr,get(rt.touchedFields,ir),rt.isSubmitted,hr,nr),Xr=isWatched(ir,ot,Vr);set(it,ir,Lr),Vr?(!Qt||!Qt.readOnly)&&(ur._f.onBlur&&ur._f.onBlur(Kt),lt&&lt(0)):ur._f.onChange&&ur._f.onChange(Kt);const Jr=St(ir,Lr,Vr),Ur=!isEmptyObject(Jr)||Xr;if(!Vr&&mt.state.next({name:ir,type:Kt.type,values:cloneObject(it)}),Kr)return(dt.isValid||pt.isValid)&&(et.mode==="onBlur"?Vr&&vt():Vr||vt()),Ur&&mt.state.next({name:ir,...Xr?{}:Jr});if(!Vr&&Xr&&mt.state.next({...rt}),et.resolver){const{errors:qr}=await Nt([ir]);if(gt([ir]),Xt(Lr),dr){const Zr=schemaErrorLookup(rt.errors,nt,ir),Gn=schemaErrorLookup(qr,nt,Zr.name||ir);xr=Gn.error,ir=Gn.name,jr=isEmptyObject(qr)}}else gt([ir],!0),xr=(await validateField(ur,ot.disabled,it,xt,et.shouldUseNativeValidation))[ir],gt([ir]),Xt(Lr),dr&&(xr?jr=!1:(dt.isValid||pt.isValid)&&(jr=await $t(nt,!0)));dr&&(ur._f.deps&&(!Array.isArray(ur._f.deps)||ur._f.deps.length>0)&&At(ur._f.deps),_t(ir,jr,xr,Jr))}},It=(Kt,Qt)=>{if(get(rt.errors,Qt)&&Kt.focus)return Kt.focus(),1},At=async(Kt,Qt={})=>{let ir,dr;const ur=convertToArrayPayload(Kt);if(et.resolver){const Xt=await Lt(isUndefined(Kt)?Kt:ur);ir=isEmptyObject(Xt),dr=Kt?!ur.some(nr=>get(Xt,nr)):ir}else Kt?(dr=(await Promise.all(ur.map(async Xt=>{const nr=get(nt,Xt);return await $t(nr&&nr._f?{[Xt]:nr}:nr)}))).every(Boolean),!(!dr&&!rt.isValid)&&vt()):dr=ir=await $t(nt);return mt.state.next({...!isString(Kt)||(dt.isValid||pt.isValid)&&ir!==rt.isValid?{}:{name:Kt},...et.resolver||!Kt?{isValid:ir}:{},errors:rt.errors}),Qt.shouldFocus&&!dr&&iterateFieldsByAction(nt,It,Kt?ur:ot.mount),dr},Ht=(Kt,Qt)=>{let ir={...at.mount?it:st};return Qt&&(ir=extractFormValues(Qt.dirtyFields?rt.dirtyFields:rt.touchedFields,ir)),isUndefined(Kt)?ir:isString(Kt)?get(ir,Kt):Kt.map(dr=>get(ir,dr))},Gt=(Kt,Qt)=>({invalid:!!get((Qt||rt).errors,Kt),isDirty:!!get((Qt||rt).dirtyFields,Kt),error:get((Qt||rt).errors,Kt),isValidating:!!get(rt.validatingFields,Kt),isTouched:!!get((Qt||rt).touchedFields,Kt)}),Vt=Kt=>{Kt&&convertToArrayPayload(Kt).forEach(Qt=>unset(rt.errors,Qt)),mt.state.next({errors:Kt?rt.errors:{}})},Jt=(Kt,Qt,ir)=>{const dr=(get(nt,Kt,{_f:{}})._f||{}).ref,ur=get(rt.errors,Kt)||{},{ref:Xt,message:nr,type:hr,...xr}=ur;set(rt.errors,Kt,{...xr,...Qt,ref:dr}),mt.state.next({name:Kt,errors:rt.errors,isValid:!1}),ir&&ir.shouldFocus&&dr&&dr.focus&&dr.focus()},rr=(Kt,Qt)=>isFunction(Kt)?mt.state.subscribe({next:ir=>"values"in ir&&Kt(Bt(void 0,Qt),ir)}):Bt(Kt,Qt,!0),ar=Kt=>mt.state.subscribe({next:Qt=>{shouldSubscribeByName(Kt.name,Qt.name,Kt.exact)&&shouldRenderFormState(Qt,Kt.formState||dt,Nr,Kt.reRenderRoot)&&Kt.callback({values:{...it},...rt,...Qt,defaultValues:st})}}).unsubscribe,mr=Kt=>(at.mount=!0,pt={...pt,...Kt.formState},ar({...Kt,formState:{...ut,...Kt.formState}})),Er=(Kt,Qt={})=>{for(const ir of Kt?convertToArrayPayload(Kt):ot.mount)ot.mount.delete(ir),ot.array.delete(ir),Qt.keepValue||(unset(nt,ir),unset(it,ir)),!Qt.keepError&&unset(rt.errors,ir),!Qt.keepDirty&&unset(rt.dirtyFields,ir),!Qt.keepTouched&&unset(rt.touchedFields,ir),!Qt.keepIsValidating&&unset(rt.validatingFields,ir),!et.shouldUnregister&&!Qt.keepDefaultValue&&unset(st,ir);mt.state.next({values:cloneObject(it)}),mt.state.next({...rt,...Qt.keepDirty?{isDirty:Tt()}:{}}),!Qt.keepIsValid&&vt()},or=({disabled:Kt,name:Qt})=>{if(isBoolean(Kt)&&at.mount||Kt||ot.disabled.has(Qt)){const ur=ot.disabled.has(Qt)!==!!Kt;Kt?ot.disabled.add(Qt):ot.disabled.delete(Qt),ur&&at.mount&&!at.action&&vt()}},yr=(Kt,Qt={})=>{let ir=get(nt,Kt);const dr=isBoolean(Qt.disabled)||isBoolean(et.disabled);return set(nt,Kt,{...ir||{},_f:{...ir&&ir._f?ir._f:{ref:{name:Kt}},name:Kt,mount:!0,...Qt}}),ot.mount.add(Kt),ir?or({disabled:isBoolean(Qt.disabled)?Qt.disabled:et.disabled,name:Kt}):Rt(Kt,!0,Qt.value),{...dr?{disabled:Qt.disabled||et.disabled}:{},...et.progressive?{required:!!Qt.required,min:getRuleValue(Qt.min),max:getRuleValue(Qt.max),minLength:getRuleValue(Qt.minLength),maxLength:getRuleValue(Qt.maxLength),pattern:getRuleValue(Qt.pattern)}:{},name:Kt,onChange:Pt,onBlur:Pt,ref:ur=>{if(ur){yr(Kt,Qt),ir=get(nt,Kt);const Xt=isUndefined(ur.value)&&ur.querySelectorAll&&ur.querySelectorAll("input,select,textarea")[0]||ur,nr=isRadioOrCheckbox(Xt),hr=ir._f.refs||[];if(nr?hr.find(xr=>xr===Xt):Xt===ir._f.ref)return;set(nt,Kt,{_f:{...ir._f,...nr?{refs:[...hr.filter(live),Xt,...Array.isArray(get(st,Kt))?[{}]:[]],ref:{type:Xt.type,name:Kt}}:{ref:Xt}}}),Rt(Kt,!1,void 0,Xt)}else ir=get(nt,Kt,{}),ir._f&&(ir._f.mount=!1),(et.shouldUnregister||Qt.shouldUnregister)&&!(isNameInFieldArray(ot.array,Kt)&&at.action)&&ot.unMount.add(Kt)}}},vr=()=>et.shouldFocusError&&iterateFieldsByAction(nt,It,ot.mount),Zt=Kt=>{isBoolean(Kt)&&(mt.state.next({disabled:Kt}),iterateFieldsByAction(nt,(Qt,ir)=>{const dr=get(nt,ir);dr&&(Qt.disabled=dr._f.disabled||Kt,Array.isArray(dr._f.refs)&&dr._f.refs.forEach(ur=>{ur.disabled=dr._f.disabled||Kt}))},0,!1))},pr=(Kt,Qt)=>async ir=>{let dr;ir&&(ir.preventDefault&&ir.preventDefault(),ir.persist&&ir.persist());let ur=cloneObject(it);if(mt.state.next({isSubmitting:!0}),et.resolver){const{errors:Xt,values:nr}=await Nt();gt(),rt.errors=Xt,ur=cloneObject(nr)}else await $t(nt);if(ot.disabled.size)for(const Xt of ot.disabled)unset(ur,Xt);if(unset(rt.errors,"root"),isEmptyObject(rt.errors)){mt.state.next({errors:{}});try{await Kt(ur,ir)}catch(Xt){dr=Xt}}else Qt&&await Qt({...rt.errors},ir),vr(),setTimeout(vr);if(mt.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:isEmptyObject(rt.errors)&&!dr,submitCount:rt.submitCount+1,errors:rt.errors}),dr)throw dr},lr=(Kt,Qt={})=>{get(nt,Kt)&&(isUndefined(Qt.defaultValue)?Dt(Kt,cloneObject(get(st,Kt))):(Dt(Kt,Qt.defaultValue),set(st,Kt,cloneObject(Qt.defaultValue))),Qt.keepTouched||unset(rt.touchedFields,Kt),Qt.keepDirty||(unset(rt.dirtyFields,Kt),rt.isDirty=Qt.defaultValue?Tt(Kt,cloneObject(get(st,Kt))):Tt()),Qt.keepError||(unset(rt.errors,Kt),dt.isValid&&vt()),mt.state.next({...rt}))},wr=(Kt,Qt={})=>{const ir=Kt?cloneObject(Kt):st,dr=cloneObject(ir),ur=isEmptyObject(Kt),Xt=ur?st:dr;if(Qt.keepDefaultValues||(st=ir),!Qt.keepValues){if(Qt.keepDirtyValues){const nr=new Set([...ot.mount,...Object.keys(getDirtyFields(st,it))]);for(const hr of Array.from(nr)){const xr=get(rt.dirtyFields,hr),jr=get(it,hr),Lr=get(Xt,hr);xr&&!isUndefined(jr)?set(Xt,hr,jr):!xr&&!isUndefined(Lr)&&Dt(hr,Lr)}}else{if(isWeb&&isUndefined(Kt))for(const nr of ot.mount){const hr=get(nt,nr);if(hr&&hr._f){const xr=Array.isArray(hr._f.refs)?hr._f.refs[0]:hr._f.ref;if(isHTMLElement(xr)){const jr=xr.closest("form");if(jr){jr.reset();break}}}}if(Qt.keepFieldsRef)for(const nr of ot.mount)Dt(nr,get(Xt,nr));else nt={}}it=et.shouldUnregister?Qt.keepDefaultValues?cloneObject(st):{}:cloneObject(Xt),mt.array.next({values:{...Xt}}),mt.state.next({values:{...Xt}})}ot={mount:Qt.keepDirtyValues?ot.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},at.mount=!dt.isValid||!!Qt.keepIsValid||!!Qt.keepDirtyValues||!et.shouldUnregister&&!isEmptyObject(Xt),at.watch=!!et.shouldUnregister,at.keepIsValid=!!Qt.keepIsValid,at.action=!1,Qt.keepErrors||(rt.errors={}),mt.state.next({submitCount:Qt.keepSubmitCount?rt.submitCount:0,isDirty:ur?!1:Qt.keepDirty?rt.isDirty:!!(Qt.keepDefaultValues&&!deepEqual(Kt,st)),isSubmitted:Qt.keepIsSubmitted?rt.isSubmitted:!1,dirtyFields:ur?{}:Qt.keepDirtyValues?Qt.keepDefaultValues&&it?getDirtyFields(st,it):rt.dirtyFields:Qt.keepDefaultValues&&Kt?getDirtyFields(st,Kt):Qt.keepDirty?rt.dirtyFields:{},touchedFields:Qt.keepTouched?rt.touchedFields:{},errors:Qt.keepErrors?rt.errors:{},isSubmitSuccessful:Qt.keepIsSubmitSuccessful?rt.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:st})},Rr=(Kt,Qt)=>wr(isFunction(Kt)?Kt(it):Kt,{...et.resetOptions,...Qt}),Tr=(Kt,Qt={})=>{const ir=get(nt,Kt),dr=ir&&ir._f;if(dr){const ur=dr.refs?dr.refs[0]:dr.ref;ur.focus&&setTimeout(()=>{ur.focus(),Qt.shouldSelect&&isFunction(ur.select)&&ur.select()})}},Nr=Kt=>{rt={...rt,...Kt}},Dr={control:{register:yr,unregister:Er,getFieldState:Gt,handleSubmit:pr,setError:Jt,_subscribe:ar,_runSchema:Nt,_updateIsValidating:gt,_focusError:vr,_getWatch:Bt,_getDirty:Tt,_setValid:vt,_setFieldArray:Et,_setDisabledField:or,_setErrors:kt,_getFieldArray:Wt,_reset:wr,_resetDefaultValues:()=>isFunction(et.defaultValues)&&et.defaultValues().then(Kt=>{Rr(Kt,et.resetOptions),mt.state.next({isLoading:!1})}),_removeUnmounted:Ft,_disableForm:Zt,_subjects:mt,_proxyFormState:dt,get _fields(){return nt},get _formValues(){return it},get _state(){return at},set _state(Kt){at=Kt},get _defaultValues(){return st},get _names(){return ot},set _names(Kt){ot=Kt},get _formState(){return rt},get _options(){return et},set _options(Kt){et={...et,...Kt}}},subscribe:mr,trigger:At,register:yr,handleSubmit:pr,watch:rr,setValue:Dt,getValues:Ht,reset:Rr,resetField:lr,clearErrors:Vt,unregister:Er,setError:Jt,setFocus:Tr,getFieldState:Gt};return{...Dr,formControl:Dr}}function useForm(_e={}){const et=React$3.useRef(void 0),rt=React$3.useRef(void 0),[nt,st]=React$3.useState({isDirty:!1,isValidating:!1,isLoading:isFunction(_e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:_e.errors||{},disabled:_e.disabled||!1,isReady:!1,defaultValues:isFunction(_e.defaultValues)?void 0:_e.defaultValues});if(!et.current)if(_e.formControl)et.current={..._e.formControl,formState:nt},_e.defaultValues&&!isFunction(_e.defaultValues)&&_e.formControl.reset(_e.defaultValues,_e.resetOptions);else{const{formControl:at,...ot}=createFormControl(_e);et.current={...ot,formState:nt}}const it=et.current.control;return it._options=_e,useIsomorphicLayoutEffect(()=>{const at=it._subscribe({formState:it._proxyFormState,callback:()=>st({...it._formState}),reRenderRoot:!0});return st(ot=>({...ot,isReady:!0})),it._formState.isReady=!0,at},[it]),React$3.useEffect(()=>it._disableForm(_e.disabled),[it,_e.disabled]),React$3.useEffect(()=>{_e.mode&&(it._options.mode=_e.mode),_e.reValidateMode&&(it._options.reValidateMode=_e.reValidateMode)},[it,_e.mode,_e.reValidateMode]),React$3.useEffect(()=>{_e.errors&&(it._setErrors(_e.errors),it._focusError())},[it,_e.errors]),React$3.useEffect(()=>{_e.shouldUnregister&&it._subjects.state.next({values:it._getWatch()})},[it,_e.shouldUnregister]),React$3.useEffect(()=>{if(it._proxyFormState.isDirty){const at=it._getDirty();at!==nt.isDirty&&it._subjects.state.next({isDirty:at})}},[it,nt.isDirty]),React$3.useEffect(()=>{var at;_e.values&&!deepEqual(_e.values,rt.current)?(it._reset(_e.values,{keepFieldsRef:!0,...it._options.resetOptions}),!((at=it._options.resetOptions)===null||at===void 0)&&at.keepIsValid||it._setValid(),rt.current=_e.values,st(ot=>({...ot}))):it._resetDefaultValues()},[it,_e.values]),React$3.useEffect(()=>{it._state.mount||(it._setValid(),it._state.mount=!0),it._state.watch&&(it._state.watch=!1,it._subjects.state.next({...it._formState})),it._removeUnmounted()}),et.current.formState=React$3.useMemo(()=>getProxyFormState(nt,it),[it,nt]),et.current}function CouponDetailPage(){const{id:_e}=useParams(),et=useNavigate(),rt=_e&&_e!=="new",[nt,st]=reactExports.useState(rt),[it,at]=reactExports.useState(!1),{register:ot,handleSubmit:lt,reset:ct,formState:{errors:ut}}=useForm({defaultValues:{code:"",type:"percent",value:0,min_subtotal:0,start_at:"",end_at:"",usage_limit:"",is_active:!0}});reactExports.useEffect(()=>{rt&&(async()=>{try{const xt=(await couponService.getCoupon(_e)).data,yt=vt=>vt?new Date(vt).toISOString().split("T")[0]:"";ct({...xt,value:Number(xt.value),min_subtotal:Number(xt.min_subtotal),start_at:yt(xt.start_at),end_at:yt(xt.end_at),usage_limit:xt.usage_limit||""})}catch{n$8.error("Khng th ti thng tin m gim gi"),et("/admin/coupons")}finally{st(!1)}})()},[_e,rt,ct,et]);const dt=async pt=>{var mt,xt;try{at(!0);const yt={...pt,value:Number(pt.value),min_subtotal:Number(pt.min_subtotal),usage_limit:pt.usage_limit?Number(pt.usage_limit):null,start_at:pt.start_at||null,end_at:pt.end_at||null};rt?(await couponService.updateCoupon(_e,yt),n$8.success("Cp nht thnh cng")):(await couponService.createCoupon(yt),n$8.success("To m khuyn mi thnh cng")),et("/admin/coupons")}catch(yt){n$8.error(((xt=(mt=yt.response)==null?void 0:mt.data)==null?void 0:xt.message)||"C li xy ra")}finally{at(!1)}};return nt?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center p-12",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"w-8 h-8 animate-spin text-primary-500"})}):jsxRuntimeExports.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx(Link$1,{to:"/admin/coupons",className:"p-2 text-secondary-500 hover:bg-secondary-100 rounded-lg transition-colors",children:jsxRuntimeExports.jsx(ArrowLeft,{className:"w-5 h-5"})}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-secondary-900 dark:text-white flex items-center gap-2",children:rt?"Chnh sa m khuyn mi":"To m khuyn mi mi"})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:lt(dt),className:"space-y-6",children:[jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-secondary-800 rounded-xl border border-secondary-200 dark:border-secondary-700 shadow-sm p-6 space-y-6",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"M gim gi (Code)"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Ticket,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-secondary-400"}),jsxRuntimeExports.jsx("input",{type:"text",...ot("code",{required:"Vui lng nhp m",minLength:3}),className:"w-full pl-10 pr-4 py-2 bg-secondary-50 dark:bg-secondary-900 border border-secondary-200 dark:border-secondary-700 rounded-lg focus:ring-2 focus:ring-primary-500 dark:text-white uppercase font-mono",placeholder:"VD: SALE50"})]}),ut.code&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-xs mt-1",children:ut.code.message})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center pt-8",children:jsxRuntimeExports.jsxs("label",{className:"flex items-center cursor-pointer gap-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",...ot("is_active"),className:"w-4 h-4 text-primary-600 rounded focus:ring-primary-500"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-secondary-700 dark:text-secondary-300",children:"Kch hot ngay"})]})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Loi gim gi"}),jsxRuntimeExports.jsxs("select",{...ot("type"),className:"w-full px-4 py-2 bg-secondary-50 dark:bg-secondary-900 border border-secondary-200 dark:border-secondary-700 rounded-lg focus:ring-2 focus:ring-primary-500 dark:text-white",children:[jsxRuntimeExports.jsx("option",{value:"percent",children:"Phn trm (%)"}),jsxRuntimeExports.jsx("option",{value:"fixed",children:"S tin c nh (VN)"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Gi tr gim"}),jsxRuntimeExports.jsx("input",{type:"number",...ot("value",{required:!0,min:0}),className:"w-full px-4 py-2 bg-secondary-50 dark:bg-secondary-900 border border-secondary-200 dark:border-secondary-700 rounded-lg focus:ring-2 focus:ring-primary-500 dark:text-white"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Gi tr n ti thiu"}),jsxRuntimeExports.jsx("input",{type:"number",...ot("min_subtotal"),className:"w-full px-4 py-2 bg-secondary-50 dark:bg-secondary-900 border border-secondary-200 dark:border-secondary-700 rounded-lg focus:ring-2 focus:ring-primary-500 dark:text-white"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Gii hn lt dng ( trng = V hn)"}),jsxRuntimeExports.jsx("input",{type:"number",...ot("usage_limit"),className:"w-full px-4 py-2 bg-secondary-50 dark:bg-secondary-900 border border-secondary-200 dark:border-secondary-700 rounded-lg focus:ring-2 focus:ring-primary-500 dark:text-white"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Ngy bt u"}),jsxRuntimeExports.jsx("input",{type:"date",...ot("start_at"),className:"w-full px-4 py-2 bg-secondary-50 dark:bg-secondary-900 border border-secondary-200 dark:border-secondary-700 rounded-lg focus:ring-2 focus:ring-primary-500 dark:text-white"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Ngy kt thc"}),jsxRuntimeExports.jsx("input",{type:"date",...ot("end_at"),className:"w-full px-4 py-2 bg-secondary-50 dark:bg-secondary-900 border border-secondary-200 dark:border-secondary-700 rounded-lg focus:ring-2 focus:ring-primary-500 dark:text-white"})]})]})}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-3",children:[jsxRuntimeExports.jsx(Link$1,{to:"/admin/coupons",className:"px-6 py-2 border border-secondary-200 dark:border-secondary-700 rounded-lg text-secondary-600 dark:text-secondary-400 font-medium hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors",children:"Hy"}),jsxRuntimeExports.jsxs("button",{type:"submit",disabled:it,className:"flex items-center gap-2 px-6 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50",children:[it?jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin"}):jsxRuntimeExports.jsx(Save,{className:"w-4 h-4"}),rt?"Cp nht":"To mi"]})]})]})]})}function BrandListPage(){const[_e,et]=reactExports.useState([]),[rt,nt]=reactExports.useState(!0),[st,it]=reactExports.useState(""),[at,ot]=reactExports.useState("all"),lt=async()=>{try{nt(!0);const ut={};st&&(ut.search=st),at!=="all"&&(ut.status=at);const pt=(await brandsAPI.getAll(ut)).data;pt.success&&et(pt.data.brands||[])}catch(ut){console.error("Error fetching brands:",ut),n$8.error("Khng th ti danh sch thng hiu")}finally{nt(!1)}};reactExports.useEffect(()=>{lt()},[at]),reactExports.useEffect(()=>{const ut=setTimeout(()=>{lt()},500);return()=>clearTimeout(ut)},[st]);const ct=async(ut,dt)=>{var pt;if(confirm(`Bn c chc mun xa thng hiu "${dt}"?`))try{const xt=(await brandsAPI.delete(ut)).data;xt.success?(n$8.success(" xa thng hiu"),lt()):n$8.error(((pt=xt.error)==null?void 0:pt.message)||"Khng th xa")}catch{n$8.error("C li xy ra")}};return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-secondary-900 dark:text-white",children:"Qun l Thng hiu"}),jsxRuntimeExports.jsx("p",{className:"text-secondary-500 dark:text-secondary-400",children:"Qun l cc thng hiu sn phm ca ca hng"})]}),jsxRuntimeExports.jsxs(Link$1,{to:"/admin/brands/new",className:"inline-flex items-center gap-2 px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-lg font-medium transition-colors",children:[jsxRuntimeExports.jsx(Plus,{className:"w-5 h-5"}),"Thm thng hiu"]})]}),jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-secondary-800 rounded-xl p-4 shadow-sm border border-secondary-200 dark:border-secondary-700",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"relative flex-1",children:[jsxRuntimeExports.jsx(Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-secondary-400"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Tm kim thng hiu...",value:st,onChange:ut=>it(ut.target.value),className:"w-full pl-10 pr-4 py-2 border border-secondary-200 dark:border-secondary-700 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),jsxRuntimeExports.jsxs("select",{value:at,onChange:ut=>ot(ut.target.value),className:"px-4 py-2 border border-secondary-200 dark:border-secondary-700 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500",children:[jsxRuntimeExports.jsx("option",{value:"all",children:"Tt c trng thi"}),jsxRuntimeExports.jsx("option",{value:"active",children:"ang hot ng"}),jsxRuntimeExports.jsx("option",{value:"inactive",children:" tt"})]})]})}),jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-secondary-800 rounded-xl shadow-sm border border-secondary-200 dark:border-secondary-700 overflow-hidden",children:rt?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center py-12",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"w-8 h-8 animate-spin text-primary-600"})}):_e.length===0?jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx(Tag,{className:"w-12 h-12 mx-auto text-secondary-300 dark:text-secondary-600 mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-secondary-500 dark:text-secondary-400",children:st?"Khng tm thy thng hiu no":"Cha c thng hiu no"})]}):jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"w-full",children:[jsxRuntimeExports.jsx("thead",{className:"bg-secondary-50 dark:bg-secondary-900",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Thng hiu"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Slug"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Sn phm"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Trng thi"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Thao tc"})]})}),jsxRuntimeExports.jsx("tbody",{className:"divide-y divide-secondary-200 dark:divide-secondary-700",children:_e.map(ut=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-900/50 transition-colors",children:[jsxRuntimeExports.jsx("td",{className:"px-6 py-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[ut.logo?jsxRuntimeExports.jsx("img",{src:ut.logo,alt:ut.name,className:"w-10 h-10 rounded-lg object-contain bg-secondary-100 dark:bg-secondary-700"}):jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-lg bg-secondary-100 dark:bg-secondary-700 flex items-center justify-center",children:jsxRuntimeExports.jsx(Tag,{className:"w-5 h-5 text-secondary-400"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-secondary-900 dark:text-white",children:ut.name}),ut.description&&jsxRuntimeExports.jsx("p",{className:"text-xs text-secondary-500 dark:text-secondary-400 truncate max-w-xs",children:ut.description})]})]})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4",children:jsxRuntimeExports.jsx("code",{className:"text-sm text-secondary-600 dark:text-secondary-400 bg-secondary-100 dark:bg-secondary-700 px-2 py-1 rounded",children:ut.slug})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 text-center",children:jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300",children:[ut._count.products," sn phm"]})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 text-center",children:ut.is_active?jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300",children:[jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-3 h-3"}),"Hot ng"]}):jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300",children:[jsxRuntimeExports.jsx(CircleX,{className:"w-3 h-3"})," tt"]})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-end gap-2",children:[jsxRuntimeExports.jsx(Link$1,{to:`/admin/brands/${ut.id}`,className:"p-2 text-secondary-600 dark:text-secondary-400 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors",title:"Chnh sa",children:jsxRuntimeExports.jsx(SquarePen,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("button",{onClick:()=>ct(ut.id,ut.name),className:"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Xa",children:jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4"})})]})})]},ut.id))})]})})})]})}function BrandDetailPage(){const{id:_e}=useParams(),et=useNavigate(),rt=_e==="new",[nt,st]=reactExports.useState(!rt),[it,at]=reactExports.useState(!1),[ot,lt]=reactExports.useState({name:"",slug:"",logo:"",description:"",is_active:!0});reactExports.useEffect(()=>{!rt&&_e&&ct()},[_e]);const ct=async()=>{try{const yt=(await brandsAPI.getById(_e)).data;yt.success?lt({name:yt.data.name,slug:yt.data.slug,logo:yt.data.logo||"",description:yt.data.description||"",is_active:yt.data.is_active}):(n$8.error("Khng tm thy thng hiu"),et("/admin/brands"))}catch(xt){console.error("Fetch brand error:",xt),n$8.error("Li ti thng tin")}finally{st(!1)}},ut=xt=>xt.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(//g,"d").replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim(),dt=xt=>{const yt=xt.target.value;lt(vt=>({...vt,name:yt,slug:rt?ut(yt):vt.slug}))},pt=async xt=>{var vt;const yt=(vt=xt.target.files)==null?void 0:vt[0];if(yt)try{const Et=(await uploadAPI.single(yt)).data;Et.success&&(lt(jt=>({...jt,logo:Et.data.url})),n$8.success(" ti ln logo"))}catch(gt){console.error("Upload error:",gt),n$8.error("Li ti ln nh")}},mt=async xt=>{var yt,vt,gt,Et;if(xt.preventDefault(),!ot.name.trim()){n$8.error("Vui lng nhp tn thng hiu");return}at(!0);try{let jt;rt?jt=await brandsAPI.create(ot):jt=await brandsAPI.update(_e,ot);const kt=jt.data;kt.success?(n$8.success(rt?" to thng hiu":" cp nht thng hiu"),et("/admin/brands")):n$8.error(((yt=kt.error)==null?void 0:yt.message)||"C li xy ra")}catch(jt){console.error("Save brand error:",jt),n$8.error(((Et=(gt=(vt=jt.response)==null?void 0:vt.data)==null?void 0:gt.error)==null?void 0:Et.message)||"Li lu thng tin")}finally{at(!1)}};return nt?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"w-8 h-8 animate-spin text-primary-600"})}):jsxRuntimeExports.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx(Link$1,{to:"/admin/brands",className:"p-2 text-secondary-600 dark:text-secondary-400 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors",children:jsxRuntimeExports.jsx(ArrowLeft,{className:"w-5 h-5"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-secondary-900 dark:text-white",children:rt?"Thm thng hiu mi":"Chnh sa thng hiu"}),jsxRuntimeExports.jsx("p",{className:"text-secondary-500 dark:text-secondary-400",children:rt?"To thng hiu mi cho sn phm":"Cp nht thng tin thng hiu"})]})]}),jsxRuntimeExports.jsxs("form",{onSubmit:mt,className:"bg-white dark:bg-secondary-800 rounded-xl shadow-sm border border-secondary-200 dark:border-secondary-700 p-6 space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Logo thng hiu"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[ot.logo?jsxRuntimeExports.jsx("img",{src:ot.logo,alt:"Logo",className:"w-20 h-20 rounded-xl object-contain bg-secondary-100 dark:bg-secondary-700"}):jsxRuntimeExports.jsx("div",{className:"w-20 h-20 rounded-xl bg-secondary-100 dark:bg-secondary-700 flex items-center justify-center",children:jsxRuntimeExports.jsx(Tag,{className:"w-8 h-8 text-secondary-400"})}),jsxRuntimeExports.jsxs("label",{className:"cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"file",accept:"image/*",onChange:pt,className:"hidden"}),jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-2 px-4 py-2 border border-secondary-200 dark:border-secondary-700 rounded-lg text-sm font-medium text-secondary-700 dark:text-secondary-300 hover:bg-secondary-50 dark:hover:bg-secondary-700 transition-colors",children:[jsxRuntimeExports.jsx(Upload,{className:"w-4 h-4"}),"Ti ln logo"]})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:["Tn thng hiu ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsx("input",{type:"text",value:ot.name,onChange:dt,placeholder:"VD: Nike, Adidas, Gucci...",className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-700 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Slug (URL)"}),jsxRuntimeExports.jsx("input",{type:"text",value:ot.slug,onChange:xt=>lt(yt=>({...yt,slug:xt.target.value})),placeholder:"nike, adidas, gucci...",className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-700 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent font-mono text-sm"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-xs text-secondary-500",children:"ng dn URL thn thin (t ng to t tn)"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"M t"}),jsxRuntimeExports.jsx("textarea",{value:ot.description,onChange:xt=>lt(yt=>({...yt,description:xt.target.value})),rows:3,placeholder:"Thng tin v thng hiu...",className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-700 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",id:"is_active",checked:ot.is_active,onChange:xt=>lt(yt=>({...yt,is_active:xt.target.checked})),className:"w-4 h-4 text-primary-600 border-secondary-300 rounded focus:ring-primary-500"}),jsxRuntimeExports.jsx("label",{htmlFor:"is_active",className:"text-sm font-medium text-secondary-700 dark:text-secondary-300",children:"Hin th thng hiu trn website"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-secondary-200 dark:border-secondary-700",children:[jsxRuntimeExports.jsx(Link$1,{to:"/admin/brands",className:"px-4 py-2 border border-secondary-200 dark:border-secondary-700 rounded-lg text-secondary-700 dark:text-secondary-300 hover:bg-secondary-50 dark:hover:bg-secondary-700 transition-colors",children:"Hy"}),jsxRuntimeExports.jsxs("button",{type:"submit",disabled:it,className:"inline-flex items-center gap-2 px-4 py-2 bg-primary-600 hover:bg-primary-700 disabled:bg-primary-400 text-white rounded-lg font-medium transition-colors",children:[it?jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin"}):jsxRuntimeExports.jsx(Save,{className:"w-4 h-4"}),rt?"To thng hiu":"Lu thay i"]})]})]})]})}function ReviewListPage(){const[_e,et]=reactExports.useState([]),[rt,nt]=reactExports.useState({pending:0,approved:0,rejected:0,hidden:0}),[st,it]=reactExports.useState(!0),[at,ot]=reactExports.useState(""),[lt,ct]=reactExports.useState("all"),[ut,dt]=reactExports.useState(""),[pt,mt]=reactExports.useState([]),xt=async()=>{try{it(!0);const St=localStorage.getItem("token"),_t=new URLSearchParams;at&&_t.append("search",at),lt!=="all"&&_t.append("status",lt),ut&&_t.append("rating",ut);const Lt=await(await fetch(resolveApiUrl(`/api/admin/reviews?${_t}`),{headers:{Authorization:`Bearer ${St}`}})).json();Lt.success&&(et(Lt.data.reviews),nt(Lt.data.stats))}catch(St){console.error("Error fetching reviews:",St),n$8.error("Khng th ti danh sch nh gi")}finally{it(!1)}};reactExports.useEffect(()=>{xt()},[lt,ut]),reactExports.useEffect(()=>{const St=setTimeout(()=>{xt()},500);return()=>clearTimeout(St)},[at]);const yt=async(St,_t)=>{var Nt;try{const Lt=localStorage.getItem("token"),Ft=await(await fetch(resolveApiUrl(`/api/admin/reviews/${St}/status`),{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Lt}`},body:JSON.stringify({status:_t})})).json();Ft.success?(n$8.success(Ft.message),xt()):n$8.error(((Nt=Ft.error)==null?void 0:Nt.message)||"C li xy ra")}catch{n$8.error("Li cp nht trng thi")}},vt=async St=>{if(pt.length===0){n$8.error("Vui lng chn t nht 1 nh gi");return}try{const _t=localStorage.getItem("token");if(St==="delete"){if(!confirm(`Xa ${pt.length} nh gi  chn?`))return;const Lt=await(await fetch(resolveApiUrl("/api/admin/reviews/bulk"),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${_t}`},body:JSON.stringify({ids:pt})})).json();Lt.success&&(n$8.success(Lt.message),mt([]),xt())}else{const Nt={approve:"approved",reject:"rejected",hide:"hidden"},$t=await(await fetch(resolveApiUrl("/api/admin/reviews/bulk-status"),{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${_t}`},body:JSON.stringify({ids:pt,status:Nt[St]})})).json();$t.success&&(n$8.success($t.message),mt([]),xt())}}catch{n$8.error("C li xy ra")}},gt=async St=>{if(confirm("Xa nh gi ny?"))try{const _t=localStorage.getItem("token");(await(await fetch(resolveApiUrl(`/api/admin/reviews/${St}`),{method:"DELETE",headers:{Authorization:`Bearer ${_t}`}})).json()).success&&(n$8.success(" xa nh gi"),xt())}catch{n$8.error("Li xa nh gi")}},Et=St=>{mt(_t=>_t.includes(St)?_t.filter(Nt=>Nt!==St):[..._t,St])},jt=()=>{pt.length===_e.length?mt([]):mt(_e.map(St=>St.id))},kt=St=>{const _t={pending:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300",approved:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300",rejected:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300",hidden:"bg-secondary-100 text-secondary-800 dark:bg-secondary-700 dark:text-secondary-300"},Nt={pending:"Ch duyt",approved:" duyt",rejected:"T chi",hidden:" n"};return jsxRuntimeExports.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${_t[St]}`,children:Nt[St]})},Rt=St=>jsxRuntimeExports.jsx("div",{className:"flex items-center gap-0.5",children:[1,2,3,4,5].map(_t=>jsxRuntimeExports.jsx(Star,{className:`w-4 h-4 ${_t<=St?"text-yellow-400 fill-yellow-400":"text-secondary-300"}`},_t))});return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-secondary-900 dark:text-white",children:"Qun l nh gi"}),jsxRuntimeExports.jsx("p",{className:"text-secondary-500 dark:text-secondary-400",children:"Duyt v qun l nh gi sn phm t khch hng"})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{label:"Ch duyt",value:rt.pending,color:"bg-yellow-500",filter:"pending"},{label:" duyt",value:rt.approved,color:"bg-green-500",filter:"approved"},{label:"T chi",value:rt.rejected,color:"bg-red-500",filter:"rejected"},{label:" n",value:rt.hidden,color:"bg-secondary-500",filter:"hidden"}].map(St=>jsxRuntimeExports.jsx("button",{onClick:()=>ct(lt===St.filter?"all":St.filter),className:`p-4 rounded-xl border transition-all ${lt===St.filter?"border-primary-500 bg-primary-50 dark:bg-primary-900/20":"border-secondary-200 dark:border-secondary-700 bg-white dark:bg-secondary-800 hover:border-secondary-300"}`,children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:`w-3 h-3 rounded-full ${St.color}`}),jsxRuntimeExports.jsxs("div",{className:"text-left",children:[jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-secondary-900 dark:text-white",children:St.value}),jsxRuntimeExports.jsx("p",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:St.label})]})]})},St.filter))}),jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-secondary-800 rounded-xl p-4 shadow-sm border border-secondary-200 dark:border-secondary-700",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"relative flex-1",children:[jsxRuntimeExports.jsx(Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-secondary-400"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Tm kim nh gi...",value:at,onChange:St=>ot(St.target.value),className:"w-full pl-10 pr-4 py-2 border border-secondary-200 dark:border-secondary-700 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500"})]}),jsxRuntimeExports.jsxs("select",{value:ut,onChange:St=>dt(St.target.value),className:"px-4 py-2 border border-secondary-200 dark:border-secondary-700 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Tt c sao"}),[5,4,3,2,1].map(St=>jsxRuntimeExports.jsxs("option",{value:St,children:[St," sao"]},St))]}),pt.length>0&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs("span",{className:"text-sm text-secondary-600 dark:text-secondary-400",children:[" chn ",pt.length]}),jsxRuntimeExports.jsx("button",{onClick:()=>vt("approve"),className:"p-2 text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20 rounded-lg",title:"Duyt",children:jsxRuntimeExports.jsx(Check,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("button",{onClick:()=>vt("reject"),className:"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg",title:"T chi",children:jsxRuntimeExports.jsx(X$2,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("button",{onClick:()=>vt("hide"),className:"p-2 text-secondary-600 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg",title:"n",children:jsxRuntimeExports.jsx(EyeOff,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("button",{onClick:()=>vt("delete"),className:"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg",title:"Xa",children:jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4"})})]})]})}),jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-secondary-800 rounded-xl shadow-sm border border-secondary-200 dark:border-secondary-700 overflow-hidden",children:st?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center py-12",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"w-8 h-8 animate-spin text-primary-600"})}):_e.length===0?jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx(MessageSquare,{className:"w-12 h-12 mx-auto text-secondary-300 dark:text-secondary-600 mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-secondary-500 dark:text-secondary-400",children:"Cha c nh gi no"})]}):jsxRuntimeExports.jsxs("div",{className:"divide-y divide-secondary-200 dark:divide-secondary-700",children:[jsxRuntimeExports.jsxs("div",{className:"px-6 py-3 bg-secondary-50 dark:bg-secondary-900 flex items-center gap-4",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:pt.length===_e.length&&_e.length>0,onChange:jt,className:"w-4 h-4 text-primary-600 border-secondary-300 rounded focus:ring-primary-500"}),jsxRuntimeExports.jsxs("span",{className:"text-xs font-semibold text-secondary-500 uppercase",children:[_e.length," nh gi"]})]}),_e.map(St=>{var _t,Nt,Lt,$t;return jsxRuntimeExports.jsx("div",{className:"p-6 hover:bg-secondary-50 dark:hover:bg-secondary-900/50 transition-colors",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-4",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:pt.includes(St.id),onChange:()=>Et(St.id),className:"mt-1 w-4 h-4 text-primary-600 border-secondary-300 rounded focus:ring-primary-500"}),(Lt=(Nt=(_t=St.product)==null?void 0:_t.product_images)==null?void 0:Nt[0])!=null&&Lt.url?jsxRuntimeExports.jsx("img",{src:St.product.product_images[0].url,alt:"",className:"w-16 h-16 rounded-lg object-cover bg-secondary-100 dark:bg-secondary-700"}):jsxRuntimeExports.jsx("div",{className:"w-16 h-16 rounded-lg bg-secondary-100 dark:bg-secondary-700"}),jsxRuntimeExports.jsx("div",{className:"flex-1 min-w-0",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[Rt(St.rating),kt(St.status),St.is_verified&&jsxRuntimeExports.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300",children:" mua"})]}),jsxRuntimeExports.jsx("h4",{className:"font-medium text-secondary-900 dark:text-white",children:St.title||"(Khng c tiu )"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-secondary-600 dark:text-secondary-400 mt-1 line-clamp-2",children:St.content||"(Khng c ni dung)"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-secondary-500",children:[jsxRuntimeExports.jsxs("span",{children:["Bi: ",St.author_name||"n danh"]}),jsxRuntimeExports.jsx("span",{children:""}),jsxRuntimeExports.jsx("span",{children:new Date(St.created_at).toLocaleDateString("vi-VN")}),jsxRuntimeExports.jsx("span",{children:""}),jsxRuntimeExports.jsxs("span",{children:["Sn phm: ",($t=St.product)==null?void 0:$t.name]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[St.status==="pending"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("button",{onClick:()=>yt(St.id,"approved"),className:"p-2 text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20 rounded-lg transition-colors",title:"Duyt",children:jsxRuntimeExports.jsx(Check,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("button",{onClick:()=>yt(St.id,"rejected"),className:"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"T chi",children:jsxRuntimeExports.jsx(X$2,{className:"w-4 h-4"})})]}),St.status==="approved"&&jsxRuntimeExports.jsx("button",{onClick:()=>yt(St.id,"hidden"),className:"p-2 text-secondary-600 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors",title:"n",children:jsxRuntimeExports.jsx(EyeOff,{className:"w-4 h-4"})}),St.status==="hidden"&&jsxRuntimeExports.jsx("button",{onClick:()=>yt(St.id,"approved"),className:"p-2 text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20 rounded-lg transition-colors",title:"Hin li",children:jsxRuntimeExports.jsx(Eye,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("button",{onClick:()=>gt(St.id),className:"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Xa",children:jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4"})})]})]})})]})},St.id)})]})})]})}const initialForm$2={name:"",code:"",description:"",base_fee:0,fee_per_kg:0,min_days:1,max_days:3,is_active:!0,sort_order:0};function ShippingPage(){const[_e,et]=reactExports.useState([]),[rt,nt]=reactExports.useState(!0),[st,it]=reactExports.useState(!1),[at,ot]=reactExports.useState(!1),[lt,ct]=reactExports.useState(null),[ut,dt]=reactExports.useState(initialForm$2),pt=async()=>{try{nt(!0);const jt=localStorage.getItem("token"),Rt=await(await fetch(resolveApiUrl("/api/admin/shipping?include_inactive=true"),{headers:{Authorization:`Bearer ${jt}`}})).json();Rt.success&&et(Rt.data)}catch{n$8.error("Khng th ti danh sch")}finally{nt(!1)}};reactExports.useEffect(()=>{pt()},[]);const mt=jt=>{ct(jt.id),dt({name:jt.name,code:jt.code,description:jt.description||"",base_fee:Number(jt.base_fee),fee_per_kg:Number(jt.fee_per_kg),min_days:jt.min_days,max_days:jt.max_days,is_active:jt.is_active,sort_order:jt.sort_order}),ot(!0)},xt=()=>{ct(null),dt(initialForm$2),ot(!0)},yt=()=>{ot(!1),ct(null),dt(initialForm$2)},vt=async jt=>{var kt;if(jt.preventDefault(),!ut.name.trim()||!ut.code.trim()){n$8.error("Vui lng nhp tn v m");return}it(!0);try{const Rt=localStorage.getItem("token"),St=lt?`/api/admin/shipping/${lt}`:"/api/admin/shipping",_t=lt?"PUT":"POST",Lt=await(await fetch(resolveApiUrl(St),{method:_t,headers:{"Content-Type":"application/json",Authorization:`Bearer ${Rt}`},body:JSON.stringify(ut)})).json();Lt.success?(n$8.success(lt?" cp nht":" to mi"),yt(),pt()):n$8.error(((kt=Lt.error)==null?void 0:kt.message)||"C li xy ra")}catch{n$8.error("Li lu thng tin")}finally{it(!1)}},gt=async(jt,kt)=>{var Rt;if(confirm(`Xa phng thc "${kt}"?`))try{const St=localStorage.getItem("token"),Nt=await(await fetch(resolveApiUrl(`/api/admin/shipping/${jt}`),{method:"DELETE",headers:{Authorization:`Bearer ${St}`}})).json();Nt.success?(n$8.success(" xa"),pt()):n$8.error(((Rt=Nt.error)==null?void 0:Rt.message)||"Khng th xa")}catch{n$8.error("C li xy ra")}},Et=jt=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(jt);return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-secondary-900 dark:text-white",children:"Qun l Vn chuyn"}),jsxRuntimeExports.jsx("p",{className:"text-secondary-500 dark:text-secondary-400",children:"Cu hnh cc phng thc v ph vn chuyn"})]}),jsxRuntimeExports.jsxs("button",{onClick:xt,className:"inline-flex items-center gap-2 px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-lg font-medium transition-colors",children:[jsxRuntimeExports.jsx(Plus,{className:"w-5 h-5"}),"Thm phng thc"]})]}),at&&jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-xl shadow-sm border border-secondary-200 dark:border-secondary-700 p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-6",children:[jsxRuntimeExports.jsxs("h2",{className:"text-lg font-semibold text-secondary-900 dark:text-white",children:[lt?"Chnh sa":"Thm mi"," phng thc vn chuyn"]}),jsxRuntimeExports.jsx("button",{onClick:yt,className:"p-2 text-secondary-500 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg",children:jsxRuntimeExports.jsx(X$2,{className:"w-5 h-5"})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:vt,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:["Tn phng thc ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsx("input",{type:"text",value:ut.name,onChange:jt=>dt({...ut,name:jt.target.value}),placeholder:"VD: Giao hng tiu chun",className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-700 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:["M (code) ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsx("input",{type:"text",value:ut.code,onChange:jt=>dt({...ut,code:jt.target.value.toLowerCase()}),placeholder:"VD: standard",className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-700 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 font-mono"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"M t"}),jsxRuntimeExports.jsx("textarea",{value:ut.description,onChange:jt=>dt({...ut,description:jt.target.value}),rows:2,placeholder:"Chi tit v phng thc vn chuyn...",className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-700 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 resize-none"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Ph c bn (VN)"}),jsxRuntimeExports.jsx("input",{type:"number",value:ut.base_fee,onChange:jt=>dt({...ut,base_fee:Number(jt.target.value)}),min:"0",step:"1000",className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-700 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Ph/kg (VN)"}),jsxRuntimeExports.jsx("input",{type:"number",value:ut.fee_per_kg,onChange:jt=>dt({...ut,fee_per_kg:Number(jt.target.value)}),min:"0",step:"1000",className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-700 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Ngy ti thiu"}),jsxRuntimeExports.jsx("input",{type:"number",value:ut.min_days,onChange:jt=>dt({...ut,min_days:Number(jt.target.value)}),min:"1",className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-700 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Ngy ti a"}),jsxRuntimeExports.jsx("input",{type:"number",value:ut.max_days,onChange:jt=>dt({...ut,max_days:Number(jt.target.value)}),min:"1",className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-700 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-6",children:[jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:ut.is_active,onChange:jt=>dt({...ut,is_active:jt.target.checked}),className:"w-4 h-4 text-primary-600 border-secondary-300 rounded focus:ring-primary-500"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-secondary-700 dark:text-secondary-300",children:"Kch hot"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium text-secondary-700 dark:text-secondary-300",children:"Th t:"}),jsxRuntimeExports.jsx("input",{type:"number",value:ut.sort_order,onChange:jt=>dt({...ut,sort_order:Number(jt.target.value)}),min:"0",className:"w-20 px-3 py-1.5 border border-secondary-200 dark:border-secondary-700 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-secondary-200 dark:border-secondary-700",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:yt,className:"px-4 py-2 border border-secondary-200 dark:border-secondary-700 rounded-lg text-secondary-700 dark:text-secondary-300 hover:bg-secondary-50 dark:hover:bg-secondary-700 transition-colors",children:"Hy"}),jsxRuntimeExports.jsxs("button",{type:"submit",disabled:st,className:"inline-flex items-center gap-2 px-4 py-2 bg-primary-600 hover:bg-primary-700 disabled:bg-primary-400 text-white rounded-lg font-medium transition-colors",children:[st?jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin"}):jsxRuntimeExports.jsx(Save,{className:"w-4 h-4"}),lt?"Lu thay i":"To mi"]})]})]})]}),jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-secondary-800 rounded-xl shadow-sm border border-secondary-200 dark:border-secondary-700 overflow-hidden",children:rt?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center py-12",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"w-8 h-8 animate-spin text-primary-600"})}):_e.length===0?jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx(Truck,{className:"w-12 h-12 mx-auto text-secondary-300 dark:text-secondary-600 mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-secondary-500 dark:text-secondary-400",children:"Cha c phng thc vn chuyn no"})]}):jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"w-full",children:[jsxRuntimeExports.jsx("thead",{className:"bg-secondary-50 dark:bg-secondary-900",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-secondary-500 dark:text-secondary-400 uppercase",children:"Phng thc"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-secondary-500 dark:text-secondary-400 uppercase",children:"Ph c bn"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-secondary-500 dark:text-secondary-400 uppercase",children:"Ph/kg"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold text-secondary-500 dark:text-secondary-400 uppercase",children:"Thi gian"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold text-secondary-500 dark:text-secondary-400 uppercase",children:"Trng thi"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-secondary-500 dark:text-secondary-400 uppercase",children:"Thao tc"})]})}),jsxRuntimeExports.jsx("tbody",{className:"divide-y divide-secondary-200 dark:divide-secondary-700",children:_e.map(jt=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-900/50 transition-colors",children:[jsxRuntimeExports.jsx("td",{className:"px-6 py-4",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-secondary-900 dark:text-white",children:jt.name}),jsxRuntimeExports.jsx("code",{className:"text-xs text-secondary-500 bg-secondary-100 dark:bg-secondary-700 px-1.5 py-0.5 rounded",children:jt.code})]})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 text-secondary-900 dark:text-white",children:Et(Number(jt.base_fee))}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 text-secondary-900 dark:text-white",children:Et(Number(jt.fee_per_kg))}),jsxRuntimeExports.jsxs("td",{className:"px-6 py-4 text-center text-secondary-600 dark:text-secondary-400",children:[jt.min_days,"-",jt.max_days," ngy"]}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 text-center",children:jt.is_active?jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300",children:[jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-3 h-3"}),"Hot ng"]}):jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium bg-secondary-100 dark:bg-secondary-700 text-secondary-600 dark:text-secondary-400",children:[jsxRuntimeExports.jsx(CircleX,{className:"w-3 h-3"}),"Tt"]})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-end gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>mt(jt),className:"p-2 text-secondary-600 dark:text-secondary-400 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors",title:"Chnh sa",children:jsxRuntimeExports.jsx(SquarePen,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("button",{onClick:()=>gt(jt.id,jt.name),className:"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Xa",children:jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4"})})]})})]},jt.id))})]})})})]})}const initialForm$1={title:"",subtitle:"",image_url:"",images:[],link_url:"",button_text:"",position:"home_hero",is_active:!0,start_date:"",end_date:""},positionLabels={home_hero:"Trang ch - Hero",home_promo:"Trang ch - Khuyn mi",category_top:"u danh mc",sale_hero:"Trang Sale - Hero",shop_hero:"Ca hng - Hero"};function BannerListPage(){const[_e,et]=reactExports.useState([]),[rt,nt]=reactExports.useState(!0),[st,it]=reactExports.useState(!1),[at,ot]=reactExports.useState(!1),[lt,ct]=reactExports.useState(null),[ut,dt]=reactExports.useState(initialForm$1),[pt,mt]=reactExports.useState(""),xt=async()=>{try{nt(!0);const Nt=localStorage.getItem("token"),Lt=new URLSearchParams({include_inactive:"true"});pt&&Lt.append("position",pt);const Ft=await(await fetch(resolveApiUrl(`/api/admin/banners?${Lt}`),{headers:{Authorization:`Bearer ${Nt}`}})).json();Ft.success&&et(Ft.data)}catch{n$8.error("Khng th ti danh sch")}finally{nt(!1)}};reactExports.useEffect(()=>{xt()},[pt]);const yt=Nt=>{var Ft;ct(Nt.id);const Lt=((Ft=Nt.banner_images)==null?void 0:Ft.map(Tt=>Tt.image_url))||[],$t=Lt.length>0?Lt:Nt.image_url?[Nt.image_url]:[];dt({title:Nt.title,subtitle:Nt.subtitle||"",image_url:Nt.image_url,images:$t,link_url:Nt.link_url||"",button_text:Nt.button_text||"",position:Nt.position,is_active:Nt.is_active,start_date:Nt.start_date?Nt.start_date.split("T")[0]:"",end_date:Nt.end_date?Nt.end_date.split("T")[0]:""}),ot(!0)},vt=()=>{ct(null),dt(initialForm$1),ot(!0)},gt=()=>{ot(!1),ct(null),dt(initialForm$1)},Et=async Nt=>{const Lt=Nt.target.files;if(!Lt||Lt.length===0)return;const $t=localStorage.getItem("token"),Ft=[];for(let Tt=0;Tt<Lt.length;Tt++){const Bt=new FormData;Bt.append("file",Lt[Tt]);try{const qt=await(await fetch(resolveApiUrl("/api/upload"),{method:"POST",headers:{Authorization:`Bearer ${$t}`},body:Bt})).json();qt.success&&Ft.push(qt.data.url)}catch(Wt){console.error("Upload error",Wt)}}Ft.length>0?(dt(Tt=>({...Tt,images:[...Tt.images,...Ft],image_url:Tt.images.length===0?Ft[0]:Tt.image_url})),n$8.success(` ti ln ${Ft.length} nh`)):n$8.error("Li ti ln nh")},jt=Nt=>{dt(Lt=>{const $t=[...Lt.images];return $t.splice(Nt,1),{...Lt,images:$t,image_url:$t.length>0?$t[0]:""}})},kt=(Nt,Lt)=>{dt($t=>{const Ft=[...$t.images];return Lt==="up"&&Nt>0?[Ft[Nt],Ft[Nt-1]]=[Ft[Nt-1],Ft[Nt]]:Lt==="down"&&Nt<Ft.length-1&&([Ft[Nt],Ft[Nt+1]]=[Ft[Nt+1],Ft[Nt]]),{...$t,images:Ft,image_url:Ft[0]}})},Rt=async Nt=>{var Lt;if(Nt.preventDefault(),!ut.title.trim()||ut.images.length===0&&!ut.image_url){n$8.error("Vui lng nhp tiu  v t nht 1 nh");return}it(!0);try{const $t=localStorage.getItem("token"),Ft=lt?`/api/admin/banners/${lt}`:"/api/admin/banners",Tt=lt?"PUT":"POST",Wt=await(await fetch(resolveApiUrl(Ft),{method:Tt,headers:{"Content-Type":"application/json",Authorization:`Bearer ${$t}`},body:JSON.stringify({...ut,images:ut.images,image_url:ut.images.length>0?ut.images[0]:ut.image_url,start_date:ut.start_date||null,end_date:ut.end_date||null})})).json();Wt.success?(n$8.success(lt?" cp nht":" to mi"),gt(),xt()):n$8.error(((Lt=Wt.error)==null?void 0:Lt.message)||"C li xy ra")}catch{n$8.error("Li lu thng tin")}finally{it(!1)}},St=async(Nt,Lt)=>{if(confirm(`Xa banner "${Lt}"?`))try{const $t=localStorage.getItem("token");(await(await fetch(resolveApiUrl(`/api/admin/banners/${Nt}`),{method:"DELETE",headers:{Authorization:`Bearer ${$t}`}})).json()).success&&(n$8.success(" xa"),xt())}catch{n$8.error("C li xy ra")}},_t=async Nt=>{try{const Lt=localStorage.getItem("token");await fetch(resolveApiUrl(`/api/admin/banners/${Nt.id}`),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Lt}`},body:JSON.stringify({is_active:!Nt.is_active})}),xt()}catch{n$8.error("C li xy ra")}};return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-secondary-900 dark:text-white",children:"Qun l Banner"}),jsxRuntimeExports.jsx("p",{className:"text-secondary-500 dark:text-secondary-400",children:"Qung co v slider cho trang ch"})]}),jsxRuntimeExports.jsxs("button",{onClick:vt,className:"inline-flex items-center gap-2 px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-lg font-medium transition-colors",children:[jsxRuntimeExports.jsx(Plus,{className:"w-5 h-5"})," Thm banner"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>mt(""),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${pt===""?"bg-primary-600 text-white":"bg-secondary-100 dark:bg-secondary-800 text-secondary-700 dark:text-secondary-300"}`,children:"Tt c"}),Object.entries(positionLabels).map(([Nt,Lt])=>jsxRuntimeExports.jsx("button",{onClick:()=>mt(Nt),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${pt===Nt?"bg-primary-600 text-white":"bg-secondary-100 dark:bg-secondary-800 text-secondary-700 dark:text-secondary-300"}`,children:Lt},Nt))]}),at&&jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-xl shadow-sm border border-secondary-200 dark:border-secondary-700 p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-secondary-900 dark:text-white",children:lt?"Chnh sa banner":"Thm banner mi"}),jsxRuntimeExports.jsx("button",{onClick:gt,className:"p-2 text-secondary-500 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg",children:jsxRuntimeExports.jsx(X$2,{className:"w-5 h-5"})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:Rt,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:["Danh sch nh (",ut.images.length,") ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[ut.images.map((Nt,Lt)=>jsxRuntimeExports.jsxs("div",{className:"relative group aspect-video rounded-lg overflow-hidden border border-secondary-200",children:[jsxRuntimeExports.jsx("img",{src:Nt,alt:`Banner ${Lt}`,className:"w-full h-full object-cover"}),jsxRuntimeExports.jsxs("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:[Lt>0&&jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>kt(Lt,"up"),className:"p-1 bg-white rounded-full",children:jsxRuntimeExports.jsx(ArrowRight,{className:"w-4 h-4 rotate-180"})}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>jt(Lt),className:"p-1 bg-red-500 text-white rounded-full",children:jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4"})}),Lt<ut.images.length-1&&jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>kt(Lt,"down"),className:"p-1 bg-white rounded-full",children:jsxRuntimeExports.jsx(ArrowRight,{className:"w-4 h-4"})})]})]},Lt)),jsxRuntimeExports.jsxs("label",{className:"flex flex-col items-center justify-center border-2 border-dashed border-secondary-300 dark:border-secondary-600 rounded-lg cursor-pointer hover:border-primary-500 hover:bg-primary-50 dark:hover:bg-secondary-700 transition-all aspect-video",children:[jsxRuntimeExports.jsx(Image$1,{className:"w-8 h-8 text-secondary-400 mb-2"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-secondary-500",children:"Thm nh"}),jsxRuntimeExports.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:Et,className:"hidden"})]})]}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-xs text-secondary-500",children:"nh u tin s l nh chnh. Khuyn dng kch thc 1920x800px."})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:["Tiu  ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsx("input",{type:"text",value:ut.title,onChange:Nt=>dt({...ut,title:Nt.target.value}),placeholder:"VD: Gim gi 50% ma h",className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-700 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Ph "}),jsxRuntimeExports.jsx("input",{type:"text",value:ut.subtitle,onChange:Nt=>dt({...ut,subtitle:Nt.target.value}),placeholder:"M t ngn...",className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-700 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500"})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Link ch"}),jsxRuntimeExports.jsx("input",{type:"text",value:ut.link_url,onChange:Nt=>dt({...ut,link_url:Nt.target.value}),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-700 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Nt CTA"}),jsxRuntimeExports.jsx("input",{type:"text",value:ut.button_text,onChange:Nt=>dt({...ut,button_text:Nt.target.value}),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-700 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"V tr"}),jsxRuntimeExports.jsx("select",{value:ut.position,onChange:Nt=>dt({...ut,position:Nt.target.value}),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-700 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white",children:Object.entries(positionLabels).map(([Nt,Lt])=>jsxRuntimeExports.jsx("option",{value:Nt,children:Lt},Nt))})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Ngy bt u"}),jsxRuntimeExports.jsx("input",{type:"date",value:ut.start_date,onChange:Nt=>dt({...ut,start_date:Nt.target.value}),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-700 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Ngy kt thc"}),jsxRuntimeExports.jsx("input",{type:"date",value:ut.end_date,onChange:Nt=>dt({...ut,end_date:Nt.target.value}),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-700 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",id:"is_active",checked:ut.is_active,onChange:Nt=>dt({...ut,is_active:Nt.target.checked}),className:"w-4 h-4 text-primary-600 border-secondary-300 rounded focus:ring-primary-500"}),jsxRuntimeExports.jsx("label",{htmlFor:"is_active",className:"text-sm font-medium text-secondary-700 dark:text-secondary-300",children:"Kch hot banner"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-secondary-200 dark:border-secondary-700",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:gt,className:"px-4 py-2 border border-secondary-200 dark:border-secondary-700 rounded-lg text-secondary-700 dark:text-secondary-300 hover:bg-secondary-50 dark:hover:bg-secondary-700 transition-colors",children:"Hy"}),jsxRuntimeExports.jsxs("button",{type:"submit",disabled:st,className:"inline-flex items-center gap-2 px-4 py-2 bg-primary-600 hover:bg-primary-700 disabled:bg-primary-400 text-white rounded-lg font-medium transition-colors",children:[st?jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin"}):jsxRuntimeExports.jsx(Save,{className:"w-4 h-4"}),lt?"Lu thay i":"To mi"]})]})]})]}),jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-secondary-800 rounded-xl shadow-sm border border-secondary-200 dark:border-secondary-700 overflow-hidden",children:rt?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center py-12",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"w-8 h-8 animate-spin text-primary-600"})}):_e.length===0?jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx(Image$1,{className:"w-12 h-12 mx-auto text-secondary-300 dark:text-secondary-600 mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-secondary-500 dark:text-secondary-400",children:"Cha c banner no"})]}):jsxRuntimeExports.jsx("div",{className:"divide-y divide-secondary-200 dark:divide-secondary-700",children:_e.map(Nt=>jsxRuntimeExports.jsxs("div",{className:"p-4 flex items-center gap-4 hover:bg-secondary-50 dark:hover:bg-secondary-900/50 transition-colors",children:[jsxRuntimeExports.jsx(GripVertical,{className:"w-5 h-5 text-secondary-300 cursor-move"}),jsxRuntimeExports.jsx("img",{src:Nt.image_url,alt:Nt.title,className:"w-32 h-16 rounded-lg object-cover bg-secondary-100 dark:bg-secondary-700"}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-secondary-900 dark:text-white truncate",children:Nt.title}),!Nt.is_active&&jsxRuntimeExports.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-medium bg-secondary-100 dark:bg-secondary-700 text-secondary-600",children:"Tt"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm text-secondary-500",children:[jsxRuntimeExports.jsx("span",{className:"bg-primary-100 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300 px-2 py-0.5 rounded text-xs",children:positionLabels[Nt.position]||Nt.position}),Nt.link_url&&jsxRuntimeExports.jsxs("span",{className:"truncate max-w-xs",children:[" ",Nt.link_url]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>_t(Nt),className:`p-2 rounded-lg transition-colors ${Nt.is_active?"text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20":"text-secondary-400 hover:bg-secondary-100 dark:hover:bg-secondary-700"}`,title:Nt.is_active?"Tt":"Bt",children:Nt.is_active?jsxRuntimeExports.jsx(Eye,{className:"w-4 h-4"}):jsxRuntimeExports.jsx(EyeOff,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("button",{onClick:()=>yt(Nt),className:"p-2 text-secondary-600 dark:text-secondary-400 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors",title:"Chnh sa",children:jsxRuntimeExports.jsx(SquarePen,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("button",{onClick:()=>St(Nt.id,Nt.title),className:"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Xa",children:jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4"})})]})]},Nt.id))})})]})}const initialForm={username:"",email:"",password:"",full_name:"",phone:"",role:"staff"};function StaffListPage(){const{isAdmin:_e}=useAuth(),[et,rt]=reactExports.useState([]),[nt,st]=reactExports.useState([]),[it,at]=reactExports.useState(!0),[ot,lt]=reactExports.useState(!1),[ct,ut]=reactExports.useState(!1),[dt,pt]=reactExports.useState(null),[mt,xt]=reactExports.useState(initialForm),[yt,vt]=reactExports.useState(""),[gt,Et]=reactExports.useState("all"),[jt,kt]=reactExports.useState({isOpen:!1,title:"",message:"",confirmText:"Xc nhn",isDestructive:!1,onConfirm:()=>{}}),Rt=async()=>{try{at(!0);const Tt=localStorage.getItem("token"),Bt=new URLSearchParams;yt&&Bt.append("search",yt),gt!=="all"&&Bt.append("role",gt);const qt=await(await fetch(resolveApiUrl(`/api/admin/staff?${Bt}`),{headers:{Authorization:`Bearer ${Tt}`}})).json();qt.success&&(rt(qt.data.staff),st(qt.data.roles))}catch{n$8.error("Khng th ti danh sch")}finally{at(!1)}};reactExports.useEffect(()=>{Rt()},[gt]),reactExports.useEffect(()=>{const Tt=setTimeout(()=>{Rt()},500);return()=>clearTimeout(Tt)},[yt]);const St=Tt=>{pt(Tt.id),xt({username:Tt.username,email:Tt.email,password:"",full_name:Tt.full_name||"",phone:Tt.phone||"",role:Tt.role}),ut(!0)},_t=()=>{pt(null),xt(initialForm),ut(!0)},Nt=()=>{ut(!1),pt(null),xt(initialForm)},Lt=async Tt=>{var Wt;if(Tt.preventDefault(),!dt&&(!mt.username||!mt.email||!mt.password)){n$8.error("Vui lng nhp y  thng tin");return}const Bt=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;if(mt.email&&!Bt.test(mt.email)){n$8.error("Email khng ng nh dng");return}if(mt.phone&&!/^0[0-9]{9,10}$/.test(mt.phone)){n$8.error("S in thoi khng hp l (VD: 0901234567)");return}lt(!0);try{const qt=localStorage.getItem("token"),Ot=dt?`/api/admin/staff/${dt}`:"/api/admin/staff",Dt=dt?"PUT":"POST",Pt=dt?{full_name:mt.full_name,phone:mt.phone,role:mt.role,password:mt.password||void 0}:mt,At=await(await fetch(resolveApiUrl(Ot),{method:Dt,headers:{"Content-Type":"application/json",Authorization:`Bearer ${qt}`},body:JSON.stringify(Pt)})).json();At.success?(n$8.success(dt?" cp nht":" to mi"),Nt(),Rt()):n$8.error(((Wt=At.error)==null?void 0:Wt.message)||"C li xy ra")}catch{n$8.error("Li lu thng tin")}finally{lt(!1)}},$t=Tt=>{const Bt=Tt.status==="active";kt({isOpen:!0,title:Bt?"Kha ti khon?":"M kha ti khon?",message:`Bn c chc chn mun ${Bt?"kha":"m kha"} ti khon "${Tt.full_name||Tt.username}"? ${Bt?"Ngi dng s khng th ng nhp.":""}`,confirmText:Bt?"Kha ti khon":"M kha",isDestructive:Bt,onConfirm:async()=>{var qt;try{const Ot=localStorage.getItem("token"),Dt=Tt.status==="active"?"blocked":"active",It=await(await fetch(resolveApiUrl(`/api/admin/staff/${Tt.id}`),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ot}`},body:JSON.stringify({status:Dt})})).json();It.success?(n$8.success(Dt==="active"?" m kha ti khon":" kha ti khon"),Rt()):n$8.error(((qt=It.error)==null?void 0:qt.message)||"C li xy ra")}catch{n$8.error("C li trong qu trnh x l")}}})},Ft=Tt=>{const Bt={admin:"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300",staff:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300",manager:"bg-emerald-100 text-emerald-800 dark:bg-emerald-900/30 dark:text-emerald-300"};return jsxRuntimeExports.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${Bt[Tt]||"bg-secondary-100 text-secondary-800"}`,children:Tt.charAt(0).toUpperCase()+Tt.slice(1)})};return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-secondary-900 dark:text-white",children:"Qun l Nhn vin"}),jsxRuntimeExports.jsx("p",{className:"text-secondary-500 dark:text-secondary-400",children:"Qun l ti khon nhn vin v phn quyn"})]}),jsxRuntimeExports.jsxs("button",{onClick:_t,className:"inline-flex items-center gap-2 px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-lg font-medium transition-colors",children:[jsxRuntimeExports.jsx(Plus,{className:"w-5 h-5"}),"Thm nhn vin"]})]}),jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-secondary-800 rounded-xl p-4 shadow-sm border border-secondary-200 dark:border-secondary-700",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"relative flex-1",children:[jsxRuntimeExports.jsx(Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-secondary-400"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Tm kim nhn vin...",value:yt,onChange:Tt=>vt(Tt.target.value),className:"w-full pl-10 pr-4 py-2 border border-secondary-200 dark:border-secondary-700 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500"})]}),jsxRuntimeExports.jsxs("select",{value:gt,onChange:Tt=>Et(Tt.target.value),className:"px-4 py-2 border border-secondary-200 dark:border-secondary-700 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500",children:[jsxRuntimeExports.jsx("option",{value:"all",children:"Tt c vai tr"}),nt.map(Tt=>jsxRuntimeExports.jsx("option",{value:Tt.name,children:Tt.name.charAt(0).toUpperCase()+Tt.name.slice(1)},Tt.name))]})]})}),ct&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 overflow-y-auto",children:jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-xl shadow-xl border border-secondary-200 dark:border-secondary-700 p-6 w-full max-w-2xl",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-secondary-900 dark:text-white",children:dt?"Chnh sa nhn vin":"Thm nhn vin mi"}),jsxRuntimeExports.jsx("button",{onClick:Nt,className:"p-2 text-secondary-500 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg",children:jsxRuntimeExports.jsx(X$2,{className:"w-5 h-5"})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:Lt,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:["Username ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsx("input",{type:"text",value:mt.username,onChange:Tt=>xt({...mt,username:Tt.target.value}),disabled:!!dt,placeholder:"username",className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-700 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white disabled:bg-secondary-100 dark:disabled:bg-secondary-800 focus:ring-2 focus:ring-primary-500"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:["Email ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsx("input",{type:"email",value:mt.email,onChange:Tt=>xt({...mt,email:Tt.target.value}),disabled:!!dt,placeholder:"email@example.com",className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-700 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white disabled:bg-secondary-100 dark:disabled:bg-secondary-800 focus:ring-2 focus:ring-primary-500"})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:[jsxRuntimeExports.jsx(Key,{className:"w-4 h-4 inline mr-1"}),"Mt khu ",!dt&&jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsx("input",{type:"password",value:mt.password,onChange:Tt=>xt({...mt,password:Tt.target.value}),placeholder:dt?" trng nu khng i":"Mt khu",className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-700 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:[jsxRuntimeExports.jsx(Shield,{className:"w-4 h-4 inline mr-1"}),"Vai tr"]}),jsxRuntimeExports.jsx("select",{value:mt.role,onChange:Tt=>xt({...mt,role:Tt.target.value}),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-700 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500",children:nt.map(Tt=>jsxRuntimeExports.jsxs("option",{value:Tt.name,children:[Tt.name.charAt(0).toUpperCase()+Tt.name.slice(1),Tt.description?` - ${Tt.description}`:""]},Tt.name))})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"H tn"}),jsxRuntimeExports.jsx("input",{type:"text",value:mt.full_name,onChange:Tt=>xt({...mt,full_name:Tt.target.value}),placeholder:"Nguyn Vn A",className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-700 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"in thoi"}),jsxRuntimeExports.jsx("input",{type:"tel",value:mt.phone,onChange:Tt=>xt({...mt,phone:Tt.target.value}),placeholder:"0901234567",className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-700 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-secondary-200 dark:border-secondary-700",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:Nt,className:"px-4 py-2 border border-secondary-200 dark:border-secondary-700 rounded-lg text-secondary-700 dark:text-secondary-300 hover:bg-secondary-50 dark:hover:bg-secondary-700 transition-colors",children:"Hy"}),jsxRuntimeExports.jsxs("button",{type:"submit",disabled:ot,className:"inline-flex items-center gap-2 px-4 py-2 bg-primary-600 hover:bg-primary-700 disabled:bg-primary-400 text-white rounded-lg font-medium transition-colors",children:[ot?jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin"}):jsxRuntimeExports.jsx(Save,{className:"w-4 h-4"}),dt?"Lu thay i":"To mi"]})]})]})]})}),jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-secondary-800 rounded-xl shadow-sm border border-secondary-200 dark:border-secondary-700 overflow-hidden",children:it?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center py-12",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"w-8 h-8 animate-spin text-primary-600"})}):et.length===0?jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx(Users,{className:"w-12 h-12 mx-auto text-secondary-300 dark:text-secondary-600 mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-secondary-500 dark:text-secondary-400",children:yt?"Khng tm thy nhn vin no":"Cha c nhn vin no"})]}):jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"w-full",children:[jsxRuntimeExports.jsx("thead",{className:"bg-secondary-50 dark:bg-secondary-900",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-secondary-500 dark:text-secondary-400 uppercase",children:"Nhn vin"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-secondary-500 dark:text-secondary-400 uppercase",children:"Email"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold text-secondary-500 dark:text-secondary-400 uppercase",children:"Vai tr"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold text-secondary-500 dark:text-secondary-400 uppercase",children:"Trng thi"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-secondary-500 dark:text-secondary-400 uppercase",children:"Thao tc"})]})}),jsxRuntimeExports.jsx("tbody",{className:"divide-y divide-secondary-200 dark:divide-secondary-700",children:et.map(Tt=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-900/50 transition-colors",children:[jsxRuntimeExports.jsx("td",{className:"px-6 py-4",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-secondary-900 dark:text-white",children:Tt.full_name||Tt.username}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-secondary-500",children:["@",Tt.username]})]})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 text-secondary-600 dark:text-secondary-400",children:Tt.email}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 text-center",children:Ft(Tt.role)}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 text-center",children:Tt.status==="active"?jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300",children:[jsxRuntimeExports.jsx(UserCheck,{className:"w-3 h-3"}),"Hot ng"]}):jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300",children:[jsxRuntimeExports.jsx(UserX,{className:"w-3 h-3"})," kha"]})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-end gap-2",children:[_e&&jsxRuntimeExports.jsx("button",{onClick:()=>$t(Tt),className:`p-2 rounded-lg transition-colors ${Tt.status==="active"?"text-yellow-600 hover:bg-yellow-50 dark:hover:bg-yellow-900/20":"text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20"}`,title:Tt.status==="active"?"Kha":"M kha",children:Tt.status==="active"?jsxRuntimeExports.jsx(UserX,{className:"w-4 h-4"}):jsxRuntimeExports.jsx(UserCheck,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("button",{onClick:()=>St(Tt),className:"p-2 text-secondary-600 dark:text-secondary-400 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors",title:"Chnh sa",children:jsxRuntimeExports.jsx(SquarePen,{className:"w-4 h-4"})})]})})]},Tt.id))})]})})}),jsxRuntimeExports.jsx(ConfirmModal,{isOpen:jt.isOpen,onClose:()=>kt({...jt,isOpen:!1}),onConfirm:jt.onConfirm,title:jt.title,message:jt.message,confirmText:jt.confirmText,isDestructive:jt.isDestructive})]})}function ActivityLogPage(){const[_e,et]=reactExports.useState([]),[rt,nt]=reactExports.useState(!0),[st,it]=reactExports.useState(""),[at,ot]=reactExports.useState(""),lt=async()=>{try{nt(!0);const xt={};st&&(xt.action=st),at&&(xt.start_date=at);const vt=await(await fetch(resolveApiUrl(`/api/admin/logs?${new URLSearchParams(xt)}`),{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).json();vt.success&&et(vt.data.logs)}catch{n$8.error("Khng th ti nht k")}finally{nt(!1)}};reactExports.useEffect(()=>{lt()},[st,at]);const ct=xt=>xt.includes("create")?"text-green-600 bg-green-50 dark:text-green-400 dark:bg-green-900/20":xt.includes("update")?"text-blue-600 bg-blue-50 dark:text-blue-400 dark:bg-blue-900/20":xt.includes("delete")?"text-red-600 bg-red-50 dark:text-red-400 dark:bg-red-900/20":"text-gray-600 bg-gray-50 dark:text-gray-400 dark:bg-gray-800",ut={create:"To mi",update:"Cp nht",delete:"Xa",login:"ng nhp",logout:"ng xut",export:"Xut bo co",import:"Nhp d liu"},dt={product:"Sn phm",order:"n hng",user:"Ngi dng",category:"Danh mc",brand:"Thng hiu",coupon:"M gim gi",system:"H thng",settings:"Ci t"},pt=(xt,yt)=>ut[xt]?ut[xt]:xt.includes("create")?"To mi":xt.includes("update")?"Cp nht":xt.includes("delete")?"Xa":xt,mt=xt=>dt[xt.toLowerCase()]||xt;return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-secondary-900 dark:text-white",children:"Nht k Hot ng"}),jsxRuntimeExports.jsx("p",{className:"text-secondary-500 dark:text-secondary-400",children:"Theo di cc thay i trong h thng"})]}),jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-secondary-800 rounded-xl p-4 shadow-sm border border-secondary-200 dark:border-secondary-700",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"relative flex-1",children:[jsxRuntimeExports.jsx(Filter,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-secondary-400"}),jsxRuntimeExports.jsxs("select",{value:st,onChange:xt=>it(xt.target.value),className:"w-full pl-10 pr-4 py-2 border border-secondary-200 dark:border-secondary-700 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Tt c hnh ng"}),jsxRuntimeExports.jsx("option",{value:"create",children:"To mi"}),jsxRuntimeExports.jsx("option",{value:"update",children:"Cp nht"}),jsxRuntimeExports.jsx("option",{value:"delete",children:"Xa"}),jsxRuntimeExports.jsx("option",{value:"login",children:"ng nhp"}),jsxRuntimeExports.jsx("option",{value:"export",children:"Xut bo co"})]})]}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("input",{type:"date",value:at,onChange:xt=>ot(xt.target.value),className:"px-4 py-2 border border-secondary-200 dark:border-secondary-700 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500"})})]})}),jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-secondary-800 rounded-xl shadow-sm border border-secondary-200 dark:border-secondary-700 overflow-hidden",children:rt?jsxRuntimeExports.jsx("div",{className:"p-8 text-center text-secondary-500",children:"ang ti..."}):_e.length===0?jsxRuntimeExports.jsxs("div",{className:"p-12 text-center",children:[jsxRuntimeExports.jsx(Activity,{className:"w-12 h-12 mx-auto text-secondary-300 mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-secondary-500",children:"Cha c nht k no"})]}):jsxRuntimeExports.jsx("div",{className:"divide-y divide-secondary-200 dark:divide-secondary-700",children:_e.map(xt=>{var yt,vt;return jsxRuntimeExports.jsx("div",{className:"p-4 hover:bg-secondary-50 dark:hover:bg-secondary-900/50 transition-colors",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-4",children:[jsxRuntimeExports.jsx("div",{className:`p-2 rounded-lg shrink-0 ${ct(xt.action)}`,children:jsxRuntimeExports.jsx(Activity,{className:"w-5 h-5"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between gap-4",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("p",{className:"font-medium text-secondary-900 dark:text-white",children:[pt(xt.action,xt.entity_type)," ",xt.entity_type?`- ${mt(xt.entity_type)}`:""]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 mt-1 text-sm text-secondary-500",children:[jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(User,{className:"w-3 h-3"}),((yt=xt.user)==null?void 0:yt.full_name)||((vt=xt.user)==null?void 0:vt.username)||"System"]}),jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Clock,{className:"w-3 h-3"}),new Date(xt.created_at).toLocaleString("vi-VN")]}),xt.ip_address&&jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1 text-xs bg-secondary-100 dark:bg-secondary-700 px-2 py-0.5 rounded",children:[jsxRuntimeExports.jsx(Monitor,{className:"w-3 h-3"}),xt.ip_address]})]})]})}),xt.details&&(()=>{try{const gt=JSON.parse(xt.details);return gt.diff?jsxRuntimeExports.jsxs("div",{className:"mt-2 text-sm bg-secondary-50 dark:bg-secondary-900 rounded-lg p-3",children:[jsxRuntimeExports.jsx("p",{className:"font-semibold text-xs text-secondary-500 uppercase mb-2",children:"Thay i:"}),jsxRuntimeExports.jsx("div",{className:"grid gap-2",children:Object.entries(gt.diff).map(([Et,jt])=>jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs",children:[jsxRuntimeExports.jsxs("span",{className:"font-medium text-secondary-700 dark:text-secondary-300 min-w-[100px]",children:[Et,":"]}),jsxRuntimeExports.jsx("span",{className:"bg-red-100 text-red-700 px-2 py-0.5 rounded line-through decoration-red-500/50",children:typeof jt.from=="object"?JSON.stringify(jt.from):String(jt.from)}),jsxRuntimeExports.jsx("span",{className:"text-secondary-400",children:""}),jsxRuntimeExports.jsx("span",{className:"bg-green-100 text-green-700 px-2 py-0.5 rounded font-medium",children:typeof jt.to=="object"?JSON.stringify(jt.to):String(jt.to)})]},Et))}),gt.updates&&Object.keys(gt.updates).length>0&&jsxRuntimeExports.jsxs("details",{className:"mt-2",children:[jsxRuntimeExports.jsx("summary",{className:"cursor-pointer text-xs text-secondary-400 hover:text-secondary-600",children:"Chi tit payload"}),jsxRuntimeExports.jsx("pre",{className:"mt-1 text-xs text-secondary-500 overflow-x-auto",children:JSON.stringify(gt.updates,null,2)})]})]}):jsxRuntimeExports.jsx("div",{className:"mt-2 p-3 bg-secondary-50 dark:bg-secondary-900 rounded-lg text-xs font-mono break-all text-secondary-600 dark:text-secondary-400",children:jsxRuntimeExports.jsx("pre",{className:"whitespace-pre-wrap font-sans",children:JSON.stringify(gt,null,2)})})}catch{return jsxRuntimeExports.jsx("div",{className:"mt-2 p-3 bg-secondary-50 dark:bg-secondary-900 rounded-lg text-xs font-mono break-all text-secondary-600 dark:text-secondary-400",children:xt.details})}})()]})]})},xt.id)})})})]})}function TransactionListPage(){const[_e,et]=reactExports.useState([]),[rt,nt]=reactExports.useState(!0),[st,it]=reactExports.useState(""),[at,ot]=reactExports.useState("all"),lt=async()=>{try{nt(!0);const ct=await paymentAPI.getTransactions({search:st,status:at!=="all"?at:void 0});ct.data.success&&et(ct.data.data)}catch(ct){console.error(ct),n$8.error("Khng th ti danh sch giao dch")}finally{nt(!1)}};return reactExports.useEffect(()=>{const ct=setTimeout(()=>{lt()},300);return()=>clearTimeout(ct)},[st,at]),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-secondary-900 dark:text-white",children:"Giao dch thanh ton"}),jsxRuntimeExports.jsx("p",{className:"text-secondary-500 dark:text-secondary-400",children:"Lch s thanh ton v i sot"})]}),jsxRuntimeExports.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700",children:[jsxRuntimeExports.jsx(ArrowDownLeft,{className:"w-4 h-4"}),"Xut bo co"]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-secondary-800 p-4 rounded-xl border border-secondary-200 dark:border-secondary-700 shadow-sm flex flex-col sm:flex-row gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"relative flex-1",children:[jsxRuntimeExports.jsx(Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-secondary-400"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Tm m giao dch, m n...",value:st,onChange:ct=>it(ct.target.value),className:"w-full pl-10 pr-4 py-2 border border-secondary-200 dark:border-secondary-700 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500"})]}),jsxRuntimeExports.jsxs("select",{value:at,onChange:ct=>ot(ct.target.value),className:"px-4 py-2 border border-secondary-200 dark:border-secondary-700 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500",children:[jsxRuntimeExports.jsx("option",{value:"all",children:"Tt c trng thi"}),jsxRuntimeExports.jsx("option",{value:"paid",children:"Thnh cng"}),jsxRuntimeExports.jsx("option",{value:"pending",children:"ang ch"}),jsxRuntimeExports.jsx("option",{value:"failed",children:"Tht bi"})]})]}),jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-secondary-800 rounded-xl shadow-sm border border-secondary-200 dark:border-secondary-700 overflow-hidden",children:rt?jsxRuntimeExports.jsx("div",{className:"p-12 text-center text-secondary-500",children:"ang ti d liu..."}):_e.length===0?jsxRuntimeExports.jsxs("div",{className:"p-12 text-center",children:[jsxRuntimeExports.jsx(CreditCard,{className:"w-12 h-12 mx-auto text-secondary-300 mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-secondary-500",children:"Cha c giao dch no"})]}):jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"w-full text-sm text-left",children:[jsxRuntimeExports.jsx("thead",{className:"bg-secondary-50 dark:bg-secondary-900 text-secondary-500 dark:text-secondary-400 font-medium",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-6 py-3 whitespace-nowrap",children:"M GD"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 whitespace-nowrap",children:"n hng"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 whitespace-nowrap",children:"Khch hng"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 whitespace-nowrap",children:"S tin"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 whitespace-nowrap",children:"Phng thc"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 whitespace-nowrap",children:"Trng thi"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-right whitespace-nowrap",children:"Thi gian"})]})}),jsxRuntimeExports.jsx("tbody",{className:"divide-y divide-secondary-200 dark:divide-secondary-700",children:_e.map(ct=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-900/50",children:[jsxRuntimeExports.jsx("td",{className:"px-6 py-4 font-mono text-secondary-600 dark:text-secondary-300",children:ct.transaction_ref||"---"}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 font-medium text-primary-600",children:ct.order_code}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 text-secondary-900 dark:text-white",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(User,{className:"w-4 h-4 text-secondary-400"}),ct.customer_name]})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 font-medium text-secondary-900 dark:text-white",children:new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(ct.amount)}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 capitalize",children:ct.method.replace("_"," ")}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4",children:jsxRuntimeExports.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-0.5 rounded-full text-xs font-medium
                        ${ct.status==="paid"?"bg-green-100 text-green-800":ct.status==="failed"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:[ct.status==="paid"?jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-3 h-3"}):ct.status==="failed"?jsxRuntimeExports.jsx(CircleX,{className:"w-3 h-3"}):jsxRuntimeExports.jsx(Clock,{className:"w-3 h-3"}),ct.status==="paid"?"Thnh cng":ct.status==="failed"?"Tht bi":"ang ch"]})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 text-right text-secondary-500 whitespace-nowrap",children:new Date(ct.created_at).toLocaleString("vi-VN")})]},ct.id))})]})})})]})}function ApiTestPage(){const[_e,et]=reactExports.useState({}),[rt,nt]=reactExports.useState({}),[st,it]=reactExports.useState({}),[at,ot]=reactExports.useState({"Xc thc (Auth)":!0,"Sn phm (Products)":!0,"Danh mc (Categories)":!0,"Gi hng (Cart)":!0,"n hng (Orders)":!0,"Thanh ton (Payment)":!0,"Admin Sn phm":!1,"Admin n hng":!1,"Admin Ngi dng":!1,"Admin Ty chn":!1,"Admin H thng":!1,"Admin Khc":!1,"Chat & Upload":!1,"Thng hiu (Brands)":!1,"M gim gi (Coupons)":!1,"nh gi (Reviews)":!1,Banner:!1}),lt=vt=>{ot(gt=>({...gt,[vt]:!gt[vt]}))},ct=(vt,gt)=>st[vt]!==void 0?st[vt]:gt?JSON.stringify(gt,null,2):"",ut=(vt,gt)=>{it(Et=>({...Et,[vt]:gt}))},dt=async(vt,gt)=>{const Et=`${vt}-${gt.name}`;nt(jt=>({...jt,[Et]:!0})),et(jt=>({...jt,[Et]:null}));try{let jt;const kt=ct(Et,gt.defaultParams);if(kt&&kt.trim())try{jt=JSON.parse(kt)}catch{zt.error("JSON khng hp l"),nt(_t=>({..._t,[Et]:!1}));return}const Rt=await gt.execute(jt);et(St=>({...St,[Et]:{success:!0,status:Rt.status,data:Rt.data}})),zt.success(`${gt.name} thnh cng`)}catch(jt){console.error(jt),et(kt=>{var Rt,St;return{...kt,[Et]:{success:!1,status:((Rt=jt.response)==null?void 0:Rt.status)||500,message:jt.message,data:(St=jt.response)==null?void 0:St.data}}}),zt.error(`${gt.name} tht bi`)}finally{nt(jt=>({...jt,[Et]:!1}))}},pt=vt=>{navigator.clipboard.writeText(JSON.stringify(vt,null,2)),zt.success(" sao chp vo clipboard")},mt="1",xt="ao-thun",yt=[{name:"Xc thc (Auth)",endpoints:[{name:"ng k (Demo)",method:"POST",path:"/auth/register",description:"ng k user mi",defaultParams:{username:`testuser_${Date.now()}`,email:`test_${Date.now()}@example.com`,password:"password123",full_name:"Test API User"},execute:vt=>authAPI.register(vt)},{name:"ng nhp (Demo)",method:"POST",path:"/auth/login",description:"ng nhp",defaultParams:{username:"admin",password:"password123"},execute:vt=>authAPI.login(vt.username,vt.password)},{name:"Ly thng tin (Me)",method:"GET",path:"/auth/me",description:"Ly thng tin user hin ti",execute:()=>authAPI.getMe()},{name:"Cp nht Profile",method:"PUT",path:"/auth/profile",description:"Cp nht thng tin profile",defaultParams:{full_name:"Updated Name API"},execute:vt=>authAPI.updateProfile(vt)}]},{name:"Sn phm (Products)",endpoints:[{name:"Ly tt c",method:"GET",path:"/products",description:"Ly danh sch sn phm",defaultParams:{limit:5},execute:vt=>productsAPI.getAll(vt)},{name:"Ly theo Slug",method:"GET",path:"/products/:slug",description:"Ly sn phm theo slug",defaultParams:{slug:xt},execute:vt=>productsAPI.getBySlug(vt.slug)},{name:"Ly theo ID",method:"GET",path:"/products/id/:id",description:"Ly sn phm theo ID",defaultParams:{id:mt},execute:vt=>productsAPI.getById(vt.id)},{name:"Hng mi v",method:"GET",path:"/products/new-arrivals",description:"Sn phm mi nht",defaultParams:{limit:4},execute:vt=>productsAPI.getNewArrivals(vt.limit)},{name:"Tm kim",method:"GET",path:"/products/search",description:"Tm kim t kha",defaultParams:{query:"ao"},execute:vt=>productsAPI.search(vt.query)}]},{name:"Danh mc (Categories)",endpoints:[{name:"Ly tt c",method:"GET",path:"/categories",description:"Danh sch danh mc",execute:()=>categoriesAPI.getAll()},{name:"Ly theo Slug",method:"GET",path:"/categories/:slug",description:"Chi tit danh mc",defaultParams:{slug:xt},execute:vt=>categoriesAPI.getBySlug(vt.slug)},{name:"Sn phm theo danh mc",method:"GET",path:"/categories/:slug/products",description:"Ly ds sn phm trong danh mc",defaultParams:{slug:xt,limit:5},execute:vt=>categoriesAPI.getProducts(vt.slug,{limit:vt.limit})}]},{name:"Gi hng (Cart)",endpoints:[{name:"Xem gi hng",method:"GET",path:"/cart",description:"Ly gi hng hin ti",execute:()=>cartAPI.get()}]},{name:"n hng (Orders)",endpoints:[{name:"Checkout (Test Only)",method:"POST",path:"/orders/checkout",description:"Th t hng",defaultParams:{customer_name:"Test API",customer_phone:"0900000000",ship_address_line1:"123 Test St",ship_city:"HCM",ship_province:"HCM"},execute:vt=>ordersAPI.checkout(vt)},{name:"Lch s mua hng",method:"GET",path:"/orders",description:"n hng ca user hin ti",defaultParams:{limit:5},execute:vt=>ordersAPI.getAll(vt)}]},{name:"Thanh ton (Payment)",endpoints:[{name:"To link thanh ton",method:"POST",path:"/payment/create_url",description:"To URL VNPay",defaultParams:{orderId:mt},execute:vt=>paymentAPI.createUrl(vt.orderId)},{name:"Lch s giao dch",method:"GET",path:"/payment/transactions",description:"Log giao dch thanh ton",execute:()=>paymentAPI.getTransactions()}]},{name:"Chat & Upload",endpoints:[{name:"Kim tra Chat AI",method:"GET",path:"/chat/health",description:"Ping server AI",execute:()=>chatAPI.checkHealth()},{name:"Gi tin nhn Chat",method:"POST",path:"/chat",description:"Gi tin ti AI",defaultParams:{message:"Xin cho, bn c khe khng?"},execute:vt=>chatAPI.send(vt.message)}]},{name:"Admin Sn phm",endpoints:[{name:"Danh sch (Admin)",method:"GET",path:"/admin/products",description:"Ly bng sn phm qun tr",defaultParams:{limit:5},execute:vt=>adminAPI.getProducts(vt)}]},{name:"Admin n hng",endpoints:[{name:"Danh sch (Admin)",method:"GET",path:"/admin/orders",description:"Qun l n hng",defaultParams:{limit:5},execute:vt=>adminAPI.getOrders(vt)},{name:"Chi tit n",method:"GET",path:"/admin/orders/:id",description:"Xem chi tit n hng",defaultParams:{id:mt},execute:vt=>adminAPI.getOrderById(vt.id)}]},{name:"Admin Ngi dng",endpoints:[{name:"Danh sch Users",method:"GET",path:"/admin/users",description:"Qun l ngi dng",defaultParams:{limit:5},execute:vt=>adminAPI.getUsers(vt)},{name:"Chi tit User",method:"GET",path:"/admin/users/:id",description:"Xem thng tin user",defaultParams:{id:mt},execute:vt=>adminAPI.getUserById(vt.id)}]},{name:"Admin H thng",endpoints:[{name:"Thng k",method:"GET",path:"/admin/dashboard",description:"S liu dashboard",execute:()=>adminAPI.getDashboard()},{name:"Phn tch (Analytics)",method:"GET",path:"/admin/analytics",description:"Bo co chi tit",execute:()=>adminAPI.getAnalytics()},{name:"Cu hnh",method:"GET",path:"/admin/settings",description:"Ci t h thng",execute:()=>adminAPI.getSettings()},{name:"Thng bo",method:"GET",path:"/admin/notifications",description:"Tt c thng bo",defaultParams:{limit:5},execute:vt=>adminAPI.getNotifications(vt)},{name:"Quyn hn",method:"GET",path:"/admin/permissions",description:"Danh sch phn quyn",execute:()=>adminAPI.getPermissions()}]},{name:"Thng hiu (Brands)",endpoints:[{name:"Ly (Public)",method:"GET",path:"/brands",description:"Ly danh sch thng hiu (Public)",execute:vt=>brandsAPI.getPublic(vt)},{name:"Ly tt c (Admin)",method:"GET",path:"/admin/brands",description:"Ly danh sch thng hiu (Admin)",execute:vt=>brandsAPI.getAll(vt)},{name:"Chi tit (Admin)",method:"GET",path:"/admin/brands/:id",description:"Chi tit thng hiu",defaultParams:{id:mt},execute:vt=>brandsAPI.getById(vt.id)}]},{name:"M gim gi (Coupons)",endpoints:[{name:"p dng m",method:"POST",path:"/admin/coupons/apply",description:"Kim tra m gim gi",defaultParams:{code:"TESTCOUPON",subtotal:5e5},execute:vt=>couponsAPI.apply(vt.code,vt.subtotal)}]},{name:"nh gi (Reviews)",endpoints:[{name:"Ly theo sn phm",method:"GET",path:"/reviews/product/:id",description:"Ly nh gi ca sn phm",defaultParams:{id:mt},execute:vt=>reviewsAPI.getByProduct(vt.id)},{name:"To nh gi",method:"POST",path:"/reviews",description:"Gi nh gi mi",defaultParams:{product_id:mt,rating:5,title:"Tuyt vi",content:"Sn phm rt tt"},execute:vt=>reviewsAPI.create(vt)}]},{name:"Banner",endpoints:[{name:"Ly banner",method:"GET",path:"/banners",description:"Ly danh sch banner",defaultParams:{position:"home_hero"},execute:vt=>bannersAPI.getAll(vt)}]}];return jsxRuntimeExports.jsxs("div",{className:"space-y-6 max-w-5xl mx-auto pb-12",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-2x font-bold text-secondary-900 dark:text-white",children:"API Test Playground"}),jsxRuntimeExports.jsx("p",{className:"text-secondary-500",children:"Cng c kim th v ti liu API"})]}),jsxRuntimeExports.jsx("div",{className:"flex gap-2",children:jsxRuntimeExports.jsx("button",{className:"btn-secondary text-xs",onClick:()=>et({}),children:"Xa kt qu"})})]}),jsxRuntimeExports.jsx("div",{className:"grid gap-6",children:yt.map(vt=>jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-xl border border-secondary-200 dark:border-secondary-700 overflow-hidden",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>lt(vt.name),className:"w-full flex items-center justify-between p-4 bg-secondary-50 dark:bg-secondary-900 text-left font-semibold",children:[jsxRuntimeExports.jsx("span",{children:vt.name}),at[vt.name]?jsxRuntimeExports.jsx(ChevronDown,{className:"w-5 h-5"}):jsxRuntimeExports.jsx(ChevronRight,{className:"w-5 h-5"})]}),at[vt.name]&&jsxRuntimeExports.jsx("div",{className:"divide-y divide-secondary-100 dark:divide-secondary-700",children:vt.endpoints.map(gt=>{const Et=`${vt.name}-${gt.name}`,jt=_e[Et],kt=rt[Et],Rt=ct(Et,gt.defaultParams),St=gt.defaultParams!==void 0;return jsxRuntimeExports.jsxs("div",{className:"p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-4 mb-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[jsxRuntimeExports.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-bold font-mono
                               ${gt.method==="GET"?"bg-blue-100 text-blue-700":gt.method==="POST"?"bg-green-100 text-green-700":gt.method==="PUT"?"bg-purple-100 text-purple-700":gt.method==="DELETE"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}
                             `,children:gt.method}),jsxRuntimeExports.jsx("code",{className:"text-sm bg-secondary-100 dark:bg-secondary-900 px-2 py-0.5 rounded text-secondary-700 dark:text-secondary-300",children:gt.path})]}),jsxRuntimeExports.jsx("h3",{className:"font-medium text-secondary-900 dark:text-white",children:gt.name}),jsxRuntimeExports.jsx("p",{className:"text-xs text-secondary-500 mb-2",children:gt.description}),St&&jsxRuntimeExports.jsxs("div",{className:"mt-2",children:[jsxRuntimeExports.jsxs("label",{className:"text-xs font-medium text-secondary-500 flex items-center gap-1 mb-1",children:[jsxRuntimeExports.jsx(Code$1,{className:"w-3 h-3"}),"Request Body / Params (JSON)"]}),jsxRuntimeExports.jsx("textarea",{value:Rt,onChange:_t=>ut(Et,_t.target.value),className:"w-full h-32 text-xs font-mono p-3 bg-secondary-50 dark:bg-black/30 border border-secondary-200 dark:border-secondary-700 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-y",placeholder:"{}"})]})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>dt(vt.name,gt),disabled:kt,className:"flex items-center gap-2 px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-lg text-sm font-medium disabled:opacity-50 transition-colors shrink-0 mt-6 md:mt-0",children:[kt?jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin"}):jsxRuntimeExports.jsx(Play,{className:"w-4 h-4"}),"Test"]})]}),jt&&jsxRuntimeExports.jsxs("div",{className:`mt-3 rounded-lg border overflow-hidden ${jt.success?"border-green-200 bg-green-50/50":"border-red-200 bg-red-50/50"}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between px-3 py-2 border-b border-gray-200 dark:border-gray-700 bg-white/50 dark:bg-black/20",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jt.success?jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-4 h-4 text-green-600"}):jsxRuntimeExports.jsx(CircleX,{className:"w-4 h-4 text-red-600"}),jsxRuntimeExports.jsxs("span",{className:`text-xs font-bold ${jt.success?"text-green-700":"text-red-700"}`,children:["Status: ",jt.status]})]}),jsxRuntimeExports.jsx("button",{onClick:()=>pt(jt.data),className:"p-1 hover:bg-gray-200 rounded",children:jsxRuntimeExports.jsx(Copy,{className:"w-3 h-3 text-gray-500"})})]}),jsxRuntimeExports.jsx("div",{className:"max-h-60 overflow-y-auto p-3",children:jsxRuntimeExports.jsx("pre",{className:"text-xs font-mono text-secondary-800 dark:text-secondary-200 whitespace-pre-wrap",children:JSON.stringify(jt.data,null,2)})})]})]},gt.name)})})]},vt.name))})]})}function AdminChatPage(){const{isConnected:_e,isAdminConnected:et,conversations:rt,messages:nt,conversationId:st,typingUser:it,joinConversation:at,sendMessage:ot,closeConversation:lt,refreshConversations:ct,joinAdminRoom:ut,setTyping:dt,openBubble:pt}=useSocket(),[mt,xt]=reactExports.useState(""),[yt,vt]=reactExports.useState(""),[gt,Et]=reactExports.useState("all"),[jt,kt]=reactExports.useState(!0),[Rt,St]=reactExports.useState(!1),_t=reactExports.useRef(null),Nt=reactExports.useRef(null);reactExports.useEffect(()=>{_e&&ut()},[_e,ut]),reactExports.useEffect(()=>{const Ot=setInterval(()=>{_e&&ct()},1e4);return()=>clearInterval(Ot)},[_e,ct]),reactExports.useEffect(()=>{const Ot=Nt.current;Ot&&(Ot.scrollTop=Ot.scrollHeight)},[st]),reactExports.useEffect(()=>{const Ot=Nt.current;Ot&&Ot.scrollHeight-Ot.scrollTop-Ot.clientHeight<150&&Ot.scrollTo({top:Ot.scrollHeight,behavior:"smooth"})},[nt]);const Lt=()=>{mt.trim()&&(ot(mt),xt(""))},$t=Ot=>{xt(Ot.target.value),dt(Ot.target.value.length>0)},Ft=()=>{st&&lt(st)},Tt=()=>{st&&pt(st)},Bt=rt.filter(Ot=>gt==="waiting"?Ot.status==="waiting":gt==="active"?Ot.status==="active":gt==="closed"?Ot.status==="closed":Ot.status!=="closed").filter(Ot=>{var Dt,Pt,It;return((Dt=Ot.guestName)==null?void 0:Dt.toLowerCase().includes(yt.toLowerCase()))||((Pt=Ot.userId)==null?void 0:Pt.includes(yt))||((It=Ot.lastMessage)==null?void 0:It.toLowerCase().includes(yt.toLowerCase()))}),Wt=rt.find(Ot=>Ot.id===st),qt=Ot=>{switch(Ot){case"waiting":return jsxRuntimeExports.jsx("span",{className:"px-2 py-0.5 rounded-full bg-yellow-100 text-yellow-700 text-[10px] font-medium border border-yellow-200",children:"ang ch"});case"active":return jsxRuntimeExports.jsx("span",{className:"px-2 py-0.5 rounded-full bg-green-100 text-green-700 text-[10px] font-medium border border-green-200",children:"ang chat"});case"closed":return jsxRuntimeExports.jsx("span",{className:"px-2 py-0.5 rounded-full bg-secondary-100 text-secondary-600 text-[10px] font-medium border border-secondary-200",children:" ng"});default:return null}};return jsxRuntimeExports.jsxs("div",{className:"h-[calc(100vh-100px)] flex bg-white dark:bg-secondary-800 rounded-xl shadow-sm border border-secondary-200 dark:border-secondary-700 overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"w-80 flex flex-col border-r border-secondary-200 dark:border-secondary-700",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b border-secondary-200 dark:border-secondary-700",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4",children:[jsxRuntimeExports.jsxs("h2",{className:"font-bold text-secondary-900 dark:text-white flex items-center gap-2",children:[jsxRuntimeExports.jsx(MessageCircle,{className:"w-5 h-5 text-primary-600"}),"Tin nhn"]}),jsxRuntimeExports.jsxs("div",{className:`flex items-center gap-1.5 px-2 py-1 rounded-full text-xs font-medium ${_e?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[jsxRuntimeExports.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${_e?"bg-green-500":"bg-red-500"}`}),_e?"Online":"Offline"]})]}),jsxRuntimeExports.jsx("div",{className:"flex gap-1 mb-3 p-1 bg-secondary-50 dark:bg-secondary-700 rounded-lg",children:["all","waiting","active"].map(Ot=>jsxRuntimeExports.jsx("button",{onClick:()=>Et(Ot),className:`flex-1 py-1.5 text-xs font-medium rounded-md transition-all ${gt===Ot?"bg-white dark:bg-secondary-600 text-secondary-900 dark:text-white shadow-sm":"text-secondary-500 hover:text-secondary-700 dark:hover:text-secondary-300"}`,children:Ot==="all"?"Tt c":Ot==="waiting"?"Ch x l":"ang chat"},Ot))}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-secondary-400"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Tm khch hng...",value:yt,onChange:Ot=>vt(Ot.target.value),className:"w-full pl-9 pr-4 py-2 bg-secondary-50 dark:bg-secondary-700 border border-secondary-200 dark:border-secondary-600 rounded-lg text-sm focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none transition-all"})]})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-y-auto",children:Bt.length===0?jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center h-48 text-secondary-400",children:[jsxRuntimeExports.jsx(MessageCircle,{className:"w-10 h-10 mb-2 opacity-20"}),jsxRuntimeExports.jsx("p",{className:"text-sm",children:"Khng tm thy cuc hi thoi"})]}):Bt.map(Ot=>{var Dt,Pt;return jsxRuntimeExports.jsxs("button",{onClick:()=>at(Ot.id),className:`w-full p-4 flex gap-3 text-left border-b border-secondary-50 dark:border-secondary-700/50 hover:bg-secondary-50 dark:hover:bg-secondary-700/50 transition-colors ${st===Ot.id?"bg-primary-50 dark:bg-primary-900/10 border-l-4 border-l-primary-600":"border-l-4 border-l-transparent"}`,children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-indigo-100 to-purple-100 dark:from-indigo-900 dark:to-purple-900 flex items-center justify-center text-primary-700 dark:text-primary-300 font-semibold text-sm overflow-hidden border border-secondary-200 dark:border-secondary-700",children:Ot.avatarUrl?jsxRuntimeExports.jsx("img",{src:Ot.avatarUrl,alt:Ot.guestName||"User",className:"w-full h-full object-cover",onError:It=>{var At;It.currentTarget.style.display="none",It.currentTarget.parentElement.innerText=(((At=Ot.guestName)==null?void 0:At[0])||"K").toUpperCase()}}):(((Dt=Ot.guestName)==null?void 0:Dt[0])||"K").toUpperCase()}),Ot.status==="active"&&jsxRuntimeExports.jsx("span",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-white dark:bg-secondary-800 rounded-full flex items-center justify-center",children:jsxRuntimeExports.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"})})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start mb-0.5",children:[jsxRuntimeExports.jsx("span",{className:"font-semibold text-sm text-secondary-900 dark:text-white truncate pr-2",children:Ot.guestName||`Khch ${((Pt=Ot.userId)==null?void 0:Pt.slice(-4))||""}`}),jsxRuntimeExports.jsx("span",{className:"text-[10px] text-secondary-400 whitespace-nowrap",children:formatDistanceToNow(Ot.createdAt,{addSuffix:!1,locale:vi}).replace("khong ","")})]}),jsxRuntimeExports.jsx("p",{className:`text-xs truncate ${Ot.status==="waiting"?"font-medium text-secondary-900 dark:text-white":"text-secondary-500 dark:text-secondary-400"}`,children:Ot.lastMessage||"Bt u cuc tr chuyn mi"}),jsxRuntimeExports.jsx("div",{className:"mt-1.5 flex items-center gap-2",children:qt(Ot.status)})]})]},Ot.id)})})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 flex flex-col min-w-0 bg-secondary-50/50 dark:bg-secondary-900/50",children:st&&Wt?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"h-16 px-6 border-b border-secondary-200 dark:border-secondary-700 flex items-center justify-between bg-white dark:bg-secondary-800",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-full bg-secondary-100 dark:bg-secondary-700 flex items-center justify-center",children:jsxRuntimeExports.jsx(User,{className:"w-5 h-5 text-secondary-600"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-bold text-secondary-900 dark:text-white",children:Wt.guestName||"Khch hng"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1.5",children:[Wt.status==="active"&&jsxRuntimeExports.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-500 animate-pulse"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-secondary-500",children:it?"ang nhp...":"ang trc tuyn"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:Tt,className:"p-2 text-secondary-500 hover:bg-secondary-50 dark:hover:bg-secondary-700 rounded-lg transition-colors",title:"M ca s chat thu nh",children:jsxRuntimeExports.jsx(Maximize2,{className:"w-5 h-5"})}),jsxRuntimeExports.jsx("div",{className:"h-6 w-px bg-secondary-200 dark:bg-secondary-700 mx-1"}),jsxRuntimeExports.jsx("button",{onClick:()=>kt(!jt),className:`p-2 rounded-lg transition-colors ${jt?"bg-secondary-100 text-secondary-900 dark:bg-secondary-700 dark:text-white":"text-secondary-500 hover:bg-secondary-50 dark:hover:bg-secondary-700"}`,children:jsxRuntimeExports.jsx(CircleAlert,{className:"w-5 h-5"})}),jsxRuntimeExports.jsx("div",{className:"h-6 w-px bg-secondary-200 dark:bg-secondary-700 mx-1"}),jsxRuntimeExports.jsx("button",{onClick:()=>St(!0),className:"px-3 py-1.5 text-xs font-medium text-white bg-red-600 hover:bg-red-700 rounded-lg transition-colors shadow-sm",children:"Kt thc"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",ref:Nt,children:[nt.map((Ot,Dt)=>{const Pt=Ot.senderType==="admin",It=Ot.senderType==="system",At=!It&&(Dt===0||nt[Dt-1].senderType!==Ot.senderType);return It?jsxRuntimeExports.jsx("div",{className:"flex justify-center my-4",children:jsxRuntimeExports.jsx("span",{className:"px-3 py-1 bg-secondary-100 dark:bg-secondary-700 text-secondary-500 text-xs rounded-full",children:Ot.content})},Ot.id):jsxRuntimeExports.jsxs("div",{className:`flex gap-3 ${Pt?"justify-end":"justify-start"} group`,children:[!Pt&&jsxRuntimeExports.jsx("div",{className:`w-8 h-8 rounded-full flex-shrink-0 flex items-center justify-center overflow-hidden ${At?"bg-secondary-200 dark:bg-secondary-700":"opacity-0"}`,children:Wt!=null&&Wt.avatarUrl?jsxRuntimeExports.jsx("img",{src:Wt.avatarUrl,alt:"",className:"w-full h-full object-cover"}):jsxRuntimeExports.jsx(User,{className:"w-4 h-4 text-secondary-600"})}),jsxRuntimeExports.jsxs("div",{className:`flex flex-col ${Pt?"items-end":"items-start"} max-w-[70%]`,children:[jsxRuntimeExports.jsx("div",{className:`px-4 py-2.5 rounded-2xl shadow-sm text-sm whitespace-pre-wrap leading-relaxed ${Pt?"bg-primary-600 text-white rounded-tr-sm":"bg-white dark:bg-secondary-800 text-secondary-900 dark:text-white rounded-tl-sm border border-secondary-100 dark:border-secondary-700"}`,children:Ot.content}),jsxRuntimeExports.jsx("span",{className:"text-[10px] text-secondary-400 mt-1 opacity-0 group-hover:opacity-100 transition-opacity",children:Ot.createdAt.toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"})})]}),Pt&&jsxRuntimeExports.jsx("div",{className:`w-8 h-8 rounded-full flex-shrink-0 flex items-center justify-center ${At?"bg-primary-100":"opacity-0"}`,children:jsxRuntimeExports.jsx(MessageCircle,{className:"w-4 h-4 text-primary-600"})})]},Ot.id)}),jsxRuntimeExports.jsx("div",{ref:_t})]}),jsxRuntimeExports.jsx("div",{className:"p-4 bg-white dark:bg-secondary-800 border-t border-secondary-200 dark:border-secondary-700",children:jsxRuntimeExports.jsxs("div",{className:"flex items-end gap-2",children:[jsxRuntimeExports.jsx("div",{className:"flex-1 bg-secondary-50 dark:bg-secondary-700/50 rounded-2xl border border-secondary-200 dark:border-secondary-600 focus-within:ring-2 focus-within:ring-primary-500 focus-within:border-transparent transition-all",children:jsxRuntimeExports.jsx("input",{type:"text",value:mt,onChange:$t,onKeyPress:Ot=>Ot.key==="Enter"&&Lt(),placeholder:"Nhp tin nhn...",className:"w-full px-4 py-3 bg-transparent border-0 focus:ring-0 focus:outline-none text-sm placeholder-secondary-400 text-secondary-900 dark:text-white"})}),jsxRuntimeExports.jsx("button",{onClick:Lt,disabled:!mt.trim(),className:"p-3 bg-primary-600 hover:bg-primary-700 disabled:opacity-50 disabled:hover:bg-primary-600 text-white rounded-xl shadow-lg shadow-primary-600/20 transition-all flex-shrink-0",children:jsxRuntimeExports.jsx(Send,{className:"w-5 h-5"})})]})})]}):jsxRuntimeExports.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-secondary-400",children:[jsxRuntimeExports.jsx("div",{className:"w-24 h-24 bg-secondary-100 dark:bg-secondary-700 rounded-full flex items-center justify-center mb-6",children:jsxRuntimeExports.jsx(MessageCircle,{className:"w-12 h-12 text-secondary-300 dark:text-secondary-500"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold text-secondary-900 dark:text-white mb-2",children:"Xin cho Admin"}),jsxRuntimeExports.jsx("p",{className:"max-w-xs text-center text-secondary-500 mb-8",children:"Chn mt cuc hi thoi t danh sch bn tri  bt u h tr khch hng."}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:rt.filter(Ot=>Ot.status==="waiting").length}),jsxRuntimeExports.jsx("p",{className:"text-xs text-secondary-500 uppercase font-semibold mt-1",children:"ang ch"})]}),jsxRuntimeExports.jsx("div",{className:"w-px h-10 bg-secondary-200 dark:bg-secondary-700"}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-green-600",children:rt.filter(Ot=>Ot.status==="active").length}),jsxRuntimeExports.jsx("p",{className:"text-xs text-secondary-500 uppercase font-semibold mt-1",children:"ang chat"})]})]})]})}),jt&&st&&Wt&&jsxRuntimeExports.jsxs("div",{className:"w-72 border-l border-secondary-200 dark:border-secondary-700 bg-white dark:bg-secondary-800 p-6 flex flex-col animate-slide-in-right",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-6",children:[jsxRuntimeExports.jsx("div",{className:"w-20 h-20 bg-secondary-100 dark:bg-secondary-700 rounded-full flex items-center justify-center mx-auto mb-3 overflow-hidden border border-secondary-200 dark:border-secondary-600",children:Wt.avatarUrl?jsxRuntimeExports.jsx("img",{src:Wt.avatarUrl,alt:Wt.guestName||"User Avatar",className:"w-full h-full object-cover"}):jsxRuntimeExports.jsx(User,{className:"w-10 h-10 text-secondary-400"})}),jsxRuntimeExports.jsx("h3",{className:"font-bold text-lg text-secondary-900 dark:text-white",children:Wt.guestName||"Khch vng lai"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-secondary-500",children:Wt.userId?`ID: ${Wt.userId}`:"Cha ng nhp"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"text-xs font-semibold text-secondary-400 uppercase mb-3 tracking-wider",children:"Thng tin lin h"}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 text-sm text-secondary-600 dark:text-secondary-300",children:[jsxRuntimeExports.jsx(Mail,{className:"w-4 h-4 text-secondary-400"}),jsxRuntimeExports.jsx("span",{className:"truncate",children:Wt.guestEmail||"Cha cung cp"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 text-sm text-secondary-600 dark:text-secondary-300",children:[jsxRuntimeExports.jsx(Phone,{className:"w-4 h-4 text-secondary-400"}),jsxRuntimeExports.jsx("span",{children:"Cha cung cp"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 text-sm text-secondary-600 dark:text-secondary-300",children:[jsxRuntimeExports.jsx(MapPin,{className:"w-4 h-4 text-secondary-400"}),jsxRuntimeExports.jsx("span",{children:"Vit Nam"})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"text-xs font-semibold text-secondary-400 uppercase mb-3 tracking-wider",children:"Thng tin phin"}),jsxRuntimeExports.jsxs("div",{className:"p-3 bg-secondary-50 dark:bg-secondary-700/50 rounded-lg space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-xs",children:[jsxRuntimeExports.jsx("span",{className:"text-secondary-500",children:"Bt u:"}),jsxRuntimeExports.jsx("span",{className:"font-medium text-secondary-900 dark:text-white",children:new Date(Wt.createdAt).toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"})})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-xs",children:[jsxRuntimeExports.jsx("span",{className:"text-secondary-500",children:"Trng thi:"}),jsxRuntimeExports.jsx("span",{className:`font-medium ${Wt.status==="active"?"text-green-600":"text-yellow-600"}`,children:Wt.status==="active"?"ang hot ng":"Ch x l"})]})]})]})]})]}),jsxRuntimeExports.jsx(ConfirmModal,{isOpen:Rt,onClose:()=>St(!1),onConfirm:Ft,title:"ng cuc hi thoi",message:"Bn c chc chn mun kt thc cuc hi thoi ny khng?",confirmText:"ng  ng",cancelText:"Tip tc h tr",isDestructive:!0})]})}function ProtectedRoute({children:_e}){const{isAuthenticated:et,isLoading:rt,user:nt}=useAuth();return rt?jsxRuntimeExports.jsx(LoadingScreen,{message:"ang xc thc..."}):et?(nt==null?void 0:nt.status)==="blocked"?(n$8.error("Ti khon ca bn  b kha"),jsxRuntimeExports.jsx(Navigate,{to:"/login",replace:!0})):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:_e}):jsxRuntimeExports.jsx(Navigate,{to:"/login",replace:!0})}function RoleRoute({children:_e,allowedRoles:et}){const{user:rt,isLoading:nt,isAuthenticated:st}=useAuth();return nt?jsxRuntimeExports.jsx(LoadingScreen,{message:"ang kim tra quyn truy cp..."}):st?(rt==null?void 0:rt.status)==="blocked"?(n$8.error("Ti khon ca bn  b kha"),jsxRuntimeExports.jsx(Navigate,{to:"/login",replace:!0})):et&&et.length>0&&(!(rt!=null&&rt.role)||!et.includes(rt.role))?jsxRuntimeExports.jsx(Navigate,{to:"/",replace:!0}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:_e}):jsxRuntimeExports.jsx(Navigate,{to:"/login",replace:!0})}function App(){return jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsxs(Route,{path:"/admin",element:jsxRuntimeExports.jsx(RoleRoute,{allowedRoles:["admin","manager","staff"],children:jsxRuntimeExports.jsx(AdminLayout,{})}),children:[jsxRuntimeExports.jsx(Route,{index:!0,element:jsxRuntimeExports.jsx(Navigate,{to:"dashboard",replace:!0})}),jsxRuntimeExports.jsx(Route,{path:"dashboard",element:jsxRuntimeExports.jsx(DashboardPage,{})}),jsxRuntimeExports.jsx(Route,{path:"products",element:jsxRuntimeExports.jsx(ProductListPage,{})}),jsxRuntimeExports.jsx(Route,{path:"products/new",element:jsxRuntimeExports.jsx(AddProductPage,{})}),jsxRuntimeExports.jsx(Route,{path:"products/:id",element:jsxRuntimeExports.jsx(EditProductPage,{})}),jsxRuntimeExports.jsx(Route,{path:"orders",element:jsxRuntimeExports.jsx(OrderListPage,{})}),jsxRuntimeExports.jsx(Route,{path:"orders/:id",element:jsxRuntimeExports.jsx(OrderDetailPage,{})}),jsxRuntimeExports.jsx(Route,{path:"customers",element:jsxRuntimeExports.jsx(CustomerListPage,{})}),jsxRuntimeExports.jsx(Route,{path:"customers/:id",element:jsxRuntimeExports.jsx(CustomerDetailPage,{})}),jsxRuntimeExports.jsx(Route,{path:"analytics",element:jsxRuntimeExports.jsx(AnalyticsPage,{})}),jsxRuntimeExports.jsx(Route,{path:"settings",element:jsxRuntimeExports.jsx(SettingsPage,{})}),jsxRuntimeExports.jsx(Route,{path:"categories",element:jsxRuntimeExports.jsx(CategoryPage,{})}),jsxRuntimeExports.jsx(Route,{path:"notifications",element:jsxRuntimeExports.jsx(NotificationPage,{})}),jsxRuntimeExports.jsx(Route,{path:"coupons",element:jsxRuntimeExports.jsx(CouponListPage,{})}),jsxRuntimeExports.jsx(Route,{path:"coupons/:id",element:jsxRuntimeExports.jsx(CouponDetailPage,{})}),jsxRuntimeExports.jsx(Route,{path:"brands",element:jsxRuntimeExports.jsx(BrandListPage,{})}),jsxRuntimeExports.jsx(Route,{path:"brands/:id",element:jsxRuntimeExports.jsx(BrandDetailPage,{})}),jsxRuntimeExports.jsx(Route,{path:"reviews",element:jsxRuntimeExports.jsx(ReviewListPage,{})}),jsxRuntimeExports.jsx(Route,{path:"shipping",element:jsxRuntimeExports.jsx(ShippingPage,{})}),jsxRuntimeExports.jsx(Route,{path:"banners",element:jsxRuntimeExports.jsx(BannerListPage,{})}),jsxRuntimeExports.jsx(Route,{path:"staff",element:jsxRuntimeExports.jsx(StaffListPage,{})}),jsxRuntimeExports.jsx(Route,{path:"transactions",element:jsxRuntimeExports.jsx(TransactionListPage,{})}),jsxRuntimeExports.jsx(Route,{path:"api-test",element:jsxRuntimeExports.jsx(ApiTestPage,{})}),jsxRuntimeExports.jsx(Route,{path:"logs",element:jsxRuntimeExports.jsx(ActivityLogPage,{})}),jsxRuntimeExports.jsx(Route,{path:"chat",element:jsxRuntimeExports.jsx(AdminChatPage,{})})]}),jsxRuntimeExports.jsx(Route,{path:"/login",element:jsxRuntimeExports.jsx(LoginPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/register",element:jsxRuntimeExports.jsx(RegisterPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/forgot-password",element:jsxRuntimeExports.jsx(ForgotPasswordPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/reset-password",element:jsxRuntimeExports.jsx(ResetPasswordPage,{})}),jsxRuntimeExports.jsxs(Route,{path:"/",element:jsxRuntimeExports.jsx(Layout,{}),children:[jsxRuntimeExports.jsx(Route,{index:!0,element:jsxRuntimeExports.jsx(HomePage,{})}),jsxRuntimeExports.jsx(Route,{path:"shop",element:jsxRuntimeExports.jsx(ShopPage,{})}),jsxRuntimeExports.jsx(Route,{path:"sale",element:jsxRuntimeExports.jsx(SalePage,{})}),jsxRuntimeExports.jsx(Route,{path:"products/:slug",element:jsxRuntimeExports.jsx(ProductDetailPage,{})}),jsxRuntimeExports.jsx(Route,{path:"cart",element:jsxRuntimeExports.jsx(CartPage,{})}),jsxRuntimeExports.jsx(Route,{path:"checkout",element:jsxRuntimeExports.jsx(ProtectedRoute,{children:jsxRuntimeExports.jsx(CheckoutPage,{})})}),jsxRuntimeExports.jsx(Route,{path:"orders",element:jsxRuntimeExports.jsx(ProtectedRoute,{children:jsxRuntimeExports.jsx(OrderHistoryPage,{})})}),jsxRuntimeExports.jsx(Route,{path:"orders/:orderId",element:jsxRuntimeExports.jsx(ProtectedRoute,{children:jsxRuntimeExports.jsx(OrderDetailPage$1,{})})}),jsxRuntimeExports.jsx(Route,{path:"profile",element:jsxRuntimeExports.jsx(ProtectedRoute,{children:jsxRuntimeExports.jsx(ProfilePage,{})})}),jsxRuntimeExports.jsx(Route,{path:"wishlist",element:jsxRuntimeExports.jsx(ProtectedRoute,{children:jsxRuntimeExports.jsx(WishlistPage,{})})}),jsxRuntimeExports.jsx(Route,{path:"order-success/:orderCode",element:jsxRuntimeExports.jsx(OrderSuccessPage,{})}),jsxRuntimeExports.jsx(Route,{path:"checkout/payment/:orderId",element:jsxRuntimeExports.jsx(OrderPaymentPage,{})}),jsxRuntimeExports.jsx(Route,{path:"payment/vnpay-return",element:jsxRuntimeExports.jsx(PaymentReturnPage,{})}),jsxRuntimeExports.jsx(Route,{path:"about",element:jsxRuntimeExports.jsx(AboutPage,{})}),jsxRuntimeExports.jsx(Route,{path:"contact",element:jsxRuntimeExports.jsx(ContactPage,{})}),jsxRuntimeExports.jsx(Route,{path:"policy",element:jsxRuntimeExports.jsx(PolicyPage,{})}),jsxRuntimeExports.jsx(Route,{path:"*",element:jsxRuntimeExports.jsx(NotFoundPage,{})})]})]})}function NotFoundPage(){return jsxRuntimeExports.jsxs("div",{className:"container-custom py-16 text-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-6xl font-bold text-secondary-300 mb-4",children:"404"}),jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-secondary-800 mb-4",children:"Trang khng tn ti"}),jsxRuntimeExports.jsx("p",{className:"text-secondary-500 mb-8",children:"Xin li, trang bn tm kim khng tn ti."}),jsxRuntimeExports.jsx("a",{href:"/",className:"btn btn-primary rounded-full",children:"V trang ch"})]})}const GOOGLE_CLIENT_ID="";createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(reactExports.StrictMode,{children:jsxRuntimeExports.jsx(HelmetProvider,{children:jsxRuntimeExports.jsx(BrowserRouter,{children:jsxRuntimeExports.jsx(GoogleOAuthProvider,{clientId:GOOGLE_CLIENT_ID,children:jsxRuntimeExports.jsx(SettingsProvider,{children:jsxRuntimeExports.jsx(AuthProvider,{children:jsxRuntimeExports.jsx(SocketProvider,{children:jsxRuntimeExports.jsx(CartProvider,{children:jsxRuntimeExports.jsx(WishlistProvider,{children:jsxRuntimeExports.jsxs(ThemeProvider,{children:[jsxRuntimeExports.jsx(Fe$1,{position:"top-center",reverseOrder:!1}),jsxRuntimeExports.jsx(App,{})]})})})})})})})})})}));
